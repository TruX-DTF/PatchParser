<!doctype html>
<html lang="en">
 <head> 
  <meta charset="utf-8"> 
  <meta http-equiv="X-UA-Compatible" content="IE=Edge"> 
  <meta name="application-name" content="JIRA" data-name="jira" data-version="7.6.3">
  <meta name="ajs-viewissue-use-history-api" content="false"> 
  <meta name="ajs-jira-base-url" content="https://issues.apache.org/jira"> 
  <meta name="ajs-serverRenderedViewIssue" content="true"> 
  <meta name="ajs-dev-mode" content="false"> 
  <meta name="ajs-context-path" content="/jira"> 
  <meta name="ajs-version-number" content="7.6.3"> 
  <meta name="ajs-build-number" content="76005"> 
  <meta name="ajs-is-beta" content="false"> 
  <meta name="ajs-is-rc" content="false"> 
  <meta name="ajs-is-snapshot" content="false"> 
  <meta name="ajs-is-milestone" content="false"> 
  <meta name="ajs-remote-user" content=""> 
  <meta name="ajs-remote-user-fullname" content=""> 
  <meta name="ajs-user-locale" content="en_UK"> 
  <meta name="ajs-user-locale-group-separator" content=","> 
  <meta name="ajs-app-title" content="ASF JIRA"> 
  <meta name="ajs-keyboard-shortcuts-enabled" content="true"> 
  <meta name="ajs-keyboard-accesskey-modifier" content="Ctrl+Alt"> 
  <meta name="ajs-enabled-dark-features" content="[&quot;com.atlassian.jira.agile.darkfeature.editable.detailsview&quot;,&quot;nps.survey.inline.dialog&quot;,&quot;com.atlassian.jira.agile.darkfeature.edit.closed.sprint.enabled&quot;,&quot;jira.plugin.devstatus.phasetwo&quot;,&quot;jira.frother.reporter.field&quot;,&quot;atlassian.rest.xsrf.legacy.enabled&quot;,&quot;jira.issue.status.lozenge&quot;,&quot;com.atlassian.jira.config.BIG_PIPE&quot;,&quot;com.atlassian.jira.projects.issuenavigator&quot;,&quot;com.atlassian.jira.config.PDL&quot;,&quot;jira.plugin.devstatus.phasetwo.enabled&quot;,&quot;atlassian.aui.raphael.disabled&quot;,&quot;app-switcher.new&quot;,&quot;frother.assignee.field&quot;,&quot;com.atlassian.jira.projects.ProjectCentricNavigation.Switch&quot;,&quot;sd.internal.base.off.thread.on.completion.events.enabled&quot;,&quot;jira.onboarding.cyoa&quot;,&quot;com.atlassian.jira.agile.darkfeature.kanplan.enabled&quot;,&quot;sd.slavalue.record.updated.date.enabled&quot;,&quot;com.atlassian.jira.config.ProjectConfig.MENU&quot;,&quot;com.atlassian.jira.projects.sidebar.DEFER_RESOURCES&quot;,&quot;com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions.enabled&quot;,&quot;com.atlassian.jira.agile.darkfeature.sprint.goal.enabled&quot;,&quot;jira.zdu.admin-updates-ui&quot;,&quot;jira.zdu.jmx-monitoring&quot;,&quot;sd.sla.improved.rendering.enabled&quot;,&quot;sd.canned.responses.enabled&quot;,&quot;sd.new.settings.sidebar.location.disabled&quot;,&quot;jira.zdu.cluster-upgrade-state&quot;,&quot;com.atlassian.jira.agile.darkfeature.splitissue&quot;,&quot;com.atlassian.jira.config.CoreFeatures.LICENSE_ROLES_ENABLED&quot;,&quot;com.atlassian.feedback.feedback-button-move-to-header-enable&quot;,&quot;jira.export.csv.enabled&quot;]"> 
  <meta name="ajs-in-admin-mode" content="false"> 
  <meta name="ajs-is-sysadmin" content="false"> 
  <meta name="ajs-is-admin" content="false"> 
  <meta name="ajs-outgoing-mail-enabled" content="true"> 
  <meta name="ajs-date-relativize" content="true"> 
  <meta name="ajs-date-time" content="HH:mm"> 
  <meta name="ajs-date-day" content="EEEE HH:mm"> 
  <meta name="ajs-date-dmy" content="dd/MMM/yy"> 
  <meta name="ajs-date-complete" content="dd/MMM/yy HH:mm"> 
  <script type="text/javascript">var AJS=AJS||{};AJS.debug=true;</script> 
  <meta id="atlassian-token" name="atlassian-token" content="A5KQ-2QAV-T4JA-FDED|0f3fac060f5fa6cf50aa1878267865b6a1ba1ae1|lout"> 
  <link rel="shortcut icon" href="/jira/s/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/_/favicon.ico"> 
  <!--[if IE]><![endif]--> 
  <script type="text/javascript">
    (function() {
        var contextPath = '/jira';
        var eventBuffer = [];

        function printDeprecatedMsg() {
            if (console && console.warn) {
                console.warn('DEPRECATED JS - contextPath global variable has been deprecated since 7.4.0. Use `wrm/context-path` module instead.');
            }
        }

        function sendEvent(analytics, postfix) {
            analytics.send({
                name: 'js.globals.contextPath.' + postfix
            });
        }

        function sendDeprecatedEvent(postfix) {
            try {
                var analytics = require('jira/analytics');
                if (eventBuffer.length) {
                    eventBuffer.forEach(function(value) {
                        sendEvent(analytics, value);
                    });
                    eventBuffer = [];
                }

                if (postfix) {
                    sendEvent(analytics, postfix);
                }
            } catch(ex) {
                eventBuffer.push(postfix);
                setTimeout(sendDeprecatedEvent, 1000);
            }
        }

        Object.defineProperty(window, 'contextPath', {
            get: function() {
                printDeprecatedMsg();
                sendDeprecatedEvent('get');
                return contextPath;
            },
            set: function(value) {
                printDeprecatedMsg();
                sendDeprecatedEvent('set');
                contextPath = value;
            }
        });
    })();

</script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["com.atlassian.plugins.atlassian-plugins-webresource-plugin:context-path.context-path"]="\"/jira\"";
WRM._unparsedData["jira.webresources:feature-flags.feature-flag-data"]="{\"enabled-feature-keys\":[\"com.atlassian.jira.agile.darkfeature.editable.detailsview\",\"nps.survey.inline.dialog\",\"com.atlassian.jira.agile.darkfeature.edit.closed.sprint.enabled\",\"jira.plugin.devstatus.phasetwo\",\"jira.frother.reporter.field\",\"atlassian.rest.xsrf.legacy.enabled\",\"jira.issue.status.lozenge\",\"com.atlassian.jira.config.BIG_PIPE\",\"com.atlassian.jira.projects.issuenavigator\",\"com.atlassian.jira.config.PDL\",\"jira.plugin.devstatus.phasetwo.enabled\",\"atlassian.aui.raphael.disabled\",\"app-switcher.new\",\"frother.assignee.field\",\"com.atlassian.jira.projects.ProjectCentricNavigation.Switch\",\"sd.internal.base.off.thread.on.completion.events.enabled\",\"jira.onboarding.cyoa\",\"com.atlassian.jira.agile.darkfeature.kanplan.enabled\",\"sd.slavalue.record.updated.date.enabled\",\"com.atlassian.jira.config.ProjectConfig.MENU\",\"com.atlassian.jira.projects.sidebar.DEFER_RESOURCES\",\"com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions.enabled\",\"com.atlassian.jira.agile.darkfeature.sprint.goal.enabled\",\"jira.zdu.admin-updates-ui\",\"jira.zdu.jmx-monitoring\",\"sd.sla.improved.rendering.enabled\",\"sd.canned.responses.enabled\",\"sd.new.settings.sidebar.location.disabled\",\"jira.zdu.cluster-upgrade-state\",\"com.atlassian.jira.agile.darkfeature.splitissue\",\"com.atlassian.jira.config.CoreFeatures.LICENSE_ROLES_ENABLED\",\"com.atlassian.feedback.feedback-button-move-to-header-enable\",\"jira.export.csv.enabled\"],\"feature-flag-states\":{\"sd.customer.profile.multi.languages\":true,\"sd.customer.portal.transitions\":true,\"sd.customer.portal.transitions.config\":true,\"sd.custom.email.stripping.rules\":false,\"sd.sla.lucene.issue.id.callback.performance\":true,\"sd.new.settings.sidebar.location\":true,\"sd.workload.report.paginator\":true,\"sd.experimental.portal.search.algorithm.default.1\":false,\"sd.customer.portal.help.center.agent.announcement\":true,\"sd.sla.improved.rendering\":false,\"sd.experimental.portal.search.algorithm.default.2\":false,\"sd.customer.feedback.validate.reporter.on.token\":true,\"sd.custom.email.notifications.utf8.csat.star\":true,\"sd.who.create.customers.by.email.setting\":true,\"com.atlassian.jira.issuetable.move.links.hidden\":true,\"jira.renderer.consider.variable.format\":true,\"sd.stats.event.tracking\":true,\"sd.password.helper.dialog\":true,\"sd.canned.responses\":false,\"sd.portal.help.center.customer.signup.secondary.email\":true,\"sd.custom.email.notifications.manage.language\":true,\"sd.use.search.by.permissions\":true,\"sd.slavalue.record.updated.date\":false,\"sd.report.custom.date.range\":false,\"sd.kb.article.helpfulness.report\":false,\"com.atlassian.jira.agile.darkfeature.sprint.goal\":false,\"sd.custom.email.notifications.styling\":true,\"sd.workinghours.new.page.bulldog.1\":false,\"sd.customer.portal.two.step.login\":false,\"sd.automation.psmq.async.executor\":true,\"sd.customer.org.list.page.lazy.search\":true,\"sd.approval.requested.when.handler\":true,\"sd.request.type.field.rest.api.filtering.bugfix\":true,\"sd.automation.then.action.auto.answer.approval\":true,\"com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions\":false,\"sla.will.only.be.paused.if.they.are.already.started\":true,\"sd.kb.comment.share.stats.collection\":true,\"com.atlassian.jira.upgrade.startup.fix.index\":true,\"sd.customer.orgs.group.participants\":true,\"sd.portal.help.center.customer.signup\":true,\"sd.sla.agent.jql.security.restricted\":true,\"sd.test.feature.flag.x\":true,\"sd.test.feature.flag.y\":false,\"sd.cluster.safe.mail.channel.shutdown\":true,\"sd.email.channel.folders\":false,\"sd.email.analytics.open\":false,\"sd.kb.project.creation.create.link.space\":true,\"sd.workinghours.new.page\":false,\"sd.confluence.anonymous.permission.fix\":true,\"com.atlassian.jira.issuetable.draggable\":true,\"sd.customer.portal.project.agent.announcement\":true,\"sd.automation.audit.log\":true,\"jira.jql.suggestrecentfields\":false,\"sd.canned.responses.check.index.startup\":false,\"sd.new.project.templates\":true,\"sd.custom.email.notifications.custom.rules.simple.ui\":false,\"sd.custom.email.notifications.cut.over\":true,\"sd.dismiss.all.misconfiguration.warnings.setting\":true,\"com.atlassian.jira.agile.darkfeature.optimistic.transitions\":true,\"sd.sla.configurations.export\":true,\"sd.canned.responses.variable.substitution\":true,\"com.atlassian.jira.agile.darkfeature.kanplan\":false,\"sd.internal.base.off.thread.on.completion.events\":false,\"sd.customer.portal.prioties.per.project.fix\":true,\"jira.instrumentation.laas\":false,\"sd.kb.self.service.report\":false,\"sla.improved.request.handling\":true,\"sd.no.schedule.async.upgrade.tasks\":true,\"sd.kb.primary.nav\":true,\"com.atlassian.jira.agile.darkfeature.edit.closed.sprint\":false,\"sd.kb.issueview.panel.phase2\":true,\"sd.email.outsider.comments\":true,\"jira.create.linked.issue\":true,\"sd.kb.issueview.panel\":true,\"jira.sal.host.connect.accessor.existing.transaction.will.create.transactions\":true,\"sd.approvals.light.weight\":false,\"sd.automation.then.webhook\":true,\"sd.respect.inline.edit.issue.off\":true,\"jira.jql.smartautoselectfirst\":false,\"sd.global.portal.search.atlassian.only.tracking\":false,\"sd.automation.if.condition.comment.primary.action\":true,\"jira.priorities.per.project\":true,\"sd.inline.noformat.renderer\":true,\"sd.customer.request.type.create.edit.screens\":true}}";
WRM._unparsedData["jira.webresources:default-comment-security-level.DefaultCommentSecurityLevelHelpLink"]="{\"extraClasses\":\"default-comment-level-help\",\"title\":\"Commenting on an Issue\",\"url\":\"https://docs.atlassian.com/jira/jcore-docs-076/Editing+and+collaborating+on+issues#Editingandcollaboratingonissues-restrictacomment\",\"isLocal\":false}";
WRM._unparsedData["jira.webresources:dateFormatProvider.allFormats"]="{\"dateFormats\":{\"meridiem\":[\"AM\",\"PM\"],\"eras\":[\"BC\",\"AD\"],\"months\":[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],\"monthsShort\":[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],\"weekdaysShort\":[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"],\"weekdays\":[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"]},\"lookAndFeelFormats\":{\"relativize\":\"true\",\"time\":\"HH:mm\",\"day\":\"EEEE HH:mm\",\"dmy\":\"dd/MMM/yy\",\"complete\":\"dd/MMM/yy HH:mm\"}}";
WRM._unparsedData["com.atlassian.jira.jira-issue-nav-components:issueviewer.features"]="{\"rteEnabled\":true}";
WRM._unparsedData["com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone.thumbnail-mime-types"]="\"image/png,image/vnd.wap.wbmp,image/x-png,image/jpeg,image/bmp,image/gif\"";
WRM._unparsedData["com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone.upload-limit"]="\"62914560\"";
WRM._unparsedData["com.atlassian.plugins.helptips.jira-help-tips:help-tip-manager.JiraHelpTipData"]="{\"anonymous\":true}";
WRM._unparsedData["com.atlassian.jira.jira-view-issue-plugin:controller-subtasks.controller.subtasks.parameters"]="{\"url\":\"/rest/api/2/issue/{issueId}/subtask/move\"}";
WRM._unparsedData["com.atlassian.analytics.analytics-client:policy-update-init.policy-update-data-provider"]="false";
WRM._unparsedData["com.atlassian.analytics.analytics-client:programmatic-analytics-init.programmatic-analytics-data-provider"]="false";
WRM._unparsedData["com.atlassian.servicedesk.servicedesk-canned-responses-plugin:canned-responses-data-provider.data"]="{\"substitutionVariables\":{\"issue.summary\":\"Issue summary\",\"issue.description\":\"Issue description\",\"issue.key\":\"Issue key\",\"issue.reporter.name\":\"Issue reporter\",\"issue.resolution\":\"Issue resolution\",\"request.url\":\"Request URL\",\"request.status\":\"Request status\"}}";
WRM._unparsedData["jira.webresources:avatar-picker.data"]="{}";
WRM._unparsedData["com.atlassian.feedback.jira-feedback-plugin:button-resources-init.data"]="{\"jira.feedback.plugin.issue.collector.core\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"jira.feedback.plugin.issue.collector.default\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"jira.feedback.plugin.issue.collector.service.desk\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector.js?locale=en-UK&collectorId=a698db21\",\"jira.feedback.plugin.issue.collector.software\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"isHeaderFeedbackButtonEnabled\":true}";
WRM._unparsedData["com.atlassian.jira.jira-header-plugin:dismissedFlags.flags"]="{\"dismissed\":[]}";
WRM._unparsedData["com.atlassian.jira.jira-header-plugin:newsletter-signup-tip-init.newsletterSignup"]="{\"signupDescription\":\"Get updates, inspiration and best practices from the team behind JIRA.\",\"formUrl\":\"https://www.atlassian.com/apis/exact-target/{0}/subscribe?mailingListId=1401671\",\"signupTitle\":\"Sign up!\",\"signupId\":\"newsletter-signup-tip\",\"showNewsletterTip\":false}";
WRM._unparsedData["com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources.ptAnalyticsData"]="{\"instanceCreatedDate\":\"2011-01-31\"}";
WRM._unparsedData["com.atlassian.servicedesk.core-ui:util-help-links.help-links"]="{\"help\":{\"email.settings\":\"https://docs.atlassian.com/jira/jsd-docs-039/Receiving+requests+by+email\",\"managing.queues\":\"https://docs.atlassian.com/jira/jsd-docs-039/Setting+up+queues+for+your+team\",\"email.setup\":\"https://docs.atlassian.com/jira/jsd-docs-039/Receiving+requests+by+email\",\"request.settings.help.bubble\":\"https://docs.atlassian.com/jira/jsd-docs-039/Managing+access+to+your+service+desk\",\"email.settings.suitablerequest\":\"https://docs.atlassian.com/jira/jsd-docs-039/Receiving+requests+by+email#Receivingrequestsbyemail-suitablerequest\",\"sla.import.help\":\"https://docs.atlassian.com/jira/jsd-docs-039/Importing+SLAs\",\"documentation.home\":\"https://docs.atlassian.com/jira/jsd-docs-039/JIRA+Service+Desk+Documentation\",\"default\":\"https://docs.atlassian.com/jira/jsd-docs-039/\",\"create.space.help\":\"https://docs.atlassian.com/jira/jsd-docs-039/Serving+customers+with+a+knowledge+base#serving-customers-with-a-knowledge-base-createpermission\",\"email.settings.troubleshooting\":\"https://docs.atlassian.com/jira/jsd-docs-039/Troubleshooting+issues+with+the+email+channel\",\"admin.notifications.config\":\"https://docs.atlassian.com/jira/jsd-docs-039/Managing+service+desk+notifications\",\"troubleshoot.requesttype\":\"https://docs.atlassian.com/jira/jsd-docs-039/Troubleshooting+issues+with+request+types\",\"approvals.configuration\":\"https://docs.atlassian.com/jira/jsd-docs-039/Configuring+JIRA+Service+Desk+approvals\",\"setting.up.reports\":\"https://docs.atlassian.com/jira/jsd-docs-039/Setting+up+service+desk+reports\",\"public.signup\":\"https://docs.atlassian.com/jira/jsd-docs-039/Configuring+public+signup\",\"knowledge.base\":\"https://docs.atlassian.com/jira/jsd-docs-039/Serving+customers+with+a+knowledge+base\",\"resolve.permission.scheme.errors\":\"https://docs.atlassian.com/jira/jsd-docs-039/Resolving+permission+scheme+errors\",\"getting.started\":\"https://docs.atlassian.com/jira/jsd-docs-039/Getting+started+with+JIRA+Service+Desk\",\"getting.started.agent\":\"https://docs.atlassian.com/jira/jsd-docs-039/Getting+started+for+service+desk+agents\",\"invite.customers\":\"https://docs.atlassian.com/jira/jsd-docs-039/Managing+access+to+your+service+desk\"},\"kb\":{\"default\":\"https://confluence.atlassian.com/display/SDKB/\",\"troubleshooting.user.management.issues\":\"https://confluence.atlassian.com/display/SDKB/Troubleshooting+issues+with+service+desk+user+management\",\"legacytransition\":\"https://confluence.atlassian.com/display/SDKB/Replacing+legacy+automatic+transitions+with+automation+rules\",\"umtroubleshoot\":\"https://confluence.atlassian.com/display/SDKB/Troubleshooting+issues+with+service+desk+user+management\"}}";
WRM._unparsedData["com.atlassian.servicedesk.core-ui:util-base-url.base-url"]="\"https://issues.apache.org/jira\"";
WRM._unparsedData["com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources.help-data"]="{\"showHelp\":true,\"editorDocumentationUrl\":[\"https://docs.atlassian.com/jira/jcore-docs-076/Visual+editing\"],\"editorDocumentationTitle\":[\"Show me documentation for the visual editor\"]}";
WRM._unparsedData["com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources.thumbnails-allowed"]="false";
WRM._unparsedData["jira.webresources:user-message-flags.adminLockout"]="{}";
WRM._unparsedData["jira.request.correlation-id"]="\"59beecca5ac88d\"";
WRM._unparsedData["project-id"]="12310230";
WRM._unparsedData["project-key"]="\"SOLR\"";
WRM._unparsedData["project-name"]="\"Solr\"";
WRM._unparsedData["project-type"]="\"software\"";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:generic-filters"]="[{\"id\":\"allissues\",\"jql\":\"project = \\\"{0}\\\" ORDER BY {1}\",\"defaultOrderby\":\"created DESC\",\"label\":\"All issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[]},{\"id\":\"allopenissues\",\"jql\":\"project = \\\"{0}\\\" AND resolution = Unresolved ORDER BY {1}\",\"defaultOrderby\":\"priority DESC, updated DESC\",\"label\":\"Open issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"resolution\"]},{\"id\":\"doneissues\",\"jql\":\"project = \\\"{0}\\\" AND statusCategory = Done ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Done issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":false,\"fields\":[\"status\"]},{\"id\":\"recentlyviewed\",\"jql\":\"project = \\\"{0}\\\" AND issuekey in issueHistory() ORDER BY {1}\",\"defaultOrderby\":\"lastViewed DESC\",\"label\":\"Viewed recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"issuekey\"]},{\"id\":\"addedrecently\",\"jql\":\"project = \\\"{0}\\\" AND created \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"created DESC\",\"label\":\"Created recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"created\"]},{\"id\":\"resolvedrecently\",\"jql\":\"project = \\\"{0}\\\" AND resolutiondate \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Resolved recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":false,\"fields\":[\"resolutiondate\"]},{\"id\":\"updatedrecently\",\"jql\":\"project = \\\"{0}\\\" AND updated \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Updated recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"updated\"]}]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:default-filter-priority"]="[\"allopenissues\",\"allissues\"]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:can-manage-filters"]="false";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:project-filters"]="[]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:can-create-issues"]="false";
WRM._unparsedData["projectId"]="12310230";
WRM._unparsedData["projectKey"]="\"SOLR\"";
WRM._unparsedData["projectType"]="\"software\"";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:server-rendered"]="true";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/a8a4711bc3f2eb261d8c8fd9fbcbba8b-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/1fca1750044f2777c977e8d8cc023344/_/download/contextbatch/css/_super/batch.css" data-wrm-key="_super" data-wrm-batch-type="context" media="all"> 
  <link type="text/css" rel="stylesheet" href="/jira/s/1a6b21131945f6f49ff48336b49ca3fe-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/37a6e594cbbfd462a8a54d5aa11475c1/_/download/contextbatch/css/project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super/batch.css?agile_global_admin_condition=true&amp;hc-enabled=true&amp;is-server-instance=true&amp;jag=true&amp;jira.create.linked.issue=true&amp;nps-acknowledged=true&amp;richediton=true&amp;sd_operational=true" data-wrm-key="project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super" data-wrm-batch-type="context" media="all"> 
  <link type="text/css" rel="stylesheet" href="/jira/s/611672383f6cab00ab202241ba6f9d68-T/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/7.6.3/_/download/batch/com.atlassian.feedback.jira-feedback-plugin:button-resources-init/com.atlassian.feedback.jira-feedback-plugin:button-resources-init.css" data-wrm-key="com.atlassian.feedback.jira-feedback-plugin:button-resources-init" data-wrm-batch-type="resource" media="all"> 
  <script type="text/javascript" src="/jira/s/d8484c9183f546511a8e336a8779bcd9-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/1fca1750044f2777c977e8d8cc023344/_/download/contextbatch/js/_super/batch.js?locale=en-UK" data-wrm-key="_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d3b35d835f8f46fc3b53bb4db7f85158-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/37a6e594cbbfd462a8a54d5aa11475c1/_/download/contextbatch/js/project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super/batch.js?agile_global_admin_condition=true&amp;hc-enabled=true&amp;is-server-instance=true&amp;jag=true&amp;jira.create.linked.issue=true&amp;locale=en-UK&amp;nps-acknowledged=true&amp;richediton=true&amp;sd_operational=true" data-wrm-key="project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/71d42e74136d842a3ef4d5d136484843-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/871d45c9f322a22cb3aa9b7948a69803/_/download/contextbatch/js/atl.global,-_super/batch.js?locale=en-UK" data-wrm-key="atl.global,-_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:calendar-en/jira.webresources:calendar-en.js" data-wrm-key="jira.webresources:calendar-en" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:calendar-localisation-moment/jira.webresources:calendar-localisation-moment.js" data-wrm-key="jira.webresources:calendar-localisation-moment" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/7.6.3/_/download/batch/com.atlassian.feedback.jira-feedback-plugin:button-resources/com.atlassian.feedback.jira-feedback-plugin:button-resources.js" data-wrm-key="com.atlassian.feedback.jira-feedback-plugin:button-resources" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/95a4826c265852f4904f1e0e7300df68-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/e0de73613a1027de08f3da6a45e1d1a2/_/download/contextbatch/css/jira.global.look-and-feel,-_super/batch.css" data-wrm-key="jira.global.look-and-feel,-_super" data-wrm-batch-type="context" media="all"> 
  <script type="text/javascript" src="/jira/rest/api/1.0/shortcuts/76005/944bb39eced1b35cfc7194aa02eb5a5a/shortcuts.js?context=issuenavigation&amp;context=issueaction"></script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["com.atlassian.jira.jira-issue-nav-components:inline-edit-enabled"]="true";
WRM._unparsedData["should-display-chaperone"]="false";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/15712b600e9aecf72ffd9fd3704a0c78-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/6b22a15c7b83f87a47b1757076f43542/_/download/contextbatch/css/com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue/batch.css?jira.create.linked.issue=true&amp;richediton=true&amp;sd_operational=true" data-wrm-key="com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue" data-wrm-batch-type="context" media="all"> 
  <script type="text/javascript" src="/jira/s/5a8f0f8b8aa8f96a4f0f7e9e248d62f3-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/6b22a15c7b83f87a47b1757076f43542/_/download/contextbatch/js/com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue/batch.js?jira.create.linked.issue=true&amp;locale=en-UK&amp;richediton=true&amp;sd_operational=true" data-wrm-key="com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue" data-wrm-batch-type="context" data-initially-rendered></script> 
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge"> 
  <meta name="ajs-can-search-users" content="false"> 
  <meta name="ajs-can-edit-watchers" content="false"> 
  <meta name="ajs-default-avatar-url" content="https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10453"> 
  <meta name="ajs-issue-project-type" content="software"> 
  <meta name="ajs-issue-key" content="SOLR-1729"> 
  <meta name="ajs-server-view-issue-is-editable" content="false"> 
  <title>[SOLR-1729] Date Facet now override time parameter - ASF JIRA</title> 
  <link rel="search" type="application/opensearchdescription+xml" href="/jira/osd.jsp" title="[SOLR-1729] Date Facet now override time parameter - ASF JIRA"> 
 </head> 
 <body id="jira" class="aui-layout aui-theme-default " data-version="7.6.3"> 
  <div id="page"> 
   <header id="header" role="banner"> 
    <script>
require(["jquery", "jira/license-banner"], function ($, licenseBanner) {
    $(function () {
        licenseBanner.showLicenseBanner("");
        licenseBanner.showLicenseFlag("");
    });
});
</script> 
    <nav class="aui-header aui-dropdown2-trigger-group" role="navigation">
     <div class="aui-header-inner">
      <div class="aui-header-before">
       <a class=" aui-dropdown2-trigger app-switcher-trigger" aria-controls="app-switcher" aria-haspopup="true" role="button" tabindex="0" data-aui-trigger href="#app-switcher"><span class="aui-icon aui-icon-small aui-iconfont-appswitcher">Linked Applications</span></a>
       <div id="app-switcher" class="aui-dropdown2 aui-style-default" role="menu" aria-hidden="true" data-is-switcher="true" data-environment="{&quot;isUserAdmin&quot;:false,&quot;isAppSuggestionAvailable&quot;:false,&quot;isSiteAdminUser&quot;:false}">
        <div role="application">
         <div class="app-switcher-loading">
          Loadingâ€¦
         </div>
        </div>
       </div>
      </div>
      <div class="aui-header-primary">
       <h1 id="logo" class="aui-header-logo aui-header-logo-custom"><a href="https://issues.apache.org/jira/secure/MyJiraHome.jspa"><img src="/jira/s/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/_/jira-logo-scaled.png" alt="ASF JIRA"></a></h1>
       <ul class="aui-nav">
        <li><a href="/jira/secure/Dashboard.jspa" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="home_link" aria-haspopup="true" aria-controls="home_link-content" title="View and manage your dashboards" accesskey="d">Dashboards</a>
         <div class="aui-dropdown2 aui-style-default" id="home_link-content" data-aui-dropdown2-ajax-key="home_link"></div></li>
        <li><a href="/jira/browse/SOLR" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="browse_link" aria-haspopup="true" aria-controls="browse_link-content" title="View recent projects and browse a list of projects" accesskey="p">Projects</a>
         <div class="aui-dropdown2 aui-style-default" id="browse_link-content" data-aui-dropdown2-ajax-key="browse_link"></div></li>
        <li><a href="/jira/issues/" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="find_link" aria-haspopup="true" aria-controls="find_link-content" title="Search for issues and view recent issues" accesskey="i">Issues</a>
         <div class="aui-dropdown2 aui-style-default" id="find_link-content" data-aui-dropdown2-ajax-key="find_link"></div></li> 
       </ul>
      </div>
      <div class="aui-header-secondary">
       <ul class="aui-nav">
        <li id="quicksearch-menu"> 
         <form action="/jira/secure/QuickSearch.jspa" method="get" id="quicksearch" class="aui-quicksearch dont-default-focus ajs-dirty-warning-exempt"> 
          <input id="quickSearchInput" class="search" type="text" title="Search" placeholder="Search" name="searchString" accessKey="q"> 
          <input type="submit" class="hidden" value="Search"> 
         </form> </li> 
        <li><a class="jira-feedback-plugin" role="button" aria-haspopup="true" id="jira-header-feedback-link" href="#"><span class="aui-icon aui-icon-small jira-feedback-plugin-icon">Give feedback to Atlassian</span></a></li> 
        <li id="system-help-menu"> <a class="aui-nav-link aui-dropdown2-trigger" id="help_menu" aria-haspopup="true" aria-owns="system-help-menu-content" href="https://docs.atlassian.com/jira/jcore-docs-076/" target="$textUtils.htmlEncode($rootHelpMenuItem.params.target)" title="Help"><span class="aui-icon aui-icon-small aui-iconfont-help">Help</span></a> 
         <div id="system-help-menu-content" class="aui-dropdown2 aui-style-default"> 
          <div class="aui-dropdown2-section"> 
           <ul id="jira-help" class="aui-list-truncate"> 
            <li> <a id="view_core_help" class="aui-nav-link " title="Go to the online documentation for JIRA Core" href="https://docs.atlassian.com/jira/jcore-docs-076/" target="_blank">JIRA Core help</a> </li> 
            <li> <a id="keyshortscuthelp" class="aui-nav-link " title="Get more information about JIRA's Keyboard Shortcuts" href="/jira/secure/ViewKeyboardShortcuts!default.jspa" target="_blank">Keyboard Shortcuts</a> </li> 
            <li> <a id="view_about" class="aui-nav-link " title="Get more information about JIRA" href="/jira/secure/AboutPage.jspa">About JIRA</a> </li> 
            <li> <a id="view_credits" class="aui-nav-link " title="See who did what" href="/jira/secure/JiraCreditsPage!default.jspa" target="_blank">JIRA Credits</a> </li> 
           </ul> 
          </div> 
         </div> </li> 
        <li id="user-options"> <a class="aui-nav-link login-link" href="/jira/login.jsp?os_destination=%2Fbrowse%2FSOLR-1729">Log In</a> 
         <div id="user-options-content" class="aui-dropdown2 aui-style-default"> 
          <div class="aui-dropdown2-section"> 
          </div> 
         </div> </li> 
       </ul>
      </div>
     </div>
     <!-- .aui-header-inner-->
    </nav>
    <!-- .aui-header --> 
   </header> 
   <section id="content" role="main"> 
    <big-pipe data-id="sidebar-id" unresolved></big-pipe>
    <div class="aui-sidebar  sidebar-placeholder">
     <div class="aui-sidebar-wrapper">
      <div class="aui-sidebar-body"></div>
      <div class="aui-sidebar-footer">
       <a class="aui-button aui-button-subtle aui-sidebar-toggle aui-sidebar-footer-tipsy" data-tooltip="Expand sidebar ( [ )" href="#"><span class="aui-icon aui-icon-small"></span></a>
      </div>
     </div>
    </div>
    <script id="projects-sidebar-init">
    require(['jira/projects/sidebar/expansion-manager'], function(expansionManager) {
        var scriptTag = document.getElementById('projects-sidebar-init');
        var sidebar = AJS.sidebar('.aui-sidebar');
        expansionManager(sidebar);
        scriptTag.parentElement.removeChild(scriptTag);
    });
    </script>
    <div class="aui-page-panel">
     <div class="aui-page-panel-inner">
      <div class="issue-navigator">
       <div class="content">
        <div class="issue-view">
         <div class="navigation-tools">
          <div class="pager-container"></div>
         </div>
         <div class="issue-container">
          <div id="issue-content" class="issue-edit-form">
           <header id="stalker" class="issue-header js-stalker">
            <div class="issue-header-content">
             <header class="aui-page-header">
              <div class="aui-page-header-inner">
               <div class="aui-page-header-image">
                <span id="12310230" class="aui-avatar aui-avatar-large aui-avatar-project"><span class="aui-avatar-inner"><img id="project-avatar" alt="Uploaded image for project: 'Solr'" src="https://issues.apache.org/jira/secure/projectavatar?pid=12310230&amp;avatarId=22151"></span></span>
               </div>
               <!-- .aui-page-header-image -->
               <div class="aui-page-header-main">
                <ol class="aui-nav aui-nav-breadcrumbs">
                 <li><a id="project-name-val" href="/jira/browse/SOLR">Solr</a></li>
                 <li><a class="issue-link" data-issue-key="SOLR-1729" href="/jira/browse/SOLR-1729" id="key-val" rel="12446237">SOLR-1729</a></li>
                </ol>
                <h1 id="summary-val">Date Facet now override time parameter</h1>
               </div>
               <!-- .aui-page-header-main -->
               <div class="aui-page-header-actions">
                <div id="issue-header-pager"></div>
               </div>
               <!-- .aui-page-header-actions -->
              </div>
              <!-- .aui-page-header-inner -->
             </header>
             <!-- .aui-page-header -->
             <div class="command-bar">
              <div class="ops-cont">
               <div class="ops-menus aui-toolbar">
                <div class="toolbar-split toolbar-split-left">
                 <ul id="opsbar-ops-login-lnk_container" class="toolbar-group pluggable-ops">
                  <li class="toolbar-item"><a id="ops-login-lnk" title="Log In" class="toolbar-trigger" href="/jira/login.jsp?os_destination=%2Fbrowse%2FSOLR-1729"><span class="trigger-label">Log In</span></a></li>
                 </ul>
                 <ul id="opsbar-opsbar-operations" class="toolbar-group pluggable-ops"></ul>
                 <ul id="opsbar-opsbar-transitions" class="toolbar-group pluggable-ops"></ul>
                 <ul id="opsbar-opsbar-admin" class="toolbar-group pluggable-ops"></ul>
                </div>
                <div class="toolbar-split toolbar-split-right">
                 <ul id="opsbar-jira.issue.tools" class="toolbar-group pluggable-ops">
                  <li class="toolbar-item">
                   <div>
                    <a href="#" id="viewissue-export" aria-owns="viewissue-export_drop" aria-haspopup="true" title="Export this issue in another format" class="toolbar-trigger aui-button aui-style-default aui-dropdown2-trigger"><span class="icon icon-default aui-icon aui-icon-small aui-iconfont-export"></span> <span class="dropdown-text">Export</span></a>
                    <div id="viewissue-export_drop" class="aui-style-default aui-dropdown2">
                     <ul>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-xml/SOLR-1729/SOLR-1729.xml" id="jira.issueviews:issue-xml"><span class="trigger-label">XML</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-word/SOLR-1729/SOLR-1729.doc" id="jira.issueviews:issue-word"><span class="trigger-label">Word</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-html/SOLR-1729/SOLR-1729.html" id="jira.issueviews:issue-html"><span class="trigger-label">Printable</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/com.atlassian.jira.plugins.jira-importers-plugin:issue-json/SOLR-1729/SOLR-1729.json" id="com.atlassian.jira.plugins.jira-importers-plugin:issue-json"><span class="trigger-label">JSON</span></a></li>
                     </ul>
                    </div>
                   </div></li>
                 </ul>
                </div>
               </div>
              </div>
             </div>
            </div>
           </header>
           <div class="issue-body-content">
            <div class="aui-group issue-body">
             <div class="aui-item issue-main-column">
              <div id="details-module" class="module toggle-wrap">
               <div id="details-module_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Details</h2>
               </div>
               <div class="mod-content"> 
                <ul id="issuedetails" class="property-list two-cols"> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Type:</strong> 
                   <span id="type-val" class="value"> <img alt="" height="16" src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype" title="Improvement - An improvement or enhancement to an existing feature or task." width="16"> Improvement </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Status:</strong> 
                   <span id="status-val" class="value"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done jira-issue-status-lozenge-max-width-medium" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </span> 
                  </div> </li> 
                 <li class="item new"> 
                  <div class="wrap"> 
                   <strong class="name">Priority:</strong> 
                   <span id="priority-val" class="value"> <img alt="" height="16" src="/jira/images/icons/priorities/minor.svg" title="Minor - Minor loss of function, or other problem where easy workaround is present." width="16"> Minor </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Resolution:</strong> 
                   <span id="resolution-val" class="value resolved"> Fixed </span> 
                  </div> </li> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Affects Version/s:</strong> 
                   <span id="versions-val" class="value"> <span class="shorten" id="versions-field"> <span title="1.4 ">1.4</span> </span> </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Fix Version/s:</strong> 
                   <span id="fixfor-val" class="value"> <span class="shorten" id="fixVersions-field"> <a href="/jira/issues/?jql=project+%3D+SOLR+AND+fixVersion+%3D+3.6" title="3.6 Major release after 3.5">3.6</a>, <a href="/jira/issues/?jql=project+%3D+SOLR+AND+fixVersion+%3D+4.0-ALPHA" title="4.0-ALPHA Alpha release of 4.x series">4.0-ALPHA</a> </span> </span> 
                  </div> </li> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Component/s:</strong> 
                   <span id="components-val" class="value"> <span class="shorten" id="components-field"> <a href="/jira/issues/?jql=project+%3D+SOLR+AND+component+%3D+search" title="search Query the search collection">search</a> </span> </span> 
                  </div> </li> 
                 <li class="item full-width"> 
                  <div class="wrap" id="wrap-labels"> 
                   <strong class="name">Labels:</strong> 
                   <div class="labels-wrap value"> 
                    <span class="labels" id="labels-12446237-value">None</span> 
                   </div> 
                  </div> </li> 
                 <li class="item full-width"> 
                  <div class="wrap"> 
                   <strong class="name">Environment:</strong> 
                   <div id="environment-val" class="value"> 
                    <p>Solr 1.4</p> 
                   </div> 
                  </div> </li> 
                </ul> 
               </div>
              </div>
              <div id="descriptionmodule" class="module toggle-wrap">
               <div id="descriptionmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Description</h2>
               </div>
               <div class="mod-content">
                <div id="description-val" class="field-ignore-highlight"> 
                 <div class="user-content-block"> 
                  <p>This PATCH introduces a new query parameter that tells a (typically, but not necessarily) remote server what time to use as 'NOW' when calculating date facets for a query (and, for the moment, date facets <b>only</b>) - overriding the default behaviour of using the local server's current time.</p> 
                  <p>This gets 'round a problem whereby an explicit time range is specified in a query (e.g. timestamp:<span class="error">[then0 TO then1]</span>), and date facets are required for the given time range (in fact, any explicit time range). <br> Because DateMathParser performs all its calculations from 'NOW', remote callers have to work out how long ago 'then0' and 'then1' are from 'now', and use the relative-to-now values in the facet.date.xxx parameters. If a remote server has a different opinion of NOW compared to the caller, the results will be skewed (e.g. they are in a different time-zone, not time-synced etc.).<br> This becomes particularly salient when performing distributed date faceting (see <a href="https://issues.apache.org/jira/browse/SOLR-1709" title="Distributed Date and Range Faceting" class="issue-link" data-issue-key="SOLR-1709"><del>SOLR-1709</del></a>), where multiple shards may all be running with different times, and the faceting needs to be aligned.</p> 
                  <p>The new parameter is called 'facet.date.now', and takes as a parameter a (stringified) long that is the number of milliseconds from the epoch (1 Jan 1970 00:00) - i.e. the returned value from a System.currentTimeMillis() call. This was chosen over a formatted date to delineate it from a 'searchable' time and to avoid superfluous date parsing. This makes the value generally a programatically-set value, but as that is where the use-case is for this type of parameter, this should be ok.</p> 
                  <p>NOTE: This parameter affects date facet timing only. If there are other areas of a query that rely on 'NOW', these will not interpret this value. This is a broader issue about setting a 'query-global' NOW that all parts of query analysis can share.</p> 
                  <p>Source files affected:<br> FacetParams.java (holds the new constant FACET_DATE_NOW)<br> SimpleFacets.java getFacetDateCounts() NOW parameter modified</p> 
                  <p>This PATCH is mildly related to <a href="https://issues.apache.org/jira/browse/SOLR-1709" title="Distributed Date and Range Faceting" class="issue-link" data-issue-key="SOLR-1709"><del>SOLR-1709</del></a> (Distributed Date Faceting), but as it's a general change for date faceting, it was deemed deserving of its own patch. I will be updating <a href="https://issues.apache.org/jira/browse/SOLR-1709" title="Distributed Date and Range Faceting" class="issue-link" data-issue-key="SOLR-1709"><del>SOLR-1709</del></a> in due course to include the use of this new parameter, after some rfc acceptance.</p> 
                  <p>A possible enhancement to this is to detect facet.date fields, look for and match these fields in queries (if they exist), and potentially determine automatically the required time skew, if any. There are a whole host of reasons why this could be problematic to implement, so an explicit facet.date.now parameter is the safest route.</p> 
                 </div> 
                </div> 
               </div>
              </div>
              <div id="dnd-metadata" class="module toggle-wrap">
               <div id="dnd-metadata_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Attachments</h2>
               </div>
               <div class="mod-content">
                <div id="dnd-metadata-webpanel" data-can-attach="false" data-project-type="software" data-upload-limit="62914560" data-thumbnails-allowed="false"></div>
               </div>
              </div>
              <div id="attachmentmodule" class="module toggle-wrap">
               <div id="attachmentmodule_heading" class="mod-header">
                <ul class="ops">
                 <li class="drop">
                  <div class="aui-dd-parent">
                   <a href="#" class="icon drop-menu js-default-dropdown" title="Options"><span>Options</span></a>
                   <div class="aui-dropdown-content aui-list">
                    <ul id="attachment-sorting-options" class="aui-list-section aui-first">
                     <li class="aui-list-item"><a id="attachment-sort-key-name" href="/jira/browse/SOLR-1729?attachmentSortBy=fileName#attachmentmodule" class="aui-list-checked aui-checked aui-list-item-link" title="viewissue.subtasks.tab.show.all.name"><span>Sort By Name</span></a></li>
                     <li class="aui-list-item"><a id="attachment-sort-key-date" href="/jira/browse/SOLR-1729?attachmentSortBy=dateTime#attachmentmodule" class="aui-list-checked aui-list-item-link" title="Sort By Date"><span>Sort By Date</span></a></li>
                    </ul>
                    <ul id="attachment-sorting-order-options" class="aui-list-section aui-last">
                     <li class="aui-list-item"><a id="attachment-sort-direction-asc" href="/jira/browse/SOLR-1729?attachmentOrder=asc#attachmentmodule" class="aui-list-checked aui-checked aui-list-item-link" title="Ascending"><span>Ascending</span></a></li>
                     <li class="aui-list-item"><a id="attachment-sort-direction-desc" href="/jira/browse/SOLR-1729?attachmentOrder=desc#attachmentmodule" class="aui-list-checked aui-list-item-link" title="Descending"><span>Descending</span></a></li>
                    </ul>
                   </div>
                  </div></li>
                </ul>
                <h2 class="toggle-title">Attachments</h2>
               </div>
               <div class="mod-content">
                <ol id="file_attachments" class="item-attachments" data-sort-key="fileName" data-sort-order="asc">
                 <li class="attachment-content js-file-attachment" data-attachment-id="12431036" data-issue-id="12446237" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12431036/FacetParams.java" draggable="true" data-downloadurl="text/x-java:FacetParams.java:https://issues.apache.org/jira/secure/attachment/12431036/FacetParams.java"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-code" title="Java Source File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12431036/FacetParams.java" title="Latest  21/Jan/10 16:27 - Peter Sturge" draggable="true" data-downloadurl="text/x-java:FacetParams.java:https://issues.apache.org/jira/secure/attachment/12431036/FacetParams.java">FacetParams.java</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2010-01-21T16:27:12.231Z">21/Jan/10 16:27</time>
                   </dd>
                   <dd class="attachment-size">
                    8 kB
                   </dd>
                   <dd class="attachment-author">
                    Peter Sturge
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12431035" data-issue-id="12446237" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12431035/SimpleFacets.java" draggable="true" data-downloadurl="text/x-java:SimpleFacets.java:https://issues.apache.org/jira/secure/attachment/12431035/SimpleFacets.java"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-code" title="Java Source File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12431035/SimpleFacets.java" title="Latest  21/Jan/10 16:27 - Peter Sturge" draggable="true" data-downloadurl="text/x-java:SimpleFacets.java:https://issues.apache.org/jira/secure/attachment/12431035/SimpleFacets.java">SimpleFacets.java</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2010-01-21T16:27:12.183Z">21/Jan/10 16:27</time>
                   </dd>
                   <dd class="attachment-size">
                    26 kB
                   </dd>
                   <dd class="attachment-author">
                    Peter Sturge
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12436099" data-issue-id="12446237" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12436099/solr-1.4.0-solr-1729.patch" draggable="true" data-downloadurl="text/x-patch:solr-1.4.0-solr-1729.patch:https://issues.apache.org/jira/secure/attachment/12436099/solr-1.4.0-solr-1729.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12436099/solr-1.4.0-solr-1729.patch" title="Latest  17/Feb/10 13:08 - Thomas Hammerl" draggable="true" data-downloadurl="text/x-patch:solr-1.4.0-solr-1729.patch:https://issues.apache.org/jira/secure/attachment/12436099/solr-1.4.0-solr-1729.patch">solr-1.4.0-solr-1729.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2010-02-17T13:08:22.278Z">17/Feb/10 13:08</time>
                   </dd>
                   <dd class="attachment-size">
                    6 kB
                   </dd>
                   <dd class="attachment-author">
                    Thomas Hammerl
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12510719" data-issue-id="12446237" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12510719/SOLR-1729_3x.patch" draggable="true" data-downloadurl="text/x-patch:SOLR-1729_3x.patch:https://issues.apache.org/jira/secure/attachment/12510719/SOLR-1729_3x.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12510719/SOLR-1729_3x.patch" title="Latest  16/Jan/12 16:11 - Simon Willnauer" draggable="true" data-downloadurl="text/x-patch:SOLR-1729_3x.patch:https://issues.apache.org/jira/secure/attachment/12510719/SOLR-1729_3x.patch">SOLR-1729_3x.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2012-01-16T16:11:22.935Z">16/Jan/12 16:11</time>
                   </dd>
                   <dd class="attachment-size">
                    47 kB
                   </dd>
                   <dd class="attachment-author">
                    Simon Willnauer
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12510718" data-issue-id="12446237" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12510718/SOLR-1729_3x.patch" draggable="true" data-downloadurl="text/x-patch:SOLR-1729_3x.patch:https://issues.apache.org/jira/secure/attachment/12510718/SOLR-1729_3x.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12510718/SOLR-1729_3x.patch" title=" 16/Jan/12 16:03 - Simon Willnauer" draggable="true" data-downloadurl="text/x-patch:SOLR-1729_3x.patch:https://issues.apache.org/jira/secure/attachment/12510718/SOLR-1729_3x.patch">SOLR-1729_3x.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2012-01-16T16:03:51.304Z">16/Jan/12 16:03</time>
                   </dd>
                   <dd class="attachment-size">
                    46 kB
                   </dd>
                   <dd class="attachment-author">
                    Simon Willnauer
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12466100" data-issue-id="12446237" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12466100/SOLR-1729.patch" draggable="true" data-downloadurl="text/x-patch:SOLR-1729.patch:https://issues.apache.org/jira/secure/attachment/12466100/SOLR-1729.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12466100/SOLR-1729.patch" title="Latest  12/Dec/10 16:44 - Yonik Seeley" draggable="true" data-downloadurl="text/x-patch:SOLR-1729.patch:https://issues.apache.org/jira/secure/attachment/12466100/SOLR-1729.patch">SOLR-1729.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2010-12-12T16:44:02.956Z">12/Dec/10 16:44</time>
                   </dd>
                   <dd class="attachment-size">
                    24 kB
                   </dd>
                   <dd class="attachment-author">
                    Yonik Seeley
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12466066" data-issue-id="12446237" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12466066/SOLR-1729.patch" draggable="true" data-downloadurl="text/x-patch:SOLR-1729.patch:https://issues.apache.org/jira/secure/attachment/12466066/SOLR-1729.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12466066/SOLR-1729.patch" title=" 11/Dec/10 18:35 - Yonik Seeley" draggable="true" data-downloadurl="text/x-patch:SOLR-1729.patch:https://issues.apache.org/jira/secure/attachment/12466066/SOLR-1729.patch">SOLR-1729.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2010-12-11T18:35:01.849Z">11/Dec/10 18:35</time>
                   </dd>
                   <dd class="attachment-size">
                    21 kB
                   </dd>
                   <dd class="attachment-author">
                    Yonik Seeley
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12466062" data-issue-id="12446237" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12466062/SOLR-1729.patch" draggable="true" data-downloadurl="text/x-patch:SOLR-1729.patch:https://issues.apache.org/jira/secure/attachment/12466062/SOLR-1729.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12466062/SOLR-1729.patch" title=" 11/Dec/10 17:40 - Yonik Seeley" draggable="true" data-downloadurl="text/x-patch:SOLR-1729.patch:https://issues.apache.org/jira/secure/attachment/12466062/SOLR-1729.patch">SOLR-1729.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2010-12-11T17:40:33.446Z">11/Dec/10 17:40</time>
                   </dd>
                   <dd class="attachment-size">
                    13 kB
                   </dd>
                   <dd class="attachment-author">
                    Yonik Seeley
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12436098" data-issue-id="12446237" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12436098/UnInvertedField.java" draggable="true" data-downloadurl="text/x-java-source:UnInvertedField.java:https://issues.apache.org/jira/secure/attachment/12436098/UnInvertedField.java"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-code" title="Java Source File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12436098/UnInvertedField.java" title="Latest  17/Feb/10 12:28 - Peter Sturge" draggable="true" data-downloadurl="text/x-java-source:UnInvertedField.java:https://issues.apache.org/jira/secure/attachment/12436098/UnInvertedField.java">UnInvertedField.java</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2010-02-17T12:28:24.203Z">17/Feb/10 12:28</time>
                   </dd>
                   <dd class="attachment-size">
                    38 kB
                   </dd>
                   <dd class="attachment-author">
                    Peter Sturge
                   </dd>
                  </dl></li>
                </ol>
               </div>
              </div>
              <div id="linkingmodule" class="module toggle-wrap">
               <div id="linkingmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Issue Links</h2>
               </div>
               <div class="mod-content"> 
                <div class="links-container" data-default-link-icon="/jira/images/icons/generic_link_16.png"> 
                 <dl class="links-list "> 
                  <dt title="relates to">
                   relates to
                  </dt> 
                  <dd id="internal-12444981_10030"> 
                   <div class="link-content"> 
                    <p> <img src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype" width="16" height="16" title="Improvement - An improvement or enhancement to an existing feature or task." alt="Improvement - An improvement or enhancement to an existing feature or task."> <span title="SOLR-1709: Distributed Date and Range Faceting"> <a href="/jira/browse/SOLR-1709" data-issue-key="SOLR-1709" class="issue-link link-title resolution">SOLR-1709</a> <span class="link-summary">Distributed Date and Range Faceting</span> </span> </p> 
                    <ul class="link-snapshot"> 
                     <li class="priority"> <img src="/jira/images/icons/priorities/minor.svg" width="16" height="16" title="Minor - Minor loss of function, or other problem where easy workaround is present." alt="Minor - Minor loss of function, or other problem where easy workaround is present."> </li> 
                     <li class="status"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done aui-lozenge-subtle jira-issue-status-lozenge-max-width-short" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </li> 
                    </ul> 
                   </div> 
                  </dd> 
                 </dl> 
                </div> 
               </div>
              </div>
              <div id="activitymodule" class="module toggle-wrap">
               <div id="activitymodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Activity</h2>
               </div>
               <div class="mod-content"> 
                <big-pipe data-id="activity-panel-pipe-id" style="height: 70px"> 
                 <div></div> 
                </big-pipe> 
               </div>
              </div>
             </div>
             <div id="viewissuesidebar" class="aui-item issue-side-column">
              <div id="peoplemodule" class="module toggle-wrap">
               <div id="peoplemodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">People</h2>
               </div>
               <div class="mod-content"> 
                <ul class="item-details" id="peopledetails"> 
                 <li class="people-details"> 
                  <dl> 
                   <dt>
                    Assignee:
                   </dt> 
                   <dd> 
                    <span id="assignee-val" class="view-issue-field"> <span class="user-hover" id="issue_summary_assignee_simonw" rel="simonw" data-user="{&quot;avatarUrl&quot;:&quot;https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10452&quot;,&quot;displayName&quot;:&quot;Simon Willnauer&quot;,&quot;emailAddress&quot;:&quot;simonw@apache.org&quot;,&quot;username&quot;:&quot;simonw&quot;}"> <span class="aui-avatar aui-avatar-small"><span class="aui-avatar-inner"><img src="https://issues.apache.org/jira/secure/useravatar?size=small&amp;avatarId=10452" alt="simonw"></span></span> Simon Willnauer </span> </span> 
                   </dd> 
                  </dl> 
                  <dl> 
                   <dt>
                    Reporter:
                   </dt> 
                   <dd> 
                    <span id="reporter-val" class="view-issue-field"> <span class="user-hover" id="issue_summary_reporter_midiman" rel="midiman" data-user="{&quot;avatarUrl&quot;:&quot;https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10452&quot;,&quot;displayName&quot;:&quot;Peter Sturge&quot;,&quot;emailAddress&quot;:&quot;peter.sturge@gmail.com&quot;,&quot;username&quot;:&quot;midiman&quot;}"> <span class="aui-avatar aui-avatar-small"><span class="aui-avatar-inner"><img src="https://issues.apache.org/jira/secure/useravatar?size=small&amp;avatarId=10452" alt="midiman"></span></span> Peter Sturge </span> </span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
                <ul class="item-details"> 
                 <li> 
                  <dl> 
                   <dt>
                    Votes:
                   </dt> 
                   <dd> 
                    <span id="vote-data" class="aui-badge vote-state-off">1</span> 
                    <span id="vote-label" title="You have to be logged in to vote for an issue.">Vote for this issue</span> 
                   </dd> 
                  </dl> 
                  <dl> 
                   <dt>
                    Watchers:
                   </dt> 
                   <dd> 
                    <span id="watcher-data" class="aui-badge watch-state-off">2</span> 
                    <span id="watch-label" title="You have to be logged in to watch an issue.">Start watching this issue</span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
               </div>
              </div>
              <div id="datesmodule" class="module toggle-wrap">
               <div id="datesmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Dates</h2>
               </div>
               <div class="mod-content"> 
                <ul class="item-details"> 
                 <li> 
                  <dl class="dates"> 
                   <dt>
                    Created:
                   </dt> 
                   <dd class="date user-tz" title="21/Jan/10 16:20"> 
                    <span data-name="Created" id="created-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2010-01-21T16:20:26+0000">21/Jan/10 16:20</time> </span> 
                   </dd> 
                  </dl> 
                  <dl class="dates"> 
                   <dt>
                    Updated:
                   </dt> 
                   <dd class="date user-tz" title="10/May/13 10:39"> 
                    <span data-name="Updated" id="updated-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2013-05-10T10:39:06+0000">10/May/13 10:39</time> </span> 
                   </dd> 
                  </dl> 
                  <dl class="dates"> 
                   <dt>
                    Resolved:
                   </dt> 
                   <dd class="date user-tz" title="17/Jan/12 08:54"> 
                    <span data-name="Resolved" id="resolutiondate-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2012-01-17T08:54:52+0000">17/Jan/12 08:54</time> </span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
               </div>
              </div>
             </div>
            </div>
           </div>
          </div>
         </div>
        </div>
       </div>
      </div>
     </div>
     <!-- .aui-page-panel-inner -->
    </div>
    <!-- .aui-page-panel -->
    <div class="issue-navigator-init"></div> 
   </section> 
   <footer id="footer" role="contentinfo"> 
    <section class="footer-body"> 
     <ul class="atlassian-footer"> 
      <li> Atlassian JIRA <a class="seo-link" rel="nofollow" href="https://www.atlassian.com/software/jira">Project Management Software</a> <span id="footer-build-information">(v7.6.3#76005-<span title="8a4e38d34af948780dbf52044e7aafb13a7cae58" data-commit-id="8a4e38d34af948780dbf52044e7aafb13a7cae58}">sha1:8a4e38d</span>)</span> </li> 
      <li> <a id="about-link" rel="nofollow" href="/jira/secure/AboutPage.jspa/secure/AboutPage.jspa">About JIRA</a> </li> 
      <li> <a id="footer-report-problem-link" rel="nofollow" href="/jira/secure/CreateIssue!default.jspa">Report a problem</a> </li> 
     </ul> 
     <ul class="atlassian-footer"> 
      <li class="licensemessage"> Powered by a free Atlassian <a rel="nofollow" href="http://www.atlassian.com/software/jira">JIRA</a> open source license for n/a, Apache Software Foundation. Try JIRA - <a rel="nofollow" href="http://www.atlassian.com/software/jira">bug tracking software</a> for <i>your</i> team. </li> 
     </ul> 
     <div id="footer-logo">
      <a rel="nofollow" href="http://www.atlassian.com/">Atlassian</a>
     </div> 
    </section> 
    <fieldset class="hidden parameters"> 
     <input type="hidden" title="loggedInUser" value=""> 
     <input type="hidden" title="ajaxTimeout" value="The call to the JIRA server did not complete within the timeout period.  We are unsure of the result of this operation."> 
     <input type="hidden" title="JiraVersion" value="7.6.3"> 
     <input type="hidden" title="ajaxUnauthorised" value="You are not authorised to perform this operation. Please log in."> 
     <input type="hidden" title="baseURL" value="https://issues.apache.org/jira"> 
     <input type="hidden" title="ajaxCommsError" value="The JIRA server could not be contacted. This may be a temporary glitch or the server may be down. "> 
     <input type="hidden" title="ajaxServerError" value="The JIRA server was contacted but has returned an error response. We are unsure of the result of this operation."> 
     <input type="hidden" title="ajaxErrorCloseDialog" value="Close this dialog and press refresh in your browser"> 
     <input type="hidden" title="ajaxErrorDialogHeading" value="Communications Breakdown"> 
     <input type="hidden" title="dirtyMessage" value="You have entered new data on this page. If you navigate away from this page without first saving your data, the changes will be lost."> 
     <input type="hidden" title="dirtyDialogMessage" value="You have entered new data in this dialog. If you navigate away from this dialog without first saving your data, the changes will be lost. Click cancel to return to the dialog."> 
     <input type="hidden" title="keyType" value="Type"> 
     <input type="hidden" title="keyThen" value="then"> 
     <input type="hidden" title="dblClickToExpand" value="Double click to expand"> 
     <input type="hidden" title="actions" value="Actions"> 
     <input type="hidden" title="removeItem" value="Remove"> 
     <input type="hidden" title="workflow" value="Workflow"> 
     <input type="hidden" title="labelNew" value="New Label"> 
     <input type="hidden" title="issueActionsHint" value="Begin typing for available operations or press down to see all"> 
     <input type="hidden" title="closelink" value="Close"> 
     <input type="hidden" title="dotOperations" value="Operations"> 
     <input type="hidden" title="dotLoading" value="Loading..."> 
     <input type="hidden" title="frotherSuggestions" value="Suggestions"> 
     <input type="hidden" title="frotherNomatches" value="No Matches"> 
     <input type="hidden" title="multiselectVersionsError" value="{0} is not a valid version."> 
     <input type="hidden" title="multiselectComponentsError" value="{0} is not a valid component."> 
     <input type="hidden" title="multiselectGenericError" value="The value {0} is invalid."> 
    </fieldset> 
   </footer> 
  </div> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:bigpipe-js/jira.webresources:bigpipe-js.js" data-wrm-key="jira.webresources:bigpipe-js" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["activity-panel-pipe-id"]="\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n    \u003cdiv class=\\\"tabwrap tabs2\\\"\u003e\\n\\n        \u003cul id=\\\"issue-tabs\\\" class=\\\"tabs horizontal\\\"\u003e\\n                                \\n            \u003cli  data-id=\\\"all-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\" data-label=\\\"All\\\" data-href=\\\"\\/jira\\/browse\\/SOLR-1729?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"all-tabpanel\\\" href=\\\"\\/jira\\/browse\\/SOLR-1729?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\"\u003e\u003cstrong\u003eAll\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  class=\\\"active\\\" id=\\\"comment-tabpanel\\\"  data-id=\\\"comment-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel\\\" data-label=\\\"Comments\\\" data-href=\\\"\\/jira\\/browse\\/SOLR-1729?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel\\\"\u003e\\n                            \u003cstrong tabindex=\\\"0\\\"\u003eComments\u003c\\/strong\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"worklog-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\" data-label=\\\"Work Log\\\" data-href=\\\"\\/jira\\/browse\\/SOLR-1729?page=com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"worklog-tabpanel\\\" href=\\\"\\/jira\\/browse\\/SOLR-1729?page=com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\"\u003e\u003cstrong\u003eWork Log\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"changehistory-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\" data-label=\\\"History\\\" data-href=\\\"\\/jira\\/browse\\/SOLR-1729?page=com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"changehistory-tabpanel\\\" href=\\\"\\/jira\\/browse\\/SOLR-1729?page=com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\"\u003e\u003cstrong\u003eHistory\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"activity-stream-issue-tab\\\" data-key=\\\"com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\" data-label=\\\"Activity\\\" data-href=\\\"\\/jira\\/browse\\/SOLR-1729?page=com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"activity-stream-issue-tab\\\" href=\\\"\\/jira\\/browse\\/SOLR-1729?page=com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\"\u003e\u003cstrong\u003eActivity\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"transitions-summary-tabpanel\\\" data-key=\\\"com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\" data-label=\\\"Transitions\\\" data-href=\\\"\\/jira\\/browse\\/SOLR-1729?page=com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"transitions-summary-tabpanel\\\" href=\\\"\\/jira\\/browse\\/SOLR-1729?page=com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\"\u003e\u003cstrong\u003eTransitions\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                \u003c\\/ul\u003e\\n\\n                    \u003cdiv class=\\\"sortwrap\\\"\u003e\\n                                    \u003ca class=\\\"issue-activity-sort-link ajax-activity-content\\\" rel=\\\"nofollow\\\" data-tab-sort data-order=\\\"desc\\\" href=\\\"\\/jira\\/browse\\/SOLR-1729?actionOrder=desc\\\" title=\\\"Ascending order - Click to sort in descending order\\\"\u003e\\n                        \u003cspan class=\\\"aui-icon aui-icon-small aui-iconfont-up\\\"\u003eAscending order - Click to sort in descending order\u003c\\/span\u003e\\n                    \u003c\\/a\u003e\\n                            \u003c\\/div\u003e\\n            \u003c\\/div\u003e\\n    \u003cdiv class=\\\"issuePanelWrapper\\\"\u003e\\n        \u003cdiv class=\\\"issuePanelProgress\\\"\u003e\u003c\\/div\u003e\\n        \u003cdiv class=\\\"issuePanelContainer\\\" id=\\\"issue_actions_container\\\"\u003e\\n                                    \\n\\n\\n\u003cdiv id=\\\"comment-12803349\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-1729?focusedCommentId=12803349&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12803349\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"midiman\\\" id=\\\"commentauthor_12803349_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=midiman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"midiman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Peter Sturge\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12803349_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'21\\/Jan\\/10 16:27\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-01-21T16:27:12+0000\'\u003e21\\/Jan\\/10 16:27\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThese are the source files affected for this patch.\u003cbr\\/\u003e\\nApologies for not creating a PATCH file - my tortoise svn is not working for creating patch files.\u003cbr\\/\u003e\\nIf anyone would like to create a patch from these, that would be extraordinarily kind of you!\u003c\\/p\u003e\\n\\n\u003cp\u003eDiff: (trunk: 1.4 Release)\u003cbr\\/\u003e\\nFacetParams.java:\u003cbr\\/\u003e\\nAdd at line 179:\u003cbr\\/\u003e\\n  \\/**\u003c\\/p\u003e\\n\u003cul\u003e\\n\\t\u003cli\u003eString that tells the date facet counter what time to use as \'now\'.\u003c\\/li\u003e\\n\\t\u003cli\u003e\u003c\\/li\u003e\\n\\t\u003cli\u003eThe value of this parameter, if it exists, must be a stringified long\u003c\\/li\u003e\\n\\t\u003cli\u003eof the number of milliseconds since the epoch (milliseconds since 1 Jan 1970 00:00).\u003c\\/li\u003e\\n\\t\u003cli\u003eSystem.currentTimeMillis() provides this.\u003c\\/li\u003e\\n\\t\u003cli\u003e\u003c\\/li\u003e\\n\\t\u003cli\u003eThe DateField and DateMathParser work out their times relative to \'now\'.\u003c\\/li\u003e\\n\\t\u003cli\u003eBy default, \'now\' is the local machine\'s System.currentTimeMillis().\u003c\\/li\u003e\\n\\t\u003cli\u003eThis parameter overrides the local value to use a different time.\u003c\\/li\u003e\\n\\t\u003cli\u003eThis is very useful for remote server queries where the times on the querying\u003c\\/li\u003e\\n\\t\u003cli\u003emachine are skewed\\/different than that of the date faceting machine.\u003c\\/li\u003e\\n\\t\u003cli\u003eThis is a date.facet global query parameter (i.e. not per field)\u003c\\/li\u003e\\n\\t\u003cli\u003e@see DateMathParser\u003c\\/li\u003e\\n\\t\u003cli\u003e@see DateField\u003cbr\\/\u003e\\n   *\\/\u003cbr\\/\u003e\\n  public static final String FACET_DATE_NOW = \\\"facet.date.now\\\";\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003eSimpleFacets.java:\u003cbr\\/\u003e\\nChange at line 551:\u003c\\/p\u003e\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003efinal Date NOW = new Date();\u003cbr\\/\u003e\\n+     final Date NOW = new Date(params.get(FacetParams.FACET_DATE_NOW) != null ? Long.parseLong(params.get(\\\"facet.date.now\\\")) : System.currentTimeMillis());\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"midiman\\\" id=\\\"commentauthor_12803349_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=midiman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"midiman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Peter Sturge\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12803349_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'21\\/Jan\\/10 16:27\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-01-21T16:27:12+0000\'\u003e21\\/Jan\\/10 16:27\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    These are the source files affected for this patch. \\nApologies for not creating a PATCH file - my tortoise svn is not working for creating patch files. \\nIf anyone would like to create a patch from these, that would be extraordinarily kind of you! \\n\\n Diff: (trunk: 1.4 Release) \\nFacetParams.java: \\nAdd at line 179: \\n  \\/** \\n \\n\\t String that tells the date facet counter what time to use as \'now\'. \\n\\t  \\n\\t The value of this parameter, if it exists, must be a stringified long \\n\\t of the number of milliseconds since the epoch (milliseconds since 1 Jan 1970 00:00). \\n\\t System.currentTimeMillis() provides this. \\n\\t  \\n\\t The DateField and DateMathParser work out their times relative to \'now\'. \\n\\t By default, \'now\' is the local machine\'s System.currentTimeMillis(). \\n\\t This parameter overrides the local value to use a different time. \\n\\t This is very useful for remote server queries where the times on the querying \\n\\t machine are skewed\\/different than that of the date faceting machine. \\n\\t This is a date.facet global query parameter (i.e. not per field) \\n\\t @see DateMathParser \\n\\t @see DateField \\n   *\\/ \\n  public static final String FACET_DATE_NOW = \\\"facet.date.now\\\"; \\n \\n\\n\\n SimpleFacets.java: \\nChange at line 551: \\n \\n\\t final Date NOW = new Date(); \\n+     final Date NOW = new Date(params.get(FacetParams.FACET_DATE_NOW) != null ? Long.parseLong(params.get(\\\"facet.date.now\\\")) : System.currentTimeMillis()); \\n \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12803568\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-1729?focusedCommentId=12803568&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12803568\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"lancenorskog\\\" id=\\\"commentauthor_12803568_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=lancenorskog\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"lancenorskog\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Lance Norskog\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12803568_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'22\\/Jan\\/10 01:42\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-01-22T01:42:04+0000\'\u003e22\\/Jan\\/10 01:42\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThis is a wider-ranging problem than just date facets.  If I am indexing data to several cores I might want to override the NOW tiime for each core. Or a distributed search that uses (NOW\\/HOUR). And then there\'s logging.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"lancenorskog\\\" id=\\\"commentauthor_12803568_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=lancenorskog\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"lancenorskog\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Lance Norskog\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12803568_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'22\\/Jan\\/10 01:42\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-01-22T01:42:04+0000\'\u003e22\\/Jan\\/10 01:42\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    This is a wider-ranging problem than just date facets.  If I am indexing data to several cores I might want to override the NOW tiime for each core. Or a distributed search that uses (NOW\\/HOUR). And then there\'s logging.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12803860\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-1729?focusedCommentId=12803860&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12803860\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"midiman\\\" id=\\\"commentauthor_12803860_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=midiman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"midiman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Peter Sturge\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12803860_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'22\\/Jan\\/10 20:49\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-01-22T20:49:26+0000\'\u003e22\\/Jan\\/10 20:49\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI agree there are wider issues that relate to this &#8211; this particular patch addresses the time sync issue for allowing distributed date facets to happen.\u003cbr\\/\u003e\\nIn this case, you must have multiple cores using the same NOW for all, so that your date facets are consistent. In fact, it doesn\'t really matter which now you use, as long they\'re all the same &#8211; the caller setting the now value makes the most sense.\u003c\\/p\u003e\\n\\n\u003cp\u003eFor other time-related queries, this might not be the case, but as you rightly pointed out, these are not addressed here.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"midiman\\\" id=\\\"commentauthor_12803860_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=midiman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"midiman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Peter Sturge\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12803860_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'22\\/Jan\\/10 20:49\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-01-22T20:49:26+0000\'\u003e22\\/Jan\\/10 20:49\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I agree there are wider issues that relate to this &#8211; this particular patch addresses the time sync issue for allowing distributed date facets to happen. \\nIn this case, you must have multiple cores using the same NOW for all, so that your date facets are consistent. In fact, it doesn\'t really matter which now you use, as long they\'re all the same &#8211; the caller setting the now value makes the most sense. \\n\\n For other time-related queries, this might not be the case, but as you rightly pointed out, these are not addressed here.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12805313\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-1729?focusedCommentId=12805313&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12805313\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"hossman\\\" id=\\\"commentauthor_12805313_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=hossman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"hossman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Hoss Man\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12805313_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'27\\/Jan\\/10 01:46\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-01-27T01:46:35+0000\'\u003e27\\/Jan\\/10 01:46\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cblockquote\u003e\u003cp\u003e(e.g. they are in a different time-zone, not time-synced etc.).\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003etime-zones should be irrelevant since all calculations are done in UTC ... lack of time-sync is a legitimate concern, but the more serious problem is distributed requests and network lag.  Even if all of the boxes have synchronized clocks, they might not all get queried at the exact same time, and multiple requets might be made to a single server for different phrases of the distributed request that expect to get the same answers.\u003c\\/p\u003e\\n\\n\u003cp\u003eIt should be noted that while adding support to date faceting for this type of \\\"when is now?\\\" is certainly \u003cem\u003enecessary\u003c\\/em\u003e to make distributed date faceting work sanely, it is not \u003cem\u003esufficient\u003c\\/em\u003e ... unless filter queries that use date math also respect it the counts returned from date faceting will still potentially be non-sensical.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"hossman\\\" id=\\\"commentauthor_12805313_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=hossman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"hossman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Hoss Man\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12805313_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'27\\/Jan\\/10 01:46\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-01-27T01:46:35+0000\'\u003e27\\/Jan\\/10 01:46\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     (e.g. they are in a different time-zone, not time-synced etc.).  \\n\\n time-zones should be irrelevant since all calculations are done in UTC ... lack of time-sync is a legitimate concern, but the more serious problem is distributed requests and network lag.  Even if all of the boxes have synchronized clocks, they might not all get queried at the exact same time, and multiple requets might be made to a single server for different phrases of the distributed request that expect to get the same answers. \\n\\n It should be noted that while adding support to date faceting for this type of \\\"when is now?\\\" is certainly  necessary  to make distributed date faceting work sanely, it is not  sufficient  ... unless filter queries that use date math also respect it the counts returned from date faceting will still potentially be non-sensical.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12805995\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-1729?focusedCommentId=12805995&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12805995\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"midiman\\\" id=\\\"commentauthor_12805995_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=midiman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"midiman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Peter Sturge\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12805995_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Jan\\/10 17:29\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-01-28T17:29:14+0000\'\u003e28\\/Jan\\/10 17:29\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003e\u003ccite\u003e...they might not all get queried at the exact same time\u003c\\/cite\u003e\u003c\\/p\u003e\\n\\n\u003cp\u003eI suppose this is what the explicit \'NOW\' is meant to resolve - staggered\\/lagged receipt\\/response, and, in an erzatz fashion, discrepencies in local time sync. Since the passed-in \'NOW\' is relative only to the epoch, network latency is handled, and time-sync on any given server is assumed to be correct.\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ccite\u003e...multiple requets might be made to a single server for different phrases of the distributed request that expect to get the same answers.\u003c\\/cite\u003e\u003c\\/p\u003e\\n\\n\u003cp\u003eAs long as the same code path is followed for such requests, it should honour the same (passed-in) \'NOW\'. Are there scenarios where this is not the case? In which case, yes, these would need to be addressed.\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ccite\u003e...unless filter queries that use date math also respect it the counts returned from date faceting will still potentially be non-sensical.\u003c\\/cite\u003e\u003c\\/p\u003e\\n\\n\u003cp\u003eDefinitely filter queries will need to get\\/use\\/honour the same \'NOW\' as its corresponding query, otherwise anarchy will quickly ensue.\u003cbr\\/\u003e\\nCan you point me toward the class(es) where filter queries\' date math lives, and I\'ll have a look? As filter queries are cached separately, can you think of any potential caching issues relating to filter queries?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"midiman\\\" id=\\\"commentauthor_12805995_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=midiman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"midiman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Peter Sturge\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12805995_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Jan\\/10 17:29\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-01-28T17:29:14+0000\'\u003e28\\/Jan\\/10 17:29\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     ...they might not all get queried at the exact same time  \\n\\n I suppose this is what the explicit \'NOW\' is meant to resolve - staggered\\/lagged receipt\\/response, and, in an erzatz fashion, discrepencies in local time sync. Since the passed-in \'NOW\' is relative only to the epoch, network latency is handled, and time-sync on any given server is assumed to be correct. \\n\\n  ...multiple requets might be made to a single server for different phrases of the distributed request that expect to get the same answers.  \\n\\n As long as the same code path is followed for such requests, it should honour the same (passed-in) \'NOW\'. Are there scenarios where this is not the case? In which case, yes, these would need to be addressed. \\n\\n  ...unless filter queries that use date math also respect it the counts returned from date faceting will still potentially be non-sensical.  \\n\\n Definitely filter queries will need to get\\/use\\/honour the same \'NOW\' as its corresponding query, otherwise anarchy will quickly ensue. \\nCan you point me toward the class(es) where filter queries\' date math lives, and I\'ll have a look? As filter queries are cached separately, can you think of any potential caching issues relating to filter queries?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12828846\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-1729?focusedCommentId=12828846&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12828846\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"hossman\\\" id=\\\"commentauthor_12828846_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=hossman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"hossman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Hoss Man\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12828846_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'02\\/Feb\\/10 23:50\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-02-02T23:50:51+0000\'\u003e02\\/Feb\\/10 23:50\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003ePeter: I think you may have misconstrued my comments &#8211; they were not criticisms of your patch, they were a clarification of why the functionality you are proposing is important.\u003c\\/p\u003e\\n\\n\u003cblockquote\u003e\u003cp\u003eCan you point me toward the class(es) where filter queries\' date math lives\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003eit\'s all handled internally by DateField, at which point it has no notion of the request &#8211; I believe this is why yonik suggested using a ThreadLocal variable to track a consistent \\\"NOW\\\" that any method anywhere in Solr could use (if set) for the current request ... then we just need something like SolrCore to set it on each request (or accept it as a parm if specified)\u003c\\/p\u003e\\n\\n\u003cblockquote\u003e\u003cp\u003eAs filter queries are cached separately, can you think of any potential caching issues relating to filter queries?\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003eThe cache keys for things like that are the Query objects themselves, and at that point the DateMath strings (including \\\"NOW\\\") have already been resolved into realy time values so that shouldn\'t be an issue.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"hossman\\\" id=\\\"commentauthor_12828846_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=hossman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"hossman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Hoss Man\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12828846_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'02\\/Feb\\/10 23:50\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-02-02T23:50:51+0000\'\u003e02\\/Feb\\/10 23:50\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Peter: I think you may have misconstrued my comments &#8211; they were not criticisms of your patch, they were a clarification of why the functionality you are proposing is important. \\n\\n  Can you point me toward the class(es) where filter queries\' date math lives  \\n\\n it\'s all handled internally by DateField, at which point it has no notion of the request &#8211; I believe this is why yonik suggested using a ThreadLocal variable to track a consistent \\\"NOW\\\" that any method anywhere in Solr could use (if set) for the current request ... then we just need something like SolrCore to set it on each request (or accept it as a parm if specified) \\n\\n  As filter queries are cached separately, can you think of any potential caching issues relating to filter queries?  \\n\\n The cache keys for things like that are the Query objects themselves, and at that point the DateMath strings (including \\\"NOW\\\") have already been resolved into realy time values so that shouldn\'t be an issue.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12829043\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-1729?focusedCommentId=12829043&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12829043\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"midiman\\\" id=\\\"commentauthor_12829043_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=midiman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"midiman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Peter Sturge\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12829043_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Feb\\/10 12:00\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-02-03T12:00:52+0000\'\u003e03\\/Feb\\/10 12:00\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eHi Chris,\u003cbr\\/\u003e\\nThanks for your comments - I hope I didn\'t sound like your comments were taken wrongly - I absolutely count on comments from you and other experts to make sure I\'m not missing some important functionality and\\/or side effect. You know the code base far better than I, so its great that you take the time to point out all the different bits and peices that need addressing.\u003c\\/p\u003e\\n\\n\u003cp\u003eI can certainly understand the need to address the \'core-global\' isssues raised by you and Yonik for storing a ThreadLocal \'query-global\' \'NOW\'.\u003cbr\\/\u003e\\nI suppose the main issue in implementing the thread-local route is that we\'d have to make sure we found every place in the query core that references now, and point those references to the new variable? If the \'code-at-large\' \u003cspan class=\\\"error\\\"\u003e&#91;hopefully&#93;\u003c\\/span\u003e always calls the date math routines for finding \'NOW\', great, it should be relatively straightforward. If there are any stray e.g. System.currentTimeMillis(), then it\'s a bit more fiddly, but still do-able.\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ccite\u003eit\'s all handled internally by DateField\u003c\\/cite\u003e\u003cbr\\/\u003e\\nSounds like DateField would the best candidate for holding the ThreadLocal? The query handler code can set the variable of its DateField instance if it\'s set in a query parameter, otherwise it just defaults to it\'s own local (UTC) time.\u003cbr\\/\u003e\\nCould be done similarly to DateField.ThreadLocalDateFormat, perhaps?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"midiman\\\" id=\\\"commentauthor_12829043_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=midiman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"midiman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Peter Sturge\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12829043_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Feb\\/10 12:00\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-02-03T12:00:52+0000\'\u003e03\\/Feb\\/10 12:00\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Hi Chris, \\nThanks for your comments - I hope I didn\'t sound like your comments were taken wrongly - I absolutely count on comments from you and other experts to make sure I\'m not missing some important functionality and\\/or side effect. You know the code base far better than I, so its great that you take the time to point out all the different bits and peices that need addressing. \\n\\n I can certainly understand the need to address the \'core-global\' isssues raised by you and Yonik for storing a ThreadLocal \'query-global\' \'NOW\'. \\nI suppose the main issue in implementing the thread-local route is that we\'d have to make sure we found every place in the query core that references now, and point those references to the new variable? If the \'code-at-large\'  &#91;hopefully&#93;  always calls the date math routines for finding \'NOW\', great, it should be relatively straightforward. If there are any stray e.g. System.currentTimeMillis(), then it\'s a bit more fiddly, but still do-able. \\n\\n  it\'s all handled internally by DateField  \\nSounds like DateField would the best candidate for holding the ThreadLocal? The query handler code can set the variable of its DateField instance if it\'s set in a query parameter, otherwise it just defaults to it\'s own local (UTC) time. \\nCould be done similarly to DateField.ThreadLocalDateFormat, perhaps?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12829077\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-1729?focusedCommentId=12829077&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12829077\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yseeley@gmail.com\\\" id=\\\"commentauthor_12829077_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yseeley%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yseeley@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yonik Seeley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12829077_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Feb\\/10 13:58\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-02-03T13:58:11+0000\'\u003e03\\/Feb\\/10 13:58\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cblockquote\u003e\u003cp\u003eSounds like DateField would the best candidate for holding the ThreadLocal?\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003eIt might be nice to provide a public static method like\u003cbr\\/\u003e\\npublic static long getNow()\u003cbr\\/\u003e\\nfor code that needs the value of NOW w\\/o going through date math (the ms() function for one)\u003c\\/p\u003e\\n\\n\u003cp\u003eThe other question is how the value is set to a particular value passed in on the request (for distributed search sync say).\u003cbr\\/\u003e\\nIt seems a bit awkward to have something global like  SolrCore.execute checking and setting \\\"NOW\\\"...\u003cbr\\/\u003e\\nan alternative that could help solve other problems is to have SolrCore.execute set a ThreadLocal&lt;SolrRequest&gt; that things like getNow() could check for a NOW param if it\'s thread local was not yet set.\u003c\\/p\u003e\\n\\n\u003cp\u003eAnother thing to think about: unlike the DateFormatter threadLocal, a NOW threadLocal changes behavior - so it needs to be well defined, and not just a local cache no one else knows about.  Example: say that we parallelize some things in the future and spin of multiple threads... if the threadLocal for NOW is not communicated to each thread, they would all come up with their own values again.\u003c\\/p\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yseeley@gmail.com\\\" id=\\\"commentauthor_12829077_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yseeley%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yseeley@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yonik Seeley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12829077_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Feb\\/10 13:58\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-02-03T13:58:11+0000\'\u003e03\\/Feb\\/10 13:58\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     Sounds like DateField would the best candidate for holding the ThreadLocal?  \\n\\n It might be nice to provide a public static method like \\npublic static long getNow() \\nfor code that needs the value of NOW w\\/o going through date math (the ms() function for one) \\n\\n The other question is how the value is set to a particular value passed in on the request (for distributed search sync say). \\nIt seems a bit awkward to have something global like  SolrCore.execute checking and setting \\\"NOW\\\"... \\nan alternative that could help solve other problems is to have SolrCore.execute set a ThreadLocal&lt;SolrRequest&gt; that things like getNow() could check for a NOW param if it\'s thread local was not yet set. \\n\\n Another thing to think about: unlike the DateFormatter threadLocal, a NOW threadLocal changes behavior - so it needs to be well defined, and not just a local cache no one else knows about.  Example: say that we parallelize some things in the future and spin of multiple threads... if the threadLocal for NOW is not communicated to each thread, they would all come up with their own values again. \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12834721\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-1729?focusedCommentId=12834721&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12834721\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"thomas.hammerl\\\" id=\\\"commentauthor_12834721_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=thomas.hammerl\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"thomas.hammerl\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Thomas Hammerl\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12834721_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Feb\\/10 10:15\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-02-17T10:15:56+0000\'\u003e17\\/Feb\\/10 10:15\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Thomas Hammerl - 17\\/Feb\\/10 10:25\\\"\u003eedited\u003c\\/span\u003e \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eAs in \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-1709\\\" title=\\\"Distributed Date and Range Faceting\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-1709\\\"\u003e\u003cdel\u003eSOLR-1709\u003c\\/del\u003e\u003c\\/a\u003e I\'m not able to apply this patch to solr-1.4.0 without getting a compile error:\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"preformatted panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"preformattedContent panelContent\\\"\u003e\\n\u003cpre\u003e[javac] \\/home\\/systemone\\/Desktop\\/solr-1.4.0\\/src\\/java\\/org\\/apache\\/solr\\/request\\/SimpleFacets.java:257:\\ngetCounts(org.apache.solr.search.SolrIndexSearcher,org.apache.solr.search.DocSet,int,int,java.lang.Integer,boolean,java.lang.String,java.lang.String)\\nin org.apache.solr.request.UnInvertedField cannot be applied to\\n(org.apache.solr.search.SolrIndexSearcher,org.apache.solr.search.DocSet,int,int,java.lang.Integer,boolean,java.lang.String,java.lang.String,java.lang.String)\\n[javac]         counts = uif.getCounts(searcher, base, offset, limit, mincount,missing,sort,prefix, facetSortOrder);\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003eIs it possible that you have forgotten to include your changes to org.apache.solr.request.UnInvertedField? The method getCounts is missing the facetSortOder parameter you are trying to pass in SimpleFacets.java.\u003c\\/p\u003e\\n\\n\u003cp\u003eI would be happy to attach a working patch-file to this issue.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"thomas.hammerl\\\" id=\\\"commentauthor_12834721_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=thomas.hammerl\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"thomas.hammerl\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Thomas Hammerl\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12834721_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Feb\\/10 10:15\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-02-17T10:15:56+0000\'\u003e17\\/Feb\\/10 10:15\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Thomas Hammerl - 17\\/Feb\\/10 10:25\\\"\u003eedited\u003c\\/span\u003e                   As in   SOLR-1709   I\'m not able to apply this patch to solr-1.4.0 without getting a compile error: \\n\\n  \\n [javac] \\/home\\/systemone\\/Desktop\\/solr-1.4.0\\/src\\/java\\/org\\/apache\\/solr\\/request\\/SimpleFacets.java:257:\\ngetCounts(org.apache.solr.search.SolrIndexSearcher,org.apache.solr.search.DocSet,int,int,java.lang.Integer,boolean,java.lang.String,java.lang.String)\\nin org.apache.solr.request.UnInvertedField cannot be applied to\\n(org.apache.solr.search.SolrIndexSearcher,org.apache.solr.search.DocSet,int,int,java.lang.Integer,boolean,java.lang.String,java.lang.String,java.lang.String)\\n[javac]         counts = uif.getCounts(searcher, base, offset, limit, mincount,missing,sort,prefix, facetSortOrder);\\n \\n  \\n\\n Is it possible that you have forgotten to include your changes to org.apache.solr.request.UnInvertedField? The method getCounts is missing the facetSortOder parameter you are trying to pass in SimpleFacets.java. \\n\\n I would be happy to attach a working patch-file to this issue.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12834751\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-1729?focusedCommentId=12834751&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12834751\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"midiman\\\" id=\\\"commentauthor_12834751_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=midiman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"midiman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Peter Sturge\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12834751_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Feb\\/10 12:28\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-02-17T12:28:24+0000\'\u003e17\\/Feb\\/10 12:28\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eHi Thomas,\u003c\\/p\u003e\\n\\n\u003cp\u003eThanks for catching this. I thought I\'d attached that one. \u003cb\u003esigh\u003c\\/b\u003e Honestly, that is really slack of me - many apologies.\u003cbr\\/\u003e\\nThe attached UnInvertedField.java has the updated getCounts() method. Any troubles, let me know.\u003c\\/p\u003e\\n\\n\u003cp\u003eThanks!\u003cbr\\/\u003e\\nPeter\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"midiman\\\" id=\\\"commentauthor_12834751_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=midiman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"midiman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Peter Sturge\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12834751_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Feb\\/10 12:28\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-02-17T12:28:24+0000\'\u003e17\\/Feb\\/10 12:28\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Hi Thomas, \\n\\n Thanks for catching this. I thought I\'d attached that one.  sigh  Honestly, that is really slack of me - many apologies. \\nThe attached UnInvertedField.java has the updated getCounts() method. Any troubles, let me know. \\n\\n Thanks! \\nPeter              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12834756\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-1729?focusedCommentId=12834756&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12834756\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"thomas.hammerl\\\" id=\\\"commentauthor_12834756_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=thomas.hammerl\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"thomas.hammerl\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Thomas Hammerl\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12834756_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Feb\\/10 13:08\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-02-17T13:08:22+0000\'\u003e17\\/Feb\\/10 13:08\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eHi Peter!\u003c\\/p\u003e\\n\\n\u003cp\u003eNo problem! Thanks for contributing the code! I have attached a patch file containing your changes to this issue. Everything compiles fine for me now.\u003c\\/p\u003e\\n\\n\u003cp\u003eThank you too! Greetings,\u003cbr\\/\u003e\\nThomas\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"thomas.hammerl\\\" id=\\\"commentauthor_12834756_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=thomas.hammerl\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"thomas.hammerl\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Thomas Hammerl\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12834756_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Feb\\/10 13:08\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-02-17T13:08:22+0000\'\u003e17\\/Feb\\/10 13:08\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Hi Peter! \\n\\n No problem! Thanks for contributing the code! I have attached a patch file containing your changes to this issue. Everything compiles fine for me now. \\n\\n Thank you too! Greetings, \\nThomas              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12966181\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-1729?focusedCommentId=12966181&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12966181\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"peathal\\\" id=\\\"commentauthor_12966181_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=peathal\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"peathal\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Peter Karich\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12966181_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'02\\/Dec\\/10 17:05\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-12-02T17:05:20+0000\'\u003e02\\/Dec\\/10 17:05\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003ePeter Sturge,\u003c\\/p\u003e\\n\\n\u003cp\u003ein \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-1709\\\" title=\\\"Distributed Date and Range Faceting\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-1709\\\"\u003e\u003cdel\u003eSOLR-1709\u003c\\/del\u003e\u003c\\/a\u003e you said that you are working with branch3x I checked it out from here:\u003cbr\\/\u003e\\n\u003ca href=\\\"https:\\/\\/svn.apache.org\\/repos\\/asf\\/lucene\\/dev\\/branches\\/branch_3x\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttps:\\/\\/svn.apache.org\\/repos\\/asf\\/lucene\\/dev\\/branches\\/branch_3x\u003c\\/a\u003e\u003c\\/p\u003e\\n\\n\u003cp\u003ebut this 1729 patch didn\'t apply cleanly*. \u003c\\/p\u003e\\n\\n\u003cp\u003eWhen I tried the 1.4.1 release it is ok, but the tests fail due to**\u003c\\/p\u003e\\n\\n\u003cp\u003eWhat could be wrong?\u003c\\/p\u003e\\n\\n\u003cp\u003eRegards,\u003cbr\\/\u003e\\nPeter.\u003c\\/p\u003e\\n\\n\\n\\n\u003cp\u003e*\u003cbr\\/\u003e\\nsolr_branch_3x\\/solr$ patch -p0 &lt; solr-1.4.0-solr-1729.patch \u003cbr\\/\u003e\\npatching file src\\/java\\/org\\/apache\\/solr\\/request\\/SimpleFacets.java\u003cbr\\/\u003e\\nHunk #1 succeeded at 245 (offset 28 lines).\u003cbr\\/\u003e\\nHunk #2 succeeded at 280 (offset 28 lines).\u003cbr\\/\u003e\\nHunk #3 FAILED at 582.\u003cbr\\/\u003e\\nHunk #4 FAILED at 652.\u003cbr\\/\u003e\\n2 out of 4 hunks FAILED &#8211; saving rejects to file src\\/java\\/org\\/apache\\/solr\\/request\\/SimpleFacets.java.rej\u003cbr\\/\u003e\\npatching file src\\/java\\/org\\/apache\\/solr\\/request\\/UnInvertedField.java\u003cbr\\/\u003e\\nHunk #2 succeeded at 40 with fuzz 1 (offset 1 line).\u003cbr\\/\u003e\\nHunk #3 succeeded at 440 (offset 5 lines).\u003cbr\\/\u003e\\nHunk #4 succeeded at 557 (offset 5 lines).\u003cbr\\/\u003e\\npatching file src\\/common\\/org\\/apache\\/solr\\/common\\/params\\/FacetParams.java\u003cbr\\/\u003e\\nHunk #1 FAILED at 175.\u003cbr\\/\u003e\\n1 out of 1 hunk FAILED &#8211; saving rejects to file src\\/common\\/org\\/apache\\/solr\\/common\\/params\\/FacetParams.java.rej\u003c\\/p\u003e\\n\\n\\n\\n\\n\u003cp\u003e**\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e Running org.apache.solr.TestTrie\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e  xml response was: &lt;?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?&gt;\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e &lt;response&gt;\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e &lt;lst name=\\\"responseHeader\\\"&gt;&lt;int name=\\\"status\\\"&gt;0&lt;\\/int&gt;&lt;int name=\\\"QTime\\\"&gt;157&lt;\\/int&gt;&lt;\\/lst&gt;&lt;result name=\\\"response\\\" numFound=\\\"15\\\" start=\\\"0\\\"&gt;&lt;doc&gt;&lt;float name=\\\"id\\\"&gt;0.0&lt;\\/float&gt;&lt;date name=\\\"tdate\\\"&gt;2010-12-02T00:00:00Z&lt;\\/date&gt;&lt;double name=\\\"tdouble\\\"&gt;0.0&lt;\\/double&gt;&lt;float name=\\\"tfloat\\\"&gt;0.0&lt;\\/float&gt;&lt;int name=\\\"tint\\\"&gt;0&lt;\\/int&gt;&lt;long name=\\\"tlong\\\"&gt;2147483647&lt;\\/long&gt;&lt;\\/doc&gt;&lt;doc&gt;&lt;float name=\\\"id\\\"&gt;1.0&lt;\\/float&gt;&lt;date name=\\\"tdate\\\"&gt;2010-12-03T00:00:00Z&lt;\\/date&gt;&lt;double name=\\\"tdouble\\\"&gt;2.33&lt;\\/double&gt;&lt;float name=\\\"tfloat\\\"&gt;31.11&lt;\\/float&gt;&lt;int name=\\\"tint\\\"&gt;1&lt;\\/int&gt;&lt;long name=\\\"tlong\\\"&gt;2147483648&lt;\\/long&gt;&lt;\\/doc&gt;&lt;doc&gt;&lt;float name=\\\"id\\\"&gt;2.0&lt;\\/float&gt;&lt;date name=\\\"tdate\\\"&gt;2010-12-04T00:00:00Z&lt;\\/date&gt;&lt;double name=\\\"tdouble\\\"&gt;4.66&lt;\\/double&gt;&lt;float name=\\\"tfloat\\\"&gt;124.44&lt;\\/float&gt;&lt;int name=\\\"tint\\\"&gt;2&lt;\\/int&gt;&lt;long name=\\\"tlong\\\"&gt;2147483649&lt;\\/long&gt;&lt;\\/doc&gt;&lt;doc&gt;&lt;float name=\\\"id\\\"&gt;3.0&lt;\\/float&gt;&lt;date name=\\\"tdate\\\"&gt;2010-12-05T00:00:00Z&lt;\\/date&gt;&lt;double name=\\\"tdouble\\\"&gt;6.99&lt;\\/double&gt;&lt;float name=\\\"tfloat\\\"&gt;279.99&lt;\\/float&gt;&lt;int name=\\\"tint\\\"&gt;3&lt;\\/int&gt;&lt;long name=\\\"tlong\\\"&gt;2147483650&lt;\\/long&gt;&lt;\\/doc&gt;&lt;doc&gt;&lt;float name=\\\"id\\\"&gt;4.0&lt;\\/float&gt;&lt;date name=\\\"tdate\\\"&gt;2010-12-06T00:00:00Z&lt;\\/date&gt;&lt;double name=\\\"tdouble\\\"&gt;9.32&lt;\\/double&gt;&lt;float name=\\\"tfloat\\\"&gt;497.76&lt;\\/float&gt;&lt;int name=\\\"tint\\\"&gt;4&lt;\\/int&gt;&lt;long name=\\\"tlong\\\"&gt;2147483651&lt;\\/long&gt;&lt;\\/doc&gt;&lt;doc&gt;&lt;float name=\\\"id\\\"&gt;5.0&lt;\\/float&gt;&lt;date name=\\\"tdate\\\"&gt;2010-12-07T00:00:00Z&lt;\\/date&gt;&lt;double name=\\\"tdouble\\\"&gt;11.65&lt;\\/double&gt;&lt;float name=\\\"tfloat\\\"&gt;777.75&lt;\\/float&gt;&lt;int name=\\\"tint\\\"&gt;5&lt;\\/int&gt;&lt;long name=\\\"tlong\\\"&gt;2147483652&lt;\\/long&gt;&lt;\\/doc&gt;&lt;doc&gt;&lt;float name=\\\"id\\\"&gt;6.0&lt;\\/float&gt;&lt;date name=\\\"tdate\\\"&gt;2010-12-08T00:00:00Z&lt;\\/date&gt;&lt;double name=\\\"tdouble\\\"&gt;13.98&lt;\\/double&gt;&lt;float name=\\\"tfloat\\\"&gt;1119.96&lt;\\/float&gt;&lt;int name=\\\"tint\\\"&gt;6&lt;\\/int&gt;&lt;long name=\\\"tlong\\\"&gt;2147483653&lt;\\/long&gt;&lt;\\/doc&gt;&lt;doc&gt;&lt;float name=\\\"id\\\"&gt;7.0&lt;\\/float&gt;&lt;date name=\\\"tdate\\\"&gt;2010-12-09T00:00:00Z&lt;\\/date&gt;&lt;double name=\\\"tdouble\\\"&gt;16.310000000000002&lt;\\/double&gt;&lt;float name=\\\"tfloat\\\"&gt;1524.39&lt;\\/float&gt;&lt;int name=\\\"tint\\\"&gt;7&lt;\\/int&gt;&lt;long name=\\\"tlong\\\"&gt;2147483654&lt;\\/long&gt;&lt;\\/doc&gt;&lt;doc&gt;&lt;float name=\\\"id\\\"&gt;8.0&lt;\\/float&gt;&lt;date name=\\\"tdate\\\"&gt;2010-12-10T00:00:00Z&lt;\\/date&gt;&lt;double name=\\\"tdouble\\\"&gt;18.64&lt;\\/double&gt;&lt;float name=\\\"tfloat\\\"&gt;1991.04&lt;\\/float&gt;&lt;int name=\\\"tint\\\"&gt;8&lt;\\/int&gt;&lt;long name=\\\"tlong\\\"&gt;2147483655&lt;\\/long&gt;&lt;\\/doc&gt;&lt;doc&gt;&lt;float name=\\\"id\\\"&gt;9.0&lt;\\/float&gt;&lt;date name=\\\"tdate\\\"&gt;2010-12-11T00:00:00Z&lt;\\/date&gt;&lt;double name=\\\"tdouble\\\"&gt;20.97&lt;\\/double&gt;&lt;float name=\\\"tfloat\\\"&gt;2519.9102&lt;\\/float&gt;&lt;int name=\\\"tint\\\"&gt;9&lt;\\/int&gt;&lt;long name=\\\"tlong\\\"&gt;2147483656&lt;\\/long&gt;&lt;\\/doc&gt;&lt;doc&gt;&lt;float name=\\\"id\\\"&gt;10.0&lt;\\/float&gt;&lt;date name=\\\"tdate\\\"&gt;2010-12-02T00:00:00Z&lt;\\/date&gt;&lt;double name=\\\"tdouble\\\"&gt;0.0&lt;\\/double&gt;&lt;float name=\\\"tfloat\\\"&gt;0.0&lt;\\/float&gt;&lt;int name=\\\"tint\\\"&gt;0&lt;\\/int&gt;&lt;long name=\\\"tlong\\\"&gt;2147483647&lt;\\/long&gt;&lt;\\/doc&gt;&lt;doc&gt;&lt;float name=\\\"id\\\"&gt;20.0&lt;\\/float&gt;&lt;date name=\\\"tdate\\\"&gt;2010-12-03T00:00:00Z&lt;\\/date&gt;&lt;double name=\\\"tdouble\\\"&gt;2.33&lt;\\/double&gt;&lt;float name=\\\"tfloat\\\"&gt;31.11&lt;\\/float&gt;&lt;int name=\\\"tint\\\"&gt;1&lt;\\/int&gt;&lt;long name=\\\"tlong\\\"&gt;2147483648&lt;\\/long&gt;&lt;\\/doc&gt;&lt;doc&gt;&lt;float name=\\\"id\\\"&gt;30.0&lt;\\/float&gt;&lt;date name=\\\"tdate\\\"&gt;2010-12-04T00:00:00Z&lt;\\/date&gt;&lt;double name=\\\"tdouble\\\"&gt;4.66&lt;\\/double&gt;&lt;float name=\\\"tfloat\\\"&gt;124.44&lt;\\/float&gt;&lt;int name=\\\"tint\\\"&gt;2&lt;\\/int&gt;&lt;long name=\\\"tlong\\\"&gt;2147483649&lt;\\/long&gt;&lt;\\/doc&gt;&lt;doc&gt;&lt;float name=\\\"id\\\"&gt;40.0&lt;\\/float&gt;&lt;date name=\\\"tdate\\\"&gt;2010-12-05T00:00:00Z&lt;\\/date&gt;&lt;double name=\\\"tdouble\\\"&gt;6.99&lt;\\/double&gt;&lt;float name=\\\"tfloat\\\"&gt;279.99&lt;\\/float&gt;&lt;int name=\\\"tint\\\"&gt;3&lt;\\/int&gt;&lt;long name=\\\"tlong\\\"&gt;2147483650&lt;\\/long&gt;&lt;\\/doc&gt;&lt;doc&gt;&lt;float name=\\\"id\\\"&gt;50.0&lt;\\/float&gt;&lt;date name=\\\"tdate\\\"&gt;2010-12-06T00:00:00Z&lt;\\/date&gt;&lt;double name=\\\"tdouble\\\"&gt;9.32&lt;\\/double&gt;&lt;float name=\\\"tfloat\\\"&gt;497.76&lt;\\/float&gt;&lt;int name=\\\"tint\\\"&gt;4&lt;\\/int&gt;&lt;long name=\\\"tlong\\\"&gt;2147483651&lt;\\/long&gt;&lt;\\/doc&gt;&lt;\\/result&gt;&lt;lst name=\\\"facet_counts\\\"&gt;&lt;lst name=\\\"facet_queries\\\"\\/&gt;&lt;lst name=\\\"facet_fields\\\"&gt;&lt;lst name=\\\"tint\\\"&gt;&lt;int name=\\\"0\\\"&gt;2&lt;\\/int&gt;&lt;int name=\\\"1\\\"&gt;2&lt;\\/int&gt;&lt;int name=\\\"2\\\"&gt;2&lt;\\/int&gt;&lt;int name=\\\"3\\\"&gt;2&lt;\\/int&gt;&lt;int name=\\\"4\\\"&gt;2&lt;\\/int&gt;&lt;int name=\\\"5\\\"&gt;1&lt;\\/int&gt;&lt;int name=\\\"6\\\"&gt;1&lt;\\/int&gt;&lt;int name=\\\"7\\\"&gt;1&lt;\\/int&gt;&lt;int name=\\\"8\\\"&gt;1&lt;\\/int&gt;&lt;int name=\\\"9\\\"&gt;1&lt;\\/int&gt;&lt;\\/lst&gt;&lt;lst name=\\\"tlong\\\"&gt;&lt;int name=\\\"2147483647\\\"&gt;2&lt;\\/int&gt;&lt;int name=\\\"2147483648\\\"&gt;2&lt;\\/int&gt;&lt;int name=\\\"2147483649\\\"&gt;2&lt;\\/int&gt;&lt;int name=\\\"2147483650\\\"&gt;2&lt;\\/int&gt;&lt;int name=\\\"2147483651\\\"&gt;2&lt;\\/int&gt;&lt;int name=\\\"2147483652\\\"&gt;1&lt;\\/int&gt;&lt;int name=\\\"2147483653\\\"&gt;1&lt;\\/int&gt;&lt;int name=\\\"2147483654\\\"&gt;1&lt;\\/int&gt;&lt;int name=\\\"2147483655\\\"&gt;1&lt;\\/int&gt;&lt;int name=\\\"2147483656\\\"&gt;1&lt;\\/int&gt;&lt;\\/lst&gt;&lt;lst name=\\\"tfloat\\\"&gt;&lt;int name=\\\"0.0\\\"&gt;2&lt;\\/int&gt;&lt;int name=\\\"31.11\\\"&gt;2&lt;\\/int&gt;&lt;int name=\\\"124.44\\\"&gt;2&lt;\\/int&gt;&lt;int name=\\\"279.99\\\"&gt;2&lt;\\/int&gt;&lt;int name=\\\"497.76\\\"&gt;2&lt;\\/int&gt;&lt;int name=\\\"777.75\\\"&gt;1&lt;\\/int&gt;&lt;int name=\\\"1119.96\\\"&gt;1&lt;\\/int&gt;&lt;int name=\\\"1524.39\\\"&gt;1&lt;\\/int&gt;&lt;int name=\\\"1991.04\\\"&gt;1&lt;\\/int&gt;&lt;int name=\\\"2519.9102\\\"&gt;1&lt;\\/int&gt;&lt;\\/lst&gt;&lt;lst name=\\\"tdouble\\\"&gt;&lt;int name=\\\"0.0\\\"&gt;2&lt;\\/int&gt;&lt;int name=\\\"2.33\\\"&gt;2&lt;\\/int&gt;&lt;int name=\\\"4.66\\\"&gt;2&lt;\\/int&gt;&lt;int name=\\\"6.99\\\"&gt;2&lt;\\/int&gt;&lt;int name=\\\"9.32\\\"&gt;2&lt;\\/int&gt;&lt;int name=\\\"11.65\\\"&gt;1&lt;\\/int&gt;&lt;int name=\\\"13.98\\\"&gt;1&lt;\\/int&gt;&lt;int name=\\\"16.310000000000002\\\"&gt;1&lt;\\/int&gt;&lt;int name=\\\"18.64\\\"&gt;1&lt;\\/int&gt;&lt;int name=\\\"20.97\\\"&gt;1&lt;\\/int&gt;&lt;\\/lst&gt;&lt;\\/lst&gt;&lt;lst name=\\\"facet_dates\\\"&gt;&lt;lst name=\\\"tdate\\\"&gt;&lt;int name=\\\"2010-12-02T00:00:00Z\\\"&gt;2&lt;\\/int&gt;&lt;int name=\\\"2010-12-03T00:00:00Z\\\"&gt;2&lt;\\/int&gt;&lt;int name=\\\"2010-12-04T00:00:00Z\\\"&gt;2&lt;\\/int&gt;&lt;int name=\\\"2010-12-05T00:00:00Z\\\"&gt;2&lt;\\/int&gt;&lt;int name=\\\"2010-12-06T00:00:00Z\\\"&gt;1&lt;\\/int&gt;&lt;int name=\\\"2010-12-07T00:00:00Z\\\"&gt;1&lt;\\/int&gt;&lt;str name=\\\"gap\\\"&gt;+1DAY&lt;\\/str&gt;&lt;date name=\\\"end\\\"&gt;2010-12-08T00:00:00Z&lt;\\/date&gt;&lt;\\/lst&gt;&lt;\\/lst&gt;&lt;\\/lst&gt;\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e &lt;\\/response&gt;\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e \u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e  request was: facet.date.start=NOW\\/DAY&amp;facet=true&amp;q=\u003cb\u003e:\u003c\\/b\u003e&amp;facet.date=tdate&amp;facet.date.gap=%2B1DAY&amp;facet.field=tint&amp;facet.field=tlong&amp;facet.field=tfloat&amp;facet.field=tdouble&amp;facet.date.end=NOW\\/DAY%2B6DAYS&amp;rows=15)\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e Tests run: 8, Failures: 1, Errors: 0, Time elapsed: 4,948 sec\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e Test org.apache.solr.TestTrie FAILED\u003c\\/p\u003e\\n\\n\\n\\n\\n\u003cp\u003e    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e Running org.apache.solr.request.SimpleFacetsTest\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e  xml response was: &lt;?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?&gt;\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e &lt;response&gt;\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e &lt;lst name=\\\"responseHeader\\\"&gt;&lt;int name=\\\"status\\\"&gt;0&lt;\\/int&gt;&lt;int name=\\\"QTime\\\"&gt;11&lt;\\/int&gt;&lt;\\/lst&gt;&lt;result name=\\\"response\\\" numFound=\\\"14\\\" start=\\\"0\\\"\\/&gt;&lt;lst name=\\\"facet_counts\\\"&gt;&lt;lst name=\\\"facet_queries\\\"\\/&gt;&lt;lst name=\\\"facet_fields\\\"\\/&gt;&lt;lst name=\\\"facet_dates\\\"&gt;&lt;lst name=\\\"bday\\\"&gt;&lt;int name=\\\"1976-07-01T00:00:00Z\\\"&gt;0&lt;\\/int&gt;&lt;int name=\\\"1976-07-02T00:00:00Z\\\"&gt;0&lt;\\/int&gt;&lt;int name=\\\"1976-07-03T00:00:00Z\\\"&gt;2&lt;\\/int&gt;&lt;int name=\\\"1976-07-04T00:00:00Z\\\"&gt;2&lt;\\/int&gt;&lt;int name=\\\"1976-07-05T00:00:00Z\\\"&gt;1&lt;\\/int&gt;&lt;int name=\\\"1976-07-06T00:00:00Z\\\"&gt;0&lt;\\/int&gt;&lt;int name=\\\"1976-07-07T00:00:00Z\\\"&gt;0&lt;\\/int&gt;&lt;int name=\\\"1976-07-08T00:00:00Z\\\"&gt;0&lt;\\/int&gt;&lt;int name=\\\"1976-07-09T00:00:00Z\\\"&gt;0&lt;\\/int&gt;&lt;int name=\\\"1976-07-10T00:00:00Z\\\"&gt;0&lt;\\/int&gt;&lt;int name=\\\"1976-07-11T00:00:00Z\\\"&gt;0&lt;\\/int&gt;&lt;int name=\\\"1976-07-12T00:00:00Z\\\"&gt;1&lt;\\/int&gt;&lt;int name=\\\"1976-07-13T00:00:00Z\\\"&gt;1&lt;\\/int&gt;&lt;int name=\\\"1976-07-14T00:00:00Z\\\"&gt;0&lt;\\/int&gt;&lt;int name=\\\"1976-07-15T00:00:00Z\\\"&gt;2&lt;\\/int&gt;&lt;int name=\\\"1976-07-16T00:00:00Z\\\"&gt;0&lt;\\/int&gt;&lt;int name=\\\"1976-07-17T00:00:00Z\\\"&gt;0&lt;\\/int&gt;&lt;int name=\\\"1976-07-18T00:00:00Z\\\"&gt;0&lt;\\/int&gt;&lt;int name=\\\"1976-07-19T00:00:00Z\\\"&gt;0&lt;\\/int&gt;&lt;int name=\\\"1976-07-20T00:00:00Z\\\"&gt;0&lt;\\/int&gt;&lt;int name=\\\"1976-07-21T00:00:00Z\\\"&gt;1&lt;\\/int&gt;&lt;int name=\\\"1976-07-22T00:00:00Z\\\"&gt;0&lt;\\/int&gt;&lt;int name=\\\"1976-07-23T00:00:00Z\\\"&gt;0&lt;\\/int&gt;&lt;int name=\\\"1976-07-24T00:00:00Z\\\"&gt;0&lt;\\/int&gt;&lt;int name=\\\"1976-07-25T00:00:00Z\\\"&gt;0&lt;\\/int&gt;&lt;int name=\\\"1976-07-26T00:00:00Z\\\"&gt;0&lt;\\/int&gt;&lt;int name=\\\"1976-07-27T00:00:00Z\\\"&gt;0&lt;\\/int&gt;&lt;int name=\\\"1976-07-28T00:00:00Z\\\"&gt;0&lt;\\/int&gt;&lt;int name=\\\"1976-07-29T00:00:00Z\\\"&gt;0&lt;\\/int&gt;&lt;int name=\\\"1976-07-30T00:00:00Z\\\"&gt;1&lt;\\/int&gt;&lt;int name=\\\"1976-07-31T00:00:00Z\\\"&gt;0&lt;\\/int&gt;&lt;str name=\\\"gap\\\"&gt;+1DAY&lt;\\/str&gt;&lt;date name=\\\"end\\\"&gt;1976-08-01T00:00:00Z&lt;\\/date&gt;&lt;int name=\\\"before\\\"&gt;2&lt;\\/int&gt;&lt;int name=\\\"after\\\"&gt;1&lt;\\/int&gt;&lt;int name=\\\"between\\\"&gt;11&lt;\\/int&gt;&lt;\\/lst&gt;&lt;\\/lst&gt;&lt;\\/lst&gt;\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e &lt;\\/response&gt;\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e \u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e  request was: facet.date.start=1976-07-01T00:00:00.000Z&amp;facet=true&amp;q=\u003cb\u003e:\u003c\\/b\u003e&amp;facet.date=bday&amp;facet.date.other=all&amp;facet.date.gap=%2B1DAY&amp;facet.date.end=1976-07-01T00:00:00.000Z%2B1MONTH&amp;rows=0)\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e Tests run: 6, Failures: 1, Errors: 0, Time elapsed: 6,996 sec\u003cbr\\/\u003e\\n    \u003cspan class=\\\"error\\\"\u003e&#91;junit&#93;\u003c\\/span\u003e Test org.apache.solr.request.SimpleFacetsTest FAILED\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"peathal\\\" id=\\\"commentauthor_12966181_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=peathal\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"peathal\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Peter Karich\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12966181_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'02\\/Dec\\/10 17:05\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-12-02T17:05:20+0000\'\u003e02\\/Dec\\/10 17:05\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Peter Sturge, \\n\\n in   SOLR-1709   you said that you are working with branch3x I checked it out from here: \\n https:\\/\\/svn.apache.org\\/repos\\/asf\\/lucene\\/dev\\/branches\\/branch_3x  \\n\\n but this 1729 patch didn\'t apply cleanly*.  \\n\\n When I tried the 1.4.1 release it is ok, but the tests fail due to** \\n\\n What could be wrong? \\n\\n Regards, \\nPeter. \\n\\n\\n\\n * \\nsolr_branch_3x\\/solr$ patch -p0 &lt; solr-1.4.0-solr-1729.patch  \\npatching file src\\/java\\/org\\/apache\\/solr\\/request\\/SimpleFacets.java \\nHunk #1 succeeded at 245 (offset 28 lines). \\nHunk #2 succeeded at 280 (offset 28 lines). \\nHunk #3 FAILED at 582. \\nHunk #4 FAILED at 652. \\n2 out of 4 hunks FAILED &#8211; saving rejects to file src\\/java\\/org\\/apache\\/solr\\/request\\/SimpleFacets.java.rej \\npatching file src\\/java\\/org\\/apache\\/solr\\/request\\/UnInvertedField.java \\nHunk #2 succeeded at 40 with fuzz 1 (offset 1 line). \\nHunk #3 succeeded at 440 (offset 5 lines). \\nHunk #4 succeeded at 557 (offset 5 lines). \\npatching file src\\/common\\/org\\/apache\\/solr\\/common\\/params\\/FacetParams.java \\nHunk #1 FAILED at 175. \\n1 out of 1 hunk FAILED &#8211; saving rejects to file src\\/common\\/org\\/apache\\/solr\\/common\\/params\\/FacetParams.java.rej \\n\\n\\n\\n\\n ** \\n     &#91;junit&#93;  Running org.apache.solr.TestTrie \\n     &#91;junit&#93;   xml response was: &lt;?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?&gt; \\n     &#91;junit&#93;  &lt;response&gt; \\n     &#91;junit&#93;  &lt;lst name=\\\"responseHeader\\\"&gt;&lt;int name=\\\"status\\\"&gt;0&lt;\\/int&gt;&lt;int name=\\\"QTime\\\"&gt;157&lt;\\/int&gt;&lt;\\/lst&gt;&lt;result name=\\\"response\\\" numFound=\\\"15\\\" start=\\\"0\\\"&gt;&lt;doc&gt;&lt;float name=\\\"id\\\"&gt;0.0&lt;\\/float&gt;&lt;date name=\\\"tdate\\\"&gt;2010-12-02T00:00:00Z&lt;\\/date&gt;&lt;double name=\\\"tdouble\\\"&gt;0.0&lt;\\/double&gt;&lt;float name=\\\"tfloat\\\"&gt;0.0&lt;\\/float&gt;&lt;int name=\\\"tint\\\"&gt;0&lt;\\/int&gt;&lt;long name=\\\"tlong\\\"&gt;2147483647&lt;\\/long&gt;&lt;\\/doc&gt;&lt;doc&gt;&lt;float name=\\\"id\\\"&gt;1.0&lt;\\/float&gt;&lt;date name=\\\"tdate\\\"&gt;2010-12-03T00:00:00Z&lt;\\/date&gt;&lt;double name=\\\"tdouble\\\"&gt;2.33&lt;\\/double&gt;&lt;float name=\\\"tfloat\\\"&gt;31.11&lt;\\/float&gt;&lt;int name=\\\"tint\\\"&gt;1&lt;\\/int&gt;&lt;long name=\\\"tlong\\\"&gt;2147483648&lt;\\/long&gt;&lt;\\/doc&gt;&lt;doc&gt;&lt;float name=\\\"id\\\"&gt;2.0&lt;\\/float&gt;&lt;date name=\\\"tdate\\\"&gt;2010-12-04T00:00:00Z&lt;\\/date&gt;&lt;double name=\\\"tdouble\\\"&gt;4.66&lt;\\/double&gt;&lt;float name=\\\"tfloat\\\"&gt;124.44&lt;\\/float&gt;&lt;int name=\\\"tint\\\"&gt;2&lt;\\/int&gt;&lt;long name=\\\"tlong\\\"&gt;2147483649&lt;\\/long&gt;&lt;\\/doc&gt;&lt;doc&gt;&lt;float name=\\\"id\\\"&gt;3.0&lt;\\/float&gt;&lt;date name=\\\"tdate\\\"&gt;2010-12-05T00:00:00Z&lt;\\/date&gt;&lt;double name=\\\"tdouble\\\"&gt;6.99&lt;\\/double&gt;&lt;float name=\\\"tfloat\\\"&gt;279.99&lt;\\/float&gt;&lt;int name=\\\"tint\\\"&gt;3&lt;\\/int&gt;&lt;long name=\\\"tlong\\\"&gt;2147483650&lt;\\/long&gt;&lt;\\/doc&gt;&lt;doc&gt;&lt;float name=\\\"id\\\"&gt;4.0&lt;\\/float&gt;&lt;date name=\\\"tdate\\\"&gt;2010-12-06T00:00:00Z&lt;\\/date&gt;&lt;double name=\\\"tdouble\\\"&gt;9.32&lt;\\/double&gt;&lt;float name=\\\"tfloat\\\"&gt;497.76&lt;\\/float&gt;&lt;int name=\\\"tint\\\"&gt;4&lt;\\/int&gt;&lt;long name=\\\"tlong\\\"&gt;2147483651&lt;\\/long&gt;&lt;\\/doc&gt;&lt;doc&gt;&lt;float name=\\\"id\\\"&gt;5.0&lt;\\/float&gt;&lt;date name=\\\"tdate\\\"&gt;2010-12-07T00:00:00Z&lt;\\/date&gt;&lt;double name=\\\"tdouble\\\"&gt;11.65&lt;\\/double&gt;&lt;float name=\\\"tfloat\\\"&gt;777.75&lt;\\/float&gt;&lt;int name=\\\"tint\\\"&gt;5&lt;\\/int&gt;&lt;long name=\\\"tlong\\\"&gt;2147483652&lt;\\/long&gt;&lt;\\/doc&gt;&lt;doc&gt;&lt;float name=\\\"id\\\"&gt;6.0&lt;\\/float&gt;&lt;date name=\\\"tdate\\\"&gt;2010-12-08T00:00:00Z&lt;\\/date&gt;&lt;double name=\\\"tdouble\\\"&gt;13.98&lt;\\/double&gt;&lt;float name=\\\"tfloat\\\"&gt;1119.96&lt;\\/float&gt;&lt;int name=\\\"tint\\\"&gt;6&lt;\\/int&gt;&lt;long name=\\\"tlong\\\"&gt;2147483653&lt;\\/long&gt;&lt;\\/doc&gt;&lt;doc&gt;&lt;float name=\\\"id\\\"&gt;7.0&lt;\\/float&gt;&lt;date name=\\\"tdate\\\"&gt;2010-12-09T00:00:00Z&lt;\\/date&gt;&lt;double name=\\\"tdouble\\\"&gt;16.310000000000002&lt;\\/double&gt;&lt;float name=\\\"tfloat\\\"&gt;1524.39&lt;\\/float&gt;&lt;int name=\\\"tint\\\"&gt;7&lt;\\/int&gt;&lt;long name=\\\"tlong\\\"&gt;2147483654&lt;\\/long&gt;&lt;\\/doc&gt;&lt;doc&gt;&lt;float name=\\\"id\\\"&gt;8.0&lt;\\/float&gt;&lt;date name=\\\"tdate\\\"&gt;2010-12-10T00:00:00Z&lt;\\/date&gt;&lt;double name=\\\"tdouble\\\"&gt;18.64&lt;\\/double&gt;&lt;float name=\\\"tfloat\\\"&gt;1991.04&lt;\\/float&gt;&lt;int name=\\\"tint\\\"&gt;8&lt;\\/int&gt;&lt;long name=\\\"tlong\\\"&gt;2147483655&lt;\\/long&gt;&lt;\\/doc&gt;&lt;doc&gt;&lt;float name=\\\"id\\\"&gt;9.0&lt;\\/float&gt;&lt;date name=\\\"tdate\\\"&gt;2010-12-11T00:00:00Z&lt;\\/date&gt;&lt;double name=\\\"tdouble\\\"&gt;20.97&lt;\\/double&gt;&lt;float name=\\\"tfloat\\\"&gt;2519.9102&lt;\\/float&gt;&lt;int name=\\\"tint\\\"&gt;9&lt;\\/int&gt;&lt;long name=\\\"tlong\\\"&gt;2147483656&lt;\\/long&gt;&lt;\\/doc&gt;&lt;doc&gt;&lt;float name=\\\"id\\\"&gt;10.0&lt;\\/float&gt;&lt;date name=\\\"tdate\\\"&gt;2010-12-02T00:00:00Z&lt;\\/date&gt;&lt;double name=\\\"tdouble\\\"&gt;0.0&lt;\\/double&gt;&lt;float name=\\\"tfloat\\\"&gt;0.0&lt;\\/float&gt;&lt;int name=\\\"tint\\\"&gt;0&lt;\\/int&gt;&lt;long name=\\\"tlong\\\"&gt;2147483647&lt;\\/long&gt;&lt;\\/doc&gt;&lt;doc&gt;&lt;float name=\\\"id\\\"&gt;20.0&lt;\\/float&gt;&lt;date name=\\\"tdate\\\"&gt;2010-12-03T00:00:00Z&lt;\\/date&gt;&lt;double name=\\\"tdouble\\\"&gt;2.33&lt;\\/double&gt;&lt;float name=\\\"tfloat\\\"&gt;31.11&lt;\\/float&gt;&lt;int name=\\\"tint\\\"&gt;1&lt;\\/int&gt;&lt;long name=\\\"tlong\\\"&gt;2147483648&lt;\\/long&gt;&lt;\\/doc&gt;&lt;doc&gt;&lt;float name=\\\"id\\\"&gt;30.0&lt;\\/float&gt;&lt;date name=\\\"tdate\\\"&gt;2010-12-04T00:00:00Z&lt;\\/date&gt;&lt;double name=\\\"tdouble\\\"&gt;4.66&lt;\\/double&gt;&lt;float name=\\\"tfloat\\\"&gt;124.44&lt;\\/float&gt;&lt;int name=\\\"tint\\\"&gt;2&lt;\\/int&gt;&lt;long name=\\\"tlong\\\"&gt;2147483649&lt;\\/long&gt;&lt;\\/doc&gt;&lt;doc&gt;&lt;float name=\\\"id\\\"&gt;40.0&lt;\\/float&gt;&lt;date name=\\\"tdate\\\"&gt;2010-12-05T00:00:00Z&lt;\\/date&gt;&lt;double name=\\\"tdouble\\\"&gt;6.99&lt;\\/double&gt;&lt;float name=\\\"tfloat\\\"&gt;279.99&lt;\\/float&gt;&lt;int name=\\\"tint\\\"&gt;3&lt;\\/int&gt;&lt;long name=\\\"tlong\\\"&gt;2147483650&lt;\\/long&gt;&lt;\\/doc&gt;&lt;doc&gt;&lt;float name=\\\"id\\\"&gt;50.0&lt;\\/float&gt;&lt;date name=\\\"tdate\\\"&gt;2010-12-06T00:00:00Z&lt;\\/date&gt;&lt;double name=\\\"tdouble\\\"&gt;9.32&lt;\\/double&gt;&lt;float name=\\\"tfloat\\\"&gt;497.76&lt;\\/float&gt;&lt;int name=\\\"tint\\\"&gt;4&lt;\\/int&gt;&lt;long name=\\\"tlong\\\"&gt;2147483651&lt;\\/long&gt;&lt;\\/doc&gt;&lt;\\/result&gt;&lt;lst name=\\\"facet_counts\\\"&gt;&lt;lst name=\\\"facet_queries\\\"\\/&gt;&lt;lst name=\\\"facet_fields\\\"&gt;&lt;lst name=\\\"tint\\\"&gt;&lt;int name=\\\"0\\\"&gt;2&lt;\\/int&gt;&lt;int name=\\\"1\\\"&gt;2&lt;\\/int&gt;&lt;int name=\\\"2\\\"&gt;2&lt;\\/int&gt;&lt;int name=\\\"3\\\"&gt;2&lt;\\/int&gt;&lt;int name=\\\"4\\\"&gt;2&lt;\\/int&gt;&lt;int name=\\\"5\\\"&gt;1&lt;\\/int&gt;&lt;int name=\\\"6\\\"&gt;1&lt;\\/int&gt;&lt;int name=\\\"7\\\"&gt;1&lt;\\/int&gt;&lt;int name=\\\"8\\\"&gt;1&lt;\\/int&gt;&lt;int name=\\\"9\\\"&gt;1&lt;\\/int&gt;&lt;\\/lst&gt;&lt;lst name=\\\"tlong\\\"&gt;&lt;int name=\\\"2147483647\\\"&gt;2&lt;\\/int&gt;&lt;int name=\\\"2147483648\\\"&gt;2&lt;\\/int&gt;&lt;int name=\\\"2147483649\\\"&gt;2&lt;\\/int&gt;&lt;int name=\\\"2147483650\\\"&gt;2&lt;\\/int&gt;&lt;int name=\\\"2147483651\\\"&gt;2&lt;\\/int&gt;&lt;int name=\\\"2147483652\\\"&gt;1&lt;\\/int&gt;&lt;int name=\\\"2147483653\\\"&gt;1&lt;\\/int&gt;&lt;int name=\\\"2147483654\\\"&gt;1&lt;\\/int&gt;&lt;int name=\\\"2147483655\\\"&gt;1&lt;\\/int&gt;&lt;int name=\\\"2147483656\\\"&gt;1&lt;\\/int&gt;&lt;\\/lst&gt;&lt;lst name=\\\"tfloat\\\"&gt;&lt;int name=\\\"0.0\\\"&gt;2&lt;\\/int&gt;&lt;int name=\\\"31.11\\\"&gt;2&lt;\\/int&gt;&lt;int name=\\\"124.44\\\"&gt;2&lt;\\/int&gt;&lt;int name=\\\"279.99\\\"&gt;2&lt;\\/int&gt;&lt;int name=\\\"497.76\\\"&gt;2&lt;\\/int&gt;&lt;int name=\\\"777.75\\\"&gt;1&lt;\\/int&gt;&lt;int name=\\\"1119.96\\\"&gt;1&lt;\\/int&gt;&lt;int name=\\\"1524.39\\\"&gt;1&lt;\\/int&gt;&lt;int name=\\\"1991.04\\\"&gt;1&lt;\\/int&gt;&lt;int name=\\\"2519.9102\\\"&gt;1&lt;\\/int&gt;&lt;\\/lst&gt;&lt;lst name=\\\"tdouble\\\"&gt;&lt;int name=\\\"0.0\\\"&gt;2&lt;\\/int&gt;&lt;int name=\\\"2.33\\\"&gt;2&lt;\\/int&gt;&lt;int name=\\\"4.66\\\"&gt;2&lt;\\/int&gt;&lt;int name=\\\"6.99\\\"&gt;2&lt;\\/int&gt;&lt;int name=\\\"9.32\\\"&gt;2&lt;\\/int&gt;&lt;int name=\\\"11.65\\\"&gt;1&lt;\\/int&gt;&lt;int name=\\\"13.98\\\"&gt;1&lt;\\/int&gt;&lt;int name=\\\"16.310000000000002\\\"&gt;1&lt;\\/int&gt;&lt;int name=\\\"18.64\\\"&gt;1&lt;\\/int&gt;&lt;int name=\\\"20.97\\\"&gt;1&lt;\\/int&gt;&lt;\\/lst&gt;&lt;\\/lst&gt;&lt;lst name=\\\"facet_dates\\\"&gt;&lt;lst name=\\\"tdate\\\"&gt;&lt;int name=\\\"2010-12-02T00:00:00Z\\\"&gt;2&lt;\\/int&gt;&lt;int name=\\\"2010-12-03T00:00:00Z\\\"&gt;2&lt;\\/int&gt;&lt;int name=\\\"2010-12-04T00:00:00Z\\\"&gt;2&lt;\\/int&gt;&lt;int name=\\\"2010-12-05T00:00:00Z\\\"&gt;2&lt;\\/int&gt;&lt;int name=\\\"2010-12-06T00:00:00Z\\\"&gt;1&lt;\\/int&gt;&lt;int name=\\\"2010-12-07T00:00:00Z\\\"&gt;1&lt;\\/int&gt;&lt;str name=\\\"gap\\\"&gt;+1DAY&lt;\\/str&gt;&lt;date name=\\\"end\\\"&gt;2010-12-08T00:00:00Z&lt;\\/date&gt;&lt;\\/lst&gt;&lt;\\/lst&gt;&lt;\\/lst&gt; \\n     &#91;junit&#93;  &lt;\\/response&gt; \\n     &#91;junit&#93;   \\n     &#91;junit&#93;   request was: facet.date.start=NOW\\/DAY&amp;facet=true&amp;q= : &amp;facet.date=tdate&amp;facet.date.gap=%2B1DAY&amp;facet.field=tint&amp;facet.field=tlong&amp;facet.field=tfloat&amp;facet.field=tdouble&amp;facet.date.end=NOW\\/DAY%2B6DAYS&amp;rows=15) \\n     &#91;junit&#93;  Tests run: 8, Failures: 1, Errors: 0, Time elapsed: 4,948 sec \\n     &#91;junit&#93;  Test org.apache.solr.TestTrie FAILED \\n\\n\\n\\n\\n      &#91;junit&#93;  Running org.apache.solr.request.SimpleFacetsTest \\n     &#91;junit&#93;   xml response was: &lt;?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?&gt; \\n     &#91;junit&#93;  &lt;response&gt; \\n     &#91;junit&#93;  &lt;lst name=\\\"responseHeader\\\"&gt;&lt;int name=\\\"status\\\"&gt;0&lt;\\/int&gt;&lt;int name=\\\"QTime\\\"&gt;11&lt;\\/int&gt;&lt;\\/lst&gt;&lt;result name=\\\"response\\\" numFound=\\\"14\\\" start=\\\"0\\\"\\/&gt;&lt;lst name=\\\"facet_counts\\\"&gt;&lt;lst name=\\\"facet_queries\\\"\\/&gt;&lt;lst name=\\\"facet_fields\\\"\\/&gt;&lt;lst name=\\\"facet_dates\\\"&gt;&lt;lst name=\\\"bday\\\"&gt;&lt;int name=\\\"1976-07-01T00:00:00Z\\\"&gt;0&lt;\\/int&gt;&lt;int name=\\\"1976-07-02T00:00:00Z\\\"&gt;0&lt;\\/int&gt;&lt;int name=\\\"1976-07-03T00:00:00Z\\\"&gt;2&lt;\\/int&gt;&lt;int name=\\\"1976-07-04T00:00:00Z\\\"&gt;2&lt;\\/int&gt;&lt;int name=\\\"1976-07-05T00:00:00Z\\\"&gt;1&lt;\\/int&gt;&lt;int name=\\\"1976-07-06T00:00:00Z\\\"&gt;0&lt;\\/int&gt;&lt;int name=\\\"1976-07-07T00:00:00Z\\\"&gt;0&lt;\\/int&gt;&lt;int name=\\\"1976-07-08T00:00:00Z\\\"&gt;0&lt;\\/int&gt;&lt;int name=\\\"1976-07-09T00:00:00Z\\\"&gt;0&lt;\\/int&gt;&lt;int name=\\\"1976-07-10T00:00:00Z\\\"&gt;0&lt;\\/int&gt;&lt;int name=\\\"1976-07-11T00:00:00Z\\\"&gt;0&lt;\\/int&gt;&lt;int name=\\\"1976-07-12T00:00:00Z\\\"&gt;1&lt;\\/int&gt;&lt;int name=\\\"1976-07-13T00:00:00Z\\\"&gt;1&lt;\\/int&gt;&lt;int name=\\\"1976-07-14T00:00:00Z\\\"&gt;0&lt;\\/int&gt;&lt;int name=\\\"1976-07-15T00:00:00Z\\\"&gt;2&lt;\\/int&gt;&lt;int name=\\\"1976-07-16T00:00:00Z\\\"&gt;0&lt;\\/int&gt;&lt;int name=\\\"1976-07-17T00:00:00Z\\\"&gt;0&lt;\\/int&gt;&lt;int name=\\\"1976-07-18T00:00:00Z\\\"&gt;0&lt;\\/int&gt;&lt;int name=\\\"1976-07-19T00:00:00Z\\\"&gt;0&lt;\\/int&gt;&lt;int name=\\\"1976-07-20T00:00:00Z\\\"&gt;0&lt;\\/int&gt;&lt;int name=\\\"1976-07-21T00:00:00Z\\\"&gt;1&lt;\\/int&gt;&lt;int name=\\\"1976-07-22T00:00:00Z\\\"&gt;0&lt;\\/int&gt;&lt;int name=\\\"1976-07-23T00:00:00Z\\\"&gt;0&lt;\\/int&gt;&lt;int name=\\\"1976-07-24T00:00:00Z\\\"&gt;0&lt;\\/int&gt;&lt;int name=\\\"1976-07-25T00:00:00Z\\\"&gt;0&lt;\\/int&gt;&lt;int name=\\\"1976-07-26T00:00:00Z\\\"&gt;0&lt;\\/int&gt;&lt;int name=\\\"1976-07-27T00:00:00Z\\\"&gt;0&lt;\\/int&gt;&lt;int name=\\\"1976-07-28T00:00:00Z\\\"&gt;0&lt;\\/int&gt;&lt;int name=\\\"1976-07-29T00:00:00Z\\\"&gt;0&lt;\\/int&gt;&lt;int name=\\\"1976-07-30T00:00:00Z\\\"&gt;1&lt;\\/int&gt;&lt;int name=\\\"1976-07-31T00:00:00Z\\\"&gt;0&lt;\\/int&gt;&lt;str name=\\\"gap\\\"&gt;+1DAY&lt;\\/str&gt;&lt;date name=\\\"end\\\"&gt;1976-08-01T00:00:00Z&lt;\\/date&gt;&lt;int name=\\\"before\\\"&gt;2&lt;\\/int&gt;&lt;int name=\\\"after\\\"&gt;1&lt;\\/int&gt;&lt;int name=\\\"between\\\"&gt;11&lt;\\/int&gt;&lt;\\/lst&gt;&lt;\\/lst&gt;&lt;\\/lst&gt; \\n     &#91;junit&#93;  &lt;\\/response&gt; \\n     &#91;junit&#93;   \\n     &#91;junit&#93;   request was: facet.date.start=1976-07-01T00:00:00.000Z&amp;facet=true&amp;q= : &amp;facet.date=bday&amp;facet.date.other=all&amp;facet.date.gap=%2B1DAY&amp;facet.date.end=1976-07-01T00:00:00.000Z%2B1MONTH&amp;rows=0) \\n     &#91;junit&#93;  Tests run: 6, Failures: 1, Errors: 0, Time elapsed: 6,996 sec \\n     &#91;junit&#93;  Test org.apache.solr.request.SimpleFacetsTest FAILED              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12966238\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-1729?focusedCommentId=12966238&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12966238\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"midiman\\\" id=\\\"commentauthor_12966238_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=midiman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"midiman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Peter Sturge\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12966238_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'02\\/Dec\\/10 19:16\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-12-02T19:16:11+0000\'\u003e02\\/Dec\\/10 19:16\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eSo is 1709 ok, but 1729 isn\'t?\u003c\\/p\u003e\\n\\n\\n\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"midiman\\\" id=\\\"commentauthor_12966238_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=midiman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"midiman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Peter Sturge\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12966238_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'02\\/Dec\\/10 19:16\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-12-02T19:16:11+0000\'\u003e02\\/Dec\\/10 19:16\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    So is 1709 ok, but 1729 isn\'t? \\n\\n\\n\\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12966488\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-1729?focusedCommentId=12966488&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12966488\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"peathal\\\" id=\\\"commentauthor_12966488_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=peathal\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"peathal\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Peter Karich\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12966488_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Dec\\/10 11:14\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-12-03T11:14:42+0000\'\u003e03\\/Dec\\/10 11:14\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003e\u003cb\u003eregarding: 1.4.1\u003c\\/b\u003e\u003cbr\\/\u003e\\nHmmh, today download.carrot2.org is down and I had to delete contrib\\/clustering to do the build after the patch. which does not apply cleanly (strange that it appled yesterday):\u003c\\/p\u003e\\n\\n\u003cp\u003esolr1.4.1$ patch -p0 &lt; solr-1.4.0-solr-1729.patch \u003cbr\\/\u003e\\npatching file src\\/java\\/org\\/apache\\/solr\\/handler\\/component\\/FacetComponent.java\u003cbr\\/\u003e\\npatching file src\\/java\\/org\\/apache\\/solr\\/handler\\/component\\/ResponseBuilder.java\u003c\\/p\u003e\\n\\n\u003cp\u003esolr1.4.1$ patch -p0 &lt; solr-1.4.0-solr-1709.patch \u003cbr\\/\u003e\\npatching file src\\/java\\/org\\/apache\\/solr\\/handler\\/component\\/FacetComponent.java\u003cbr\\/\u003e\\nReversed (or previously applied) patch detected!  Assume -R? \u003cspan class=\\\"error\\\"\u003e&#91;n&#93;\u003c\\/span\u003e y\u003cbr\\/\u003e\\npatching file src\\/java\\/org\\/apache\\/solr\\/handler\\/component\\/ResponseBuilder.java\u003cbr\\/\u003e\\nReversed (or previously applied) patch detected!  Assume -R? \u003cspan class=\\\"error\\\"\u003e&#91;n&#93;\u003c\\/span\u003e y\u003cbr\\/\u003e\\nHunk #3 succeeded at 251 (offset -1 lines).\u003c\\/p\u003e\\n\\n\u003cp\u003eOr is this ok?? Because then, all tests would pass ...\u003c\\/p\u003e\\n\\n\\n\\n\u003cp\u003e\u003cb\u003eregarding branch3x\u003c\\/b\u003e\u003cbr\\/\u003e\\nboth patches do not apply cleanly. \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-1709\\\" title=\\\"Distributed Date and Range Faceting\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-1709\\\"\u003e\u003cdel\u003eSOLR-1709\u003c\\/del\u003e\u003c\\/a\u003e fails also without \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-1729\\\" title=\\\"Date Facet now override time parameter\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-1729\\\"\u003e\u003cdel\u003eSOLR-1729\u003c\\/del\u003e\u003c\\/a\u003e\u003c\\/p\u003e\\n\\n\u003cp\u003esolr_branch_3x\\/solr$ patch -p0 &lt; solr-1.4.0-solr-1709.patch \u003cbr\\/\u003e\\npatching file src\\/java\\/org\\/apache\\/solr\\/handler\\/component\\/FacetComponent.java\u003cbr\\/\u003e\\nHunk #1 succeeded at 240 (offset 2 lines).\u003cbr\\/\u003e\\nHunk #2 succeeded at 267 with fuzz 2 (offset 7 lines).\u003cbr\\/\u003e\\nHunk #3 FAILED at 436.\u003cbr\\/\u003e\\n1 out of 3 hunks FAILED &#8211; saving rejects to file src\\/java\\/org\\/apache\\/solr\\/handler\\/component\\/FacetComponent.java.rej\u003cbr\\/\u003e\\npatching file src\\/java\\/org\\/apache\\/solr\\/handler\\/component\\/ResponseBuilder.java\u003cbr\\/\u003e\\nReversed (or previously applied) patch detected!  Assume -R? \u003cspan class=\\\"error\\\"\u003e&#91;n&#93;\u003c\\/span\u003e y\u003cbr\\/\u003e\\nHunk #2 FAILED at 61.\u003cbr\\/\u003e\\nHunk #3 FAILED at 252.\u003cbr\\/\u003e\\n2 out of 3 hunks FAILED &#8211; saving rejects to file src\\/java\\/org\\/apache\\/solr\\/handler\\/component\\/ResponseBuilder.java.rej\u003c\\/p\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"peathal\\\" id=\\\"commentauthor_12966488_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=peathal\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"peathal\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Peter Karich\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12966488_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Dec\\/10 11:14\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-12-03T11:14:42+0000\'\u003e03\\/Dec\\/10 11:14\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     regarding: 1.4.1  \\nHmmh, today download.carrot2.org is down and I had to delete contrib\\/clustering to do the build after the patch. which does not apply cleanly (strange that it appled yesterday): \\n\\n solr1.4.1$ patch -p0 &lt; solr-1.4.0-solr-1729.patch  \\npatching file src\\/java\\/org\\/apache\\/solr\\/handler\\/component\\/FacetComponent.java \\npatching file src\\/java\\/org\\/apache\\/solr\\/handler\\/component\\/ResponseBuilder.java \\n\\n solr1.4.1$ patch -p0 &lt; solr-1.4.0-solr-1709.patch  \\npatching file src\\/java\\/org\\/apache\\/solr\\/handler\\/component\\/FacetComponent.java \\nReversed (or previously applied) patch detected!  Assume -R?  &#91;n&#93;  y \\npatching file src\\/java\\/org\\/apache\\/solr\\/handler\\/component\\/ResponseBuilder.java \\nReversed (or previously applied) patch detected!  Assume -R?  &#91;n&#93;  y \\nHunk #3 succeeded at 251 (offset -1 lines). \\n\\n Or is this ok?? Because then, all tests would pass ... \\n\\n\\n\\n  regarding branch3x  \\nboth patches do not apply cleanly.   SOLR-1709   fails also without   SOLR-1729   \\n\\n solr_branch_3x\\/solr$ patch -p0 &lt; solr-1.4.0-solr-1709.patch  \\npatching file src\\/java\\/org\\/apache\\/solr\\/handler\\/component\\/FacetComponent.java \\nHunk #1 succeeded at 240 (offset 2 lines). \\nHunk #2 succeeded at 267 with fuzz 2 (offset 7 lines). \\nHunk #3 FAILED at 436. \\n1 out of 3 hunks FAILED &#8211; saving rejects to file src\\/java\\/org\\/apache\\/solr\\/handler\\/component\\/FacetComponent.java.rej \\npatching file src\\/java\\/org\\/apache\\/solr\\/handler\\/component\\/ResponseBuilder.java \\nReversed (or previously applied) patch detected!  Assume -R?  &#91;n&#93;  y \\nHunk #2 FAILED at 61. \\nHunk #3 FAILED at 252. \\n2 out of 3 hunks FAILED &#8211; saving rejects to file src\\/java\\/org\\/apache\\/solr\\/handler\\/component\\/ResponseBuilder.java.rej \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12966494\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-1729?focusedCommentId=12966494&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12966494\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"midiman\\\" id=\\\"commentauthor_12966494_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=midiman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"midiman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Peter Sturge\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12966494_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Dec\\/10 11:35\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-12-03T11:35:13+0000\'\u003e03\\/Dec\\/10 11:35\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eHi Peter,\u003c\\/p\u003e\\n\\n\u003cp\u003eNot sure why it would work, then not...\u003c\\/p\u003e\\n\\n\u003cp\u003eBoth these patches were submitted just before all the version name\u003cbr\\/\u003e\\nchanges (which I\'m still getting to grips with).\u003c\\/p\u003e\\n\\n\u003cp\u003eAt the time, I think 1.4.1 was the latest release train. For 3.x\u003cbr\\/\u003e\\nrecently we\'ve done some manual merging due to some other changes\u003cbr\\/\u003e\\n(forwarding http credentials to remote shards).\u003c\\/p\u003e\\n\\n\u003cp\u003eI\'ll have a look at building a separate \'branch3x\' patch version, as\u003cbr\\/\u003e\\nthere may have been some separate back porting changes in the affected\u003cbr\\/\u003e\\nfiles that\'s breaking the current patch.\u003cbr\\/\u003e\\nAre you using the latest release, or the latest trunk version?\u003c\\/p\u003e\\n\\n\u003cp\u003eThanks,\u003cbr\\/\u003e\\nPeter\u003c\\/p\u003e\\n\\n\\n\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"midiman\\\" id=\\\"commentauthor_12966494_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=midiman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"midiman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Peter Sturge\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12966494_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Dec\\/10 11:35\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-12-03T11:35:13+0000\'\u003e03\\/Dec\\/10 11:35\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Hi Peter, \\n\\n Not sure why it would work, then not... \\n\\n Both these patches were submitted just before all the version name \\nchanges (which I\'m still getting to grips with). \\n\\n At the time, I think 1.4.1 was the latest release train. For 3.x \\nrecently we\'ve done some manual merging due to some other changes \\n(forwarding http credentials to remote shards). \\n\\n I\'ll have a look at building a separate \'branch3x\' patch version, as \\nthere may have been some separate back porting changes in the affected \\nfiles that\'s breaking the current patch. \\nAre you using the latest release, or the latest trunk version? \\n\\n Thanks, \\nPeter \\n\\n\\n\\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12966520\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-1729?focusedCommentId=12966520&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12966520\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"peathal\\\" id=\\\"commentauthor_12966520_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=peathal\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"peathal\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Peter Karich\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12966520_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Dec\\/10 13:03\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-12-03T13:03:21+0000\'\u003e03\\/Dec\\/10 13:03\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eHi Peter,\u003c\\/p\u003e\\n\\n\u003cp\u003e1.4.1 would be fine (I asked Jake from solandra, before I thought he uses the trunk)\u003c\\/p\u003e\\n\\n\u003cp\u003eNow in my last comment I made a stupid mistake: the patches didn\'t cleanly apply for 1.4.1 because I accidentially overwrote solr-1729.patch with solr-1709 when copying from branch3x and got two identical 1709 patches :-\\/\u003c\\/p\u003e\\n\\n\u003cp\u003eSo: for 1.4.1 the patches apply cleanly. But the question remains why the following tests are failing:\u003c\\/p\u003e\\n\\n\u003cp\u003eTest org.apache.solr.TestTrie FAILED\u003c\\/p\u003e\\n\\n\u003cp\u003eTest org.apache.solr.request.SimpleFacetsTest FAILED\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"peathal\\\" id=\\\"commentauthor_12966520_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=peathal\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"peathal\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Peter Karich\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12966520_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Dec\\/10 13:03\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-12-03T13:03:21+0000\'\u003e03\\/Dec\\/10 13:03\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Hi Peter, \\n\\n 1.4.1 would be fine (I asked Jake from solandra, before I thought he uses the trunk) \\n\\n Now in my last comment I made a stupid mistake: the patches didn\'t cleanly apply for 1.4.1 because I accidentially overwrote solr-1729.patch with solr-1709 when copying from branch3x and got two identical 1709 patches :-\\/ \\n\\n So: for 1.4.1 the patches apply cleanly. But the question remains why the following tests are failing: \\n\\n Test org.apache.solr.TestTrie FAILED \\n\\n Test org.apache.solr.request.SimpleFacetsTest FAILED              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12966533\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-1729?focusedCommentId=12966533&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12966533\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"midiman\\\" id=\\\"commentauthor_12966533_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=midiman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"midiman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Peter Sturge\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12966533_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Dec\\/10 13:55\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-12-03T13:55:13+0000\'\u003e03\\/Dec\\/10 13:55\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eHi Peter,\u003c\\/p\u003e\\n\\n\\n\u003cp\u003eSo, the patches are clean (for 1.4.1), but the tests are failing for\u003cbr\\/\u003e\\n1.4.1? Or is the failure in 3.x? Sorry, but I\'m a bit confused which\u003cbr\\/\u003e\\nbit isn\'t working now.\u003c\\/p\u003e\\n\\n\u003cp\u003eThanks,\u003cbr\\/\u003e\\nPeter\u003c\\/p\u003e\\n\\n\\n\\n\u003cp\u003eOn Fri, Dec 3, 2010 at 1:05 PM, Peter Karich (JIRA) &lt;jira@apache.org&gt; wrote:\u003c\\/p\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"midiman\\\" id=\\\"commentauthor_12966533_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=midiman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"midiman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Peter Sturge\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12966533_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Dec\\/10 13:55\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-12-03T13:55:13+0000\'\u003e03\\/Dec\\/10 13:55\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Hi Peter, \\n\\n\\n So, the patches are clean (for 1.4.1), but the tests are failing for \\n1.4.1? Or is the failure in 3.x? Sorry, but I\'m a bit confused which \\nbit isn\'t working now. \\n\\n Thanks, \\nPeter \\n\\n\\n\\n On Fri, Dec 3, 2010 at 1:05 PM, Peter Karich (JIRA) &lt;jira@apache.org&gt; wrote: \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12966562\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-1729?focusedCommentId=12966562&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12966562\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"peathal\\\" id=\\\"commentauthor_12966562_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=peathal\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"peathal\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Peter Karich\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12966562_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Dec\\/10 15:56\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-12-03T15:56:44+0000\'\u003e03\\/Dec\\/10 15:56\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eHi Peter,\u003c\\/p\u003e\\n\\n\u003cp\u003esorry for the confusion :-\\/\u003c\\/p\u003e\\n\\n\u003cp\u003eI was speaking of 1.4.1: the two patches apply. 2 tests fail.\u003c\\/p\u003e\\n\\n\u003cp\u003eRegards,\u003cbr\\/\u003e\\nPeter.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"peathal\\\" id=\\\"commentauthor_12966562_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=peathal\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"peathal\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Peter Karich\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12966562_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Dec\\/10 15:56\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-12-03T15:56:44+0000\'\u003e03\\/Dec\\/10 15:56\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Hi Peter, \\n\\n sorry for the confusion :-\\/ \\n\\n I was speaking of 1.4.1: the two patches apply. 2 tests fail. \\n\\n Regards, \\nPeter.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12970483\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-1729?focusedCommentId=12970483&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12970483\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yseeley@gmail.com\\\" id=\\\"commentauthor_12970483_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yseeley%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yseeley@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yonik Seeley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12970483_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'11\\/Dec\\/10 17:40\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-12-11T17:40:33+0000\'\u003e11\\/Dec\\/10 17:40\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eHere\'s a patch for trunk that uses a thread local to make \\\"NOW\\\" the same across all uses,\u003cbr\\/\u003e\\nand is overridable by passing NOW=&lt;ms&gt; in the request params.\u003c\\/p\u003e\\n\\n\u003cp\u003eYou can see it working with a request like:\u003cbr\\/\u003e\\n\u003ca href=\\\"http:\\/\\/localhost:8983\\/solr\\/select?q=\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/localhost:8983\\/solr\\/select?q=\u003c\\/a\u003e\u003c\\/p\u003e\\n{!func}\\n\u003cp\u003ems%28NOW%29&amp;fl=id,score&amp;NOW=1000\u003c\\/p\u003e\\n\\n\u003cp\u003eThis does not yet handle propagating NOW to shards in a distributed search.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yseeley@gmail.com\\\" id=\\\"commentauthor_12970483_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yseeley%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yseeley@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yonik Seeley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12970483_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'11\\/Dec\\/10 17:40\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-12-11T17:40:33+0000\'\u003e11\\/Dec\\/10 17:40\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Here\'s a patch for trunk that uses a thread local to make \\\"NOW\\\" the same across all uses, \\nand is overridable by passing NOW=&lt;ms&gt; in the request params. \\n\\n You can see it working with a request like: \\n http:\\/\\/localhost:8983\\/solr\\/select?q=  \\n{!func}\\n ms%28NOW%29&amp;fl=id,score&amp;NOW=1000 \\n\\n This does not yet handle propagating NOW to shards in a distributed search.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12970497\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-1729?focusedCommentId=12970497&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12970497\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yseeley@gmail.com\\\" id=\\\"commentauthor_12970497_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yseeley%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yseeley@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yonik Seeley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12970497_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'11\\/Dec\\/10 18:35\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-12-11T18:35:01+0000\'\u003e11\\/Dec\\/10 18:35\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eOK, here\'s an updated patch that propagates NOW for all shard requests.  It seemed too risky to try and detect when NOW would be needed.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yseeley@gmail.com\\\" id=\\\"commentauthor_12970497_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yseeley%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yseeley@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yonik Seeley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12970497_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'11\\/Dec\\/10 18:35\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-12-11T18:35:01+0000\'\u003e11\\/Dec\\/10 18:35\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    OK, here\'s an updated patch that propagates NOW for all shard requests.  It seemed too risky to try and detect when NOW would be needed.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12970544\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-1729?focusedCommentId=12970544&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12970544\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"peathal\\\" id=\\\"commentauthor_12970544_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=peathal\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"peathal\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Peter Karich\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12970544_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Dec\\/10 00:30\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-12-12T00:30:22+0000\'\u003e12\\/Dec\\/10 00:30\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eYonik,\u003c\\/p\u003e\\n\\n\u003cp\u003ethanks for the update. I refreshed my sources (now trunk) to rev 1044745. But the patch does not cleanly apply* for SearchHandler.\u003cbr\\/\u003e\\nAm I doing something stupid here?\u003c\\/p\u003e\\n\\n\u003cp\u003eRegards,\u003cbr\\/\u003e\\nPeter.\u003c\\/p\u003e\\n\\n\u003cp\u003e*\u003cbr\\/\u003e\\npathxy\\/solr_branch_3x$ patch -p0 &lt; \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-1729\\\" title=\\\"Date Facet now override time parameter\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-1729\\\"\u003e\u003cdel\u003eSOLR-1729\u003c\\/del\u003e\u003c\\/a\u003e.patch \u003cbr\\/\u003e\\npatching file solr\\/src\\/test\\/test-files\\/solr\\/conf\\/schema12.xml\u003cbr\\/\u003e\\npatching file solr\\/src\\/test\\/org\\/apache\\/solr\\/search\\/function\\/TestFunctionQuery.java\u003cbr\\/\u003e\\nHunk #1 succeeded at 301 (offset -17 lines).\u003cbr\\/\u003e\\npatching file solr\\/src\\/test\\/org\\/apache\\/solr\\/handler\\/component\\/SpellCheckComponentTest.java\u003cbr\\/\u003e\\npatching file solr\\/src\\/test\\/org\\/apache\\/solr\\/handler\\/component\\/TermVectorComponentTest.java\u003cbr\\/\u003e\\npatching file solr\\/src\\/java\\/org\\/apache\\/solr\\/core\\/QuerySenderListener.java\u003cbr\\/\u003e\\npatching file solr\\/src\\/java\\/org\\/apache\\/solr\\/request\\/SimpleFacets.java\u003cbr\\/\u003e\\nHunk #1 succeeded at 64 (offset -9 lines).\u003cbr\\/\u003e\\nHunk #2 succeeded at 620 (offset -200 lines).\u003cbr\\/\u003e\\nHunk #3 succeeded at 630 (offset -200 lines).\u003cbr\\/\u003e\\nHunk #4 succeeded at 645 (offset -200 lines).\u003cbr\\/\u003e\\nHunk #5 succeeded at 803 (offset -200 lines).\u003cbr\\/\u003e\\npatching file solr\\/src\\/java\\/org\\/apache\\/solr\\/handler\\/component\\/SearchHandler.java\u003cbr\\/\u003e\\nHunk #1 FAILED at 192.\u003cbr\\/\u003e\\nHunk #2 succeeded at 255 (offset -36 lines).\u003cbr\\/\u003e\\n1 out of 2 hunks FAILED &#8211; saving rejects to file solr\\/src\\/java\\/org\\/apache\\/solr\\/handler\\/component\\/SearchHandler.java.rej\u003cbr\\/\u003e\\npatching file solr\\/src\\/java\\/org\\/apache\\/solr\\/handler\\/component\\/ResponseBuilder.java\u003cbr\\/\u003e\\nHunk #2 succeeded at 67 (offset -1 lines).\u003cbr\\/\u003e\\npatching file solr\\/src\\/java\\/org\\/apache\\/solr\\/spelling\\/SpellCheckCollator.java\u003cbr\\/\u003e\\npatching file solr\\/src\\/java\\/org\\/apache\\/solr\\/util\\/TestHarness.java\u003cbr\\/\u003e\\nHunk #2 succeeded at 320 (offset -9 lines).\u003cbr\\/\u003e\\nHunk #3 succeeded at 335 (offset -9 lines).\u003cbr\\/\u003e\\npatching file solr\\/src\\/java\\/org\\/apache\\/solr\\/util\\/DateMathParser.java\u003cbr\\/\u003e\\npatching file solr\\/src\\/webapp\\/src\\/org\\/apache\\/solr\\/servlet\\/SolrServlet.java\u003cbr\\/\u003e\\npatching file solr\\/src\\/webapp\\/src\\/org\\/apache\\/solr\\/servlet\\/SolrDispatchFilter.java\u003cbr\\/\u003e\\nHunk #1 succeeded at 241 (offset 4 lines).\u003cbr\\/\u003e\\nHunk #2 succeeded at 255 (offset 4 lines).\u003cbr\\/\u003e\\nHunk #3 succeeded at 283 (offset 4 lines).\u003cbr\\/\u003e\\npatching file solr\\/src\\/webapp\\/src\\/org\\/apache\\/solr\\/servlet\\/DirectSolrConnection.java\u003cbr\\/\u003e\\nHunk #2 succeeded at 170 (offset -16 lines).\u003cbr\\/\u003e\\nHunk #3 succeeded at 185 with fuzz 1 (offset -16 lines).\u003cbr\\/\u003e\\npatching file solr\\/src\\/webapp\\/src\\/org\\/apache\\/solr\\/client\\/solrj\\/embedded\\/EmbeddedSolrServer.java\u003cbr\\/\u003e\\nHunk #1 succeeded at 32 with fuzz 1 (offset -9 lines).\u003cbr\\/\u003e\\nHunk #2 succeeded at 138 (offset -11 lines).\u003cbr\\/\u003e\\nHunk #3 succeeded at 156 (offset -77 lines).\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"peathal\\\" id=\\\"commentauthor_12970544_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=peathal\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"peathal\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Peter Karich\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12970544_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Dec\\/10 00:30\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-12-12T00:30:22+0000\'\u003e12\\/Dec\\/10 00:30\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Yonik, \\n\\n thanks for the update. I refreshed my sources (now trunk) to rev 1044745. But the patch does not cleanly apply* for SearchHandler. \\nAm I doing something stupid here? \\n\\n Regards, \\nPeter. \\n\\n * \\npathxy\\/solr_branch_3x$ patch -p0 &lt;   SOLR-1729  .patch  \\npatching file solr\\/src\\/test\\/test-files\\/solr\\/conf\\/schema12.xml \\npatching file solr\\/src\\/test\\/org\\/apache\\/solr\\/search\\/function\\/TestFunctionQuery.java \\nHunk #1 succeeded at 301 (offset -17 lines). \\npatching file solr\\/src\\/test\\/org\\/apache\\/solr\\/handler\\/component\\/SpellCheckComponentTest.java \\npatching file solr\\/src\\/test\\/org\\/apache\\/solr\\/handler\\/component\\/TermVectorComponentTest.java \\npatching file solr\\/src\\/java\\/org\\/apache\\/solr\\/core\\/QuerySenderListener.java \\npatching file solr\\/src\\/java\\/org\\/apache\\/solr\\/request\\/SimpleFacets.java \\nHunk #1 succeeded at 64 (offset -9 lines). \\nHunk #2 succeeded at 620 (offset -200 lines). \\nHunk #3 succeeded at 630 (offset -200 lines). \\nHunk #4 succeeded at 645 (offset -200 lines). \\nHunk #5 succeeded at 803 (offset -200 lines). \\npatching file solr\\/src\\/java\\/org\\/apache\\/solr\\/handler\\/component\\/SearchHandler.java \\nHunk #1 FAILED at 192. \\nHunk #2 succeeded at 255 (offset -36 lines). \\n1 out of 2 hunks FAILED &#8211; saving rejects to file solr\\/src\\/java\\/org\\/apache\\/solr\\/handler\\/component\\/SearchHandler.java.rej \\npatching file solr\\/src\\/java\\/org\\/apache\\/solr\\/handler\\/component\\/ResponseBuilder.java \\nHunk #2 succeeded at 67 (offset -1 lines). \\npatching file solr\\/src\\/java\\/org\\/apache\\/solr\\/spelling\\/SpellCheckCollator.java \\npatching file solr\\/src\\/java\\/org\\/apache\\/solr\\/util\\/TestHarness.java \\nHunk #2 succeeded at 320 (offset -9 lines). \\nHunk #3 succeeded at 335 (offset -9 lines). \\npatching file solr\\/src\\/java\\/org\\/apache\\/solr\\/util\\/DateMathParser.java \\npatching file solr\\/src\\/webapp\\/src\\/org\\/apache\\/solr\\/servlet\\/SolrServlet.java \\npatching file solr\\/src\\/webapp\\/src\\/org\\/apache\\/solr\\/servlet\\/SolrDispatchFilter.java \\nHunk #1 succeeded at 241 (offset 4 lines). \\nHunk #2 succeeded at 255 (offset 4 lines). \\nHunk #3 succeeded at 283 (offset 4 lines). \\npatching file solr\\/src\\/webapp\\/src\\/org\\/apache\\/solr\\/servlet\\/DirectSolrConnection.java \\nHunk #2 succeeded at 170 (offset -16 lines). \\nHunk #3 succeeded at 185 with fuzz 1 (offset -16 lines). \\npatching file solr\\/src\\/webapp\\/src\\/org\\/apache\\/solr\\/client\\/solrj\\/embedded\\/EmbeddedSolrServer.java \\nHunk #1 succeeded at 32 with fuzz 1 (offset -9 lines). \\nHunk #2 succeeded at 138 (offset -11 lines). \\nHunk #3 succeeded at 156 (offset -77 lines).              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12970547\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-1729?focusedCommentId=12970547&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12970547\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yseeley@gmail.com\\\" id=\\\"commentauthor_12970547_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yseeley%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yseeley@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yonik Seeley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12970547_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Dec\\/10 01:15\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-12-12T01:15:28+0000\'\u003e12\\/Dec\\/10 01:15\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cblockquote\u003e\u003cp\u003epathxy\\/solr_branch_3x$ patch -p0 &lt; \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-1729\\\" title=\\\"Date Facet now override time parameter\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-1729\\\"\u003e\u003cdel\u003eSOLR-1729\u003c\\/del\u003e\u003c\\/a\u003e.patch \u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003eThe patch was for trunk, not 3x?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yseeley@gmail.com\\\" id=\\\"commentauthor_12970547_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yseeley%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yseeley@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yonik Seeley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12970547_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Dec\\/10 01:15\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-12-12T01:15:28+0000\'\u003e12\\/Dec\\/10 01:15\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     pathxy\\/solr_branch_3x$ patch -p0 &lt;   SOLR-1729  .patch   \\n\\n The patch was for trunk, not 3x?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12970612\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-1729?focusedCommentId=12970612&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12970612\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"peathal\\\" id=\\\"commentauthor_12970612_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=peathal\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"peathal\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Peter Karich\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12970612_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Dec\\/10 16:20\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-12-12T16:20:30+0000\'\u003e12\\/Dec\\/10 16:20\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eHi Yonik,\u003c\\/p\u003e\\n\\n\u003cp\u003eso, sorry for another misposting: yes, you were right. it was the wrong solr version. it was too late yesterday :-\\/\u003c\\/p\u003e\\n\\n\u003cp\u003eAll is fine now with this patch. But the org.apache.solr.request.SolrRequestInfo class is missing or am I completely crazy now? (I checked out solr twice and applied the patch again but it didn\'t compile)\u003c\\/p\u003e\\n\\n\u003cp\u003eRegards,\u003cbr\\/\u003e\\nPeter.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"peathal\\\" id=\\\"commentauthor_12970612_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=peathal\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"peathal\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Peter Karich\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12970612_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Dec\\/10 16:20\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-12-12T16:20:30+0000\'\u003e12\\/Dec\\/10 16:20\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Hi Yonik, \\n\\n so, sorry for another misposting: yes, you were right. it was the wrong solr version. it was too late yesterday :-\\/ \\n\\n All is fine now with this patch. But the org.apache.solr.request.SolrRequestInfo class is missing or am I completely crazy now? (I checked out solr twice and applied the patch again but it didn\'t compile) \\n\\n Regards, \\nPeter.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12970616\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-1729?focusedCommentId=12970616&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12970616\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yseeley@gmail.com\\\" id=\\\"commentauthor_12970616_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yseeley%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yseeley@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yonik Seeley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12970616_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Dec\\/10 16:44\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-12-12T16:44:03+0000\'\u003e12\\/Dec\\/10 16:44\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eYep, I forgot to \\\"svn add\\\" the new file.\u003cbr\\/\u003e\\nHere\'s a hopefully working patch.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yseeley@gmail.com\\\" id=\\\"commentauthor_12970616_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yseeley%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yseeley@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yonik Seeley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12970616_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Dec\\/10 16:44\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-12-12T16:44:03+0000\'\u003e12\\/Dec\\/10 16:44\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Yep, I forgot to \\\"svn add\\\" the new file. \\nHere\'s a hopefully working patch.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12970671\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-1729?focusedCommentId=12970671&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12970671\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"peathal\\\" id=\\\"commentauthor_12970671_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=peathal\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"peathal\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Peter Karich\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12970671_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Dec\\/10 23:04\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-12-12T23:04:15+0000\'\u003e12\\/Dec\\/10 23:04\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eNice, now this patch 1729 applies + compiles + run tests successfully (I\'m using rev 1044942 of trunk)\u003c\\/p\u003e\\n\\n\u003cp\u003eOne further question: Would facet queries (with dates) work in the distributed setup without the date-patches? To get a quick(er) workaround. because I would need the patch for 1.4.1 (-&gt;solandra)\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"peathal\\\" id=\\\"commentauthor_12970671_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=peathal\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"peathal\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Peter Karich\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12970671_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Dec\\/10 23:04\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-12-12T23:04:15+0000\'\u003e12\\/Dec\\/10 23:04\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Nice, now this patch 1729 applies + compiles + run tests successfully (I\'m using rev 1044942 of trunk) \\n\\n One further question: Would facet queries (with dates) work in the distributed setup without the date-patches? To get a quick(er) workaround. because I would need the patch for 1.4.1 (-&gt;solandra)              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12970691\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-1729?focusedCommentId=12970691&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12970691\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yseeley@gmail.com\\\" id=\\\"commentauthor_12970691_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yseeley%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yseeley@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yonik Seeley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12970691_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'13\\/Dec\\/10 03:15\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-12-13T03:15:04+0000\'\u003e13\\/Dec\\/10 03:15\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cblockquote\u003e\u003cp\u003eWould facet queries (with dates) work in the distributed setup without the date-patches?\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003eI\'m not sure which date-patches you refer to, but this should fix all issues related to NOW being different in different places (both distributed and non distributed).\u003c\\/p\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yseeley@gmail.com\\\" id=\\\"commentauthor_12970691_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yseeley%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yseeley@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yonik Seeley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12970691_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'13\\/Dec\\/10 03:15\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-12-13T03:15:04+0000\'\u003e13\\/Dec\\/10 03:15\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     Would facet queries (with dates) work in the distributed setup without the date-patches?  \\n\\n I\'m not sure which date-patches you refer to, but this should fix all issues related to NOW being different in different places (both distributed and non distributed). \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12970703\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-1729?focusedCommentId=12970703&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12970703\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yseeley@gmail.com\\\" id=\\\"commentauthor_12970703_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yseeley%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yseeley@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yonik Seeley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12970703_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'13\\/Dec\\/10 04:28\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-12-13T04:28:02+0000\'\u003e13\\/Dec\\/10 04:28\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI added a test for distributed search and committed.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yseeley@gmail.com\\\" id=\\\"commentauthor_12970703_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yseeley%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yseeley@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yonik Seeley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12970703_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'13\\/Dec\\/10 04:28\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-12-13T04:28:02+0000\'\u003e13\\/Dec\\/10 04:28\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I added a test for distributed search and committed.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12970785\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-1729?focusedCommentId=12970785&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12970785\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"midiman\\\" id=\\\"commentauthor_12970785_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=midiman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"midiman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Peter Sturge\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12970785_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'13\\/Dec\\/10 11:55\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-12-13T11:55:22+0000\'\u003e13\\/Dec\\/10 11:55\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eMany thanks for finishing off this patch. Sorry I didn\'t get time to fix this, been swamped with so many projects at the moment.\u003cbr\\/\u003e\\nThat\'s great you got the thread local NOW included as well. Thanks!\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"midiman\\\" id=\\\"commentauthor_12970785_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=midiman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"midiman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Peter Sturge\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12970785_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'13\\/Dec\\/10 11:55\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-12-13T11:55:22+0000\'\u003e13\\/Dec\\/10 11:55\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Many thanks for finishing off this patch. Sorry I didn\'t get time to fix this, been swamped with so many projects at the moment. \\nThat\'s great you got the thread local NOW included as well. Thanks!              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13186914\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-1729?focusedCommentId=13186914&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13186914\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"simonw\\\" id=\\\"commentauthor_13186914_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=simonw\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"simonw\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Simon Willnauer\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13186914_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'16\\/Jan\\/12 13:33\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-01-16T13:33:26+0000\'\u003e16\\/Jan\\/12 13:33\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI am planning to backport \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-1709\\\" title=\\\"Distributed Date and Range Faceting\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-1709\\\"\u003e\u003cdel\u003eSOLR-1709\u003c\\/del\u003e\u003c\\/a\u003e to 3.x and apparently its a good idea to do the same for this issue. Any objections &amp; issues what I should be aware of with this issue?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"simonw\\\" id=\\\"commentauthor_13186914_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=simonw\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"simonw\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Simon Willnauer\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13186914_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'16\\/Jan\\/12 13:33\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-01-16T13:33:26+0000\'\u003e16\\/Jan\\/12 13:33\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I am planning to backport   SOLR-1709   to 3.x and apparently its a good idea to do the same for this issue. Any objections &amp; issues what I should be aware of with this issue?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13186984\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-1729?focusedCommentId=13186984&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13186984\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dsmiley\\\" id=\\\"commentauthor_13186984_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dsmiley\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dsmiley\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e David Smiley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13186984_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'16\\/Jan\\/12 15:55\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-01-16T15:55:24+0000\'\u003e16\\/Jan\\/12 15:55\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eFantastic Simon!  I\'m glad someone with clout (i.e. a committer) is willing to make this happen.  Users need \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-1709\\\" title=\\\"Distributed Date and Range Faceting\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-1709\\\"\u003e\u003cdel\u003eSOLR-1709\u003c\\/del\u003e\u003c\\/a\u003e.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dsmiley\\\" id=\\\"commentauthor_13186984_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dsmiley\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dsmiley\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e David Smiley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13186984_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'16\\/Jan\\/12 15:55\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-01-16T15:55:24+0000\'\u003e16\\/Jan\\/12 15:55\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Fantastic Simon!  I\'m glad someone with clout (i.e. a committer) is willing to make this happen.  Users need   SOLR-1709  .              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13186990\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-1729?focusedCommentId=13186990&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13186990\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"simonw\\\" id=\\\"commentauthor_13186990_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=simonw\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"simonw\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Simon Willnauer\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13186990_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'16\\/Jan\\/12 16:02\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-01-16T16:02:31+0000\'\u003e16\\/Jan\\/12 16:02\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003ereopen for backport to 3x\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"simonw\\\" id=\\\"commentauthor_13186990_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=simonw\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"simonw\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Simon Willnauer\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13186990_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'16\\/Jan\\/12 16:02\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-01-16T16:02:31+0000\'\u003e16\\/Jan\\/12 16:02\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    reopen for backport to 3x              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13186991\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-1729?focusedCommentId=13186991&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13186991\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"simonw\\\" id=\\\"commentauthor_13186991_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=simonw\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"simonw\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Simon Willnauer\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13186991_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'16\\/Jan\\/12 16:03\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-01-16T16:03:51+0000\'\u003e16\\/Jan\\/12 16:03\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003ehere is a patch created from my svn merge. I also added SorlRequestInfo to places where it was added outside of this issue in 4.x. I\'d appreciate a review but it seems all tests pass.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"simonw\\\" id=\\\"commentauthor_13186991_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=simonw\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"simonw\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Simon Willnauer\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13186991_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'16\\/Jan\\/12 16:03\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-01-16T16:03:51+0000\'\u003e16\\/Jan\\/12 16:03\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    here is a patch created from my svn merge. I also added SorlRequestInfo to places where it was added outside of this issue in 4.x. I\'d appreciate a review but it seems all tests pass.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13186994\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-1729?focusedCommentId=13186994&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13186994\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"simonw\\\" id=\\\"commentauthor_13186994_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=simonw\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"simonw\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Simon Willnauer\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13186994_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'16\\/Jan\\/12 16:11\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-01-16T16:11:23+0000\'\u003e16\\/Jan\\/12 16:11\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eupdated patch, I accidentally remove some lines from a test. they are back now and the patch includes the updated CHANGES.TXT\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"simonw\\\" id=\\\"commentauthor_13186994_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=simonw\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"simonw\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Simon Willnauer\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13186994_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'16\\/Jan\\/12 16:11\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-01-16T16:11:23+0000\'\u003e16\\/Jan\\/12 16:11\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    updated patch, I accidentally remove some lines from a test. they are back now and the patch includes the updated CHANGES.TXT              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13187533\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-1729?focusedCommentId=13187533&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13187533\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"simonw\\\" id=\\\"commentauthor_13187533_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=simonw\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"simonw\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Simon Willnauer\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13187533_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Jan\\/12 08:39\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-01-17T08:39:29+0000\'\u003e17\\/Jan\\/12 08:39\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI am going to commit this soon if nobody objects.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"simonw\\\" id=\\\"commentauthor_13187533_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=simonw\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"simonw\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Simon Willnauer\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13187533_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Jan\\/12 08:39\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-01-17T08:39:29+0000\'\u003e17\\/Jan\\/12 08:39\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I am going to commit this soon if nobody objects.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13187536\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-1729?focusedCommentId=13187536&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13187536\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"simonw\\\" id=\\\"commentauthor_13187536_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=simonw\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"simonw\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Simon Willnauer\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13187536_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Jan\\/12 08:54\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-01-17T08:54:53+0000\'\u003e17\\/Jan\\/12 08:54\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003ebackported to 3x in rev 1232343\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"simonw\\\" id=\\\"commentauthor_13187536_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=simonw\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"simonw\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Simon Willnauer\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13187536_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Jan\\/12 08:54\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-01-17T08:54:53+0000\'\u003e17\\/Jan\\/12 08:54\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    backported to 3x in rev 1232343              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\"";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["scope-filter-data"]="{\"createScopeActions\":[],\"scopes\":[]}";
WRM._unparsedData["sidebar-collapsed-by-default"]="true";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:can-manage"]="false";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:with-icons"]="false";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:shortcuts"]="[]";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:project-id"]="12310230";
WRM._unparsedData["sidebar-id"]="\"\u003cdiv class=\\\"aui-sidebar  projects-sidebar sidebar-pending\\\" \u003e\u003cdiv class=\\\"aui-sidebar-wrapper\\\"\u003e\u003cdiv class=\\\"aui-sidebar-body\\\"\u003e\u003cheader class=\\\"aui-page-header\\\"\u003e\u003cdiv class=\\\"aui-page-header-inner\\\"\u003e\u003cdiv class=\\\"aui-page-header-image\\\"\u003e\u003ca href=\\\"\\/jira\\/projects\\/SOLR\\/summary\\\" title=\\\"Solr\\\" class=\\\"jira-project-avatar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-large aui-avatar-project\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"\\/jira\\/secure\\/projectavatar?pid=12310230&amp;avatarId=22151\\\" alt=\\\"Solr\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e\u003cimg src=\\\"data:image\\/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI\\/Pg0KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE4LjEuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPg0KPHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgdmlld0JveD0iMCAwIDMwMCAzMDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMwMCAzMDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxnIGlkPSJMYXllcl8yIj4NCgk8cGF0aCBzdHlsZT0iZmlsbDojRjc5MjMyOyIgZD0iTTE1MCwwQzY2LjY2NywwLDAsNjYuNjY3LDAsMTUwczY2LjY2NywxNTAsMTUwLDE1MHMxNTAtNjYuNjY3LDE1MC0xNTBTMjMzLjMzMywwLDE1MCwweg0KCQkgTTEzNi42NjcsMTc4LjMzM0wxMjUsMTkwbC00MS42NjctNDBMOTUsMTM4LjMzM2wzMC0zMEwxMzYuNjY3LDEyMGwtMzAsMzBMMTM2LjY2NywxNzguMzMzeiBNMjA1LDE2MS42NjdsLTMwLDMwTDE2My4zMzMsMTgwDQoJCWwzMC0zMGwtMzAtMzBMMTc1LDEwOC4zMzNMMjE2LjY2NywxNTBMMjA1LDE2MS42Njd6Ii8+DQo8L2c+DQo8Zz4NCgk8cG9seWdvbiBzdHlsZT0iZmlsbDojRkZGRkZGOyIgcG9pbnRzPSIxNzUsMTkxLjY2NyAyMDUsMTYxLjY2NyAyMTYuNjY3LDE1MCAxNzUsMTA4LjMzMyAxNjMuMzMzLDEyMCAxOTMuMzMzLDE1MCAxNjMuMzMzLDE4MCAJIi8+DQoJPHBvbHlnb24gc3R5bGU9ImZpbGw6I0ZGRkZGRjsiIHBvaW50cz0iMTI1LDEwOC4zMzMgOTUsMTM4LjMzMyA4My4zMzMsMTUwIDEyNSwxOTAgMTM2LjY2NywxNzguMzMzIDEwNi42NjcsMTUwIDEzNi42NjcsMTIwIAkiLz4NCjwvZz4NCjwvc3ZnPg0K\\\" alt=\\\"Icon indicating the project type\\\" class=\\\"jira-project-avatar-icon\\\" \\/\u003e\u003c\\/a\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-image --\u003e\u003cdiv class=\\\"aui-page-header-main\\\"\u003e\u003ch1\u003e\u003cdiv class=\\\"aui-group aui-group-split\\\"\u003e\u003cdiv class=\\\"aui-item project-title\\\"\u003e\u003ca href=\\\"\\/jira\\/projects\\/SOLR\\/summary\\\" title=\\\"Solr\\\"\u003eSolr\u003c\\/a\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/h1\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-main --\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-inner --\u003e\u003c\\/header\u003e\u003c!-- .aui-page-header --\u003e\u003cnav class=\\\"aui-navgroup aui-navgroup-vertical\\\"\u003e\u003cdiv class=\\\"aui-navgroup-inner sidebar-content-container\\\"\u003e\u003cdiv class=\\\"aui-sidebar-group aui-sidebar-group-tier-one\\\" data-id=\\\"sidebar-navigation-panel\\\"\u003e\u003cul class=\\\"aui-nav\\\"\u003e\u003cli class=\\\"aui-nav-selected\\\" \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/SOLR\\/issues\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-issue-navigator:sidebar-issue-navigator\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large icon-sidebar-issues\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Issues\\\"\u003eIssues\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003cli  \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/SOLR?selectedItem=com.atlassian.jira.jira-projects-plugin:report-page\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-plugin:report-page\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large agile-icon-report\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Reports\\\"\u003eReports\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003cli  \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/SOLR?selectedItem=com.atlassian.jira.jira-projects-plugin:components-page\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-plugin:components-page\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large icon-sidebar-components\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Components\\\"\u003eComponents\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003c\\/ul\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/nav\u003e\u003c\\/div\u003e\u003cdiv class=\\\"aui-sidebar-footer\\\"\u003e\u003ca class=\\\"aui-button aui-button-subtle aui-sidebar-toggle aui-sidebar-footer-tipsy\\\" data-tooltip=\\\"Expand sidebar ( [ )\\\" href=\\\"#\\\"\u003e\u003cspan class=\\\"aui-icon aui-icon-small\\\"\u003e\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/div\u003e\"";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:bigpipe-init/jira.webresources:bigpipe-init.js" data-wrm-key="jira.webresources:bigpipe-init" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <form id="jira_request_timing_info" class="dont-default-focus"> 
   <fieldset class="parameters hidden"> 
    <input type="hidden" title="jira.request.start.millis" value="1516208478287"> 
    <input type="hidden" title="jira.request.server.time" value="870"> 
    <input type="hidden" title="jira.request.id" value="1021x7921943x6"> 
    <input type="hidden" title="jira.session.expiry.time" value="-"> 
    <input type="hidden" title="jira.session.expiry.in.mins" value="-"> 
    <input id="jiraConcurrentRequests" type="hidden" name="jira.request.concurrent.requests" value="14"> 
    <input type="hidden" title="db.reads.time.in.ms" value="81"> 
    <input type="hidden" title="db.conns.time.in.ms" value="90"> 
   </fieldset> 
  </form> 
  <!--
	                 REQUEST ID : 1021x7921943x6
	          REQUEST TIMESTAMP : [17/Jan/2018:17:01:18 +0000]
	               REQUEST TIME : 0.8700
	                 ASESSIONID : -
	        CONCURRENT REQUESTS : 14

	                      db.reads : OpSnapshot{name='db.reads', invocationCount=20, elapsedTotal=81712708, elapsedMin=746048, elapsedMax=53463291, resultSetSize=0, cpuTotal=0, cpuMin=0, cpuMax=0}
	                      db.conns : OpSnapshot{name='db.conns', invocationCount=24, elapsedTotal=90986841, elapsedMin=693818, elapsedMax=53563887, resultSetSize=0, cpuTotal=0, cpuMin=0, cpuMax=0}
-->   
 </body>
</html>