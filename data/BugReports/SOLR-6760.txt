<!doctype html>
<html lang="en">
 <head> 
  <meta charset="utf-8"> 
  <meta http-equiv="X-UA-Compatible" content="IE=Edge"> 
  <meta name="application-name" content="JIRA" data-name="jira" data-version="7.6.3">
  <meta name="ajs-viewissue-use-history-api" content="false"> 
  <meta name="ajs-jira-base-url" content="https://issues.apache.org/jira"> 
  <meta name="ajs-serverRenderedViewIssue" content="true"> 
  <meta name="ajs-dev-mode" content="false"> 
  <meta name="ajs-context-path" content="/jira"> 
  <meta name="ajs-version-number" content="7.6.3"> 
  <meta name="ajs-build-number" content="76005"> 
  <meta name="ajs-is-beta" content="false"> 
  <meta name="ajs-is-rc" content="false"> 
  <meta name="ajs-is-snapshot" content="false"> 
  <meta name="ajs-is-milestone" content="false"> 
  <meta name="ajs-remote-user" content=""> 
  <meta name="ajs-remote-user-fullname" content=""> 
  <meta name="ajs-user-locale" content="en_UK"> 
  <meta name="ajs-user-locale-group-separator" content=","> 
  <meta name="ajs-app-title" content="ASF JIRA"> 
  <meta name="ajs-keyboard-shortcuts-enabled" content="true"> 
  <meta name="ajs-keyboard-accesskey-modifier" content="Ctrl+Alt"> 
  <meta name="ajs-enabled-dark-features" content="[&quot;com.atlassian.jira.agile.darkfeature.editable.detailsview&quot;,&quot;nps.survey.inline.dialog&quot;,&quot;com.atlassian.jira.agile.darkfeature.edit.closed.sprint.enabled&quot;,&quot;jira.plugin.devstatus.phasetwo&quot;,&quot;jira.frother.reporter.field&quot;,&quot;atlassian.rest.xsrf.legacy.enabled&quot;,&quot;jira.issue.status.lozenge&quot;,&quot;com.atlassian.jira.config.BIG_PIPE&quot;,&quot;com.atlassian.jira.projects.issuenavigator&quot;,&quot;com.atlassian.jira.config.PDL&quot;,&quot;jira.plugin.devstatus.phasetwo.enabled&quot;,&quot;atlassian.aui.raphael.disabled&quot;,&quot;app-switcher.new&quot;,&quot;frother.assignee.field&quot;,&quot;com.atlassian.jira.projects.ProjectCentricNavigation.Switch&quot;,&quot;sd.internal.base.off.thread.on.completion.events.enabled&quot;,&quot;jira.onboarding.cyoa&quot;,&quot;com.atlassian.jira.agile.darkfeature.kanplan.enabled&quot;,&quot;sd.slavalue.record.updated.date.enabled&quot;,&quot;com.atlassian.jira.config.ProjectConfig.MENU&quot;,&quot;com.atlassian.jira.projects.sidebar.DEFER_RESOURCES&quot;,&quot;com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions.enabled&quot;,&quot;com.atlassian.jira.agile.darkfeature.sprint.goal.enabled&quot;,&quot;jira.zdu.admin-updates-ui&quot;,&quot;jira.zdu.jmx-monitoring&quot;,&quot;sd.sla.improved.rendering.enabled&quot;,&quot;sd.canned.responses.enabled&quot;,&quot;sd.new.settings.sidebar.location.disabled&quot;,&quot;jira.zdu.cluster-upgrade-state&quot;,&quot;com.atlassian.jira.agile.darkfeature.splitissue&quot;,&quot;com.atlassian.jira.config.CoreFeatures.LICENSE_ROLES_ENABLED&quot;,&quot;com.atlassian.feedback.feedback-button-move-to-header-enable&quot;,&quot;jira.export.csv.enabled&quot;]"> 
  <meta name="ajs-in-admin-mode" content="false"> 
  <meta name="ajs-is-sysadmin" content="false"> 
  <meta name="ajs-is-admin" content="false"> 
  <meta name="ajs-outgoing-mail-enabled" content="true"> 
  <meta name="ajs-date-relativize" content="true"> 
  <meta name="ajs-date-time" content="HH:mm"> 
  <meta name="ajs-date-day" content="EEEE HH:mm"> 
  <meta name="ajs-date-dmy" content="dd/MMM/yy"> 
  <meta name="ajs-date-complete" content="dd/MMM/yy HH:mm"> 
  <script type="text/javascript">var AJS=AJS||{};AJS.debug=true;</script> 
  <meta id="atlassian-token" name="atlassian-token" content="A5KQ-2QAV-T4JA-FDED|deea8deef7eabd6fefeb63262a22ee2b7c0f7a03|lout"> 
  <link rel="shortcut icon" href="/jira/s/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/_/favicon.ico"> 
  <!--[if IE]><![endif]--> 
  <script type="text/javascript">
    (function() {
        var contextPath = '/jira';
        var eventBuffer = [];

        function printDeprecatedMsg() {
            if (console && console.warn) {
                console.warn('DEPRECATED JS - contextPath global variable has been deprecated since 7.4.0. Use `wrm/context-path` module instead.');
            }
        }

        function sendEvent(analytics, postfix) {
            analytics.send({
                name: 'js.globals.contextPath.' + postfix
            });
        }

        function sendDeprecatedEvent(postfix) {
            try {
                var analytics = require('jira/analytics');
                if (eventBuffer.length) {
                    eventBuffer.forEach(function(value) {
                        sendEvent(analytics, value);
                    });
                    eventBuffer = [];
                }

                if (postfix) {
                    sendEvent(analytics, postfix);
                }
            } catch(ex) {
                eventBuffer.push(postfix);
                setTimeout(sendDeprecatedEvent, 1000);
            }
        }

        Object.defineProperty(window, 'contextPath', {
            get: function() {
                printDeprecatedMsg();
                sendDeprecatedEvent('get');
                return contextPath;
            },
            set: function(value) {
                printDeprecatedMsg();
                sendDeprecatedEvent('set');
                contextPath = value;
            }
        });
    })();

</script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["com.atlassian.plugins.atlassian-plugins-webresource-plugin:context-path.context-path"]="\"/jira\"";
WRM._unparsedData["jira.webresources:feature-flags.feature-flag-data"]="{\"enabled-feature-keys\":[\"com.atlassian.jira.agile.darkfeature.editable.detailsview\",\"nps.survey.inline.dialog\",\"com.atlassian.jira.agile.darkfeature.edit.closed.sprint.enabled\",\"jira.plugin.devstatus.phasetwo\",\"jira.frother.reporter.field\",\"atlassian.rest.xsrf.legacy.enabled\",\"jira.issue.status.lozenge\",\"com.atlassian.jira.config.BIG_PIPE\",\"com.atlassian.jira.projects.issuenavigator\",\"com.atlassian.jira.config.PDL\",\"jira.plugin.devstatus.phasetwo.enabled\",\"atlassian.aui.raphael.disabled\",\"app-switcher.new\",\"frother.assignee.field\",\"com.atlassian.jira.projects.ProjectCentricNavigation.Switch\",\"sd.internal.base.off.thread.on.completion.events.enabled\",\"jira.onboarding.cyoa\",\"com.atlassian.jira.agile.darkfeature.kanplan.enabled\",\"sd.slavalue.record.updated.date.enabled\",\"com.atlassian.jira.config.ProjectConfig.MENU\",\"com.atlassian.jira.projects.sidebar.DEFER_RESOURCES\",\"com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions.enabled\",\"com.atlassian.jira.agile.darkfeature.sprint.goal.enabled\",\"jira.zdu.admin-updates-ui\",\"jira.zdu.jmx-monitoring\",\"sd.sla.improved.rendering.enabled\",\"sd.canned.responses.enabled\",\"sd.new.settings.sidebar.location.disabled\",\"jira.zdu.cluster-upgrade-state\",\"com.atlassian.jira.agile.darkfeature.splitissue\",\"com.atlassian.jira.config.CoreFeatures.LICENSE_ROLES_ENABLED\",\"com.atlassian.feedback.feedback-button-move-to-header-enable\",\"jira.export.csv.enabled\"],\"feature-flag-states\":{\"sd.customer.profile.multi.languages\":true,\"sd.customer.portal.transitions\":true,\"sd.customer.portal.transitions.config\":true,\"sd.custom.email.stripping.rules\":false,\"sd.sla.lucene.issue.id.callback.performance\":true,\"sd.new.settings.sidebar.location\":true,\"sd.workload.report.paginator\":true,\"sd.experimental.portal.search.algorithm.default.1\":false,\"sd.customer.portal.help.center.agent.announcement\":true,\"sd.sla.improved.rendering\":false,\"sd.experimental.portal.search.algorithm.default.2\":false,\"sd.customer.feedback.validate.reporter.on.token\":true,\"sd.custom.email.notifications.utf8.csat.star\":true,\"sd.who.create.customers.by.email.setting\":true,\"com.atlassian.jira.issuetable.move.links.hidden\":true,\"jira.renderer.consider.variable.format\":true,\"sd.stats.event.tracking\":true,\"sd.password.helper.dialog\":true,\"sd.canned.responses\":false,\"sd.portal.help.center.customer.signup.secondary.email\":true,\"sd.custom.email.notifications.manage.language\":true,\"sd.use.search.by.permissions\":true,\"sd.slavalue.record.updated.date\":false,\"sd.report.custom.date.range\":false,\"sd.kb.article.helpfulness.report\":false,\"com.atlassian.jira.agile.darkfeature.sprint.goal\":false,\"sd.custom.email.notifications.styling\":true,\"sd.workinghours.new.page.bulldog.1\":false,\"sd.customer.portal.two.step.login\":false,\"sd.automation.psmq.async.executor\":true,\"sd.customer.org.list.page.lazy.search\":true,\"sd.approval.requested.when.handler\":true,\"sd.request.type.field.rest.api.filtering.bugfix\":true,\"sd.automation.then.action.auto.answer.approval\":true,\"com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions\":false,\"sla.will.only.be.paused.if.they.are.already.started\":true,\"sd.kb.comment.share.stats.collection\":true,\"com.atlassian.jira.upgrade.startup.fix.index\":true,\"sd.customer.orgs.group.participants\":true,\"sd.portal.help.center.customer.signup\":true,\"sd.sla.agent.jql.security.restricted\":true,\"sd.test.feature.flag.x\":true,\"sd.test.feature.flag.y\":false,\"sd.cluster.safe.mail.channel.shutdown\":true,\"sd.email.channel.folders\":false,\"sd.email.analytics.open\":false,\"sd.kb.project.creation.create.link.space\":true,\"sd.workinghours.new.page\":false,\"sd.confluence.anonymous.permission.fix\":true,\"com.atlassian.jira.issuetable.draggable\":true,\"sd.customer.portal.project.agent.announcement\":true,\"sd.automation.audit.log\":true,\"jira.jql.suggestrecentfields\":false,\"sd.canned.responses.check.index.startup\":false,\"sd.new.project.templates\":true,\"sd.custom.email.notifications.custom.rules.simple.ui\":false,\"sd.custom.email.notifications.cut.over\":true,\"sd.dismiss.all.misconfiguration.warnings.setting\":true,\"com.atlassian.jira.agile.darkfeature.optimistic.transitions\":true,\"sd.sla.configurations.export\":true,\"sd.canned.responses.variable.substitution\":true,\"com.atlassian.jira.agile.darkfeature.kanplan\":false,\"sd.internal.base.off.thread.on.completion.events\":false,\"sd.customer.portal.prioties.per.project.fix\":true,\"jira.instrumentation.laas\":false,\"sd.kb.self.service.report\":false,\"sla.improved.request.handling\":true,\"sd.no.schedule.async.upgrade.tasks\":true,\"sd.kb.primary.nav\":true,\"com.atlassian.jira.agile.darkfeature.edit.closed.sprint\":false,\"sd.kb.issueview.panel.phase2\":true,\"sd.email.outsider.comments\":true,\"jira.create.linked.issue\":true,\"sd.kb.issueview.panel\":true,\"jira.sal.host.connect.accessor.existing.transaction.will.create.transactions\":true,\"sd.approvals.light.weight\":false,\"sd.automation.then.webhook\":true,\"sd.respect.inline.edit.issue.off\":true,\"jira.jql.smartautoselectfirst\":false,\"sd.global.portal.search.atlassian.only.tracking\":false,\"sd.automation.if.condition.comment.primary.action\":true,\"jira.priorities.per.project\":true,\"sd.inline.noformat.renderer\":true,\"sd.customer.request.type.create.edit.screens\":true}}";
WRM._unparsedData["jira.webresources:default-comment-security-level.DefaultCommentSecurityLevelHelpLink"]="{\"extraClasses\":\"default-comment-level-help\",\"title\":\"Commenting on an Issue\",\"url\":\"https://docs.atlassian.com/jira/jcore-docs-076/Editing+and+collaborating+on+issues#Editingandcollaboratingonissues-restrictacomment\",\"isLocal\":false}";
WRM._unparsedData["jira.webresources:dateFormatProvider.allFormats"]="{\"dateFormats\":{\"meridiem\":[\"AM\",\"PM\"],\"eras\":[\"BC\",\"AD\"],\"months\":[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],\"monthsShort\":[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],\"weekdaysShort\":[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"],\"weekdays\":[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"]},\"lookAndFeelFormats\":{\"relativize\":\"true\",\"time\":\"HH:mm\",\"day\":\"EEEE HH:mm\",\"dmy\":\"dd/MMM/yy\",\"complete\":\"dd/MMM/yy HH:mm\"}}";
WRM._unparsedData["com.atlassian.jira.jira-issue-nav-components:issueviewer.features"]="{\"rteEnabled\":true}";
WRM._unparsedData["com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone.thumbnail-mime-types"]="\"image/png,image/vnd.wap.wbmp,image/x-png,image/jpeg,image/bmp,image/gif\"";
WRM._unparsedData["com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone.upload-limit"]="\"62914560\"";
WRM._unparsedData["com.atlassian.plugins.helptips.jira-help-tips:help-tip-manager.JiraHelpTipData"]="{\"anonymous\":true}";
WRM._unparsedData["com.atlassian.jira.jira-view-issue-plugin:controller-subtasks.controller.subtasks.parameters"]="{\"url\":\"/rest/api/2/issue/{issueId}/subtask/move\"}";
WRM._unparsedData["com.atlassian.analytics.analytics-client:policy-update-init.policy-update-data-provider"]="false";
WRM._unparsedData["com.atlassian.analytics.analytics-client:programmatic-analytics-init.programmatic-analytics-data-provider"]="false";
WRM._unparsedData["com.atlassian.servicedesk.servicedesk-canned-responses-plugin:canned-responses-data-provider.data"]="{\"substitutionVariables\":{\"issue.summary\":\"Issue summary\",\"issue.description\":\"Issue description\",\"issue.key\":\"Issue key\",\"issue.reporter.name\":\"Issue reporter\",\"issue.resolution\":\"Issue resolution\",\"request.url\":\"Request URL\",\"request.status\":\"Request status\"}}";
WRM._unparsedData["jira.webresources:avatar-picker.data"]="{}";
WRM._unparsedData["com.atlassian.feedback.jira-feedback-plugin:button-resources-init.data"]="{\"jira.feedback.plugin.issue.collector.core\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"jira.feedback.plugin.issue.collector.default\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"jira.feedback.plugin.issue.collector.service.desk\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector.js?locale=en-UK&collectorId=a698db21\",\"jira.feedback.plugin.issue.collector.software\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"isHeaderFeedbackButtonEnabled\":true}";
WRM._unparsedData["com.atlassian.jira.jira-header-plugin:dismissedFlags.flags"]="{\"dismissed\":[]}";
WRM._unparsedData["com.atlassian.jira.jira-header-plugin:newsletter-signup-tip-init.newsletterSignup"]="{\"signupDescription\":\"Get updates, inspiration and best practices from the team behind JIRA.\",\"formUrl\":\"https://www.atlassian.com/apis/exact-target/{0}/subscribe?mailingListId=1401671\",\"signupTitle\":\"Sign up!\",\"signupId\":\"newsletter-signup-tip\",\"showNewsletterTip\":false}";
WRM._unparsedData["com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources.ptAnalyticsData"]="{\"instanceCreatedDate\":\"2011-01-31\"}";
WRM._unparsedData["com.atlassian.servicedesk.core-ui:util-help-links.help-links"]="{\"help\":{\"email.settings\":\"https://docs.atlassian.com/jira/jsd-docs-039/Receiving+requests+by+email\",\"managing.queues\":\"https://docs.atlassian.com/jira/jsd-docs-039/Setting+up+queues+for+your+team\",\"email.setup\":\"https://docs.atlassian.com/jira/jsd-docs-039/Receiving+requests+by+email\",\"request.settings.help.bubble\":\"https://docs.atlassian.com/jira/jsd-docs-039/Managing+access+to+your+service+desk\",\"email.settings.suitablerequest\":\"https://docs.atlassian.com/jira/jsd-docs-039/Receiving+requests+by+email#Receivingrequestsbyemail-suitablerequest\",\"sla.import.help\":\"https://docs.atlassian.com/jira/jsd-docs-039/Importing+SLAs\",\"documentation.home\":\"https://docs.atlassian.com/jira/jsd-docs-039/JIRA+Service+Desk+Documentation\",\"default\":\"https://docs.atlassian.com/jira/jsd-docs-039/\",\"create.space.help\":\"https://docs.atlassian.com/jira/jsd-docs-039/Serving+customers+with+a+knowledge+base#serving-customers-with-a-knowledge-base-createpermission\",\"email.settings.troubleshooting\":\"https://docs.atlassian.com/jira/jsd-docs-039/Troubleshooting+issues+with+the+email+channel\",\"admin.notifications.config\":\"https://docs.atlassian.com/jira/jsd-docs-039/Managing+service+desk+notifications\",\"troubleshoot.requesttype\":\"https://docs.atlassian.com/jira/jsd-docs-039/Troubleshooting+issues+with+request+types\",\"approvals.configuration\":\"https://docs.atlassian.com/jira/jsd-docs-039/Configuring+JIRA+Service+Desk+approvals\",\"setting.up.reports\":\"https://docs.atlassian.com/jira/jsd-docs-039/Setting+up+service+desk+reports\",\"public.signup\":\"https://docs.atlassian.com/jira/jsd-docs-039/Configuring+public+signup\",\"knowledge.base\":\"https://docs.atlassian.com/jira/jsd-docs-039/Serving+customers+with+a+knowledge+base\",\"resolve.permission.scheme.errors\":\"https://docs.atlassian.com/jira/jsd-docs-039/Resolving+permission+scheme+errors\",\"getting.started\":\"https://docs.atlassian.com/jira/jsd-docs-039/Getting+started+with+JIRA+Service+Desk\",\"getting.started.agent\":\"https://docs.atlassian.com/jira/jsd-docs-039/Getting+started+for+service+desk+agents\",\"invite.customers\":\"https://docs.atlassian.com/jira/jsd-docs-039/Managing+access+to+your+service+desk\"},\"kb\":{\"default\":\"https://confluence.atlassian.com/display/SDKB/\",\"troubleshooting.user.management.issues\":\"https://confluence.atlassian.com/display/SDKB/Troubleshooting+issues+with+service+desk+user+management\",\"legacytransition\":\"https://confluence.atlassian.com/display/SDKB/Replacing+legacy+automatic+transitions+with+automation+rules\",\"umtroubleshoot\":\"https://confluence.atlassian.com/display/SDKB/Troubleshooting+issues+with+service+desk+user+management\"}}";
WRM._unparsedData["com.atlassian.servicedesk.core-ui:util-base-url.base-url"]="\"https://issues.apache.org/jira\"";
WRM._unparsedData["com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources.help-data"]="{\"showHelp\":true,\"editorDocumentationUrl\":[\"https://docs.atlassian.com/jira/jcore-docs-076/Visual+editing\"],\"editorDocumentationTitle\":[\"Show me documentation for the visual editor\"]}";
WRM._unparsedData["com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources.thumbnails-allowed"]="false";
WRM._unparsedData["jira.webresources:user-message-flags.adminLockout"]="{}";
WRM._unparsedData["jira.request.correlation-id"]="\"8b63098643f07c\"";
WRM._unparsedData["project-id"]="12310230";
WRM._unparsedData["project-key"]="\"SOLR\"";
WRM._unparsedData["project-name"]="\"Solr\"";
WRM._unparsedData["project-type"]="\"software\"";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:generic-filters"]="[{\"id\":\"allissues\",\"jql\":\"project = \\\"{0}\\\" ORDER BY {1}\",\"defaultOrderby\":\"created DESC\",\"label\":\"All issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[]},{\"id\":\"allopenissues\",\"jql\":\"project = \\\"{0}\\\" AND resolution = Unresolved ORDER BY {1}\",\"defaultOrderby\":\"priority DESC, updated DESC\",\"label\":\"Open issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"resolution\"]},{\"id\":\"doneissues\",\"jql\":\"project = \\\"{0}\\\" AND statusCategory = Done ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Done issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":false,\"fields\":[\"status\"]},{\"id\":\"recentlyviewed\",\"jql\":\"project = \\\"{0}\\\" AND issuekey in issueHistory() ORDER BY {1}\",\"defaultOrderby\":\"lastViewed DESC\",\"label\":\"Viewed recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"issuekey\"]},{\"id\":\"addedrecently\",\"jql\":\"project = \\\"{0}\\\" AND created \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"created DESC\",\"label\":\"Created recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"created\"]},{\"id\":\"resolvedrecently\",\"jql\":\"project = \\\"{0}\\\" AND resolutiondate \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Resolved recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":false,\"fields\":[\"resolutiondate\"]},{\"id\":\"updatedrecently\",\"jql\":\"project = \\\"{0}\\\" AND updated \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Updated recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"updated\"]}]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:default-filter-priority"]="[\"allopenissues\",\"allissues\"]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:can-manage-filters"]="false";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:project-filters"]="[]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:can-create-issues"]="false";
WRM._unparsedData["projectId"]="12310230";
WRM._unparsedData["projectKey"]="\"SOLR\"";
WRM._unparsedData["projectType"]="\"software\"";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:server-rendered"]="true";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/a8a4711bc3f2eb261d8c8fd9fbcbba8b-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/1fca1750044f2777c977e8d8cc023344/_/download/contextbatch/css/_super/batch.css" data-wrm-key="_super" data-wrm-batch-type="context" media="all"> 
  <link type="text/css" rel="stylesheet" href="/jira/s/1a6b21131945f6f49ff48336b49ca3fe-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/37a6e594cbbfd462a8a54d5aa11475c1/_/download/contextbatch/css/project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super/batch.css?agile_global_admin_condition=true&amp;hc-enabled=true&amp;is-server-instance=true&amp;jag=true&amp;jira.create.linked.issue=true&amp;nps-acknowledged=true&amp;richediton=true&amp;sd_operational=true" data-wrm-key="project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super" data-wrm-batch-type="context" media="all"> 
  <link type="text/css" rel="stylesheet" href="/jira/s/611672383f6cab00ab202241ba6f9d68-T/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/7.6.3/_/download/batch/com.atlassian.feedback.jira-feedback-plugin:button-resources-init/com.atlassian.feedback.jira-feedback-plugin:button-resources-init.css" data-wrm-key="com.atlassian.feedback.jira-feedback-plugin:button-resources-init" data-wrm-batch-type="resource" media="all"> 
  <script type="text/javascript" src="/jira/s/d8484c9183f546511a8e336a8779bcd9-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/1fca1750044f2777c977e8d8cc023344/_/download/contextbatch/js/_super/batch.js?locale=en-UK" data-wrm-key="_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d3b35d835f8f46fc3b53bb4db7f85158-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/37a6e594cbbfd462a8a54d5aa11475c1/_/download/contextbatch/js/project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super/batch.js?agile_global_admin_condition=true&amp;hc-enabled=true&amp;is-server-instance=true&amp;jag=true&amp;jira.create.linked.issue=true&amp;locale=en-UK&amp;nps-acknowledged=true&amp;richediton=true&amp;sd_operational=true" data-wrm-key="project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/71d42e74136d842a3ef4d5d136484843-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/871d45c9f322a22cb3aa9b7948a69803/_/download/contextbatch/js/atl.global,-_super/batch.js?locale=en-UK" data-wrm-key="atl.global,-_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:calendar-en/jira.webresources:calendar-en.js" data-wrm-key="jira.webresources:calendar-en" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:calendar-localisation-moment/jira.webresources:calendar-localisation-moment.js" data-wrm-key="jira.webresources:calendar-localisation-moment" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/7.6.3/_/download/batch/com.atlassian.feedback.jira-feedback-plugin:button-resources/com.atlassian.feedback.jira-feedback-plugin:button-resources.js" data-wrm-key="com.atlassian.feedback.jira-feedback-plugin:button-resources" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/95a4826c265852f4904f1e0e7300df68-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/e0de73613a1027de08f3da6a45e1d1a2/_/download/contextbatch/css/jira.global.look-and-feel,-_super/batch.css" data-wrm-key="jira.global.look-and-feel,-_super" data-wrm-batch-type="context" media="all"> 
  <script type="text/javascript" src="/jira/rest/api/1.0/shortcuts/76005/944bb39eced1b35cfc7194aa02eb5a5a/shortcuts.js?context=issuenavigation&amp;context=issueaction"></script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["com.atlassian.jira.jira-issue-nav-components:inline-edit-enabled"]="true";
WRM._unparsedData["should-display-chaperone"]="false";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/15712b600e9aecf72ffd9fd3704a0c78-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/6b22a15c7b83f87a47b1757076f43542/_/download/contextbatch/css/com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue/batch.css?jira.create.linked.issue=true&amp;richediton=true&amp;sd_operational=true" data-wrm-key="com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue" data-wrm-batch-type="context" media="all"> 
  <script type="text/javascript" src="/jira/s/5a8f0f8b8aa8f96a4f0f7e9e248d62f3-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/6b22a15c7b83f87a47b1757076f43542/_/download/contextbatch/js/com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue/batch.js?jira.create.linked.issue=true&amp;locale=en-UK&amp;richediton=true&amp;sd_operational=true" data-wrm-key="com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue" data-wrm-batch-type="context" data-initially-rendered></script> 
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge"> 
  <meta name="ajs-can-search-users" content="false"> 
  <meta name="ajs-can-edit-watchers" content="false"> 
  <meta name="ajs-default-avatar-url" content="https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10453"> 
  <meta name="ajs-issue-project-type" content="software"> 
  <meta name="ajs-issue-key" content="SOLR-6760"> 
  <meta name="ajs-server-view-issue-is-editable" content="false"> 
  <title>[SOLR-6760] New optimized DistributedQueue implementation for overseer - ASF JIRA</title> 
  <link rel="search" type="application/opensearchdescription+xml" href="/jira/osd.jsp" title="[SOLR-6760] New optimized DistributedQueue implementation for overseer - ASF JIRA"> 
 </head> 
 <body id="jira" class="aui-layout aui-theme-default " data-version="7.6.3"> 
  <div id="page"> 
   <header id="header" role="banner"> 
    <script>
require(["jquery", "jira/license-banner"], function ($, licenseBanner) {
    $(function () {
        licenseBanner.showLicenseBanner("");
        licenseBanner.showLicenseFlag("");
    });
});
</script> 
    <nav class="aui-header aui-dropdown2-trigger-group" role="navigation">
     <div class="aui-header-inner">
      <div class="aui-header-before">
       <a class=" aui-dropdown2-trigger app-switcher-trigger" aria-controls="app-switcher" aria-haspopup="true" role="button" tabindex="0" data-aui-trigger href="#app-switcher"><span class="aui-icon aui-icon-small aui-iconfont-appswitcher">Linked Applications</span></a>
       <div id="app-switcher" class="aui-dropdown2 aui-style-default" role="menu" aria-hidden="true" data-is-switcher="true" data-environment="{&quot;isUserAdmin&quot;:false,&quot;isAppSuggestionAvailable&quot;:false,&quot;isSiteAdminUser&quot;:false}">
        <div role="application">
         <div class="app-switcher-loading">
          Loadingâ€¦
         </div>
        </div>
       </div>
      </div>
      <div class="aui-header-primary">
       <h1 id="logo" class="aui-header-logo aui-header-logo-custom"><a href="https://issues.apache.org/jira/secure/MyJiraHome.jspa"><img src="/jira/s/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/_/jira-logo-scaled.png" alt="ASF JIRA"></a></h1>
       <ul class="aui-nav">
        <li><a href="/jira/secure/Dashboard.jspa" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="home_link" aria-haspopup="true" aria-controls="home_link-content" title="View and manage your dashboards" accesskey="d">Dashboards</a>
         <div class="aui-dropdown2 aui-style-default" id="home_link-content" data-aui-dropdown2-ajax-key="home_link"></div></li>
        <li><a href="/jira/browse/SOLR" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="browse_link" aria-haspopup="true" aria-controls="browse_link-content" title="View recent projects and browse a list of projects" accesskey="p">Projects</a>
         <div class="aui-dropdown2 aui-style-default" id="browse_link-content" data-aui-dropdown2-ajax-key="browse_link"></div></li>
        <li><a href="/jira/issues/" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="find_link" aria-haspopup="true" aria-controls="find_link-content" title="Search for issues and view recent issues" accesskey="i">Issues</a>
         <div class="aui-dropdown2 aui-style-default" id="find_link-content" data-aui-dropdown2-ajax-key="find_link"></div></li> 
       </ul>
      </div>
      <div class="aui-header-secondary">
       <ul class="aui-nav">
        <li id="quicksearch-menu"> 
         <form action="/jira/secure/QuickSearch.jspa" method="get" id="quicksearch" class="aui-quicksearch dont-default-focus ajs-dirty-warning-exempt"> 
          <input id="quickSearchInput" class="search" type="text" title="Search" placeholder="Search" name="searchString" accessKey="q"> 
          <input type="submit" class="hidden" value="Search"> 
         </form> </li> 
        <li><a class="jira-feedback-plugin" role="button" aria-haspopup="true" id="jira-header-feedback-link" href="#"><span class="aui-icon aui-icon-small jira-feedback-plugin-icon">Give feedback to Atlassian</span></a></li> 
        <li id="system-help-menu"> <a class="aui-nav-link aui-dropdown2-trigger" id="help_menu" aria-haspopup="true" aria-owns="system-help-menu-content" href="https://docs.atlassian.com/jira/jcore-docs-076/" target="$textUtils.htmlEncode($rootHelpMenuItem.params.target)" title="Help"><span class="aui-icon aui-icon-small aui-iconfont-help">Help</span></a> 
         <div id="system-help-menu-content" class="aui-dropdown2 aui-style-default"> 
          <div class="aui-dropdown2-section"> 
           <ul id="jira-help" class="aui-list-truncate"> 
            <li> <a id="view_core_help" class="aui-nav-link " title="Go to the online documentation for JIRA Core" href="https://docs.atlassian.com/jira/jcore-docs-076/" target="_blank">JIRA Core help</a> </li> 
            <li> <a id="keyshortscuthelp" class="aui-nav-link " title="Get more information about JIRA's Keyboard Shortcuts" href="/jira/secure/ViewKeyboardShortcuts!default.jspa" target="_blank">Keyboard Shortcuts</a> </li> 
            <li> <a id="view_about" class="aui-nav-link " title="Get more information about JIRA" href="/jira/secure/AboutPage.jspa">About JIRA</a> </li> 
            <li> <a id="view_credits" class="aui-nav-link " title="See who did what" href="/jira/secure/JiraCreditsPage!default.jspa" target="_blank">JIRA Credits</a> </li> 
           </ul> 
          </div> 
         </div> </li> 
        <li id="user-options"> <a class="aui-nav-link login-link" href="/jira/login.jsp?os_destination=%2Fbrowse%2FSOLR-6760">Log In</a> 
         <div id="user-options-content" class="aui-dropdown2 aui-style-default"> 
          <div class="aui-dropdown2-section"> 
          </div> 
         </div> </li> 
       </ul>
      </div>
     </div>
     <!-- .aui-header-inner-->
    </nav>
    <!-- .aui-header --> 
   </header> 
   <section id="content" role="main"> 
    <big-pipe data-id="sidebar-id" unresolved></big-pipe>
    <div class="aui-sidebar  sidebar-placeholder">
     <div class="aui-sidebar-wrapper">
      <div class="aui-sidebar-body"></div>
      <div class="aui-sidebar-footer">
       <a class="aui-button aui-button-subtle aui-sidebar-toggle aui-sidebar-footer-tipsy" data-tooltip="Expand sidebar ( [ )" href="#"><span class="aui-icon aui-icon-small"></span></a>
      </div>
     </div>
    </div>
    <script id="projects-sidebar-init">
    require(['jira/projects/sidebar/expansion-manager'], function(expansionManager) {
        var scriptTag = document.getElementById('projects-sidebar-init');
        var sidebar = AJS.sidebar('.aui-sidebar');
        expansionManager(sidebar);
        scriptTag.parentElement.removeChild(scriptTag);
    });
    </script>
    <div class="aui-page-panel">
     <div class="aui-page-panel-inner">
      <div class="issue-navigator">
       <div class="content">
        <div class="issue-view">
         <div class="navigation-tools">
          <div class="pager-container"></div>
         </div>
         <div class="issue-container">
          <div id="issue-content" class="issue-edit-form">
           <header id="stalker" class="issue-header js-stalker">
            <div class="issue-header-content">
             <header class="aui-page-header">
              <div class="aui-page-header-inner">
               <div class="aui-page-header-image">
                <span id="12310230" class="aui-avatar aui-avatar-large aui-avatar-project"><span class="aui-avatar-inner"><img id="project-avatar" alt="Uploaded image for project: 'Solr'" src="https://issues.apache.org/jira/secure/projectavatar?pid=12310230&amp;avatarId=22151"></span></span>
               </div>
               <!-- .aui-page-header-image -->
               <div class="aui-page-header-main">
                <ol class="aui-nav aui-nav-breadcrumbs">
                 <li><a id="project-name-val" href="/jira/browse/SOLR">Solr</a></li>
                 <li><a class="issue-link" data-issue-key="SOLR-6760" href="/jira/browse/SOLR-6760" id="key-val" rel="12756426">SOLR-6760</a></li>
                </ol>
                <h1 id="summary-val">New optimized DistributedQueue implementation for overseer</h1>
               </div>
               <!-- .aui-page-header-main -->
               <div class="aui-page-header-actions">
                <div id="issue-header-pager"></div>
               </div>
               <!-- .aui-page-header-actions -->
              </div>
              <!-- .aui-page-header-inner -->
             </header>
             <!-- .aui-page-header -->
             <div class="command-bar">
              <div class="ops-cont">
               <div class="ops-menus aui-toolbar">
                <div class="toolbar-split toolbar-split-left">
                 <ul id="opsbar-ops-login-lnk_container" class="toolbar-group pluggable-ops">
                  <li class="toolbar-item"><a id="ops-login-lnk" title="Log In" class="toolbar-trigger" href="/jira/login.jsp?os_destination=%2Fbrowse%2FSOLR-6760"><span class="trigger-label">Log In</span></a></li>
                 </ul>
                 <ul id="opsbar-opsbar-operations" class="toolbar-group pluggable-ops"></ul>
                 <ul id="opsbar-opsbar-transitions" class="toolbar-group pluggable-ops"></ul>
                 <ul id="opsbar-opsbar-admin" class="toolbar-group pluggable-ops"></ul>
                </div>
                <div class="toolbar-split toolbar-split-right">
                 <ul id="opsbar-jira.issue.tools" class="toolbar-group pluggable-ops">
                  <li class="toolbar-item">
                   <div>
                    <a href="#" id="viewissue-export" aria-owns="viewissue-export_drop" aria-haspopup="true" title="Export this issue in another format" class="toolbar-trigger aui-button aui-style-default aui-dropdown2-trigger"><span class="icon icon-default aui-icon aui-icon-small aui-iconfont-export"></span> <span class="dropdown-text">Export</span></a>
                    <div id="viewissue-export_drop" class="aui-style-default aui-dropdown2">
                     <ul>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-xml/SOLR-6760/SOLR-6760.xml" id="jira.issueviews:issue-xml"><span class="trigger-label">XML</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-word/SOLR-6760/SOLR-6760.doc" id="jira.issueviews:issue-word"><span class="trigger-label">Word</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-html/SOLR-6760/SOLR-6760.html" id="jira.issueviews:issue-html"><span class="trigger-label">Printable</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/com.atlassian.jira.plugins.jira-importers-plugin:issue-json/SOLR-6760/SOLR-6760.json" id="com.atlassian.jira.plugins.jira-importers-plugin:issue-json"><span class="trigger-label">JSON</span></a></li>
                     </ul>
                    </div>
                   </div></li>
                 </ul>
                </div>
               </div>
              </div>
             </div>
            </div>
           </header>
           <div class="issue-body-content">
            <div class="aui-group issue-body">
             <div class="aui-item issue-main-column">
              <div id="details-module" class="module toggle-wrap">
               <div id="details-module_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Details</h2>
               </div>
               <div class="mod-content"> 
                <ul id="issuedetails" class="property-list two-cols"> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Type:</strong> 
                   <span id="type-val" class="value"> <img alt="" height="16" src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype" title="Improvement - An improvement or enhancement to an existing feature or task." width="16"> Improvement </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Status:</strong> 
                   <span id="status-val" class="value"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done jira-issue-status-lozenge-max-width-medium" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </span> 
                  </div> </li> 
                 <li class="item new"> 
                  <div class="wrap"> 
                   <strong class="name">Priority:</strong> 
                   <span id="priority-val" class="value"> <img alt="" height="16" src="/jira/images/icons/priorities/major.svg" title="Major - Major loss of function." width="16"> Major </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Resolution:</strong> 
                   <span id="resolution-val" class="value resolved"> Fixed </span> 
                  </div> </li> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Affects Version/s:</strong> 
                   <span id="versions-val" class="value"> None </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Fix Version/s:</strong> 
                   <span id="fixfor-val" class="value"> <span class="shorten" id="fixVersions-field"> <a href="/jira/issues/?jql=project+%3D+SOLR+AND+fixVersion+%3D+5.4" title="5.4 Major release after 5.3">5.4</a>, <a href="/jira/issues/?jql=project+%3D+SOLR+AND+fixVersion+%3D+6.0" title="6.0 First 6.x release, Major release after 5.5">6.0</a> </span> </span> 
                  </div> </li> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Component/s:</strong> 
                   <span id="components-val" class="value"> <span class="shorten" id="components-field"> <a href="/jira/issues/?jql=project+%3D+SOLR+AND+component+%3D+SolrCloud" title="SolrCloud ">SolrCloud</a> </span> </span> 
                  </div> </li> 
                 <li class="item full-width"> 
                  <div class="wrap" id="wrap-labels"> 
                   <strong class="name">Labels:</strong> 
                   <div class="labels-wrap value"> 
                    <span class="labels" id="labels-12756426-value">None</span> 
                   </div> 
                  </div> </li> 
                </ul> 
               </div>
              </div>
              <div id="descriptionmodule" class="module toggle-wrap">
               <div id="descriptionmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Description</h2>
               </div>
               <div class="mod-content">
                <div id="description-val" class="field-ignore-highlight"> 
                 <div class="user-content-block"> 
                  <p>Currently the DQ works as follows</p> 
                  <ul> 
                   <li>read all items in the directory</li> 
                   <li>sort them all</li> 
                   <li>take the head and return it and discard everything else</li> 
                   <li>rinse and repeat</li> 
                  </ul> 
                  <p>This works well when we have only a handful of items in the Queue. If the items in the queue is much larger (in tens of thousands) , this is counterproductive</p> 
                  <p>As the overseer queue is a multiple producers + single consumer queue, We can read them all in bulk and before processing each item , just do a zk.exists(itemname) and if all is well we don't need to do the fetch all + sort thing again</p> 
                 </div> 
                </div> 
               </div>
              </div>
              <div id="dnd-metadata" class="module toggle-wrap">
               <div id="dnd-metadata_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Attachments</h2>
               </div>
               <div class="mod-content">
                <div id="dnd-metadata-webpanel" data-can-attach="false" data-project-type="software" data-upload-limit="62914560" data-thumbnails-allowed="false"></div>
               </div>
              </div>
              <div id="attachmentmodule" class="module toggle-wrap">
               <div id="attachmentmodule_heading" class="mod-header">
                <ul class="ops">
                 <li class="drop">
                  <div class="aui-dd-parent">
                   <a href="#" class="icon drop-menu js-default-dropdown" title="Options"><span>Options</span></a>
                   <div class="aui-dropdown-content aui-list">
                    <ul id="attachment-sorting-options" class="aui-list-section aui-first">
                     <li class="aui-list-item"><a id="attachment-sort-key-name" href="/jira/browse/SOLR-6760?attachmentSortBy=fileName#attachmentmodule" class="aui-list-checked aui-checked aui-list-item-link" title="viewissue.subtasks.tab.show.all.name"><span>Sort By Name</span></a></li>
                     <li class="aui-list-item"><a id="attachment-sort-key-date" href="/jira/browse/SOLR-6760?attachmentSortBy=dateTime#attachmentmodule" class="aui-list-checked aui-list-item-link" title="Sort By Date"><span>Sort By Date</span></a></li>
                    </ul>
                    <ul id="attachment-sorting-order-options" class="aui-list-section aui-last">
                     <li class="aui-list-item"><a id="attachment-sort-direction-asc" href="/jira/browse/SOLR-6760?attachmentOrder=asc#attachmentmodule" class="aui-list-checked aui-checked aui-list-item-link" title="Ascending"><span>Ascending</span></a></li>
                     <li class="aui-list-item"><a id="attachment-sort-direction-desc" href="/jira/browse/SOLR-6760?attachmentOrder=desc#attachmentmodule" class="aui-list-checked aui-list-item-link" title="Descending"><span>Descending</span></a></li>
                    </ul>
                   </div>
                  </div></li>
                </ul>
                <h2 class="toggle-title">Attachments</h2>
               </div>
               <div class="mod-content">
                <ol id="file_attachments" class="item-attachments" data-sort-key="fileName" data-sort-order="asc">
                 <li class="attachment-content js-file-attachment" data-attachment-id="12749770" data-issue-id="12756426" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12749770/deadlock.patch" draggable="true" data-downloadurl="text/plain:deadlock.patch:https://issues.apache.org/jira/secure/attachment/12749770/deadlock.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12749770/deadlock.patch" title="Latest  11/Aug/15 05:14 - Scott Blum" draggable="true" data-downloadurl="text/plain:deadlock.patch:https://issues.apache.org/jira/secure/attachment/12749770/deadlock.patch">deadlock.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2015-08-11T05:14:46.396Z">11/Aug/15 05:14</time>
                   </dd>
                   <dd class="attachment-size">
                    56 kB
                   </dd>
                   <dd class="attachment-author">
                    Scott Blum
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12751315" data-issue-id="12756426" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12751315/SOLR-6760.patch" draggable="true" data-downloadurl="text/plain:SOLR-6760.patch:https://issues.apache.org/jira/secure/attachment/12751315/SOLR-6760.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12751315/SOLR-6760.patch" title="Latest  19/Aug/15 18:16 - Scott Blum" draggable="true" data-downloadurl="text/plain:SOLR-6760.patch:https://issues.apache.org/jira/secure/attachment/12751315/SOLR-6760.patch">SOLR-6760.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2015-08-19T18:16:00.304Z">19/Aug/15 18:16</time>
                   </dd>
                   <dd class="attachment-size">
                    58 kB
                   </dd>
                   <dd class="attachment-author">
                    Scott Blum
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12751297" data-issue-id="12756426" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12751297/SOLR-6760.patch" draggable="true" data-downloadurl="text/plain:SOLR-6760.patch:https://issues.apache.org/jira/secure/attachment/12751297/SOLR-6760.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12751297/SOLR-6760.patch" title=" 19/Aug/15 16:22 - Scott Blum" draggable="true" data-downloadurl="text/plain:SOLR-6760.patch:https://issues.apache.org/jira/secure/attachment/12751297/SOLR-6760.patch">SOLR-6760.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2015-08-19T16:22:55.507Z">19/Aug/15 16:22</time>
                   </dd>
                   <dd class="attachment-size">
                    58 kB
                   </dd>
                   <dd class="attachment-author">
                    Scott Blum
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12750185" data-issue-id="12756426" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12750185/SOLR-6760.patch" draggable="true" data-downloadurl="text/plain:SOLR-6760.patch:https://issues.apache.org/jira/secure/attachment/12750185/SOLR-6760.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12750185/SOLR-6760.patch" title=" 12/Aug/15 22:48 - Scott Blum" draggable="true" data-downloadurl="text/plain:SOLR-6760.patch:https://issues.apache.org/jira/secure/attachment/12750185/SOLR-6760.patch">SOLR-6760.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2015-08-12T22:48:20.758Z">12/Aug/15 22:48</time>
                   </dd>
                   <dd class="attachment-size">
                    57 kB
                   </dd>
                   <dd class="attachment-author">
                    Scott Blum
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12749958" data-issue-id="12756426" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12749958/SOLR-6760.patch" draggable="true" data-downloadurl="text/plain:SOLR-6760.patch:https://issues.apache.org/jira/secure/attachment/12749958/SOLR-6760.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12749958/SOLR-6760.patch" title=" 11/Aug/15 21:48 - Scott Blum" draggable="true" data-downloadurl="text/plain:SOLR-6760.patch:https://issues.apache.org/jira/secure/attachment/12749958/SOLR-6760.patch">SOLR-6760.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2015-08-11T21:48:35.317Z">11/Aug/15 21:48</time>
                   </dd>
                   <dd class="attachment-size">
                    57 kB
                   </dd>
                   <dd class="attachment-author">
                    Scott Blum
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12751489" data-issue-id="12756426" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12751489/SOLR-6760-branch_5x.patch" draggable="true" data-downloadurl="text/x-patch:SOLR-6760-branch_5x.patch:https://issues.apache.org/jira/secure/attachment/12751489/SOLR-6760-branch_5x.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12751489/SOLR-6760-branch_5x.patch" title="Latest  20/Aug/15 13:16 - Shalin Shekhar Mangar" draggable="true" data-downloadurl="text/x-patch:SOLR-6760-branch_5x.patch:https://issues.apache.org/jira/secure/attachment/12751489/SOLR-6760-branch_5x.patch">SOLR-6760-branch_5x.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2015-08-20T13:16:43.093Z">20/Aug/15 13:16</time>
                   </dd>
                   <dd class="attachment-size">
                    59 kB
                   </dd>
                   <dd class="attachment-author">
                    Shalin Shekhar Mangar
                   </dd>
                  </dl></li>
                </ol>
               </div>
              </div>
              <div id="linkingmodule" class="module toggle-wrap">
               <div id="linkingmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Issue Links</h2>
               </div>
               <div class="mod-content"> 
                <div class="links-container" data-default-link-icon="/jira/images/icons/generic_link_16.png"> 
                 <dl class="links-list "> 
                  <dt title="relates to">
                   relates to
                  </dt> 
                  <dd id="internal-12779613_10030"> 
                   <div class="link-content"> 
                    <p> <img src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype" width="16" height="16" title="Bug - A problem which impairs or prevents the functions of the product." alt="Bug - A problem which impairs or prevents the functions of the product."> <span title="SOLR-7191: Improve stability and startup performance of SolrCloud with thousands of collections"> <a href="/jira/browse/SOLR-7191" data-issue-key="SOLR-7191" class="issue-link link-title resolution">SOLR-7191</a> <span class="link-summary">Improve stability and startup performance of SolrCloud with thousands of collections</span> </span> </p> 
                    <ul class="link-snapshot"> 
                     <li class="priority"> <img src="/jira/images/icons/priorities/major.svg" width="16" height="16" title="Major - Major loss of function." alt="Major - Major loss of function."> </li> 
                     <li class="status"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done aui-lozenge-subtle jira-issue-status-lozenge-max-width-short" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Resolved</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.</span>">Resolved</span> </li> 
                    </ul> 
                   </div> 
                  </dd> 
                 </dl> 
                </div> 
               </div>
              </div>
              <div id="activitymodule" class="module toggle-wrap">
               <div id="activitymodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Activity</h2>
               </div>
               <div class="mod-content"> 
                <big-pipe data-id="activity-panel-pipe-id" style="height: 70px"> 
                 <div></div> 
                </big-pipe> 
               </div>
              </div>
             </div>
             <div id="viewissuesidebar" class="aui-item issue-side-column">
              <div id="peoplemodule" class="module toggle-wrap">
               <div id="peoplemodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">People</h2>
               </div>
               <div class="mod-content"> 
                <ul class="item-details" id="peopledetails"> 
                 <li class="people-details"> 
                  <dl> 
                   <dt>
                    Assignee:
                   </dt> 
                   <dd> 
                    <span id="assignee-val" class="view-issue-field"> <span class="user-hover" id="issue_summary_assignee_shalinmangar" rel="shalinmangar" data-user="{&quot;avatarUrl&quot;:&quot;https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10452&quot;,&quot;displayName&quot;:&quot;Shalin Shekhar Mangar&quot;,&quot;emailAddress&quot;:&quot;shalin.mangar@lucidworks.com&quot;,&quot;username&quot;:&quot;shalinmangar&quot;}"> <span class="aui-avatar aui-avatar-small"><span class="aui-avatar-inner"><img src="https://issues.apache.org/jira/secure/useravatar?size=small&amp;avatarId=10452" alt="shalinmangar"></span></span> Shalin Shekhar Mangar </span> </span> 
                   </dd> 
                  </dl> 
                  <dl> 
                   <dt>
                    Reporter:
                   </dt> 
                   <dd> 
                    <span id="reporter-val" class="view-issue-field"> <span class="user-hover" id="issue_summary_reporter_noble.paul" rel="noble.paul" data-user="{&quot;avatarUrl&quot;:&quot;https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10452&quot;,&quot;displayName&quot;:&quot;Noble Paul&quot;,&quot;emailAddress&quot;:&quot;noble.paul@gmail.com&quot;,&quot;username&quot;:&quot;noble.paul&quot;}"> <span class="aui-avatar aui-avatar-small"><span class="aui-avatar-inner"><img src="https://issues.apache.org/jira/secure/useravatar?size=small&amp;avatarId=10452" alt="noble.paul"></span></span> Noble Paul </span> </span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
                <ul class="item-details"> 
                 <li> 
                  <dl> 
                   <dt>
                    Votes:
                   </dt> 
                   <dd> 
                    <span id="vote-data" class="aui-badge vote-state-off">4</span> 
                    <span id="vote-label" title="You have to be logged in to vote for an issue.">Vote for this issue</span> 
                   </dd> 
                  </dl> 
                  <dl> 
                   <dt>
                    Watchers:
                   </dt> 
                   <dd> 
                    <span id="watcher-data" class="aui-badge watch-state-off">11</span> 
                    <span id="watch-label" title="You have to be logged in to watch an issue.">Start watching this issue</span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
               </div>
              </div>
              <div id="datesmodule" class="module toggle-wrap">
               <div id="datesmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Dates</h2>
               </div>
               <div class="mod-content"> 
                <ul class="item-details"> 
                 <li> 
                  <dl class="dates"> 
                   <dt>
                    Created:
                   </dt> 
                   <dd class="date user-tz" title="19/Nov/14 15:40"> 
                    <span data-name="Created" id="created-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2014-11-19T15:40:05+0000">19/Nov/14 15:40</time> </span> 
                   </dd> 
                  </dl> 
                  <dl class="dates"> 
                   <dt>
                    Updated:
                   </dt> 
                   <dd class="date user-tz" title="09/May/16 18:48"> 
                    <span data-name="Updated" id="updated-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2016-05-09T18:48:13+0000">09/May/16 18:48</time> </span> 
                   </dd> 
                  </dl> 
                  <dl class="dates"> 
                   <dt>
                    Resolved:
                   </dt> 
                   <dd class="date user-tz" title="20/Aug/15 14:08"> 
                    <span data-name="Resolved" id="resolutiondate-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2015-08-20T14:08:27+0000">20/Aug/15 14:08</time> </span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
               </div>
              </div>
             </div>
            </div>
           </div>
          </div>
         </div>
        </div>
       </div>
      </div>
     </div>
     <!-- .aui-page-panel-inner -->
    </div>
    <!-- .aui-page-panel -->
    <div class="issue-navigator-init"></div> 
   </section> 
   <footer id="footer" role="contentinfo"> 
    <section class="footer-body"> 
     <ul class="atlassian-footer"> 
      <li> Atlassian JIRA <a class="seo-link" rel="nofollow" href="https://www.atlassian.com/software/jira">Project Management Software</a> <span id="footer-build-information">(v7.6.3#76005-<span title="8a4e38d34af948780dbf52044e7aafb13a7cae58" data-commit-id="8a4e38d34af948780dbf52044e7aafb13a7cae58}">sha1:8a4e38d</span>)</span> </li> 
      <li> <a id="about-link" rel="nofollow" href="/jira/secure/AboutPage.jspa/secure/AboutPage.jspa">About JIRA</a> </li> 
      <li> <a id="footer-report-problem-link" rel="nofollow" href="/jira/secure/CreateIssue!default.jspa">Report a problem</a> </li> 
     </ul> 
     <ul class="atlassian-footer"> 
      <li class="licensemessage"> Powered by a free Atlassian <a rel="nofollow" href="http://www.atlassian.com/software/jira">JIRA</a> open source license for n/a, Apache Software Foundation. Try JIRA - <a rel="nofollow" href="http://www.atlassian.com/software/jira">bug tracking software</a> for <i>your</i> team. </li> 
     </ul> 
     <div id="footer-logo">
      <a rel="nofollow" href="http://www.atlassian.com/">Atlassian</a>
     </div> 
    </section> 
    <fieldset class="hidden parameters"> 
     <input type="hidden" title="loggedInUser" value=""> 
     <input type="hidden" title="ajaxTimeout" value="The call to the JIRA server did not complete within the timeout period.  We are unsure of the result of this operation."> 
     <input type="hidden" title="JiraVersion" value="7.6.3"> 
     <input type="hidden" title="ajaxUnauthorised" value="You are not authorised to perform this operation. Please log in."> 
     <input type="hidden" title="baseURL" value="https://issues.apache.org/jira"> 
     <input type="hidden" title="ajaxCommsError" value="The JIRA server could not be contacted. This may be a temporary glitch or the server may be down. "> 
     <input type="hidden" title="ajaxServerError" value="The JIRA server was contacted but has returned an error response. We are unsure of the result of this operation."> 
     <input type="hidden" title="ajaxErrorCloseDialog" value="Close this dialog and press refresh in your browser"> 
     <input type="hidden" title="ajaxErrorDialogHeading" value="Communications Breakdown"> 
     <input type="hidden" title="dirtyMessage" value="You have entered new data on this page. If you navigate away from this page without first saving your data, the changes will be lost."> 
     <input type="hidden" title="dirtyDialogMessage" value="You have entered new data in this dialog. If you navigate away from this dialog without first saving your data, the changes will be lost. Click cancel to return to the dialog."> 
     <input type="hidden" title="keyType" value="Type"> 
     <input type="hidden" title="keyThen" value="then"> 
     <input type="hidden" title="dblClickToExpand" value="Double click to expand"> 
     <input type="hidden" title="actions" value="Actions"> 
     <input type="hidden" title="removeItem" value="Remove"> 
     <input type="hidden" title="workflow" value="Workflow"> 
     <input type="hidden" title="labelNew" value="New Label"> 
     <input type="hidden" title="issueActionsHint" value="Begin typing for available operations or press down to see all"> 
     <input type="hidden" title="closelink" value="Close"> 
     <input type="hidden" title="dotOperations" value="Operations"> 
     <input type="hidden" title="dotLoading" value="Loading..."> 
     <input type="hidden" title="frotherSuggestions" value="Suggestions"> 
     <input type="hidden" title="frotherNomatches" value="No Matches"> 
     <input type="hidden" title="multiselectVersionsError" value="{0} is not a valid version."> 
     <input type="hidden" title="multiselectComponentsError" value="{0} is not a valid component."> 
     <input type="hidden" title="multiselectGenericError" value="The value {0} is invalid."> 
    </fieldset> 
   </footer> 
  </div> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:bigpipe-js/jira.webresources:bigpipe-js.js" data-wrm-key="jira.webresources:bigpipe-js" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["activity-panel-pipe-id"]="\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n    \u003cdiv class=\\\"tabwrap tabs2\\\"\u003e\\n\\n        \u003cul id=\\\"issue-tabs\\\" class=\\\"tabs horizontal\\\"\u003e\\n                                \\n            \u003cli  data-id=\\\"all-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\" data-label=\\\"All\\\" data-href=\\\"\\/jira\\/browse\\/SOLR-6760?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"all-tabpanel\\\" href=\\\"\\/jira\\/browse\\/SOLR-6760?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\"\u003e\u003cstrong\u003eAll\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  class=\\\"active\\\" id=\\\"comment-tabpanel\\\"  data-id=\\\"comment-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel\\\" data-label=\\\"Comments\\\" data-href=\\\"\\/jira\\/browse\\/SOLR-6760?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel\\\"\u003e\\n                            \u003cstrong tabindex=\\\"0\\\"\u003eComments\u003c\\/strong\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"worklog-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\" data-label=\\\"Work Log\\\" data-href=\\\"\\/jira\\/browse\\/SOLR-6760?page=com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"worklog-tabpanel\\\" href=\\\"\\/jira\\/browse\\/SOLR-6760?page=com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\"\u003e\u003cstrong\u003eWork Log\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"changehistory-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\" data-label=\\\"History\\\" data-href=\\\"\\/jira\\/browse\\/SOLR-6760?page=com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"changehistory-tabpanel\\\" href=\\\"\\/jira\\/browse\\/SOLR-6760?page=com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\"\u003e\u003cstrong\u003eHistory\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"activity-stream-issue-tab\\\" data-key=\\\"com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\" data-label=\\\"Activity\\\" data-href=\\\"\\/jira\\/browse\\/SOLR-6760?page=com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"activity-stream-issue-tab\\\" href=\\\"\\/jira\\/browse\\/SOLR-6760?page=com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\"\u003e\u003cstrong\u003eActivity\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"transitions-summary-tabpanel\\\" data-key=\\\"com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\" data-label=\\\"Transitions\\\" data-href=\\\"\\/jira\\/browse\\/SOLR-6760?page=com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"transitions-summary-tabpanel\\\" href=\\\"\\/jira\\/browse\\/SOLR-6760?page=com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\"\u003e\u003cstrong\u003eTransitions\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                \u003c\\/ul\u003e\\n\\n                    \u003cdiv class=\\\"sortwrap\\\"\u003e\\n                                    \u003ca class=\\\"issue-activity-sort-link ajax-activity-content\\\" rel=\\\"nofollow\\\" data-tab-sort data-order=\\\"desc\\\" href=\\\"\\/jira\\/browse\\/SOLR-6760?actionOrder=desc\\\" title=\\\"Ascending order - Click to sort in descending order\\\"\u003e\\n                        \u003cspan class=\\\"aui-icon aui-icon-small aui-iconfont-up\\\"\u003eAscending order - Click to sort in descending order\u003c\\/span\u003e\\n                    \u003c\\/a\u003e\\n                            \u003c\\/div\u003e\\n            \u003c\\/div\u003e\\n    \u003cdiv class=\\\"issuePanelWrapper\\\"\u003e\\n        \u003cdiv class=\\\"issuePanelProgress\\\"\u003e\u003c\\/div\u003e\\n        \u003cdiv class=\\\"issuePanelContainer\\\" id=\\\"issue_actions_container\\\"\u003e\\n                                    \\n\\n\\n\u003cdiv id=\\\"comment-14237773\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6760?focusedCommentId=14237773&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14237773\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"shalinmangar\\\" id=\\\"commentauthor_14237773_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=shalinmangar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"shalinmangar\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shalin Shekhar Mangar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14237773_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Dec\\/14 11:14\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-12-08T11:14:10+0000\'\u003e08\\/Dec\\/14 11:14\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003e+1\u003c\\/p\u003e\\n\\n\u003cp\u003eThe current implementation is quite inefficient. I find that the overseer thread is idle\\/waiting for the DQ approx 30% of the time during my tests in \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-6554\\\" title=\\\"Speed up overseer operations for collections with stateFormat &gt; 1\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-6554\\\"\u003e\u003cdel\u003eSOLR-6554\u003c\\/del\u003e\u003c\\/a\u003e.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"shalinmangar\\\" id=\\\"commentauthor_14237773_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=shalinmangar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"shalinmangar\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shalin Shekhar Mangar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14237773_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Dec\\/14 11:14\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-12-08T11:14:10+0000\'\u003e08\\/Dec\\/14 11:14\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    +1 \\n\\n The current implementation is quite inefficient. I find that the overseer thread is idle\\/waiting for the DQ approx 30% of the time during my tests in   SOLR-6554  .              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14680890\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6760?focusedCommentId=14680890&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14680890\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dragonsinth\\\" id=\\\"commentauthor_14680890_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dragonsinth\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dragonsinth\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Scott Blum\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14680890_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'10\\/Aug\\/15 22:39\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-08-10T22:39:47+0000\'\u003e10\\/Aug\\/15 22:39\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eFirst pass.  The DQ tests themselves pass, but I haven\'t yet run the full test suite.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dragonsinth\\\" id=\\\"commentauthor_14680890_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dragonsinth\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dragonsinth\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Scott Blum\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14680890_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'10\\/Aug\\/15 22:39\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-08-10T22:39:47+0000\'\u003e10\\/Aug\\/15 22:39\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    First pass.  The DQ tests themselves pass, but I haven\'t yet run the full test suite.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14680909\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6760?focusedCommentId=14680909&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14680909\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dragonsinth\\\" id=\\\"commentauthor_14680909_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dragonsinth\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dragonsinth\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Scott Blum\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14680909_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'10\\/Aug\\/15 22:55\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-08-10T22:55:26+0000\'\u003e10\\/Aug\\/15 22:55\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eOne big question I have is how to handle session\\/loss connection issues.  I worry that a hole in the patch I have is what happens if we lose ZK connection and regain it?  I have a feeling we\'d end up in deadlock.  I think I need to add a general ConnectionStateListener so that I can mark having no watcher if we lose connection, and when connection comes back, tickle the notEmpty condition to cause all blocked threads to loop and ultimately refetch ZK state.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dragonsinth\\\" id=\\\"commentauthor_14680909_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dragonsinth\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dragonsinth\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Scott Blum\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14680909_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'10\\/Aug\\/15 22:55\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-08-10T22:55:26+0000\'\u003e10\\/Aug\\/15 22:55\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    One big question I have is how to handle session\\/loss connection issues.  I worry that a hole in the patch I have is what happens if we lose ZK connection and regain it?  I have a feeling we\'d end up in deadlock.  I think I need to add a general ConnectionStateListener so that I can mark having no watcher if we lose connection, and when connection comes back, tickle the notEmpty condition to cause all blocked threads to loop and ultimately refetch ZK state.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14680910\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6760?focusedCommentId=14680910&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14680910\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dragonsinth\\\" id=\\\"commentauthor_14680910_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dragonsinth\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dragonsinth\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Scott Blum\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14680910_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'10\\/Aug\\/15 22:56\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-08-10T22:56:35+0000\'\u003e10\\/Aug\\/15 22:56\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eOr I could tickle notEmpty when we lose session, causing the blocked threads to loop and eventually throw a SessionExpiredException\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dragonsinth\\\" id=\\\"commentauthor_14680910_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dragonsinth\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dragonsinth\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Scott Blum\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14680910_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'10\\/Aug\\/15 22:56\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-08-10T22:56:35+0000\'\u003e10\\/Aug\\/15 22:56\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Or I could tickle notEmpty when we lose session, causing the blocked threads to loop and eventually throw a SessionExpiredException              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14681224\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6760?focusedCommentId=14681224&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14681224\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dragonsinth\\\" id=\\\"commentauthor_14681224_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dragonsinth\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dragonsinth\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Scott Blum\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14681224_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'11\\/Aug\\/15 04:32\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-08-11T04:32:15+0000\'\u003e11\\/Aug\\/15 04:32\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eMinimal tests passing, haven\'t run full suite.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dragonsinth\\\" id=\\\"commentauthor_14681224_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dragonsinth\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dragonsinth\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Scott Blum\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14681224_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'11\\/Aug\\/15 04:32\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-08-11T04:32:15+0000\'\u003e11\\/Aug\\/15 04:32\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Minimal tests passing, haven\'t run full suite.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14681261\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6760?focusedCommentId=14681261&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14681261\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dragonsinth\\\" id=\\\"commentauthor_14681261_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dragonsinth\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dragonsinth\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Scott Blum\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14681261_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'11\\/Aug\\/15 05:14\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-08-11T05:14:46+0000\'\u003e11\\/Aug\\/15 05:14\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eAdded a patch to show the deadlock state I was in.  Not sure why...\u003c\\/p\u003e\\n\\n\u003cp\u003eExample of a deadlock test is TestMiniSolrCloudCluster.testCollectionCreateSearchDelete\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dragonsinth\\\" id=\\\"commentauthor_14681261_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dragonsinth\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dragonsinth\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Scott Blum\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14681261_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'11\\/Aug\\/15 05:14\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-08-11T05:14:46+0000\'\u003e11\\/Aug\\/15 05:14\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Added a patch to show the deadlock state I was in.  Not sure why... \\n\\n Example of a deadlock test is TestMiniSolrCloudCluster.testCollectionCreateSearchDelete              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14682285\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6760?focusedCommentId=14682285&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14682285\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dragonsinth\\\" id=\\\"commentauthor_14682285_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dragonsinth\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dragonsinth\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Scott Blum\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14682285_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'11\\/Aug\\/15 18:50\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-08-11T18:50:27+0000\'\u003e11\\/Aug\\/15 18:50\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eRunning ant test now, I actually expect this may pass..\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dragonsinth\\\" id=\\\"commentauthor_14682285_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dragonsinth\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dragonsinth\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Scott Blum\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14682285_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'11\\/Aug\\/15 18:50\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-08-11T18:50:27+0000\'\u003e11\\/Aug\\/15 18:50\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Running ant test now, I actually expect this may pass..              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14682298\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6760?focusedCommentId=14682298&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14682298\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dragonsinth\\\" id=\\\"commentauthor_14682298_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dragonsinth\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dragonsinth\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Scott Blum\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14682298_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'11\\/Aug\\/15 18:55\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-08-11T18:55:40+0000\'\u003e11\\/Aug\\/15 18:55\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eNOTE: committer should start with an svn copy DistributedQueue -&gt; DistributedQueueExt to preserve history.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dragonsinth\\\" id=\\\"commentauthor_14682298_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dragonsinth\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dragonsinth\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Scott Blum\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14682298_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'11\\/Aug\\/15 18:55\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-08-11T18:55:40+0000\'\u003e11\\/Aug\\/15 18:55\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    NOTE: committer should start with an svn copy DistributedQueue -&gt; DistributedQueueExt to preserve history.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14692315\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6760?focusedCommentId=14692315&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14692315\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dragonsinth\\\" id=\\\"commentauthor_14692315_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dragonsinth\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dragonsinth\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Scott Blum\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14692315_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'11\\/Aug\\/15 21:48\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-08-11T21:48:35+0000\'\u003e11\\/Aug\\/15 21:48\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eNew patch, with better testing.  Tests all passing, I think.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dragonsinth\\\" id=\\\"commentauthor_14692315_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dragonsinth\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dragonsinth\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Scott Blum\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14692315_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'11\\/Aug\\/15 21:48\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-08-11T21:48:35+0000\'\u003e11\\/Aug\\/15 21:48\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    New patch, with better testing.  Tests all passing, I think.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14692319\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6760?focusedCommentId=14692319&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14692319\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dragonsinth\\\" id=\\\"commentauthor_14692319_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dragonsinth\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dragonsinth\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Scott Blum\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14692319_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'11\\/Aug\\/15 21:50\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-08-11T21:50:35+0000\'\u003e11\\/Aug\\/15 21:50\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=shalinmangar\\\" class=\\\"user-hover\\\" rel=\\\"shalinmangar\\\"\u003eShalin Shekhar Mangar\u003c\\/a\u003e please sanity check the block of code in testDistributedQueueBlocking() that forces a ZK disconnect \\/ reconnect... I looked around but couldn\'t really find canonical patterns.  I wanted to ensure that we don\'t end up in a state where the session is disconnected, but we think we still have a watcher, so we\'re stuck forever.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dragonsinth\\\" id=\\\"commentauthor_14692319_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dragonsinth\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dragonsinth\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Scott Blum\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14692319_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'11\\/Aug\\/15 21:50\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-08-11T21:50:35+0000\'\u003e11\\/Aug\\/15 21:50\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     Shalin Shekhar Mangar  please sanity check the block of code in testDistributedQueueBlocking() that forces a ZK disconnect \\/ reconnect... I looked around but couldn\'t really find canonical patterns.  I wanted to ensure that we don\'t end up in a state where the session is disconnected, but we think we still have a watcher, so we\'re stuck forever.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14692748\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6760?focusedCommentId=14692748&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14692748\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dragonsinth\\\" id=\\\"commentauthor_14692748_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dragonsinth\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dragonsinth\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Scott Blum\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14692748_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Aug\\/15 01:36\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-08-12T01:36:24+0000\'\u003e12\\/Aug\\/15 01:36\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI did get ant test to pass, but the new test is flaky.  Any advice on making it less flaky?  In particular, I want to force a ZK session drop and reconnect.  This code sometimes fails:\u003c\\/p\u003e\\n\\n\u003cblockquote\u003e\\n\u003cp\u003e    \\/\\/ Force session expiry.\u003cbr\\/\u003e\\n    long sessionId = zkClient.getSolrZooKeeper().getSessionId();\u003cbr\\/\u003e\\n    zkServer.expire(sessionId);\u003cbr\\/\u003e\\n    zkClient.getConnectionManager().waitForDisconnected(10000);\u003cbr\\/\u003e\\n    zkClient.getConnectionManager().waitForConnected(10000);\u003cbr\\/\u003e\\n    assertTrue(zkClient.isConnected());\u003cbr\\/\u003e\\n    assertFalse(sessionId == zkClient.getSolrZooKeeper().getSessionId());\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dragonsinth\\\" id=\\\"commentauthor_14692748_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dragonsinth\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dragonsinth\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Scott Blum\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14692748_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Aug\\/15 01:36\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-08-12T01:36:24+0000\'\u003e12\\/Aug\\/15 01:36\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I did get ant test to pass, but the new test is flaky.  Any advice on making it less flaky?  In particular, I want to force a ZK session drop and reconnect.  This code sometimes fails: \\n\\n \\n     \\/\\/ Force session expiry. \\n    long sessionId = zkClient.getSolrZooKeeper().getSessionId(); \\n    zkServer.expire(sessionId); \\n    zkClient.getConnectionManager().waitForDisconnected(10000); \\n    zkClient.getConnectionManager().waitForConnected(10000); \\n    assertTrue(zkClient.isConnected()); \\n    assertFalse(sessionId == zkClient.getSolrZooKeeper().getSessionId());  \\n\\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14693464\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6760?focusedCommentId=14693464&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14693464\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"noble.paul\\\" id=\\\"commentauthor_14693464_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=noble.paul\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"noble.paul\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Noble Paul\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14693464_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Aug\\/15 13:18\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-08-12T13:18:35+0000\'\u003e12\\/Aug\\/15 13:18\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=dragonsinth\\\" class=\\\"user-hover\\\" rel=\\\"dragonsinth\\\"\u003eScott Blum\u003c\\/a\u003e Why did you choose to have  a \u003ctt\u003eDistributedQueue\u003c\\/tt\u003e and \u003ctt\u003eDistributedQueueExt\u003c\\/tt\u003e, why not modify the original class?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"noble.paul\\\" id=\\\"commentauthor_14693464_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=noble.paul\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"noble.paul\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Noble Paul\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14693464_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Aug\\/15 13:18\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-08-12T13:18:35+0000\'\u003e12\\/Aug\\/15 13:18\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     Scott Blum  Why did you choose to have  a  DistributedQueue  and  DistributedQueueExt , why not modify the original class?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14693804\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6760?focusedCommentId=14693804&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14693804\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dragonsinth\\\" id=\\\"commentauthor_14693804_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dragonsinth\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dragonsinth\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Scott Blum\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14693804_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Aug\\/15 16:46\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-08-12T16:46:38+0000\'\u003e12\\/Aug\\/15 16:46\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=noble.paul\\\" class=\\\"user-hover\\\" rel=\\\"noble.paul\\\"\u003eNoble Paul\u003c\\/a\u003e I feel like the API and implementation of DistributedQueue represents a pretty clean, cohesive, and general API.  This is evidenced by the fact that most of the existing places we were using DQ \\\"just work\\\".\u003c\\/p\u003e\\n\\n\u003cp\u003eDistributedQueueExt represents what I feel like is kind of crap that was glommed on to support the collection task queue, specifically.  You have methods like containsTaskWithRequestId() that are highly specific to the collection task queue, the strange QueueEvent and response-prefix stuff that I don\'t even understand what it\'s supposed to do, getTailId() to peek at the end of the queue with unclear semantics (is it good enough to answer with the end of the in-memory queue, or does the caller expect a synchronous read-through into ZK?), and a remove method that doesn\'t operate on the head of the queue.  In addition to the unclear semantics on some of these, the implementations of some of them necessarily break the clean model DQ uses and are in some cases FAR less efficient &#8211; containsTaskWithRequestId for example has to not only fetch the entire list from ZK, it then has to actually read all the data nodes.\u003c\\/p\u003e\\n\\n\u003cp\u003eSuffice it to say I don\'t think anything in there is good enough to promote into the general purpose DQ.  Maybe the core issue is that the collection work queue is fundamentally looking for something more, like a distributed task queue.  I think someone should go back and analyze the true needs there and figure out if there\'s something better we can do.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dragonsinth\\\" id=\\\"commentauthor_14693804_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dragonsinth\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dragonsinth\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Scott Blum\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14693804_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Aug\\/15 16:46\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-08-12T16:46:38+0000\'\u003e12\\/Aug\\/15 16:46\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     Noble Paul  I feel like the API and implementation of DistributedQueue represents a pretty clean, cohesive, and general API.  This is evidenced by the fact that most of the existing places we were using DQ \\\"just work\\\". \\n\\n DistributedQueueExt represents what I feel like is kind of crap that was glommed on to support the collection task queue, specifically.  You have methods like containsTaskWithRequestId() that are highly specific to the collection task queue, the strange QueueEvent and response-prefix stuff that I don\'t even understand what it\'s supposed to do, getTailId() to peek at the end of the queue with unclear semantics (is it good enough to answer with the end of the in-memory queue, or does the caller expect a synchronous read-through into ZK?), and a remove method that doesn\'t operate on the head of the queue.  In addition to the unclear semantics on some of these, the implementations of some of them necessarily break the clean model DQ uses and are in some cases FAR less efficient &#8211; containsTaskWithRequestId for example has to not only fetch the entire list from ZK, it then has to actually read all the data nodes. \\n\\n Suffice it to say I don\'t think anything in there is good enough to promote into the general purpose DQ.  Maybe the core issue is that the collection work queue is fundamentally looking for something more, like a distributed task queue.  I think someone should go back and analyze the true needs there and figure out if there\'s something better we can do.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14693845\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6760?focusedCommentId=14693845&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14693845\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"markrmiller@gmail.com\\\" id=\\\"commentauthor_14693845_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=markrmiller%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"markrmiller@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mark Miller\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14693845_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Aug\\/15 17:03\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-08-12T17:03:41+0000\'\u003e12\\/Aug\\/15 17:03\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eGood reasoning. I\'d suggest we come up with a more descriptive modifier than ext though.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"markrmiller@gmail.com\\\" id=\\\"commentauthor_14693845_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=markrmiller%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"markrmiller@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mark Miller\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14693845_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Aug\\/15 17:03\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-08-12T17:03:41+0000\'\u003e12\\/Aug\\/15 17:03\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Good reasoning. I\'d suggest we come up with a more descriptive modifier than ext though.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14693866\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6760?focusedCommentId=14693866&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14693866\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dragonsinth\\\" id=\\\"commentauthor_14693866_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dragonsinth\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dragonsinth\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Scott Blum\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14693866_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Aug\\/15 17:14\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-08-12T17:14:18+0000\'\u003e12\\/Aug\\/15 17:14\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003e+1 I was actually hoping someone would suggest a better name!  Any suggestions?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dragonsinth\\\" id=\\\"commentauthor_14693866_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dragonsinth\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dragonsinth\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Scott Blum\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14693866_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Aug\\/15 17:14\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-08-12T17:14:18+0000\'\u003e12\\/Aug\\/15 17:14\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    +1 I was actually hoping someone would suggest a better name!  Any suggestions?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14694350\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6760?focusedCommentId=14694350&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14694350\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dragonsinth\\\" id=\\\"commentauthor_14694350_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dragonsinth\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dragonsinth\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Scott Blum\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14694350_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Aug\\/15 22:48\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-08-12T22:48:20+0000\'\u003e12\\/Aug\\/15 22:48\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eTest is no longer flaky\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dragonsinth\\\" id=\\\"commentauthor_14694350_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dragonsinth\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dragonsinth\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Scott Blum\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14694350_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Aug\\/15 22:48\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-08-12T22:48:20+0000\'\u003e12\\/Aug\\/15 22:48\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Test is no longer flaky              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14702177\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6760?focusedCommentId=14702177&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14702177\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dragonsinth\\\" id=\\\"commentauthor_14702177_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dragonsinth\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dragonsinth\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Scott Blum\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14702177_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'18\\/Aug\\/15 23:44\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-08-18T23:44:06+0000\'\u003e18\\/Aug\\/15 23:44\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=shalinmangar\\\" class=\\\"user-hover\\\" rel=\\\"shalinmangar\\\"\u003eShalin Shekhar Mangar\u003c\\/a\u003e ping for review\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dragonsinth\\\" id=\\\"commentauthor_14702177_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dragonsinth\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dragonsinth\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Scott Blum\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14702177_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'18\\/Aug\\/15 23:44\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-08-18T23:44:06+0000\'\u003e18\\/Aug\\/15 23:44\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     Shalin Shekhar Mangar  ping for review              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14703053\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6760?focusedCommentId=14703053&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14703053\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"shalinmangar\\\" id=\\\"commentauthor_14703053_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=shalinmangar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"shalinmangar\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shalin Shekhar Mangar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14703053_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'19\\/Aug\\/15 13:57\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-08-19T13:57:53+0000\'\u003e19\\/Aug\\/15 13:57\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI saw test failures twice in a row but I can\'t reproduce them on beasting.\u003c\\/p\u003e\\n\\n\u003cp\u003eLooking at the test itself I can\'t figure out why it would fail like this:\u003c\\/p\u003e\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003ejava.util.NoSuchElementException\\n        at __randomizedtesting.SeedInfo.seed([FD3C9C458FB6F5FD:9E2CC8B3009169AB]:0)\\n        at org.apache.solr.cloud.DistributedQueue.remove(DistributedQueue.java:203)\\n        at org.apache.solr.cloud.DistributedQueueTest.testDistributedQueue(DistributedQueueTest.java:62)\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003ePerhaps related to the tests being executed in a wrong order? Maybe each test method should get its own ZK server or at least a different znode path for the queue?\u003c\\/p\u003e\\n\\n\u003cp\u003eIn case it helps, the seeds were:\u003c\\/p\u003e\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003eant test  -Dtestcase=DistributedQueueExtTest -Dtests.method=testDistributedQueue -Dtests.seed=F156B17A5CB6EA4 -Dtests.slow=\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e -Dtests.locale=ca -Dtests.timezone=Europe\\/Vilnius -Dtests.asserts=\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e -Dtests.file.encoding=UTF-8\\n\\nant test  -Dtestcase=DistributedQueueTest -Dtests.method=testDistributedQueue -Dtests.seed=FD3C9C458FB6F5FD -Dtests.slow=\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e -Dtests.locale=en_AU -Dtests.timezone=Australia\\/Lindeman -Dtests.asserts=\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e -Dtests.file.encoding=UTF-8\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"shalinmangar\\\" id=\\\"commentauthor_14703053_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=shalinmangar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"shalinmangar\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shalin Shekhar Mangar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14703053_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'19\\/Aug\\/15 13:57\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-08-19T13:57:53+0000\'\u003e19\\/Aug\\/15 13:57\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I saw test failures twice in a row but I can\'t reproduce them on beasting. \\n\\n Looking at the test itself I can\'t figure out why it would fail like this: \\n  \\n java.util.NoSuchElementException\\n        at __randomizedtesting.SeedInfo.seed([FD3C9C458FB6F5FD:9E2CC8B3009169AB]:0)\\n        at org.apache.solr.cloud.DistributedQueue.remove(DistributedQueue.java:203)\\n        at org.apache.solr.cloud.DistributedQueueTest.testDistributedQueue(DistributedQueueTest.java:62)\\n \\n  \\n\\n Perhaps related to the tests being executed in a wrong order? Maybe each test method should get its own ZK server or at least a different znode path for the queue? \\n\\n In case it helps, the seeds were: \\n  \\n ant test  -Dtestcase=DistributedQueueExtTest -Dtests.method=testDistributedQueue -Dtests.seed=F156B17A5CB6EA4 -Dtests.slow= true  -Dtests.locale=ca -Dtests.timezone=Europe\\/Vilnius -Dtests.asserts= true  -Dtests.file.encoding=UTF-8\\n\\nant test  -Dtestcase=DistributedQueueTest -Dtests.method=testDistributedQueue -Dtests.seed=FD3C9C458FB6F5FD -Dtests.slow= true  -Dtests.locale=en_AU -Dtests.timezone=Australia\\/Lindeman -Dtests.asserts= true  -Dtests.file.encoding=UTF-8\\n \\n               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14703273\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6760?focusedCommentId=14703273&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14703273\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dragonsinth\\\" id=\\\"commentauthor_14703273_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dragonsinth\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dragonsinth\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Scott Blum\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14703273_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'19\\/Aug\\/15 16:22\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-08-19T16:22:55+0000\'\u003e19\\/Aug\\/15 16:22\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eRewrite DQ test code to fix race, document offer() semantics.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dragonsinth\\\" id=\\\"commentauthor_14703273_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dragonsinth\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dragonsinth\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Scott Blum\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14703273_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'19\\/Aug\\/15 16:22\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-08-19T16:22:55+0000\'\u003e19\\/Aug\\/15 16:22\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Rewrite DQ test code to fix race, document offer() semantics.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14703277\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6760?focusedCommentId=14703277&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14703277\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dragonsinth\\\" id=\\\"commentauthor_14703277_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dragonsinth\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dragonsinth\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Scott Blum\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14703277_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'19\\/Aug\\/15 16:23\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-08-19T16:23:58+0000\'\u003e19\\/Aug\\/15 16:23\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Scott Blum - 19\\/Aug\\/15 16:25\\\"\u003eedited\u003c\\/span\u003e \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eFixed.  To recap IRC discussion, the old test code assumed that calling offer() would result in the offered element immediately being available from poll().  This is contrary to the design decision in the new DQ.\u003c\\/p\u003e\\n\\n\u003cp\u003e1) Fixed the test code assumptions and generally cleaned up the test code to be more clear.\u003cbr\\/\u003e\\n2) Documented offer() semantics.\u003c\\/p\u003e\\n\\n\u003cp\u003eOn the decision to decouple offer() and poll():\u003c\\/p\u003e\\n\\n\u003cp\u003eThe rationale for the design decision is that being the offering VM is not \\\"special\\\".  In the general case different VMs often offer while a single VM is doing the polling, the two are decoupled in reality.  So there\'s no real need to guarantee that offer() followed by poll() in a single VM always returns the element immediately\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dragonsinth\\\" id=\\\"commentauthor_14703277_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dragonsinth\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dragonsinth\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Scott Blum\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14703277_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'19\\/Aug\\/15 16:23\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-08-19T16:23:58+0000\'\u003e19\\/Aug\\/15 16:23\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Scott Blum - 19\\/Aug\\/15 16:25\\\"\u003eedited\u003c\\/span\u003e                   Fixed.  To recap IRC discussion, the old test code assumed that calling offer() would result in the offered element immediately being available from poll().  This is contrary to the design decision in the new DQ. \\n\\n 1) Fixed the test code assumptions and generally cleaned up the test code to be more clear. \\n2) Documented offer() semantics. \\n\\n On the decision to decouple offer() and poll(): \\n\\n The rationale for the design decision is that being the offering VM is not \\\"special\\\".  In the general case different VMs often offer while a single VM is doing the polling, the two are decoupled in reality.  So there\'s no real need to guarantee that offer() followed by poll() in a single VM always returns the element immediately              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14703504\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6760?focusedCommentId=14703504&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14703504\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dragonsinth\\\" id=\\\"commentauthor_14703504_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dragonsinth\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dragonsinth\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Scott Blum\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14703504_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'19\\/Aug\\/15 18:16\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-08-19T18:16:00+0000\'\u003e19\\/Aug\\/15 18:16\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eFinal patch? DistributedQueueExt -&gt; OverseerCollectionQueue\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dragonsinth\\\" id=\\\"commentauthor_14703504_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dragonsinth\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dragonsinth\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Scott Blum\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14703504_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'19\\/Aug\\/15 18:16\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-08-19T18:16:00+0000\'\u003e19\\/Aug\\/15 18:16\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Final patch? DistributedQueueExt -&gt; OverseerCollectionQueue              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14703549\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6760?focusedCommentId=14703549&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14703549\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"shalinmangar\\\" id=\\\"commentauthor_14703549_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=shalinmangar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"shalinmangar\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shalin Shekhar Mangar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14703549_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'19\\/Aug\\/15 18:47\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-08-19T18:47:03+0000\'\u003e19\\/Aug\\/15 18:47\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThanks! Looks good to me. I\'ll commit this tomorrow morning my time.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"shalinmangar\\\" id=\\\"commentauthor_14703549_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=shalinmangar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"shalinmangar\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shalin Shekhar Mangar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14703549_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'19\\/Aug\\/15 18:47\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-08-19T18:47:03+0000\'\u003e19\\/Aug\\/15 18:47\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Thanks! Looks good to me. I\'ll commit this tomorrow morning my time.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14704299\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6760?focusedCommentId=14704299&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14704299\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"shalinmangar\\\" id=\\\"commentauthor_14704299_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=shalinmangar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"shalinmangar\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shalin Shekhar Mangar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14704299_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'20\\/Aug\\/15 05:10\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-08-20T05:10:12+0000\'\u003e20\\/Aug\\/15 05:10\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThis gives us a great speedup as well. The rate of processing state operations went up from 4550 requests\\/min to 26083 requests\\/min i.e. a boost of 473%!\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003estateFormat = 2, 10 collections, With refactoring (trunk):\\n=============================================================\\n\\n  2&gt; 56663 INFO  (TEST-OverseerTest.testPerformance-seed#[4A854829B14EB462]) [    ] o.a.s.SolrTestCaseJ4 Overseer loop finished processing: \\n  2&gt; 56664 INFO  (TEST-OverseerTest.testPerformance-seed#[4A854829B14EB462]) [    ] o.a.s.SolrTestCaseJ4 \\t totalTime: 46405.595921\\n  2&gt; 56664 INFO  (TEST-OverseerTest.testPerformance-seed#[4A854829B14EB462]) [    ] o.a.s.SolrTestCaseJ4 \\t avgRequestsPerMinute: 0.021548541967677345\\n  2&gt; 56664 INFO  (TEST-OverseerTest.testPerformance-seed#[4A854829B14EB462]) [    ] o.a.s.SolrTestCaseJ4 \\t 5minRateRequestsPerMinute: 0.0\\n  2&gt; 56664 INFO  (TEST-OverseerTest.testPerformance-seed#[4A854829B14EB462]) [    ] o.a.s.SolrTestCaseJ4 \\t 15minRateRequestsPerMinute: 0.0\\n  2&gt; 56664 INFO  (TEST-OverseerTest.testPerformance-seed#[4A854829B14EB462]) [    ] o.a.s.SolrTestCaseJ4 \\t avgTimePerRequest: 46405.595921\\n  2&gt; 56664 INFO  (TEST-OverseerTest.testPerformance-seed#[4A854829B14EB462]) [    ] o.a.s.SolrTestCaseJ4 \\t medianRequestTime: 46405.595921\\n  2&gt; 56665 INFO  (TEST-OverseerTest.testPerformance-seed#[4A854829B14EB462]) [    ] o.a.s.SolrTestCaseJ4 \\t 75thPctlRequestTime: 46405.595921\\n  2&gt; 56665 INFO  (TEST-OverseerTest.testPerformance-seed#[4A854829B14EB462]) [    ] o.a.s.SolrTestCaseJ4 \\t 95thPctlRequestTime: 46405.595921\\n  2&gt; 56665 INFO  (TEST-OverseerTest.testPerformance-seed#[4A854829B14EB462]) [    ] o.a.s.SolrTestCaseJ4 \\t 99thPctlRequestTime: 46405.595921\\n  2&gt; 56665 INFO  (TEST-OverseerTest.testPerformance-seed#[4A854829B14EB462]) [    ] o.a.s.SolrTestCaseJ4 \\t 999thPctlRequestTime: 46405.595921\\n  2&gt; 56665 INFO  (TEST-OverseerTest.testPerformance-seed#[4A854829B14EB462]) [    ] o.a.s.SolrTestCaseJ4 op: am_i_leader, success: 3, failure: 0\\n  2&gt; 56665 INFO  (TEST-OverseerTest.testPerformance-seed#[4A854829B14EB462]) [    ] o.a.s.SolrTestCaseJ4 \\t totalTime: 7.714871\\n  2&gt; 56665 INFO  (TEST-OverseerTest.testPerformance-seed#[4A854829B14EB462]) [    ] o.a.s.SolrTestCaseJ4 \\t avgRequestsPerMinute: 3.9009249281419294\\n  2&gt; 56665 INFO  (TEST-OverseerTest.testPerformance-seed#[4A854829B14EB462]) [    ] o.a.s.SolrTestCaseJ4 \\t 5minRateRequestsPerMinute: 21.00415965703074\\n  2&gt; 56665 INFO  (TEST-OverseerTest.testPerformance-seed#[4A854829B14EB462]) [    ] o.a.s.SolrTestCaseJ4 \\t 15minRateRequestsPerMinute: 22.9566897384727\\n  2&gt; 56666 INFO  (TEST-OverseerTest.testPerformance-seed#[4A854829B14EB462]) [    ] o.a.s.SolrTestCaseJ4 \\t avgTimePerRequest: 2.5716236666666665\\n  2&gt; 56666 INFO  (TEST-OverseerTest.testPerformance-seed#[4A854829B14EB462]) [    ] o.a.s.SolrTestCaseJ4 \\t medianRequestTime: 0.390077\\n  2&gt; 56666 INFO  (TEST-OverseerTest.testPerformance-seed#[4A854829B14EB462]) [    ] o.a.s.SolrTestCaseJ4 \\t 75thPctlRequestTime: 7.016754\\n  2&gt; 56666 INFO  (TEST-OverseerTest.testPerformance-seed#[4A854829B14EB462]) [    ] o.a.s.SolrTestCaseJ4 \\t 95thPctlRequestTime: 7.016754\\n  2&gt; 56666 INFO  (TEST-OverseerTest.testPerformance-seed#[4A854829B14EB462]) [    ] o.a.s.SolrTestCaseJ4 \\t 99thPctlRequestTime: 7.016754\\n  2&gt; 56667 INFO  (TEST-OverseerTest.testPerformance-seed#[4A854829B14EB462]) [    ] o.a.s.SolrTestCaseJ4 \\t 999thPctlRequestTime: 7.016754\\n  2&gt; 56667 INFO  (TEST-OverseerTest.testPerformance-seed#[4A854829B14EB462]) [    ] o.a.s.SolrTestCaseJ4 op: update_state, success: 20011, failure: 0\\n  2&gt; 56669 INFO  (TEST-OverseerTest.testPerformance-seed#[4A854829B14EB462]) [    ] o.a.s.SolrTestCaseJ4 \\t totalTime: 8677.820981\\n  2&gt; 56669 INFO  (TEST-OverseerTest.testPerformance-seed#[4A854829B14EB462]) [    ] o.a.s.SolrTestCaseJ4 \\t avgRequestsPerMinute: 26054.58092669684\\n  2&gt; 56669 INFO  (TEST-OverseerTest.testPerformance-seed#[4A854829B14EB462]) [    ] o.a.s.SolrTestCaseJ4 \\t 5minRateRequestsPerMinute: 28115.736803934476\\n  2&gt; 56669 INFO  (TEST-OverseerTest.testPerformance-seed#[4A854829B14EB462]) [    ] o.a.s.SolrTestCaseJ4 \\t 15minRateRequestsPerMinute: 28300.17714580809\\n  2&gt; 56669 INFO  (TEST-OverseerTest.testPerformance-seed#[4A854829B14EB462]) [    ] o.a.s.SolrTestCaseJ4 \\t avgTimePerRequest: 0.4336525401529159\\n  2&gt; 56669 INFO  (TEST-OverseerTest.testPerformance-seed#[4A854829B14EB462]) [    ] o.a.s.SolrTestCaseJ4 \\t medianRequestTime: 0.4546175\\n  2&gt; 56669 INFO  (TEST-OverseerTest.testPerformance-seed#[4A854829B14EB462]) [    ] o.a.s.SolrTestCaseJ4 \\t 75thPctlRequestTime: 0.5425845\\n  2&gt; 56669 INFO  (TEST-OverseerTest.testPerformance-seed#[4A854829B14EB462]) [    ] o.a.s.SolrTestCaseJ4 \\t 95thPctlRequestTime: 0.68700805\\n  2&gt; 56670 INFO  (TEST-OverseerTest.testPerformance-seed#[4A854829B14EB462]) [    ] o.a.s.SolrTestCaseJ4 \\t 99thPctlRequestTime: 0.9623780800000007\\n  2&gt; 56670 INFO  (TEST-OverseerTest.testPerformance-seed#[4A854829B14EB462]) [    ] o.a.s.SolrTestCaseJ4 \\t 999thPctlRequestTime: 3.872901139000002\\n  2&gt; 56670 INFO  (TEST-OverseerTest.testPerformance-seed#[4A854829B14EB462]) [    ] o.a.s.SolrTestCaseJ4 op: state, success: 20001, failure: 0\\n  2&gt; 56671 INFO  (TEST-OverseerTest.testPerformance-seed#[4A854829B14EB462]) [    ] o.a.s.SolrTestCaseJ4 \\t totalTime: 7268.609771\\n  2&gt; 56671 INFO  (TEST-OverseerTest.testPerformance-seed#[4A854829B14EB462]) [    ] o.a.s.SolrTestCaseJ4 \\t avgRequestsPerMinute: 26083.69778407265\\n  2&gt; 56671 INFO  (TEST-OverseerTest.testPerformance-seed#[4A854829B14EB462]) [    ] o.a.s.SolrTestCaseJ4 \\t 5minRateRequestsPerMinute: 28469.456291781717\\n  2&gt; 56671 INFO  (TEST-OverseerTest.testPerformance-seed#[4A854829B14EB462]) [    ] o.a.s.SolrTestCaseJ4 \\t 15minRateRequestsPerMinute: 28689.269577883602\\n  2&gt; 56671 INFO  (TEST-OverseerTest.testPerformance-seed#[4A854829B14EB462]) [    ] o.a.s.SolrTestCaseJ4 \\t avgTimePerRequest: 0.36341231793410333\\n  2&gt; 56671 INFO  (TEST-OverseerTest.testPerformance-seed#[4A854829B14EB462]) [    ] o.a.s.SolrTestCaseJ4 \\t medianRequestTime: 0.37234449999999997\\n  2&gt; 56671 INFO  (TEST-OverseerTest.testPerformance-seed#[4A854829B14EB462]) [    ] o.a.s.SolrTestCaseJ4 \\t 75thPctlRequestTime: 0.451628\\n  2&gt; 56671 INFO  (TEST-OverseerTest.testPerformance-seed#[4A854829B14EB462]) [    ] o.a.s.SolrTestCaseJ4 \\t 95thPctlRequestTime: 0.5609881\\n  2&gt; 56671 INFO  (TEST-OverseerTest.testPerformance-seed#[4A854829B14EB462]) [    ] o.a.s.SolrTestCaseJ4 \\t 99thPctlRequestTime: 0.6850270100000001\\n  2&gt; 56671 INFO  (TEST-OverseerTest.testPerformance-seed#[4A854829B14EB462]) [    ] o.a.s.SolrTestCaseJ4 \\t 999thPctlRequestTime: 3.4499434830000055\\n\\n\\nstateFormat = 2, 10 collections, Without refactoring (trunk):\\n=============================================================\\n\\n   [junit4]   2&gt; 274160 INFO  (TEST-OverseerTest.testPerformance-seed#[1CE0793468424C19]) [    ] o.a.s.SolrTestCaseJ4 Overseer loop finished processing: \\n   [junit4]   2&gt; 274161 INFO  (TEST-OverseerTest.testPerformance-seed#[1CE0793468424C19]) [    ] o.a.s.SolrTestCaseJ4 \\t totalTime: 264346.50677\\n   [junit4]   2&gt; 274161 INFO  (TEST-OverseerTest.testPerformance-seed#[1CE0793468424C19]) [    ] o.a.s.SolrTestCaseJ4 \\t avgRequestsPerMinute: 0.003782893537381759\\n   [junit4]   2&gt; 274161 INFO  (TEST-OverseerTest.testPerformance-seed#[1CE0793468424C19]) [    ] o.a.s.SolrTestCaseJ4 \\t 5minRateRequestsPerMinute: 0.0\\n   [junit4]   2&gt; 274162 INFO  (TEST-OverseerTest.testPerformance-seed#[1CE0793468424C19]) [    ] o.a.s.SolrTestCaseJ4 \\t 15minRateRequestsPerMinute: 0.0\\n   [junit4]   2&gt; 274162 INFO  (TEST-OverseerTest.testPerformance-seed#[1CE0793468424C19]) [    ] o.a.s.SolrTestCaseJ4 \\t avgTimePerRequest: 264346.50677\\n   [junit4]   2&gt; 274162 INFO  (TEST-OverseerTest.testPerformance-seed#[1CE0793468424C19]) [    ] o.a.s.SolrTestCaseJ4 \\t medianRequestTime: 264346.50677\\n   [junit4]   2&gt; 274162 INFO  (TEST-OverseerTest.testPerformance-seed#[1CE0793468424C19]) [    ] o.a.s.SolrTestCaseJ4 \\t 75thPctlRequestTime: 264346.50677\\n   [junit4]   2&gt; 274162 INFO  (TEST-OverseerTest.testPerformance-seed#[1CE0793468424C19]) [    ] o.a.s.SolrTestCaseJ4 \\t 95thPctlRequestTime: 264346.50677\\n   [junit4]   2&gt; 274162 INFO  (TEST-OverseerTest.testPerformance-seed#[1CE0793468424C19]) [    ] o.a.s.SolrTestCaseJ4 \\t 99thPctlRequestTime: 264346.50677\\n   [junit4]   2&gt; 274162 INFO  (TEST-OverseerTest.testPerformance-seed#[1CE0793468424C19]) [    ] o.a.s.SolrTestCaseJ4 \\t 999thPctlRequestTime: 264346.50677\\n   [junit4]   2&gt; 274163 INFO  (TEST-OverseerTest.testPerformance-seed#[1CE0793468424C19]) [    ] o.a.s.SolrTestCaseJ4 op: am_i_leader, success: 2, failure: 0\\n   [junit4]   2&gt; 274163 INFO  (TEST-OverseerTest.testPerformance-seed#[1CE0793468424C19]) [    ] o.a.s.SolrTestCaseJ4 \\t totalTime: 10.991148\\n   [junit4]   2&gt; 274163 INFO  (TEST-OverseerTest.testPerformance-seed#[1CE0793468424C19]) [    ] o.a.s.SolrTestCaseJ4 \\t avgRequestsPerMinute: 0.4544215783246879\\n   [junit4]   2&gt; 274163 INFO  (TEST-OverseerTest.testPerformance-seed#[1CE0793468424C19]) [    ] o.a.s.SolrTestCaseJ4 \\t 5minRateRequestsPerMinute: 10.257958366769442\\n   [junit4]   2&gt; 274163 INFO  (TEST-OverseerTest.testPerformance-seed#[1CE0793468424C19]) [    ] o.a.s.SolrTestCaseJ4 \\t 15minRateRequestsPerMinute: 18.078447754911757\\n   [junit4]   2&gt; 274163 INFO  (TEST-OverseerTest.testPerformance-seed#[1CE0793468424C19]) [    ] o.a.s.SolrTestCaseJ4 \\t avgTimePerRequest: 5.495574\\n   [junit4]   2&gt; 274164 INFO  (TEST-OverseerTest.testPerformance-seed#[1CE0793468424C19]) [    ] o.a.s.SolrTestCaseJ4 \\t medianRequestTime: 5.4955739999999995\\n   [junit4]   2&gt; 274164 INFO  (TEST-OverseerTest.testPerformance-seed#[1CE0793468424C19]) [    ] o.a.s.SolrTestCaseJ4 \\t 75thPctlRequestTime: 7.035856\\n   [junit4]   2&gt; 274164 INFO  (TEST-OverseerTest.testPerformance-seed#[1CE0793468424C19]) [    ] o.a.s.SolrTestCaseJ4 \\t 95thPctlRequestTime: 7.035856\\n   [junit4]   2&gt; 274164 INFO  (TEST-OverseerTest.testPerformance-seed#[1CE0793468424C19]) [    ] o.a.s.SolrTestCaseJ4 \\t 99thPctlRequestTime: 7.035856\\n   [junit4]   2&gt; 274165 INFO  (TEST-OverseerTest.testPerformance-seed#[1CE0793468424C19]) [    ] o.a.s.SolrTestCaseJ4 \\t 999thPctlRequestTime: 7.035856\\n   [junit4]   2&gt; 274165 INFO  (TEST-OverseerTest.testPerformance-seed#[1CE0793468424C19]) [    ] o.a.s.SolrTestCaseJ4 op: update_state, success: 20011, failure: 0\\n   [junit4]   2&gt; 274166 INFO  (TEST-OverseerTest.testPerformance-seed#[1CE0793468424C19]) [    ] o.a.s.SolrTestCaseJ4 \\t totalTime: 12397.475361\\n   [junit4]   2&gt; 274166 INFO  (TEST-OverseerTest.testPerformance-seed#[1CE0793468424C19]) [    ] o.a.s.SolrTestCaseJ4 \\t avgRequestsPerMinute: 4547.833695111793\\n   [junit4]   2&gt; 274166 INFO  (TEST-OverseerTest.testPerformance-seed#[1CE0793468424C19]) [    ] o.a.s.SolrTestCaseJ4 \\t 5minRateRequestsPerMinute: 3847.5781990107857\\n   [junit4]   2&gt; 274166 INFO  (TEST-OverseerTest.testPerformance-seed#[1CE0793468424C19]) [    ] o.a.s.SolrTestCaseJ4 \\t 15minRateRequestsPerMinute: 2998.648631930923\\n   [junit4]   2&gt; 274167 INFO  (TEST-OverseerTest.testPerformance-seed#[1CE0793468424C19]) [    ] o.a.s.SolrTestCaseJ4 \\t avgTimePerRequest: 0.6195330248863126\\n   [junit4]   2&gt; 274167 INFO  (TEST-OverseerTest.testPerformance-seed#[1CE0793468424C19]) [    ] o.a.s.SolrTestCaseJ4 \\t medianRequestTime: 0.5545475\\n   [junit4]   2&gt; 274167 INFO  (TEST-OverseerTest.testPerformance-seed#[1CE0793468424C19]) [    ] o.a.s.SolrTestCaseJ4 \\t 75thPctlRequestTime: 0.6847515\\n   [junit4]   2&gt; 274167 INFO  (TEST-OverseerTest.testPerformance-seed#[1CE0793468424C19]) [    ] o.a.s.SolrTestCaseJ4 \\t 95thPctlRequestTime: 0.8879762999999998\\n   [junit4]   2&gt; 274167 INFO  (TEST-OverseerTest.testPerformance-seed#[1CE0793468424C19]) [    ] o.a.s.SolrTestCaseJ4 \\t 99thPctlRequestTime: 1.1280661800000003\\n   [junit4]   2&gt; 274167 INFO  (TEST-OverseerTest.testPerformance-seed#[1CE0793468424C19]) [    ] o.a.s.SolrTestCaseJ4 \\t 999thPctlRequestTime: 3.7108806920000013\\n   [junit4]   2&gt; 274167 INFO  (TEST-OverseerTest.testPerformance-seed#[1CE0793468424C19]) [    ] o.a.s.SolrTestCaseJ4 op: state, success: 20001, failure: 0\\n   [junit4]   2&gt; 274168 INFO  (TEST-OverseerTest.testPerformance-seed#[1CE0793468424C19]) [    ] o.a.s.SolrTestCaseJ4 \\t totalTime: 10719.864045\\n   [junit4]   2&gt; 274169 INFO  (TEST-OverseerTest.testPerformance-seed#[1CE0793468424C19]) [    ] o.a.s.SolrTestCaseJ4 \\t avgRequestsPerMinute: 4550.14580363099\\n   [junit4]   2&gt; 274169 INFO  (TEST-OverseerTest.testPerformance-seed#[1CE0793468424C19]) [    ] o.a.s.SolrTestCaseJ4 \\t 5minRateRequestsPerMinute: 3861.3377008032517\\n   [junit4]   2&gt; 274169 INFO  (TEST-OverseerTest.testPerformance-seed#[1CE0793468424C19]) [    ] o.a.s.SolrTestCaseJ4 \\t 15minRateRequestsPerMinute: 3010.807350864149\\n   [junit4]   2&gt; 274169 INFO  (TEST-OverseerTest.testPerformance-seed#[1CE0793468424C19]) [    ] o.a.s.SolrTestCaseJ4 \\t avgTimePerRequest: 0.5359664039298035\\n   [junit4]   2&gt; 274169 INFO  (TEST-OverseerTest.testPerformance-seed#[1CE0793468424C19]) [    ] o.a.s.SolrTestCaseJ4 \\t medianRequestTime: 0.483754\\n   [junit4]   2&gt; 274169 INFO  (TEST-OverseerTest.testPerformance-seed#[1CE0793468424C19]) [    ] o.a.s.SolrTestCaseJ4 \\t 75thPctlRequestTime: 0.58192225\\n   [junit4]   2&gt; 274169 INFO  (TEST-OverseerTest.testPerformance-seed#[1CE0793468424C19]) [    ] o.a.s.SolrTestCaseJ4 \\t 95thPctlRequestTime: 0.71668745\\n   [junit4]   2&gt; 274169 INFO  (TEST-OverseerTest.testPerformance-seed#[1CE0793468424C19]) [    ] o.a.s.SolrTestCaseJ4 \\t 99thPctlRequestTime: 0.8258062500000001\\n   [junit4]   2&gt; 274169 INFO  (TEST-OverseerTest.testPerformance-seed#[1CE0793468424C19]) [    ] o.a.s.SolrTestCaseJ4 \\t 999thPctlRequestTime: 13.507429244000047\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"shalinmangar\\\" id=\\\"commentauthor_14704299_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=shalinmangar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"shalinmangar\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shalin Shekhar Mangar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14704299_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'20\\/Aug\\/15 05:10\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-08-20T05:10:12+0000\'\u003e20\\/Aug\\/15 05:10\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    This gives us a great speedup as well. The rate of processing state operations went up from 4550 requests\\/min to 26083 requests\\/min i.e. a boost of 473%! \\n\\n  \\n stateFormat = 2, 10 collections, With refactoring (trunk):\\n=============================================================\\n\\n  2&gt; 56663 INFO  (TEST-OverseerTest.testPerformance-seed#[4A854829B14EB462]) [    ] o.a.s.SolrTestCaseJ4 Overseer loop finished processing: \\n  2&gt; 56664 INFO  (TEST-OverseerTest.testPerformance-seed#[4A854829B14EB462]) [    ] o.a.s.SolrTestCaseJ4 \\t totalTime: 46405.595921\\n  2&gt; 56664 INFO  (TEST-OverseerTest.testPerformance-seed#[4A854829B14EB462]) [    ] o.a.s.SolrTestCaseJ4 \\t avgRequestsPerMinute: 0.021548541967677345\\n  2&gt; 56664 INFO  (TEST-OverseerTest.testPerformance-seed#[4A854829B14EB462]) [    ] o.a.s.SolrTestCaseJ4 \\t 5minRateRequestsPerMinute: 0.0\\n  2&gt; 56664 INFO  (TEST-OverseerTest.testPerformance-seed#[4A854829B14EB462]) [    ] o.a.s.SolrTestCaseJ4 \\t 15minRateRequestsPerMinute: 0.0\\n  2&gt; 56664 INFO  (TEST-OverseerTest.testPerformance-seed#[4A854829B14EB462]) [    ] o.a.s.SolrTestCaseJ4 \\t avgTimePerRequest: 46405.595921\\n  2&gt; 56664 INFO  (TEST-OverseerTest.testPerformance-seed#[4A854829B14EB462]) [    ] o.a.s.SolrTestCaseJ4 \\t medianRequestTime: 46405.595921\\n  2&gt; 56665 INFO  (TEST-OverseerTest.testPerformance-seed#[4A854829B14EB462]) [    ] o.a.s.SolrTestCaseJ4 \\t 75thPctlRequestTime: 46405.595921\\n  2&gt; 56665 INFO  (TEST-OverseerTest.testPerformance-seed#[4A854829B14EB462]) [    ] o.a.s.SolrTestCaseJ4 \\t 95thPctlRequestTime: 46405.595921\\n  2&gt; 56665 INFO  (TEST-OverseerTest.testPerformance-seed#[4A854829B14EB462]) [    ] o.a.s.SolrTestCaseJ4 \\t 99thPctlRequestTime: 46405.595921\\n  2&gt; 56665 INFO  (TEST-OverseerTest.testPerformance-seed#[4A854829B14EB462]) [    ] o.a.s.SolrTestCaseJ4 \\t 999thPctlRequestTime: 46405.595921\\n  2&gt; 56665 INFO  (TEST-OverseerTest.testPerformance-seed#[4A854829B14EB462]) [    ] o.a.s.SolrTestCaseJ4 op: am_i_leader, success: 3, failure: 0\\n  2&gt; 56665 INFO  (TEST-OverseerTest.testPerformance-seed#[4A854829B14EB462]) [    ] o.a.s.SolrTestCaseJ4 \\t totalTime: 7.714871\\n  2&gt; 56665 INFO  (TEST-OverseerTest.testPerformance-seed#[4A854829B14EB462]) [    ] o.a.s.SolrTestCaseJ4 \\t avgRequestsPerMinute: 3.9009249281419294\\n  2&gt; 56665 INFO  (TEST-OverseerTest.testPerformance-seed#[4A854829B14EB462]) [    ] o.a.s.SolrTestCaseJ4 \\t 5minRateRequestsPerMinute: 21.00415965703074\\n  2&gt; 56665 INFO  (TEST-OverseerTest.testPerformance-seed#[4A854829B14EB462]) [    ] o.a.s.SolrTestCaseJ4 \\t 15minRateRequestsPerMinute: 22.9566897384727\\n  2&gt; 56666 INFO  (TEST-OverseerTest.testPerformance-seed#[4A854829B14EB462]) [    ] o.a.s.SolrTestCaseJ4 \\t avgTimePerRequest: 2.5716236666666665\\n  2&gt; 56666 INFO  (TEST-OverseerTest.testPerformance-seed#[4A854829B14EB462]) [    ] o.a.s.SolrTestCaseJ4 \\t medianRequestTime: 0.390077\\n  2&gt; 56666 INFO  (TEST-OverseerTest.testPerformance-seed#[4A854829B14EB462]) [    ] o.a.s.SolrTestCaseJ4 \\t 75thPctlRequestTime: 7.016754\\n  2&gt; 56666 INFO  (TEST-OverseerTest.testPerformance-seed#[4A854829B14EB462]) [    ] o.a.s.SolrTestCaseJ4 \\t 95thPctlRequestTime: 7.016754\\n  2&gt; 56666 INFO  (TEST-OverseerTest.testPerformance-seed#[4A854829B14EB462]) [    ] o.a.s.SolrTestCaseJ4 \\t 99thPctlRequestTime: 7.016754\\n  2&gt; 56667 INFO  (TEST-OverseerTest.testPerformance-seed#[4A854829B14EB462]) [    ] o.a.s.SolrTestCaseJ4 \\t 999thPctlRequestTime: 7.016754\\n  2&gt; 56667 INFO  (TEST-OverseerTest.testPerformance-seed#[4A854829B14EB462]) [    ] o.a.s.SolrTestCaseJ4 op: update_state, success: 20011, failure: 0\\n  2&gt; 56669 INFO  (TEST-OverseerTest.testPerformance-seed#[4A854829B14EB462]) [    ] o.a.s.SolrTestCaseJ4 \\t totalTime: 8677.820981\\n  2&gt; 56669 INFO  (TEST-OverseerTest.testPerformance-seed#[4A854829B14EB462]) [    ] o.a.s.SolrTestCaseJ4 \\t avgRequestsPerMinute: 26054.58092669684\\n  2&gt; 56669 INFO  (TEST-OverseerTest.testPerformance-seed#[4A854829B14EB462]) [    ] o.a.s.SolrTestCaseJ4 \\t 5minRateRequestsPerMinute: 28115.736803934476\\n  2&gt; 56669 INFO  (TEST-OverseerTest.testPerformance-seed#[4A854829B14EB462]) [    ] o.a.s.SolrTestCaseJ4 \\t 15minRateRequestsPerMinute: 28300.17714580809\\n  2&gt; 56669 INFO  (TEST-OverseerTest.testPerformance-seed#[4A854829B14EB462]) [    ] o.a.s.SolrTestCaseJ4 \\t avgTimePerRequest: 0.4336525401529159\\n  2&gt; 56669 INFO  (TEST-OverseerTest.testPerformance-seed#[4A854829B14EB462]) [    ] o.a.s.SolrTestCaseJ4 \\t medianRequestTime: 0.4546175\\n  2&gt; 56669 INFO  (TEST-OverseerTest.testPerformance-seed#[4A854829B14EB462]) [    ] o.a.s.SolrTestCaseJ4 \\t 75thPctlRequestTime: 0.5425845\\n  2&gt; 56669 INFO  (TEST-OverseerTest.testPerformance-seed#[4A854829B14EB462]) [    ] o.a.s.SolrTestCaseJ4 \\t 95thPctlRequestTime: 0.68700805\\n  2&gt; 56670 INFO  (TEST-OverseerTest.testPerformance-seed#[4A854829B14EB462]) [    ] o.a.s.SolrTestCaseJ4 \\t 99thPctlRequestTime: 0.9623780800000007\\n  2&gt; 56670 INFO  (TEST-OverseerTest.testPerformance-seed#[4A854829B14EB462]) [    ] o.a.s.SolrTestCaseJ4 \\t 999thPctlRequestTime: 3.872901139000002\\n  2&gt; 56670 INFO  (TEST-OverseerTest.testPerformance-seed#[4A854829B14EB462]) [    ] o.a.s.SolrTestCaseJ4 op: state, success: 20001, failure: 0\\n  2&gt; 56671 INFO  (TEST-OverseerTest.testPerformance-seed#[4A854829B14EB462]) [    ] o.a.s.SolrTestCaseJ4 \\t totalTime: 7268.609771\\n  2&gt; 56671 INFO  (TEST-OverseerTest.testPerformance-seed#[4A854829B14EB462]) [    ] o.a.s.SolrTestCaseJ4 \\t avgRequestsPerMinute: 26083.69778407265\\n  2&gt; 56671 INFO  (TEST-OverseerTest.testPerformance-seed#[4A854829B14EB462]) [    ] o.a.s.SolrTestCaseJ4 \\t 5minRateRequestsPerMinute: 28469.456291781717\\n  2&gt; 56671 INFO  (TEST-OverseerTest.testPerformance-seed#[4A854829B14EB462]) [    ] o.a.s.SolrTestCaseJ4 \\t 15minRateRequestsPerMinute: 28689.269577883602\\n  2&gt; 56671 INFO  (TEST-OverseerTest.testPerformance-seed#[4A854829B14EB462]) [    ] o.a.s.SolrTestCaseJ4 \\t avgTimePerRequest: 0.36341231793410333\\n  2&gt; 56671 INFO  (TEST-OverseerTest.testPerformance-seed#[4A854829B14EB462]) [    ] o.a.s.SolrTestCaseJ4 \\t medianRequestTime: 0.37234449999999997\\n  2&gt; 56671 INFO  (TEST-OverseerTest.testPerformance-seed#[4A854829B14EB462]) [    ] o.a.s.SolrTestCaseJ4 \\t 75thPctlRequestTime: 0.451628\\n  2&gt; 56671 INFO  (TEST-OverseerTest.testPerformance-seed#[4A854829B14EB462]) [    ] o.a.s.SolrTestCaseJ4 \\t 95thPctlRequestTime: 0.5609881\\n  2&gt; 56671 INFO  (TEST-OverseerTest.testPerformance-seed#[4A854829B14EB462]) [    ] o.a.s.SolrTestCaseJ4 \\t 99thPctlRequestTime: 0.6850270100000001\\n  2&gt; 56671 INFO  (TEST-OverseerTest.testPerformance-seed#[4A854829B14EB462]) [    ] o.a.s.SolrTestCaseJ4 \\t 999thPctlRequestTime: 3.4499434830000055\\n\\n\\nstateFormat = 2, 10 collections, Without refactoring (trunk):\\n=============================================================\\n\\n   [junit4]   2&gt; 274160 INFO  (TEST-OverseerTest.testPerformance-seed#[1CE0793468424C19]) [    ] o.a.s.SolrTestCaseJ4 Overseer loop finished processing: \\n   [junit4]   2&gt; 274161 INFO  (TEST-OverseerTest.testPerformance-seed#[1CE0793468424C19]) [    ] o.a.s.SolrTestCaseJ4 \\t totalTime: 264346.50677\\n   [junit4]   2&gt; 274161 INFO  (TEST-OverseerTest.testPerformance-seed#[1CE0793468424C19]) [    ] o.a.s.SolrTestCaseJ4 \\t avgRequestsPerMinute: 0.003782893537381759\\n   [junit4]   2&gt; 274161 INFO  (TEST-OverseerTest.testPerformance-seed#[1CE0793468424C19]) [    ] o.a.s.SolrTestCaseJ4 \\t 5minRateRequestsPerMinute: 0.0\\n   [junit4]   2&gt; 274162 INFO  (TEST-OverseerTest.testPerformance-seed#[1CE0793468424C19]) [    ] o.a.s.SolrTestCaseJ4 \\t 15minRateRequestsPerMinute: 0.0\\n   [junit4]   2&gt; 274162 INFO  (TEST-OverseerTest.testPerformance-seed#[1CE0793468424C19]) [    ] o.a.s.SolrTestCaseJ4 \\t avgTimePerRequest: 264346.50677\\n   [junit4]   2&gt; 274162 INFO  (TEST-OverseerTest.testPerformance-seed#[1CE0793468424C19]) [    ] o.a.s.SolrTestCaseJ4 \\t medianRequestTime: 264346.50677\\n   [junit4]   2&gt; 274162 INFO  (TEST-OverseerTest.testPerformance-seed#[1CE0793468424C19]) [    ] o.a.s.SolrTestCaseJ4 \\t 75thPctlRequestTime: 264346.50677\\n   [junit4]   2&gt; 274162 INFO  (TEST-OverseerTest.testPerformance-seed#[1CE0793468424C19]) [    ] o.a.s.SolrTestCaseJ4 \\t 95thPctlRequestTime: 264346.50677\\n   [junit4]   2&gt; 274162 INFO  (TEST-OverseerTest.testPerformance-seed#[1CE0793468424C19]) [    ] o.a.s.SolrTestCaseJ4 \\t 99thPctlRequestTime: 264346.50677\\n   [junit4]   2&gt; 274162 INFO  (TEST-OverseerTest.testPerformance-seed#[1CE0793468424C19]) [    ] o.a.s.SolrTestCaseJ4 \\t 999thPctlRequestTime: 264346.50677\\n   [junit4]   2&gt; 274163 INFO  (TEST-OverseerTest.testPerformance-seed#[1CE0793468424C19]) [    ] o.a.s.SolrTestCaseJ4 op: am_i_leader, success: 2, failure: 0\\n   [junit4]   2&gt; 274163 INFO  (TEST-OverseerTest.testPerformance-seed#[1CE0793468424C19]) [    ] o.a.s.SolrTestCaseJ4 \\t totalTime: 10.991148\\n   [junit4]   2&gt; 274163 INFO  (TEST-OverseerTest.testPerformance-seed#[1CE0793468424C19]) [    ] o.a.s.SolrTestCaseJ4 \\t avgRequestsPerMinute: 0.4544215783246879\\n   [junit4]   2&gt; 274163 INFO  (TEST-OverseerTest.testPerformance-seed#[1CE0793468424C19]) [    ] o.a.s.SolrTestCaseJ4 \\t 5minRateRequestsPerMinute: 10.257958366769442\\n   [junit4]   2&gt; 274163 INFO  (TEST-OverseerTest.testPerformance-seed#[1CE0793468424C19]) [    ] o.a.s.SolrTestCaseJ4 \\t 15minRateRequestsPerMinute: 18.078447754911757\\n   [junit4]   2&gt; 274163 INFO  (TEST-OverseerTest.testPerformance-seed#[1CE0793468424C19]) [    ] o.a.s.SolrTestCaseJ4 \\t avgTimePerRequest: 5.495574\\n   [junit4]   2&gt; 274164 INFO  (TEST-OverseerTest.testPerformance-seed#[1CE0793468424C19]) [    ] o.a.s.SolrTestCaseJ4 \\t medianRequestTime: 5.4955739999999995\\n   [junit4]   2&gt; 274164 INFO  (TEST-OverseerTest.testPerformance-seed#[1CE0793468424C19]) [    ] o.a.s.SolrTestCaseJ4 \\t 75thPctlRequestTime: 7.035856\\n   [junit4]   2&gt; 274164 INFO  (TEST-OverseerTest.testPerformance-seed#[1CE0793468424C19]) [    ] o.a.s.SolrTestCaseJ4 \\t 95thPctlRequestTime: 7.035856\\n   [junit4]   2&gt; 274164 INFO  (TEST-OverseerTest.testPerformance-seed#[1CE0793468424C19]) [    ] o.a.s.SolrTestCaseJ4 \\t 99thPctlRequestTime: 7.035856\\n   [junit4]   2&gt; 274165 INFO  (TEST-OverseerTest.testPerformance-seed#[1CE0793468424C19]) [    ] o.a.s.SolrTestCaseJ4 \\t 999thPctlRequestTime: 7.035856\\n   [junit4]   2&gt; 274165 INFO  (TEST-OverseerTest.testPerformance-seed#[1CE0793468424C19]) [    ] o.a.s.SolrTestCaseJ4 op: update_state, success: 20011, failure: 0\\n   [junit4]   2&gt; 274166 INFO  (TEST-OverseerTest.testPerformance-seed#[1CE0793468424C19]) [    ] o.a.s.SolrTestCaseJ4 \\t totalTime: 12397.475361\\n   [junit4]   2&gt; 274166 INFO  (TEST-OverseerTest.testPerformance-seed#[1CE0793468424C19]) [    ] o.a.s.SolrTestCaseJ4 \\t avgRequestsPerMinute: 4547.833695111793\\n   [junit4]   2&gt; 274166 INFO  (TEST-OverseerTest.testPerformance-seed#[1CE0793468424C19]) [    ] o.a.s.SolrTestCaseJ4 \\t 5minRateRequestsPerMinute: 3847.5781990107857\\n   [junit4]   2&gt; 274166 INFO  (TEST-OverseerTest.testPerformance-seed#[1CE0793468424C19]) [    ] o.a.s.SolrTestCaseJ4 \\t 15minRateRequestsPerMinute: 2998.648631930923\\n   [junit4]   2&gt; 274167 INFO  (TEST-OverseerTest.testPerformance-seed#[1CE0793468424C19]) [    ] o.a.s.SolrTestCaseJ4 \\t avgTimePerRequest: 0.6195330248863126\\n   [junit4]   2&gt; 274167 INFO  (TEST-OverseerTest.testPerformance-seed#[1CE0793468424C19]) [    ] o.a.s.SolrTestCaseJ4 \\t medianRequestTime: 0.5545475\\n   [junit4]   2&gt; 274167 INFO  (TEST-OverseerTest.testPerformance-seed#[1CE0793468424C19]) [    ] o.a.s.SolrTestCaseJ4 \\t 75thPctlRequestTime: 0.6847515\\n   [junit4]   2&gt; 274167 INFO  (TEST-OverseerTest.testPerformance-seed#[1CE0793468424C19]) [    ] o.a.s.SolrTestCaseJ4 \\t 95thPctlRequestTime: 0.8879762999999998\\n   [junit4]   2&gt; 274167 INFO  (TEST-OverseerTest.testPerformance-seed#[1CE0793468424C19]) [    ] o.a.s.SolrTestCaseJ4 \\t 99thPctlRequestTime: 1.1280661800000003\\n   [junit4]   2&gt; 274167 INFO  (TEST-OverseerTest.testPerformance-seed#[1CE0793468424C19]) [    ] o.a.s.SolrTestCaseJ4 \\t 999thPctlRequestTime: 3.7108806920000013\\n   [junit4]   2&gt; 274167 INFO  (TEST-OverseerTest.testPerformance-seed#[1CE0793468424C19]) [    ] o.a.s.SolrTestCaseJ4 op: state, success: 20001, failure: 0\\n   [junit4]   2&gt; 274168 INFO  (TEST-OverseerTest.testPerformance-seed#[1CE0793468424C19]) [    ] o.a.s.SolrTestCaseJ4 \\t totalTime: 10719.864045\\n   [junit4]   2&gt; 274169 INFO  (TEST-OverseerTest.testPerformance-seed#[1CE0793468424C19]) [    ] o.a.s.SolrTestCaseJ4 \\t avgRequestsPerMinute: 4550.14580363099\\n   [junit4]   2&gt; 274169 INFO  (TEST-OverseerTest.testPerformance-seed#[1CE0793468424C19]) [    ] o.a.s.SolrTestCaseJ4 \\t 5minRateRequestsPerMinute: 3861.3377008032517\\n   [junit4]   2&gt; 274169 INFO  (TEST-OverseerTest.testPerformance-seed#[1CE0793468424C19]) [    ] o.a.s.SolrTestCaseJ4 \\t 15minRateRequestsPerMinute: 3010.807350864149\\n   [junit4]   2&gt; 274169 INFO  (TEST-OverseerTest.testPerformance-seed#[1CE0793468424C19]) [    ] o.a.s.SolrTestCaseJ4 \\t avgTimePerRequest: 0.5359664039298035\\n   [junit4]   2&gt; 274169 INFO  (TEST-OverseerTest.testPerformance-seed#[1CE0793468424C19]) [    ] o.a.s.SolrTestCaseJ4 \\t medianRequestTime: 0.483754\\n   [junit4]   2&gt; 274169 INFO  (TEST-OverseerTest.testPerformance-seed#[1CE0793468424C19]) [    ] o.a.s.SolrTestCaseJ4 \\t 75thPctlRequestTime: 0.58192225\\n   [junit4]   2&gt; 274169 INFO  (TEST-OverseerTest.testPerformance-seed#[1CE0793468424C19]) [    ] o.a.s.SolrTestCaseJ4 \\t 95thPctlRequestTime: 0.71668745\\n   [junit4]   2&gt; 274169 INFO  (TEST-OverseerTest.testPerformance-seed#[1CE0793468424C19]) [    ] o.a.s.SolrTestCaseJ4 \\t 99thPctlRequestTime: 0.8258062500000001\\n   [junit4]   2&gt; 274169 INFO  (TEST-OverseerTest.testPerformance-seed#[1CE0793468424C19]) [    ] o.a.s.SolrTestCaseJ4 \\t 999thPctlRequestTime: 13.507429244000047\\n \\n               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14704302\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6760?focusedCommentId=14704302&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14704302\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_14704302_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14704302_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'20\\/Aug\\/15 05:12\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-08-20T05:12:24+0000\'\u003e20\\/Aug\\/15 05:12\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eCommit 1696706 from shalin@apache.org in branch \'dev\\/trunk\'\u003cbr\\/\u003e\\n[ \u003ca href=\\\"https:\\/\\/svn.apache.org\\/r1696706\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttps:\\/\\/svn.apache.org\\/r1696706\u003c\\/a\u003e ]\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-6760\\\" title=\\\"New optimized DistributedQueue implementation for overseer\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-6760\\\"\u003e\u003cdel\u003eSOLR-6760\u003c\\/del\u003e\u003c\\/a\u003e: New optimized DistributedQueue implementation for overseer\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_14704302_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14704302_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'20\\/Aug\\/15 05:12\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-08-20T05:12:24+0000\'\u003e20\\/Aug\\/15 05:12\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Commit 1696706 from shalin@apache.org in branch \'dev\\/trunk\' \\n[  https:\\/\\/svn.apache.org\\/r1696706  ] \\n\\n   SOLR-6760  : New optimized DistributedQueue implementation for overseer              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14704564\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6760?focusedCommentId=14704564&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14704564\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"andyetitmoves\\\" id=\\\"commentauthor_14704564_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=andyetitmoves\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"andyetitmoves\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ramkumar Aiyengar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14704564_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'20\\/Aug\\/15 09:16\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-08-20T09:16:55+0000\'\u003e20\\/Aug\\/15 09:16\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Ramkumar Aiyengar - 20\\/Aug\\/15 09:17\\\"\u003eedited\u003c\\/span\u003e \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eIn the output above, \'success\' new way is 3 instead of 20k, some test bug? Or is it counting with the batching as one op?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"andyetitmoves\\\" id=\\\"commentauthor_14704564_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=andyetitmoves\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"andyetitmoves\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ramkumar Aiyengar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14704564_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'20\\/Aug\\/15 09:16\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-08-20T09:16:55+0000\'\u003e20\\/Aug\\/15 09:16\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Ramkumar Aiyengar - 20\\/Aug\\/15 09:17\\\"\u003eedited\u003c\\/span\u003e                   In the output above, \'success\' new way is 3 instead of 20k, some test bug? Or is it counting with the batching as one op?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14704595\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6760?focusedCommentId=14704595&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14704595\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"shalinmangar\\\" id=\\\"commentauthor_14704595_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=shalinmangar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"shalinmangar\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shalin Shekhar Mangar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14704595_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'20\\/Aug\\/15 09:40\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-08-20T09:40:38+0000\'\u003e20\\/Aug\\/15 09:40\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eAre you looking at success of amILeader op? Look at the state operations. Those are all 20k.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"shalinmangar\\\" id=\\\"commentauthor_14704595_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=shalinmangar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"shalinmangar\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shalin Shekhar Mangar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14704595_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'20\\/Aug\\/15 09:40\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-08-20T09:40:38+0000\'\u003e20\\/Aug\\/15 09:40\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Are you looking at success of amILeader op? Look at the state operations. Those are all 20k.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14704610\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6760?focusedCommentId=14704610&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14704610\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"andyetitmoves\\\" id=\\\"commentauthor_14704610_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=andyetitmoves\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"andyetitmoves\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ramkumar Aiyengar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14704610_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'20\\/Aug\\/15 09:51\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-08-20T09:51:33+0000\'\u003e20\\/Aug\\/15 09:51\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eAh, got it, my bad..\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"andyetitmoves\\\" id=\\\"commentauthor_14704610_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=andyetitmoves\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"andyetitmoves\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ramkumar Aiyengar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14704610_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'20\\/Aug\\/15 09:51\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-08-20T09:51:33+0000\'\u003e20\\/Aug\\/15 09:51\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Ah, got it, my bad..              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14704837\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6760?focusedCommentId=14704837&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14704837\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"shalinmangar\\\" id=\\\"commentauthor_14704837_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=shalinmangar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"shalinmangar\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shalin Shekhar Mangar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14704837_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'20\\/Aug\\/15 13:08\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-08-20T13:08:21+0000\'\u003e20\\/Aug\\/15 13:08\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eHere is a patch which applies to branch_5x.\u003c\\/p\u003e\\n\\n\u003col\u003e\\n\\t\u003cli\u003eI had to use ImmutableSortedSet.of() in DistributedQueue#getChildren because there is no Collections.emptySortedSet in Java 7.\u003c\\/li\u003e\\n\\t\u003cli\u003eChanged DistributedQueueTest to not use lambdas\u003c\\/li\u003e\\n\\t\u003cli\u003eI had to make local variable \\\"data\\\" as final in Overseer so that it could be used in the ZkWriteCallback anonymous inner class.\u003c\\/li\u003e\\n\u003c\\/ol\u003e\\n\\n\\n\u003cp\u003eI should also mention that I had to change DistributedQueueTest in the trunk patch to use ExecutorUtil for creating the executor service so that forbidden-api-checker is happy:\u003c\\/p\u003e\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e\u003cspan class=\\\"code-keyword\\\"\u003eprotected\u003c\\/span\u003e ExecutorService executor = ExecutorUtil.newMDCAwareSingleThreadExecutor(\u003cspan class=\\\"code-keyword\\\"\u003enew\u003c\\/span\u003e SolrjNamedThreadFactory(\u003cspan class=\\\"code-quote\\\"\u003e\\\"dqtest-\\\"\u003c\\/span\u003e));\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"shalinmangar\\\" id=\\\"commentauthor_14704837_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=shalinmangar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"shalinmangar\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shalin Shekhar Mangar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14704837_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'20\\/Aug\\/15 13:08\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-08-20T13:08:21+0000\'\u003e20\\/Aug\\/15 13:08\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Here is a patch which applies to branch_5x. \\n\\n \\n\\t I had to use ImmutableSortedSet.of() in DistributedQueue#getChildren because there is no Collections.emptySortedSet in Java 7. \\n\\t Changed DistributedQueueTest to not use lambdas \\n\\t I had to make local variable \\\"data\\\" as final in Overseer so that it could be used in the ZkWriteCallback anonymous inner class. \\n \\n\\n\\n I should also mention that I had to change DistributedQueueTest in the trunk patch to use ExecutorUtil for creating the executor service so that forbidden-api-checker is happy: \\n  \\n  protected  ExecutorService executor = ExecutorUtil.newMDCAwareSingleThreadExecutor( new  SolrjNamedThreadFactory( \\\"dqtest-\\\" ));\\n \\n               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14704944\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6760?focusedCommentId=14704944&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14704944\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_14704944_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14704944_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'20\\/Aug\\/15 14:05\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-08-20T14:05:38+0000\'\u003e20\\/Aug\\/15 14:05\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eCommit 1696789 from shalin@apache.org in branch \'dev\\/branches\\/branch_5x\'\u003cbr\\/\u003e\\n[ \u003ca href=\\\"https:\\/\\/svn.apache.org\\/r1696789\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttps:\\/\\/svn.apache.org\\/r1696789\u003c\\/a\u003e ]\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-6760\\\" title=\\\"New optimized DistributedQueue implementation for overseer\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-6760\\\"\u003e\u003cdel\u003eSOLR-6760\u003c\\/del\u003e\u003c\\/a\u003e: New optimized DistributedQueue implementation for overseer\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_14704944_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14704944_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'20\\/Aug\\/15 14:05\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-08-20T14:05:38+0000\'\u003e20\\/Aug\\/15 14:05\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Commit 1696789 from shalin@apache.org in branch \'dev\\/branches\\/branch_5x\' \\n[  https:\\/\\/svn.apache.org\\/r1696789  ] \\n\\n   SOLR-6760  : New optimized DistributedQueue implementation for overseer              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14704960\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6760?focusedCommentId=14704960&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14704960\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"shalinmangar\\\" id=\\\"commentauthor_14704960_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=shalinmangar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"shalinmangar\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shalin Shekhar Mangar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14704960_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'20\\/Aug\\/15 14:08\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-08-20T14:08:27+0000\'\u003e20\\/Aug\\/15 14:08\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThanks Scott!\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"shalinmangar\\\" id=\\\"commentauthor_14704960_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=shalinmangar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"shalinmangar\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shalin Shekhar Mangar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14704960_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'20\\/Aug\\/15 14:08\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-08-20T14:08:27+0000\'\u003e20\\/Aug\\/15 14:08\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Thanks Scott!              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14705029\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6760?focusedCommentId=14705029&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14705029\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dragonsinth\\\" id=\\\"commentauthor_14705029_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dragonsinth\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dragonsinth\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Scott Blum\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14705029_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'20\\/Aug\\/15 14:43\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-08-20T14:43:59+0000\'\u003e20\\/Aug\\/15 14:43\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eWoohoo!\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dragonsinth\\\" id=\\\"commentauthor_14705029_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dragonsinth\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dragonsinth\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Scott Blum\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14705029_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'20\\/Aug\\/15 14:43\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-08-20T14:43:59+0000\'\u003e20\\/Aug\\/15 14:43\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Woohoo!              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14705453\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6760?focusedCommentId=14705453&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14705453\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"markrmiller@gmail.com\\\" id=\\\"commentauthor_14705453_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=markrmiller%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"markrmiller@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mark Miller\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14705453_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'20\\/Aug\\/15 18:07\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-08-20T18:07:44+0000\'\u003e20\\/Aug\\/15 18:07\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cblockquote\u003e\u003cp\u003eThe rate of processing state operations went up from 4550 requests\\/min to 26083 requests\\/min i.e. a boost of 473%!\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003eNice, huge win!\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"markrmiller@gmail.com\\\" id=\\\"commentauthor_14705453_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=markrmiller%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"markrmiller@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mark Miller\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14705453_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'20\\/Aug\\/15 18:07\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-08-20T18:07:44+0000\'\u003e20\\/Aug\\/15 18:07\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     The rate of processing state operations went up from 4550 requests\\/min to 26083 requests\\/min i.e. a boost of 473%!  \\n\\n Nice, huge win!              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14707457\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6760?focusedCommentId=14707457&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14707457\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gchanan\\\" id=\\\"commentauthor_14707457_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gchanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gchanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Gregory Chanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14707457_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'21\\/Aug\\/15 21:02\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-08-21T21:02:53+0000\'\u003e21\\/Aug\\/15 21:02\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThe naming here conflicts a bit with what I was trying to accomplish with \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-7789\\\" title=\\\"Introduce a ConfigSet management API at \\/admin\\/configs\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-7789\\\"\u003e\u003cdel\u003eSOLR-7789\u003c\\/del\u003e\u003c\\/a\u003e, so I\'m asking here for suggestions on how to resolve.  In \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-7789\\\" title=\\\"Introduce a ConfigSet management API at \\/admin\\/configs\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-7789\\\"\u003e\u003cdel\u003eSOLR-7789\u003c\\/del\u003e\u003c\\/a\u003e I am trying to accomplish the following:\u003cbr\\/\u003e\\n#1 Add another OverseerMessageHandler (OverseerConfigSetMessageHandler) to handle ConfigSet-related operations.\u003cbr\\/\u003e\\n#2 From the perspective of the non-overseer (i.e. the ConfigSetsHandler), it looks like the operations are written to a separate queue from the collection queue, i.e.  getOverseerConfigSetQueue()\u003cbr\\/\u003e\\n#3 Since the ConfigSet operations are most likely rare and fast, it made sense to just use the existing collections queue \\\"under the covers\\\" and handle the dispatch separately.  The naming here breaks the illusion of #2, i.e. if I return an OverseerCollectionQueue it\'s pretty obvious to the non-overseer what\'s going on.\u003c\\/p\u003e\\n\\n\u003cp\u003eSo, here\'s my plan:\u003cbr\\/\u003e\\nShort term: rename OverseerCollectionQueue to something more generic...DistributedTaskQueue?  DistributedAsyncAwareQueue?  There\'s nothing in there that is actually collection specific (which is why it works for the ConfigSet operations)\u003c\\/p\u003e\\n\\n\u003cp\u003eLonger term:  I have some more suggestions for the queue interface in \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-7789\\\" title=\\\"Introduce a ConfigSet management API at \\/admin\\/configs\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-7789\\\"\u003e\u003cdel\u003eSOLR-7789\u003c\\/del\u003e\u003c\\/a\u003e.  For example, on the insertion side the queue should be ZKNodeProps based rather than byte [] based so we can return different queue types that understand the semantics of the operations being inserted (hard to do that with a byte []).  In particular, I want to prefix all operation names to the ConfigSetQueue with \\\"configsets:\\\" automatic to simplify the dispatching to the correct OverseerMessageHandler.  The ConfigSetsHandler needs to do this now (so sort of breaks the illusion of #2) because of the interface.  There\'s probably a lot more room to break things up for client vs processing side as well &#8211; i.e. why does the CollectionsHandler \\/ ConfigSetsHandler get access to an object that lets it remove something from the queue?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gchanan\\\" id=\\\"commentauthor_14707457_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gchanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gchanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Gregory Chanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14707457_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'21\\/Aug\\/15 21:02\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-08-21T21:02:53+0000\'\u003e21\\/Aug\\/15 21:02\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    The naming here conflicts a bit with what I was trying to accomplish with   SOLR-7789  , so I\'m asking here for suggestions on how to resolve.  In   SOLR-7789   I am trying to accomplish the following: \\n#1 Add another OverseerMessageHandler (OverseerConfigSetMessageHandler) to handle ConfigSet-related operations. \\n#2 From the perspective of the non-overseer (i.e. the ConfigSetsHandler), it looks like the operations are written to a separate queue from the collection queue, i.e.  getOverseerConfigSetQueue() \\n#3 Since the ConfigSet operations are most likely rare and fast, it made sense to just use the existing collections queue \\\"under the covers\\\" and handle the dispatch separately.  The naming here breaks the illusion of #2, i.e. if I return an OverseerCollectionQueue it\'s pretty obvious to the non-overseer what\'s going on. \\n\\n So, here\'s my plan: \\nShort term: rename OverseerCollectionQueue to something more generic...DistributedTaskQueue?  DistributedAsyncAwareQueue?  There\'s nothing in there that is actually collection specific (which is why it works for the ConfigSet operations) \\n\\n Longer term:  I have some more suggestions for the queue interface in   SOLR-7789  .  For example, on the insertion side the queue should be ZKNodeProps based rather than byte [] based so we can return different queue types that understand the semantics of the operations being inserted (hard to do that with a byte []).  In particular, I want to prefix all operation names to the ConfigSetQueue with \\\"configsets:\\\" automatic to simplify the dispatching to the correct OverseerMessageHandler.  The ConfigSetsHandler needs to do this now (so sort of breaks the illusion of #2) because of the interface.  There\'s probably a lot more room to break things up for client vs processing side as well &#8211; i.e. why does the CollectionsHandler \\/ ConfigSetsHandler get access to an object that lets it remove something from the queue?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14707781\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6760?focusedCommentId=14707781&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14707781\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gchanan\\\" id=\\\"commentauthor_14707781_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gchanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gchanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Gregory Chanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14707781_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'22\\/Aug\\/15 01:51\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-08-22T01:51:20+0000\'\u003e22\\/Aug\\/15 01:51\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eAfter some more thought, I like the rename of OverseerCollectionQueue -&gt; OverseerTaskQueue.  It makes the term more generic, but makes it clear the scope should be limited to the Overseer (compared to my earlier suggestion of DistributedTaskQueue), which seems like a good idea  given the limitations of the interface discussed in this issue.\u003c\\/p\u003e\\n\\n\u003cp\u003eMy latest version of the patch in \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-7789\\\" title=\\\"Introduce a ConfigSet management API at \\/admin\\/configs\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-7789\\\"\u003e\u003cdel\u003eSOLR-7789\u003c\\/del\u003e\u003c\\/a\u003e makes this change.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gchanan\\\" id=\\\"commentauthor_14707781_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gchanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gchanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Gregory Chanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14707781_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'22\\/Aug\\/15 01:51\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-08-22T01:51:20+0000\'\u003e22\\/Aug\\/15 01:51\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    After some more thought, I like the rename of OverseerCollectionQueue -&gt; OverseerTaskQueue.  It makes the term more generic, but makes it clear the scope should be limited to the Overseer (compared to my earlier suggestion of DistributedTaskQueue), which seems like a good idea  given the limitations of the interface discussed in this issue. \\n\\n My latest version of the patch in   SOLR-7789   makes this change.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14708004\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6760?focusedCommentId=14708004&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14708004\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"shalinmangar\\\" id=\\\"commentauthor_14708004_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=shalinmangar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"shalinmangar\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shalin Shekhar Mangar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14708004_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'22\\/Aug\\/15 11:45\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-08-22T11:45:16+0000\'\u003e22\\/Aug\\/15 11:45\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eLet\'s keep this discussion on \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-7789\\\" title=\\\"Introduce a ConfigSet management API at \\/admin\\/configs\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-7789\\\"\u003e\u003cdel\u003eSOLR-7789\u003c\\/del\u003e\u003c\\/a\u003e. I\'ll respond on that issue.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"shalinmangar\\\" id=\\\"commentauthor_14708004_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=shalinmangar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"shalinmangar\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shalin Shekhar Mangar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14708004_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'22\\/Aug\\/15 11:45\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-08-22T11:45:16+0000\'\u003e22\\/Aug\\/15 11:45\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Let\'s keep this discussion on   SOLR-7789  . I\'ll respond on that issue.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14708094\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6760?focusedCommentId=14708094&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14708094\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dragonsinth\\\" id=\\\"commentauthor_14708094_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dragonsinth\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dragonsinth\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Scott Blum\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14708094_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'22\\/Aug\\/15 17:14\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-08-22T17:14:15+0000\'\u003e22\\/Aug\\/15 17:14\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eGregory, glad you\'re thinking about this.  This kind of discussion is just what I was hoping for when I wrote \\\"I think someone should go back and analyze the true needs there and figure out if there\'s something better we can do.\\\" \u003cimg class=\\\"emoticon\\\" src=\\\"\\/jira\\/images\\/icons\\/emoticons\\/smile.png\\\" height=\\\"16\\\" width=\\\"16\\\" align=\\\"absmiddle\\\" alt=\\\"\\\" border=\\\"0\\\"\\/\u003e\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dragonsinth\\\" id=\\\"commentauthor_14708094_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dragonsinth\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dragonsinth\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Scott Blum\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14708094_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'22\\/Aug\\/15 17:14\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-08-22T17:14:15+0000\'\u003e22\\/Aug\\/15 17:14\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Gregory, glad you\'re thinking about this.  This kind of discussion is just what I was hoping for when I wrote \\\"I think someone should go back and analyze the true needs there and figure out if there\'s something better we can do.\\\"                \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\"";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["scope-filter-data"]="{\"createScopeActions\":[],\"scopes\":[]}";
WRM._unparsedData["sidebar-collapsed-by-default"]="true";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:can-manage"]="false";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:with-icons"]="false";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:shortcuts"]="[]";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:project-id"]="12310230";
WRM._unparsedData["sidebar-id"]="\"\u003cdiv class=\\\"aui-sidebar  projects-sidebar sidebar-pending\\\" \u003e\u003cdiv class=\\\"aui-sidebar-wrapper\\\"\u003e\u003cdiv class=\\\"aui-sidebar-body\\\"\u003e\u003cheader class=\\\"aui-page-header\\\"\u003e\u003cdiv class=\\\"aui-page-header-inner\\\"\u003e\u003cdiv class=\\\"aui-page-header-image\\\"\u003e\u003ca href=\\\"\\/jira\\/projects\\/SOLR\\/summary\\\" title=\\\"Solr\\\" class=\\\"jira-project-avatar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-large aui-avatar-project\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"\\/jira\\/secure\\/projectavatar?pid=12310230&amp;avatarId=22151\\\" alt=\\\"Solr\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e\u003cimg src=\\\"data:image\\/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI\\/Pg0KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE4LjEuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPg0KPHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgdmlld0JveD0iMCAwIDMwMCAzMDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMwMCAzMDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxnIGlkPSJMYXllcl8yIj4NCgk8cGF0aCBzdHlsZT0iZmlsbDojRjc5MjMyOyIgZD0iTTE1MCwwQzY2LjY2NywwLDAsNjYuNjY3LDAsMTUwczY2LjY2NywxNTAsMTUwLDE1MHMxNTAtNjYuNjY3LDE1MC0xNTBTMjMzLjMzMywwLDE1MCwweg0KCQkgTTEzNi42NjcsMTc4LjMzM0wxMjUsMTkwbC00MS42NjctNDBMOTUsMTM4LjMzM2wzMC0zMEwxMzYuNjY3LDEyMGwtMzAsMzBMMTM2LjY2NywxNzguMzMzeiBNMjA1LDE2MS42NjdsLTMwLDMwTDE2My4zMzMsMTgwDQoJCWwzMC0zMGwtMzAtMzBMMTc1LDEwOC4zMzNMMjE2LjY2NywxNTBMMjA1LDE2MS42Njd6Ii8+DQo8L2c+DQo8Zz4NCgk8cG9seWdvbiBzdHlsZT0iZmlsbDojRkZGRkZGOyIgcG9pbnRzPSIxNzUsMTkxLjY2NyAyMDUsMTYxLjY2NyAyMTYuNjY3LDE1MCAxNzUsMTA4LjMzMyAxNjMuMzMzLDEyMCAxOTMuMzMzLDE1MCAxNjMuMzMzLDE4MCAJIi8+DQoJPHBvbHlnb24gc3R5bGU9ImZpbGw6I0ZGRkZGRjsiIHBvaW50cz0iMTI1LDEwOC4zMzMgOTUsMTM4LjMzMyA4My4zMzMsMTUwIDEyNSwxOTAgMTM2LjY2NywxNzguMzMzIDEwNi42NjcsMTUwIDEzNi42NjcsMTIwIAkiLz4NCjwvZz4NCjwvc3ZnPg0K\\\" alt=\\\"Icon indicating the project type\\\" class=\\\"jira-project-avatar-icon\\\" \\/\u003e\u003c\\/a\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-image --\u003e\u003cdiv class=\\\"aui-page-header-main\\\"\u003e\u003ch1\u003e\u003cdiv class=\\\"aui-group aui-group-split\\\"\u003e\u003cdiv class=\\\"aui-item project-title\\\"\u003e\u003ca href=\\\"\\/jira\\/projects\\/SOLR\\/summary\\\" title=\\\"Solr\\\"\u003eSolr\u003c\\/a\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/h1\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-main --\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-inner --\u003e\u003c\\/header\u003e\u003c!-- .aui-page-header --\u003e\u003cnav class=\\\"aui-navgroup aui-navgroup-vertical\\\"\u003e\u003cdiv class=\\\"aui-navgroup-inner sidebar-content-container\\\"\u003e\u003cdiv class=\\\"aui-sidebar-group aui-sidebar-group-tier-one\\\" data-id=\\\"sidebar-navigation-panel\\\"\u003e\u003cul class=\\\"aui-nav\\\"\u003e\u003cli class=\\\"aui-nav-selected\\\" \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/SOLR\\/issues\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-issue-navigator:sidebar-issue-navigator\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large icon-sidebar-issues\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Issues\\\"\u003eIssues\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003cli  \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/SOLR?selectedItem=com.atlassian.jira.jira-projects-plugin:report-page\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-plugin:report-page\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large agile-icon-report\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Reports\\\"\u003eReports\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003cli  \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/SOLR?selectedItem=com.atlassian.jira.jira-projects-plugin:components-page\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-plugin:components-page\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large icon-sidebar-components\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Components\\\"\u003eComponents\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003c\\/ul\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/nav\u003e\u003c\\/div\u003e\u003cdiv class=\\\"aui-sidebar-footer\\\"\u003e\u003ca class=\\\"aui-button aui-button-subtle aui-sidebar-toggle aui-sidebar-footer-tipsy\\\" data-tooltip=\\\"Expand sidebar ( [ )\\\" href=\\\"#\\\"\u003e\u003cspan class=\\\"aui-icon aui-icon-small\\\"\u003e\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/div\u003e\"";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:bigpipe-init/jira.webresources:bigpipe-init.js" data-wrm-key="jira.webresources:bigpipe-init" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <form id="jira_request_timing_info" class="dont-default-focus"> 
   <fieldset class="parameters hidden"> 
    <input type="hidden" title="jira.request.start.millis" value="1516223520023"> 
    <input type="hidden" title="jira.request.server.time" value="476"> 
    <input type="hidden" title="jira.request.id" value="1272x8421654x4"> 
    <input type="hidden" title="jira.session.expiry.time" value="-"> 
    <input type="hidden" title="jira.session.expiry.in.mins" value="-"> 
    <input id="jiraConcurrentRequests" type="hidden" name="jira.request.concurrent.requests" value="4"> 
    <input type="hidden" title="db.reads.time.in.ms" value="51"> 
    <input type="hidden" title="db.conns.time.in.ms" value="60"> 
   </fieldset> 
  </form> 
  <!--
	                 REQUEST ID : 1272x8421654x4
	          REQUEST TIMESTAMP : [17/Jan/2018:21:12:00 +0000]
	               REQUEST TIME : 0.4760
	                 ASESSIONID : -
	        CONCURRENT REQUESTS : 4

	                      db.reads : OpSnapshot{name='db.reads', invocationCount=22, elapsedTotal=51518755, elapsedMin=774761, elapsedMax=26589723, resultSetSize=0, cpuTotal=0, cpuMin=0, cpuMax=0}
	                      db.conns : OpSnapshot{name='db.conns', invocationCount=26, elapsedTotal=60875075, elapsedMin=816105, elapsedMax=26664332, resultSetSize=0, cpuTotal=0, cpuMin=0, cpuMax=0}
-->   
 </body>
</html>