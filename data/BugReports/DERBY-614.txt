<!doctype html>
<html lang="en">
 <head> 
  <meta charset="utf-8"> 
  <meta http-equiv="X-UA-Compatible" content="IE=Edge"> 
  <meta name="application-name" content="JIRA" data-name="jira" data-version="7.6.3">
  <meta name="ajs-viewissue-use-history-api" content="false"> 
  <meta name="ajs-jira-base-url" content="https://issues.apache.org/jira"> 
  <meta name="ajs-serverRenderedViewIssue" content="true"> 
  <meta name="ajs-dev-mode" content="false"> 
  <meta name="ajs-context-path" content="/jira"> 
  <meta name="ajs-version-number" content="7.6.3"> 
  <meta name="ajs-build-number" content="76005"> 
  <meta name="ajs-is-beta" content="false"> 
  <meta name="ajs-is-rc" content="false"> 
  <meta name="ajs-is-snapshot" content="false"> 
  <meta name="ajs-is-milestone" content="false"> 
  <meta name="ajs-remote-user" content=""> 
  <meta name="ajs-remote-user-fullname" content=""> 
  <meta name="ajs-user-locale" content="en_UK"> 
  <meta name="ajs-user-locale-group-separator" content=","> 
  <meta name="ajs-app-title" content="ASF JIRA"> 
  <meta name="ajs-keyboard-shortcuts-enabled" content="true"> 
  <meta name="ajs-keyboard-accesskey-modifier" content="Ctrl+Alt"> 
  <meta name="ajs-enabled-dark-features" content="[&quot;com.atlassian.jira.agile.darkfeature.editable.detailsview&quot;,&quot;nps.survey.inline.dialog&quot;,&quot;com.atlassian.jira.agile.darkfeature.edit.closed.sprint.enabled&quot;,&quot;jira.plugin.devstatus.phasetwo&quot;,&quot;jira.frother.reporter.field&quot;,&quot;atlassian.rest.xsrf.legacy.enabled&quot;,&quot;jira.issue.status.lozenge&quot;,&quot;com.atlassian.jira.config.BIG_PIPE&quot;,&quot;com.atlassian.jira.projects.issuenavigator&quot;,&quot;com.atlassian.jira.config.PDL&quot;,&quot;jira.plugin.devstatus.phasetwo.enabled&quot;,&quot;atlassian.aui.raphael.disabled&quot;,&quot;app-switcher.new&quot;,&quot;frother.assignee.field&quot;,&quot;com.atlassian.jira.projects.ProjectCentricNavigation.Switch&quot;,&quot;sd.internal.base.off.thread.on.completion.events.enabled&quot;,&quot;jira.onboarding.cyoa&quot;,&quot;com.atlassian.jira.agile.darkfeature.kanplan.enabled&quot;,&quot;sd.slavalue.record.updated.date.enabled&quot;,&quot;com.atlassian.jira.config.ProjectConfig.MENU&quot;,&quot;com.atlassian.jira.projects.sidebar.DEFER_RESOURCES&quot;,&quot;com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions.enabled&quot;,&quot;com.atlassian.jira.agile.darkfeature.sprint.goal.enabled&quot;,&quot;jira.zdu.admin-updates-ui&quot;,&quot;jira.zdu.jmx-monitoring&quot;,&quot;sd.sla.improved.rendering.enabled&quot;,&quot;sd.canned.responses.enabled&quot;,&quot;sd.new.settings.sidebar.location.disabled&quot;,&quot;jira.zdu.cluster-upgrade-state&quot;,&quot;com.atlassian.jira.agile.darkfeature.splitissue&quot;,&quot;com.atlassian.jira.config.CoreFeatures.LICENSE_ROLES_ENABLED&quot;,&quot;com.atlassian.feedback.feedback-button-move-to-header-enable&quot;,&quot;jira.export.csv.enabled&quot;]"> 
  <meta name="ajs-in-admin-mode" content="false"> 
  <meta name="ajs-is-sysadmin" content="false"> 
  <meta name="ajs-is-admin" content="false"> 
  <meta name="ajs-outgoing-mail-enabled" content="true"> 
  <meta name="ajs-date-relativize" content="true"> 
  <meta name="ajs-date-time" content="HH:mm"> 
  <meta name="ajs-date-day" content="EEEE HH:mm"> 
  <meta name="ajs-date-dmy" content="dd/MMM/yy"> 
  <meta name="ajs-date-complete" content="dd/MMM/yy HH:mm"> 
  <script type="text/javascript">var AJS=AJS||{};AJS.debug=true;</script> 
  <meta id="atlassian-token" name="atlassian-token" content="A5KQ-2QAV-T4JA-FDED|a62495603ba0444df5ecfbf73d611b9356a81142|lout"> 
  <link rel="shortcut icon" href="/jira/s/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/_/favicon.ico"> 
  <!--[if IE]><![endif]--> 
  <script type="text/javascript">
    (function() {
        var contextPath = '/jira';
        var eventBuffer = [];

        function printDeprecatedMsg() {
            if (console && console.warn) {
                console.warn('DEPRECATED JS - contextPath global variable has been deprecated since 7.4.0. Use `wrm/context-path` module instead.');
            }
        }

        function sendEvent(analytics, postfix) {
            analytics.send({
                name: 'js.globals.contextPath.' + postfix
            });
        }

        function sendDeprecatedEvent(postfix) {
            try {
                var analytics = require('jira/analytics');
                if (eventBuffer.length) {
                    eventBuffer.forEach(function(value) {
                        sendEvent(analytics, value);
                    });
                    eventBuffer = [];
                }

                if (postfix) {
                    sendEvent(analytics, postfix);
                }
            } catch(ex) {
                eventBuffer.push(postfix);
                setTimeout(sendDeprecatedEvent, 1000);
            }
        }

        Object.defineProperty(window, 'contextPath', {
            get: function() {
                printDeprecatedMsg();
                sendDeprecatedEvent('get');
                return contextPath;
            },
            set: function(value) {
                printDeprecatedMsg();
                sendDeprecatedEvent('set');
                contextPath = value;
            }
        });
    })();

</script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["com.atlassian.plugins.atlassian-plugins-webresource-plugin:context-path.context-path"]="\"/jira\"";
WRM._unparsedData["jira.webresources:feature-flags.feature-flag-data"]="{\"enabled-feature-keys\":[\"com.atlassian.jira.agile.darkfeature.editable.detailsview\",\"nps.survey.inline.dialog\",\"com.atlassian.jira.agile.darkfeature.edit.closed.sprint.enabled\",\"jira.plugin.devstatus.phasetwo\",\"jira.frother.reporter.field\",\"atlassian.rest.xsrf.legacy.enabled\",\"jira.issue.status.lozenge\",\"com.atlassian.jira.config.BIG_PIPE\",\"com.atlassian.jira.projects.issuenavigator\",\"com.atlassian.jira.config.PDL\",\"jira.plugin.devstatus.phasetwo.enabled\",\"atlassian.aui.raphael.disabled\",\"app-switcher.new\",\"frother.assignee.field\",\"com.atlassian.jira.projects.ProjectCentricNavigation.Switch\",\"sd.internal.base.off.thread.on.completion.events.enabled\",\"jira.onboarding.cyoa\",\"com.atlassian.jira.agile.darkfeature.kanplan.enabled\",\"sd.slavalue.record.updated.date.enabled\",\"com.atlassian.jira.config.ProjectConfig.MENU\",\"com.atlassian.jira.projects.sidebar.DEFER_RESOURCES\",\"com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions.enabled\",\"com.atlassian.jira.agile.darkfeature.sprint.goal.enabled\",\"jira.zdu.admin-updates-ui\",\"jira.zdu.jmx-monitoring\",\"sd.sla.improved.rendering.enabled\",\"sd.canned.responses.enabled\",\"sd.new.settings.sidebar.location.disabled\",\"jira.zdu.cluster-upgrade-state\",\"com.atlassian.jira.agile.darkfeature.splitissue\",\"com.atlassian.jira.config.CoreFeatures.LICENSE_ROLES_ENABLED\",\"com.atlassian.feedback.feedback-button-move-to-header-enable\",\"jira.export.csv.enabled\"],\"feature-flag-states\":{\"com.atlassian.jira.agile.darkfeature.kanplan\":false,\"sd.internal.base.off.thread.on.completion.events\":false,\"jira.instrumentation.laas\":false,\"com.atlassian.jira.agile.darkfeature.edit.closed.sprint\":false,\"com.atlassian.jira.issuetable.draggable\":true,\"jira.create.linked.issue\":true,\"com.atlassian.jira.agile.darkfeature.sprint.goal\":false,\"jira.sal.host.connect.accessor.existing.transaction.will.create.transactions\":true,\"jira.jql.suggestrecentfields\":false,\"com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions\":false,\"jira.jql.smartautoselectfirst\":false,\"com.atlassian.jira.agile.darkfeature.optimistic.transitions\":true,\"com.atlassian.jira.issuetable.move.links.hidden\":true,\"jira.priorities.per.project\":true,\"com.atlassian.jira.upgrade.startup.fix.index\":true,\"jira.renderer.consider.variable.format\":true}}";
WRM._unparsedData["jira.webresources:default-comment-security-level.DefaultCommentSecurityLevelHelpLink"]="{\"extraClasses\":\"default-comment-level-help\",\"title\":\"Commenting on an Issue\",\"url\":\"https://docs.atlassian.com/jira/jcore-docs-076/Editing+and+collaborating+on+issues#Editingandcollaboratingonissues-restrictacomment\",\"isLocal\":false}";
WRM._unparsedData["jira.webresources:dateFormatProvider.allFormats"]="{\"dateFormats\":{\"meridiem\":[\"AM\",\"PM\"],\"eras\":[\"BC\",\"AD\"],\"months\":[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],\"monthsShort\":[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],\"weekdaysShort\":[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"],\"weekdays\":[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"]},\"lookAndFeelFormats\":{\"relativize\":\"true\",\"time\":\"HH:mm\",\"day\":\"EEEE HH:mm\",\"dmy\":\"dd/MMM/yy\",\"complete\":\"dd/MMM/yy HH:mm\"}}";
WRM._unparsedData["com.atlassian.jira.jira-issue-nav-components:issueviewer.features"]="{\"rteEnabled\":true}";
WRM._unparsedData["com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone.thumbnail-mime-types"]="\"image/vnd.wap.wbmp,image/png,image/x-png,image/jpeg,image/bmp,image/gif\"";
WRM._unparsedData["com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone.upload-limit"]="\"62914560\"";
WRM._unparsedData["com.atlassian.plugins.helptips.jira-help-tips:help-tip-manager.JiraHelpTipData"]="{\"anonymous\":true}";
WRM._unparsedData["com.atlassian.jira.jira-view-issue-plugin:controller-subtasks.controller.subtasks.parameters"]="{\"url\":\"/rest/api/2/issue/{issueId}/subtask/move\"}";
WRM._unparsedData["com.atlassian.analytics.analytics-client:policy-update-init.policy-update-data-provider"]="false";
WRM._unparsedData["com.atlassian.analytics.analytics-client:programmatic-analytics-init.programmatic-analytics-data-provider"]="false";
WRM._unparsedData["jira.webresources:avatar-picker.data"]="{}";
WRM._unparsedData["com.atlassian.feedback.jira-feedback-plugin:button-resources-init.data"]="{\"jira.feedback.plugin.issue.collector.core\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"jira.feedback.plugin.issue.collector.default\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"jira.feedback.plugin.issue.collector.service.desk\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector.js?locale=en-UK&collectorId=a698db21\",\"jira.feedback.plugin.issue.collector.software\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"isHeaderFeedbackButtonEnabled\":true}";
WRM._unparsedData["com.atlassian.jira.jira-header-plugin:dismissedFlags.flags"]="{\"dismissed\":[]}";
WRM._unparsedData["com.atlassian.jira.jira-header-plugin:newsletter-signup-tip-init.newsletterSignup"]="{\"signupDescription\":\"Get updates, inspiration and best practices from the team behind JIRA.\",\"formUrl\":\"https://www.atlassian.com/apis/exact-target/{0}/subscribe?mailingListId=1401671\",\"signupTitle\":\"Sign up!\",\"signupId\":\"newsletter-signup-tip\",\"showNewsletterTip\":false}";
WRM._unparsedData["com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources.ptAnalyticsData"]="{\"instanceCreatedDate\":\"2011-01-31\"}";
WRM._unparsedData["com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources.help-data"]="{\"showHelp\":true,\"editorDocumentationUrl\":[\"https://docs.atlassian.com/jira/jcore-docs-076/Visual+editing\"],\"editorDocumentationTitle\":[\"Show me documentation for the visual editor\"]}";
WRM._unparsedData["com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources.thumbnails-allowed"]="false";
WRM._unparsedData["jira.webresources:user-message-flags.adminLockout"]="{}";
WRM._unparsedData["jira.request.correlation-id"]="\"71300ed722bc1\"";
WRM._unparsedData["project-id"]="10594";
WRM._unparsedData["project-key"]="\"DERBY\"";
WRM._unparsedData["project-name"]="\"Derby\"";
WRM._unparsedData["project-type"]="\"software\"";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:generic-filters"]="[{\"id\":\"allissues\",\"jql\":\"project = \\\"{0}\\\" ORDER BY {1}\",\"defaultOrderby\":\"created DESC\",\"label\":\"All issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[]},{\"id\":\"allopenissues\",\"jql\":\"project = \\\"{0}\\\" AND resolution = Unresolved ORDER BY {1}\",\"defaultOrderby\":\"priority DESC, updated DESC\",\"label\":\"Open issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"resolution\"]},{\"id\":\"doneissues\",\"jql\":\"project = \\\"{0}\\\" AND statusCategory = Done ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Done issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":false,\"fields\":[\"status\"]},{\"id\":\"recentlyviewed\",\"jql\":\"project = \\\"{0}\\\" AND issuekey in issueHistory() ORDER BY {1}\",\"defaultOrderby\":\"lastViewed DESC\",\"label\":\"Viewed recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"issuekey\"]},{\"id\":\"addedrecently\",\"jql\":\"project = \\\"{0}\\\" AND created \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"created DESC\",\"label\":\"Created recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"created\"]},{\"id\":\"resolvedrecently\",\"jql\":\"project = \\\"{0}\\\" AND resolutiondate \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Resolved recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":false,\"fields\":[\"resolutiondate\"]},{\"id\":\"updatedrecently\",\"jql\":\"project = \\\"{0}\\\" AND updated \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Updated recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"updated\"]}]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:default-filter-priority"]="[\"allopenissues\",\"allissues\"]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:can-manage-filters"]="false";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:project-filters"]="[]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:can-create-issues"]="false";
WRM._unparsedData["projectId"]="10594";
WRM._unparsedData["projectKey"]="\"DERBY\"";
WRM._unparsedData["projectType"]="\"software\"";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:server-rendered"]="true";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/a8a4711bc3f2eb261d8c8fd9fbcbba8b-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1fca1750044f2777c977e8d8cc023344/_/download/contextbatch/css/_super/batch.css" data-wrm-key="_super" data-wrm-batch-type="context" media="all"> 
  <link type="text/css" rel="stylesheet" href="/jira/s/74ac580603ca910fff0cfdf319e54add-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/fbf45109b31165e5b7740a9d72318cea/_/download/contextbatch/css/project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super/batch.css?agile_global_admin_condition=true&amp;hc-enabled=true&amp;is-server-instance=true&amp;jag=true&amp;jira.create.linked.issue=true&amp;nps-acknowledged=true&amp;richediton=true" data-wrm-key="project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super" data-wrm-batch-type="context" media="all"> 
  <link type="text/css" rel="stylesheet" href="/jira/s/611672383f6cab00ab202241ba6f9d68-T/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/7.6.3/_/download/batch/com.atlassian.feedback.jira-feedback-plugin:button-resources-init/com.atlassian.feedback.jira-feedback-plugin:button-resources-init.css" data-wrm-key="com.atlassian.feedback.jira-feedback-plugin:button-resources-init" data-wrm-batch-type="resource" media="all"> 
  <script type="text/javascript" src="/jira/s/98ceb006e504d7924d5ffc411626c6bc-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1fca1750044f2777c977e8d8cc023344/_/download/contextbatch/js/_super/batch.js?locale=en-UK" data-wrm-key="_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/c1e4d26ea276469807c3dc0918df482c-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/fbf45109b31165e5b7740a9d72318cea/_/download/contextbatch/js/project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super/batch.js?agile_global_admin_condition=true&amp;hc-enabled=true&amp;is-server-instance=true&amp;jag=true&amp;jira.create.linked.issue=true&amp;locale=en-UK&amp;nps-acknowledged=true&amp;richediton=true" data-wrm-key="project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/6bf9253c8d533109c3b02e26794be24e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/871d45c9f322a22cb3aa9b7948a69803/_/download/contextbatch/js/atl.global,-_super/batch.js?locale=en-UK" data-wrm-key="atl.global,-_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:calendar-en/jira.webresources:calendar-en.js" data-wrm-key="jira.webresources:calendar-en" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:calendar-localisation-moment/jira.webresources:calendar-localisation-moment.js" data-wrm-key="jira.webresources:calendar-localisation-moment" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/7.6.3/_/download/batch/com.atlassian.feedback.jira-feedback-plugin:button-resources/com.atlassian.feedback.jira-feedback-plugin:button-resources.js" data-wrm-key="com.atlassian.feedback.jira-feedback-plugin:button-resources" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/ccd2e67b523185973473e8bd5735c8f9-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/e0de73613a1027de08f3da6a45e1d1a2/_/download/contextbatch/css/jira.global.look-and-feel,-_super/batch.css" data-wrm-key="jira.global.look-and-feel,-_super" data-wrm-batch-type="context" media="all"> 
  <script type="text/javascript" src="/jira/rest/api/1.0/shortcuts/76005/33e5e0166867c8c9228d44506f60b2e8/shortcuts.js?context=issuenavigation&amp;context=issueaction"></script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["com.atlassian.jira.jira-issue-nav-components:inline-edit-enabled"]="true";
WRM._unparsedData["should-display-chaperone"]="false";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/15712b600e9aecf72ffd9fd3704a0c78-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/6b22a15c7b83f87a47b1757076f43542/_/download/contextbatch/css/com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue/batch.css?jira.create.linked.issue=true&amp;richediton=true" data-wrm-key="com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue" data-wrm-batch-type="context" media="all"> 
  <script type="text/javascript" src="/jira/s/6579b6b8ba67abaa496e39b9242a18a4-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/6b22a15c7b83f87a47b1757076f43542/_/download/contextbatch/js/com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue/batch.js?jira.create.linked.issue=true&amp;locale=en-UK&amp;richediton=true" data-wrm-key="com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue" data-wrm-batch-type="context" data-initially-rendered></script> 
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge"> 
  <meta name="ajs-can-search-users" content="false"> 
  <meta name="ajs-can-edit-watchers" content="false"> 
  <meta name="ajs-default-avatar-url" content="https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10453"> 
  <meta name="ajs-issue-project-type" content="software"> 
  <meta name="ajs-issue-key" content="DERBY-614"> 
  <meta name="ajs-server-view-issue-is-editable" content="false"> 
  <title>[DERBY-614] Execution failed because of a Distributed Protocol Error - ASF JIRA</title> 
  <link rel="search" type="application/opensearchdescription+xml" href="/jira/osd.jsp" title="[DERBY-614] Execution failed because of a Distributed Protocol Error - ASF JIRA"> 
 </head> 
 <body id="jira" class="aui-layout aui-theme-default " data-version="7.6.3"> 
  <div id="page"> 
   <header id="header" role="banner"> 
    <script>
require(["jquery", "jira/license-banner"], function ($, licenseBanner) {
    $(function () {
        licenseBanner.showLicenseBanner("");
        licenseBanner.showLicenseFlag("");
    });
});
</script> 
    <nav class="aui-header aui-dropdown2-trigger-group" role="navigation">
     <div class="aui-header-inner">
      <div class="aui-header-before">
       <a class=" aui-dropdown2-trigger app-switcher-trigger" aria-controls="app-switcher" aria-haspopup="true" role="button" tabindex="0" data-aui-trigger href="#app-switcher"><span class="aui-icon aui-icon-small aui-iconfont-appswitcher">Linked Applications</span></a>
       <div id="app-switcher" class="aui-dropdown2 aui-style-default" role="menu" aria-hidden="true" data-is-switcher="true" data-environment="{&quot;isUserAdmin&quot;:false,&quot;isAppSuggestionAvailable&quot;:false,&quot;isSiteAdminUser&quot;:false}">
        <div role="application">
         <div class="app-switcher-loading">
          Loadingâ€¦
         </div>
        </div>
       </div>
      </div>
      <div class="aui-header-primary">
       <h1 id="logo" class="aui-header-logo aui-header-logo-custom"><a href="https://issues.apache.org/jira/secure/MyJiraHome.jspa"><img src="/jira/s/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/_/jira-logo-scaled.png" alt="ASF JIRA"></a></h1>
       <ul class="aui-nav">
        <li><a href="/jira/secure/Dashboard.jspa" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="home_link" aria-haspopup="true" aria-controls="home_link-content" title="View and manage your dashboards" accesskey="d">Dashboards</a>
         <div class="aui-dropdown2 aui-style-default" id="home_link-content" data-aui-dropdown2-ajax-key="home_link"></div></li>
        <li><a href="/jira/browse/DERBY" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="browse_link" aria-haspopup="true" aria-controls="browse_link-content" title="View recent projects and browse a list of projects" accesskey="p">Projects</a>
         <div class="aui-dropdown2 aui-style-default" id="browse_link-content" data-aui-dropdown2-ajax-key="browse_link"></div></li>
        <li><a href="/jira/issues/" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="find_link" aria-haspopup="true" aria-controls="find_link-content" title="Search for issues and view recent issues" accesskey="i">Issues</a>
         <div class="aui-dropdown2 aui-style-default" id="find_link-content" data-aui-dropdown2-ajax-key="find_link"></div></li> 
       </ul>
      </div>
      <div class="aui-header-secondary">
       <ul class="aui-nav">
        <li id="quicksearch-menu"> 
         <form action="/jira/secure/QuickSearch.jspa" method="get" id="quicksearch" class="aui-quicksearch dont-default-focus ajs-dirty-warning-exempt"> 
          <input id="quickSearchInput" class="search" type="text" title="Search" placeholder="Search" name="searchString" accessKey="q"> 
          <input type="submit" class="hidden" value="Search"> 
         </form> </li> 
        <li><a class="jira-feedback-plugin" role="button" aria-haspopup="true" id="jira-header-feedback-link" href="#"><span class="aui-icon aui-icon-small jira-feedback-plugin-icon">Give feedback to Atlassian</span></a></li> 
        <li id="system-help-menu"> <a class="aui-nav-link aui-dropdown2-trigger" id="help_menu" aria-haspopup="true" aria-owns="system-help-menu-content" href="https://docs.atlassian.com/jira/jcore-docs-076/" target="$textUtils.htmlEncode($rootHelpMenuItem.params.target)" title="Help"><span class="aui-icon aui-icon-small aui-iconfont-help">Help</span></a> 
         <div id="system-help-menu-content" class="aui-dropdown2 aui-style-default"> 
          <div class="aui-dropdown2-section"> 
           <ul id="jira-help" class="aui-list-truncate"> 
            <li> <a id="view_core_help" class="aui-nav-link " title="Go to the online documentation for JIRA Core" href="https://docs.atlassian.com/jira/jcore-docs-076/" target="_blank">JIRA Core help</a> </li> 
            <li> <a id="keyshortscuthelp" class="aui-nav-link " title="Get more information about JIRA's Keyboard Shortcuts" href="/jira/secure/ViewKeyboardShortcuts!default.jspa" target="_blank">Keyboard Shortcuts</a> </li> 
            <li> <a id="view_about" class="aui-nav-link " title="Get more information about JIRA" href="/jira/secure/AboutPage.jspa">About JIRA</a> </li> 
            <li> <a id="view_credits" class="aui-nav-link " title="See who did what" href="/jira/secure/JiraCreditsPage!default.jspa" target="_blank">JIRA Credits</a> </li> 
           </ul> 
          </div> 
         </div> </li> 
        <li id="user-options"> <a class="aui-nav-link login-link" href="/jira/login.jsp?os_destination=%2Fbrowse%2FDERBY-614">Log In</a> 
         <div id="user-options-content" class="aui-dropdown2 aui-style-default"> 
          <div class="aui-dropdown2-section"> 
          </div> 
         </div> </li> 
       </ul>
      </div>
     </div>
     <!-- .aui-header-inner-->
    </nav>
    <!-- .aui-header --> 
   </header> 
   <section id="content" role="main"> 
    <big-pipe data-id="sidebar-id" unresolved></big-pipe>
    <div class="aui-sidebar  sidebar-placeholder">
     <div class="aui-sidebar-wrapper">
      <div class="aui-sidebar-body"></div>
      <div class="aui-sidebar-footer">
       <a class="aui-button aui-button-subtle aui-sidebar-toggle aui-sidebar-footer-tipsy" data-tooltip="Expand sidebar ( [ )" href="#"><span class="aui-icon aui-icon-small"></span></a>
      </div>
     </div>
    </div>
    <script id="projects-sidebar-init">
    require(['jira/projects/sidebar/expansion-manager'], function(expansionManager) {
        var scriptTag = document.getElementById('projects-sidebar-init');
        var sidebar = AJS.sidebar('.aui-sidebar');
        expansionManager(sidebar);
        scriptTag.parentElement.removeChild(scriptTag);
    });
    </script>
    <div class="aui-page-panel">
     <div class="aui-page-panel-inner">
      <div class="issue-navigator">
       <div class="content">
        <div class="issue-view">
         <div class="navigation-tools">
          <div class="pager-container"></div>
         </div>
         <div class="issue-container">
          <div id="issue-content" class="issue-edit-form">
           <header id="stalker" class="issue-header js-stalker">
            <div class="issue-header-content">
             <header class="aui-page-header">
              <div class="aui-page-header-inner">
               <div class="aui-page-header-image">
                <span id="10594" class="aui-avatar aui-avatar-large aui-avatar-project"><span class="aui-avatar-inner"><img id="project-avatar" alt="Uploaded image for project: 'Derby'" src="https://issues.apache.org/jira/secure/projectavatar?pid=10594&amp;avatarId=10122"></span></span>
               </div>
               <!-- .aui-page-header-image -->
               <div class="aui-page-header-main">
                <ol class="aui-nav aui-nav-breadcrumbs">
                 <li><a id="project-name-val" href="/jira/browse/DERBY">Derby</a></li>
                 <li><a class="issue-link" data-issue-key="DERBY-614" href="/jira/browse/DERBY-614" id="key-val" rel="12317791">DERBY-614</a></li>
                </ol>
                <h1 id="summary-val">Execution failed because of a Distributed Protocol Error</h1>
               </div>
               <!-- .aui-page-header-main -->
               <div class="aui-page-header-actions">
                <div id="issue-header-pager"></div>
               </div>
               <!-- .aui-page-header-actions -->
              </div>
              <!-- .aui-page-header-inner -->
             </header>
             <!-- .aui-page-header -->
             <div class="command-bar">
              <div class="ops-cont">
               <div class="ops-menus aui-toolbar">
                <div class="toolbar-split toolbar-split-left">
                 <ul id="opsbar-ops-login-lnk_container" class="toolbar-group pluggable-ops">
                  <li class="toolbar-item"><a id="ops-login-lnk" title="Log In" class="toolbar-trigger" href="/jira/login.jsp?os_destination=%2Fbrowse%2FDERBY-614"><span class="trigger-label">Log In</span></a></li>
                 </ul>
                 <ul id="opsbar-opsbar-operations" class="toolbar-group pluggable-ops"></ul>
                 <ul id="opsbar-opsbar-transitions" class="toolbar-group pluggable-ops"></ul>
                 <ul id="opsbar-opsbar-admin" class="toolbar-group pluggable-ops"></ul>
                </div>
                <div class="toolbar-split toolbar-split-right">
                 <ul id="opsbar-jira.issue.tools" class="toolbar-group pluggable-ops">
                  <li class="toolbar-item">
                   <div>
                    <a href="#" id="viewissue-export" aria-owns="viewissue-export_drop" aria-haspopup="true" title="Export this issue in another format" class="toolbar-trigger aui-button aui-style-default aui-dropdown2-trigger"><span class="icon icon-default aui-icon aui-icon-small aui-iconfont-export"></span> <span class="dropdown-text">Export</span></a>
                    <div id="viewissue-export_drop" class="aui-style-default aui-dropdown2">
                     <ul>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-xml/DERBY-614/DERBY-614.xml" id="jira.issueviews:issue-xml"><span class="trigger-label">XML</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-word/DERBY-614/DERBY-614.doc" id="jira.issueviews:issue-word"><span class="trigger-label">Word</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-html/DERBY-614/DERBY-614.html" id="jira.issueviews:issue-html"><span class="trigger-label">Printable</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/com.atlassian.jira.plugins.jira-importers-plugin:issue-json/DERBY-614/DERBY-614.json" id="com.atlassian.jira.plugins.jira-importers-plugin:issue-json"><span class="trigger-label">JSON</span></a></li>
                     </ul>
                    </div>
                   </div></li>
                 </ul>
                </div>
               </div>
              </div>
             </div>
            </div>
           </header>
           <div class="issue-body-content">
            <div class="aui-group issue-body">
             <div class="aui-item issue-main-column">
              <div id="details-module" class="module toggle-wrap">
               <div id="details-module_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Details</h2>
               </div>
               <div class="mod-content"> 
                <ul id="issuedetails" class="property-list two-cols"> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Type:</strong> 
                   <span id="type-val" class="value"> <img alt="" height="16" src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype" title="Bug - A problem which impairs or prevents the functions of the product." width="16"> Bug </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Status:</strong> 
                   <span id="status-val" class="value"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done jira-issue-status-lozenge-max-width-medium" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </span> 
                  </div> </li> 
                 <li class="item new"> 
                  <div class="wrap"> 
                   <strong class="name">Priority:</strong> 
                   <span id="priority-val" class="value"> <img alt="" height="16" src="/jira/images/icons/priorities/major.svg" title="Major - Major loss of function." width="16"> Major </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Resolution:</strong> 
                   <span id="resolution-val" class="value resolved"> Fixed </span> 
                  </div> </li> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Affects Version/s:</strong> 
                   <span id="versions-val" class="value"> <span class="shorten" id="versions-field"> <span title="10.1.1.0 ">10.1.1.0</span> </span> </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Fix Version/s:</strong> 
                   <span id="fixfor-val" class="value"> <span class="shorten" id="fixVersions-field"> <a href="/jira/issues/?jql=project+%3D+DERBY+AND+fixVersion+%3D+10.1.3.1" title="10.1.3.1 ">10.1.3.1</a>, <a href="/jira/issues/?jql=project+%3D+DERBY+AND+fixVersion+%3D+10.2.1.6" title="10.2.1.6 ">10.2.1.6</a> </span> </span> 
                  </div> </li> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Component/s:</strong> 
                   <span id="components-val" class="value"> <span class="shorten" id="components-field"> <a href="/jira/issues/?jql=project+%3D+DERBY+AND+component+%3D+%22Network+Server%22" title="Network Server ">Network Server</a> </span> </span> 
                  </div> </li> 
                 <li class="item full-width"> 
                  <div class="wrap" id="wrap-labels"> 
                   <strong class="name">Labels:</strong> 
                   <div class="labels-wrap value"> 
                    <span class="labels" id="labels-12317791-value">None</span> 
                   </div> 
                  </div> </li> 
                 <li class="item full-width"> 
                  <div class="wrap"> 
                   <strong class="name">Environment:</strong> 
                   <div id="environment-val" class="value">
                     Linux 2.4, Sun JDK 1.4.2_07, full SYSINFO will be attached. 
                   </div> 
                  </div> </li> 
                </ul> 
               </div>
              </div>
              <div id="descriptionmodule" class="module toggle-wrap">
               <div id="descriptionmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Description</h2>
               </div>
               <div class="mod-content">
                <div id="description-val" class="field-ignore-highlight"> 
                 <div class="user-content-block"> 
                  <p>I am intermittently receiving Distributed Protocol Error exceptions in my client code. Simultaneously,<br> my derby.log is recording Distributed Protocol Error exceptions on the server side.</p> 
                  <p>I cannot reliably reproduce this problem. </p> 
                  <p>However, the problem always occurs in the same section of my application, so I can at least<br> describe that section of my application. (I'll do so in an attachment).</p> 
                  <p>Here is the error I receive on the server side. Sometimes, the CODPNT is 2116 and the<br> Error Code Value is 1d, rather than 2114 and e.</p> 
                  <p>2005-10-05 02:10:23.663 GMT Thread<span class="error">[DRDAConnThread_2,5,main]</span> (DATABASE = BuildFar<br> m), (DRDAID = GA0A0026.P7E6-4182154075488704215</p> {136532}), Execution failed becau
                  <br> se of a Distributed Protocol Error: DRDA_Proto_SYNTAXRM; CODPNT arg = 2114; Er
                  <br> ror Code Value = e
                  <br> Execution failed because of a Distributed Protocol Error: DRDA_Proto_SYNTAXRM;
                  <br> CODPNT arg = 2114; Error Code Value = e
                  <br> 2005-10-05 02:10:23.663 GMT Thread
                  <span class="error">[DRDAConnThread_2,5,main]</span> (DATABASE = BuildFar
                  <br> m), (DRDAID = GA0A0026.P7E6-4182154075488704215{136532} 
                  <p>), null<br> null<br> org.apache.derby.impl.drda.DRDAProtocolException<br> at org.apache.derby.impl.drda.DRDAConnThread.throwSyntaxrm(Unknown Sourc<br> e)<br> at org.apache.derby.impl.drda.DRDAConnThread.missingCodePoint(Unknown So<br> urce)<br> at org.apache.derby.impl.drda.DRDAConnThread.parseCNTQRY(Unknown Source)<br> at org.apache.derby.impl.drda.DRDAConnThread.splitQRYDTA(Unknown Source)<br> at org.apache.derby.impl.drda.DRDAConnThread.writeFDODTA(Unknown Source)<br> at org.apache.derby.impl.drda.DRDAConnThread.writeQRYDTA(Unknown Source)<br> at org.apache.derby.impl.drda.DRDAConnThread.processCommands(Unknown Sou<br> rce)<br> at org.apache.derby.impl.drda.DRDAConnThread.run(Unknown Source)</p> 
                 </div> 
                </div> 
               </div>
              </div>
              <div id="dnd-metadata" class="module toggle-wrap">
               <div id="dnd-metadata_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Attachments</h2>
               </div>
               <div class="mod-content">
                <div id="dnd-metadata-webpanel" data-can-attach="false" data-project-type="software" data-upload-limit="62914560" data-thumbnails-allowed="false"></div>
               </div>
              </div>
              <div id="attachmentmodule" class="module toggle-wrap">
               <div id="attachmentmodule_heading" class="mod-header">
                <ul class="ops">
                 <li class="drop">
                  <div class="aui-dd-parent">
                   <a href="#" class="icon drop-menu js-default-dropdown" title="Options"><span>Options</span></a>
                   <div class="aui-dropdown-content aui-list">
                    <ul id="attachment-sorting-options" class="aui-list-section aui-first">
                     <li class="aui-list-item"><a id="attachment-sort-key-name" href="/jira/browse/DERBY-614?attachmentSortBy=fileName#attachmentmodule" class="aui-list-checked aui-checked aui-list-item-link" title="viewissue.subtasks.tab.show.all.name"><span>Sort By Name</span></a></li>
                     <li class="aui-list-item"><a id="attachment-sort-key-date" href="/jira/browse/DERBY-614?attachmentSortBy=dateTime#attachmentmodule" class="aui-list-checked aui-list-item-link" title="Sort By Date"><span>Sort By Date</span></a></li>
                    </ul>
                    <ul id="attachment-sorting-order-options" class="aui-list-section aui-last">
                     <li class="aui-list-item"><a id="attachment-sort-direction-asc" href="/jira/browse/DERBY-614?attachmentOrder=asc#attachmentmodule" class="aui-list-checked aui-checked aui-list-item-link" title="Ascending"><span>Ascending</span></a></li>
                     <li class="aui-list-item"><a id="attachment-sort-direction-desc" href="/jira/browse/DERBY-614?attachmentOrder=desc#attachmentmodule" class="aui-list-checked aui-list-item-link" title="Descending"><span>Descending</span></a></li>
                    </ul>
                   </div>
                  </div></li>
                </ul>
                <h2 class="toggle-title">Attachments</h2>
               </div>
               <div class="mod-content">
                <ol id="file_attachments" class="item-attachments" data-sort-key="fileName" data-sort-order="asc">
                 <li class="attachment-content js-file-attachment" data-attachment-id="12314882" data-issue-id="12317791" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12314882/clientSideTrace.txt" draggable="true" data-downloadurl="text/plain:clientSideTrace.txt:https://issues.apache.org/jira/secure/attachment/12314882/clientSideTrace.txt"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12314882/clientSideTrace.txt" title="Latest  15/Oct/05 00:03 - Bryan Pendleton" draggable="true" data-downloadurl="text/plain:clientSideTrace.txt:https://issues.apache.org/jira/secure/attachment/12314882/clientSideTrace.txt">clientSideTrace.txt</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2005-10-15T00:03:59.000Z">15/Oct/05 00:03</time>
                   </dd>
                   <dd class="attachment-size">
                    951 kB
                   </dd>
                   <dd class="attachment-author">
                    Bryan Pendleton
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12314801" data-issue-id="12317791" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12314801/clientStack.txt" draggable="true" data-downloadurl="text/plain:clientStack.txt:https://issues.apache.org/jira/secure/attachment/12314801/clientStack.txt"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12314801/clientStack.txt" title="Latest  11/Oct/05 06:52 - Bryan Pendleton" draggable="true" data-downloadurl="text/plain:clientStack.txt:https://issues.apache.org/jira/secure/attachment/12314801/clientStack.txt">clientStack.txt</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2005-10-11T06:52:54.000Z">11/Oct/05 06:52</time>
                   </dd>
                   <dd class="attachment-size">
                    1 kB
                   </dd>
                   <dd class="attachment-author">
                    Bryan Pendleton
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12323101" data-issue-id="12317791" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12323101/d614_a_with_close_stmts.diff" draggable="true" data-downloadurl="application/octet-stream:d614_a_with_close_stmts.diff:https://issues.apache.org/jira/secure/attachment/12323101/d614_a_with_close_stmts.diff"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12323101/d614_a_with_close_stmts.diff" title="Latest  17/Feb/06 14:27 - Bryan Pendleton" draggable="true" data-downloadurl="application/octet-stream:d614_a_with_close_stmts.diff:https://issues.apache.org/jira/secure/attachment/12323101/d614_a_with_close_stmts.diff">d614_a_with_close_stmts.diff</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2006-02-17T14:27:59.000Z">17/Feb/06 14:27</time>
                   </dd>
                   <dd class="attachment-size">
                    3 kB
                   </dd>
                   <dd class="attachment-author">
                    Bryan Pendleton
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12323065" data-issue-id="12317791" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12323065/d614_a.diff" draggable="true" data-downloadurl="application/octet-stream:d614_a.diff:https://issues.apache.org/jira/secure/attachment/12323065/d614_a.diff"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12323065/d614_a.diff" title="Latest  17/Feb/06 03:35 - Bryan Pendleton" draggable="true" data-downloadurl="application/octet-stream:d614_a.diff:https://issues.apache.org/jira/secure/attachment/12323065/d614_a.diff">d614_a.diff</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2006-02-17T03:35:01.000Z">17/Feb/06 03:35</time>
                   </dd>
                   <dd class="attachment-size">
                    3 kB
                   </dd>
                   <dd class="attachment-author">
                    Bryan Pendleton
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12325277" data-issue-id="12317791" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12325277/derby614_10_1.diff" draggable="true" data-downloadurl="text/x-patch:derby614_10_1.diff:https://issues.apache.org/jira/secure/attachment/12325277/derby614_10_1.diff"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12325277/derby614_10_1.diff" title="Latest  13/Apr/06 09:23 - Kathey Marsden" draggable="true" data-downloadurl="text/x-patch:derby614_10_1.diff:https://issues.apache.org/jira/secure/attachment/12325277/derby614_10_1.diff">derby614_10_1.diff</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2006-04-13T09:23:04.000Z">13/Apr/06 09:23</time>
                   </dd>
                   <dd class="attachment-size">
                    40 kB
                   </dd>
                   <dd class="attachment-author">
                    Kathey Marsden
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12315041" data-issue-id="12317791" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12315041/derby-614.zip" draggable="true" data-downloadurl="application/zip:derby-614.zip:https://issues.apache.org/jira/secure/attachment/12315041/derby-614.zip"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-zip" title="Zip Archive"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12315041/derby-614.zip" title="Latest  22/Oct/05 06:34 - Bryan Pendleton" draggable="true" data-downloadurl="application/zip:derby-614.zip:https://issues.apache.org/jira/secure/attachment/12315041/derby-614.zip">derby-614.zip</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2005-10-22T06:34:24.000Z">22/Oct/05 06:34</time>
                   </dd>
                   <dd class="attachment-size">
                    37 kB
                   </dd>
                   <dd class="attachment-author">
                    Bryan Pendleton
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12321115" data-issue-id="12317791" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12321115/derbynetclientmats_report.txt" draggable="true" data-downloadurl="text/plain:derbynetclientmats_report.txt:https://issues.apache.org/jira/secure/attachment/12321115/derbynetclientmats_report.txt"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12321115/derbynetclientmats_report.txt" title="Latest  05/Dec/05 02:38 - Bryan Pendleton" draggable="true" data-downloadurl="text/plain:derbynetclientmats_report.txt:https://issues.apache.org/jira/secure/attachment/12321115/derbynetclientmats_report.txt">derbynetclientmats_report.txt</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2005-12-05T02:38:59.000Z">05/Dec/05 02:38</time>
                   </dd>
                   <dd class="attachment-size">
                    14 kB
                   </dd>
                   <dd class="attachment-author">
                    Bryan Pendleton
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12314802" data-issue-id="12317791" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12314802/query.txt" draggable="true" data-downloadurl="text/plain:query.txt:https://issues.apache.org/jira/secure/attachment/12314802/query.txt"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12314802/query.txt" title="Latest  11/Oct/05 06:58 - Bryan Pendleton" draggable="true" data-downloadurl="text/plain:query.txt:https://issues.apache.org/jira/secure/attachment/12314802/query.txt">query.txt</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2005-10-11T06:58:32.000Z">11/Oct/05 06:58</time>
                   </dd>
                   <dd class="attachment-size">
                    1 kB
                   </dd>
                   <dd class="attachment-author">
                    Bryan Pendleton
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12314883" data-issue-id="12317791" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12314883/serverSideTrace.txt" draggable="true" data-downloadurl="text/plain:serverSideTrace.txt:https://issues.apache.org/jira/secure/attachment/12314883/serverSideTrace.txt"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12314883/serverSideTrace.txt" title="Latest  15/Oct/05 00:05 - Bryan Pendleton" draggable="true" data-downloadurl="text/plain:serverSideTrace.txt:https://issues.apache.org/jira/secure/attachment/12314883/serverSideTrace.txt">serverSideTrace.txt</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2005-10-15T00:05:13.000Z">15/Oct/05 00:05</time>
                   </dd>
                   <dd class="attachment-size">
                    526 kB
                   </dd>
                   <dd class="attachment-author">
                    Bryan Pendleton
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12320887" data-issue-id="12317791" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12320887/spec.html" draggable="true" data-downloadurl="text/html:spec.html:https://issues.apache.org/jira/secure/attachment/12320887/spec.html"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-code" title="HTML File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12320887/spec.html" title="Latest  23/Nov/05 09:29 - Bryan Pendleton" draggable="true" data-downloadurl="text/html:spec.html:https://issues.apache.org/jira/secure/attachment/12320887/spec.html">spec.html</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2005-11-23T09:29:26.000Z">23/Nov/05 09:29</time>
                   </dd>
                   <dd class="attachment-size">
                    13 kB
                   </dd>
                   <dd class="attachment-author">
                    Bryan Pendleton
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12321116" data-issue-id="12317791" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12321116/svn-diff-2005-12-04.txt" draggable="true" data-downloadurl="text/plain:svn-diff-2005-12-04.txt:https://issues.apache.org/jira/secure/attachment/12321116/svn-diff-2005-12-04.txt"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12321116/svn-diff-2005-12-04.txt" title="Latest  05/Dec/05 10:42 - Bryan Pendleton" draggable="true" data-downloadurl="text/plain:svn-diff-2005-12-04.txt:https://issues.apache.org/jira/secure/attachment/12321116/svn-diff-2005-12-04.txt">svn-diff-2005-12-04.txt</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2005-12-05T10:42:58.000Z">05/Dec/05 10:42</time>
                   </dd>
                   <dd class="attachment-size">
                    38 kB
                   </dd>
                   <dd class="attachment-author">
                    Bryan Pendleton
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12321117" data-issue-id="12317791" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12321117/svn-status-2005-12-04.txt" draggable="true" data-downloadurl="text/plain:svn-status-2005-12-04.txt:https://issues.apache.org/jira/secure/attachment/12321117/svn-status-2005-12-04.txt"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12321117/svn-status-2005-12-04.txt" title="Latest  05/Dec/05 10:42 - Bryan Pendleton" draggable="true" data-downloadurl="text/plain:svn-status-2005-12-04.txt:https://issues.apache.org/jira/secure/attachment/12321117/svn-status-2005-12-04.txt">svn-status-2005-12-04.txt</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2005-12-05T10:42:58.000Z">05/Dec/05 10:42</time>
                   </dd>
                   <dd class="attachment-size">
                    0.9 kB
                   </dd>
                   <dd class="attachment-author">
                    Bryan Pendleton
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12314800" data-issue-id="12317791" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12314800/sysinfo.derby" draggable="true" data-downloadurl="application/octet-stream:sysinfo.derby:https://issues.apache.org/jira/secure/attachment/12314800/sysinfo.derby"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12314800/sysinfo.derby" title="Latest  11/Oct/05 06:49 - Bryan Pendleton" draggable="true" data-downloadurl="application/octet-stream:sysinfo.derby:https://issues.apache.org/jira/secure/attachment/12314800/sysinfo.derby">sysinfo.derby</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2005-10-11T06:49:55.000Z">11/Oct/05 06:49</time>
                   </dd>
                   <dd class="attachment-size">
                    2 kB
                   </dd>
                   <dd class="attachment-author">
                    Bryan Pendleton
                   </dd>
                  </dl></li>
                </ol>
               </div>
              </div>
              <div id="linkingmodule" class="module toggle-wrap">
               <div id="linkingmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Issue Links</h2>
               </div>
               <div class="mod-content"> 
                <div class="links-container" data-default-link-icon="/jira/images/icons/generic_link_16.png"> 
                 <dl class="links-list "> 
                  <dt title="is related to">
                   is related to
                  </dt> 
                  <dd id="internal-12500753_10030"> 
                   <div class="link-content"> 
                    <p> <img src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype" width="16" height="16" title="Bug - A problem which impairs or prevents the functions of the product." alt="Bug - A problem which impairs or prevents the functions of the product."> <span title="DERBY-5099: PrepareStatementTest depends on ordering of test cases"> <a href="/jira/browse/DERBY-5099" data-issue-key="DERBY-5099" class="issue-link link-title resolution">DERBY-5099</a> <span class="link-summary">PrepareStatementTest depends on ordering of test cases</span> </span> </p> 
                    <ul class="link-snapshot"> 
                     <li class="priority"> <img src="/jira/images/icons/priorities/major.svg" width="16" height="16" title="Major - Major loss of function." alt="Major - Major loss of function."> </li> 
                     <li class="status"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done aui-lozenge-subtle jira-issue-status-lozenge-max-width-short" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </li> 
                    </ul> 
                   </div> 
                  </dd> 
                 </dl> 
                </div> 
               </div>
              </div>
              <div id="activitymodule" class="module toggle-wrap">
               <div id="activitymodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Activity</h2>
               </div>
               <div class="mod-content"> 
                <big-pipe data-id="activity-panel-pipe-id" style="height: 70px"> 
                 <div></div> 
                </big-pipe> 
               </div>
              </div>
             </div>
             <div id="viewissuesidebar" class="aui-item issue-side-column">
              <div id="peoplemodule" class="module toggle-wrap">
               <div id="peoplemodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">People</h2>
               </div>
               <div class="mod-content"> 
                <ul class="item-details" id="peopledetails"> 
                 <li class="people-details"> 
                  <dl> 
                   <dt>
                    Assignee:
                   </dt> 
                   <dd> 
                    <span id="assignee-val" class="view-issue-field"> <span class="user-hover" id="issue_summary_assignee_bryanpendleton" rel="bryanpendleton" data-user="{&quot;avatarUrl&quot;:&quot;https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10452&quot;,&quot;displayName&quot;:&quot;Bryan Pendleton&quot;,&quot;emailAddress&quot;:&quot;bpendleton.derby@gmail.com&quot;,&quot;username&quot;:&quot;bryanpendleton&quot;}"> <span class="aui-avatar aui-avatar-small"><span class="aui-avatar-inner"><img src="https://issues.apache.org/jira/secure/useravatar?size=small&amp;avatarId=10452" alt="bryanpendleton"></span></span> Bryan Pendleton </span> </span> 
                   </dd> 
                  </dl> 
                  <dl> 
                   <dt>
                    Reporter:
                   </dt> 
                   <dd> 
                    <span id="reporter-val" class="view-issue-field"> <span class="user-hover" id="issue_summary_reporter_bryanpendleton" rel="bryanpendleton" data-user="{&quot;avatarUrl&quot;:&quot;https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10452&quot;,&quot;displayName&quot;:&quot;Bryan Pendleton&quot;,&quot;emailAddress&quot;:&quot;bpendleton.derby@gmail.com&quot;,&quot;username&quot;:&quot;bryanpendleton&quot;}"> <span class="aui-avatar aui-avatar-small"><span class="aui-avatar-inner"><img src="https://issues.apache.org/jira/secure/useravatar?size=small&amp;avatarId=10452" alt="bryanpendleton"></span></span> Bryan Pendleton </span> </span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
                <ul class="item-details"> 
                 <li> 
                  <dl> 
                   <dt>
                    Votes:
                   </dt> 
                   <dd> 
                    <span id="vote-data" class="aui-badge vote-state-off">0</span> 
                    <span id="vote-label" title="You have to be logged in to vote for an issue.">Vote for this issue</span> 
                   </dd> 
                  </dl> 
                  <dl> 
                   <dt>
                    Watchers:
                   </dt> 
                   <dd> 
                    <span id="watcher-data" class="aui-badge watch-state-off">1</span> 
                    <span id="watch-label" title="You have to be logged in to watch an issue.">Start watching this issue</span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
               </div>
              </div>
              <div id="datesmodule" class="module toggle-wrap">
               <div id="datesmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Dates</h2>
               </div>
               <div class="mod-content"> 
                <ul class="item-details"> 
                 <li> 
                  <dl class="dates"> 
                   <dt>
                    Created:
                   </dt> 
                   <dd class="date user-tz" title="11/Oct/05 06:48"> 
                    <span data-name="Created" id="created-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2005-10-11T06:48:23+0000">11/Oct/05 06:48</time> </span> 
                   </dd> 
                  </dl> 
                  <dl class="dates"> 
                   <dt>
                    Updated:
                   </dt> 
                   <dd class="date user-tz" title="08/Mar/11 12:03"> 
                    <span data-name="Updated" id="updated-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2011-03-08T12:03:59+0000">08/Mar/11 12:03</time> </span> 
                   </dd> 
                  </dl> 
                  <dl class="dates"> 
                   <dt>
                    Resolved:
                   </dt> 
                   <dd class="date user-tz" title="13/Apr/06 21:22"> 
                    <span data-name="Resolved" id="resolutiondate-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2006-04-13T21:22:37+0000">13/Apr/06 21:22</time> </span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
               </div>
              </div>
             </div>
            </div>
           </div>
          </div>
         </div>
        </div>
       </div>
      </div>
     </div>
     <!-- .aui-page-panel-inner -->
    </div>
    <!-- .aui-page-panel -->
    <div class="issue-navigator-init"></div> 
   </section> 
   <footer id="footer" role="contentinfo"> 
    <section class="footer-body"> 
     <ul class="atlassian-footer"> 
      <li> Atlassian JIRA <a class="seo-link" rel="nofollow" href="https://www.atlassian.com/software/jira">Project Management Software</a> <span id="footer-build-information">(v7.6.3#76005-<span title="8a4e38d34af948780dbf52044e7aafb13a7cae58" data-commit-id="8a4e38d34af948780dbf52044e7aafb13a7cae58}">sha1:8a4e38d</span>)</span> </li> 
      <li> <a id="about-link" rel="nofollow" href="/jira/secure/AboutPage.jspa/secure/AboutPage.jspa">About JIRA</a> </li> 
      <li> <a id="footer-report-problem-link" rel="nofollow" href="/jira/secure/CreateIssue!default.jspa">Report a problem</a> </li> 
     </ul> 
     <ul class="atlassian-footer"> 
      <li class="licensemessage"> Powered by a free Atlassian <a rel="nofollow" href="http://www.atlassian.com/software/jira">JIRA</a> open source license for Apache Software Foundation. Try JIRA - <a rel="nofollow" href="http://www.atlassian.com/software/jira">bug tracking software</a> for <i>your</i> team. </li> 
     </ul> 
     <div id="footer-logo">
      <a rel="nofollow" href="http://www.atlassian.com/">Atlassian</a>
     </div> 
    </section> 
    <fieldset class="hidden parameters"> 
     <input type="hidden" title="loggedInUser" value=""> 
     <input type="hidden" title="ajaxTimeout" value="The call to the JIRA server did not complete within the timeout period.  We are unsure of the result of this operation."> 
     <input type="hidden" title="JiraVersion" value="7.6.3"> 
     <input type="hidden" title="ajaxUnauthorised" value="You are not authorised to perform this operation. Please log in."> 
     <input type="hidden" title="baseURL" value="https://issues.apache.org/jira"> 
     <input type="hidden" title="ajaxCommsError" value="The JIRA server could not be contacted. This may be a temporary glitch or the server may be down. "> 
     <input type="hidden" title="ajaxServerError" value="The JIRA server was contacted but has returned an error response. We are unsure of the result of this operation."> 
     <input type="hidden" title="ajaxErrorCloseDialog" value="Close this dialog and press refresh in your browser"> 
     <input type="hidden" title="ajaxErrorDialogHeading" value="Communications Breakdown"> 
     <input type="hidden" title="dirtyMessage" value="You have entered new data on this page. If you navigate away from this page without first saving your data, the changes will be lost."> 
     <input type="hidden" title="dirtyDialogMessage" value="You have entered new data in this dialog. If you navigate away from this dialog without first saving your data, the changes will be lost. Click cancel to return to the dialog."> 
     <input type="hidden" title="keyType" value="Type"> 
     <input type="hidden" title="keyThen" value="then"> 
     <input type="hidden" title="dblClickToExpand" value="Double click to expand"> 
     <input type="hidden" title="actions" value="Actions"> 
     <input type="hidden" title="removeItem" value="Remove"> 
     <input type="hidden" title="workflow" value="Workflow"> 
     <input type="hidden" title="labelNew" value="New Label"> 
     <input type="hidden" title="issueActionsHint" value="Begin typing for available operations or press down to see all"> 
     <input type="hidden" title="closelink" value="Close"> 
     <input type="hidden" title="dotOperations" value="Operations"> 
     <input type="hidden" title="dotLoading" value="Loading..."> 
     <input type="hidden" title="frotherSuggestions" value="Suggestions"> 
     <input type="hidden" title="frotherNomatches" value="No Matches"> 
     <input type="hidden" title="multiselectVersionsError" value="{0} is not a valid version."> 
     <input type="hidden" title="multiselectComponentsError" value="{0} is not a valid component."> 
     <input type="hidden" title="multiselectGenericError" value="The value {0} is invalid."> 
    </fieldset> 
   </footer> 
  </div> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:bigpipe-js/jira.webresources:bigpipe-js.js" data-wrm-key="jira.webresources:bigpipe-js" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["activity-panel-pipe-id"]="\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n    \u003cdiv class=\\\"tabwrap tabs2\\\"\u003e\\n\\n        \u003cul id=\\\"issue-tabs\\\" class=\\\"tabs horizontal\\\"\u003e\\n                                \\n            \u003cli  data-id=\\\"all-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\" data-label=\\\"All\\\" data-href=\\\"\\/jira\\/browse\\/DERBY-614?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"all-tabpanel\\\" href=\\\"\\/jira\\/browse\\/DERBY-614?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\"\u003e\u003cstrong\u003eAll\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  class=\\\"active\\\" id=\\\"comment-tabpanel\\\"  data-id=\\\"comment-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel\\\" data-label=\\\"Comments\\\" data-href=\\\"\\/jira\\/browse\\/DERBY-614?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel\\\"\u003e\\n                            \u003cstrong tabindex=\\\"0\\\"\u003eComments\u003c\\/strong\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"worklog-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\" data-label=\\\"Work Log\\\" data-href=\\\"\\/jira\\/browse\\/DERBY-614?page=com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"worklog-tabpanel\\\" href=\\\"\\/jira\\/browse\\/DERBY-614?page=com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\"\u003e\u003cstrong\u003eWork Log\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"changehistory-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\" data-label=\\\"History\\\" data-href=\\\"\\/jira\\/browse\\/DERBY-614?page=com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"changehistory-tabpanel\\\" href=\\\"\\/jira\\/browse\\/DERBY-614?page=com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\"\u003e\u003cstrong\u003eHistory\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"activity-stream-issue-tab\\\" data-key=\\\"com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\" data-label=\\\"Activity\\\" data-href=\\\"\\/jira\\/browse\\/DERBY-614?page=com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"activity-stream-issue-tab\\\" href=\\\"\\/jira\\/browse\\/DERBY-614?page=com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\"\u003e\u003cstrong\u003eActivity\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"transitions-summary-tabpanel\\\" data-key=\\\"com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\" data-label=\\\"Transitions\\\" data-href=\\\"\\/jira\\/browse\\/DERBY-614?page=com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"transitions-summary-tabpanel\\\" href=\\\"\\/jira\\/browse\\/DERBY-614?page=com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\"\u003e\u003cstrong\u003eTransitions\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                \u003c\\/ul\u003e\\n\\n                    \u003cdiv class=\\\"sortwrap\\\"\u003e\\n                                    \u003ca class=\\\"issue-activity-sort-link ajax-activity-content\\\" rel=\\\"nofollow\\\" data-tab-sort data-order=\\\"desc\\\" href=\\\"\\/jira\\/browse\\/DERBY-614?actionOrder=desc\\\" title=\\\"Ascending order - Click to sort in descending order\\\"\u003e\\n                        \u003cspan class=\\\"aui-icon aui-icon-small aui-iconfont-up\\\"\u003eAscending order - Click to sort in descending order\u003c\\/span\u003e\\n                    \u003c\\/a\u003e\\n                            \u003c\\/div\u003e\\n            \u003c\\/div\u003e\\n    \u003cdiv class=\\\"issuePanelWrapper\\\"\u003e\\n        \u003cdiv class=\\\"issuePanelProgress\\\"\u003e\u003c\\/div\u003e\\n        \u003cdiv class=\\\"issuePanelContainer\\\" id=\\\"issue_actions_container\\\"\u003e\\n                                    \\n\\n\\n\u003cdiv id=\\\"comment-12331749\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-614?focusedCommentId=12331749&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12331749\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"bryanpendleton\\\" id=\\\"commentauthor_12331749_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=bryanpendleton\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"bryanpendleton\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Bryan Pendleton\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12331749_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'11\\/Oct\\/05 06:49\'\u003e\u003ctime class=\'livestamp\' datetime=\'2005-10-11T06:49:55+0000\'\u003e11\\/Oct\\/05 06:49\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eHere is the sysinfo for the environment in which my Network Server runs\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"bryanpendleton\\\" id=\\\"commentauthor_12331749_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=bryanpendleton\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"bryanpendleton\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Bryan Pendleton\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12331749_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'11\\/Oct\\/05 06:49\'\u003e\u003ctime class=\'livestamp\' datetime=\'2005-10-11T06:49:55+0000\'\u003e11\\/Oct\\/05 06:49\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Here is the sysinfo for the environment in which my Network Server runs              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12331750\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-614?focusedCommentId=12331750&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12331750\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"bryanpendleton\\\" id=\\\"commentauthor_12331750_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=bryanpendleton\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"bryanpendleton\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Bryan Pendleton\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12331750_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'11\\/Oct\\/05 06:52\'\u003e\u003ctime class=\'livestamp\' datetime=\'2005-10-11T06:52:54+0000\'\u003e11\\/Oct\\/05 06:52\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eHere is the client-side exception that I receive.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"bryanpendleton\\\" id=\\\"commentauthor_12331750_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=bryanpendleton\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"bryanpendleton\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Bryan Pendleton\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12331750_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'11\\/Oct\\/05 06:52\'\u003e\u003ctime class=\'livestamp\' datetime=\'2005-10-11T06:52:54+0000\'\u003e11\\/Oct\\/05 06:52\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Here is the client-side exception that I receive.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12331752\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-614?focusedCommentId=12331752&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12331752\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"bryanpendleton\\\" id=\\\"commentauthor_12331752_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=bryanpendleton\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"bryanpendleton\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Bryan Pendleton\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12331752_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'11\\/Oct\\/05 06:58\'\u003e\u003ctime class=\'livestamp\' datetime=\'2005-10-11T06:58:32+0000\'\u003e11\\/Oct\\/05 06:58\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eHere is the query that I believe I am running when the Distributed Protocol Error occurs.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"bryanpendleton\\\" id=\\\"commentauthor_12331752_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=bryanpendleton\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"bryanpendleton\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Bryan Pendleton\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12331752_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'11\\/Oct\\/05 06:58\'\u003e\u003ctime class=\'livestamp\' datetime=\'2005-10-11T06:58:32+0000\'\u003e11\\/Oct\\/05 06:58\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Here is the query that I believe I am running when the Distributed Protocol Error occurs.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12332046\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-614?focusedCommentId=12332046&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12332046\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"bryanpendleton\\\" id=\\\"commentauthor_12332046_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=bryanpendleton\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"bryanpendleton\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Bryan Pendleton\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12332046_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'14\\/Oct\\/05 08:43\'\u003e\u003ctime class=\'livestamp\' datetime=\'2005-10-14T08:43:32+0000\'\u003e14\\/Oct\\/05 08:43\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI believe I have lucked into a reproducible test case! Below are two queries. The first query does \u003cb\u003eNOT\u003c\\/b\u003e exhibit the problem, but the second query \u003cb\u003eDOES\u003c\\/b\u003e exhibit the problem. The only difference in the two queries, I believe, is that the first query does not have a WHERE clause, but the second query does.\u003c\\/p\u003e\\n\\n\u003cp\u003eSo apparently it is something about the particular style in which I am including the WHERE clause which is triggering this problem?\u003c\\/p\u003e\\n\\n\u003cp\u003eQuery that works:\u003cbr\\/\u003e\\n select tf.*,i.name as item_name,tc.case_name,        p.name as project_name  from apt_test_failure tf       join apt_test_case tc on tf.test_id = tc.id       join apt_history h on tf.history_id = h.id       join apt_item_desc i on h.item_id = i.id       join apt_projects p on h.project_id = p.id  order by tf.id desc\u003c\\/p\u003e\\n\\n\u003cp\u003eQuery that causes missingCodePoint(QRYBLKSZ):\u003cbr\\/\u003e\\n select tf.*,i.name as item_name,tc.case_name,        p.name as project_name  from apt_test_failure tf       join apt_test_case tc on tf.test_id = tc.id       join apt_history h on tf.history_id = h.id       join apt_item_desc i on h.item_id = i.id       join apt_projects p on h.project_id = p.id  where ( p.name = ?) order by tf.id desc\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"bryanpendleton\\\" id=\\\"commentauthor_12332046_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=bryanpendleton\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"bryanpendleton\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Bryan Pendleton\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12332046_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'14\\/Oct\\/05 08:43\'\u003e\u003ctime class=\'livestamp\' datetime=\'2005-10-14T08:43:32+0000\'\u003e14\\/Oct\\/05 08:43\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I believe I have lucked into a reproducible test case! Below are two queries. The first query does  NOT  exhibit the problem, but the second query  DOES  exhibit the problem. The only difference in the two queries, I believe, is that the first query does not have a WHERE clause, but the second query does. \\n\\n So apparently it is something about the particular style in which I am including the WHERE clause which is triggering this problem? \\n\\n Query that works: \\n select tf.*,i.name as item_name,tc.case_name,        p.name as project_name  from apt_test_failure tf       join apt_test_case tc on tf.test_id = tc.id       join apt_history h on tf.history_id = h.id       join apt_item_desc i on h.item_id = i.id       join apt_projects p on h.project_id = p.id  order by tf.id desc \\n\\n Query that causes missingCodePoint(QRYBLKSZ): \\n select tf.*,i.name as item_name,tc.case_name,        p.name as project_name  from apt_test_failure tf       join apt_test_case tc on tf.test_id = tc.id       join apt_history h on tf.history_id = h.id       join apt_item_desc i on h.item_id = i.id       join apt_projects p on h.project_id = p.id  where ( p.name = ?) order by tf.id desc              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12332048\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-614?focusedCommentId=12332048&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12332048\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"bryanpendleton\\\" id=\\\"commentauthor_12332048_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=bryanpendleton\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"bryanpendleton\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Bryan Pendleton\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12332048_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'14\\/Oct\\/05 09:00\'\u003e\u003ctime class=\'livestamp\' datetime=\'2005-10-14T09:00:49+0000\'\u003e14\\/Oct\\/05 09:00\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eFurthermore, this query works, too! All I do here is add one more condition into the where clause.\u003cbr\\/\u003e\\n select tf.*,i.name as item_name,tc.case_name,        p.name as project_name  from apt_test_failure tf       join apt_test_case tc on tf.test_id = tc.id       join apt_history h on tf.history_id = h.id       join apt_projects p on h.project_id = p.id       join apt_item_desc i on h.item_id = i.id  where ( p.name = ?) and ( i.name = ?) order by tf.id desc\u003c\\/p\u003e\\n\\n\u003cp\u003eSo it works with \u003cb\u003eno\u003c\\/b\u003e where clause, and it works with a compound where clause (two conditions), but it fails with a one-condition where clause.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"bryanpendleton\\\" id=\\\"commentauthor_12332048_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=bryanpendleton\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"bryanpendleton\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Bryan Pendleton\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12332048_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'14\\/Oct\\/05 09:00\'\u003e\u003ctime class=\'livestamp\' datetime=\'2005-10-14T09:00:49+0000\'\u003e14\\/Oct\\/05 09:00\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Furthermore, this query works, too! All I do here is add one more condition into the where clause. \\n select tf.*,i.name as item_name,tc.case_name,        p.name as project_name  from apt_test_failure tf       join apt_test_case tc on tf.test_id = tc.id       join apt_history h on tf.history_id = h.id       join apt_projects p on h.project_id = p.id       join apt_item_desc i on h.item_id = i.id  where ( p.name = ?) and ( i.name = ?) order by tf.id desc \\n\\n So it works with  no  where clause, and it works with a compound where clause (two conditions), but it fails with a one-condition where clause.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12332055\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-614?focusedCommentId=12332055&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12332055\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kmarsden\\\" id=\\\"commentauthor_12332055_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kmarsden\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kmarsden\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Kathey Marsden\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12332055_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'14\\/Oct\\/05 11:21\'\u003e\u003ctime class=\'livestamp\' datetime=\'2005-10-14T11:21:01+0000\'\u003e14\\/Oct\\/05 11:21\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI posted a few tips on debugging protocol errors on the Wiki. \u003cbr\\/\u003e\\n\u003ca href=\\\"http:\\/\\/wiki.apache.org\\/db-derby\\/ProtocolDebuggingTips\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/wiki.apache.org\\/db-derby\\/ProtocolDebuggingTips\u003c\\/a\u003e\u003cbr\\/\u003e\\nSo maybe the traces will give you some information.\u003c\\/p\u003e\\n\\n\u003cp\u003eOn the server side, I\'d be curious to know if the queries that work go through that splitQRYDTA path.   The fact that some data sets for the same result set format work and others don\'t might suggest some sort of problem with dividing the data on block boundaries, but only just a wild guess of a possible place of trouble.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kmarsden\\\" id=\\\"commentauthor_12332055_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kmarsden\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kmarsden\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Kathey Marsden\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12332055_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'14\\/Oct\\/05 11:21\'\u003e\u003ctime class=\'livestamp\' datetime=\'2005-10-14T11:21:01+0000\'\u003e14\\/Oct\\/05 11:21\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I posted a few tips on debugging protocol errors on the Wiki.  \\n http:\\/\\/wiki.apache.org\\/db-derby\\/ProtocolDebuggingTips  \\nSo maybe the traces will give you some information. \\n\\n On the server side, I\'d be curious to know if the queries that work go through that splitQRYDTA path.   The fact that some data sets for the same result set format work and others don\'t might suggest some sort of problem with dividing the data on block boundaries, but only just a wild guess of a possible place of trouble.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12332058\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-614?focusedCommentId=12332058&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12332058\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"bryanpendleton\\\" id=\\\"commentauthor_12332058_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=bryanpendleton\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"bryanpendleton\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Bryan Pendleton\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12332058_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'14\\/Oct\\/05 13:04\'\u003e\u003ctime class=\'livestamp\' datetime=\'2005-10-14T13:04:49+0000\'\u003e14\\/Oct\\/05 13:04\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eHere are the client-side traces. It appears that I successfully read 26 rows from the result set, then I crash when I try to close the result set. I suppose this means that the problem is really on the server side, and I\'ll need to collect traces from there. How do I collect the equivalent server-side traces, Kathy?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"bryanpendleton\\\" id=\\\"commentauthor_12332058_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=bryanpendleton\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"bryanpendleton\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Bryan Pendleton\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12332058_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'14\\/Oct\\/05 13:04\'\u003e\u003ctime class=\'livestamp\' datetime=\'2005-10-14T13:04:49+0000\'\u003e14\\/Oct\\/05 13:04\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Here are the client-side traces. It appears that I successfully read 26 rows from the result set, then I crash when I try to close the result set. I suppose this means that the problem is really on the server side, and I\'ll need to collect traces from there. How do I collect the equivalent server-side traces, Kathy?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12332071\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-614?focusedCommentId=12332071&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12332071\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kmarsden\\\" id=\\\"commentauthor_12332071_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kmarsden\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kmarsden\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Kathey Marsden\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12332071_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'14\\/Oct\\/05 23:35\'\u003e\u003ctime class=\'livestamp\' datetime=\'2005-10-14T23:35:39+0000\'\u003e14\\/Oct\\/05 23:35\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThe server side tracing information is on the Wiki page as weel.\u003c\\/p\u003e\\n\\n\u003cp\u003eLooking briefly at your trace and at the splitQRYDTA code it looks like splitQRYDTA assumes it is going to get a CNTQRY after sending each  block of data, but in fact in this case the client is sending a CLSQRY.  Also from the comment  in that function there seems to be something funny about the fact that we are getting the CNTQRY at all.   \u003c\\/p\u003e\\n\\n\u003cp\u003eSee  the DDM manual (Volume 3) take a look at LMTBLKPRC -  Limited Block Protocol.\u003cbr\\/\u003e\\nfor a description of the protocol flow for result  sets to see what the actual flow should be here and then we\'ll figure out how to make it so.\u003c\\/p\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kmarsden\\\" id=\\\"commentauthor_12332071_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kmarsden\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kmarsden\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Kathey Marsden\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12332071_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'14\\/Oct\\/05 23:35\'\u003e\u003ctime class=\'livestamp\' datetime=\'2005-10-14T23:35:39+0000\'\u003e14\\/Oct\\/05 23:35\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    The server side tracing information is on the Wiki page as weel. \\n\\n Looking briefly at your trace and at the splitQRYDTA code it looks like splitQRYDTA assumes it is going to get a CNTQRY after sending each  block of data, but in fact in this case the client is sending a CLSQRY.  Also from the comment  in that function there seems to be something funny about the fact that we are getting the CNTQRY at all.    \\n\\n See  the DDM manual (Volume 3) take a look at LMTBLKPRC -  Limited Block Protocol. \\nfor a description of the protocol flow for result  sets to see what the actual flow should be here and then we\'ll figure out how to make it so. \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12332076\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-614?focusedCommentId=12332076&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12332076\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"bryanpendleton\\\" id=\\\"commentauthor_12332076_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=bryanpendleton\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"bryanpendleton\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Bryan Pendleton\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12332076_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Oct\\/05 00:01\'\u003e\u003ctime class=\'livestamp\' datetime=\'2005-10-15T00:01:53+0000\'\u003e15\\/Oct\\/05 00:01\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eIt occurred to me that it would probably be most useful to have a matching set of client-side and server-side tracing. So I\'ve re-run the failing test case, with tracing turned on for both the client and the server, and fetched the pair of files and will attach them next. \u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"bryanpendleton\\\" id=\\\"commentauthor_12332076_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=bryanpendleton\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"bryanpendleton\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Bryan Pendleton\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12332076_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Oct\\/05 00:01\'\u003e\u003ctime class=\'livestamp\' datetime=\'2005-10-15T00:01:53+0000\'\u003e15\\/Oct\\/05 00:01\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    It occurred to me that it would probably be most useful to have a matching set of client-side and server-side tracing. So I\'ve re-run the failing test case, with tracing turned on for both the client and the server, and fetched the pair of files and will attach them next.               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12332077\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-614?focusedCommentId=12332077&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12332077\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"bryanpendleton\\\" id=\\\"commentauthor_12332077_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=bryanpendleton\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"bryanpendleton\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Bryan Pendleton\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12332077_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Oct\\/05 00:03\'\u003e\u003ctime class=\'livestamp\' datetime=\'2005-10-15T00:03:59+0000\'\u003e15\\/Oct\\/05 00:03\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eClient side of a pair of matching trace files surrounding the error. Corresponds to the attachment serverSideTrace.txt.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"bryanpendleton\\\" id=\\\"commentauthor_12332077_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=bryanpendleton\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"bryanpendleton\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Bryan Pendleton\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12332077_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Oct\\/05 00:03\'\u003e\u003ctime class=\'livestamp\' datetime=\'2005-10-15T00:03:59+0000\'\u003e15\\/Oct\\/05 00:03\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Client side of a pair of matching trace files surrounding the error. Corresponds to the attachment serverSideTrace.txt.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12332078\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-614?focusedCommentId=12332078&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12332078\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"bryanpendleton\\\" id=\\\"commentauthor_12332078_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=bryanpendleton\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"bryanpendleton\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Bryan Pendleton\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12332078_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Oct\\/05 00:05\'\u003e\u003ctime class=\'livestamp\' datetime=\'2005-10-15T00:05:13+0000\'\u003e15\\/Oct\\/05 00:05\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eServer side tracing of the error. Corresponds with the attachment clientSideTrace.txt.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"bryanpendleton\\\" id=\\\"commentauthor_12332078_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=bryanpendleton\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"bryanpendleton\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Bryan Pendleton\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12332078_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Oct\\/05 00:05\'\u003e\u003ctime class=\'livestamp\' datetime=\'2005-10-15T00:05:13+0000\'\u003e15\\/Oct\\/05 00:05\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Server side tracing of the error. Corresponds with the attachment clientSideTrace.txt.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12332082\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-614?focusedCommentId=12332082&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12332082\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"bryanpendleton\\\" id=\\\"commentauthor_12332082_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=bryanpendleton\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"bryanpendleton\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Bryan Pendleton\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12332082_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Oct\\/05 00:28\'\u003e\u003ctime class=\'livestamp\' datetime=\'2005-10-15T00:28:57+0000\'\u003e15\\/Oct\\/05 00:28\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eKathey says: \\\"it looks like splitQRYDTA assumes it is going to get a CNTQRY after sending each block of data, but in fact in this case the client is sending a CLSQRY\\\"\u003c\\/p\u003e\\n\\n\u003cp\u003eThis is very, very interesting. I recently modified my application so that rather than doing:\u003c\\/p\u003e\\n\\n\u003cp\u003e  while (rs.next)\u003cbr\\/\u003e\\n     read-row-and-put-data-on-web-page\u003c\\/p\u003e\\n\\n\u003cp\u003eit now does:\u003c\\/p\u003e\\n\\n\u003cp\u003e  while (rs.next)\u003cbr\\/\u003e\\n      read-row-and-put-data-on-web-page\u003cbr\\/\u003e\\n      if page is full, break\u003c\\/p\u003e\\n\\n\u003cp\u003eIn other words, I used to read the entire result set, but now it is very common for me to read about two dozen rows, then close the result set \\\"early\\\". And this problem began to occur right when I made that change.\u003c\\/p\u003e\\n\\n\u003cp\u003eSo yes, I can see where it used to be the case that my client application responded to \\\"split query\\\" with \\\"ok, continue query\\\", but now it will often respond to \\\"split query\\\" with \\\"close query\\\".\u003c\\/p\u003e\\n\\n\u003cp\u003eLet me go read the references you sent, so that I can follow your remarks a bit better, and then I\'ll be ready to pursue your next suggestion. Thanks!\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"bryanpendleton\\\" id=\\\"commentauthor_12332082_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=bryanpendleton\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"bryanpendleton\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Bryan Pendleton\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12332082_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Oct\\/05 00:28\'\u003e\u003ctime class=\'livestamp\' datetime=\'2005-10-15T00:28:57+0000\'\u003e15\\/Oct\\/05 00:28\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Kathey says: \\\"it looks like splitQRYDTA assumes it is going to get a CNTQRY after sending each block of data, but in fact in this case the client is sending a CLSQRY\\\" \\n\\n This is very, very interesting. I recently modified my application so that rather than doing: \\n\\n   while (rs.next) \\n     read-row-and-put-data-on-web-page \\n\\n it now does: \\n\\n   while (rs.next) \\n      read-row-and-put-data-on-web-page \\n      if page is full, break \\n\\n In other words, I used to read the entire result set, but now it is very common for me to read about two dozen rows, then close the result set \\\"early\\\". And this problem began to occur right when I made that change. \\n\\n So yes, I can see where it used to be the case that my client application responded to \\\"split query\\\" with \\\"ok, continue query\\\", but now it will often respond to \\\"split query\\\" with \\\"close query\\\". \\n\\n Let me go read the references you sent, so that I can follow your remarks a bit better, and then I\'ll be ready to pursue your next suggestion. Thanks!              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12332240\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-614?focusedCommentId=12332240&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12332240\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"army\\\" id=\\\"commentauthor_12332240_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=army\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"army\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e A B\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12332240_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'18\\/Oct\\/05 00:41\'\u003e\u003ctime class=\'livestamp\' datetime=\'2005-10-18T00:41:05+0000\'\u003e18\\/Oct\\/05 00:41\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eIt looks to me like the problem is that, in the \\\"splitQRYDTA\\\" method that Kathey mentioned, the server reads a codepoint and \u003cem\u003eassumes\u003c\\/em\u003e it\'s a CNTQRY without explicitly checking for it:\u003c\\/p\u003e\\n\\n\u003cp\u003e\\t\\/\\/ read CNTQRY - not sure why JCC sends this\u003cbr\\/\u003e\\n\\tcorrelationID = reader.readDssHeader();\u003cbr\\/\u003e\\n\\tint codePoint = reader.readLengthAndCodePoint();\u003cbr\\/\u003e\\n\\tDRDAStatement contstmt = parseCNTQRY();\u003c\\/p\u003e\\n\\n\u003cp\u003eThe server reads the codePoint and then assumes that a CNTQRY follows--but it looks like that\'s not a valid assumption.  In this case, the app wants to stop reading the data early, so instead of sending a CNTQRY the client ends up sending a CLSQRY.  The CLSQRY codepoint is read, but then parseCNTQRY() is called, so the server is looking for CNTQRY data (which expects a BLKSZ) and instead gets CLSQRY data (which has no BLKSZ), hence the missingCodePoint exception.\u003c\\/p\u003e\\n\\n\u003cp\u003eI looked at the DDM Manual and found the following statements:\u003c\\/p\u003e\\n\\n\u003cp\u003e[ LMTBLKPRC ]: A query is terminated any time the CLSQRY command suspends it.\u003c\\/p\u003e\\n\\n\u003cp\u003e[ EXCSQLSTT ]: After the EXCSQLSTT or each subsequent CNTQRY command, each result set is suspended\u003cbr\\/\u003e\\nunless some condition terminates the result set (see CNTQRY (on page 234)). The CNTQRY\u003cbr\\/\u003e\\ncommand can continue a suspended result set so that the next portion of the answer set data is\u003cbr\\/\u003e\\nreturned. A result set is terminated anytime the CLSQRY command is received and processed.\u003c\\/p\u003e\\n\\n\u003cp\u003e[ LMTBLKPROC ]: The following examples show some of the valid responses to the CLSQRY command:\u003cbr\\/\u003e\\n  ? If the query is suspended under normal conditions, then an SQLCARD object is returned.\u003c\\/p\u003e\\n\\n\u003cp\u003eI\'m assuming that in this case \\\"the query is suspended under normal conditions\\\" (at least, I don\'t see anything in the traces to indicate otherwise), so based on the above lines from the DDM manual, it seems like the server should be allowing for a CLSQRY to be received in the middle of splitQRYDTA and, if it receives one, should perform normal CLSQRY processing (ultimately returning a SQLCARD).\u003c\\/p\u003e\\n\\n\u003cp\u003eThat said, though, I spent a good chunk of time trying to force this situation to occur, and I wasn\'t able to do so.  That doesn\'t mean it\'s not possible, just that I didn\'t have any luck reproducing the problem on my own.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"army\\\" id=\\\"commentauthor_12332240_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=army\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"army\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e A B\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12332240_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'18\\/Oct\\/05 00:41\'\u003e\u003ctime class=\'livestamp\' datetime=\'2005-10-18T00:41:05+0000\'\u003e18\\/Oct\\/05 00:41\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    It looks to me like the problem is that, in the \\\"splitQRYDTA\\\" method that Kathey mentioned, the server reads a codepoint and  assumes  it\'s a CNTQRY without explicitly checking for it: \\n\\n \\t\\/\\/ read CNTQRY - not sure why JCC sends this \\n\\tcorrelationID = reader.readDssHeader(); \\n\\tint codePoint = reader.readLengthAndCodePoint(); \\n\\tDRDAStatement contstmt = parseCNTQRY(); \\n\\n The server reads the codePoint and then assumes that a CNTQRY follows--but it looks like that\'s not a valid assumption.  In this case, the app wants to stop reading the data early, so instead of sending a CNTQRY the client ends up sending a CLSQRY.  The CLSQRY codepoint is read, but then parseCNTQRY() is called, so the server is looking for CNTQRY data (which expects a BLKSZ) and instead gets CLSQRY data (which has no BLKSZ), hence the missingCodePoint exception. \\n\\n I looked at the DDM Manual and found the following statements: \\n\\n [ LMTBLKPRC ]: A query is terminated any time the CLSQRY command suspends it. \\n\\n [ EXCSQLSTT ]: After the EXCSQLSTT or each subsequent CNTQRY command, each result set is suspended \\nunless some condition terminates the result set (see CNTQRY (on page 234)). The CNTQRY \\ncommand can continue a suspended result set so that the next portion of the answer set data is \\nreturned. A result set is terminated anytime the CLSQRY command is received and processed. \\n\\n [ LMTBLKPROC ]: The following examples show some of the valid responses to the CLSQRY command: \\n  ? If the query is suspended under normal conditions, then an SQLCARD object is returned. \\n\\n I\'m assuming that in this case \\\"the query is suspended under normal conditions\\\" (at least, I don\'t see anything in the traces to indicate otherwise), so based on the above lines from the DDM manual, it seems like the server should be allowing for a CLSQRY to be received in the middle of splitQRYDTA and, if it receives one, should perform normal CLSQRY processing (ultimately returning a SQLCARD). \\n\\n That said, though, I spent a good chunk of time trying to force this situation to occur, and I wasn\'t able to do so.  That doesn\'t mean it\'s not possible, just that I didn\'t have any luck reproducing the problem on my own.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12332261\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-614?focusedCommentId=12332261&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12332261\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kmarsden\\\" id=\\\"commentauthor_12332261_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kmarsden\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kmarsden\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Kathey Marsden\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12332261_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'18\\/Oct\\/05 02:45\'\u003e\u003ctime class=\'livestamp\' datetime=\'2005-10-18T02:45:11+0000\'\u003e18\\/Oct\\/05 02:45\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI agree that the CLSQRY is perfectly valid, and perhaps many other commands would be perfectly valid at this point too, maybe another statement execution or anything else.    The expectation of splitQRYDTA that it is going to get a CNTQRY after sending the first block of data  seems problematic to me.    Can the server chain the DSS\'s and push all the remaining data out in a continuation block, or does it have to save the remaining data until it actually does get a CNTQRY?  Bryan is investigating what the flow should be in this case, so I\'ll  wait to hear back  on his research and then take a closer look at the protocol.\u003c\\/p\u003e\\n\\n\u003cp\u003eBryan, do you have a reproducible case that you can attach to the Jira issue?  That would really help facilitate discussion on this issue.\u003c\\/p\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kmarsden\\\" id=\\\"commentauthor_12332261_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kmarsden\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kmarsden\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Kathey Marsden\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12332261_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'18\\/Oct\\/05 02:45\'\u003e\u003ctime class=\'livestamp\' datetime=\'2005-10-18T02:45:11+0000\'\u003e18\\/Oct\\/05 02:45\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I agree that the CLSQRY is perfectly valid, and perhaps many other commands would be perfectly valid at this point too, maybe another statement execution or anything else.    The expectation of splitQRYDTA that it is going to get a CNTQRY after sending the first block of data  seems problematic to me.    Can the server chain the DSS\'s and push all the remaining data out in a continuation block, or does it have to save the remaining data until it actually does get a CNTQRY?  Bryan is investigating what the flow should be in this case, so I\'ll  wait to hear back  on his research and then take a closer look at the protocol. \\n\\n Bryan, do you have a reproducible case that you can attach to the Jira issue?  That would really help facilitate discussion on this issue. \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12332271\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-614?focusedCommentId=12332271&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12332271\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"bryanpendleton\\\" id=\\\"commentauthor_12332271_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=bryanpendleton\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"bryanpendleton\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Bryan Pendleton\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12332271_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'18\\/Oct\\/05 03:46\'\u003e\u003ctime class=\'livestamp\' datetime=\'2005-10-18T03:46:24+0000\'\u003e18\\/Oct\\/05 03:46\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003e&gt; Bryan, do you have a reproducible case that you can attach to the Jira issue?\u003c\\/p\u003e\\n\\n\u003cp\u003eUnfortunately, no. After your very clear explanation of the problem, I thought it would be straightforward to create a reproducible case, but lots of tweaking of my application over the weekend left me no closer to such a case.\u003c\\/p\u003e\\n\\n\u003cp\u003eThe two variables I\'ve been principally playing with are the \\\"size\\\" of each row in my result set and the number of rows that I retrieve prior to closing the result set. I thought that what I was trying to do was to force the ResultSet.close() call to occur \\\"cleanly\\\" between QRYDATA blocks, possibly with a partial row spanning the gap between the QRYDATA blocks, but that by itself doesn\'t appear to be\u003cbr\\/\u003e\\nenough to make the problem happen (which I guess means I don\'t understand the bug yet!).\u003c\\/p\u003e\\n\\n\u003cp\u003eI\'ll keep trying.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"bryanpendleton\\\" id=\\\"commentauthor_12332271_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=bryanpendleton\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"bryanpendleton\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Bryan Pendleton\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12332271_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'18\\/Oct\\/05 03:46\'\u003e\u003ctime class=\'livestamp\' datetime=\'2005-10-18T03:46:24+0000\'\u003e18\\/Oct\\/05 03:46\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    &gt; Bryan, do you have a reproducible case that you can attach to the Jira issue? \\n\\n Unfortunately, no. After your very clear explanation of the problem, I thought it would be straightforward to create a reproducible case, but lots of tweaking of my application over the weekend left me no closer to such a case. \\n\\n The two variables I\'ve been principally playing with are the \\\"size\\\" of each row in my result set and the number of rows that I retrieve prior to closing the result set. I thought that what I was trying to do was to force the ResultSet.close() call to occur \\\"cleanly\\\" between QRYDATA blocks, possibly with a partial row spanning the gap between the QRYDATA blocks, but that by itself doesn\'t appear to be \\nenough to make the problem happen (which I guess means I don\'t understand the bug yet!). \\n\\n I\'ll keep trying.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12332735\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-614?focusedCommentId=12332735&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12332735\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"bryanpendleton\\\" id=\\\"commentauthor_12332735_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=bryanpendleton\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"bryanpendleton\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Bryan Pendleton\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12332735_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'22\\/Oct\\/05 06:33\'\u003e\u003ctime class=\'livestamp\' datetime=\'2005-10-22T06:33:49+0000\'\u003e22\\/Oct\\/05 06:33\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eYAY! I think I\'ve found a reproducible test case! I\'ll attach a zip file with the details. Please let me know if you can reproduce the problem using this data.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"bryanpendleton\\\" id=\\\"commentauthor_12332735_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=bryanpendleton\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"bryanpendleton\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Bryan Pendleton\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12332735_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'22\\/Oct\\/05 06:33\'\u003e\u003ctime class=\'livestamp\' datetime=\'2005-10-22T06:33:49+0000\'\u003e22\\/Oct\\/05 06:33\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    YAY! I think I\'ve found a reproducible test case! I\'ll attach a zip file with the details. Please let me know if you can reproduce the problem using this data.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12355666\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-614?focusedCommentId=12355666&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12355666\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kmarsden\\\" id=\\\"commentauthor_12355666_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kmarsden\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kmarsden\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Kathey Marsden\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12355666_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Oct\\/05 07:55\'\u003e\u003ctime class=\'livestamp\' datetime=\'2005-10-25T07:55:38+0000\'\u003e25\\/Oct\\/05 07:55\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003e I think the parseCNTQRY in splitQRYDTA is wrong.  The client should be able to send any command after receiving a respose to its previous CNTQRY, so the remainder of the data needs to be handled in some other way than just assuming the next request it gets is going to be a CNTQRY.  \u003c\\/p\u003e\\n\\n\u003cp\u003eWhat were you able to find on this in the documentation for LMTBLKPRC? Does the server need to associate the data with the result set and wait for the next CNTQRY, or can it send another block  in a continuation DSS immediately after sending the first one?\u003c\\/p\u003e\\n\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kmarsden\\\" id=\\\"commentauthor_12355666_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kmarsden\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kmarsden\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Kathey Marsden\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12355666_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Oct\\/05 07:55\'\u003e\u003ctime class=\'livestamp\' datetime=\'2005-10-25T07:55:38+0000\'\u003e25\\/Oct\\/05 07:55\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     I think the parseCNTQRY in splitQRYDTA is wrong.  The client should be able to send any command after receiving a respose to its previous CNTQRY, so the remainder of the data needs to be handled in some other way than just assuming the next request it gets is going to be a CNTQRY.   \\n\\n What were you able to find on this in the documentation for LMTBLKPRC? Does the server need to associate the data with the result set and wait for the next CNTQRY, or can it send another block  in a continuation DSS immediately after sending the first one? \\n\\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12355684\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-614?focusedCommentId=12355684&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12355684\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"bryanpendleton\\\" id=\\\"commentauthor_12355684_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=bryanpendleton\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"bryanpendleton\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Bryan Pendleton\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12355684_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Oct\\/05 12:54\'\u003e\u003ctime class=\'livestamp\' datetime=\'2005-10-25T12:54:10+0000\'\u003e25\\/Oct\\/05 12:54\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003e&gt; Does the server need to associate the data with the result set and wait for the next CNTQRY, or can it send another block in a continuation DSS immediately after sending the first one? \u003c\\/p\u003e\\n\\n\u003cp\u003eI\'m sorry; I\'m finding these DRDA specs rather hard going. \u003c\\/p\u003e\\n\\n\u003cp\u003eFor example, I can\'t find the phrase \\\"continuation DSS\\\" in any of the 3 DRDA specs.\u003c\\/p\u003e\\n\\n\u003cp\u003eI did find some things that seemed relevant, though:\u003c\\/p\u003e\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003eSections 4.4.6.2 and 7.21.1.1 in Volume 1 seem relevant to this issue, as does the MAXBLKEXT definition in Volume 3\u003c\\/li\u003e\\n\\t\u003cli\u003eOn page 477 of volume 3: \\\"Answer set data may also be returned in one or more QRYDTA reply data objects\\\"\u003c\\/li\u003e\\n\\t\u003cli\u003eOn page 476 of volume 3: \\\"Possibly, additional query blocks, limited in number by the value of the MAXBLKEXT parameter of OPNQRY, each containing a QRYDTA reply data object\\\"\u003c\\/li\u003e\\n\\t\u003cli\u003eOn page 137 of volume 1: \\\"If the application server cannot return all the requested rows because it has used up all the query blocks it is allowed to, according to the maxblkext parameter, then the DRDA rowset is incomplete. The application server returns one or more QRYDTAs with the rows it has fetched, and expects the CNTQRY request from the application request either to complete the DRDA rowset (or, optionally) to reset it.\\\"\u003c\\/li\u003e\\n\\t\u003cli\u003eVolume 3 says that the MAXBLKEXT value defaults to 0, which I think means that, by default, the server can only return a single QRYDTA block at a time.\u003c\\/li\u003e\\n\\t\u003cli\u003eOn page 137 of volume 1: \\\"Note: At any time after the application requester has sent the OPNQRY command and the application server has successfully processed it, and before the application server has sent an ENDQRYRM reply message, the application requester can send a Close Query (CLSQRY) command...\\\"\u003c\\/li\u003e\\n\\t\u003cli\u003eOn page 435 of volume 1: \\\"If the space remaining in the query block cannot contain the complete base rows, only that part of the\u003cbr\\/\u003e\\nrow data that can fit in the remainder of the exact query block is added to the query block. If this is the first row added to\u003cbr\\/\u003e\\nthe exact query block, then additional exact query blocks are generated to contain the remainder of the base row data. If this\u003cbr\\/\u003e\\nis not the first row added to the exact query block, then either a partial row is returned in the last exact query block or\u003cbr\\/\u003e\\nextra query blocks can be generated to contain the remainder of the row (and possibly, additional rows) as allowed by the maxblkext\u003cbr\\/\u003e\\nparameter.\\\"\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003eSo, I\'m guessing that by \\\"continuation DSS\\\" you mean the creation of a 2nd-through-nth QRYDATA block. If so, then yes, I believe that\u003cbr\\/\u003e\\nthe server is allowed to do this, but only if the client has provided a non-zero MAXBLKEXT parameter.\u003c\\/p\u003e\\n\\n\u003cp\u003eOnce the server has generated (MAXBLKEXT + 1) QRYDATA blocks, if it has not yet exhausted the rows to be returned, then\u003cbr\\/\u003e\\nit must halt the data return process in mid-row, place the query into \\\"suspended\\\" state, and wait for the client to\u003cbr\\/\u003e\\nsend either a CNTQRY or a CLSQRY.\u003c\\/p\u003e\\n\\n\u003cp\u003eI do not believe that the client is allowed to send any commands other than CNTQRY or CLSQRY; those are the only legal options.\u003c\\/p\u003e\\n\\n\u003cp\u003ePlease help me better understand the terminology that these DRDA specs are using.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"bryanpendleton\\\" id=\\\"commentauthor_12355684_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=bryanpendleton\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"bryanpendleton\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Bryan Pendleton\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12355684_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Oct\\/05 12:54\'\u003e\u003ctime class=\'livestamp\' datetime=\'2005-10-25T12:54:10+0000\'\u003e25\\/Oct\\/05 12:54\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    &gt; Does the server need to associate the data with the result set and wait for the next CNTQRY, or can it send another block in a continuation DSS immediately after sending the first one?  \\n\\n I\'m sorry; I\'m finding these DRDA specs rather hard going.  \\n\\n For example, I can\'t find the phrase \\\"continuation DSS\\\" in any of the 3 DRDA specs. \\n\\n I did find some things that seemed relevant, though: \\n \\n\\t Sections 4.4.6.2 and 7.21.1.1 in Volume 1 seem relevant to this issue, as does the MAXBLKEXT definition in Volume 3 \\n\\t On page 477 of volume 3: \\\"Answer set data may also be returned in one or more QRYDTA reply data objects\\\" \\n\\t On page 476 of volume 3: \\\"Possibly, additional query blocks, limited in number by the value of the MAXBLKEXT parameter of OPNQRY, each containing a QRYDTA reply data object\\\" \\n\\t On page 137 of volume 1: \\\"If the application server cannot return all the requested rows because it has used up all the query blocks it is allowed to, according to the maxblkext parameter, then the DRDA rowset is incomplete. The application server returns one or more QRYDTAs with the rows it has fetched, and expects the CNTQRY request from the application request either to complete the DRDA rowset (or, optionally) to reset it.\\\" \\n\\t Volume 3 says that the MAXBLKEXT value defaults to 0, which I think means that, by default, the server can only return a single QRYDTA block at a time. \\n\\t On page 137 of volume 1: \\\"Note: At any time after the application requester has sent the OPNQRY command and the application server has successfully processed it, and before the application server has sent an ENDQRYRM reply message, the application requester can send a Close Query (CLSQRY) command...\\\" \\n\\t On page 435 of volume 1: \\\"If the space remaining in the query block cannot contain the complete base rows, only that part of the \\nrow data that can fit in the remainder of the exact query block is added to the query block. If this is the first row added to \\nthe exact query block, then additional exact query blocks are generated to contain the remainder of the base row data. If this \\nis not the first row added to the exact query block, then either a partial row is returned in the last exact query block or \\nextra query blocks can be generated to contain the remainder of the row (and possibly, additional rows) as allowed by the maxblkext \\nparameter.\\\" \\n \\n\\n\\n So, I\'m guessing that by \\\"continuation DSS\\\" you mean the creation of a 2nd-through-nth QRYDATA block. If so, then yes, I believe that \\nthe server is allowed to do this, but only if the client has provided a non-zero MAXBLKEXT parameter. \\n\\n Once the server has generated (MAXBLKEXT + 1) QRYDATA blocks, if it has not yet exhausted the rows to be returned, then \\nit must halt the data return process in mid-row, place the query into \\\"suspended\\\" state, and wait for the client to \\nsend either a CNTQRY or a CLSQRY. \\n\\n I do not believe that the client is allowed to send any commands other than CNTQRY or CLSQRY; those are the only legal options. \\n\\n Please help me better understand the terminology that these DRDA specs are using.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12355828\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-614?focusedCommentId=12355828&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12355828\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kmarsden\\\" id=\\\"commentauthor_12355828_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kmarsden\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kmarsden\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Kathey Marsden\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12355828_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Oct\\/05 22:51\'\u003e\u003ctime class=\'livestamp\' datetime=\'2005-10-25T22:51:55+0000\'\u003e25\\/Oct\\/05 22:51\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI hear you about the DRDA specs. They are pretty hard.  That\'s why I am making you do the research #\u003cimg class=\\\"emoticon\\\" src=\\\"\\/jira\\/images\\/icons\\/emoticons\\/smile.png\\\" height=\\\"16\\\" width=\\\"16\\\" align=\\\"absmiddle\\\" alt=\\\"\\\" border=\\\"0\\\"\\/\u003e  This research by the way is excellent.\u003c\\/p\u003e\\n\\n\u003cp\u003eDSS stands for Data Stream Structure.  It is sort of the packaging mechanism for data going to the client. It\'s size is limitted to 32K but sometimes it is ok to set a flag to continue in the next DSS and send more data.    The Data Stream Structure documented in the DDM manual under DSS.   I have to say I don\'t really understand the chaining very well, but hope this will be an opportunity for me to learn more about it myself.\u003c\\/p\u003e\\n\\n\\n\u003cp\u003eYou said ...\u003c\\/p\u003e\\n\\n\u003cp\u003e&gt;I do not believe that the client is allowed to send any commands other than CNTQRY or &gt;CLSQRY; those are the only legal options.\u003c\\/p\u003e\\n\\n\u003cp\u003eFor this particular result set you are right, the client can send only either a CNTQRY or CLSQRY and  it will send an identifier for the result set (PKGNAMCSN) with the request to identify which result set it is, but  there may be intervening requests that have nothing to do with this result set.  For instance if you change your repro to execute some totally unrelated statement before closing the result set, such as \\\"CREATE TABLE FOO (i int)\\\" then before it ever sends the CLSQRY for this result set you will see an EXCSQLIMM  as the next command sent from the client.    So, we would again fall over if we simply changied splitQRYDTA to handle CLSQRY as well as CNTQRY.  Also we may get an intervening CNTQRY for an entirely different result set and then we could end up sending the data for the wrong result set for the reqest, so that is why I think the parseCNTQRY in splitQRYDTA is wrong. \u003c\\/p\u003e\\n\\n\u003cp\u003eCould you try  to change your test case as described and see if in fact my assessment is correct that we might get some other request from the client before we get the CNTQRY or CLSQRY request for this result set?\u003c\\/p\u003e\\n\\n\\n\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kmarsden\\\" id=\\\"commentauthor_12355828_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kmarsden\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kmarsden\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Kathey Marsden\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12355828_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Oct\\/05 22:51\'\u003e\u003ctime class=\'livestamp\' datetime=\'2005-10-25T22:51:55+0000\'\u003e25\\/Oct\\/05 22:51\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I hear you about the DRDA specs. They are pretty hard.  That\'s why I am making you do the research #   This research by the way is excellent. \\n\\n DSS stands for Data Stream Structure.  It is sort of the packaging mechanism for data going to the client. It\'s size is limitted to 32K but sometimes it is ok to set a flag to continue in the next DSS and send more data.    The Data Stream Structure documented in the DDM manual under DSS.   I have to say I don\'t really understand the chaining very well, but hope this will be an opportunity for me to learn more about it myself. \\n\\n\\n You said ... \\n\\n &gt;I do not believe that the client is allowed to send any commands other than CNTQRY or &gt;CLSQRY; those are the only legal options. \\n\\n For this particular result set you are right, the client can send only either a CNTQRY or CLSQRY and  it will send an identifier for the result set (PKGNAMCSN) with the request to identify which result set it is, but  there may be intervening requests that have nothing to do with this result set.  For instance if you change your repro to execute some totally unrelated statement before closing the result set, such as \\\"CREATE TABLE FOO (i int)\\\" then before it ever sends the CLSQRY for this result set you will see an EXCSQLIMM  as the next command sent from the client.    So, we would again fall over if we simply changied splitQRYDTA to handle CLSQRY as well as CNTQRY.  Also we may get an intervening CNTQRY for an entirely different result set and then we could end up sending the data for the wrong result set for the reqest, so that is why I think the parseCNTQRY in splitQRYDTA is wrong.  \\n\\n Could you try  to change your test case as described and see if in fact my assessment is correct that we might get some other request from the client before we get the CNTQRY or CLSQRY request for this result set? \\n\\n\\n\\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12355871\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-614?focusedCommentId=12355871&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12355871\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"bryanpendleton\\\" id=\\\"commentauthor_12355871_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=bryanpendleton\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"bryanpendleton\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Bryan Pendleton\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12355871_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'26\\/Oct\\/05 01:08\'\u003e\u003ctime class=\'livestamp\' datetime=\'2005-10-26T01:08:47+0000\'\u003e26\\/Oct\\/05 01:08\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003e&gt; Could you try to change your test case and see if we might get some other request from the client before we get the CNTQRY or CLSQRY request for this result set?\u003c\\/p\u003e\\n\\n\u003cp\u003eIt is exactly as you suspected. If I add a 2nd statement and call \'s2.executeUpdate(\\\"create table foo (i int)\\\");\' at the critical time, we still get the SYNTAXRM exception, but the details are indeed different:\u003c\\/p\u003e\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003ethe codepoint in the exception in the server log is 0x2105, which I think is RDBCMTOK\u003c\\/li\u003e\\n\\t\u003cli\u003ethe server-side trace shows that we got EXCSQLIMM rather than CLSQRY:\u003cbr\\/\u003e\\n         RECEIVE BUFFER: EXCSQLIMM           (ASCII)           (EBCDIC)\u003c\\/li\u003e\\n\\t\u003cli\u003ethe server-side stack trace is just slightly different. Rather than parseCNTQRY calling \'missingCodePoint\', which is what happens when we send a CLSQRY, this time parseCNTQRY calls \'invalidCodePoint\', which throws the SYNTAXRM exception.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003eSo I agree with you: the client should be able to send \u003cb\u003eany\u003c\\/b\u003e command at this point, so the server needs to be prepared to\u003cbr\\/\u003e\\nhandle any command. I guess this means that the server needs to be able to fully suspend this query, holding the partial row in abeyance, such that it can resume processing the query, starting a new QRYDTA block with the remainder of this partial row, if the client so requests, but also be able to handle any other command that might arrive.\u003c\\/p\u003e\\n\\n\u003cp\u003eI see that there is DRDAStatement.rsSuspend, which in turn calls DRDAResultSet.suspend, but those seem to simply set a status flag; we also need to record the contents of local variable \'temp\' which is holding the remainder of the partially-returned row, yes?\u003c\\/p\u003e\\n\\n\u003cp\u003eIt seems that a solution should be something along the lines of:\u003cbr\\/\u003e\\n1) when splitQRYDTA determines that it cannot fit all the data into this block, it should attach the remainder data to the result set, suspend the statement, and pop all the way back out to the processCommands loop\u003cbr\\/\u003e\\n2) When a CNTQRY is received, the first thing that writeQRYDTA should do is to look for any partial remainder data that might have been saved by step 1, and write that data prior to writing any new data. \u003cbr\\/\u003e\\n3) And it seems like the MAXBLKEXT parameter should figure in here as well, I think?\u003c\\/p\u003e\\n\\n\u003cp\u003eIt\'s still muddy, but it\'s getting much clearer.\u003c\\/p\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"bryanpendleton\\\" id=\\\"commentauthor_12355871_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=bryanpendleton\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"bryanpendleton\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Bryan Pendleton\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12355871_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'26\\/Oct\\/05 01:08\'\u003e\u003ctime class=\'livestamp\' datetime=\'2005-10-26T01:08:47+0000\'\u003e26\\/Oct\\/05 01:08\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    &gt; Could you try to change your test case and see if we might get some other request from the client before we get the CNTQRY or CLSQRY request for this result set? \\n\\n It is exactly as you suspected. If I add a 2nd statement and call \'s2.executeUpdate(\\\"create table foo (i int)\\\");\' at the critical time, we still get the SYNTAXRM exception, but the details are indeed different: \\n \\n\\t the codepoint in the exception in the server log is 0x2105, which I think is RDBCMTOK \\n\\t the server-side trace shows that we got EXCSQLIMM rather than CLSQRY: \\n         RECEIVE BUFFER: EXCSQLIMM           (ASCII)           (EBCDIC) \\n\\t the server-side stack trace is just slightly different. Rather than parseCNTQRY calling \'missingCodePoint\', which is what happens when we send a CLSQRY, this time parseCNTQRY calls \'invalidCodePoint\', which throws the SYNTAXRM exception. \\n \\n\\n\\n So I agree with you: the client should be able to send  any  command at this point, so the server needs to be prepared to \\nhandle any command. I guess this means that the server needs to be able to fully suspend this query, holding the partial row in abeyance, such that it can resume processing the query, starting a new QRYDTA block with the remainder of this partial row, if the client so requests, but also be able to handle any other command that might arrive. \\n\\n I see that there is DRDAStatement.rsSuspend, which in turn calls DRDAResultSet.suspend, but those seem to simply set a status flag; we also need to record the contents of local variable \'temp\' which is holding the remainder of the partially-returned row, yes? \\n\\n It seems that a solution should be something along the lines of: \\n1) when splitQRYDTA determines that it cannot fit all the data into this block, it should attach the remainder data to the result set, suspend the statement, and pop all the way back out to the processCommands loop \\n2) When a CNTQRY is received, the first thing that writeQRYDTA should do is to look for any partial remainder data that might have been saved by step 1, and write that data prior to writing any new data.  \\n3) And it seems like the MAXBLKEXT parameter should figure in here as well, I think? \\n\\n It\'s still muddy, but it\'s getting much clearer. \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12355877\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-614?focusedCommentId=12355877&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12355877\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kmarsden\\\" id=\\\"commentauthor_12355877_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kmarsden\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kmarsden\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Kathey Marsden\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12355877_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'26\\/Oct\\/05 02:29\'\u003e\u003ctime class=\'livestamp\' datetime=\'2005-10-26T02:29:47+0000\'\u003e26\\/Oct\\/05 02:29\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eYour steps 1 and 2 sound like a good approach to me.  It would be good to get input from others.  I know Oyvind,  Rick  and Francois have been dabbling in DRDA. Opinions?\u003c\\/p\u003e\\n\\n\u003cp\u003eMAXBLKEXT I think would only be relevant if you took the alternate approach of trying to push the remaining data out to the client when splitQRYDTA is called and not save it for later.  That approach might be a can of worms as I don\'t know that the client is set up to handle it, since it is currently sending MAXBLKEXT as zero.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kmarsden\\\" id=\\\"commentauthor_12355877_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kmarsden\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kmarsden\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Kathey Marsden\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12355877_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'26\\/Oct\\/05 02:29\'\u003e\u003ctime class=\'livestamp\' datetime=\'2005-10-26T02:29:47+0000\'\u003e26\\/Oct\\/05 02:29\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Your steps 1 and 2 sound like a good approach to me.  It would be good to get input from others.  I know Oyvind,  Rick  and Francois have been dabbling in DRDA. Opinions? \\n\\n MAXBLKEXT I think would only be relevant if you took the alternate approach of trying to push the remaining data out to the client when splitQRYDTA is called and not save it for later.  That approach might be a can of worms as I don\'t know that the client is set up to handle it, since it is currently sending MAXBLKEXT as zero.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12357583\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-614?focusedCommentId=12357583&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12357583\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kmarsden\\\" id=\\\"commentauthor_12357583_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kmarsden\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kmarsden\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Kathey Marsden\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12357583_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'14\\/Nov\\/05 21:08\'\u003e\u003ctime class=\'livestamp\' datetime=\'2005-11-14T21:08:54+0000\'\u003e14\\/Nov\\/05 21:08\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI wanted to check in  on this issue. I wanted to make sure that my comment that it would be good to get input wasn\'t stalling your effort. I think the approach you proposed is a good one.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kmarsden\\\" id=\\\"commentauthor_12357583_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kmarsden\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kmarsden\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Kathey Marsden\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12357583_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'14\\/Nov\\/05 21:08\'\u003e\u003ctime class=\'livestamp\' datetime=\'2005-11-14T21:08:54+0000\'\u003e14\\/Nov\\/05 21:08\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I wanted to check in  on this issue. I wanted to make sure that my comment that it would be good to get input wasn\'t stalling your effort. I think the approach you proposed is a good one.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12357630\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-614?focusedCommentId=12357630&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12357630\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"forsini\\\" id=\\\"commentauthor_12357630_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=forsini\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"forsini\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Francois Orsini\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12357630_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Nov\\/05 06:12\'\u003e\u003ctime class=\'livestamp\' datetime=\'2005-11-15T06:12:58+0000\'\u003e15\\/Nov\\/05 06:12\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI have done a bit of reading on the subject (which was a great learning exercise btw) and I find Brian\'s approach with 1) and 2) to be appropriate. We\'ll need to ensure the remainder data attached to the resultset is released\\/freed if the CLSQRY DDM command is sent by the requester or due to some unexpected error condition (as part of ENDQRYRM) returned from the server - but that should happen as part of resultset deallocation logic.. \u003c\\/p\u003e\\n\\n\u003cp\u003eAs far as handling MAXBLKEXT in 3) - I\'d say that we obviously need to take it into account since a client (requester) could set a value different than zero (i.e. other DRDA clients out there).\u003c\\/p\u003e\\n\\n\u003cp\u003eInterestingly enough, the DDM specifications mention the following for MAXBLKEXT:\u003c\\/p\u003e\\n\\n\u003cp\u003e\\\"A value of zero indicates that the requester is not capable of receiving extra query blocks of answer set data. \\\"\u003c\\/p\u003e\\n\\n\u003cp\u003ewhich is the default we have right now, hence the server should not be returning extra query blocks of QRYDTA...would that also be why the client sent CLSQRY in the first place...I mean, if the client set a MAXBLKEXT of zero, then it will not expect reading further data from the server after the initial reply (just some thoughts).\u003c\\/p\u003e\\n\\n\u003cp\u003eNow, the specs also say the following about MAXBLKEXT:\u003c\\/p\u003e\\n\\n\u003cp\u003e\\\"A value of minus one indicates that the requester is capable of receiving the entire result set.\\\"  (am reading this as the requester will be able to receive the entire resultset without any particular limit on the number of blocks of answer set data returned by the server) - this is not very clear from the specs so not completely sure about this. \u003c\\/p\u003e\\n\\n\u003cp\u003eHence, should not we set \'-1\' as the default value of MAXBLKEXT for the Derby DRDA networkclient driver instead of zero? Since and IMHO, the (derby) server should by default try to return the entire resultset (in chunks\\/clocks as appropriate) to the derby networkclient which has control as far as reading more data or not (via CLSQRY) anyway.\u003c\\/p\u003e\\n\\n\u003cp\u003eNow, in case of MAXBLKEXT limit being reached (or in MAXBLKEXT  value being zero) then the server should probably terminate the query via a ENDQRYRM reply and some error condition (Severity Code).\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"forsini\\\" id=\\\"commentauthor_12357630_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=forsini\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"forsini\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Francois Orsini\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12357630_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Nov\\/05 06:12\'\u003e\u003ctime class=\'livestamp\' datetime=\'2005-11-15T06:12:58+0000\'\u003e15\\/Nov\\/05 06:12\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I have done a bit of reading on the subject (which was a great learning exercise btw) and I find Brian\'s approach with 1) and 2) to be appropriate. We\'ll need to ensure the remainder data attached to the resultset is released\\/freed if the CLSQRY DDM command is sent by the requester or due to some unexpected error condition (as part of ENDQRYRM) returned from the server - but that should happen as part of resultset deallocation logic..  \\n\\n As far as handling MAXBLKEXT in 3) - I\'d say that we obviously need to take it into account since a client (requester) could set a value different than zero (i.e. other DRDA clients out there). \\n\\n Interestingly enough, the DDM specifications mention the following for MAXBLKEXT: \\n\\n \\\"A value of zero indicates that the requester is not capable of receiving extra query blocks of answer set data. \\\" \\n\\n which is the default we have right now, hence the server should not be returning extra query blocks of QRYDTA...would that also be why the client sent CLSQRY in the first place...I mean, if the client set a MAXBLKEXT of zero, then it will not expect reading further data from the server after the initial reply (just some thoughts). \\n\\n Now, the specs also say the following about MAXBLKEXT: \\n\\n \\\"A value of minus one indicates that the requester is capable of receiving the entire result set.\\\"  (am reading this as the requester will be able to receive the entire resultset without any particular limit on the number of blocks of answer set data returned by the server) - this is not very clear from the specs so not completely sure about this.  \\n\\n Hence, should not we set \'-1\' as the default value of MAXBLKEXT for the Derby DRDA networkclient driver instead of zero? Since and IMHO, the (derby) server should by default try to return the entire resultset (in chunks\\/clocks as appropriate) to the derby networkclient which has control as far as reading more data or not (via CLSQRY) anyway. \\n\\n Now, in case of MAXBLKEXT limit being reached (or in MAXBLKEXT  value being zero) then the server should probably terminate the query via a ENDQRYRM reply and some error condition (Severity Code).              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12358300\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-614?focusedCommentId=12358300&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12358300\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"bryanpendleton\\\" id=\\\"commentauthor_12358300_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=bryanpendleton\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"bryanpendleton\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Bryan Pendleton\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12358300_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Nov\\/05 05:40\'\u003e\u003ctime class=\'livestamp\' datetime=\'2005-11-23T05:40:35+0000\'\u003e23\\/Nov\\/05 05:40\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eHi Kathey &amp; Francois (&amp; others):\u003c\\/p\u003e\\n\\n\u003cp\u003eI\'m trying to write up a mini-design spec for changes to the DRDA implementation to resolve this issue. But during my research, I\'ve gotten myself pretty confused, and could use some help. Can you consider the following questions and tell me what you think?\u003c\\/p\u003e\\n\\n\u003cp\u003ethanks in advance, bryan\u003c\\/p\u003e\\n\\n\u003cp\u003e1) Does the LMTBLKPRC protocol apply to invocations of callable statements? That is, if we call a procedure, and it has output parameters, and the data in those parameters exceeds the blocksize, should we split the query data and await a CNTQRY?\u003c\\/p\u003e\\n\\n\u003cp\u003e2) When we are returning externalized data as part of the response to a query, are there any rules for the intermingling of the EXTDTA objects and the QRYDTA objects? Suppose, for example, that a particular QRYDTA object contains the end of row 4, the entire contents of rows 5 and 6, and the start of row 7. I believe that the EXTDTA for rows 5 and 6 should be sent after we send this QRYDTA, but I am not sure about the EXTDTA for rows 4 and 7. I guess what I am asking is: is the rule \\\"we send the EXTDTA for a particular row after the QRYDTA which contains the \u003cb\u003estart\u003c\\/b\u003e of this row\\\", or is the rule: \\\"we send the EXTDTA for a particular row after the QRYDTA which contains the \u003cb\u003eend\u003c\\/b\u003e of this row\\\"?\u003c\\/p\u003e\\n\\n\u003cp\u003e3) At the JDBC user level, what JDBC API calls cause the qryrtndta parameter to be set to FALSE. In the DRDA spec, I see: \\\"The qryrtndta parameter specifies whether data is to be returned with the command. If FALSE is sent on the command, the result is that only a positioning fetch operation is performed.\\\" How does this situation actually arise in ordinary use? What sort of client program would I write that would cause qryrtndta to be set to false?\u003c\\/p\u003e\\n\\n\u003cp\u003e4) Do you think that we have any tests in the test suite which validate the behavior of the server when using both LMTBLKPRC protocol and QRYROWSET specification? I\'ve been reading through the DRDA spec\'s discussion of QRYROWSET handling, and although it does provide some rules for how to handle the various combinations which arise, the rules are \u003cb\u003eextremely\u003c\\/b\u003e complicated and I\'m nervous about accidentally breaking this processing.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"bryanpendleton\\\" id=\\\"commentauthor_12358300_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=bryanpendleton\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"bryanpendleton\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Bryan Pendleton\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12358300_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Nov\\/05 05:40\'\u003e\u003ctime class=\'livestamp\' datetime=\'2005-11-23T05:40:35+0000\'\u003e23\\/Nov\\/05 05:40\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Hi Kathey &amp; Francois (&amp; others): \\n\\n I\'m trying to write up a mini-design spec for changes to the DRDA implementation to resolve this issue. But during my research, I\'ve gotten myself pretty confused, and could use some help. Can you consider the following questions and tell me what you think? \\n\\n thanks in advance, bryan \\n\\n 1) Does the LMTBLKPRC protocol apply to invocations of callable statements? That is, if we call a procedure, and it has output parameters, and the data in those parameters exceeds the blocksize, should we split the query data and await a CNTQRY? \\n\\n 2) When we are returning externalized data as part of the response to a query, are there any rules for the intermingling of the EXTDTA objects and the QRYDTA objects? Suppose, for example, that a particular QRYDTA object contains the end of row 4, the entire contents of rows 5 and 6, and the start of row 7. I believe that the EXTDTA for rows 5 and 6 should be sent after we send this QRYDTA, but I am not sure about the EXTDTA for rows 4 and 7. I guess what I am asking is: is the rule \\\"we send the EXTDTA for a particular row after the QRYDTA which contains the  start  of this row\\\", or is the rule: \\\"we send the EXTDTA for a particular row after the QRYDTA which contains the  end  of this row\\\"? \\n\\n 3) At the JDBC user level, what JDBC API calls cause the qryrtndta parameter to be set to FALSE. In the DRDA spec, I see: \\\"The qryrtndta parameter specifies whether data is to be returned with the command. If FALSE is sent on the command, the result is that only a positioning fetch operation is performed.\\\" How does this situation actually arise in ordinary use? What sort of client program would I write that would cause qryrtndta to be set to false? \\n\\n 4) Do you think that we have any tests in the test suite which validate the behavior of the server when using both LMTBLKPRC protocol and QRYROWSET specification? I\'ve been reading through the DRDA spec\'s discussion of QRYROWSET handling, and although it does provide some rules for how to handle the various combinations which arise, the rules are  extremely  complicated and I\'m nervous about accidentally breaking this processing.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12358318\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-614?focusedCommentId=12358318&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12358318\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"bryanpendleton\\\" id=\\\"commentauthor_12358318_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=bryanpendleton\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"bryanpendleton\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Bryan Pendleton\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12358318_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Nov\\/05 09:29\'\u003e\u003ctime class=\'livestamp\' datetime=\'2005-11-23T09:29:26+0000\'\u003e23\\/Nov\\/05 09:29\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eWell, this may be premature, or even wildly wrong, but I took a stab at designing a new implementation of the writeQRYDTA\\/writeFDODTA\\/splitQRYDTA methods in DRDAConnThread.java in order to fix this bug. Please have a look at the attached and tell me what you think. Depending on how much of a turkey coma I suffer from, I may take a stab at coding this up over the long weekend, so it would be great to have some early feedback prior to that.\u003c\\/p\u003e\\n\\n\u003cp\u003ethanks,\u003c\\/p\u003e\\n\\n\u003cp\u003ebryan\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"bryanpendleton\\\" id=\\\"commentauthor_12358318_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=bryanpendleton\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"bryanpendleton\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Bryan Pendleton\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12358318_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Nov\\/05 09:29\'\u003e\u003ctime class=\'livestamp\' datetime=\'2005-11-23T09:29:26+0000\'\u003e23\\/Nov\\/05 09:29\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Well, this may be premature, or even wildly wrong, but I took a stab at designing a new implementation of the writeQRYDTA\\/writeFDODTA\\/splitQRYDTA methods in DRDAConnThread.java in order to fix this bug. Please have a look at the attached and tell me what you think. Depending on how much of a turkey coma I suffer from, I may take a stab at coding this up over the long weekend, so it would be great to have some early feedback prior to that. \\n\\n thanks, \\n\\n bryan              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12358465\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-614?focusedCommentId=12358465&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12358465\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"bryanpendleton\\\" id=\\\"commentauthor_12358465_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=bryanpendleton\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"bryanpendleton\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Bryan Pendleton\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12358465_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Nov\\/05 03:25\'\u003e\u003ctime class=\'livestamp\' datetime=\'2005-11-25T03:25:37+0000\'\u003e25\\/Nov\\/05 03:25\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI\'ve coded up a new implementation, which has some new behaviors. The client likes some of those new behaviors, but doesn\'t like others. Hmmm... this is going to be an \\\"interesting\\\" bug fix. \u003cimg class=\\\"emoticon\\\" src=\\\"\\/jira\\/images\\/icons\\/emoticons\\/smile.png\\\" height=\\\"16\\\" width=\\\"16\\\" align=\\\"absmiddle\\\" alt=\\\"\\\" border=\\\"0\\\"\\/\u003e\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"bryanpendleton\\\" id=\\\"commentauthor_12358465_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=bryanpendleton\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"bryanpendleton\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Bryan Pendleton\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12358465_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Nov\\/05 03:25\'\u003e\u003ctime class=\'livestamp\' datetime=\'2005-11-25T03:25:37+0000\'\u003e25\\/Nov\\/05 03:25\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I\'ve coded up a new implementation, which has some new behaviors. The client likes some of those new behaviors, but doesn\'t like others. Hmmm... this is going to be an \\\"interesting\\\" bug fix.                \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12358557\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-614?focusedCommentId=12358557&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12358557\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"bryanpendleton\\\" id=\\\"commentauthor_12358557_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=bryanpendleton\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"bryanpendleton\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Bryan Pendleton\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12358557_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'27\\/Nov\\/05 01:02\'\u003e\u003ctime class=\'livestamp\' datetime=\'2005-11-27T01:02:13+0000\'\u003e27\\/Nov\\/05 01:02\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eAfter stepping through the current code carefully in the debugger, and trying several failed attempts at changes, I learned several more things:\u003c\\/p\u003e\\n\\n\u003cp\u003eFirst, as Kathey observed on the mailing list, qryrowset is commonly 0 when clients perform a fetch of result set data. This means that the \\\"while\\\" loop in writeFDODTA usually runs exactly one time, and it is the responsibility of the \\\"while\\\" loop in writeQRYDTA to compose the implicit row set for return. I do think that it would be possible to push this behavior down into writeFDODTA and have a single \\\"while\\\" loop handle all these cases, but I also think that writeFDODTA is already complicated enough, so I chose instead to keep the current behavior, to be more surgical in my changes, and to document as best I could what is going on.\u003c\\/p\u003e\\n\\n\u003cp\u003eSecond, test \\\"big.sql\\\" in the lang suite does a pretty good job of exposing a lot of the interesting behaviors of this part of the code.\u003c\\/p\u003e\\n\\n\u003cp\u003eThird, as Kathey observed on the mailing list, the new member variable to hold the split data between client requests belongs on the DRDAResultSet, not on the DRDAStatement. I\'m still not really sure I understand this business about a statement having multiple current result sets, but the implementation is much more natural with that change.\u003c\\/p\u003e\\n\\n\u003cp\u003eFourth, it appears that the current code has the behavior that, when sending the remainder data for a split row in a subsequent QRYDTA block, no additional rows are added to an implicit result set for that QRYDTA block. Instead, the remainder data is placed into the QRYDTA block and immediately returned, and a subsequent CNTQRY\\/QRYDTA pair is needed to start fetching additional rows. This had completely escaped me during \\\"code reading\\\", but it is the whole point of the \\\"moreData=false\\\" after calling splitQRYDTA from writeFDODTA.\u003c\\/p\u003e\\n\\n\u003cp\u003eFifth, with respect to EXTDTA and split query data, the behavior of the current code appears to be \\\"we send the EXTDTA for a particular row after the QRYDTA which contains the \u003cb\u003eend\u003c\\/b\u003e of this row.\\\" I have tried to retain this behavior in the new code. One interesting case is when a row must be split across not just 2, but 3 QRYDTA blocks; in this case the EXTDTA needs to be sent after the 3rd such block; that is the reason for the extra \\\"if\\\" statement in writeQRYDTA.\u003c\\/p\u003e\\n\\n\u003cp\u003eLastly, I\'m still not sure I understand how LMTBLKPRC is supposed to interact with callable procedure statements, nor do I understand what  would cause the qryrtndta field to be set to FALSE, but I think that my changes don\'t materially affect those cases, and the new code should have generally the same behaviors in those cases as the old code.\u003c\\/p\u003e\\n\\n\u003cp\u003eI\'m doing some final testing, and should post my patch shortly.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"bryanpendleton\\\" id=\\\"commentauthor_12358557_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=bryanpendleton\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"bryanpendleton\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Bryan Pendleton\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12358557_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'27\\/Nov\\/05 01:02\'\u003e\u003ctime class=\'livestamp\' datetime=\'2005-11-27T01:02:13+0000\'\u003e27\\/Nov\\/05 01:02\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    After stepping through the current code carefully in the debugger, and trying several failed attempts at changes, I learned several more things: \\n\\n First, as Kathey observed on the mailing list, qryrowset is commonly 0 when clients perform a fetch of result set data. This means that the \\\"while\\\" loop in writeFDODTA usually runs exactly one time, and it is the responsibility of the \\\"while\\\" loop in writeQRYDTA to compose the implicit row set for return. I do think that it would be possible to push this behavior down into writeFDODTA and have a single \\\"while\\\" loop handle all these cases, but I also think that writeFDODTA is already complicated enough, so I chose instead to keep the current behavior, to be more surgical in my changes, and to document as best I could what is going on. \\n\\n Second, test \\\"big.sql\\\" in the lang suite does a pretty good job of exposing a lot of the interesting behaviors of this part of the code. \\n\\n Third, as Kathey observed on the mailing list, the new member variable to hold the split data between client requests belongs on the DRDAResultSet, not on the DRDAStatement. I\'m still not really sure I understand this business about a statement having multiple current result sets, but the implementation is much more natural with that change. \\n\\n Fourth, it appears that the current code has the behavior that, when sending the remainder data for a split row in a subsequent QRYDTA block, no additional rows are added to an implicit result set for that QRYDTA block. Instead, the remainder data is placed into the QRYDTA block and immediately returned, and a subsequent CNTQRY\\/QRYDTA pair is needed to start fetching additional rows. This had completely escaped me during \\\"code reading\\\", but it is the whole point of the \\\"moreData=false\\\" after calling splitQRYDTA from writeFDODTA. \\n\\n Fifth, with respect to EXTDTA and split query data, the behavior of the current code appears to be \\\"we send the EXTDTA for a particular row after the QRYDTA which contains the  end  of this row.\\\" I have tried to retain this behavior in the new code. One interesting case is when a row must be split across not just 2, but 3 QRYDTA blocks; in this case the EXTDTA needs to be sent after the 3rd such block; that is the reason for the extra \\\"if\\\" statement in writeQRYDTA. \\n\\n Lastly, I\'m still not sure I understand how LMTBLKPRC is supposed to interact with callable procedure statements, nor do I understand what  would cause the qryrtndta field to be set to FALSE, but I think that my changes don\'t materially affect those cases, and the new code should have generally the same behaviors in those cases as the old code. \\n\\n I\'m doing some final testing, and should post my patch shortly.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12358559\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-614?focusedCommentId=12358559&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12358559\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"bryanpendleton\\\" id=\\\"commentauthor_12358559_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=bryanpendleton\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"bryanpendleton\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Bryan Pendleton\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12358559_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'27\\/Nov\\/05 01:32\'\u003e\u003ctime class=\'livestamp\' datetime=\'2005-11-27T01:32:37+0000\'\u003e27\\/Nov\\/05 01:32\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eHere\'s my proposed patch. It includes substantive changes to DRDAResultSet, DRDAStatement, and DRDAConnThread, changes to the big.sql tests, and a small new test called jira614.java which specifically reproduces this bug.\u003c\\/p\u003e\\n\\n\u003cp\u003eFor reviewers: the big.sql tests pass with both the old code and with the new code. I added new tests here in order to exercise a few more cases of the new code, specifically the handling of rows which were split across 3 QRYDTA blocks, but those cases were not broken in the old code, so the tests pass in both cases. The new jira614 test fails with the old code, but passes with the new code.\u003c\\/p\u003e\\n\\n\u003cp\u003eSuggestions about additional testing that may be needed are welcome. I\'ve run the reproduction case, as well as all the cases in both derbynetmats and derbynetclientmats, which appear to be the primary test suites for testing the network server code.\u003c\\/p\u003e\\n\\n\u003cp\u003eAlso, of course, suggestions and feedback about the code changes themselves would be wonderful!\u003c\\/p\u003e\\n\\n\u003cp\u003ePlease have a look at these changes at your convenience.\u003c\\/p\u003e\\n\\n\u003cp\u003ethanks,\u003c\\/p\u003e\\n\\n\u003cp\u003ebryan\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"bryanpendleton\\\" id=\\\"commentauthor_12358559_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=bryanpendleton\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"bryanpendleton\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Bryan Pendleton\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12358559_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'27\\/Nov\\/05 01:32\'\u003e\u003ctime class=\'livestamp\' datetime=\'2005-11-27T01:32:37+0000\'\u003e27\\/Nov\\/05 01:32\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Here\'s my proposed patch. It includes substantive changes to DRDAResultSet, DRDAStatement, and DRDAConnThread, changes to the big.sql tests, and a small new test called jira614.java which specifically reproduces this bug. \\n\\n For reviewers: the big.sql tests pass with both the old code and with the new code. I added new tests here in order to exercise a few more cases of the new code, specifically the handling of rows which were split across 3 QRYDTA blocks, but those cases were not broken in the old code, so the tests pass in both cases. The new jira614 test fails with the old code, but passes with the new code. \\n\\n Suggestions about additional testing that may be needed are welcome. I\'ve run the reproduction case, as well as all the cases in both derbynetmats and derbynetclientmats, which appear to be the primary test suites for testing the network server code. \\n\\n Also, of course, suggestions and feedback about the code changes themselves would be wonderful! \\n\\n Please have a look at these changes at your convenience. \\n\\n thanks, \\n\\n bryan              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12358565\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-614?focusedCommentId=12358565&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12358565\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"bryanpendleton\\\" id=\\\"commentauthor_12358565_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=bryanpendleton\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"bryanpendleton\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Bryan Pendleton\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12358565_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'27\\/Nov\\/05 05:25\'\u003e\u003ctime class=\'livestamp\' datetime=\'2005-11-27T05:25:20+0000\'\u003e27\\/Nov\\/05 05:25\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eUgh. There\'s always 1 last detail. My new test case in lang\\/big.sql fails, but only:\u003c\\/p\u003e\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003eif run with the db2jcc.jar driver\u003c\\/li\u003e\\n\\t\u003cli\u003eAND if the client is run by the test harness\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003eFor some reason, if I just run IJ using the DB2Driver and run big.sql interactively (using \\\"run \'big.sql\';\\\"), the test runs fine.\u003c\\/p\u003e\\n\\n\u003cp\u003eBut if I run it with all the flags that the harness uses, then I get a problem. So there\'s something in:\u003c\\/p\u003e\\n\\n\u003cp\u003eC:\\\\bryan\\\\src\\\\derby\\\\main\\\\tests&gt;java -Dderby.system.home=C:\\\\bryan\\\\src\\\\derby\\\\main\\\\t\u003cbr\\/\u003e\\nests\\\\DerbyNet\\\\big -Dderby.infolog.append=true -Duser.dir=C:\\\\bryan\\\\src\\\\derby\\\\main\u003cbr\\/\u003e\\n\\\\tests -Dij.defaultResourcePackage=\\/org\\/apache\\/derbyTesting\\/functionTests\\/tests\\/\u003cbr\\/\u003e\\nlang\\/ -Dframework=DerbyNet -Dconsole.encoding=Cp1252 org.apache.derby.tools.ij -\u003cbr\\/\u003e\\nfr big.sql -p C:\\\\bryan\\\\src\\\\derby\\\\main\\\\tests\\\\DerbyNet\\\\big\\\\big_app.properties\u003c\\/p\u003e\\n\\n\u003cp\u003ethat is altering the behavior. Sigh. More fun things to investigate \u003cimg class=\\\"emoticon\\\" src=\\\"\\/jira\\/images\\/icons\\/emoticons\\/smile.png\\\" height=\\\"16\\\" width=\\\"16\\\" align=\\\"absmiddle\\\" alt=\\\"\\\" border=\\\"0\\\"\\/\u003e\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"bryanpendleton\\\" id=\\\"commentauthor_12358565_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=bryanpendleton\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"bryanpendleton\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Bryan Pendleton\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12358565_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'27\\/Nov\\/05 05:25\'\u003e\u003ctime class=\'livestamp\' datetime=\'2005-11-27T05:25:20+0000\'\u003e27\\/Nov\\/05 05:25\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Ugh. There\'s always 1 last detail. My new test case in lang\\/big.sql fails, but only: \\n \\n\\t if run with the db2jcc.jar driver \\n\\t AND if the client is run by the test harness \\n \\n\\n\\n For some reason, if I just run IJ using the DB2Driver and run big.sql interactively (using \\\"run \'big.sql\';\\\"), the test runs fine. \\n\\n But if I run it with all the flags that the harness uses, then I get a problem. So there\'s something in: \\n\\n C:\\\\bryan\\\\src\\\\derby\\\\main\\\\tests&gt;java -Dderby.system.home=C:\\\\bryan\\\\src\\\\derby\\\\main\\\\t \\nests\\\\DerbyNet\\\\big -Dderby.infolog.append=true -Duser.dir=C:\\\\bryan\\\\src\\\\derby\\\\main \\n\\\\tests -Dij.defaultResourcePackage=\\/org\\/apache\\/derbyTesting\\/functionTests\\/tests\\/ \\nlang\\/ -Dframework=DerbyNet -Dconsole.encoding=Cp1252 org.apache.derby.tools.ij - \\nfr big.sql -p C:\\\\bryan\\\\src\\\\derby\\\\main\\\\tests\\\\DerbyNet\\\\big\\\\big_app.properties \\n\\n that is altering the behavior. Sigh. More fun things to investigate                \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12358655\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-614?focusedCommentId=12358655&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12358655\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kmarsden\\\" id=\\\"commentauthor_12358655_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kmarsden\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kmarsden\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Kathey Marsden\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12358655_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Nov\\/05 23:09\'\u003e\u003ctime class=\'livestamp\' datetime=\'2005-11-28T23:09:24+0000\'\u003e28\\/Nov\\/05 23:09\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThe change looks good to me.  A couple small points and a request....\u003c\\/p\u003e\\n\\n\u003cp\u003eFor the assertion \\\"There was no data to split\\\", it would be good to have something a bit more  descriptive.  \u003c\\/p\u003e\\n\\n\u003cp\u003eCan the Jira614.java  test be added to an existing test like prepStmt.java to avoid  additional database creation in the test suite?\u003c\\/p\u003e\\n\\n\\n\u003cp\u003eWould you be willing to try  your server with the original 10.1 client release?Probably the easiest thing to do  is  run derbynetclientmats with the derbyTesting.jar and derbyclient.jar from the 10.1.1.0 release and your 10.2 derby.jar and derbynet.jar.  There may be a few diffs because of bug fixes in 10.2. If you post the diffs I\'d be happy to spot check if they just look like bugfixes.\u003c\\/p\u003e\\n\\n\u003cp\u003eOther thoughts that came to mind upon reviewing this change, but not  directly relevant to the fix:\u003c\\/p\u003e\\n\\n\u003cp\u003eEven though the agent errors are essentially assertions it might be good to file a Jira entry to localize them, since we do not put them in SanityManager.DEBUG blocks and they could be returned to the user.\u003c\\/p\u003e\\n\\n\\n\u003cp\u003eSince splitting is expensive, it might it be good for network server to be a bit smarter about the split by either improving the coarse estimation in writeQRYDTA or doing something more efficient to handle the overrun than copying it into a new array.  Of course that may make bugs like this even harder to track down.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kmarsden\\\" id=\\\"commentauthor_12358655_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kmarsden\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kmarsden\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Kathey Marsden\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12358655_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Nov\\/05 23:09\'\u003e\u003ctime class=\'livestamp\' datetime=\'2005-11-28T23:09:24+0000\'\u003e28\\/Nov\\/05 23:09\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    The change looks good to me.  A couple small points and a request.... \\n\\n For the assertion \\\"There was no data to split\\\", it would be good to have something a bit more  descriptive.   \\n\\n Can the Jira614.java  test be added to an existing test like prepStmt.java to avoid  additional database creation in the test suite? \\n\\n\\n Would you be willing to try  your server with the original 10.1 client release?Probably the easiest thing to do  is  run derbynetclientmats with the derbyTesting.jar and derbyclient.jar from the 10.1.1.0 release and your 10.2 derby.jar and derbynet.jar.  There may be a few diffs because of bug fixes in 10.2. If you post the diffs I\'d be happy to spot check if they just look like bugfixes. \\n\\n Other thoughts that came to mind upon reviewing this change, but not  directly relevant to the fix: \\n\\n Even though the agent errors are essentially assertions it might be good to file a Jira entry to localize them, since we do not put them in SanityManager.DEBUG blocks and they could be returned to the user. \\n\\n\\n Since splitting is expensive, it might it be good for network server to be a bit smarter about the split by either improving the coarse estimation in writeQRYDTA or doing something more efficient to handle the overrun than copying it into a new array.  Of course that may make bugs like this even harder to track down.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12359256\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-614?focusedCommentId=12359256&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12359256\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"bryanpendleton\\\" id=\\\"commentauthor_12359256_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=bryanpendleton\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"bryanpendleton\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Bryan Pendleton\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12359256_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Dec\\/05 02:38\'\u003e\u003ctime class=\'livestamp\' datetime=\'2005-12-05T02:38:59+0000\'\u003e05\\/Dec\\/05 02:38\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eHere are the results from running derbynetclientmats with the 10.1.1.0 versions of derbyTesting.jar and derbyclient.jar in my classpath.\u003c\\/p\u003e\\n\\n\u003cp\u003eI didn\'t see anything that directly pointed to a problem with the patch, but I didn\'t know how to interpret\\/explain all the diffs.\u003c\\/p\u003e\\n\\n\u003cp\u003ePlease have a look, Kathey, and tell me if any of these results concern you.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"bryanpendleton\\\" id=\\\"commentauthor_12359256_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=bryanpendleton\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"bryanpendleton\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Bryan Pendleton\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12359256_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Dec\\/05 02:38\'\u003e\u003ctime class=\'livestamp\' datetime=\'2005-12-05T02:38:59+0000\'\u003e05\\/Dec\\/05 02:38\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Here are the results from running derbynetclientmats with the 10.1.1.0 versions of derbyTesting.jar and derbyclient.jar in my classpath. \\n\\n I didn\'t see anything that directly pointed to a problem with the patch, but I didn\'t know how to interpret\\/explain all the diffs. \\n\\n Please have a look, Kathey, and tell me if any of these results concern you.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12359267\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-614?focusedCommentId=12359267&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12359267\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"bryanpendleton\\\" id=\\\"commentauthor_12359267_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=bryanpendleton\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"bryanpendleton\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Bryan Pendleton\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12359267_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Dec\\/05 10:42\'\u003e\u003ctime class=\'livestamp\' datetime=\'2005-12-05T10:42:58+0000\'\u003e05\\/Dec\\/05 10:42\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eHere is an updated patch and updated SVN status incorporating Kathey\'s feedback:\u003c\\/p\u003e\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003ebig.sql includes some simple SQL tests of the split code\u003c\\/li\u003e\\n\\t\u003cli\u003enew method jira614 within prepStmt.java includes a focused test of precisely\u003cbr\\/\u003e\\n  the situation that raised the original bug.\u003c\\/li\u003e\\n\\t\u003cli\u003eI tried to make the assertion in splitQRYDTA more descriptive of what it was trying to catch\u003c\\/li\u003e\\n\\t\u003cli\u003eI added some comments about the issues involved in splitting, and about possible\u003cbr\\/\u003e\\n  alternate algorithms\u003cbr\\/\u003e\\nboth DerbyNet and DerbyNetClient pass with this patch, and the rest of derbyall was uneventful, too.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"bryanpendleton\\\" id=\\\"commentauthor_12359267_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=bryanpendleton\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"bryanpendleton\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Bryan Pendleton\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12359267_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Dec\\/05 10:42\'\u003e\u003ctime class=\'livestamp\' datetime=\'2005-12-05T10:42:58+0000\'\u003e05\\/Dec\\/05 10:42\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Here is an updated patch and updated SVN status incorporating Kathey\'s feedback: \\n \\n\\t big.sql includes some simple SQL tests of the split code \\n\\t new method jira614 within prepStmt.java includes a focused test of precisely \\n  the situation that raised the original bug. \\n\\t I tried to make the assertion in splitQRYDTA more descriptive of what it was trying to catch \\n\\t I added some comments about the issues involved in splitting, and about possible \\n  alternate algorithms \\nboth DerbyNet and DerbyNetClient pass with this patch, and the rest of derbyall was uneventful, too. \\n \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12360015\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-614?focusedCommentId=12360015&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12360015\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kmarsden\\\" id=\\\"commentauthor_12360015_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kmarsden\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kmarsden\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Kathey Marsden\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12360015_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'10\\/Dec\\/05 11:01\'\u003e\u003ctime class=\'livestamp\' datetime=\'2005-12-10T11:01:43+0000\'\u003e10\\/Dec\\/05 11:01\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI committed this patch \u003c\\/p\u003e\\n\\n\u003cp\u003eDate: Fri Dec  9 17:51:26 2005\u003cbr\\/\u003e\\nNew Revision: 355689\u003cbr\\/\u003e\\nURL: \u003ca href=\\\"http:\\/\\/svn.apache.org\\/viewcvs?rev=355689&amp;view=rev\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/svn.apache.org\\/viewcvs?rev=355689&amp;view=rev\u003c\\/a\u003e\u003c\\/p\u003e\\n\\n\\n\u003cp\u003eThanks so much for the wonderful fix and the great javadoc you added. \u003c\\/p\u003e\\n\\n\u003cp\u003eOne thing I did notice that deserves followup and may be related to the intermittent hangs you have seen,  is that there was a finalizeChain() call in the old file on line 6139 that seems to be missing from the new version,  line 6278.\u003cbr\\/\u003e\\nThis might be the source of the hang you reported for one of the dss chaining bugs  (I can\'t seem to find that mail now).\u003c\\/p\u003e\\n\\n\u003cp\u003eCan you take a look at that and also clean up the out of date patch attachments to 614.\u003c\\/p\u003e\\n\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kmarsden\\\" id=\\\"commentauthor_12360015_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kmarsden\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kmarsden\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Kathey Marsden\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12360015_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'10\\/Dec\\/05 11:01\'\u003e\u003ctime class=\'livestamp\' datetime=\'2005-12-10T11:01:43+0000\'\u003e10\\/Dec\\/05 11:01\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I committed this patch  \\n\\n Date: Fri Dec  9 17:51:26 2005 \\nNew Revision: 355689 \\nURL:  http:\\/\\/svn.apache.org\\/viewcvs?rev=355689&amp;view=rev  \\n\\n\\n Thanks so much for the wonderful fix and the great javadoc you added.  \\n\\n One thing I did notice that deserves followup and may be related to the intermittent hangs you have seen,  is that there was a finalizeChain() call in the old file on line 6139 that seems to be missing from the new version,  line 6278. \\nThis might be the source of the hang you reported for one of the dss chaining bugs  (I can\'t seem to find that mail now). \\n\\n Can you take a look at that and also clean up the out of date patch attachments to 614. \\n\\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12360229\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-614?focusedCommentId=12360229&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12360229\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"bryanpendleton\\\" id=\\\"commentauthor_12360229_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=bryanpendleton\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"bryanpendleton\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Bryan Pendleton\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12360229_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'13\\/Dec\\/05 03:00\'\u003e\u003ctime class=\'livestamp\' datetime=\'2005-12-13T03:00:10+0000\'\u003e13\\/Dec\\/05 03:00\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eAfter re-reading the changes and stepping through the code again, I believe that the patch is correct, and the removal of the finalizeChain() call from splitQRYDTA is proper. Here is my reasoning:\u003c\\/p\u003e\\n\\n\u003cp\u003eThe previous flow-of-control for a split QRYDTA block was that writeFDODTA assembled a large row, which splitQRYDTA then split across multiple QRYDTA blocks, sending each of those blocks and waiting for the next CNTQRY message before continuing. By the time that splitQRYDTA returned, any QRYDTA blocks containing partial portions of that large row had been sent to the client, and the current QRYDTA block was filled with the final bytes of the split row. The finalizeChain call in splitQRYDTA was necessary because that was how the partial QRYDTA blocks were sent to the client.\u003c\\/p\u003e\\n\\n\u003cp\u003eIn the new flow-of-control, splitQRYDTA does not actually send the QRYDTA block to the client, nor does it wait for the CNTQRY from the client. Instead, all sending and receiving happens in the \\\"normal\\\" location in processCommands. splitQRYDTA arranges to split the data, records the partial data in the result set, and control \\\"pops\\\" all the way back out to processCommands. The QRYDTA block which contains the partial row data is sent by the finalizeChain() call in processCommands, at line 897.\u003c\\/p\u003e\\n\\n\u003cp\u003eIn all cases, in both old and new code, externalized data was sent after the QRYDTA containing the last remainder bytes of the split row, by calling writeEXTDTA from writeQRYDTA.\u003c\\/p\u003e\\n\\n\u003cp\u003eThus the old code had two finalizeChain calls, because a QRYDTA block might be sent either by processCommands, or by splitQRYDTA, depending on whether it contained a split row or not. The new code has only one finalizeChain call, because all QRYDTA blocks are sent by processCommands.\u003c\\/p\u003e\\n\\n\u003cp\u003eOne case that I had trouble exercising in my testing is that there is \u003cb\u003ealso\u003c\\/b\u003e a call to splitQRYDTA from doneData, and perhaps in that case there is a problem? Fundamentally, I think the flow of control will be the same: doneData calls splitQRYDTA to prepare the partial block, control pops back out to processCommands to send the response and wait for the CNTQRY, then processLeftoverQRYDTA will drop the remainder bytes into a subsequent QRYDTA to be sent. Still, I have not been able to provoke such a case in my simple testing.\u003c\\/p\u003e\\n\\n\u003cp\u003eAre there flaws in my reasoning here? Additional test cases I should try?\u003c\\/p\u003e\\n\\n\u003cp\u003eDo you know of a test case which will cause splitQRYDTA to be called from doneData? \u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"bryanpendleton\\\" id=\\\"commentauthor_12360229_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=bryanpendleton\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"bryanpendleton\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Bryan Pendleton\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12360229_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'13\\/Dec\\/05 03:00\'\u003e\u003ctime class=\'livestamp\' datetime=\'2005-12-13T03:00:10+0000\'\u003e13\\/Dec\\/05 03:00\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    After re-reading the changes and stepping through the code again, I believe that the patch is correct, and the removal of the finalizeChain() call from splitQRYDTA is proper. Here is my reasoning: \\n\\n The previous flow-of-control for a split QRYDTA block was that writeFDODTA assembled a large row, which splitQRYDTA then split across multiple QRYDTA blocks, sending each of those blocks and waiting for the next CNTQRY message before continuing. By the time that splitQRYDTA returned, any QRYDTA blocks containing partial portions of that large row had been sent to the client, and the current QRYDTA block was filled with the final bytes of the split row. The finalizeChain call in splitQRYDTA was necessary because that was how the partial QRYDTA blocks were sent to the client. \\n\\n In the new flow-of-control, splitQRYDTA does not actually send the QRYDTA block to the client, nor does it wait for the CNTQRY from the client. Instead, all sending and receiving happens in the \\\"normal\\\" location in processCommands. splitQRYDTA arranges to split the data, records the partial data in the result set, and control \\\"pops\\\" all the way back out to processCommands. The QRYDTA block which contains the partial row data is sent by the finalizeChain() call in processCommands, at line 897. \\n\\n In all cases, in both old and new code, externalized data was sent after the QRYDTA containing the last remainder bytes of the split row, by calling writeEXTDTA from writeQRYDTA. \\n\\n Thus the old code had two finalizeChain calls, because a QRYDTA block might be sent either by processCommands, or by splitQRYDTA, depending on whether it contained a split row or not. The new code has only one finalizeChain call, because all QRYDTA blocks are sent by processCommands. \\n\\n One case that I had trouble exercising in my testing is that there is  also  a call to splitQRYDTA from doneData, and perhaps in that case there is a problem? Fundamentally, I think the flow of control will be the same: doneData calls splitQRYDTA to prepare the partial block, control pops back out to processCommands to send the response and wait for the CNTQRY, then processLeftoverQRYDTA will drop the remainder bytes into a subsequent QRYDTA to be sent. Still, I have not been able to provoke such a case in my simple testing. \\n\\n Are there flaws in my reasoning here? Additional test cases I should try? \\n\\n Do you know of a test case which will cause splitQRYDTA to be called from doneData?               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12360509\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-614?focusedCommentId=12360509&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12360509\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"bryanpendleton\\\" id=\\\"commentauthor_12360509_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=bryanpendleton\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"bryanpendleton\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Bryan Pendleton\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12360509_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'16\\/Dec\\/05 01:17\'\u003e\u003ctime class=\'livestamp\' datetime=\'2005-12-16T01:17:55+0000\'\u003e16\\/Dec\\/05 01:17\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eMarking as closed since Kathey has committed the patch to the trunk and I\'ve verified that it addresses my problem.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"bryanpendleton\\\" id=\\\"commentauthor_12360509_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=bryanpendleton\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"bryanpendleton\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Bryan Pendleton\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12360509_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'16\\/Dec\\/05 01:17\'\u003e\u003ctime class=\'livestamp\' datetime=\'2005-12-16T01:17:55+0000\'\u003e16\\/Dec\\/05 01:17\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Marking as closed since Kathey has committed the patch to the trunk and I\'ve verified that it addresses my problem.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12366650\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-614?focusedCommentId=12366650&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12366650\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"deepa\\\" id=\\\"commentauthor_12366650_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=deepa\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=34050\\\" alt=\\\"deepa\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Deepa Remesh\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12366650_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Feb\\/06 03:02\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-02-17T03:02:33+0000\'\u003e17\\/Feb\\/06 03:02\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eReopening this bug to submit a patch to reset splitQRYDTA variable in DRDAResultSet.close(). This was found when working on \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-210\\\" title=\\\"Network Server will leak prepared statements if not explicitly closed by the user until the connection is closed\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-210\\\"\u003eDERBY-210\u003c\\/a\u003e and discussion in derby-dev can be found in this thread: \u003ca href=\\\"http:\\/\\/www.nabble.com\\/-jira-Commented%3A-%28DERBY-210%29-Network-Server-will-leak-prepared-statements-if-not-explicitly-closed-by-the-user-until-the-connection-is-closed-t1116045.html#a2952317\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/www.nabble.com\\/-jira-Commented%3A-%28DERBY-210%29-Network-Server-will-leak-prepared-statements-if-not-explicitly-closed-by-the-user-until-the-connection-is-closed-t1116045.html#a2952317\u003c\\/a\u003e\u003c\\/p\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"deepa\\\" id=\\\"commentauthor_12366650_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=deepa\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=34050\\\" alt=\\\"deepa\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Deepa Remesh\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12366650_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Feb\\/06 03:02\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-02-17T03:02:33+0000\'\u003e17\\/Feb\\/06 03:02\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Reopening this bug to submit a patch to reset splitQRYDTA variable in DRDAResultSet.close(). This was found when working on  DERBY-210  and discussion in derby-dev can be found in this thread:  http:\\/\\/www.nabble.com\\/-jira-Commented%3A-%28DERBY-210%29-Network-Server-will-leak-prepared-statements-if-not-explicitly-closed-by-the-user-until-the-connection-is-closed-t1116045.html#a2952317  \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12366651\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-614?focusedCommentId=12366651&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12366651\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"deepa\\\" id=\\\"commentauthor_12366651_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=deepa\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=34050\\\" alt=\\\"deepa\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Deepa Remesh\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12366651_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Feb\\/06 03:05\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-02-17T03:05:22+0000\'\u003e17\\/Feb\\/06 03:05\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eAttaching a patch \'reset_drda_rs.diff\' which resets splitQRYDTA field in DRDAResultSet.close() method. This patch changes only one file:\u003c\\/p\u003e\\n\\n\u003cp\u003eM      java\\\\drda\\\\org\\\\apache\\\\derby\\\\impl\\\\drda\\\\DRDAResultSet.java\u003c\\/p\u003e\\n\\n\u003cp\u003eWith this patch, I ran derbynetmats and derbynetclientmats with Sun JDK 1.4.2 on Win XP. No failures.\u003c\\/p\u003e\\n\\n\u003cp\u003eBryan mentioned he\'ll try to make a repro\\/test specific to this issue: \u003cbr\\/\u003e\\n\u003ca href=\\\"http:\\/\\/www.nabble.com\\/Re%3A-jira-Commented%3A-%28DERBY-210%29-Network-Server-will-leak-prepared-statements-if-not-explicitly-closed-by-the-user-until-the-connection-is-closed-p2961106.html\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/www.nabble.com\\/Re%3A-jira-Commented%3A-%28DERBY-210%29-Network-Server-will-leak-prepared-statements-if-not-explicitly-closed-by-the-user-until-the-connection-is-closed-p2961106.html\u003c\\/a\u003e\u003c\\/p\u003e\\n\\n\u003cp\u003eI would appreciate if someone can take a look and commit this patch. Thanks.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"deepa\\\" id=\\\"commentauthor_12366651_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=deepa\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=34050\\\" alt=\\\"deepa\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Deepa Remesh\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12366651_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Feb\\/06 03:05\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-02-17T03:05:22+0000\'\u003e17\\/Feb\\/06 03:05\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Attaching a patch \'reset_drda_rs.diff\' which resets splitQRYDTA field in DRDAResultSet.close() method. This patch changes only one file: \\n\\n M      java\\\\drda\\\\org\\\\apache\\\\derby\\\\impl\\\\drda\\\\DRDAResultSet.java \\n\\n With this patch, I ran derbynetmats and derbynetclientmats with Sun JDK 1.4.2 on Win XP. No failures. \\n\\n Bryan mentioned he\'ll try to make a repro\\/test specific to this issue:  \\n http:\\/\\/www.nabble.com\\/Re%3A-jira-Commented%3A-%28DERBY-210%29-Network-Server-will-leak-prepared-statements-if-not-explicitly-closed-by-the-user-until-the-connection-is-closed-p2961106.html  \\n\\n I would appreciate if someone can take a look and commit this patch. Thanks.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12366657\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-614?focusedCommentId=12366657&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12366657\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"bryanpendleton\\\" id=\\\"commentauthor_12366657_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=bryanpendleton\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"bryanpendleton\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Bryan Pendleton\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12366657_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Feb\\/06 03:35\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-02-17T03:35:01+0000\'\u003e17\\/Feb\\/06 03:35\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eWelcome back, JIRA! Attached is d614_a.diff, which contains the patch that Deepa found as well as a new regression test which demonstrates the problem. To verify this fix, run the regression test without the patch and you will get a StringOutOfBoundsException in the client-side parsing, then apply the one-line change to DRDAResultSet.java and the test will pass. To run the test by itself:\u003c\\/p\u003e\\n\\n\u003cp\u003e  java -Dframework=DerbyNetClient org.apache.derbyTesting.functionTests.harness.RunTest derbynet\\/prepStmt.java\u003c\\/p\u003e\\n\\n\u003cp\u003eThank you very much to Deepa for finding the problem and describing it so clearly. For everybody else, here\'s the quick summary:\u003c\\/p\u003e\\n\\n\u003cp\u003e  DRDAStatement objects on the server side can get re-used after they have been closed.\u003cbr\\/\u003e\\n  After a statement has been closed, the client may re-use the Section Number when\u003cbr\\/\u003e\\n  sending a new request for a new statement. The server then discovers that there was\u003cbr\\/\u003e\\n  a statement object in memory, and it automatically closes that statement and re-uses\u003cbr\\/\u003e\\n  it. With my first patch to this bug, I introduced a problem in this processing; the\u003cbr\\/\u003e\\n  splitQRYDTA field was not cleared when the statement was closed. This meant that\u003cbr\\/\u003e\\n  if that splitQRYDTA field just happened to have some pending query data from the\u003cbr\\/\u003e\\n  previous statement at the point where it was re-used, the pending query data would\u003cbr\\/\u003e\\n  erroneously stick around and be returned as the first result for the new statement.\u003c\\/p\u003e\\n\\n\u003cp\u003e  Thus, the conditions that lead up to this bug are:\u003c\\/p\u003e\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003ea statement is created, and results are fetched, and a QRYDTA block has to be split.\u003c\\/li\u003e\\n\\t\u003cli\u003einstead of sending a CNTQRY to fetch the split data, the client instead closes the\u003cbr\\/\u003e\\n    statement.\u003c\\/li\u003e\\n\\t\u003cli\u003ethen, the client creates a new statement with the same Section Number (it is free to\u003cbr\\/\u003e\\n   do so, since the previous statement has been closed), and sends a new query\u003cbr\\/\u003e\\n   request over.\u003c\\/li\u003e\\n\\t\u003cli\u003eat that point, the server responds to the new query with the leftover split QRYDATA.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003eThe regression test simply forces the server down this code path.\u003c\\/p\u003e\\n\\n\u003cp\u003eIf somebody could please take a look at this patch, I would be very grateful.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"bryanpendleton\\\" id=\\\"commentauthor_12366657_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=bryanpendleton\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"bryanpendleton\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Bryan Pendleton\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12366657_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Feb\\/06 03:35\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-02-17T03:35:01+0000\'\u003e17\\/Feb\\/06 03:35\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Welcome back, JIRA! Attached is d614_a.diff, which contains the patch that Deepa found as well as a new regression test which demonstrates the problem. To verify this fix, run the regression test without the patch and you will get a StringOutOfBoundsException in the client-side parsing, then apply the one-line change to DRDAResultSet.java and the test will pass. To run the test by itself: \\n\\n   java -Dframework=DerbyNetClient org.apache.derbyTesting.functionTests.harness.RunTest derbynet\\/prepStmt.java \\n\\n Thank you very much to Deepa for finding the problem and describing it so clearly. For everybody else, here\'s the quick summary: \\n\\n   DRDAStatement objects on the server side can get re-used after they have been closed. \\n  After a statement has been closed, the client may re-use the Section Number when \\n  sending a new request for a new statement. The server then discovers that there was \\n  a statement object in memory, and it automatically closes that statement and re-uses \\n  it. With my first patch to this bug, I introduced a problem in this processing; the \\n  splitQRYDTA field was not cleared when the statement was closed. This meant that \\n  if that splitQRYDTA field just happened to have some pending query data from the \\n  previous statement at the point where it was re-used, the pending query data would \\n  erroneously stick around and be returned as the first result for the new statement. \\n\\n   Thus, the conditions that lead up to this bug are: \\n \\n\\t a statement is created, and results are fetched, and a QRYDTA block has to be split. \\n\\t instead of sending a CNTQRY to fetch the split data, the client instead closes the \\n    statement. \\n\\t then, the client creates a new statement with the same Section Number (it is free to \\n   do so, since the previous statement has been closed), and sends a new query \\n   request over. \\n\\t at that point, the server responds to the new query with the leftover split QRYDATA. \\n \\n\\n\\n The regression test simply forces the server down this code path. \\n\\n If somebody could please take a look at this patch, I would be very grateful.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12366751\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-614?focusedCommentId=12366751&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12366751\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"bryanpendleton\\\" id=\\\"commentauthor_12366751_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=bryanpendleton\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"bryanpendleton\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Bryan Pendleton\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12366751_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Feb\\/06 14:28\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-02-17T14:28:00+0000\'\u003e17\\/Feb\\/06 14:28\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eUpdated patch d614_a_with_close_stmts.diff addresses feedback from Dan and Deepa: the test should close the statement objects at the end in order to avoid wasting client driver resources and to match standard JDBC style. I re-ran the test after adding the close calls, both before and after applying the patch to DRDAResultSet.java, and confirmed that the test still demonstrates the bug by failing prior to the fix and succeeding afterwards. Please have another look.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"bryanpendleton\\\" id=\\\"commentauthor_12366751_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=bryanpendleton\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"bryanpendleton\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Bryan Pendleton\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12366751_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Feb\\/06 14:28\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-02-17T14:28:00+0000\'\u003e17\\/Feb\\/06 14:28\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Updated patch d614_a_with_close_stmts.diff addresses feedback from Dan and Deepa: the test should close the statement objects at the end in order to avoid wasting client driver resources and to match standard JDBC style. I re-ran the test after adding the close calls, both before and after applying the patch to DRDAResultSet.java, and confirmed that the test still demonstrates the bug by failing prior to the fix and succeeding afterwards. Please have another look.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12366807\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-614?focusedCommentId=12366807&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12366807\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kmarsden\\\" id=\\\"commentauthor_12366807_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kmarsden\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kmarsden\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Kathey Marsden\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12366807_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'18\\/Feb\\/06 01:07\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-02-18T01:07:39+0000\'\u003e18\\/Feb\\/06 01:07\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI committed this change.  I noticed there is other state that is not reset in closed. Perhaps it is guaranteed to be initialized, I don\'t know.  Maybe another Jira  entry to make sure the other state is reset would be good.\u003c\\/p\u003e\\n\\n\u003cp\u003eDate: Fri Feb 17 07:59:55 2006\u003cbr\\/\u003e\\nNew Revision: 378552\u003c\\/p\u003e\\n\\n\u003cp\u003eURL: \u003ca href=\\\"http:\\/\\/svn.apache.org\\/viewcvs?rev=378552&amp;view=rev\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/svn.apache.org\\/viewcvs?rev=378552&amp;view=rev\u003c\\/a\u003e\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kmarsden\\\" id=\\\"commentauthor_12366807_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kmarsden\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kmarsden\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Kathey Marsden\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12366807_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'18\\/Feb\\/06 01:07\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-02-18T01:07:39+0000\'\u003e18\\/Feb\\/06 01:07\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I committed this change.  I noticed there is other state that is not reset in closed. Perhaps it is guaranteed to be initialized, I don\'t know.  Maybe another Jira  entry to make sure the other state is reset would be good. \\n\\n Date: Fri Feb 17 07:59:55 2006 \\nNew Revision: 378552 \\n\\n URL:  http:\\/\\/svn.apache.org\\/viewcvs?rev=378552&amp;view=rev               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12366813\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-614?focusedCommentId=12366813&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12366813\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kmarsden\\\" id=\\\"commentauthor_12366813_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kmarsden\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kmarsden\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Kathey Marsden\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12366813_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'18\\/Feb\\/06 02:04\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-02-18T02:04:50+0000\'\u003e18\\/Feb\\/06 02:04\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eDeepa said\u003cbr\\/\u003e\\n&gt;\u003cbr\\/\u003e\\n&gt;\u003cbr\\/\u003e\\n&gt;\u003cbr\\/\u003e\\n&gt;I had checked all the DRDAResultSet states get initialized when\u003cbr\\/\u003e\\n&gt;re-used. If they are not in close, they get initialized in some other\u003cbr\\/\u003e\\n&gt;DRDAStatement methods - like addResultSet, setRsDefaultOptions,\u003cbr\\/\u003e\\n&gt;setOPNQRYOptions, setQueryOptions etc. I will open a JIRA and post my\u003cbr\\/\u003e\\n&gt;observations there so that this can be rechecked. I think it will be\u003cbr\\/\u003e\\n&gt;good to add reset for all states in close() method so that we don\'t\u003cbr\\/\u003e\\n&gt;miss anything by any other code changes.\u003cbr\\/\u003e\\n&gt;\u003cbr\\/\u003e\\n&gt;\u003c\\/p\u003e\\n\\n\u003cp\u003eOr maybe move them out to a reset method that is called when the Resultset is reused.\u003cbr\\/\u003e\\nWould that make things clearer for the future?   At least add a comment about how important it is to add new fields to this reset process.\u003c\\/p\u003e\\n\\n\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kmarsden\\\" id=\\\"commentauthor_12366813_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kmarsden\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kmarsden\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Kathey Marsden\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12366813_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'18\\/Feb\\/06 02:04\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-02-18T02:04:50+0000\'\u003e18\\/Feb\\/06 02:04\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Deepa said \\n&gt; \\n&gt; \\n&gt; \\n&gt;I had checked all the DRDAResultSet states get initialized when \\n&gt;re-used. If they are not in close, they get initialized in some other \\n&gt;DRDAStatement methods - like addResultSet, setRsDefaultOptions, \\n&gt;setOPNQRYOptions, setQueryOptions etc. I will open a JIRA and post my \\n&gt;observations there so that this can be rechecked. I think it will be \\n&gt;good to add reset for all states in close() method so that we don\'t \\n&gt;miss anything by any other code changes. \\n&gt; \\n&gt; \\n\\n Or maybe move them out to a reset method that is called when the Resultset is reused. \\nWould that make things clearer for the future?   At least add a comment about how important it is to add new fields to this reset process. \\n\\n\\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12366825\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-614?focusedCommentId=12366825&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12366825\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"bryanpendleton\\\" id=\\\"commentauthor_12366825_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=bryanpendleton\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"bryanpendleton\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Bryan Pendleton\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12366825_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'18\\/Feb\\/06 03:12\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-02-18T03:12:53+0000\'\u003e18\\/Feb\\/06 03:12\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThank you Kathey for submitting the second patch.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"bryanpendleton\\\" id=\\\"commentauthor_12366825_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=bryanpendleton\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"bryanpendleton\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Bryan Pendleton\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12366825_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'18\\/Feb\\/06 03:12\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-02-18T03:12:53+0000\'\u003e18\\/Feb\\/06 03:12\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Thank you Kathey for submitting the second patch.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12374276\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-614?focusedCommentId=12374276&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12374276\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kmarsden\\\" id=\\\"commentauthor_12374276_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kmarsden\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kmarsden\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Kathey Marsden\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12374276_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'13\\/Apr\\/06 07:32\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-04-13T07:32:27+0000\'\u003e13\\/Apr\\/06 07:32\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eRe-opening this bug to port the fix to 10.1\u003c\\/p\u003e\\n\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kmarsden\\\" id=\\\"commentauthor_12374276_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kmarsden\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kmarsden\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Kathey Marsden\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12374276_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'13\\/Apr\\/06 07:32\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-04-13T07:32:27+0000\'\u003e13\\/Apr\\/06 07:32\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Re-opening this bug to port the fix to 10.1 \\n\\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12374285\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-614?focusedCommentId=12374285&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12374285\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kmarsden\\\" id=\\\"commentauthor_12374285_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kmarsden\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kmarsden\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Kathey Marsden\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12374285_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'13\\/Apr\\/06 09:23\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-04-13T09:23:04+0000\'\u003e13\\/Apr\\/06 09:23\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eAttached patch \'derby614_10_1.diff\'  which merges the following changes to 10.1\u003c\\/p\u003e\\n\\n\u003cp\u003e355689 - Fixes the split logic when data passes the blksize boundary.\u003cbr\\/\u003e\\nDetails of the fix are in spec.html attached to \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-614\\\" title=\\\"Execution failed because of a Distributed Protocol Error\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-614\\\"\u003e\u003cdel\u003eDERBY-614\u003c\\/del\u003e\u003c\\/a\u003e\u003c\\/p\u003e\\n\\n\u003cp\u003e378552 - clear splitQRYTDA field for reuse of the resultset\u003c\\/p\u003e\\n\\n\u003cp\u003eRunning derbyall now. Will commit this tomorrow.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kmarsden\\\" id=\\\"commentauthor_12374285_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kmarsden\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kmarsden\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Kathey Marsden\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12374285_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'13\\/Apr\\/06 09:23\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-04-13T09:23:04+0000\'\u003e13\\/Apr\\/06 09:23\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Attached patch \'derby614_10_1.diff\'  which merges the following changes to 10.1 \\n\\n 355689 - Fixes the split logic when data passes the blksize boundary. \\nDetails of the fix are in spec.html attached to   DERBY-614   \\n\\n 378552 - clear splitQRYTDA field for reuse of the resultset \\n\\n Running derbyall now. Will commit this tomorrow.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12374336\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-614?focusedCommentId=12374336&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12374336\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kmarsden\\\" id=\\\"commentauthor_12374336_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kmarsden\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kmarsden\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Kathey Marsden\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12374336_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'13\\/Apr\\/06 21:22\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-04-13T21:22:37+0000\'\u003e13\\/Apr\\/06 21:22\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eChecked this change into 10.1 branch:\u003c\\/p\u003e\\n\\n\u003cp\u003eDate: Thu Apr 13 06:14:26 2006\u003cbr\\/\u003e\\nNew Revision: 393798\u003c\\/p\u003e\\n\\n\u003cp\u003eURL: \u003ca href=\\\"http:\\/\\/svn.apache.org\\/viewcvs?rev=393798&amp;view=rev\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/svn.apache.org\\/viewcvs?rev=393798&amp;view=rev\u003c\\/a\u003e\u003c\\/p\u003e\\n\\n\\n\u003cp\u003eThanks again to Bryan for this great fix.  It will make an important addition to 10.1.3 and surely save lots of folks, including me,  countless hours of trying to track this down and get it resolved.\u003c\\/p\u003e\\n\\n\u003cp\u003eKathey\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kmarsden\\\" id=\\\"commentauthor_12374336_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kmarsden\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kmarsden\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Kathey Marsden\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12374336_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'13\\/Apr\\/06 21:22\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-04-13T21:22:37+0000\'\u003e13\\/Apr\\/06 21:22\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Checked this change into 10.1 branch: \\n\\n Date: Thu Apr 13 06:14:26 2006 \\nNew Revision: 393798 \\n\\n URL:  http:\\/\\/svn.apache.org\\/viewcvs?rev=393798&amp;view=rev  \\n\\n\\n Thanks again to Bryan for this great fix.  It will make an important addition to 10.1.3 and surely save lots of folks, including me,  countless hours of trying to track this down and get it resolved. \\n\\n Kathey              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12374337\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-614?focusedCommentId=12374337&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12374337\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kmarsden\\\" id=\\\"commentauthor_12374337_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kmarsden\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kmarsden\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Kathey Marsden\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12374337_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'13\\/Apr\\/06 21:23\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-04-13T21:23:15+0000\'\u003e13\\/Apr\\/06 21:23\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003ereclosing this issue after port to 10.1\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kmarsden\\\" id=\\\"commentauthor_12374337_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kmarsden\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kmarsden\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Kathey Marsden\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12374337_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'13\\/Apr\\/06 21:23\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-04-13T21:23:15+0000\'\u003e13\\/Apr\\/06 21:23\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    reclosing this issue after port to 10.1              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\"";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["scope-filter-data"]="{\"createScopeActions\":[],\"scopes\":[]}";
WRM._unparsedData["sidebar-collapsed-by-default"]="true";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:can-manage"]="false";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:with-icons"]="false";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:shortcuts"]="[]";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:project-id"]="10594";
WRM._unparsedData["sidebar-id"]="\"\u003cdiv class=\\\"aui-sidebar  projects-sidebar sidebar-pending\\\" \u003e\u003cdiv class=\\\"aui-sidebar-wrapper\\\"\u003e\u003cdiv class=\\\"aui-sidebar-body\\\"\u003e\u003cheader class=\\\"aui-page-header\\\"\u003e\u003cdiv class=\\\"aui-page-header-inner\\\"\u003e\u003cdiv class=\\\"aui-page-header-image\\\"\u003e\u003ca href=\\\"\\/jira\\/projects\\/DERBY\\/summary\\\" title=\\\"Derby\\\" class=\\\"jira-project-avatar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-large aui-avatar-project\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"\\/jira\\/secure\\/projectavatar?pid=10594&amp;avatarId=10122\\\" alt=\\\"Derby\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e\u003cimg src=\\\"data:image\\/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI\\/Pg0KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE4LjEuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPg0KPHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgdmlld0JveD0iMCAwIDMwMCAzMDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMwMCAzMDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxnIGlkPSJMYXllcl8yIj4NCgk8cGF0aCBzdHlsZT0iZmlsbDojRjc5MjMyOyIgZD0iTTE1MCwwQzY2LjY2NywwLDAsNjYuNjY3LDAsMTUwczY2LjY2NywxNTAsMTUwLDE1MHMxNTAtNjYuNjY3LDE1MC0xNTBTMjMzLjMzMywwLDE1MCwweg0KCQkgTTEzNi42NjcsMTc4LjMzM0wxMjUsMTkwbC00MS42NjctNDBMOTUsMTM4LjMzM2wzMC0zMEwxMzYuNjY3LDEyMGwtMzAsMzBMMTM2LjY2NywxNzguMzMzeiBNMjA1LDE2MS42NjdsLTMwLDMwTDE2My4zMzMsMTgwDQoJCWwzMC0zMGwtMzAtMzBMMTc1LDEwOC4zMzNMMjE2LjY2NywxNTBMMjA1LDE2MS42Njd6Ii8+DQo8L2c+DQo8Zz4NCgk8cG9seWdvbiBzdHlsZT0iZmlsbDojRkZGRkZGOyIgcG9pbnRzPSIxNzUsMTkxLjY2NyAyMDUsMTYxLjY2NyAyMTYuNjY3LDE1MCAxNzUsMTA4LjMzMyAxNjMuMzMzLDEyMCAxOTMuMzMzLDE1MCAxNjMuMzMzLDE4MCAJIi8+DQoJPHBvbHlnb24gc3R5bGU9ImZpbGw6I0ZGRkZGRjsiIHBvaW50cz0iMTI1LDEwOC4zMzMgOTUsMTM4LjMzMyA4My4zMzMsMTUwIDEyNSwxOTAgMTM2LjY2NywxNzguMzMzIDEwNi42NjcsMTUwIDEzNi42NjcsMTIwIAkiLz4NCjwvZz4NCjwvc3ZnPg0K\\\" alt=\\\"Icon indicating the project type\\\" class=\\\"jira-project-avatar-icon\\\" \\/\u003e\u003c\\/a\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-image --\u003e\u003cdiv class=\\\"aui-page-header-main\\\"\u003e\u003ch1\u003e\u003cdiv class=\\\"aui-group aui-group-split\\\"\u003e\u003cdiv class=\\\"aui-item project-title\\\"\u003e\u003ca href=\\\"\\/jira\\/projects\\/DERBY\\/summary\\\" title=\\\"Derby\\\"\u003eDerby\u003c\\/a\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/h1\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-main --\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-inner --\u003e\u003c\\/header\u003e\u003c!-- .aui-page-header --\u003e\u003cnav class=\\\"aui-navgroup aui-navgroup-vertical\\\"\u003e\u003cdiv class=\\\"aui-navgroup-inner sidebar-content-container\\\"\u003e\u003cdiv class=\\\"aui-sidebar-group aui-sidebar-group-tier-one\\\" data-id=\\\"sidebar-navigation-panel\\\"\u003e\u003cul class=\\\"aui-nav\\\"\u003e\u003cli class=\\\"aui-nav-selected\\\" \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/DERBY\\/issues\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-issue-navigator:sidebar-issue-navigator\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large icon-sidebar-issues\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Issues\\\"\u003eIssues\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003cli  \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/DERBY?selectedItem=com.atlassian.jira.jira-projects-plugin:report-page\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-plugin:report-page\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large agile-icon-report\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Reports\\\"\u003eReports\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003cli  \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/DERBY?selectedItem=com.atlassian.jira.jira-projects-plugin:components-page\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-plugin:components-page\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large icon-sidebar-components\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Components\\\"\u003eComponents\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003c\\/ul\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/nav\u003e\u003c\\/div\u003e\u003cdiv class=\\\"aui-sidebar-footer\\\"\u003e\u003ca class=\\\"aui-button aui-button-subtle aui-sidebar-toggle aui-sidebar-footer-tipsy\\\" data-tooltip=\\\"Expand sidebar ( [ )\\\" href=\\\"#\\\"\u003e\u003cspan class=\\\"aui-icon aui-icon-small\\\"\u003e\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/div\u003e\"";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:bigpipe-init/jira.webresources:bigpipe-init.js" data-wrm-key="jira.webresources:bigpipe-init" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <form id="jira_request_timing_info" class="dont-default-focus"> 
   <fieldset class="parameters hidden"> 
    <input type="hidden" title="jira.request.start.millis" value="1520237948052"> 
    <input type="hidden" title="jira.request.server.time" value="273"> 
    <input type="hidden" title="jira.request.id" value="499x94342140x3"> 
    <input type="hidden" title="jira.session.expiry.time" value="-"> 
    <input type="hidden" title="jira.session.expiry.in.mins" value="-"> 
    <input id="jiraConcurrentRequests" type="hidden" name="jira.request.concurrent.requests" value="2"> 
    <input type="hidden" title="db.reads.time.in.ms" value="32"> 
    <input type="hidden" title="db.conns.time.in.ms" value="39"> 
   </fieldset> 
  </form> 
  <!--
	                 REQUEST ID : 499x94342140x3
	          REQUEST TIMESTAMP : [05/Mar/2018:08:19:08 +0000]
	               REQUEST TIME : 0.2730
	                 ASESSIONID : -
	        CONCURRENT REQUESTS : 2

	                      db.reads : OpSnapshot{name='db.reads', invocationCount=22, elapsedTotal=32918448, elapsedMin=630584, elapsedMax=12906395, resultSetSize=0, cpuTotal=0, cpuMin=0, cpuMax=0}
	                      db.conns : OpSnapshot{name='db.conns', invocationCount=26, elapsedTotal=39772698, elapsedMin=657825, elapsedMax=12936213, resultSetSize=0, cpuTotal=0, cpuMin=0, cpuMax=0}
-->   
 </body>
</html>