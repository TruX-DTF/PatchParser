<!doctype html>
<html lang="en">
 <head> 
  <meta charset="utf-8"> 
  <meta http-equiv="X-UA-Compatible" content="IE=Edge"> 
  <meta name="application-name" content="JIRA" data-name="jira" data-version="7.6.3">
  <meta name="ajs-viewissue-use-history-api" content="false"> 
  <meta name="ajs-jira-base-url" content="https://issues.apache.org/jira"> 
  <meta name="ajs-serverRenderedViewIssue" content="true"> 
  <meta name="ajs-dev-mode" content="false"> 
  <meta name="ajs-context-path" content="/jira"> 
  <meta name="ajs-version-number" content="7.6.3"> 
  <meta name="ajs-build-number" content="76005"> 
  <meta name="ajs-is-beta" content="false"> 
  <meta name="ajs-is-rc" content="false"> 
  <meta name="ajs-is-snapshot" content="false"> 
  <meta name="ajs-is-milestone" content="false"> 
  <meta name="ajs-remote-user" content=""> 
  <meta name="ajs-remote-user-fullname" content=""> 
  <meta name="ajs-user-locale" content="en_UK"> 
  <meta name="ajs-user-locale-group-separator" content=","> 
  <meta name="ajs-app-title" content="ASF JIRA"> 
  <meta name="ajs-keyboard-shortcuts-enabled" content="true"> 
  <meta name="ajs-keyboard-accesskey-modifier" content="Ctrl+Alt"> 
  <meta name="ajs-enabled-dark-features" content="[&quot;com.atlassian.jira.agile.darkfeature.editable.detailsview&quot;,&quot;nps.survey.inline.dialog&quot;,&quot;com.atlassian.jira.agile.darkfeature.edit.closed.sprint.enabled&quot;,&quot;jira.plugin.devstatus.phasetwo&quot;,&quot;jira.frother.reporter.field&quot;,&quot;atlassian.rest.xsrf.legacy.enabled&quot;,&quot;jira.issue.status.lozenge&quot;,&quot;com.atlassian.jira.config.BIG_PIPE&quot;,&quot;com.atlassian.jira.projects.issuenavigator&quot;,&quot;com.atlassian.jira.config.PDL&quot;,&quot;jira.plugin.devstatus.phasetwo.enabled&quot;,&quot;atlassian.aui.raphael.disabled&quot;,&quot;app-switcher.new&quot;,&quot;frother.assignee.field&quot;,&quot;com.atlassian.jira.projects.ProjectCentricNavigation.Switch&quot;,&quot;sd.internal.base.off.thread.on.completion.events.enabled&quot;,&quot;jira.onboarding.cyoa&quot;,&quot;com.atlassian.jira.agile.darkfeature.kanplan.enabled&quot;,&quot;sd.slavalue.record.updated.date.enabled&quot;,&quot;com.atlassian.jira.config.ProjectConfig.MENU&quot;,&quot;com.atlassian.jira.projects.sidebar.DEFER_RESOURCES&quot;,&quot;com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions.enabled&quot;,&quot;com.atlassian.jira.agile.darkfeature.sprint.goal.enabled&quot;,&quot;jira.zdu.admin-updates-ui&quot;,&quot;jira.zdu.jmx-monitoring&quot;,&quot;sd.sla.improved.rendering.enabled&quot;,&quot;sd.canned.responses.enabled&quot;,&quot;sd.new.settings.sidebar.location.disabled&quot;,&quot;jira.zdu.cluster-upgrade-state&quot;,&quot;com.atlassian.jira.agile.darkfeature.splitissue&quot;,&quot;com.atlassian.jira.config.CoreFeatures.LICENSE_ROLES_ENABLED&quot;,&quot;com.atlassian.feedback.feedback-button-move-to-header-enable&quot;,&quot;jira.export.csv.enabled&quot;]"> 
  <meta name="ajs-in-admin-mode" content="false"> 
  <meta name="ajs-is-sysadmin" content="false"> 
  <meta name="ajs-is-admin" content="false"> 
  <meta name="ajs-outgoing-mail-enabled" content="true"> 
  <meta name="ajs-date-relativize" content="true"> 
  <meta name="ajs-date-time" content="HH:mm"> 
  <meta name="ajs-date-day" content="EEEE HH:mm"> 
  <meta name="ajs-date-dmy" content="dd/MMM/yy"> 
  <meta name="ajs-date-complete" content="dd/MMM/yy HH:mm"> 
  <script type="text/javascript">var AJS=AJS||{};AJS.debug=true;</script> 
  <meta id="atlassian-token" name="atlassian-token" content="A5KQ-2QAV-T4JA-FDED|4267563f2752613fde5b78c55ff8a18269cf2757|lout"> 
  <link rel="shortcut icon" href="/jira/s/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/_/favicon.ico"> 
  <!--[if IE]><![endif]--> 
  <script type="text/javascript">
    (function() {
        var contextPath = '/jira';
        var eventBuffer = [];

        function printDeprecatedMsg() {
            if (console && console.warn) {
                console.warn('DEPRECATED JS - contextPath global variable has been deprecated since 7.4.0. Use `wrm/context-path` module instead.');
            }
        }

        function sendEvent(analytics, postfix) {
            analytics.send({
                name: 'js.globals.contextPath.' + postfix
            });
        }

        function sendDeprecatedEvent(postfix) {
            try {
                var analytics = require('jira/analytics');
                if (eventBuffer.length) {
                    eventBuffer.forEach(function(value) {
                        sendEvent(analytics, value);
                    });
                    eventBuffer = [];
                }

                if (postfix) {
                    sendEvent(analytics, postfix);
                }
            } catch(ex) {
                eventBuffer.push(postfix);
                setTimeout(sendDeprecatedEvent, 1000);
            }
        }

        Object.defineProperty(window, 'contextPath', {
            get: function() {
                printDeprecatedMsg();
                sendDeprecatedEvent('get');
                return contextPath;
            },
            set: function(value) {
                printDeprecatedMsg();
                sendDeprecatedEvent('set');
                contextPath = value;
            }
        });
    })();

</script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["com.atlassian.plugins.atlassian-plugins-webresource-plugin:context-path.context-path"]="\"/jira\"";
WRM._unparsedData["jira.webresources:feature-flags.feature-flag-data"]="{\"enabled-feature-keys\":[\"com.atlassian.jira.agile.darkfeature.editable.detailsview\",\"nps.survey.inline.dialog\",\"com.atlassian.jira.agile.darkfeature.edit.closed.sprint.enabled\",\"jira.plugin.devstatus.phasetwo\",\"jira.frother.reporter.field\",\"atlassian.rest.xsrf.legacy.enabled\",\"jira.issue.status.lozenge\",\"com.atlassian.jira.config.BIG_PIPE\",\"com.atlassian.jira.projects.issuenavigator\",\"com.atlassian.jira.config.PDL\",\"jira.plugin.devstatus.phasetwo.enabled\",\"atlassian.aui.raphael.disabled\",\"app-switcher.new\",\"frother.assignee.field\",\"com.atlassian.jira.projects.ProjectCentricNavigation.Switch\",\"sd.internal.base.off.thread.on.completion.events.enabled\",\"jira.onboarding.cyoa\",\"com.atlassian.jira.agile.darkfeature.kanplan.enabled\",\"sd.slavalue.record.updated.date.enabled\",\"com.atlassian.jira.config.ProjectConfig.MENU\",\"com.atlassian.jira.projects.sidebar.DEFER_RESOURCES\",\"com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions.enabled\",\"com.atlassian.jira.agile.darkfeature.sprint.goal.enabled\",\"jira.zdu.admin-updates-ui\",\"jira.zdu.jmx-monitoring\",\"sd.sla.improved.rendering.enabled\",\"sd.canned.responses.enabled\",\"sd.new.settings.sidebar.location.disabled\",\"jira.zdu.cluster-upgrade-state\",\"com.atlassian.jira.agile.darkfeature.splitissue\",\"com.atlassian.jira.config.CoreFeatures.LICENSE_ROLES_ENABLED\",\"com.atlassian.feedback.feedback-button-move-to-header-enable\",\"jira.export.csv.enabled\"],\"feature-flag-states\":{\"com.atlassian.jira.agile.darkfeature.kanplan\":false,\"sd.internal.base.off.thread.on.completion.events\":false,\"jira.instrumentation.laas\":false,\"com.atlassian.jira.agile.darkfeature.edit.closed.sprint\":false,\"com.atlassian.jira.issuetable.draggable\":true,\"jira.create.linked.issue\":true,\"com.atlassian.jira.agile.darkfeature.sprint.goal\":false,\"jira.sal.host.connect.accessor.existing.transaction.will.create.transactions\":true,\"jira.jql.suggestrecentfields\":false,\"com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions\":false,\"jira.jql.smartautoselectfirst\":false,\"com.atlassian.jira.agile.darkfeature.optimistic.transitions\":true,\"com.atlassian.jira.issuetable.move.links.hidden\":true,\"jira.priorities.per.project\":true,\"com.atlassian.jira.upgrade.startup.fix.index\":true,\"jira.renderer.consider.variable.format\":true}}";
WRM._unparsedData["jira.webresources:default-comment-security-level.DefaultCommentSecurityLevelHelpLink"]="{\"extraClasses\":\"default-comment-level-help\",\"title\":\"Commenting on an Issue\",\"url\":\"https://docs.atlassian.com/jira/jcore-docs-076/Editing+and+collaborating+on+issues#Editingandcollaboratingonissues-restrictacomment\",\"isLocal\":false}";
WRM._unparsedData["jira.webresources:dateFormatProvider.allFormats"]="{\"dateFormats\":{\"meridiem\":[\"AM\",\"PM\"],\"eras\":[\"BC\",\"AD\"],\"months\":[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],\"monthsShort\":[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],\"weekdaysShort\":[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"],\"weekdays\":[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"]},\"lookAndFeelFormats\":{\"relativize\":\"true\",\"time\":\"HH:mm\",\"day\":\"EEEE HH:mm\",\"dmy\":\"dd/MMM/yy\",\"complete\":\"dd/MMM/yy HH:mm\"}}";
WRM._unparsedData["com.atlassian.jira.jira-issue-nav-components:issueviewer.features"]="{\"rteEnabled\":true}";
WRM._unparsedData["com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone.thumbnail-mime-types"]="\"image/vnd.wap.wbmp,image/png,image/x-png,image/jpeg,image/bmp,image/gif\"";
WRM._unparsedData["com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone.upload-limit"]="\"62914560\"";
WRM._unparsedData["com.atlassian.plugins.helptips.jira-help-tips:help-tip-manager.JiraHelpTipData"]="{\"anonymous\":true}";
WRM._unparsedData["com.atlassian.jira.jira-view-issue-plugin:controller-subtasks.controller.subtasks.parameters"]="{\"url\":\"/rest/api/2/issue/{issueId}/subtask/move\"}";
WRM._unparsedData["com.atlassian.analytics.analytics-client:policy-update-init.policy-update-data-provider"]="false";
WRM._unparsedData["com.atlassian.analytics.analytics-client:programmatic-analytics-init.programmatic-analytics-data-provider"]="false";
WRM._unparsedData["jira.webresources:avatar-picker.data"]="{}";
WRM._unparsedData["com.atlassian.feedback.jira-feedback-plugin:button-resources-init.data"]="{\"jira.feedback.plugin.issue.collector.core\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"jira.feedback.plugin.issue.collector.default\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"jira.feedback.plugin.issue.collector.service.desk\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector.js?locale=en-UK&collectorId=a698db21\",\"jira.feedback.plugin.issue.collector.software\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"isHeaderFeedbackButtonEnabled\":true}";
WRM._unparsedData["com.atlassian.jira.jira-header-plugin:dismissedFlags.flags"]="{\"dismissed\":[]}";
WRM._unparsedData["com.atlassian.jira.jira-header-plugin:newsletter-signup-tip-init.newsletterSignup"]="{\"signupDescription\":\"Get updates, inspiration and best practices from the team behind JIRA.\",\"formUrl\":\"https://www.atlassian.com/apis/exact-target/{0}/subscribe?mailingListId=1401671\",\"signupTitle\":\"Sign up!\",\"signupId\":\"newsletter-signup-tip\",\"showNewsletterTip\":false}";
WRM._unparsedData["com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources.ptAnalyticsData"]="{\"instanceCreatedDate\":\"2011-01-31\"}";
WRM._unparsedData["com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources.help-data"]="{\"showHelp\":true,\"editorDocumentationUrl\":[\"https://docs.atlassian.com/jira/jcore-docs-076/Visual+editing\"],\"editorDocumentationTitle\":[\"Show me documentation for the visual editor\"]}";
WRM._unparsedData["com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources.thumbnails-allowed"]="false";
WRM._unparsedData["jira.webresources:user-message-flags.adminLockout"]="{}";
WRM._unparsedData["jira.request.correlation-id"]="\"2b77fb7f411a70\"";
WRM._unparsedData["project-id"]="12310230";
WRM._unparsedData["project-key"]="\"SOLR\"";
WRM._unparsedData["project-name"]="\"Solr\"";
WRM._unparsedData["project-type"]="\"software\"";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:generic-filters"]="[{\"id\":\"allissues\",\"jql\":\"project = \\\"{0}\\\" ORDER BY {1}\",\"defaultOrderby\":\"created DESC\",\"label\":\"All issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[]},{\"id\":\"allopenissues\",\"jql\":\"project = \\\"{0}\\\" AND resolution = Unresolved ORDER BY {1}\",\"defaultOrderby\":\"priority DESC, updated DESC\",\"label\":\"Open issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"resolution\"]},{\"id\":\"doneissues\",\"jql\":\"project = \\\"{0}\\\" AND statusCategory = Done ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Done issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":false,\"fields\":[\"status\"]},{\"id\":\"recentlyviewed\",\"jql\":\"project = \\\"{0}\\\" AND issuekey in issueHistory() ORDER BY {1}\",\"defaultOrderby\":\"lastViewed DESC\",\"label\":\"Viewed recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"issuekey\"]},{\"id\":\"addedrecently\",\"jql\":\"project = \\\"{0}\\\" AND created \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"created DESC\",\"label\":\"Created recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"created\"]},{\"id\":\"resolvedrecently\",\"jql\":\"project = \\\"{0}\\\" AND resolutiondate \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Resolved recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":false,\"fields\":[\"resolutiondate\"]},{\"id\":\"updatedrecently\",\"jql\":\"project = \\\"{0}\\\" AND updated \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Updated recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"updated\"]}]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:default-filter-priority"]="[\"allopenissues\",\"allissues\"]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:can-manage-filters"]="false";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:project-filters"]="[]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:can-create-issues"]="false";
WRM._unparsedData["projectId"]="12310230";
WRM._unparsedData["projectKey"]="\"SOLR\"";
WRM._unparsedData["projectType"]="\"software\"";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:server-rendered"]="true";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/a8a4711bc3f2eb261d8c8fd9fbcbba8b-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1fca1750044f2777c977e8d8cc023344/_/download/contextbatch/css/_super/batch.css" data-wrm-key="_super" data-wrm-batch-type="context" media="all"> 
  <link type="text/css" rel="stylesheet" href="/jira/s/74ac580603ca910fff0cfdf319e54add-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/fbf45109b31165e5b7740a9d72318cea/_/download/contextbatch/css/project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super/batch.css?agile_global_admin_condition=true&amp;hc-enabled=true&amp;is-server-instance=true&amp;jag=true&amp;jira.create.linked.issue=true&amp;nps-acknowledged=true&amp;richediton=true" data-wrm-key="project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super" data-wrm-batch-type="context" media="all"> 
  <link type="text/css" rel="stylesheet" href="/jira/s/611672383f6cab00ab202241ba6f9d68-T/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/7.6.3/_/download/batch/com.atlassian.feedback.jira-feedback-plugin:button-resources-init/com.atlassian.feedback.jira-feedback-plugin:button-resources-init.css" data-wrm-key="com.atlassian.feedback.jira-feedback-plugin:button-resources-init" data-wrm-batch-type="resource" media="all"> 
  <script type="text/javascript" src="/jira/s/98ceb006e504d7924d5ffc411626c6bc-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1fca1750044f2777c977e8d8cc023344/_/download/contextbatch/js/_super/batch.js?locale=en-UK" data-wrm-key="_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/c1e4d26ea276469807c3dc0918df482c-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/fbf45109b31165e5b7740a9d72318cea/_/download/contextbatch/js/project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super/batch.js?agile_global_admin_condition=true&amp;hc-enabled=true&amp;is-server-instance=true&amp;jag=true&amp;jira.create.linked.issue=true&amp;locale=en-UK&amp;nps-acknowledged=true&amp;richediton=true" data-wrm-key="project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/6bf9253c8d533109c3b02e26794be24e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/871d45c9f322a22cb3aa9b7948a69803/_/download/contextbatch/js/atl.global,-_super/batch.js?locale=en-UK" data-wrm-key="atl.global,-_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:calendar-en/jira.webresources:calendar-en.js" data-wrm-key="jira.webresources:calendar-en" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:calendar-localisation-moment/jira.webresources:calendar-localisation-moment.js" data-wrm-key="jira.webresources:calendar-localisation-moment" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/7.6.3/_/download/batch/com.atlassian.feedback.jira-feedback-plugin:button-resources/com.atlassian.feedback.jira-feedback-plugin:button-resources.js" data-wrm-key="com.atlassian.feedback.jira-feedback-plugin:button-resources" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/ccd2e67b523185973473e8bd5735c8f9-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/e0de73613a1027de08f3da6a45e1d1a2/_/download/contextbatch/css/jira.global.look-and-feel,-_super/batch.css" data-wrm-key="jira.global.look-and-feel,-_super" data-wrm-batch-type="context" media="all"> 
  <script type="text/javascript" src="/jira/rest/api/1.0/shortcuts/76005/33e5e0166867c8c9228d44506f60b2e8/shortcuts.js?context=issuenavigation&amp;context=issueaction"></script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["com.atlassian.jira.jira-issue-nav-components:inline-edit-enabled"]="true";
WRM._unparsedData["should-display-chaperone"]="false";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/15712b600e9aecf72ffd9fd3704a0c78-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/6b22a15c7b83f87a47b1757076f43542/_/download/contextbatch/css/com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue/batch.css?jira.create.linked.issue=true&amp;richediton=true" data-wrm-key="com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue" data-wrm-batch-type="context" media="all"> 
  <script type="text/javascript" src="/jira/s/6579b6b8ba67abaa496e39b9242a18a4-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/6b22a15c7b83f87a47b1757076f43542/_/download/contextbatch/js/com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue/batch.js?jira.create.linked.issue=true&amp;locale=en-UK&amp;richediton=true" data-wrm-key="com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue" data-wrm-batch-type="context" data-initially-rendered></script> 
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge"> 
  <meta name="ajs-can-search-users" content="false"> 
  <meta name="ajs-can-edit-watchers" content="false"> 
  <meta name="ajs-default-avatar-url" content="https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10453"> 
  <meta name="ajs-issue-project-type" content="software"> 
  <meta name="ajs-issue-key" content="SOLR-3884"> 
  <meta name="ajs-server-view-issue-is-editable" content="false"> 
  <title>[SOLR-3884] smoke tester on cygwin fails when testing example due to tlog recovery - ASF JIRA</title> 
  <link rel="search" type="application/opensearchdescription+xml" href="/jira/osd.jsp" title="[SOLR-3884] smoke tester on cygwin fails when testing example due to tlog recovery - ASF JIRA"> 
 </head> 
 <body id="jira" class="aui-layout aui-theme-default " data-version="7.6.3"> 
  <div id="page"> 
   <header id="header" role="banner"> 
    <script>
require(["jquery", "jira/license-banner"], function ($, licenseBanner) {
    $(function () {
        licenseBanner.showLicenseBanner("");
        licenseBanner.showLicenseFlag("");
    });
});
</script> 
    <nav class="aui-header aui-dropdown2-trigger-group" role="navigation">
     <div class="aui-header-inner">
      <div class="aui-header-before">
       <a class=" aui-dropdown2-trigger app-switcher-trigger" aria-controls="app-switcher" aria-haspopup="true" role="button" tabindex="0" data-aui-trigger href="#app-switcher"><span class="aui-icon aui-icon-small aui-iconfont-appswitcher">Linked Applications</span></a>
       <div id="app-switcher" class="aui-dropdown2 aui-style-default" role="menu" aria-hidden="true" data-is-switcher="true" data-environment="{&quot;isUserAdmin&quot;:false,&quot;isAppSuggestionAvailable&quot;:false,&quot;isSiteAdminUser&quot;:false}">
        <div role="application">
         <div class="app-switcher-loading">
          Loadingâ€¦
         </div>
        </div>
       </div>
      </div>
      <div class="aui-header-primary">
       <h1 id="logo" class="aui-header-logo aui-header-logo-custom"><a href="https://issues.apache.org/jira/secure/MyJiraHome.jspa"><img src="/jira/s/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/_/jira-logo-scaled.png" alt="ASF JIRA"></a></h1>
       <ul class="aui-nav">
        <li><a href="/jira/secure/Dashboard.jspa" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="home_link" aria-haspopup="true" aria-controls="home_link-content" title="View and manage your dashboards" accesskey="d">Dashboards</a>
         <div class="aui-dropdown2 aui-style-default" id="home_link-content" data-aui-dropdown2-ajax-key="home_link"></div></li>
        <li><a href="/jira/browse/SOLR" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="browse_link" aria-haspopup="true" aria-controls="browse_link-content" title="View recent projects and browse a list of projects" accesskey="p">Projects</a>
         <div class="aui-dropdown2 aui-style-default" id="browse_link-content" data-aui-dropdown2-ajax-key="browse_link"></div></li>
        <li><a href="/jira/issues/" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="find_link" aria-haspopup="true" aria-controls="find_link-content" title="Search for issues and view recent issues" accesskey="i">Issues</a>
         <div class="aui-dropdown2 aui-style-default" id="find_link-content" data-aui-dropdown2-ajax-key="find_link"></div></li> 
       </ul>
      </div>
      <div class="aui-header-secondary">
       <ul class="aui-nav">
        <li id="quicksearch-menu"> 
         <form action="/jira/secure/QuickSearch.jspa" method="get" id="quicksearch" class="aui-quicksearch dont-default-focus ajs-dirty-warning-exempt"> 
          <input id="quickSearchInput" class="search" type="text" title="Search" placeholder="Search" name="searchString" accessKey="q"> 
          <input type="submit" class="hidden" value="Search"> 
         </form> </li> 
        <li><a class="jira-feedback-plugin" role="button" aria-haspopup="true" id="jira-header-feedback-link" href="#"><span class="aui-icon aui-icon-small jira-feedback-plugin-icon">Give feedback to Atlassian</span></a></li> 
        <li id="system-help-menu"> <a class="aui-nav-link aui-dropdown2-trigger" id="help_menu" aria-haspopup="true" aria-owns="system-help-menu-content" href="https://docs.atlassian.com/jira/jcore-docs-076/" target="$textUtils.htmlEncode($rootHelpMenuItem.params.target)" title="Help"><span class="aui-icon aui-icon-small aui-iconfont-help">Help</span></a> 
         <div id="system-help-menu-content" class="aui-dropdown2 aui-style-default"> 
          <div class="aui-dropdown2-section"> 
           <ul id="jira-help" class="aui-list-truncate"> 
            <li> <a id="view_core_help" class="aui-nav-link " title="Go to the online documentation for JIRA Core" href="https://docs.atlassian.com/jira/jcore-docs-076/" target="_blank">JIRA Core help</a> </li> 
            <li> <a id="keyshortscuthelp" class="aui-nav-link " title="Get more information about JIRA's Keyboard Shortcuts" href="/jira/secure/ViewKeyboardShortcuts!default.jspa" target="_blank">Keyboard Shortcuts</a> </li> 
            <li> <a id="view_about" class="aui-nav-link " title="Get more information about JIRA" href="/jira/secure/AboutPage.jspa">About JIRA</a> </li> 
            <li> <a id="view_credits" class="aui-nav-link " title="See who did what" href="/jira/secure/JiraCreditsPage!default.jspa" target="_blank">JIRA Credits</a> </li> 
           </ul> 
          </div> 
         </div> </li> 
        <li id="user-options"> <a class="aui-nav-link login-link" href="/jira/login.jsp?os_destination=%2Fbrowse%2FSOLR-3884">Log In</a> 
         <div id="user-options-content" class="aui-dropdown2 aui-style-default"> 
          <div class="aui-dropdown2-section"> 
          </div> 
         </div> </li> 
       </ul>
      </div>
     </div>
     <!-- .aui-header-inner-->
    </nav>
    <!-- .aui-header --> 
   </header> 
   <section id="content" role="main"> 
    <big-pipe data-id="sidebar-id" unresolved></big-pipe>
    <div class="aui-sidebar  sidebar-placeholder">
     <div class="aui-sidebar-wrapper">
      <div class="aui-sidebar-body"></div>
      <div class="aui-sidebar-footer">
       <a class="aui-button aui-button-subtle aui-sidebar-toggle aui-sidebar-footer-tipsy" data-tooltip="Expand sidebar ( [ )" href="#"><span class="aui-icon aui-icon-small"></span></a>
      </div>
     </div>
    </div>
    <script id="projects-sidebar-init">
    require(['jira/projects/sidebar/expansion-manager'], function(expansionManager) {
        var scriptTag = document.getElementById('projects-sidebar-init');
        var sidebar = AJS.sidebar('.aui-sidebar');
        expansionManager(sidebar);
        scriptTag.parentElement.removeChild(scriptTag);
    });
    </script>
    <div class="aui-page-panel">
     <div class="aui-page-panel-inner">
      <div class="issue-navigator">
       <div class="content">
        <div class="issue-view">
         <div class="navigation-tools">
          <div class="pager-container"></div>
         </div>
         <div class="issue-container">
          <div id="issue-content" class="issue-edit-form">
           <header id="stalker" class="issue-header js-stalker">
            <div class="issue-header-content">
             <header class="aui-page-header">
              <div class="aui-page-header-inner">
               <div class="aui-page-header-image">
                <span id="12310230" class="aui-avatar aui-avatar-large aui-avatar-project"><span class="aui-avatar-inner"><img id="project-avatar" alt="Uploaded image for project: 'Solr'" src="https://issues.apache.org/jira/secure/projectavatar?pid=12310230&amp;avatarId=22151"></span></span>
               </div>
               <!-- .aui-page-header-image -->
               <div class="aui-page-header-main">
                <ol class="aui-nav aui-nav-breadcrumbs">
                 <li><a id="project-name-val" href="/jira/browse/SOLR">Solr</a></li>
                 <li><a class="issue-link" data-issue-key="SOLR-3884" href="/jira/browse/SOLR-3884" id="key-val" rel="12608941">SOLR-3884</a></li>
                </ol>
                <h1 id="summary-val">smoke tester on cygwin fails when testing example due to tlog recovery</h1>
               </div>
               <!-- .aui-page-header-main -->
               <div class="aui-page-header-actions">
                <div id="issue-header-pager"></div>
               </div>
               <!-- .aui-page-header-actions -->
              </div>
              <!-- .aui-page-header-inner -->
             </header>
             <!-- .aui-page-header -->
             <div class="command-bar">
              <div class="ops-cont">
               <div class="ops-menus aui-toolbar">
                <div class="toolbar-split toolbar-split-left">
                 <ul id="opsbar-ops-login-lnk_container" class="toolbar-group pluggable-ops">
                  <li class="toolbar-item"><a id="ops-login-lnk" title="Log In" class="toolbar-trigger" href="/jira/login.jsp?os_destination=%2Fbrowse%2FSOLR-3884"><span class="trigger-label">Log In</span></a></li>
                 </ul>
                 <ul id="opsbar-opsbar-operations" class="toolbar-group pluggable-ops"></ul>
                 <ul id="opsbar-opsbar-transitions" class="toolbar-group pluggable-ops"></ul>
                 <ul id="opsbar-opsbar-admin" class="toolbar-group pluggable-ops"></ul>
                </div>
                <div class="toolbar-split toolbar-split-right">
                 <ul id="opsbar-jira.issue.tools" class="toolbar-group pluggable-ops">
                  <li class="toolbar-item">
                   <div>
                    <a href="#" id="viewissue-export" aria-owns="viewissue-export_drop" aria-haspopup="true" title="Export this issue in another format" class="toolbar-trigger aui-button aui-style-default aui-dropdown2-trigger"><span class="icon icon-default aui-icon aui-icon-small aui-iconfont-export"></span> <span class="dropdown-text">Export</span></a>
                    <div id="viewissue-export_drop" class="aui-style-default aui-dropdown2">
                     <ul>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-xml/SOLR-3884/SOLR-3884.xml" id="jira.issueviews:issue-xml"><span class="trigger-label">XML</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-word/SOLR-3884/SOLR-3884.doc" id="jira.issueviews:issue-word"><span class="trigger-label">Word</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-html/SOLR-3884/SOLR-3884.html" id="jira.issueviews:issue-html"><span class="trigger-label">Printable</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/com.atlassian.jira.plugins.jira-importers-plugin:issue-json/SOLR-3884/SOLR-3884.json" id="com.atlassian.jira.plugins.jira-importers-plugin:issue-json"><span class="trigger-label">JSON</span></a></li>
                     </ul>
                    </div>
                   </div></li>
                 </ul>
                </div>
               </div>
              </div>
             </div>
            </div>
           </header>
           <div class="issue-body-content">
            <div class="aui-group issue-body">
             <div class="aui-item issue-main-column">
              <div id="details-module" class="module toggle-wrap">
               <div id="details-module_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Details</h2>
               </div>
               <div class="mod-content"> 
                <ul id="issuedetails" class="property-list two-cols"> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Type:</strong> 
                   <span id="type-val" class="value"> <img alt="" height="16" src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype" title="Bug - A problem which impairs or prevents the functions of the product." width="16"> Bug </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Status:</strong> 
                   <span id="status-val" class="value"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done jira-issue-status-lozenge-max-width-medium" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </span> 
                  </div> </li> 
                 <li class="item new"> 
                  <div class="wrap"> 
                   <strong class="name">Priority:</strong> 
                   <span id="priority-val" class="value"> <img alt="" height="16" src="/jira/images/icons/priorities/major.svg" title="Major - Major loss of function." width="16"> Major </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Resolution:</strong> 
                   <span id="resolution-val" class="value resolved"> Fixed </span> 
                  </div> </li> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Affects Version/s:</strong> 
                   <span id="versions-val" class="value"> None </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Fix Version/s:</strong> 
                   <span id="fixfor-val" class="value"> <span class="shorten" id="fixVersions-field"> <a href="/jira/issues/?jql=project+%3D+SOLR+AND+fixVersion+%3D+4.0" title="4.0 First major release from the 4.x branch: http://svn.apache.org/viewvc/lucene/dev/branches/branch_4x/">4.0</a>, <a href="/jira/issues/?jql=project+%3D+SOLR+AND+fixVersion+%3D+4.1" title="4.1 Major release after 4.0">4.1</a>, <a href="/jira/issues/?jql=project+%3D+SOLR+AND+fixVersion+%3D+6.0" title="6.0 First 6.x release, Major release after 5.5">6.0</a> </span> </span> 
                  </div> </li> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Component/s:</strong> 
                   <span id="components-val" class="value"> None </span> 
                  </div> </li> 
                 <li class="item full-width"> 
                  <div class="wrap" id="wrap-labels"> 
                   <strong class="name">Labels:</strong> 
                   <div class="labels-wrap value"> 
                    <span class="labels" id="labels-12608941-value">None</span> 
                   </div> 
                  </div> </li> 
                </ul> 
               </div>
              </div>
              <div id="descriptionmodule" class="module toggle-wrap">
               <div id="descriptionmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Description</h2>
               </div>
               <div class="mod-content">
                <div id="description-val" class="field-ignore-highlight"> 
                 <div class="user-content-block"> 
                  <p>while testing out 4.0-rc0, sarowe noted the he was seeing the smoke tester script fail while sanity checking the solr example.</p> 
                  <p><a href="https://mail-archives.apache.org/mod_mbox/lucene-dev/201209.mbox/%3C6C78E97C707B5B4C8CC61D44F87545863ED73E@SUEX10-mbx-03.ad.syr.edu%3E" class="external-link" rel="nofollow">https://mail-archives.apache.org/mod_mbox/lucene-dev/201209.mbox/%3C6C78E97C707B5B4C8CC61D44F87545863ED73E@SUEX10-mbx-03.ad.syr.edu%3E</a></p> 
                  <p>The crux of the issue seems to be...</p> 
                  <ul> 
                   <li>the same directory is reused for testing the example in java6 and then java7</li> 
                   <li>in some versions of cygwin, SIGINT does not do a clean shutdown of jetty+solr (with jvm close hooks that would do a hard commit)</li> 
                   <li>when solr is shutdown uncleanly (the java6 run), the tlog is used on startup of the next (java7) run.</li> 
                   <li>tlog recovery concurrent with rapid updates on startup can be problematic, commits may be ignored.</li> 
                  </ul> 
                  <p>The underlying questions about dealing with tlog recovery and concurrent updates from external clients have been spun off into <a href="https://issues.apache.org/jira/browse/SOLR-3888" title="need beter handling of external add/commit requests during tlog recovery" class="issue-link" data-issue-key="SOLR-3888">SOLR-3888</a>. this issue is focusing on changes that should be considered for the smoke tester.</p> 
                 </div> 
                </div> 
               </div>
              </div>
              <div id="dnd-metadata" class="module toggle-wrap">
               <div id="dnd-metadata_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Attachments</h2>
               </div>
               <div class="mod-content">
                <div id="dnd-metadata-webpanel" data-can-attach="false" data-project-type="software" data-upload-limit="62914560" data-thumbnails-allowed="false"></div>
               </div>
              </div>
              <div id="attachmentmodule" class="module toggle-wrap">
               <div id="attachmentmodule_heading" class="mod-header">
                <ul class="ops">
                 <li class="drop">
                  <div class="aui-dd-parent">
                   <a href="#" class="icon drop-menu js-default-dropdown" title="Options"><span>Options</span></a>
                   <div class="aui-dropdown-content aui-list">
                    <ul id="attachment-sorting-options" class="aui-list-section aui-first">
                     <li class="aui-list-item"><a id="attachment-sort-key-name" href="/jira/browse/SOLR-3884?attachmentSortBy=fileName#attachmentmodule" class="aui-list-checked aui-checked aui-list-item-link" title="viewissue.subtasks.tab.show.all.name"><span>Sort By Name</span></a></li>
                     <li class="aui-list-item"><a id="attachment-sort-key-date" href="/jira/browse/SOLR-3884?attachmentSortBy=dateTime#attachmentmodule" class="aui-list-checked aui-list-item-link" title="Sort By Date"><span>Sort By Date</span></a></li>
                    </ul>
                    <ul id="attachment-sorting-order-options" class="aui-list-section aui-last">
                     <li class="aui-list-item"><a id="attachment-sort-direction-asc" href="/jira/browse/SOLR-3884?attachmentOrder=asc#attachmentmodule" class="aui-list-checked aui-checked aui-list-item-link" title="Ascending"><span>Ascending</span></a></li>
                     <li class="aui-list-item"><a id="attachment-sort-direction-desc" href="/jira/browse/SOLR-3884?attachmentOrder=desc#attachmentmodule" class="aui-list-checked aui-list-item-link" title="Descending"><span>Descending</span></a></li>
                    </ul>
                   </div>
                  </div></li>
                </ul>
                <h2 class="toggle-title">Attachments</h2>
               </div>
               <div class="mod-content">
                <ol id="file_attachments" class="item-attachments" data-sort-key="fileName" data-sort-order="asc">
                 <li class="attachment-content js-file-attachment" data-attachment-id="12546500" data-issue-id="12608941" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12546500/java6.solr-example.log" draggable="true" data-downloadurl="text/plain:java6.solr-example.log:https://issues.apache.org/jira/secure/attachment/12546500/java6.solr-example.log"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12546500/java6.solr-example.log" title="Latest  25/Sep/12 12:21 - Steve Rowe" draggable="true" data-downloadurl="text/plain:java6.solr-example.log:https://issues.apache.org/jira/secure/attachment/12546500/java6.solr-example.log">java6.solr-example.log</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2012-09-25T12:21:40.413Z">25/Sep/12 12:21</time>
                   </dd>
                   <dd class="attachment-size">
                    30 kB
                   </dd>
                   <dd class="attachment-author">
                    Steve Rowe
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12546501" data-issue-id="12608941" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12546501/java7.solr-example.log" draggable="true" data-downloadurl="text/plain:java7.solr-example.log:https://issues.apache.org/jira/secure/attachment/12546501/java7.solr-example.log"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12546501/java7.solr-example.log" title="Latest  25/Sep/12 12:21 - Steve Rowe" draggable="true" data-downloadurl="text/plain:java7.solr-example.log:https://issues.apache.org/jira/secure/attachment/12546501/java7.solr-example.log">java7.solr-example.log</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2012-09-25T12:21:40.414Z">25/Sep/12 12:21</time>
                   </dd>
                   <dd class="attachment-size">
                    29 kB
                   </dd>
                   <dd class="attachment-author">
                    Steve Rowe
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12546433" data-issue-id="12608941" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12546433/solr-example.log" draggable="true" data-downloadurl="text/x-log:solr-example.log:https://issues.apache.org/jira/secure/attachment/12546433/solr-example.log"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12546433/solr-example.log" title="Latest  25/Sep/12 02:56 - Mark Miller" draggable="true" data-downloadurl="text/x-log:solr-example.log:https://issues.apache.org/jira/secure/attachment/12546433/solr-example.log">solr-example.log</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2012-09-25T02:56:54.054Z">25/Sep/12 02:56</time>
                   </dd>
                   <dd class="attachment-size">
                    26 kB
                   </dd>
                   <dd class="attachment-author">
                    Mark Miller
                   </dd>
                  </dl></li>
                </ol>
               </div>
              </div>
              <div id="linkingmodule" class="module toggle-wrap">
               <div id="linkingmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Issue Links</h2>
               </div>
               <div class="mod-content"> 
                <div class="links-container" data-default-link-icon="/jira/images/icons/generic_link_16.png"> 
                 <dl class="links-list "> 
                  <dt title="is related to">
                   is related to
                  </dt> 
                  <dd id="internal-12609094_10030"> 
                   <div class="link-content"> 
                    <p> <img src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype" width="16" height="16" title="Bug - A problem which impairs or prevents the functions of the product." alt="Bug - A problem which impairs or prevents the functions of the product."> <span title="SOLR-3888: need beter handling of external add/commit requests during tlog recovery"> <a href="/jira/browse/SOLR-3888" data-issue-key="SOLR-3888" class="issue-link link-title">SOLR-3888</a> <span class="link-summary">need beter handling of external add/commit requests during tlog recovery</span> </span> </p> 
                    <ul class="link-snapshot"> 
                     <li class="priority"> <img src="/jira/images/icons/priorities/major.svg" width="16" height="16" title="Major - Major loss of function." alt="Major - Major loss of function."> </li> 
                     <li class="status"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-blue-gray jira-issue-status-lozenge-new aui-lozenge-subtle jira-issue-status-lozenge-max-width-short" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Open</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is open and ready for the assignee to start work on it.</span>">Open</span> </li> 
                    </ul> 
                   </div> 
                  </dd> 
                  <dd id="internal-12609100_10030"> 
                   <div class="link-content"> 
                    <p> <img src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype" width="16" height="16" title="Bug - A problem which impairs or prevents the functions of the product." alt="Bug - A problem which impairs or prevents the functions of the product."> <span title="SOLR-3889: SmokeTest fail on my Linux machine."> <a href="/jira/browse/SOLR-3889" data-issue-key="SOLR-3889" class="issue-link link-title resolution">SOLR-3889</a> <span class="link-summary">SmokeTest fail on my Linux machine.</span> </span> </p> 
                    <ul class="link-snapshot"> 
                     <li class="priority"> <img src="/jira/images/icons/priorities/major.svg" width="16" height="16" title="Major - Major loss of function." alt="Major - Major loss of function."> </li> 
                     <li class="status"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done aui-lozenge-subtle jira-issue-status-lozenge-max-width-short" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </li> 
                    </ul> 
                   </div> 
                  </dd> 
                 </dl> 
                 <dl class="links-list "> 
                  <dt title="relates to">
                   relates to
                  </dt> 
                  <dd id="internal-12608501_10030"> 
                   <div class="link-content"> 
                    <p> <img src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype" width="16" height="16" title="Bug - A problem which impairs or prevents the functions of the product." alt="Bug - A problem which impairs or prevents the functions of the product."> <span title="SOLR-3861: Refactor SolrCoreState so that it's managed by SolrCore ."> <a href="/jira/browse/SOLR-3861" data-issue-key="SOLR-3861" class="issue-link link-title resolution">SOLR-3861</a> <span class="link-summary">Refactor SolrCoreState so that it's managed by SolrCore .</span> </span> </p> 
                    <ul class="link-snapshot"> 
                     <li class="priority"> <img src="/jira/images/icons/priorities/minor.svg" width="16" height="16" title="Minor - Minor loss of function, or other problem where easy workaround is present." alt="Minor - Minor loss of function, or other problem where easy workaround is present."> </li> 
                     <li class="status"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done aui-lozenge-subtle jira-issue-status-lozenge-max-width-short" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </li> 
                    </ul> 
                   </div> 
                  </dd> 
                 </dl> 
                </div> 
               </div>
              </div>
              <div id="activitymodule" class="module toggle-wrap">
               <div id="activitymodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Activity</h2>
               </div>
               <div class="mod-content"> 
                <big-pipe data-id="activity-panel-pipe-id" style="height: 70px"> 
                 <div></div> 
                </big-pipe> 
               </div>
              </div>
             </div>
             <div id="viewissuesidebar" class="aui-item issue-side-column">
              <div id="peoplemodule" class="module toggle-wrap">
               <div id="peoplemodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">People</h2>
               </div>
               <div class="mod-content"> 
                <ul class="item-details" id="peopledetails"> 
                 <li class="people-details"> 
                  <dl> 
                   <dt>
                    Assignee:
                   </dt> 
                   <dd> 
                    <span id="assignee-val" class="view-issue-field"> <span class="user-hover" id="issue_summary_assignee_steve_rowe" rel="steve_rowe" data-user="{&quot;avatarUrl&quot;:&quot;https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10452&quot;,&quot;displayName&quot;:&quot;Steve Rowe&quot;,&quot;emailAddress&quot;:&quot;sarowe@gmail.com&quot;,&quot;username&quot;:&quot;steve_rowe&quot;}"> <span class="aui-avatar aui-avatar-small"><span class="aui-avatar-inner"><img src="https://issues.apache.org/jira/secure/useravatar?size=small&amp;avatarId=10452" alt="steve_rowe"></span></span> Steve Rowe </span> </span> 
                   </dd> 
                  </dl> 
                  <dl> 
                   <dt>
                    Reporter:
                   </dt> 
                   <dd> 
                    <span id="reporter-val" class="view-issue-field"> <span class="user-hover" id="issue_summary_reporter_hossman" rel="hossman" data-user="{&quot;avatarUrl&quot;:&quot;https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10452&quot;,&quot;displayName&quot;:&quot;Hoss Man&quot;,&quot;emailAddress&quot;:&quot;hossman_apachejira@fucit.org&quot;,&quot;username&quot;:&quot;hossman&quot;}"> <span class="aui-avatar aui-avatar-small"><span class="aui-avatar-inner"><img src="https://issues.apache.org/jira/secure/useravatar?size=small&amp;avatarId=10452" alt="hossman"></span></span> Hoss Man </span> </span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
                <ul class="item-details"> 
                 <li> 
                  <dl> 
                   <dt>
                    Votes:
                   </dt> 
                   <dd> 
                    <span id="vote-data" class="aui-badge vote-state-off">0</span> 
                    <span id="vote-label" title="You have to be logged in to vote for an issue.">Vote for this issue</span> 
                   </dd> 
                  </dl> 
                  <dl> 
                   <dt>
                    Watchers:
                   </dt> 
                   <dd> 
                    <span id="watcher-data" class="aui-badge watch-state-off">4</span> 
                    <span id="watch-label" title="You have to be logged in to watch an issue.">Start watching this issue</span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
               </div>
              </div>
              <div id="datesmodule" class="module toggle-wrap">
               <div id="datesmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Dates</h2>
               </div>
               <div class="mod-content"> 
                <ul class="item-details"> 
                 <li> 
                  <dl class="dates"> 
                   <dt>
                    Created:
                   </dt> 
                   <dd class="date user-tz" title="24/Sep/12 22:53"> 
                    <span data-name="Created" id="created-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2012-09-24T22:53:09+0000">24/Sep/12 22:53</time> </span> 
                   </dd> 
                  </dl> 
                  <dl class="dates"> 
                   <dt>
                    Updated:
                   </dt> 
                   <dd class="date user-tz" title="09/May/16 18:48"> 
                    <span data-name="Updated" id="updated-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2016-05-09T18:48:37+0000">09/May/16 18:48</time> </span> 
                   </dd> 
                  </dl> 
                  <dl class="dates"> 
                   <dt>
                    Resolved:
                   </dt> 
                   <dd class="date user-tz" title="25/Sep/12 19:59"> 
                    <span data-name="Resolved" id="resolutiondate-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2012-09-25T19:59:46+0000">25/Sep/12 19:59</time> </span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
               </div>
              </div>
             </div>
            </div>
           </div>
          </div>
         </div>
        </div>
       </div>
      </div>
     </div>
     <!-- .aui-page-panel-inner -->
    </div>
    <!-- .aui-page-panel -->
    <div class="issue-navigator-init"></div> 
   </section> 
   <footer id="footer" role="contentinfo"> 
    <section class="footer-body"> 
     <ul class="atlassian-footer"> 
      <li> Atlassian JIRA <a class="seo-link" rel="nofollow" href="https://www.atlassian.com/software/jira">Project Management Software</a> <span id="footer-build-information">(v7.6.3#76005-<span title="8a4e38d34af948780dbf52044e7aafb13a7cae58" data-commit-id="8a4e38d34af948780dbf52044e7aafb13a7cae58}">sha1:8a4e38d</span>)</span> </li> 
      <li> <a id="about-link" rel="nofollow" href="/jira/secure/AboutPage.jspa/secure/AboutPage.jspa">About JIRA</a> </li> 
      <li> <a id="footer-report-problem-link" rel="nofollow" href="/jira/secure/CreateIssue!default.jspa">Report a problem</a> </li> 
     </ul> 
     <ul class="atlassian-footer"> 
      <li class="licensemessage"> Powered by a free Atlassian <a rel="nofollow" href="http://www.atlassian.com/software/jira">JIRA</a> open source license for Apache Software Foundation. Try JIRA - <a rel="nofollow" href="http://www.atlassian.com/software/jira">bug tracking software</a> for <i>your</i> team. </li> 
     </ul> 
     <div id="footer-logo">
      <a rel="nofollow" href="http://www.atlassian.com/">Atlassian</a>
     </div> 
    </section> 
    <fieldset class="hidden parameters"> 
     <input type="hidden" title="loggedInUser" value=""> 
     <input type="hidden" title="ajaxTimeout" value="The call to the JIRA server did not complete within the timeout period.  We are unsure of the result of this operation."> 
     <input type="hidden" title="JiraVersion" value="7.6.3"> 
     <input type="hidden" title="ajaxUnauthorised" value="You are not authorised to perform this operation. Please log in."> 
     <input type="hidden" title="baseURL" value="https://issues.apache.org/jira"> 
     <input type="hidden" title="ajaxCommsError" value="The JIRA server could not be contacted. This may be a temporary glitch or the server may be down. "> 
     <input type="hidden" title="ajaxServerError" value="The JIRA server was contacted but has returned an error response. We are unsure of the result of this operation."> 
     <input type="hidden" title="ajaxErrorCloseDialog" value="Close this dialog and press refresh in your browser"> 
     <input type="hidden" title="ajaxErrorDialogHeading" value="Communications Breakdown"> 
     <input type="hidden" title="dirtyMessage" value="You have entered new data on this page. If you navigate away from this page without first saving your data, the changes will be lost."> 
     <input type="hidden" title="dirtyDialogMessage" value="You have entered new data in this dialog. If you navigate away from this dialog without first saving your data, the changes will be lost. Click cancel to return to the dialog."> 
     <input type="hidden" title="keyType" value="Type"> 
     <input type="hidden" title="keyThen" value="then"> 
     <input type="hidden" title="dblClickToExpand" value="Double click to expand"> 
     <input type="hidden" title="actions" value="Actions"> 
     <input type="hidden" title="removeItem" value="Remove"> 
     <input type="hidden" title="workflow" value="Workflow"> 
     <input type="hidden" title="labelNew" value="New Label"> 
     <input type="hidden" title="issueActionsHint" value="Begin typing for available operations or press down to see all"> 
     <input type="hidden" title="closelink" value="Close"> 
     <input type="hidden" title="dotOperations" value="Operations"> 
     <input type="hidden" title="dotLoading" value="Loading..."> 
     <input type="hidden" title="frotherSuggestions" value="Suggestions"> 
     <input type="hidden" title="frotherNomatches" value="No Matches"> 
     <input type="hidden" title="multiselectVersionsError" value="{0} is not a valid version."> 
     <input type="hidden" title="multiselectComponentsError" value="{0} is not a valid component."> 
     <input type="hidden" title="multiselectGenericError" value="The value {0} is invalid."> 
    </fieldset> 
   </footer> 
  </div> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:bigpipe-js/jira.webresources:bigpipe-js.js" data-wrm-key="jira.webresources:bigpipe-js" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["activity-panel-pipe-id"]="\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n    \u003cdiv class=\\\"tabwrap tabs2\\\"\u003e\\n\\n        \u003cul id=\\\"issue-tabs\\\" class=\\\"tabs horizontal\\\"\u003e\\n                                \\n            \u003cli  data-id=\\\"all-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\" data-label=\\\"All\\\" data-href=\\\"\\/jira\\/browse\\/SOLR-3884?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"all-tabpanel\\\" href=\\\"\\/jira\\/browse\\/SOLR-3884?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\"\u003e\u003cstrong\u003eAll\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  class=\\\"active\\\" id=\\\"comment-tabpanel\\\"  data-id=\\\"comment-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel\\\" data-label=\\\"Comments\\\" data-href=\\\"\\/jira\\/browse\\/SOLR-3884?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel\\\"\u003e\\n                            \u003cstrong tabindex=\\\"0\\\"\u003eComments\u003c\\/strong\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"worklog-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\" data-label=\\\"Work Log\\\" data-href=\\\"\\/jira\\/browse\\/SOLR-3884?page=com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"worklog-tabpanel\\\" href=\\\"\\/jira\\/browse\\/SOLR-3884?page=com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\"\u003e\u003cstrong\u003eWork Log\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"changehistory-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\" data-label=\\\"History\\\" data-href=\\\"\\/jira\\/browse\\/SOLR-3884?page=com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"changehistory-tabpanel\\\" href=\\\"\\/jira\\/browse\\/SOLR-3884?page=com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\"\u003e\u003cstrong\u003eHistory\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"activity-stream-issue-tab\\\" data-key=\\\"com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\" data-label=\\\"Activity\\\" data-href=\\\"\\/jira\\/browse\\/SOLR-3884?page=com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"activity-stream-issue-tab\\\" href=\\\"\\/jira\\/browse\\/SOLR-3884?page=com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\"\u003e\u003cstrong\u003eActivity\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"transitions-summary-tabpanel\\\" data-key=\\\"com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\" data-label=\\\"Transitions\\\" data-href=\\\"\\/jira\\/browse\\/SOLR-3884?page=com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"transitions-summary-tabpanel\\\" href=\\\"\\/jira\\/browse\\/SOLR-3884?page=com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\"\u003e\u003cstrong\u003eTransitions\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                \u003c\\/ul\u003e\\n\\n                    \u003cdiv class=\\\"sortwrap\\\"\u003e\\n                                    \u003ca class=\\\"issue-activity-sort-link ajax-activity-content\\\" rel=\\\"nofollow\\\" data-tab-sort data-order=\\\"desc\\\" href=\\\"\\/jira\\/browse\\/SOLR-3884?actionOrder=desc\\\" title=\\\"Ascending order - Click to sort in descending order\\\"\u003e\\n                        \u003cspan class=\\\"aui-icon aui-icon-small aui-iconfont-up\\\"\u003eAscending order - Click to sort in descending order\u003c\\/span\u003e\\n                    \u003c\\/a\u003e\\n                            \u003c\\/div\u003e\\n            \u003c\\/div\u003e\\n    \u003cdiv class=\\\"issuePanelWrapper\\\"\u003e\\n        \u003cdiv class=\\\"issuePanelProgress\\\"\u003e\u003c\\/div\u003e\\n        \u003cdiv class=\\\"issuePanelContainer\\\" id=\\\"issue_actions_container\\\"\u003e\\n                                    \\n\\n\\n\u003cdiv id=\\\"comment-13462233\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-3884?focusedCommentId=13462233&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13462233\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"hossman\\\" id=\\\"commentauthor_13462233_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=hossman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"hossman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Hoss Man\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13462233_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'24\\/Sep\\/12 23:02\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-09-24T23:02:54+0000\'\u003e24\\/Sep\\/12 23:02\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThe crux of hte issue i (think i) see is that the smoke tester tries to sanity check the same example dir twice in succession, once with java6 and once with java7.  in sarowe\'s case, it\'s always the java7 version that fails (if it fails) and here are some interesting tidbits from the output\\/log he posted...\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"preformatted panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"preformattedContent panelContent\\\"\u003e\\n\u003cpre\u003e    test solr example w\\/ Java 6...\\n      start Solr instance (log=\\/home\\/sarowe\\/temp\\/tmpDir\\/unpack\\/apache-solr-4.0.0\\/solr-example.log)...\\n      startup done\\n      test utf8...\\n      index example docs...\\n      run query...\\n      stop server (SIGINT)...\\n    test solr example w\\/ Java 7...\\n      start Solr instance (log=\\/home\\/sarowe\\/temp\\/tmpDir\\/unpack\\/apache-solr-4.0.0\\/solr-example.log)...\\n      startup done\\n      test utf8...\\n      index example docs...\\n      run query...\\nFAILED: response is:\\n&lt;?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?&gt;\\n&lt;response&gt;\\n&lt;lst name=\\\"responseHeader\\\"&gt;&lt;int name=\\\"status\\\"&gt;0&lt;\\/int&gt;&lt;int name=\\\"QTime\\\"&gt;0&lt;\\/int&gt;&lt;lst name=\\\"params\\\"&gt;&lt;str\\nname=\\\"q\\\"&gt;video&lt;\\/str&gt;&lt;\\/lst&gt;&lt;\\/lst&gt;&lt;result name=\\\"response\\\" numFound=\\\"0\\\" start=\\\"0\\\"&gt;&lt;\\/result&gt;\\n&lt;\\/response&gt;\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003eSo the requests to index &amp; query data all succced, but the results are not what is expected (no docs found for a simple query)\u003c\\/p\u003e\\n\\n\u003cp\u003eThen we look at the log from that failed second run o the example...\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"preformatted panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"preformattedContent panelContent\\\"\u003e\\n\u003cpre\u003e...\\nINFO: registering core: collection1\\nSep 24, 2012 2:08:58 PM org.apache.solr.update.UpdateLog$LogReplayer doReplay\\nWARNING: Starting log replay tlog{file=solr\\\\collection1\\\\data\\\\tlog\\\\tlog.0000000000000000000 refcount=2} active=false\\nstarting pos=0\\nSep 24, 2012 2:08:58 PM org.apache.solr.servlet.SolrDispatchFilter init\\nINFO: user.dir=C:\\\\cygwin\\\\home\\\\sarowe\\\\temp\\\\tmpDir\\\\unpack\\\\apache-solr-4.0.0\\\\example\\nSep 24, 2012 2:08:58 PM org.apache.solr.servlet.SolrDispatchFilter init\\nINFO: SolrDispatchFilter.init() done\\n2012-09-24 14:08:58.105:INFO:oejs.AbstractConnector:Started SocketConnector@0.0.0.0:8983\\nSep 24, 2012 2:08:58 PM org.apache.solr.core.SolrDeletionPolicy onInit\\nINFO: SolrDeletionPolicy.onInit: commits:num=1\\n        commit{dir=NRTCachingDirectory(org.apache.lucene.store.MMapDirectory@C:\\\\cygwin\\\\home\\\\sarowe\\\\temp\\\\tmpDir\\\\unpac\\nk\\\\apache-solr-4.0.0\\\\example\\\\solr\\\\collection1\\\\data\\\\index\\nlockFactory=org.apache.lucene.store.NativeFSLockFactory@7ea69d83; maxCacheMB=48.0\\nmaxMergeSizeMB=4.0),segFN=segments_1,generation=1,filenames=[segments_1]\\nSep 24, 2012 2:08:58 PM org.apache.solr.core.SolrDeletionPolicy updateCommits\\nINFO: newest commit = 1\\nSep 24, 2012 2:08:58 PM org.apache.solr.update.DirectUpdateHandler2 commit\\nINFO: start\\ncommit{flags=2,_version_=0,optimize=false,openSearcher=true,waitSearcher=true,expungeDeletes=false,softCommit=false}\\nSep 24, 2012 2:08:58 PM org.apache.solr.core.SolrCore execute\\nINFO: [collection1] webapp=\\/solr path=\\/select params={wt=python&amp;q=hello&amp;params=explicit} hits=0 status=0 QTime=1 \\nSep 24, 2012 2:08:58 PM org.apache.solr.core.SolrCore execute\\n...\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003e...so we have astartup detecting things in the transaction log that need to be replayed, and a commit starts &#8211; meanwhile requests fro mthe smoke script (checking utf8) are comming in.  After that we start getting real example documents...\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"preformatted panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"preformattedContent panelContent\\\"\u003e\\n\u003cpre\u003e...\\nINFO: [collection1] webapp=\\/solr path=\\/update params={} {add=[EN7800GTX\\/2DHTV\\/256M (1414015368091926528), 100-435805\\n(1414015368095072256)]} 0 6\\nSep 24, 2012 2:08:59 PM org.apache.solr.update.processor.DistributedUpdateProcessor processCommit\\nINFO: Ignoring commit while not ACTIVE - state: REPLAYING replay:0\\nSep 24, 2012 2:08:59 PM org.apache.solr.update.processor.LogUpdateProcessor finish\\nINFO: [collection1] webapp=\\/solr path=\\/update params={softCommit=true} {commit=} 0 1\\nSep 24, 2012 2:08:59 PM org.apache.solr.core.SolrCore execute\\nINFO: [collection1] webapp=\\/solr path=\\/select\\/ params={q=video} hits=0 status=0 QTime=0\\n...\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003e...and that\'s where things look wonky to me &#8211; the smoke script explicitly sent in a bunch of documents, and asked for a commit, but aparently even though the client was given a success response, that commit was evidently ignored because solr was in \\\"REPLAYING\\\" mode, so then the subsequent query didn\'t find the docs it was expecting.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"hossman\\\" id=\\\"commentauthor_13462233_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=hossman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"hossman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Hoss Man\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13462233_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'24\\/Sep\\/12 23:02\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-09-24T23:02:54+0000\'\u003e24\\/Sep\\/12 23:02\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    The crux of hte issue i (think i) see is that the smoke tester tries to sanity check the same example dir twice in succession, once with java6 and once with java7.  in sarowe\'s case, it\'s always the java7 version that fails (if it fails) and here are some interesting tidbits from the output\\/log he posted... \\n\\n  \\n     test solr example w\\/ Java 6...\\n      start Solr instance (log=\\/home\\/sarowe\\/temp\\/tmpDir\\/unpack\\/apache-solr-4.0.0\\/solr-example.log)...\\n      startup done\\n      test utf8...\\n      index example docs...\\n      run query...\\n      stop server (SIGINT)...\\n    test solr example w\\/ Java 7...\\n      start Solr instance (log=\\/home\\/sarowe\\/temp\\/tmpDir\\/unpack\\/apache-solr-4.0.0\\/solr-example.log)...\\n      startup done\\n      test utf8...\\n      index example docs...\\n      run query...\\nFAILED: response is:\\n&lt;?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?&gt;\\n&lt;response&gt;\\n&lt;lst name=\\\"responseHeader\\\"&gt;&lt;int name=\\\"status\\\"&gt;0&lt;\\/int&gt;&lt;int name=\\\"QTime\\\"&gt;0&lt;\\/int&gt;&lt;lst name=\\\"params\\\"&gt;&lt;str\\nname=\\\"q\\\"&gt;video&lt;\\/str&gt;&lt;\\/lst&gt;&lt;\\/lst&gt;&lt;result name=\\\"response\\\" numFound=\\\"0\\\" start=\\\"0\\\"&gt;&lt;\\/result&gt;\\n&lt;\\/response&gt;\\n \\n  \\n\\n So the requests to index &amp; query data all succced, but the results are not what is expected (no docs found for a simple query) \\n\\n Then we look at the log from that failed second run o the example... \\n\\n  \\n ...\\nINFO: registering core: collection1\\nSep 24, 2012 2:08:58 PM org.apache.solr.update.UpdateLog$LogReplayer doReplay\\nWARNING: Starting log replay tlog{file=solr\\\\collection1\\\\data\\\\tlog\\\\tlog.0000000000000000000 refcount=2} active=false\\nstarting pos=0\\nSep 24, 2012 2:08:58 PM org.apache.solr.servlet.SolrDispatchFilter init\\nINFO: user.dir=C:\\\\cygwin\\\\home\\\\sarowe\\\\temp\\\\tmpDir\\\\unpack\\\\apache-solr-4.0.0\\\\example\\nSep 24, 2012 2:08:58 PM org.apache.solr.servlet.SolrDispatchFilter init\\nINFO: SolrDispatchFilter.init() done\\n2012-09-24 14:08:58.105:INFO:oejs.AbstractConnector:Started SocketConnector@0.0.0.0:8983\\nSep 24, 2012 2:08:58 PM org.apache.solr.core.SolrDeletionPolicy onInit\\nINFO: SolrDeletionPolicy.onInit: commits:num=1\\n        commit{dir=NRTCachingDirectory(org.apache.lucene.store.MMapDirectory@C:\\\\cygwin\\\\home\\\\sarowe\\\\temp\\\\tmpDir\\\\unpac\\nk\\\\apache-solr-4.0.0\\\\example\\\\solr\\\\collection1\\\\data\\\\index\\nlockFactory=org.apache.lucene.store.NativeFSLockFactory@7ea69d83; maxCacheMB=48.0\\nmaxMergeSizeMB=4.0),segFN=segments_1,generation=1,filenames=[segments_1]\\nSep 24, 2012 2:08:58 PM org.apache.solr.core.SolrDeletionPolicy updateCommits\\nINFO: newest commit = 1\\nSep 24, 2012 2:08:58 PM org.apache.solr.update.DirectUpdateHandler2 commit\\nINFO: start\\ncommit{flags=2,_version_=0,optimize=false,openSearcher=true,waitSearcher=true,expungeDeletes=false,softCommit=false}\\nSep 24, 2012 2:08:58 PM org.apache.solr.core.SolrCore execute\\nINFO: [collection1] webapp=\\/solr path=\\/select params={wt=python&amp;q=hello&amp;params=explicit} hits=0 status=0 QTime=1 \\nSep 24, 2012 2:08:58 PM org.apache.solr.core.SolrCore execute\\n...\\n \\n  \\n\\n ...so we have astartup detecting things in the transaction log that need to be replayed, and a commit starts &#8211; meanwhile requests fro mthe smoke script (checking utf8) are comming in.  After that we start getting real example documents... \\n\\n  \\n ...\\nINFO: [collection1] webapp=\\/solr path=\\/update params={} {add=[EN7800GTX\\/2DHTV\\/256M (1414015368091926528), 100-435805\\n(1414015368095072256)]} 0 6\\nSep 24, 2012 2:08:59 PM org.apache.solr.update.processor.DistributedUpdateProcessor processCommit\\nINFO: Ignoring commit while not ACTIVE - state: REPLAYING replay:0\\nSep 24, 2012 2:08:59 PM org.apache.solr.update.processor.LogUpdateProcessor finish\\nINFO: [collection1] webapp=\\/solr path=\\/update params={softCommit=true} {commit=} 0 1\\nSep 24, 2012 2:08:59 PM org.apache.solr.core.SolrCore execute\\nINFO: [collection1] webapp=\\/solr path=\\/select\\/ params={q=video} hits=0 status=0 QTime=0\\n...\\n \\n  \\n\\n ...and that\'s where things look wonky to me &#8211; the smoke script explicitly sent in a bunch of documents, and asked for a commit, but aparently even though the client was given a success response, that commit was evidently ignored because solr was in \\\"REPLAYING\\\" mode, so then the subsequent query didn\'t find the docs it was expecting.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13462234\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-3884?focusedCommentId=13462234&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13462234\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"markrmiller@gmail.com\\\" id=\\\"commentauthor_13462234_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=markrmiller%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"markrmiller@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mark Miller\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13462234_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'24\\/Sep\\/12 23:03\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-09-24T23:03:37+0000\'\u003e24\\/Sep\\/12 23:03\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI guess it looks like its recovering from a replay log? And it skips commits while it does this.\u003c\\/p\u003e\\n\\n\u003cp\u003eSo the problem may just be that we accept updates before we are ready?\u003c\\/p\u003e\\n\\n\u003cp\u003eI\'ve got to head out for a while, but can look into it more later if no one else jumps on it.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"markrmiller@gmail.com\\\" id=\\\"commentauthor_13462234_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=markrmiller%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"markrmiller@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mark Miller\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13462234_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'24\\/Sep\\/12 23:03\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-09-24T23:03:37+0000\'\u003e24\\/Sep\\/12 23:03\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I guess it looks like its recovering from a replay log? And it skips commits while it does this. \\n\\n So the problem may just be that we accept updates before we are ready? \\n\\n I\'ve got to head out for a while, but can look into it more later if no one else jumps on it.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13462235\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-3884?focusedCommentId=13462235&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13462235\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"markrmiller@gmail.com\\\" id=\\\"commentauthor_13462235_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=markrmiller%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"markrmiller@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mark Miller\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13462235_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'24\\/Sep\\/12 23:04\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-09-24T23:04:36+0000\'\u003e24\\/Sep\\/12 23:04\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eDidn\'t see your post first Hossman - right, that\'s about what I see happening.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"markrmiller@gmail.com\\\" id=\\\"commentauthor_13462235_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=markrmiller%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"markrmiller@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mark Miller\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13462235_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'24\\/Sep\\/12 23:04\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-09-24T23:04:36+0000\'\u003e24\\/Sep\\/12 23:04\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Didn\'t see your post first Hossman - right, that\'s about what I see happening.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13462254\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-3884?focusedCommentId=13462254&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13462254\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"hossman\\\" id=\\\"commentauthor_13462254_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=hossman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"hossman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Hoss Man\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13462254_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'24\\/Sep\\/12 23:26\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-09-24T23:26:19+0000\'\u003e24\\/Sep\\/12 23:26\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI \u003cem\u003ethink\u003c\\/em\u003e this is somewhat related to \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-3861\\\" title=\\\"Refactor SolrCoreState so that it&#39;s managed by SolrCore .\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-3861\\\"\u003e\u003cdel\u003eSOLR-3861\u003c\\/del\u003e\u003c\\/a\u003e in that the only reason we see these problems during tlog REPLAY is because there was no hard commit on shutdown of the first instance.  (if i\'m right: we\'ll see a RejectedExecutionException in sarowe\'s first solr-example.log from the autocommit during shutdown) but independent of that we still need to think about how to better deal with documents comming in during RECOVERY\u003c\\/p\u003e\\n\\n\u003cp\u003eOn IRC miller suggested that perhaps Solr should block and not accept new updates until REPLAY is done (ideally by not listing on the socket i would think) \u003c\\/p\u003e\\n\\n\u003cp\u003ea short term way of addressing this in the smoke tester (if we don\'t have a better fix for 4.0) would be to have hte smoke tester explicitly request a hard commit before doing a shutdown of the server, or using a new clean directory (w\\/o any tlog or previous docs) when running the example for the  second time.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"hossman\\\" id=\\\"commentauthor_13462254_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=hossman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"hossman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Hoss Man\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13462254_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'24\\/Sep\\/12 23:26\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-09-24T23:26:19+0000\'\u003e24\\/Sep\\/12 23:26\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I  think  this is somewhat related to   SOLR-3861   in that the only reason we see these problems during tlog REPLAY is because there was no hard commit on shutdown of the first instance.  (if i\'m right: we\'ll see a RejectedExecutionException in sarowe\'s first solr-example.log from the autocommit during shutdown) but independent of that we still need to think about how to better deal with documents comming in during RECOVERY \\n\\n On IRC miller suggested that perhaps Solr should block and not accept new updates until REPLAY is done (ideally by not listing on the socket i would think)  \\n\\n a short term way of addressing this in the smoke tester (if we don\'t have a better fix for 4.0) would be to have hte smoke tester explicitly request a hard commit before doing a shutdown of the server, or using a new clean directory (w\\/o any tlog or previous docs) when running the example for the  second time.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13462271\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-3884?focusedCommentId=13462271&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13462271\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yseeley@gmail.com\\\" id=\\\"commentauthor_13462271_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yseeley%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yseeley@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yonik Seeley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13462271_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'24\\/Sep\\/12 23:52\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-09-24T23:52:36+0000\'\u003e24\\/Sep\\/12 23:52\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cblockquote\u003e\u003cp\u003eSo the problem may just be that we accept updates before we are ready?\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003eYes, sounds like it from the diagnosis that Hoss gave.\u003c\\/p\u003e\\n\\n\u003cblockquote\u003e\u003cp\u003eI think this is somewhat related to \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-3861\\\" title=\\\"Refactor SolrCoreState so that it&#39;s managed by SolrCore .\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-3861\\\"\u003e\u003cdel\u003eSOLR-3861\u003c\\/del\u003e\u003c\\/a\u003e in that the only reason we see these problems during tlog REPLAY is because there was no hard commit on shutdown of the first instance.\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003eI was just going to ask this (why we are seeing a tlog recovery in the first place).  We always used to do a commit on shutdown, and I had to add an explicit test hook to disable this for TestRecovery (DirectUpdateHandler2.commitOnClose = false\u003cimg class=\\\"emoticon\\\" src=\\\"\\/jira\\/images\\/icons\\/emoticons\\/wink.png\\\" height=\\\"16\\\" width=\\\"16\\\" align=\\\"absmiddle\\\" alt=\\\"\\\" border=\\\"0\\\"\\/\u003e\u003c\\/p\u003e\\n\\n\u003cblockquote\u003e\u003cp\u003ebut independent of that we still need to think about how to better deal with documents comming in during RECOVERY\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003eWe buffer them to the tlog.  They will get added eventually.\u003cbr\\/\u003e\\nWhat we should really think about is documents coming in during recovery that aren\'t from a leader and we aren\'t in cloud mode (hence we won\'t forward to a leader).  Perhaps we should fail the update?\u003c\\/p\u003e\\n\\n\u003cblockquote\u003e\u003cp\u003eOn IRC miller suggested that perhaps Solr should block and not accept new updates until REPLAY is done (ideally by not listing on the socket i would think)\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003eHmmm, yeah I guess that would work too, only if we don\'t advertise the core being in recovery mode to the cluster.  We \u003cb\u003edon\'t\u003c\\/b\u003e want the leader to be forwarding updates if we\'re going to block.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yseeley@gmail.com\\\" id=\\\"commentauthor_13462271_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yseeley%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yseeley@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yonik Seeley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13462271_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'24\\/Sep\\/12 23:52\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-09-24T23:52:36+0000\'\u003e24\\/Sep\\/12 23:52\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     So the problem may just be that we accept updates before we are ready?  \\n\\n Yes, sounds like it from the diagnosis that Hoss gave. \\n\\n  I think this is somewhat related to   SOLR-3861   in that the only reason we see these problems during tlog REPLAY is because there was no hard commit on shutdown of the first instance.  \\n\\n I was just going to ask this (why we are seeing a tlog recovery in the first place).  We always used to do a commit on shutdown, and I had to add an explicit test hook to disable this for TestRecovery (DirectUpdateHandler2.commitOnClose = false  \\n\\n  but independent of that we still need to think about how to better deal with documents comming in during RECOVERY  \\n\\n We buffer them to the tlog.  They will get added eventually. \\nWhat we should really think about is documents coming in during recovery that aren\'t from a leader and we aren\'t in cloud mode (hence we won\'t forward to a leader).  Perhaps we should fail the update? \\n\\n  On IRC miller suggested that perhaps Solr should block and not accept new updates until REPLAY is done (ideally by not listing on the socket i would think)  \\n\\n Hmmm, yeah I guess that would work too, only if we don\'t advertise the core being in recovery mode to the cluster.  We  don\'t  want the leader to be forwarding updates if we\'re going to block.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13462300\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-3884?focusedCommentId=13462300&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13462300\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yseeley@gmail.com\\\" id=\\\"commentauthor_13462300_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yseeley%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yseeley@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yonik Seeley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13462300_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Sep\\/12 00:38\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-09-25T00:38:47+0000\'\u003e25\\/Sep\\/12 00:38\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eHmmm, just did as simple manual test, and I see evidence of a final commit.\u003cbr\\/\u003e\\nI started a clean stock server, executed \\\"post.sh *xml\\\" (after commenting out the commit command in the script), then pressed ^C immediately after the docs are added (before any autocommit could kick in.).\u003c\\/p\u003e\\n\\n\u003cp\u003eLast lines on the console:\u003c\\/p\u003e\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003eINFO: [collection1] webapp=\\/solr path=\\/update params={} {add=[EN7800GTX\\/2DHTV\\/256M (1414039066694909952), 100-435805 (1414039066700152832)]} 0 10\\n^C2012-09-24 20:25:44.817:INFO:oejs.Server:Graceful shutdown SocketConnector@0.0.0.0:8983\\n2012-09-24 20:25:44.817:INFO:oejs.Server:Graceful shutdown o.e.j.w.WebAppContext{\\/solr,file:\\/opt\\/code\\/lusolr\\/solr\\/example\\/solr-webapp\\/webapp\\/},\\/opt\\/code\\/lusolr\\/solr\\/example\\/webapps\\/solr.war\\n2012-09-24 20:25:45.887:INFO:oejsh.ContextHandler:stopped o.e.j.w.WebAppContext{\\/solr,file:\\/opt\\/code\\/lusolr\\/solr\\/example\\/solr-webapp\\/webapp\\/},\\/opt\\/code\\/lusolr\\/solr\\/example\\/webapps\\/solr.war\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003eThe only tlog was \\\"capped\\\" (an indicator that everything in the log was subjected to a hard commit, hence there should be no need to tlog recovery on restart).\u003c\\/p\u003e\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e\\n\\/opt\\/code\\/lusolr\\/solr\\/example\\/solr\\/collection1\\/data\\/tlog$ tail -n1 tlog.0000000000000000000 \\n0??D`-SOLR_TLOG_END\\/opt\\/code\\/lusolr\\/solr\\/example\\/solr\\/collection1\\/data\\/tlog$ \\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003eStarting the server again showed no indication of a tlog replay\\/recovery.\u003cbr\\/\u003e\\nSo I guess this is something more esoteric related to \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-3861\\\" title=\\\"Refactor SolrCoreState so that it&#39;s managed by SolrCore .\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-3861\\\"\u003e\u003cdel\u003eSOLR-3861\u003c\\/del\u003e\u003c\\/a\u003e that I don\'t understand yet (and doesn\'t happen all the time).\u003c\\/p\u003e\\n\\n\u003cblockquote\u003e\u003cp\u003eautocommit during shutdown\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003eFYI, the final commit should be done regardless of any autocommits being enabled, so I assume you\'re just referring to that commit, and not a real autocommit triggered by time or number of documents that happens to coincide with shutdown.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yseeley@gmail.com\\\" id=\\\"commentauthor_13462300_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yseeley%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yseeley@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yonik Seeley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13462300_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Sep\\/12 00:38\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-09-25T00:38:47+0000\'\u003e25\\/Sep\\/12 00:38\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Hmmm, just did as simple manual test, and I see evidence of a final commit. \\nI started a clean stock server, executed \\\"post.sh *xml\\\" (after commenting out the commit command in the script), then pressed ^C immediately after the docs are added (before any autocommit could kick in.). \\n\\n Last lines on the console: \\n  \\n INFO: [collection1] webapp=\\/solr path=\\/update params={} {add=[EN7800GTX\\/2DHTV\\/256M (1414039066694909952), 100-435805 (1414039066700152832)]} 0 10\\n^C2012-09-24 20:25:44.817:INFO:oejs.Server:Graceful shutdown SocketConnector@0.0.0.0:8983\\n2012-09-24 20:25:44.817:INFO:oejs.Server:Graceful shutdown o.e.j.w.WebAppContext{\\/solr,file:\\/opt\\/code\\/lusolr\\/solr\\/example\\/solr-webapp\\/webapp\\/},\\/opt\\/code\\/lusolr\\/solr\\/example\\/webapps\\/solr.war\\n2012-09-24 20:25:45.887:INFO:oejsh.ContextHandler:stopped o.e.j.w.WebAppContext{\\/solr,file:\\/opt\\/code\\/lusolr\\/solr\\/example\\/solr-webapp\\/webapp\\/},\\/opt\\/code\\/lusolr\\/solr\\/example\\/webapps\\/solr.war\\n \\n  \\n\\n The only tlog was \\\"capped\\\" (an indicator that everything in the log was subjected to a hard commit, hence there should be no need to tlog recovery on restart). \\n  \\n \\n\\/opt\\/code\\/lusolr\\/solr\\/example\\/solr\\/collection1\\/data\\/tlog$ tail -n1 tlog.0000000000000000000 \\n0??D`-SOLR_TLOG_END\\/opt\\/code\\/lusolr\\/solr\\/example\\/solr\\/collection1\\/data\\/tlog$ \\n \\n  \\n\\n Starting the server again showed no indication of a tlog replay\\/recovery. \\nSo I guess this is something more esoteric related to   SOLR-3861   that I don\'t understand yet (and doesn\'t happen all the time). \\n\\n  autocommit during shutdown  \\n\\n FYI, the final commit should be done regardless of any autocommits being enabled, so I assume you\'re just referring to that commit, and not a real autocommit triggered by time or number of documents that happens to coincide with shutdown.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13462362\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-3884?focusedCommentId=13462362&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13462362\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"markrmiller@gmail.com\\\" id=\\\"commentauthor_13462362_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=markrmiller%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"markrmiller@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mark Miller\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13462362_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Sep\\/12 02:16\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-09-25T02:16:05+0000\'\u003e25\\/Sep\\/12 02:16\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI don\'t think it does happen every time - others seem to have run the smoke test and not seen it at all, steve saw it some runs, I see it every run on my really fast comp. So I\'m guessing there is some timing involved.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"markrmiller@gmail.com\\\" id=\\\"commentauthor_13462362_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=markrmiller%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"markrmiller@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mark Miller\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13462362_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Sep\\/12 02:16\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-09-25T02:16:05+0000\'\u003e25\\/Sep\\/12 02:16\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I don\'t think it does happen every time - others seem to have run the smoke test and not seen it at all, steve saw it some runs, I see it every run on my really fast comp. So I\'m guessing there is some timing involved.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13462384\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-3884?focusedCommentId=13462384&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13462384\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"markrmiller@gmail.com\\\" id=\\\"commentauthor_13462384_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=markrmiller%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"markrmiller@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mark Miller\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13462384_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Sep\\/12 02:56\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-09-25T02:56:35+0000\'\u003e25\\/Sep\\/12 02:56\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eHmm...I tried with the \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-3861\\\" title=\\\"Refactor SolrCoreState so that it&#39;s managed by SolrCore .\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-3861\\\"\u003e\u003cdel\u003eSOLR-3861\u003c\\/del\u003e\u003c\\/a\u003e fix and I still see a fail. The log shows Solr starting and then stopping, but the \'test utf8\' fails with ERROR: Solr is not up.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"markrmiller@gmail.com\\\" id=\\\"commentauthor_13462384_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=markrmiller%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"markrmiller@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mark Miller\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13462384_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Sep\\/12 02:56\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-09-25T02:56:35+0000\'\u003e25\\/Sep\\/12 02:56\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Hmm...I tried with the   SOLR-3861   fix and I still see a fail. The log shows Solr starting and then stopping, but the \'test utf8\' fails with ERROR: Solr is not up.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13462688\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-3884?focusedCommentId=13462688&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13462688\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"steve_rowe\\\" id=\\\"commentauthor_13462688_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=steve_rowe\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"steve_rowe\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Steve Rowe\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13462688_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Sep\\/12 12:21\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-09-25T12:21:40+0000\'\u003e25\\/Sep\\/12 12:21\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cblockquote\u003e\\n\u003cp\u003ea short term way of addressing this in the smoke tester (if we don\'t have a better fix for 4.0) would be to have hte smoke tester explicitly request a hard commit before doing a shutdown of the server, or using a new clean directory (w\\/o any tlog or previous docs) when running the example for the second time.\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003eI tried the clean directory approach - here\'s the smokeTestRelease.py patch:\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"preformatted panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"preformattedContent panelContent\\\"\u003e\\n\u003cpre\u003eIndex: dev-tools\\/scripts\\/smokeTestRelease.py\\n===================================================================\\n--- dev-tools\\/scripts\\/smokeTestRelease.py       (revision 1389823)\\n+++ dev-tools\\/scripts\\/smokeTestRelease.py       (working copy)\\n@@ -533,11 +533,21 @@\\n     if project == \'lucene\':\\n       testDemo(isSrc, version)\\n     else:\\n+      print(\'    copying unpacked distribution...\')\\n+      java6UnpackPath = \'%s-java6\' %unpackPath\\n+      if os.path.exists(java6UnpackPath):\\n+        shutil.rmtree(java6UnpackPath)\\n+      shutil.copytree(unpackPath, java6UnpackPath)\\n       print(\'    test solr example w\\/ Java 6...\')\\n-      testSolrExample(unpackPath, JAVA6_HOME, False)\\n+      testSolrExample(java6UnpackPath, JAVA6_HOME, False)\\n \\n+      print(\'    copying unpacked distribution...\')\\n+      java7UnpackPath = \'%s-java7\' %unpackPath\\n+      if os.path.exists(java7UnpackPath):\\n+        shutil.rmtree(java7UnpackPath)\\n+      shutil.copytree(unpackPath, java7UnpackPath)\\n       print(\'    test solr example w\\/ Java 7...\')\\n-      testSolrExample(unpackPath, JAVA7_HOME, False)\\n+      testSolrExample(java7UnpackPath, JAVA7_HOME, False)\\n \\n   testChangesText(\'.\', version, project)\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003eBut this seemed to have no effect - the failure still happens:\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"preformatted panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"preformattedContent panelContent\\\"\u003e\\n\u003cpre\u003eTest Solr...\\n  test basics...\\n  get KEYS\\n    0.1 MB\\n  download apache-solr-4.0.0-src.tgz...\\n    29.8 MB\\n    verify md5\\/sha1 digests\\n    verify sig\\n      GPG: gpg: WARNING: using insecure memory!\\n    verify trust\\n      GPG: gpg: WARNING: using insecure memory!\\n      GPG: gpg: WARNING: This key is not certified with a trusted signature!\\n  download apache-solr-4.0.0.tgz...\\n    102.8 MB\\n    verify md5\\/sha1 digests\\n    verify sig\\n      GPG: gpg: WARNING: using insecure memory!\\n    verify trust\\n      GPG: gpg: WARNING: using insecure memory!\\n      GPG: gpg: WARNING: This key is not certified with a trusted signature!\\n  download apache-solr-4.0.0.zip...\\n    107.0 MB\\n    verify md5\\/sha1 digests\\n    verify sig\\n      GPG: gpg: WARNING: using insecure memory!\\n    verify trust\\n      GPG: gpg: WARNING: using insecure memory!\\n      GPG: gpg: WARNING: This key is not certified with a trusted signature!\\n    unpack apache-solr-4.0.0.tgz...\\n    copying unpacked distribution...\\n    test solr example w\\/ Java 6...\\n      start Solr instance (log=\\/home\\/sarowe\\/temp\\/tmpDir\\/unpack\\/apache-solr-4.0.0-java6\\/solr-example.log)...\\n      startup done\\n      test utf8...\\n      index example docs...\\n      run query...\\n      stop server (SIGINT)...\\n    copying unpacked distribution...\\n    test solr example w\\/ Java 7...\\n      start Solr instance (log=\\/home\\/sarowe\\/temp\\/tmpDir\\/unpack\\/apache-solr-4.0.0-java7\\/solr-example.log)...\\n      startup done\\n      test utf8...\\n      index example docs...\\n      run query...\\nFAILED: response is:\\n&lt;?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?&gt;\\n&lt;response&gt;\\n&lt;lst name=\\\"responseHeader\\\"&gt;&lt;int name=\\\"status\\\"&gt;0&lt;\\/int&gt;&lt;int name=\\\"QTime\\\"&gt;1&lt;\\/int&gt;&lt;lst name=\\\"params\\\"&gt;&lt;str name=\\\"q\\\"&gt;video&lt;\\/str&gt;&lt;\\/lst&gt;&lt;\\/lst&gt;&lt;result name=\\\"response\\\" numFound=\\\"0\\\" start=\\\"0\\\"&gt;&lt;\\/result&gt;\\n&lt;\\/response&gt;\\n\\n      stop server (SIGINT)...\\nTraceback (most recent call last):\\n  File \\\"dev-tools\\/scripts\\/smokeTestRelease.py\\\", line 1133, in &lt;module&gt;\\n  File \\\"dev-tools\\/scripts\\/smokeTestRelease.py\\\", line 1081, in main\\n  File \\\"dev-tools\\/scripts\\/smokeTestRelease.py\\\", line 1123, in smokeTest\\n  File \\\"dev-tools\\/scripts\\/smokeTestRelease.py\\\", line 424, in unpack\\n  File \\\"dev-tools\\/scripts\\/smokeTestRelease.py\\\", line 550, in verifyUnpacked\\n  File \\\"dev-tools\\/scripts\\/smokeTestRelease.py\\\", line 622, in testSolrExample\\nRuntimeError: query on solr example instance failed\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003eAttaching the \u003ctt\u003esolr-example.log\u003c\\/tt\u003e files from each directory.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"steve_rowe\\\" id=\\\"commentauthor_13462688_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=steve_rowe\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"steve_rowe\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Steve Rowe\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13462688_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Sep\\/12 12:21\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-09-25T12:21:40+0000\'\u003e25\\/Sep\\/12 12:21\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    \\n a short term way of addressing this in the smoke tester (if we don\'t have a better fix for 4.0) would be to have hte smoke tester explicitly request a hard commit before doing a shutdown of the server, or using a new clean directory (w\\/o any tlog or previous docs) when running the example for the second time.  \\n\\n I tried the clean directory approach - here\'s the smokeTestRelease.py patch: \\n\\n  \\n Index: dev-tools\\/scripts\\/smokeTestRelease.py\\n===================================================================\\n--- dev-tools\\/scripts\\/smokeTestRelease.py       (revision 1389823)\\n+++ dev-tools\\/scripts\\/smokeTestRelease.py       (working copy)\\n@@ -533,11 +533,21 @@\\n     if project == \'lucene\':\\n       testDemo(isSrc, version)\\n     else:\\n+      print(\'    copying unpacked distribution...\')\\n+      java6UnpackPath = \'%s-java6\' %unpackPath\\n+      if os.path.exists(java6UnpackPath):\\n+        shutil.rmtree(java6UnpackPath)\\n+      shutil.copytree(unpackPath, java6UnpackPath)\\n       print(\'    test solr example w\\/ Java 6...\')\\n-      testSolrExample(unpackPath, JAVA6_HOME, False)\\n+      testSolrExample(java6UnpackPath, JAVA6_HOME, False)\\n \\n+      print(\'    copying unpacked distribution...\')\\n+      java7UnpackPath = \'%s-java7\' %unpackPath\\n+      if os.path.exists(java7UnpackPath):\\n+        shutil.rmtree(java7UnpackPath)\\n+      shutil.copytree(unpackPath, java7UnpackPath)\\n       print(\'    test solr example w\\/ Java 7...\')\\n-      testSolrExample(unpackPath, JAVA7_HOME, False)\\n+      testSolrExample(java7UnpackPath, JAVA7_HOME, False)\\n \\n   testChangesText(\'.\', version, project)\\n \\n  \\n\\n But this seemed to have no effect - the failure still happens: \\n\\n  \\n Test Solr...\\n  test basics...\\n  get KEYS\\n    0.1 MB\\n  download apache-solr-4.0.0-src.tgz...\\n    29.8 MB\\n    verify md5\\/sha1 digests\\n    verify sig\\n      GPG: gpg: WARNING: using insecure memory!\\n    verify trust\\n      GPG: gpg: WARNING: using insecure memory!\\n      GPG: gpg: WARNING: This key is not certified with a trusted signature!\\n  download apache-solr-4.0.0.tgz...\\n    102.8 MB\\n    verify md5\\/sha1 digests\\n    verify sig\\n      GPG: gpg: WARNING: using insecure memory!\\n    verify trust\\n      GPG: gpg: WARNING: using insecure memory!\\n      GPG: gpg: WARNING: This key is not certified with a trusted signature!\\n  download apache-solr-4.0.0.zip...\\n    107.0 MB\\n    verify md5\\/sha1 digests\\n    verify sig\\n      GPG: gpg: WARNING: using insecure memory!\\n    verify trust\\n      GPG: gpg: WARNING: using insecure memory!\\n      GPG: gpg: WARNING: This key is not certified with a trusted signature!\\n    unpack apache-solr-4.0.0.tgz...\\n    copying unpacked distribution...\\n    test solr example w\\/ Java 6...\\n      start Solr instance (log=\\/home\\/sarowe\\/temp\\/tmpDir\\/unpack\\/apache-solr-4.0.0-java6\\/solr-example.log)...\\n      startup done\\n      test utf8...\\n      index example docs...\\n      run query...\\n      stop server (SIGINT)...\\n    copying unpacked distribution...\\n    test solr example w\\/ Java 7...\\n      start Solr instance (log=\\/home\\/sarowe\\/temp\\/tmpDir\\/unpack\\/apache-solr-4.0.0-java7\\/solr-example.log)...\\n      startup done\\n      test utf8...\\n      index example docs...\\n      run query...\\nFAILED: response is:\\n&lt;?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?&gt;\\n&lt;response&gt;\\n&lt;lst name=\\\"responseHeader\\\"&gt;&lt;int name=\\\"status\\\"&gt;0&lt;\\/int&gt;&lt;int name=\\\"QTime\\\"&gt;1&lt;\\/int&gt;&lt;lst name=\\\"params\\\"&gt;&lt;str name=\\\"q\\\"&gt;video&lt;\\/str&gt;&lt;\\/lst&gt;&lt;\\/lst&gt;&lt;result name=\\\"response\\\" numFound=\\\"0\\\" start=\\\"0\\\"&gt;&lt;\\/result&gt;\\n&lt;\\/response&gt;\\n\\n      stop server (SIGINT)...\\nTraceback (most recent call last):\\n  File \\\"dev-tools\\/scripts\\/smokeTestRelease.py\\\", line 1133, in &lt;module&gt;\\n  File \\\"dev-tools\\/scripts\\/smokeTestRelease.py\\\", line 1081, in main\\n  File \\\"dev-tools\\/scripts\\/smokeTestRelease.py\\\", line 1123, in smokeTest\\n  File \\\"dev-tools\\/scripts\\/smokeTestRelease.py\\\", line 424, in unpack\\n  File \\\"dev-tools\\/scripts\\/smokeTestRelease.py\\\", line 550, in verifyUnpacked\\n  File \\\"dev-tools\\/scripts\\/smokeTestRelease.py\\\", line 622, in testSolrExample\\nRuntimeError: query on solr example instance failed\\n \\n  \\n\\n Attaching the  solr-example.log  files from each directory.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13462737\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-3884?focusedCommentId=13462737&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13462737\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"steve_rowe\\\" id=\\\"commentauthor_13462737_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=steve_rowe\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"steve_rowe\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Steve Rowe\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13462737_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Sep\\/12 13:46\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-09-25T13:46:39+0000\'\u003e25\\/Sep\\/12 13:46\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cblockquote\u003e\u003cp\u003eI don\'t think it does happen every time - others seem to have run the smoke test and not seen it at all, steve saw it some runs, I see it every run on my really fast comp. So I\'m guessing there is some timing involved.\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003eMark, what OS are you running the smoke tester on?\u003c\\/p\u003e\\n\\n\u003cp\u003eOn another Win7+Cygwin box, the smoke tester succeeds for me.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"steve_rowe\\\" id=\\\"commentauthor_13462737_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=steve_rowe\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"steve_rowe\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Steve Rowe\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13462737_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Sep\\/12 13:46\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-09-25T13:46:39+0000\'\u003e25\\/Sep\\/12 13:46\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     I don\'t think it does happen every time - others seem to have run the smoke test and not seen it at all, steve saw it some runs, I see it every run on my really fast comp. So I\'m guessing there is some timing involved.  \\n\\n Mark, what OS are you running the smoke tester on? \\n\\n On another Win7+Cygwin box, the smoke tester succeeds for me.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13462739\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-3884?focusedCommentId=13462739&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13462739\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rcmuir\\\" id=\\\"commentauthor_13462739_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rcmuir\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rcmuir\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Robert Muir\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13462739_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Sep\\/12 13:51\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-09-25T13:51:04+0000\'\u003e25\\/Sep\\/12 13:51\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eStrange too, I\'ve run the smoketester over 100 times and not encountered this. and sometimes my computer is busy doing other things too.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rcmuir\\\" id=\\\"commentauthor_13462739_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rcmuir\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rcmuir\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Robert Muir\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13462739_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Sep\\/12 13:51\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-09-25T13:51:04+0000\'\u003e25\\/Sep\\/12 13:51\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Strange too, I\'ve run the smoketester over 100 times and not encountered this. and sometimes my computer is busy doing other things too.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13462803\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-3884?focusedCommentId=13462803&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13462803\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"markrmiller@gmail.com\\\" id=\\\"commentauthor_13462803_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=markrmiller%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"markrmiller@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mark Miller\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13462803_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Sep\\/12 14:49\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-09-25T14:49:59+0000\'\u003e25\\/Sep\\/12 14:49\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI\'m running it on Ubuntu 12.04.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"markrmiller@gmail.com\\\" id=\\\"commentauthor_13462803_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=markrmiller%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"markrmiller@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mark Miller\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13462803_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Sep\\/12 14:49\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-09-25T14:49:59+0000\'\u003e25\\/Sep\\/12 14:49\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I\'m running it on Ubuntu 12.04.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13462809\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-3884?focusedCommentId=13462809&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13462809\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rcmuir\\\" id=\\\"commentauthor_13462809_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rcmuir\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rcmuir\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Robert Muir\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13462809_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Sep\\/12 14:55\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-09-25T14:55:55+0000\'\u003e25\\/Sep\\/12 14:55\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eMe too:\u003c\\/p\u003e\\n\\n\u003cp\u003eDistributor ID:\\tUbuntu\u003cbr\\/\u003e\\nDescription:\\tUbuntu 12.04 LTS\u003cbr\\/\u003e\\nRelease:\\t12.04\u003cbr\\/\u003e\\nCodename:\\tprecise\u003c\\/p\u003e\\n\\n\\n\u003cp\u003eI run \'ant nightly-smoke\' like this:\u003c\\/p\u003e\\n\\n\u003cp\u003eant -DJAVA7_HOME=\\/usr\\/local\\/jdk1.7.0_01 -DJAVA6_HOME=\\/usr\\/local\\/jdk1.6.0_27 nightly-smoke\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rcmuir\\\" id=\\\"commentauthor_13462809_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rcmuir\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rcmuir\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Robert Muir\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13462809_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Sep\\/12 14:55\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-09-25T14:55:55+0000\'\u003e25\\/Sep\\/12 14:55\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Me too: \\n\\n Distributor ID:\\tUbuntu \\nDescription:\\tUbuntu 12.04 LTS \\nRelease:\\t12.04 \\nCodename:\\tprecise \\n\\n\\n I run \'ant nightly-smoke\' like this: \\n\\n ant -DJAVA7_HOME=\\/usr\\/local\\/jdk1.7.0_01 -DJAVA6_HOME=\\/usr\\/local\\/jdk1.6.0_27 nightly-smoke              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13462860\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-3884?focusedCommentId=13462860&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13462860\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"hossman\\\" id=\\\"commentauthor_13462860_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=hossman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"hossman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Hoss Man\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13462860_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Sep\\/12 15:20\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-09-25T15:20:56+0000\'\u003e25\\/Sep\\/12 15:20\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cblockquote\u003e\\n\u003cp\u003eI tried the clean directory approach - here\'s the smokeTestRelease.py patch:\u003cbr\\/\u003e\\n...\u003cbr\\/\u003e\\nBut this seemed to have no effect - the failure still happens:\u003cbr\\/\u003e\\n...\u003cbr\\/\u003e\\nAttaching the solr-example.log files from each directory.\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003eIf these logs you attached on 25\\/Sep\\/12 are what you got \u003cb\u003ewith\u003c\\/b\u003e the patch then something \u003cem\u003ereally\u003c\\/em\u003e weird is going on &#8211; because using a clean example dir there\'s no logical reason why it should have been doing tlog recovery in either run.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"hossman\\\" id=\\\"commentauthor_13462860_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=hossman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"hossman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Hoss Man\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13462860_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Sep\\/12 15:20\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-09-25T15:20:56+0000\'\u003e25\\/Sep\\/12 15:20\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    \\n I tried the clean directory approach - here\'s the smokeTestRelease.py patch: \\n... \\nBut this seemed to have no effect - the failure still happens: \\n... \\nAttaching the solr-example.log files from each directory.  \\n\\n If these logs you attached on 25\\/Sep\\/12 are what you got  with  the patch then something  really  weird is going on &#8211; because using a clean example dir there\'s no logical reason why it should have been doing tlog recovery in either run.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13462881\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-3884?focusedCommentId=13462881&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13462881\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"steve_rowe\\\" id=\\\"commentauthor_13462881_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=steve_rowe\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"steve_rowe\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Steve Rowe\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13462881_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Sep\\/12 15:34\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-09-25T15:34:38+0000\'\u003e25\\/Sep\\/12 15:34\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cblockquote\u003e\u003cp\u003eIf these logs you attached on 25\\/Sep\\/12 are what you got with the patch then something really weird is going on \\u2013 because using a clean example dir there\'s no logical reason why it should have been doing tlog recovery in either run.\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003ethose two logs are \u003cb\u003ewith\u003c\\/b\u003e the patch.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"steve_rowe\\\" id=\\\"commentauthor_13462881_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=steve_rowe\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"steve_rowe\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Steve Rowe\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13462881_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Sep\\/12 15:34\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-09-25T15:34:38+0000\'\u003e25\\/Sep\\/12 15:34\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     If these logs you attached on 25\\/Sep\\/12 are what you got with the patch then something really weird is going on \\u2013 because using a clean example dir there\'s no logical reason why it should have been doing tlog recovery in either run.  \\n\\n those two logs are  with  the patch.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13462996\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-3884?focusedCommentId=13462996&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13462996\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yseeley@gmail.com\\\" id=\\\"commentauthor_13462996_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yseeley%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yseeley@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yonik Seeley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13462996_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Sep\\/12 17:21\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-09-25T17:21:38+0000\'\u003e25\\/Sep\\/12 17:21\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eSomething to watch out for on Windows\\/cygwin:\u003cbr\\/\u003e\\nI\'ve noticed that ^C in cygwin no longer works to stop the JVM.\u003cbr\\/\u003e\\nDoing a \\\"kill -2\\\" on the java process from a different window seems to immediately abort the JVM (no graceful shutdown that does a commit).\u003cbr\\/\u003e\\nThe latter may be happening with the python script too?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yseeley@gmail.com\\\" id=\\\"commentauthor_13462996_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yseeley%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yseeley@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yonik Seeley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13462996_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Sep\\/12 17:21\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-09-25T17:21:38+0000\'\u003e25\\/Sep\\/12 17:21\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Something to watch out for on Windows\\/cygwin: \\nI\'ve noticed that ^C in cygwin no longer works to stop the JVM. \\nDoing a \\\"kill -2\\\" on the java process from a different window seems to immediately abort the JVM (no graceful shutdown that does a commit). \\nThe latter may be happening with the python script too?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13463018\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-3884?focusedCommentId=13463018&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13463018\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"hossman\\\" id=\\\"commentauthor_13463018_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=hossman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"hossman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Hoss Man\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13463018_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Sep\\/12 17:36\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-09-25T17:36:42+0000\'\u003e25\\/Sep\\/12 17:36\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cblockquote\u003e\\n\u003cp\u003eDoing a \\\"kill -2\\\" on the java process from a different window seems to immediately abort the JVM (no graceful shutdown that does a commit).\u003cbr\\/\u003e\\nThe latter may be happening with the python script too?\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003eThat could explain how a tlog would be left in the directory after calling the testSolrExample() method, but it still leaves some open questions...\u003c\\/p\u003e\\n\\n\u003cp\u003e1) according to sarowe, he\'s seeing this problem (and his smoke test logs show tlog recovery) even when using a pristine copy of the \\\"unpack\\\" dir - so why is there a tlog in that case?\u003c\\/p\u003e\\n\\n\u003cp\u003e2) how should tlog recovery be \\\"fixed\\\" to better handle this situation (ie: docs &amp; commits coming in during recovery) in a real world situation.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"hossman\\\" id=\\\"commentauthor_13463018_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=hossman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"hossman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Hoss Man\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13463018_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Sep\\/12 17:36\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-09-25T17:36:42+0000\'\u003e25\\/Sep\\/12 17:36\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    \\n Doing a \\\"kill -2\\\" on the java process from a different window seems to immediately abort the JVM (no graceful shutdown that does a commit). \\nThe latter may be happening with the python script too?  \\n\\n That could explain how a tlog would be left in the directory after calling the testSolrExample() method, but it still leaves some open questions... \\n\\n 1) according to sarowe, he\'s seeing this problem (and his smoke test logs show tlog recovery) even when using a pristine copy of the \\\"unpack\\\" dir - so why is there a tlog in that case? \\n\\n 2) how should tlog recovery be \\\"fixed\\\" to better handle this situation (ie: docs &amp; commits coming in during recovery) in a real world situation.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13463019\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-3884?focusedCommentId=13463019&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13463019\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"hossman\\\" id=\\\"commentauthor_13463019_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=hossman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"hossman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Hoss Man\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13463019_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Sep\\/12 17:38\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-09-25T17:38:18+0000\'\u003e25\\/Sep\\/12 17:38\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cblockquote\u003e\u003cp\u003e1) according to sarowe, he\'s seeing this problem (and his smoke test logs show tlog recovery) even when using a pristine copy of the \\\"unpack\\\" dir - so why is there a tlog in that case?\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003eHmm.. talking with sarowe on IRC, i think there may be a bug in his patch ... he cloned the unpackDir he passes to testSolrExample, but i don\'t think testSolrExample actaully uses that unpack dir for anything, it appears to just run the example relative the CWD.\u003c\\/p\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"hossman\\\" id=\\\"commentauthor_13463019_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=hossman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"hossman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Hoss Man\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13463019_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Sep\\/12 17:38\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-09-25T17:38:18+0000\'\u003e25\\/Sep\\/12 17:38\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     1) according to sarowe, he\'s seeing this problem (and his smoke test logs show tlog recovery) even when using a pristine copy of the \\\"unpack\\\" dir - so why is there a tlog in that case?  \\n\\n Hmm.. talking with sarowe on IRC, i think there may be a bug in his patch ... he cloned the unpackDir he passes to testSolrExample, but i don\'t think testSolrExample actaully uses that unpack dir for anything, it appears to just run the example relative the CWD. \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13463030\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-3884?focusedCommentId=13463030&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13463030\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yseeley@gmail.com\\\" id=\\\"commentauthor_13463030_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yseeley%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yseeley@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yonik Seeley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13463030_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Sep\\/12 17:46\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-09-25T17:46:47+0000\'\u003e25\\/Sep\\/12 17:46\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cblockquote\u003e\u003cp\u003eI\'ve noticed that ^C in cygwin no longer works to stop the JVM.\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\u003cp\u003eI think it might be this: \u003ca href=\\\"http:\\/\\/cygwin.com\\/ml\\/cygwin\\/2012-07\\/msg00250.html\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/cygwin.com\\/ml\\/cygwin\\/2012-07\\/msg00250.html\u003c\\/a\u003e\u003cbr\\/\u003e\\nThe author does note that the Java shutdown hook is no longer called though.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yseeley@gmail.com\\\" id=\\\"commentauthor_13463030_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yseeley%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yseeley@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yonik Seeley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13463030_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Sep\\/12 17:46\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-09-25T17:46:47+0000\'\u003e25\\/Sep\\/12 17:46\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     I\'ve noticed that ^C in cygwin no longer works to stop the JVM.  \\n I think it might be this:  http:\\/\\/cygwin.com\\/ml\\/cygwin\\/2012-07\\/msg00250.html  \\nThe author does note that the Java shutdown hook is no longer called though.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13463034\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-3884?focusedCommentId=13463034&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13463034\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"steve_rowe\\\" id=\\\"commentauthor_13463034_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=steve_rowe\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"steve_rowe\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Steve Rowe\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13463034_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Sep\\/12 17:47\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-09-25T17:47:46+0000\'\u003e25\\/Sep\\/12 17:47\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Steve Rowe - 25\\/Sep\\/12 17:55\\\"\u003eedited\u003c\\/span\u003e \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cblockquote\u003e\\n\u003cp\u003eHmm.. talking with sarowe on IRC, i think there may be a bug in his patch ... he cloned the unpackDir he passes to testSolrExample, but i don\'t think testSolrExample actaully uses that unpack dir for anything, it appears to just run the example relative the CWD.\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003eYup, buggy patch, I didn\'t chdir to the unpacked copy, so it was still sharing the original dir between the two runs.  Here\'s the hopefully fixed patch:\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003cb\u003eedit\u003c\\/b\u003e \u003ctt\u003echdir\u003c\\/tt\u003e -&gt; \u003ctt\u003eos.chdir\u003c\\/tt\u003e\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"preformatted panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"preformattedContent panelContent\\\"\u003e\\n\u003cpre\u003eIndex: dev-tools\\/scripts\\/smokeTestRelease.py\\n===================================================================\\n--- dev-tools\\/scripts\\/smokeTestRelease.py       (revision 1389823)\\n+++ dev-tools\\/scripts\\/smokeTestRelease.py       (working copy)\\n@@ -533,12 +536,26 @@\\n     if project == \'lucene\':\\n       testDemo(isSrc, version)\\n     else:\\n+      print(\'    copying unpacked distribution...\')\\n+      java6UnpackPath = \'%s-java6\' %unpackPath\\n+      if os.path.exists(java6UnpackPath):\\n+        shutil.rmtree(java6UnpackPath)\\n+      shutil.copytree(unpackPath, java6UnpackPath)\\n+      os.chdir(java6UnpackPath)\\n       print(\'    test solr example w\\/ Java 6...\')\\n-      testSolrExample(unpackPath, JAVA6_HOME, False)\\n+      testSolrExample(java6UnpackPath, JAVA6_HOME, False)\\n \\n+      print(\'    copying unpacked distribution...\')\\n+      java7UnpackPath = \'%s-java7\' %unpackPath\\n+      if os.path.exists(java7UnpackPath):\\n+        shutil.rmtree(java7UnpackPath)\\n+      shutil.copytree(unpackPath, java7UnpackPath)\\n+      os.chdir(java7UnpackPath)\\n       print(\'    test solr example w\\/ Java 7...\')\\n-      testSolrExample(unpackPath, JAVA7_HOME, False)\\n+      testSolrExample(java7UnpackPath, JAVA7_HOME, False)\\n \\n+      os.chdir(unpackPath)\\n+\\n   testChangesText(\'.\', version, project)\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"steve_rowe\\\" id=\\\"commentauthor_13463034_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=steve_rowe\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"steve_rowe\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Steve Rowe\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13463034_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Sep\\/12 17:47\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-09-25T17:47:46+0000\'\u003e25\\/Sep\\/12 17:47\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Steve Rowe - 25\\/Sep\\/12 17:55\\\"\u003eedited\u003c\\/span\u003e                   \\n Hmm.. talking with sarowe on IRC, i think there may be a bug in his patch ... he cloned the unpackDir he passes to testSolrExample, but i don\'t think testSolrExample actaully uses that unpack dir for anything, it appears to just run the example relative the CWD.  \\n\\n Yup, buggy patch, I didn\'t chdir to the unpacked copy, so it was still sharing the original dir between the two runs.  Here\'s the hopefully fixed patch: \\n\\n  edit   chdir  -&gt;  os.chdir  \\n\\n  \\n Index: dev-tools\\/scripts\\/smokeTestRelease.py\\n===================================================================\\n--- dev-tools\\/scripts\\/smokeTestRelease.py       (revision 1389823)\\n+++ dev-tools\\/scripts\\/smokeTestRelease.py       (working copy)\\n@@ -533,12 +536,26 @@\\n     if project == \'lucene\':\\n       testDemo(isSrc, version)\\n     else:\\n+      print(\'    copying unpacked distribution...\')\\n+      java6UnpackPath = \'%s-java6\' %unpackPath\\n+      if os.path.exists(java6UnpackPath):\\n+        shutil.rmtree(java6UnpackPath)\\n+      shutil.copytree(unpackPath, java6UnpackPath)\\n+      os.chdir(java6UnpackPath)\\n       print(\'    test solr example w\\/ Java 6...\')\\n-      testSolrExample(unpackPath, JAVA6_HOME, False)\\n+      testSolrExample(java6UnpackPath, JAVA6_HOME, False)\\n \\n+      print(\'    copying unpacked distribution...\')\\n+      java7UnpackPath = \'%s-java7\' %unpackPath\\n+      if os.path.exists(java7UnpackPath):\\n+        shutil.rmtree(java7UnpackPath)\\n+      shutil.copytree(unpackPath, java7UnpackPath)\\n+      os.chdir(java7UnpackPath)\\n       print(\'    test solr example w\\/ Java 7...\')\\n-      testSolrExample(unpackPath, JAVA7_HOME, False)\\n+      testSolrExample(java7UnpackPath, JAVA7_HOME, False)\\n \\n+      os.chdir(unpackPath)\\n+\\n   testChangesText(\'.\', version, project)\\n \\n               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13463066\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-3884?focusedCommentId=13463066&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13463066\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"hossman\\\" id=\\\"commentauthor_13463066_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=hossman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"hossman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Hoss Man\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13463066_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Sep\\/12 18:06\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-09-25T18:06:38+0000\'\u003e25\\/Sep\\/12 18:06\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eupdated issue summary now that tlog questions have been spun off into \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-3888\\\" title=\\\"need beter handling of external add\\/commit requests during tlog recovery\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-3888\\\"\u003eSOLR-3888\u003c\\/a\u003e.  For 4.0 we should focus on addressing the smoke tester to run the example in a more consistent way &#8211; ie: not re-use the directory when running the example with diff jvms.  We can always make the the smoke tester explicitly trigger tlog recoery and smoke test that as a distinct task (done in both jvms) as part of \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-3888\\\" title=\\\"need beter handling of external add\\/commit requests during tlog recovery\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-3888\\\"\u003eSOLR-3888\u003c\\/a\u003e\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"hossman\\\" id=\\\"commentauthor_13463066_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=hossman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"hossman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Hoss Man\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13463066_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Sep\\/12 18:06\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-09-25T18:06:38+0000\'\u003e25\\/Sep\\/12 18:06\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    updated issue summary now that tlog questions have been spun off into  SOLR-3888 .  For 4.0 we should focus on addressing the smoke tester to run the example in a more consistent way &#8211; ie: not re-use the directory when running the example with diff jvms.  We can always make the the smoke tester explicitly trigger tlog recoery and smoke test that as a distinct task (done in both jvms) as part of  SOLR-3888               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13463068\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-3884?focusedCommentId=13463068&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13463068\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"markrmiller@gmail.com\\\" id=\\\"commentauthor_13463068_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=markrmiller%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"markrmiller@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mark Miller\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13463068_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Sep\\/12 18:08\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-09-25T18:08:07+0000\'\u003e25\\/Sep\\/12 18:08\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eYeah, it turns out my fail in the utf-8 test is a little different i\u003cbr\\/\u003e\\nnoticed last night. Still don\'t know the root cause. Fails every time\u003cbr\\/\u003e\\nthough.\u003c\\/p\u003e\\n\\n\\n\\n\\n\u003cp\u003e&#8211; \u003c\\/p\u003e\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003eMark\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"markrmiller@gmail.com\\\" id=\\\"commentauthor_13463068_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=markrmiller%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"markrmiller@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mark Miller\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13463068_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Sep\\/12 18:08\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-09-25T18:08:07+0000\'\u003e25\\/Sep\\/12 18:08\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Yeah, it turns out my fail in the utf-8 test is a little different i \\nnoticed last night. Still don\'t know the root cause. Fails every time \\nthough. \\n\\n\\n\\n\\n &#8211;  \\n \\n\\t Mark \\n \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13463069\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-3884?focusedCommentId=13463069&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13463069\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"steve_rowe\\\" id=\\\"commentauthor_13463069_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=steve_rowe\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"steve_rowe\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Steve Rowe\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13463069_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Sep\\/12 18:08\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-09-25T18:08:53+0000\'\u003e25\\/Sep\\/12 18:08\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThe smoke tester with the latest patch succeeds.  I\'ll run it a couple more times\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"steve_rowe\\\" id=\\\"commentauthor_13463069_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=steve_rowe\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"steve_rowe\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Steve Rowe\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13463069_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Sep\\/12 18:08\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-09-25T18:08:53+0000\'\u003e25\\/Sep\\/12 18:08\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    The smoke tester with the latest patch succeeds.  I\'ll run it a couple more times              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13463100\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-3884?focusedCommentId=13463100&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13463100\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"steve_rowe\\\" id=\\\"commentauthor_13463100_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=steve_rowe\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"steve_rowe\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Steve Rowe\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13463100_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Sep\\/12 18:35\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-09-25T18:35:35+0000\'\u003e25\\/Sep\\/12 18:35\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cblockquote\u003e\\n\u003cp\u003eI think it might be this: \u003ca href=\\\"http:\\/\\/cygwin.com\\/ml\\/cygwin\\/2012-07\\/msg00250.html\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/cygwin.com\\/ml\\/cygwin\\/2012-07\\/msg00250.html\u003c\\/a\u003e\u003cbr\\/\u003e\\nThe author does note that the Java shutdown hook is no longer called though.\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003eIn an earlier thread a workaround is given - from \u003ca href=\\\"http:\\/\\/cygwin.com\\/ml\\/cygwin\\/2012-05\\/msg00482.html\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/cygwin.com\\/ml\\/cygwin\\/2012-05\\/msg00482.html\u003c\\/a\u003e:\u003c\\/p\u003e\\n\\n\u003cblockquote\u003e\\n\u003cp\u003eSince apparently nobody wants to take ownership of this regression\u003cbr\\/\u003e\\nI\'ll point out the workaround, for the benefit of those googling\u003cbr\\/\u003e\\nand landing on this thread: start Java with -Xrs and use Ctrl-Break\u003cbr\\/\u003e\\ninstead of Ctrl-C. This will disable thread dump and break any\u003cbr\\/\u003e\\napplication that relies on normal signal handling, though.\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"steve_rowe\\\" id=\\\"commentauthor_13463100_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=steve_rowe\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"steve_rowe\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Steve Rowe\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13463100_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Sep\\/12 18:35\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-09-25T18:35:35+0000\'\u003e25\\/Sep\\/12 18:35\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    \\n I think it might be this:  http:\\/\\/cygwin.com\\/ml\\/cygwin\\/2012-07\\/msg00250.html  \\nThe author does note that the Java shutdown hook is no longer called though.  \\n\\n In an earlier thread a workaround is given - from  http:\\/\\/cygwin.com\\/ml\\/cygwin\\/2012-05\\/msg00482.html : \\n\\n \\n Since apparently nobody wants to take ownership of this regression \\nI\'ll point out the workaround, for the benefit of those googling \\nand landing on this thread: start Java with -Xrs and use Ctrl-Break \\ninstead of Ctrl-C. This will disable thread dump and break any \\napplication that relies on normal signal handling, though.  \\n\\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13463157\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-3884?focusedCommentId=13463157&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13463157\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"steve_rowe\\\" id=\\\"commentauthor_13463157_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=steve_rowe\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"steve_rowe\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Steve Rowe\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13463157_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Sep\\/12 19:59\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-09-25T19:59:46+0000\'\u003e25\\/Sep\\/12 19:59\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eCommitted the \u003ctt\u003esmokeTestRelease.py\u003c\\/tt\u003e patch that starts each binary Solr distribution example test with a clean copy of the unpacked distribution:\u003c\\/p\u003e\\n\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003elucene_solr_4_0: \u003ca href=\\\"http:\\/\\/svn.apache.org\\/viewvc?rev=1390046&amp;view=rev\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003er1390046\u003c\\/a\u003e\u003c\\/li\u003e\\n\\t\u003cli\u003ebranch_4x: \u003ca href=\\\"http:\\/\\/svn.apache.org\\/viewvc?rev=1390053&amp;view=rev\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003er1390053\u003c\\/a\u003e\u003c\\/li\u003e\\n\\t\u003cli\u003etrunk: \u003ca href=\\\"http:\\/\\/svn.apache.org\\/viewvc?rev=1390055&amp;view=rev\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003er1390055\u003c\\/a\u003e\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"steve_rowe\\\" id=\\\"commentauthor_13463157_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=steve_rowe\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"steve_rowe\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Steve Rowe\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13463157_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Sep\\/12 19:59\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-09-25T19:59:46+0000\'\u003e25\\/Sep\\/12 19:59\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Committed the  smokeTestRelease.py  patch that starts each binary Solr distribution example test with a clean copy of the unpacked distribution: \\n\\n \\n\\t lucene_solr_4_0:  r1390046  \\n\\t branch_4x:  r1390053  \\n\\t trunk:  r1390055  \\n \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13463292\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-3884?focusedCommentId=13463292&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13463292\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"steve_rowe\\\" id=\\\"commentauthor_13463292_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=steve_rowe\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"steve_rowe\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Steve Rowe\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13463292_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Sep\\/12 22:32\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-09-25T22:32:46+0000\'\u003e25\\/Sep\\/12 22:32\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cblockquote\u003e\u003cp\u003eI\'ve noticed that ^C in cygwin no longer works to stop the JVM.\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003eCtrl-C doesn\'t stop Cygwin Python for me - running \u003ctt\u003esmokeTestRelease.py\u003c\\/tt\u003e anyway - but from cygwin terminal, xterm, and rxvt, Ctrl-C \u003cb\u003edoes\u003c\\/b\u003e halt Solr started via \u003ctt\u003ejava -jar start.jar\u003c\\/tt\u003e from the unpacked binary distribution\'s \u003ctt\u003eexample\\/\u003c\\/tt\u003e directory.\u003c\\/p\u003e\\n\\n\u003cp\u003eMy cygwin version (from \u003ctt\u003euname -srv\u003c\\/tt\u003e):\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"preformatted panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"preformattedContent panelContent\\\"\u003e\\n\u003cpre\u003eCYGWIN_NT-6.1-WOW64 1.7.16(0.262\\/5\\/3) 2012-07-20 22:55\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"steve_rowe\\\" id=\\\"commentauthor_13463292_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=steve_rowe\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"steve_rowe\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Steve Rowe\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13463292_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Sep\\/12 22:32\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-09-25T22:32:46+0000\'\u003e25\\/Sep\\/12 22:32\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     I\'ve noticed that ^C in cygwin no longer works to stop the JVM.  \\n\\n Ctrl-C doesn\'t stop Cygwin Python for me - running  smokeTestRelease.py  anyway - but from cygwin terminal, xterm, and rxvt, Ctrl-C  does  halt Solr started via  java -jar start.jar  from the unpacked binary distribution\'s  example\\/  directory. \\n\\n My cygwin version (from  uname -srv ): \\n\\n  \\n CYGWIN_NT-6.1-WOW64 1.7.16(0.262\\/5\\/3) 2012-07-20 22:55 \\n               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13463332\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-3884?focusedCommentId=13463332&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13463332\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"steve_rowe\\\" id=\\\"commentauthor_13463332_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=steve_rowe\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"steve_rowe\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Steve Rowe\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13463332_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Sep\\/12 23:11\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-09-25T23:11:14+0000\'\u003e25\\/Sep\\/12 23:11\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eAlthough under Cygwin Ctrl-C halts java programs for me, the shutdown hook isn\'t invoked, e.g.:\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e\u003cspan class=\\\"code-keyword\\\"\u003epublic\u003c\\/span\u003e \u003cspan class=\\\"code-keyword\\\"\u003eclass \u003c\\/span\u003eShutdownHookTest {\\n  \u003cspan class=\\\"code-keyword\\\"\u003epublic\u003c\\/span\u003e \u003cspan class=\\\"code-keyword\\\"\u003estatic\u003c\\/span\u003e void main(\u003cspan class=\\\"code-object\\\"\u003eString\u003c\\/span\u003e args[]) {\\n    \u003cspan class=\\\"code-object\\\"\u003eRuntime\u003c\\/span\u003e.getRuntime().addShutdownHook(\u003cspan class=\\\"code-keyword\\\"\u003enew\u003c\\/span\u003e \u003cspan class=\\\"code-object\\\"\u003eThread\u003c\\/span\u003e() {\\n      \u003cspan class=\\\"code-keyword\\\"\u003epublic\u003c\\/span\u003e void run() {\\n        \u003cspan class=\\\"code-object\\\"\u003eSystem\u003c\\/span\u003e.err.println(\u003cspan class=\\\"code-quote\\\"\u003e\\\"Hook invoked.\\\"\u003c\\/span\u003e);\\n      }\\n    });\\n    \u003cspan class=\\\"code-keyword\\\"\u003ewhile\u003c\\/span\u003e (\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e) {}\\n  }\\n}\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003eWhen I run the above and hit Ctrl-C from Cygwin I don\'t see anything printed to the console.  So this is consistent with the behavior Yonik saw with \u003ctt\u003ekill -2\u003c\\/tt\u003e from another window.\u003c\\/p\u003e\\n\\n\u003cp\u003eBy contrast, from a cmd terminal window, the message does get printed to the console.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"steve_rowe\\\" id=\\\"commentauthor_13463332_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=steve_rowe\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"steve_rowe\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Steve Rowe\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13463332_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Sep\\/12 23:11\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-09-25T23:11:14+0000\'\u003e25\\/Sep\\/12 23:11\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Although under Cygwin Ctrl-C halts java programs for me, the shutdown hook isn\'t invoked, e.g.: \\n\\n  \\n  public   class  ShutdownHookTest {\\n   public   static  void main( String  args[]) {\\n     Runtime .getRuntime().addShutdownHook( new   Thread () {\\n       public  void run() {\\n         System .err.println( \\\"Hook invoked.\\\" );\\n      }\\n    });\\n     while  ( true ) {}\\n  }\\n}\\n \\n  \\n\\n When I run the above and hit Ctrl-C from Cygwin I don\'t see anything printed to the console.  So this is consistent with the behavior Yonik saw with  kill -2  from another window. \\n\\n By contrast, from a cmd terminal window, the message does get printed to the console.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13463367\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-3884?focusedCommentId=13463367&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13463367\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jkrupan\\\" id=\\\"commentauthor_13463367_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jkrupan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jkrupan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Jack Krupansky\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13463367_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Sep\\/12 23:52\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-09-25T23:52:55+0000\'\u003e25\\/Sep\\/12 23:52\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eIt failed in the Java 1.6 tests for me:\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e    test solr example w\\/ Java 6...\\n      start Solr instance (log=\\/home\\/projects\\/lucene_solr_4_0\\/smoke-temp\\/unpack\\/apache-solr-4.0.0\\/solr-example.log)...\\n      startup done\\n      test utf8...\\n      index example docs...\\n      run query...\\nFAILED: response is:\\n&lt;?xml version=\u003cspan class=\\\"code-quote\\\"\u003e\\\"1.0\\\"\u003c\\/span\u003e encoding=\u003cspan class=\\\"code-quote\\\"\u003e\\\"UTF-8\\\"\u003c\\/span\u003e?&gt;\\n&lt;response&gt;\\n&lt;lst name=\u003cspan class=\\\"code-quote\\\"\u003e\\\"responseHeader\\\"\u003c\\/span\u003e&gt;&lt;\u003cspan class=\\\"code-object\\\"\u003eint\u003c\\/span\u003e name=\u003cspan class=\\\"code-quote\\\"\u003e\\\"status\\\"\u003c\\/span\u003e&gt;0&lt;\\/\u003cspan class=\\\"code-object\\\"\u003eint\u003c\\/span\u003e&gt;&lt;\u003cspan class=\\\"code-object\\\"\u003eint\u003c\\/span\u003e name=\u003cspan class=\\\"code-quote\\\"\u003e\\\"QTime\\\"\u003c\\/span\u003e&gt;0&lt;\\/\u003cspan class=\\\"code-object\\\"\u003eint\u003c\\/span\u003e&gt;&lt;lst name=\u003cspan class=\\\"code-quote\\\"\u003e\\\"params\\\"\u003c\\/span\u003e&gt;&lt;str name=\u003cspan class=\\\"code-quote\\\"\u003e\\\"q\\\"\u003c\\/span\u003e&gt;video&lt;\\/str&gt;&lt;\\/lst&gt;&lt;\\/lst&gt;&lt;result name=\u003cspan class=\\\"code-quote\\\"\u003e\\\"response\\\"\u003c\\/span\u003e numFound=\u003cspan class=\\\"code-quote\\\"\u003e\\\"0\\\"\u003c\\/span\u003e start=\u003cspan class=\\\"code-quote\\\"\u003e\\\"0\\\"\u003c\\/span\u003e&gt;&lt;\\/result&gt;\\n&lt;\\/response&gt;\\n\\n      stop server (SIGINT)...\\nTraceback (most recent call last):\\n  File \u003cspan class=\\\"code-quote\\\"\u003e\\\"dev-tools\\/scripts\\/smokeTestRelease.py\\\"\u003c\\/span\u003e, line 1123, in &lt;module&gt;\\n  File \u003cspan class=\\\"code-quote\\\"\u003e\\\"dev-tools\\/scripts\\/smokeTestRelease.py\\\"\u003c\\/span\u003e, line 1071, in main\\n  File \u003cspan class=\\\"code-quote\\\"\u003e\\\"dev-tools\\/scripts\\/smokeTestRelease.py\\\"\u003c\\/span\u003e, line 1113, in smokeTest\\n  File \u003cspan class=\\\"code-quote\\\"\u003e\\\"dev-tools\\/scripts\\/smokeTestRelease.py\\\"\u003c\\/span\u003e, line 424, in unpack\\n  File \u003cspan class=\\\"code-quote\\\"\u003e\\\"dev-tools\\/scripts\\/smokeTestRelease.py\\\"\u003c\\/span\u003e, line 537, in verifyUnpacked\\n  File \u003cspan class=\\\"code-quote\\\"\u003e\\\"dev-tools\\/scripts\\/smokeTestRelease.py\\\"\u003c\\/span\u003e, line 612, in testSolrExample\\nRuntimeError: query on solr example instance failed\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jkrupan\\\" id=\\\"commentauthor_13463367_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jkrupan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jkrupan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Jack Krupansky\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13463367_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Sep\\/12 23:52\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-09-25T23:52:55+0000\'\u003e25\\/Sep\\/12 23:52\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    It failed in the Java 1.6 tests for me: \\n\\n  \\n     test solr example w\\/ Java 6...\\n      start Solr instance (log=\\/home\\/projects\\/lucene_solr_4_0\\/smoke-temp\\/unpack\\/apache-solr-4.0.0\\/solr-example.log)...\\n      startup done\\n      test utf8...\\n      index example docs...\\n      run query...\\nFAILED: response is:\\n&lt;?xml version= \\\"1.0\\\"  encoding= \\\"UTF-8\\\" ?&gt;\\n&lt;response&gt;\\n&lt;lst name= \\\"responseHeader\\\" &gt;&lt; int  name= \\\"status\\\" &gt;0&lt;\\/ int &gt;&lt; int  name= \\\"QTime\\\" &gt;0&lt;\\/ int &gt;&lt;lst name= \\\"params\\\" &gt;&lt;str name= \\\"q\\\" &gt;video&lt;\\/str&gt;&lt;\\/lst&gt;&lt;\\/lst&gt;&lt;result name= \\\"response\\\"  numFound= \\\"0\\\"  start= \\\"0\\\" &gt;&lt;\\/result&gt;\\n&lt;\\/response&gt;\\n\\n      stop server (SIGINT)...\\nTraceback (most recent call last):\\n  File  \\\"dev-tools\\/scripts\\/smokeTestRelease.py\\\" , line 1123, in &lt;module&gt;\\n  File  \\\"dev-tools\\/scripts\\/smokeTestRelease.py\\\" , line 1071, in main\\n  File  \\\"dev-tools\\/scripts\\/smokeTestRelease.py\\\" , line 1113, in smokeTest\\n  File  \\\"dev-tools\\/scripts\\/smokeTestRelease.py\\\" , line 424, in unpack\\n  File  \\\"dev-tools\\/scripts\\/smokeTestRelease.py\\\" , line 537, in verifyUnpacked\\n  File  \\\"dev-tools\\/scripts\\/smokeTestRelease.py\\\" , line 612, in testSolrExample\\nRuntimeError: query on solr example instance failed\\n \\n               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13463371\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-3884?focusedCommentId=13463371&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13463371\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"steve_rowe\\\" id=\\\"commentauthor_13463371_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=steve_rowe\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"steve_rowe\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Steve Rowe\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13463371_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Sep\\/12 23:56\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-09-25T23:56:25+0000\'\u003e25\\/Sep\\/12 23:56\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eJack, it looks like you haven\'t updated your working copy since I committed the fix?  For branch_4x you need at least r1390053.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"steve_rowe\\\" id=\\\"commentauthor_13463371_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=steve_rowe\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"steve_rowe\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Steve Rowe\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13463371_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Sep\\/12 23:56\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-09-25T23:56:25+0000\'\u003e25\\/Sep\\/12 23:56\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Jack, it looks like you haven\'t updated your working copy since I committed the fix?  For branch_4x you need at least r1390053.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\"";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["scope-filter-data"]="{\"createScopeActions\":[],\"scopes\":[]}";
WRM._unparsedData["sidebar-collapsed-by-default"]="true";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:can-manage"]="false";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:with-icons"]="false";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:shortcuts"]="[]";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:project-id"]="12310230";
WRM._unparsedData["sidebar-id"]="\"\u003cdiv class=\\\"aui-sidebar  projects-sidebar sidebar-pending\\\" \u003e\u003cdiv class=\\\"aui-sidebar-wrapper\\\"\u003e\u003cdiv class=\\\"aui-sidebar-body\\\"\u003e\u003cheader class=\\\"aui-page-header\\\"\u003e\u003cdiv class=\\\"aui-page-header-inner\\\"\u003e\u003cdiv class=\\\"aui-page-header-image\\\"\u003e\u003ca href=\\\"\\/jira\\/projects\\/SOLR\\/summary\\\" title=\\\"Solr\\\" class=\\\"jira-project-avatar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-large aui-avatar-project\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"\\/jira\\/secure\\/projectavatar?pid=12310230&amp;avatarId=22151\\\" alt=\\\"Solr\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e\u003cimg src=\\\"data:image\\/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI\\/Pg0KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE4LjEuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPg0KPHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgdmlld0JveD0iMCAwIDMwMCAzMDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMwMCAzMDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxnIGlkPSJMYXllcl8yIj4NCgk8cGF0aCBzdHlsZT0iZmlsbDojRjc5MjMyOyIgZD0iTTE1MCwwQzY2LjY2NywwLDAsNjYuNjY3LDAsMTUwczY2LjY2NywxNTAsMTUwLDE1MHMxNTAtNjYuNjY3LDE1MC0xNTBTMjMzLjMzMywwLDE1MCwweg0KCQkgTTEzNi42NjcsMTc4LjMzM0wxMjUsMTkwbC00MS42NjctNDBMOTUsMTM4LjMzM2wzMC0zMEwxMzYuNjY3LDEyMGwtMzAsMzBMMTM2LjY2NywxNzguMzMzeiBNMjA1LDE2MS42NjdsLTMwLDMwTDE2My4zMzMsMTgwDQoJCWwzMC0zMGwtMzAtMzBMMTc1LDEwOC4zMzNMMjE2LjY2NywxNTBMMjA1LDE2MS42Njd6Ii8+DQo8L2c+DQo8Zz4NCgk8cG9seWdvbiBzdHlsZT0iZmlsbDojRkZGRkZGOyIgcG9pbnRzPSIxNzUsMTkxLjY2NyAyMDUsMTYxLjY2NyAyMTYuNjY3LDE1MCAxNzUsMTA4LjMzMyAxNjMuMzMzLDEyMCAxOTMuMzMzLDE1MCAxNjMuMzMzLDE4MCAJIi8+DQoJPHBvbHlnb24gc3R5bGU9ImZpbGw6I0ZGRkZGRjsiIHBvaW50cz0iMTI1LDEwOC4zMzMgOTUsMTM4LjMzMyA4My4zMzMsMTUwIDEyNSwxOTAgMTM2LjY2NywxNzguMzMzIDEwNi42NjcsMTUwIDEzNi42NjcsMTIwIAkiLz4NCjwvZz4NCjwvc3ZnPg0K\\\" alt=\\\"Icon indicating the project type\\\" class=\\\"jira-project-avatar-icon\\\" \\/\u003e\u003c\\/a\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-image --\u003e\u003cdiv class=\\\"aui-page-header-main\\\"\u003e\u003ch1\u003e\u003cdiv class=\\\"aui-group aui-group-split\\\"\u003e\u003cdiv class=\\\"aui-item project-title\\\"\u003e\u003ca href=\\\"\\/jira\\/projects\\/SOLR\\/summary\\\" title=\\\"Solr\\\"\u003eSolr\u003c\\/a\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/h1\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-main --\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-inner --\u003e\u003c\\/header\u003e\u003c!-- .aui-page-header --\u003e\u003cnav class=\\\"aui-navgroup aui-navgroup-vertical\\\"\u003e\u003cdiv class=\\\"aui-navgroup-inner sidebar-content-container\\\"\u003e\u003cdiv class=\\\"aui-sidebar-group aui-sidebar-group-tier-one\\\" data-id=\\\"sidebar-navigation-panel\\\"\u003e\u003cul class=\\\"aui-nav\\\"\u003e\u003cli class=\\\"aui-nav-selected\\\" \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/SOLR\\/issues\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-issue-navigator:sidebar-issue-navigator\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large icon-sidebar-issues\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Issues\\\"\u003eIssues\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003cli  \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/SOLR?selectedItem=com.atlassian.jira.jira-projects-plugin:report-page\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-plugin:report-page\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large agile-icon-report\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Reports\\\"\u003eReports\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003cli  \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/SOLR?selectedItem=com.atlassian.jira.jira-projects-plugin:components-page\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-plugin:components-page\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large icon-sidebar-components\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Components\\\"\u003eComponents\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003c\\/ul\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/nav\u003e\u003c\\/div\u003e\u003cdiv class=\\\"aui-sidebar-footer\\\"\u003e\u003ca class=\\\"aui-button aui-button-subtle aui-sidebar-toggle aui-sidebar-footer-tipsy\\\" data-tooltip=\\\"Expand sidebar ( [ )\\\" href=\\\"#\\\"\u003e\u003cspan class=\\\"aui-icon aui-icon-small\\\"\u003e\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/div\u003e\"";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:bigpipe-init/jira.webresources:bigpipe-init.js" data-wrm-key="jira.webresources:bigpipe-init" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <form id="jira_request_timing_info" class="dont-default-focus"> 
   <fieldset class="parameters hidden"> 
    <input type="hidden" title="jira.request.start.millis" value="1520269180962"> 
    <input type="hidden" title="jira.request.server.time" value="237"> 
    <input type="hidden" title="jira.request.id" value="1019x95432150x1"> 
    <input type="hidden" title="jira.session.expiry.time" value="-"> 
    <input type="hidden" title="jira.session.expiry.in.mins" value="-"> 
    <input id="jiraConcurrentRequests" type="hidden" name="jira.request.concurrent.requests" value="3"> 
    <input type="hidden" title="db.reads.time.in.ms" value="40"> 
    <input type="hidden" title="db.conns.time.in.ms" value="49"> 
   </fieldset> 
  </form> 
  <!--
	                 REQUEST ID : 1019x95432150x1
	          REQUEST TIMESTAMP : [05/Mar/2018:16:59:40 +0000]
	               REQUEST TIME : 0.2370
	                 ASESSIONID : -
	        CONCURRENT REQUESTS : 3

	                      db.reads : OpSnapshot{name='db.reads', invocationCount=22, elapsedTotal=40828174, elapsedMin=667214, elapsedMax=21118856, resultSetSize=0, cpuTotal=0, cpuMin=0, cpuMax=0}
	                      db.conns : OpSnapshot{name='db.conns', invocationCount=26, elapsedTotal=49371803, elapsedMin=696714, elapsedMax=21146615, resultSetSize=0, cpuTotal=0, cpuMin=0, cpuMax=0}
-->   
 </body>
</html>