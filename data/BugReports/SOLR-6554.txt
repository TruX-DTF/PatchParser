<!doctype html>
<html lang="en">
 <head> 
  <meta charset="utf-8"> 
  <meta http-equiv="X-UA-Compatible" content="IE=Edge"> 
  <meta name="application-name" content="JIRA" data-name="jira" data-version="7.6.3">
  <meta name="ajs-viewissue-use-history-api" content="false"> 
  <meta name="ajs-jira-base-url" content="https://issues.apache.org/jira"> 
  <meta name="ajs-serverRenderedViewIssue" content="true"> 
  <meta name="ajs-dev-mode" content="false"> 
  <meta name="ajs-context-path" content="/jira"> 
  <meta name="ajs-version-number" content="7.6.3"> 
  <meta name="ajs-build-number" content="76005"> 
  <meta name="ajs-is-beta" content="false"> 
  <meta name="ajs-is-rc" content="false"> 
  <meta name="ajs-is-snapshot" content="false"> 
  <meta name="ajs-is-milestone" content="false"> 
  <meta name="ajs-remote-user" content=""> 
  <meta name="ajs-remote-user-fullname" content=""> 
  <meta name="ajs-user-locale" content="en_UK"> 
  <meta name="ajs-user-locale-group-separator" content=","> 
  <meta name="ajs-app-title" content="ASF JIRA"> 
  <meta name="ajs-keyboard-shortcuts-enabled" content="true"> 
  <meta name="ajs-keyboard-accesskey-modifier" content="Ctrl+Alt"> 
  <meta name="ajs-enabled-dark-features" content="[&quot;com.atlassian.jira.agile.darkfeature.editable.detailsview&quot;,&quot;nps.survey.inline.dialog&quot;,&quot;com.atlassian.jira.agile.darkfeature.edit.closed.sprint.enabled&quot;,&quot;jira.plugin.devstatus.phasetwo&quot;,&quot;jira.frother.reporter.field&quot;,&quot;atlassian.rest.xsrf.legacy.enabled&quot;,&quot;jira.issue.status.lozenge&quot;,&quot;com.atlassian.jira.config.BIG_PIPE&quot;,&quot;com.atlassian.jira.projects.issuenavigator&quot;,&quot;com.atlassian.jira.config.PDL&quot;,&quot;jira.plugin.devstatus.phasetwo.enabled&quot;,&quot;atlassian.aui.raphael.disabled&quot;,&quot;app-switcher.new&quot;,&quot;frother.assignee.field&quot;,&quot;com.atlassian.jira.projects.ProjectCentricNavigation.Switch&quot;,&quot;sd.internal.base.off.thread.on.completion.events.enabled&quot;,&quot;jira.onboarding.cyoa&quot;,&quot;com.atlassian.jira.agile.darkfeature.kanplan.enabled&quot;,&quot;sd.slavalue.record.updated.date.enabled&quot;,&quot;com.atlassian.jira.config.ProjectConfig.MENU&quot;,&quot;com.atlassian.jira.projects.sidebar.DEFER_RESOURCES&quot;,&quot;com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions.enabled&quot;,&quot;com.atlassian.jira.agile.darkfeature.sprint.goal.enabled&quot;,&quot;jira.zdu.admin-updates-ui&quot;,&quot;jira.zdu.jmx-monitoring&quot;,&quot;sd.sla.improved.rendering.enabled&quot;,&quot;sd.canned.responses.enabled&quot;,&quot;sd.new.settings.sidebar.location.disabled&quot;,&quot;jira.zdu.cluster-upgrade-state&quot;,&quot;com.atlassian.jira.agile.darkfeature.splitissue&quot;,&quot;com.atlassian.jira.config.CoreFeatures.LICENSE_ROLES_ENABLED&quot;,&quot;com.atlassian.feedback.feedback-button-move-to-header-enable&quot;,&quot;jira.export.csv.enabled&quot;]"> 
  <meta name="ajs-in-admin-mode" content="false"> 
  <meta name="ajs-is-sysadmin" content="false"> 
  <meta name="ajs-is-admin" content="false"> 
  <meta name="ajs-outgoing-mail-enabled" content="true"> 
  <meta name="ajs-date-relativize" content="true"> 
  <meta name="ajs-date-time" content="HH:mm"> 
  <meta name="ajs-date-day" content="EEEE HH:mm"> 
  <meta name="ajs-date-dmy" content="dd/MMM/yy"> 
  <meta name="ajs-date-complete" content="dd/MMM/yy HH:mm"> 
  <script type="text/javascript">var AJS=AJS||{};AJS.debug=true;</script> 
  <meta id="atlassian-token" name="atlassian-token" content="A5KQ-2QAV-T4JA-FDED|9cc47987e073a6d8fa750f869851c2f46d212906|lout"> 
  <link rel="shortcut icon" href="/jira/s/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/_/favicon.ico"> 
  <!--[if IE]><![endif]--> 
  <script type="text/javascript">
    (function() {
        var contextPath = '/jira';
        var eventBuffer = [];

        function printDeprecatedMsg() {
            if (console && console.warn) {
                console.warn('DEPRECATED JS - contextPath global variable has been deprecated since 7.4.0. Use `wrm/context-path` module instead.');
            }
        }

        function sendEvent(analytics, postfix) {
            analytics.send({
                name: 'js.globals.contextPath.' + postfix
            });
        }

        function sendDeprecatedEvent(postfix) {
            try {
                var analytics = require('jira/analytics');
                if (eventBuffer.length) {
                    eventBuffer.forEach(function(value) {
                        sendEvent(analytics, value);
                    });
                    eventBuffer = [];
                }

                if (postfix) {
                    sendEvent(analytics, postfix);
                }
            } catch(ex) {
                eventBuffer.push(postfix);
                setTimeout(sendDeprecatedEvent, 1000);
            }
        }

        Object.defineProperty(window, 'contextPath', {
            get: function() {
                printDeprecatedMsg();
                sendDeprecatedEvent('get');
                return contextPath;
            },
            set: function(value) {
                printDeprecatedMsg();
                sendDeprecatedEvent('set');
                contextPath = value;
            }
        });
    })();

</script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["com.atlassian.plugins.atlassian-plugins-webresource-plugin:context-path.context-path"]="\"/jira\"";
WRM._unparsedData["jira.webresources:feature-flags.feature-flag-data"]="{\"enabled-feature-keys\":[\"com.atlassian.jira.agile.darkfeature.editable.detailsview\",\"nps.survey.inline.dialog\",\"com.atlassian.jira.agile.darkfeature.edit.closed.sprint.enabled\",\"jira.plugin.devstatus.phasetwo\",\"jira.frother.reporter.field\",\"atlassian.rest.xsrf.legacy.enabled\",\"jira.issue.status.lozenge\",\"com.atlassian.jira.config.BIG_PIPE\",\"com.atlassian.jira.projects.issuenavigator\",\"com.atlassian.jira.config.PDL\",\"jira.plugin.devstatus.phasetwo.enabled\",\"atlassian.aui.raphael.disabled\",\"app-switcher.new\",\"frother.assignee.field\",\"com.atlassian.jira.projects.ProjectCentricNavigation.Switch\",\"sd.internal.base.off.thread.on.completion.events.enabled\",\"jira.onboarding.cyoa\",\"com.atlassian.jira.agile.darkfeature.kanplan.enabled\",\"sd.slavalue.record.updated.date.enabled\",\"com.atlassian.jira.config.ProjectConfig.MENU\",\"com.atlassian.jira.projects.sidebar.DEFER_RESOURCES\",\"com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions.enabled\",\"com.atlassian.jira.agile.darkfeature.sprint.goal.enabled\",\"jira.zdu.admin-updates-ui\",\"jira.zdu.jmx-monitoring\",\"sd.sla.improved.rendering.enabled\",\"sd.canned.responses.enabled\",\"sd.new.settings.sidebar.location.disabled\",\"jira.zdu.cluster-upgrade-state\",\"com.atlassian.jira.agile.darkfeature.splitissue\",\"com.atlassian.jira.config.CoreFeatures.LICENSE_ROLES_ENABLED\",\"com.atlassian.feedback.feedback-button-move-to-header-enable\",\"jira.export.csv.enabled\"],\"feature-flag-states\":{\"sd.customer.profile.multi.languages\":true,\"sd.customer.portal.transitions\":true,\"sd.customer.portal.transitions.config\":true,\"sd.custom.email.stripping.rules\":false,\"sd.sla.lucene.issue.id.callback.performance\":true,\"sd.new.settings.sidebar.location\":true,\"sd.workload.report.paginator\":true,\"sd.experimental.portal.search.algorithm.default.1\":false,\"sd.customer.portal.help.center.agent.announcement\":true,\"sd.sla.improved.rendering\":false,\"sd.experimental.portal.search.algorithm.default.2\":false,\"sd.customer.feedback.validate.reporter.on.token\":true,\"sd.custom.email.notifications.utf8.csat.star\":true,\"sd.who.create.customers.by.email.setting\":true,\"com.atlassian.jira.issuetable.move.links.hidden\":true,\"jira.renderer.consider.variable.format\":true,\"sd.stats.event.tracking\":true,\"sd.password.helper.dialog\":true,\"sd.canned.responses\":false,\"sd.portal.help.center.customer.signup.secondary.email\":true,\"sd.custom.email.notifications.manage.language\":true,\"sd.use.search.by.permissions\":true,\"sd.slavalue.record.updated.date\":false,\"sd.report.custom.date.range\":false,\"sd.kb.article.helpfulness.report\":false,\"com.atlassian.jira.agile.darkfeature.sprint.goal\":false,\"sd.custom.email.notifications.styling\":true,\"sd.workinghours.new.page.bulldog.1\":false,\"sd.customer.portal.two.step.login\":false,\"sd.automation.psmq.async.executor\":true,\"sd.customer.org.list.page.lazy.search\":true,\"sd.approval.requested.when.handler\":true,\"sd.request.type.field.rest.api.filtering.bugfix\":true,\"sd.automation.then.action.auto.answer.approval\":true,\"com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions\":false,\"sla.will.only.be.paused.if.they.are.already.started\":true,\"sd.kb.comment.share.stats.collection\":true,\"com.atlassian.jira.upgrade.startup.fix.index\":true,\"sd.customer.orgs.group.participants\":true,\"sd.portal.help.center.customer.signup\":true,\"sd.sla.agent.jql.security.restricted\":true,\"sd.test.feature.flag.x\":true,\"sd.test.feature.flag.y\":false,\"sd.cluster.safe.mail.channel.shutdown\":true,\"sd.email.channel.folders\":false,\"sd.email.analytics.open\":false,\"sd.kb.project.creation.create.link.space\":true,\"sd.workinghours.new.page\":false,\"sd.confluence.anonymous.permission.fix\":true,\"com.atlassian.jira.issuetable.draggable\":true,\"sd.customer.portal.project.agent.announcement\":true,\"sd.automation.audit.log\":true,\"jira.jql.suggestrecentfields\":false,\"sd.canned.responses.check.index.startup\":false,\"sd.new.project.templates\":true,\"sd.custom.email.notifications.custom.rules.simple.ui\":false,\"sd.custom.email.notifications.cut.over\":true,\"sd.dismiss.all.misconfiguration.warnings.setting\":true,\"com.atlassian.jira.agile.darkfeature.optimistic.transitions\":true,\"sd.sla.configurations.export\":true,\"sd.canned.responses.variable.substitution\":true,\"com.atlassian.jira.agile.darkfeature.kanplan\":false,\"sd.internal.base.off.thread.on.completion.events\":false,\"sd.customer.portal.prioties.per.project.fix\":true,\"jira.instrumentation.laas\":false,\"sd.kb.self.service.report\":false,\"sla.improved.request.handling\":true,\"sd.no.schedule.async.upgrade.tasks\":true,\"sd.kb.primary.nav\":true,\"com.atlassian.jira.agile.darkfeature.edit.closed.sprint\":false,\"sd.kb.issueview.panel.phase2\":true,\"sd.email.outsider.comments\":true,\"jira.create.linked.issue\":true,\"sd.kb.issueview.panel\":true,\"jira.sal.host.connect.accessor.existing.transaction.will.create.transactions\":true,\"sd.approvals.light.weight\":false,\"sd.automation.then.webhook\":true,\"sd.respect.inline.edit.issue.off\":true,\"jira.jql.smartautoselectfirst\":false,\"sd.global.portal.search.atlassian.only.tracking\":false,\"sd.automation.if.condition.comment.primary.action\":true,\"jira.priorities.per.project\":true,\"sd.inline.noformat.renderer\":true,\"sd.customer.request.type.create.edit.screens\":true}}";
WRM._unparsedData["jira.webresources:default-comment-security-level.DefaultCommentSecurityLevelHelpLink"]="{\"extraClasses\":\"default-comment-level-help\",\"title\":\"Commenting on an Issue\",\"url\":\"https://docs.atlassian.com/jira/jcore-docs-076/Editing+and+collaborating+on+issues#Editingandcollaboratingonissues-restrictacomment\",\"isLocal\":false}";
WRM._unparsedData["jira.webresources:dateFormatProvider.allFormats"]="{\"dateFormats\":{\"meridiem\":[\"AM\",\"PM\"],\"eras\":[\"BC\",\"AD\"],\"months\":[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],\"monthsShort\":[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],\"weekdaysShort\":[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"],\"weekdays\":[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"]},\"lookAndFeelFormats\":{\"relativize\":\"true\",\"time\":\"HH:mm\",\"day\":\"EEEE HH:mm\",\"dmy\":\"dd/MMM/yy\",\"complete\":\"dd/MMM/yy HH:mm\"}}";
WRM._unparsedData["com.atlassian.jira.jira-issue-nav-components:issueviewer.features"]="{\"rteEnabled\":true}";
WRM._unparsedData["com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone.thumbnail-mime-types"]="\"image/png,image/vnd.wap.wbmp,image/x-png,image/jpeg,image/bmp,image/gif\"";
WRM._unparsedData["com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone.upload-limit"]="\"62914560\"";
WRM._unparsedData["com.atlassian.plugins.helptips.jira-help-tips:help-tip-manager.JiraHelpTipData"]="{\"anonymous\":true}";
WRM._unparsedData["com.atlassian.jira.jira-view-issue-plugin:controller-subtasks.controller.subtasks.parameters"]="{\"url\":\"/rest/api/2/issue/{issueId}/subtask/move\"}";
WRM._unparsedData["com.atlassian.analytics.analytics-client:policy-update-init.policy-update-data-provider"]="false";
WRM._unparsedData["com.atlassian.analytics.analytics-client:programmatic-analytics-init.programmatic-analytics-data-provider"]="false";
WRM._unparsedData["com.atlassian.servicedesk.servicedesk-canned-responses-plugin:canned-responses-data-provider.data"]="{\"substitutionVariables\":{\"issue.summary\":\"Issue summary\",\"issue.description\":\"Issue description\",\"issue.key\":\"Issue key\",\"issue.reporter.name\":\"Issue reporter\",\"issue.resolution\":\"Issue resolution\",\"request.url\":\"Request URL\",\"request.status\":\"Request status\"}}";
WRM._unparsedData["jira.webresources:avatar-picker.data"]="{}";
WRM._unparsedData["com.atlassian.feedback.jira-feedback-plugin:button-resources-init.data"]="{\"jira.feedback.plugin.issue.collector.core\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"jira.feedback.plugin.issue.collector.default\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"jira.feedback.plugin.issue.collector.service.desk\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector.js?locale=en-UK&collectorId=a698db21\",\"jira.feedback.plugin.issue.collector.software\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"isHeaderFeedbackButtonEnabled\":true}";
WRM._unparsedData["com.atlassian.jira.jira-header-plugin:dismissedFlags.flags"]="{\"dismissed\":[]}";
WRM._unparsedData["com.atlassian.jira.jira-header-plugin:newsletter-signup-tip-init.newsletterSignup"]="{\"signupDescription\":\"Get updates, inspiration and best practices from the team behind JIRA.\",\"formUrl\":\"https://www.atlassian.com/apis/exact-target/{0}/subscribe?mailingListId=1401671\",\"signupTitle\":\"Sign up!\",\"signupId\":\"newsletter-signup-tip\",\"showNewsletterTip\":false}";
WRM._unparsedData["com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources.ptAnalyticsData"]="{\"instanceCreatedDate\":\"2011-01-31\"}";
WRM._unparsedData["com.atlassian.servicedesk.core-ui:util-help-links.help-links"]="{\"help\":{\"email.settings\":\"https://docs.atlassian.com/jira/jsd-docs-039/Receiving+requests+by+email\",\"managing.queues\":\"https://docs.atlassian.com/jira/jsd-docs-039/Setting+up+queues+for+your+team\",\"email.setup\":\"https://docs.atlassian.com/jira/jsd-docs-039/Receiving+requests+by+email\",\"request.settings.help.bubble\":\"https://docs.atlassian.com/jira/jsd-docs-039/Managing+access+to+your+service+desk\",\"email.settings.suitablerequest\":\"https://docs.atlassian.com/jira/jsd-docs-039/Receiving+requests+by+email#Receivingrequestsbyemail-suitablerequest\",\"sla.import.help\":\"https://docs.atlassian.com/jira/jsd-docs-039/Importing+SLAs\",\"documentation.home\":\"https://docs.atlassian.com/jira/jsd-docs-039/JIRA+Service+Desk+Documentation\",\"default\":\"https://docs.atlassian.com/jira/jsd-docs-039/\",\"create.space.help\":\"https://docs.atlassian.com/jira/jsd-docs-039/Serving+customers+with+a+knowledge+base#serving-customers-with-a-knowledge-base-createpermission\",\"email.settings.troubleshooting\":\"https://docs.atlassian.com/jira/jsd-docs-039/Troubleshooting+issues+with+the+email+channel\",\"admin.notifications.config\":\"https://docs.atlassian.com/jira/jsd-docs-039/Managing+service+desk+notifications\",\"troubleshoot.requesttype\":\"https://docs.atlassian.com/jira/jsd-docs-039/Troubleshooting+issues+with+request+types\",\"approvals.configuration\":\"https://docs.atlassian.com/jira/jsd-docs-039/Configuring+JIRA+Service+Desk+approvals\",\"setting.up.reports\":\"https://docs.atlassian.com/jira/jsd-docs-039/Setting+up+service+desk+reports\",\"public.signup\":\"https://docs.atlassian.com/jira/jsd-docs-039/Configuring+public+signup\",\"knowledge.base\":\"https://docs.atlassian.com/jira/jsd-docs-039/Serving+customers+with+a+knowledge+base\",\"resolve.permission.scheme.errors\":\"https://docs.atlassian.com/jira/jsd-docs-039/Resolving+permission+scheme+errors\",\"getting.started\":\"https://docs.atlassian.com/jira/jsd-docs-039/Getting+started+with+JIRA+Service+Desk\",\"getting.started.agent\":\"https://docs.atlassian.com/jira/jsd-docs-039/Getting+started+for+service+desk+agents\",\"invite.customers\":\"https://docs.atlassian.com/jira/jsd-docs-039/Managing+access+to+your+service+desk\"},\"kb\":{\"default\":\"https://confluence.atlassian.com/display/SDKB/\",\"troubleshooting.user.management.issues\":\"https://confluence.atlassian.com/display/SDKB/Troubleshooting+issues+with+service+desk+user+management\",\"legacytransition\":\"https://confluence.atlassian.com/display/SDKB/Replacing+legacy+automatic+transitions+with+automation+rules\",\"umtroubleshoot\":\"https://confluence.atlassian.com/display/SDKB/Troubleshooting+issues+with+service+desk+user+management\"}}";
WRM._unparsedData["com.atlassian.servicedesk.core-ui:util-base-url.base-url"]="\"https://issues.apache.org/jira\"";
WRM._unparsedData["com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources.help-data"]="{\"showHelp\":true,\"editorDocumentationUrl\":[\"https://docs.atlassian.com/jira/jcore-docs-076/Visual+editing\"],\"editorDocumentationTitle\":[\"Show me documentation for the visual editor\"]}";
WRM._unparsedData["com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources.thumbnails-allowed"]="false";
WRM._unparsedData["jira.webresources:user-message-flags.adminLockout"]="{}";
WRM._unparsedData["jira.request.correlation-id"]="\"330b802a9619a8\"";
WRM._unparsedData["project-id"]="12310230";
WRM._unparsedData["project-key"]="\"SOLR\"";
WRM._unparsedData["project-name"]="\"Solr\"";
WRM._unparsedData["project-type"]="\"software\"";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:generic-filters"]="[{\"id\":\"allissues\",\"jql\":\"project = \\\"{0}\\\" ORDER BY {1}\",\"defaultOrderby\":\"created DESC\",\"label\":\"All issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[]},{\"id\":\"allopenissues\",\"jql\":\"project = \\\"{0}\\\" AND resolution = Unresolved ORDER BY {1}\",\"defaultOrderby\":\"priority DESC, updated DESC\",\"label\":\"Open issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"resolution\"]},{\"id\":\"doneissues\",\"jql\":\"project = \\\"{0}\\\" AND statusCategory = Done ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Done issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":false,\"fields\":[\"status\"]},{\"id\":\"recentlyviewed\",\"jql\":\"project = \\\"{0}\\\" AND issuekey in issueHistory() ORDER BY {1}\",\"defaultOrderby\":\"lastViewed DESC\",\"label\":\"Viewed recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"issuekey\"]},{\"id\":\"addedrecently\",\"jql\":\"project = \\\"{0}\\\" AND created \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"created DESC\",\"label\":\"Created recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"created\"]},{\"id\":\"resolvedrecently\",\"jql\":\"project = \\\"{0}\\\" AND resolutiondate \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Resolved recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":false,\"fields\":[\"resolutiondate\"]},{\"id\":\"updatedrecently\",\"jql\":\"project = \\\"{0}\\\" AND updated \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Updated recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"updated\"]}]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:default-filter-priority"]="[\"allopenissues\",\"allissues\"]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:can-manage-filters"]="false";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:project-filters"]="[]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:can-create-issues"]="false";
WRM._unparsedData["projectId"]="12310230";
WRM._unparsedData["projectKey"]="\"SOLR\"";
WRM._unparsedData["projectType"]="\"software\"";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:server-rendered"]="true";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/a8a4711bc3f2eb261d8c8fd9fbcbba8b-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/1fca1750044f2777c977e8d8cc023344/_/download/contextbatch/css/_super/batch.css" data-wrm-key="_super" data-wrm-batch-type="context" media="all"> 
  <link type="text/css" rel="stylesheet" href="/jira/s/1a6b21131945f6f49ff48336b49ca3fe-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/37a6e594cbbfd462a8a54d5aa11475c1/_/download/contextbatch/css/project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super/batch.css?agile_global_admin_condition=true&amp;hc-enabled=true&amp;is-server-instance=true&amp;jag=true&amp;jira.create.linked.issue=true&amp;nps-acknowledged=true&amp;richediton=true&amp;sd_operational=true" data-wrm-key="project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super" data-wrm-batch-type="context" media="all"> 
  <link type="text/css" rel="stylesheet" href="/jira/s/611672383f6cab00ab202241ba6f9d68-T/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/7.6.3/_/download/batch/com.atlassian.feedback.jira-feedback-plugin:button-resources-init/com.atlassian.feedback.jira-feedback-plugin:button-resources-init.css" data-wrm-key="com.atlassian.feedback.jira-feedback-plugin:button-resources-init" data-wrm-batch-type="resource" media="all"> 
  <script type="text/javascript" src="/jira/s/d8484c9183f546511a8e336a8779bcd9-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/1fca1750044f2777c977e8d8cc023344/_/download/contextbatch/js/_super/batch.js?locale=en-UK" data-wrm-key="_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d3b35d835f8f46fc3b53bb4db7f85158-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/37a6e594cbbfd462a8a54d5aa11475c1/_/download/contextbatch/js/project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super/batch.js?agile_global_admin_condition=true&amp;hc-enabled=true&amp;is-server-instance=true&amp;jag=true&amp;jira.create.linked.issue=true&amp;locale=en-UK&amp;nps-acknowledged=true&amp;richediton=true&amp;sd_operational=true" data-wrm-key="project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/71d42e74136d842a3ef4d5d136484843-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/871d45c9f322a22cb3aa9b7948a69803/_/download/contextbatch/js/atl.global,-_super/batch.js?locale=en-UK" data-wrm-key="atl.global,-_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:calendar-en/jira.webresources:calendar-en.js" data-wrm-key="jira.webresources:calendar-en" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:calendar-localisation-moment/jira.webresources:calendar-localisation-moment.js" data-wrm-key="jira.webresources:calendar-localisation-moment" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/7.6.3/_/download/batch/com.atlassian.feedback.jira-feedback-plugin:button-resources/com.atlassian.feedback.jira-feedback-plugin:button-resources.js" data-wrm-key="com.atlassian.feedback.jira-feedback-plugin:button-resources" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/95a4826c265852f4904f1e0e7300df68-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/e0de73613a1027de08f3da6a45e1d1a2/_/download/contextbatch/css/jira.global.look-and-feel,-_super/batch.css" data-wrm-key="jira.global.look-and-feel,-_super" data-wrm-batch-type="context" media="all"> 
  <script type="text/javascript" src="/jira/rest/api/1.0/shortcuts/76005/944bb39eced1b35cfc7194aa02eb5a5a/shortcuts.js?context=issuenavigation&amp;context=issueaction"></script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["com.atlassian.jira.jira-issue-nav-components:inline-edit-enabled"]="true";
WRM._unparsedData["should-display-chaperone"]="false";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/15712b600e9aecf72ffd9fd3704a0c78-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/6b22a15c7b83f87a47b1757076f43542/_/download/contextbatch/css/com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue/batch.css?jira.create.linked.issue=true&amp;richediton=true&amp;sd_operational=true" data-wrm-key="com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue" data-wrm-batch-type="context" media="all"> 
  <script type="text/javascript" src="/jira/s/5a8f0f8b8aa8f96a4f0f7e9e248d62f3-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/6b22a15c7b83f87a47b1757076f43542/_/download/contextbatch/js/com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue/batch.js?jira.create.linked.issue=true&amp;locale=en-UK&amp;richediton=true&amp;sd_operational=true" data-wrm-key="com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue" data-wrm-batch-type="context" data-initially-rendered></script> 
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge"> 
  <meta name="ajs-can-search-users" content="false"> 
  <meta name="ajs-can-edit-watchers" content="false"> 
  <meta name="ajs-default-avatar-url" content="https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10453"> 
  <meta name="ajs-issue-project-type" content="software"> 
  <meta name="ajs-issue-key" content="SOLR-6554"> 
  <meta name="ajs-server-view-issue-is-editable" content="false"> 
  <title>[SOLR-6554] Speed up overseer operations for collections with stateFormat &gt; 1 - ASF JIRA</title> 
  <link rel="search" type="application/opensearchdescription+xml" href="/jira/osd.jsp" title="[SOLR-6554] Speed up overseer operations for collections with stateFormat > 1 - ASF JIRA"> 
 </head> 
 <body id="jira" class="aui-layout aui-theme-default " data-version="7.6.3"> 
  <div id="page"> 
   <header id="header" role="banner"> 
    <script>
require(["jquery", "jira/license-banner"], function ($, licenseBanner) {
    $(function () {
        licenseBanner.showLicenseBanner("");
        licenseBanner.showLicenseFlag("");
    });
});
</script> 
    <nav class="aui-header aui-dropdown2-trigger-group" role="navigation">
     <div class="aui-header-inner">
      <div class="aui-header-before">
       <a class=" aui-dropdown2-trigger app-switcher-trigger" aria-controls="app-switcher" aria-haspopup="true" role="button" tabindex="0" data-aui-trigger href="#app-switcher"><span class="aui-icon aui-icon-small aui-iconfont-appswitcher">Linked Applications</span></a>
       <div id="app-switcher" class="aui-dropdown2 aui-style-default" role="menu" aria-hidden="true" data-is-switcher="true" data-environment="{&quot;isUserAdmin&quot;:false,&quot;isAppSuggestionAvailable&quot;:false,&quot;isSiteAdminUser&quot;:false}">
        <div role="application">
         <div class="app-switcher-loading">
          Loadingâ€¦
         </div>
        </div>
       </div>
      </div>
      <div class="aui-header-primary">
       <h1 id="logo" class="aui-header-logo aui-header-logo-custom"><a href="https://issues.apache.org/jira/secure/MyJiraHome.jspa"><img src="/jira/s/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/_/jira-logo-scaled.png" alt="ASF JIRA"></a></h1>
       <ul class="aui-nav">
        <li><a href="/jira/secure/Dashboard.jspa" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="home_link" aria-haspopup="true" aria-controls="home_link-content" title="View and manage your dashboards" accesskey="d">Dashboards</a>
         <div class="aui-dropdown2 aui-style-default" id="home_link-content" data-aui-dropdown2-ajax-key="home_link"></div></li>
        <li><a href="/jira/browse/SOLR" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="browse_link" aria-haspopup="true" aria-controls="browse_link-content" title="View recent projects and browse a list of projects" accesskey="p">Projects</a>
         <div class="aui-dropdown2 aui-style-default" id="browse_link-content" data-aui-dropdown2-ajax-key="browse_link"></div></li>
        <li><a href="/jira/issues/" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="find_link" aria-haspopup="true" aria-controls="find_link-content" title="Search for issues and view recent issues" accesskey="i">Issues</a>
         <div class="aui-dropdown2 aui-style-default" id="find_link-content" data-aui-dropdown2-ajax-key="find_link"></div></li> 
       </ul>
      </div>
      <div class="aui-header-secondary">
       <ul class="aui-nav">
        <li id="quicksearch-menu"> 
         <form action="/jira/secure/QuickSearch.jspa" method="get" id="quicksearch" class="aui-quicksearch dont-default-focus ajs-dirty-warning-exempt"> 
          <input id="quickSearchInput" class="search" type="text" title="Search" placeholder="Search" name="searchString" accessKey="q"> 
          <input type="submit" class="hidden" value="Search"> 
         </form> </li> 
        <li><a class="jira-feedback-plugin" role="button" aria-haspopup="true" id="jira-header-feedback-link" href="#"><span class="aui-icon aui-icon-small jira-feedback-plugin-icon">Give feedback to Atlassian</span></a></li> 
        <li id="system-help-menu"> <a class="aui-nav-link aui-dropdown2-trigger" id="help_menu" aria-haspopup="true" aria-owns="system-help-menu-content" href="https://docs.atlassian.com/jira/jcore-docs-076/" target="$textUtils.htmlEncode($rootHelpMenuItem.params.target)" title="Help"><span class="aui-icon aui-icon-small aui-iconfont-help">Help</span></a> 
         <div id="system-help-menu-content" class="aui-dropdown2 aui-style-default"> 
          <div class="aui-dropdown2-section"> 
           <ul id="jira-help" class="aui-list-truncate"> 
            <li> <a id="view_core_help" class="aui-nav-link " title="Go to the online documentation for JIRA Core" href="https://docs.atlassian.com/jira/jcore-docs-076/" target="_blank">JIRA Core help</a> </li> 
            <li> <a id="keyshortscuthelp" class="aui-nav-link " title="Get more information about JIRA's Keyboard Shortcuts" href="/jira/secure/ViewKeyboardShortcuts!default.jspa" target="_blank">Keyboard Shortcuts</a> </li> 
            <li> <a id="view_about" class="aui-nav-link " title="Get more information about JIRA" href="/jira/secure/AboutPage.jspa">About JIRA</a> </li> 
            <li> <a id="view_credits" class="aui-nav-link " title="See who did what" href="/jira/secure/JiraCreditsPage!default.jspa" target="_blank">JIRA Credits</a> </li> 
           </ul> 
          </div> 
         </div> </li> 
        <li id="user-options"> <a class="aui-nav-link login-link" href="/jira/login.jsp?os_destination=%2Fbrowse%2FSOLR-6554">Log In</a> 
         <div id="user-options-content" class="aui-dropdown2 aui-style-default"> 
          <div class="aui-dropdown2-section"> 
          </div> 
         </div> </li> 
       </ul>
      </div>
     </div>
     <!-- .aui-header-inner-->
    </nav>
    <!-- .aui-header --> 
   </header> 
   <section id="content" role="main"> 
    <big-pipe data-id="sidebar-id" unresolved></big-pipe>
    <div class="aui-sidebar  sidebar-placeholder">
     <div class="aui-sidebar-wrapper">
      <div class="aui-sidebar-body"></div>
      <div class="aui-sidebar-footer">
       <a class="aui-button aui-button-subtle aui-sidebar-toggle aui-sidebar-footer-tipsy" data-tooltip="Expand sidebar ( [ )" href="#"><span class="aui-icon aui-icon-small"></span></a>
      </div>
     </div>
    </div>
    <script id="projects-sidebar-init">
    require(['jira/projects/sidebar/expansion-manager'], function(expansionManager) {
        var scriptTag = document.getElementById('projects-sidebar-init');
        var sidebar = AJS.sidebar('.aui-sidebar');
        expansionManager(sidebar);
        scriptTag.parentElement.removeChild(scriptTag);
    });
    </script>
    <div class="aui-page-panel">
     <div class="aui-page-panel-inner">
      <div class="issue-navigator">
       <div class="content">
        <div class="issue-view">
         <div class="navigation-tools">
          <div class="pager-container"></div>
         </div>
         <div class="issue-container">
          <div id="issue-content" class="issue-edit-form">
           <header id="stalker" class="issue-header js-stalker">
            <div class="issue-header-content">
             <header class="aui-page-header">
              <div class="aui-page-header-inner">
               <div class="aui-page-header-image">
                <span id="12310230" class="aui-avatar aui-avatar-large aui-avatar-project"><span class="aui-avatar-inner"><img id="project-avatar" alt="Uploaded image for project: 'Solr'" src="https://issues.apache.org/jira/secure/projectavatar?pid=12310230&amp;avatarId=22151"></span></span>
               </div>
               <!-- .aui-page-header-image -->
               <div class="aui-page-header-main">
                <ol class="aui-nav aui-nav-breadcrumbs">
                 <li><a id="project-name-val" href="/jira/browse/SOLR">Solr</a></li>
                 <li><a class="issue-link" data-issue-key="SOLR-6554" href="/jira/browse/SOLR-6554" id="key-val" rel="12743562">SOLR-6554</a></li>
                </ol>
                <h1 id="summary-val">Speed up overseer operations for collections with stateFormat &gt; 1</h1>
               </div>
               <!-- .aui-page-header-main -->
               <div class="aui-page-header-actions">
                <div id="issue-header-pager"></div>
               </div>
               <!-- .aui-page-header-actions -->
              </div>
              <!-- .aui-page-header-inner -->
             </header>
             <!-- .aui-page-header -->
             <div class="command-bar">
              <div class="ops-cont">
               <div class="ops-menus aui-toolbar">
                <div class="toolbar-split toolbar-split-left">
                 <ul id="opsbar-ops-login-lnk_container" class="toolbar-group pluggable-ops">
                  <li class="toolbar-item"><a id="ops-login-lnk" title="Log In" class="toolbar-trigger" href="/jira/login.jsp?os_destination=%2Fbrowse%2FSOLR-6554"><span class="trigger-label">Log In</span></a></li>
                 </ul>
                 <ul id="opsbar-opsbar-operations" class="toolbar-group pluggable-ops"></ul>
                 <ul id="opsbar-opsbar-transitions" class="toolbar-group pluggable-ops"></ul>
                 <ul id="opsbar-opsbar-admin" class="toolbar-group pluggable-ops"></ul>
                </div>
                <div class="toolbar-split toolbar-split-right">
                 <ul id="opsbar-jira.issue.tools" class="toolbar-group pluggable-ops">
                  <li class="toolbar-item">
                   <div>
                    <a href="#" id="viewissue-export" aria-owns="viewissue-export_drop" aria-haspopup="true" title="Export this issue in another format" class="toolbar-trigger aui-button aui-style-default aui-dropdown2-trigger"><span class="icon icon-default aui-icon aui-icon-small aui-iconfont-export"></span> <span class="dropdown-text">Export</span></a>
                    <div id="viewissue-export_drop" class="aui-style-default aui-dropdown2">
                     <ul>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-xml/SOLR-6554/SOLR-6554.xml" id="jira.issueviews:issue-xml"><span class="trigger-label">XML</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-word/SOLR-6554/SOLR-6554.doc" id="jira.issueviews:issue-word"><span class="trigger-label">Word</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-html/SOLR-6554/SOLR-6554.html" id="jira.issueviews:issue-html"><span class="trigger-label">Printable</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/com.atlassian.jira.plugins.jira-importers-plugin:issue-json/SOLR-6554/SOLR-6554.json" id="com.atlassian.jira.plugins.jira-importers-plugin:issue-json"><span class="trigger-label">JSON</span></a></li>
                     </ul>
                    </div>
                   </div></li>
                 </ul>
                </div>
               </div>
              </div>
             </div>
            </div>
           </header>
           <div class="issue-body-content">
            <div class="aui-group issue-body">
             <div class="aui-item issue-main-column">
              <div id="details-module" class="module toggle-wrap">
               <div id="details-module_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Details</h2>
               </div>
               <div class="mod-content"> 
                <ul id="issuedetails" class="property-list two-cols"> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Type:</strong> 
                   <span id="type-val" class="value"> <img alt="" height="16" src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype" title="Improvement - An improvement or enhancement to an existing feature or task." width="16"> Improvement </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Status:</strong> 
                   <span id="status-val" class="value"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done jira-issue-status-lozenge-max-width-medium" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </span> 
                  </div> </li> 
                 <li class="item new"> 
                  <div class="wrap"> 
                   <strong class="name">Priority:</strong> 
                   <span id="priority-val" class="value"> <img alt="" height="16" src="/jira/images/icons/priorities/major.svg" title="Major - Major loss of function." width="16"> Major </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Resolution:</strong> 
                   <span id="resolution-val" class="value resolved"> Fixed </span> 
                  </div> </li> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Affects Version/s:</strong> 
                   <span id="versions-val" class="value"> <span class="shorten" id="versions-field"> <span title="5.0 First 5.x release, Major release after 4.10">5.0</span>, <span title="6.0 First 6.x release, Major release after 5.5">6.0</span> </span> </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Fix Version/s:</strong> 
                   <span id="fixfor-val" class="value"> <span class="shorten" id="fixVersions-field"> <a href="/jira/issues/?jql=project+%3D+SOLR+AND+fixVersion+%3D+5.0" title="5.0 First 5.x release, Major release after 4.10">5.0</a>, <a href="/jira/issues/?jql=project+%3D+SOLR+AND+fixVersion+%3D+6.0" title="6.0 First 6.x release, Major release after 5.5">6.0</a> </span> </span> 
                  </div> </li> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Component/s:</strong> 
                   <span id="components-val" class="value"> <span class="shorten" id="components-field"> <a href="/jira/issues/?jql=project+%3D+SOLR+AND+component+%3D+SolrCloud" title="SolrCloud ">SolrCloud</a> </span> </span> 
                  </div> </li> 
                 <li class="item full-width"> 
                  <div class="wrap" id="wrap-labels"> 
                   <strong class="name">Labels:</strong> 
                   <div class="labels-wrap value"> 
                    <span class="labels" id="labels-12743562-value">None</span> 
                   </div> 
                  </div> </li> 
                </ul> 
               </div>
              </div>
              <div id="descriptionmodule" class="module toggle-wrap">
               <div id="descriptionmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Description</h2>
               </div>
               <div class="mod-content">
                <div id="description-val" class="field-ignore-highlight"> 
                 <div class="user-content-block"> 
                  <p>Right now (after <a href="https://issues.apache.org/jira/browse/SOLR-5473" title="Split clusterstate.json per collection and watch states selectively " class="issue-link" data-issue-key="SOLR-5473"><del>SOLR-5473</del></a> was committed), a node watches a collection only if stateFormat=1 or if that node hosts at least one core belonging to that collection.</p> 
                  <p>This means that a node which is the overseer operates on all collections but watches only a few. So any read goes directly to zookeeper which slows down overseer operations.</p> 
                  <p>Let's have the overseer node watch all collections always and never remove those watches (except when the collection itself is deleted).</p> 
                 </div> 
                </div> 
               </div>
              </div>
              <div id="dnd-metadata" class="module toggle-wrap">
               <div id="dnd-metadata_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Attachments</h2>
               </div>
               <div class="mod-content">
                <div id="dnd-metadata-webpanel" data-can-attach="false" data-project-type="software" data-upload-limit="62914560" data-thumbnails-allowed="false"></div>
               </div>
              </div>
              <div id="attachmentmodule" class="module toggle-wrap">
               <div id="attachmentmodule_heading" class="mod-header">
                <ul class="ops">
                 <li class="drop">
                  <div class="aui-dd-parent">
                   <a href="#" class="icon drop-menu js-default-dropdown" title="Options"><span>Options</span></a>
                   <div class="aui-dropdown-content aui-list">
                    <ul id="attachment-sorting-options" class="aui-list-section aui-first">
                     <li class="aui-list-item"><a id="attachment-sort-key-name" href="/jira/browse/SOLR-6554?attachmentSortBy=fileName#attachmentmodule" class="aui-list-checked aui-checked aui-list-item-link" title="viewissue.subtasks.tab.show.all.name"><span>Sort By Name</span></a></li>
                     <li class="aui-list-item"><a id="attachment-sort-key-date" href="/jira/browse/SOLR-6554?attachmentSortBy=dateTime#attachmentmodule" class="aui-list-checked aui-list-item-link" title="Sort By Date"><span>Sort By Date</span></a></li>
                    </ul>
                    <ul id="attachment-sorting-order-options" class="aui-list-section aui-last">
                     <li class="aui-list-item"><a id="attachment-sort-direction-asc" href="/jira/browse/SOLR-6554?attachmentOrder=asc#attachmentmodule" class="aui-list-checked aui-checked aui-list-item-link" title="Ascending"><span>Ascending</span></a></li>
                     <li class="aui-list-item"><a id="attachment-sort-direction-desc" href="/jira/browse/SOLR-6554?attachmentOrder=desc#attachmentmodule" class="aui-list-checked aui-list-item-link" title="Descending"><span>Descending</span></a></li>
                    </ul>
                   </div>
                  </div></li>
                </ul>
                <h2 class="toggle-title">Attachments</h2>
               </div>
               <div class="mod-content">
                <ol id="file_attachments" class="item-attachments" data-sort-key="fileName" data-sort-order="asc">
                 <li class="attachment-content js-file-attachment" data-attachment-id="12684253" data-issue-id="12743562" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12684253/SOLR-6554.patch" draggable="true" data-downloadurl="text/plain:SOLR-6554.patch:https://issues.apache.org/jira/secure/attachment/12684253/SOLR-6554.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12684253/SOLR-6554.patch" title="Latest  29/Nov/14 15:11 - Shalin Shekhar Mangar" draggable="true" data-downloadurl="text/plain:SOLR-6554.patch:https://issues.apache.org/jira/secure/attachment/12684253/SOLR-6554.patch">SOLR-6554.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2014-11-29T15:11:45.917Z">29/Nov/14 15:11</time>
                   </dd>
                   <dd class="attachment-size">
                    143 kB
                   </dd>
                   <dd class="attachment-author">
                    Shalin Shekhar Mangar
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12684251" data-issue-id="12743562" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12684251/SOLR-6554.patch" draggable="true" data-downloadurl="text/plain:SOLR-6554.patch:https://issues.apache.org/jira/secure/attachment/12684251/SOLR-6554.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12684251/SOLR-6554.patch" title=" 29/Nov/14 14:51 - Shalin Shekhar Mangar" draggable="true" data-downloadurl="text/plain:SOLR-6554.patch:https://issues.apache.org/jira/secure/attachment/12684251/SOLR-6554.patch">SOLR-6554.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2014-11-29T14:51:13.600Z">29/Nov/14 14:51</time>
                   </dd>
                   <dd class="attachment-size">
                    143 kB
                   </dd>
                   <dd class="attachment-author">
                    Shalin Shekhar Mangar
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12684220" data-issue-id="12743562" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12684220/SOLR-6554.patch" draggable="true" data-downloadurl="text/plain:SOLR-6554.patch:https://issues.apache.org/jira/secure/attachment/12684220/SOLR-6554.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12684220/SOLR-6554.patch" title=" 29/Nov/14 01:45 - Shalin Shekhar Mangar" draggable="true" data-downloadurl="text/plain:SOLR-6554.patch:https://issues.apache.org/jira/secure/attachment/12684220/SOLR-6554.patch">SOLR-6554.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2014-11-29T01:45:22.279Z">29/Nov/14 01:45</time>
                   </dd>
                   <dd class="attachment-size">
                    142 kB
                   </dd>
                   <dd class="attachment-author">
                    Shalin Shekhar Mangar
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12683685" data-issue-id="12743562" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12683685/SOLR-6554.patch" draggable="true" data-downloadurl="text/plain:SOLR-6554.patch:https://issues.apache.org/jira/secure/attachment/12683685/SOLR-6554.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12683685/SOLR-6554.patch" title=" 25/Nov/14 23:10 - Shalin Shekhar Mangar" draggable="true" data-downloadurl="text/plain:SOLR-6554.patch:https://issues.apache.org/jira/secure/attachment/12683685/SOLR-6554.patch">SOLR-6554.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2014-11-25T23:10:06.394Z">25/Nov/14 23:10</time>
                   </dd>
                   <dd class="attachment-size">
                    143 kB
                   </dd>
                   <dd class="attachment-author">
                    Shalin Shekhar Mangar
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12680579" data-issue-id="12743562" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12680579/SOLR-6554.patch" draggable="true" data-downloadurl="text/plain:SOLR-6554.patch:https://issues.apache.org/jira/secure/attachment/12680579/SOLR-6554.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12680579/SOLR-6554.patch" title=" 10/Nov/14 14:37 - Shalin Shekhar Mangar" draggable="true" data-downloadurl="text/plain:SOLR-6554.patch:https://issues.apache.org/jira/secure/attachment/12680579/SOLR-6554.patch">SOLR-6554.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2014-11-10T14:37:33.083Z">10/Nov/14 14:37</time>
                   </dd>
                   <dd class="attachment-size">
                    145 kB
                   </dd>
                   <dd class="attachment-author">
                    Shalin Shekhar Mangar
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12680485" data-issue-id="12743562" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12680485/SOLR-6554.patch" draggable="true" data-downloadurl="text/plain:SOLR-6554.patch:https://issues.apache.org/jira/secure/attachment/12680485/SOLR-6554.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12680485/SOLR-6554.patch" title=" 09/Nov/14 15:35 - Shalin Shekhar Mangar" draggable="true" data-downloadurl="text/plain:SOLR-6554.patch:https://issues.apache.org/jira/secure/attachment/12680485/SOLR-6554.patch">SOLR-6554.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2014-11-09T15:35:04.437Z">09/Nov/14 15:35</time>
                   </dd>
                   <dd class="attachment-size">
                    141 kB
                   </dd>
                   <dd class="attachment-author">
                    Shalin Shekhar Mangar
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12678799" data-issue-id="12743562" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12678799/SOLR-6554.patch" draggable="true" data-downloadurl="text/x-patch:SOLR-6554.patch:https://issues.apache.org/jira/secure/attachment/12678799/SOLR-6554.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12678799/SOLR-6554.patch" title=" 02/Nov/14 14:46 - Shalin Shekhar Mangar" draggable="true" data-downloadurl="text/x-patch:SOLR-6554.patch:https://issues.apache.org/jira/secure/attachment/12678799/SOLR-6554.patch">SOLR-6554.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2014-11-02T14:46:26.769Z">02/Nov/14 14:46</time>
                   </dd>
                   <dd class="attachment-size">
                    144 kB
                   </dd>
                   <dd class="attachment-author">
                    Shalin Shekhar Mangar
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12678578" data-issue-id="12743562" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12678578/SOLR-6554.patch" draggable="true" data-downloadurl="text/x-patch:SOLR-6554.patch:https://issues.apache.org/jira/secure/attachment/12678578/SOLR-6554.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12678578/SOLR-6554.patch" title=" 31/Oct/14 21:56 - Shalin Shekhar Mangar" draggable="true" data-downloadurl="text/x-patch:SOLR-6554.patch:https://issues.apache.org/jira/secure/attachment/12678578/SOLR-6554.patch">SOLR-6554.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2014-10-31T21:56:36.639Z">31/Oct/14 21:56</time>
                   </dd>
                   <dd class="attachment-size">
                    140 kB
                   </dd>
                   <dd class="attachment-author">
                    Shalin Shekhar Mangar
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12684410" data-issue-id="12743562" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12684410/SOLR-6554-batching-refactor.patch" draggable="true" data-downloadurl="text/plain:SOLR-6554-batching-refactor.patch:https://issues.apache.org/jira/secure/attachment/12684410/SOLR-6554-batching-refactor.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12684410/SOLR-6554-batching-refactor.patch" title="Latest  01/Dec/14 14:24 - Shalin Shekhar Mangar" draggable="true" data-downloadurl="text/plain:SOLR-6554-batching-refactor.patch:https://issues.apache.org/jira/secure/attachment/12684410/SOLR-6554-batching-refactor.patch">SOLR-6554-batching-refactor.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2014-12-01T14:24:28.691Z">01/Dec/14 14:24</time>
                   </dd>
                   <dd class="attachment-size">
                    30 kB
                   </dd>
                   <dd class="attachment-author">
                    Shalin Shekhar Mangar
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12684296" data-issue-id="12743562" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12684296/SOLR-6554-batching-refactor.patch" draggable="true" data-downloadurl="text/plain:SOLR-6554-batching-refactor.patch:https://issues.apache.org/jira/secure/attachment/12684296/SOLR-6554-batching-refactor.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12684296/SOLR-6554-batching-refactor.patch" title=" 30/Nov/14 13:18 - Shalin Shekhar Mangar" draggable="true" data-downloadurl="text/plain:SOLR-6554-batching-refactor.patch:https://issues.apache.org/jira/secure/attachment/12684296/SOLR-6554-batching-refactor.patch">SOLR-6554-batching-refactor.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2014-11-30T13:18:08.908Z">30/Nov/14 13:18</time>
                   </dd>
                   <dd class="attachment-size">
                    23 kB
                   </dd>
                   <dd class="attachment-author">
                    Shalin Shekhar Mangar
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12684294" data-issue-id="12743562" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12684294/SOLR-6554-batching-refactor.patch" draggable="true" data-downloadurl="text/plain:SOLR-6554-batching-refactor.patch:https://issues.apache.org/jira/secure/attachment/12684294/SOLR-6554-batching-refactor.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12684294/SOLR-6554-batching-refactor.patch" title=" 30/Nov/14 11:35 - Shalin Shekhar Mangar" draggable="true" data-downloadurl="text/plain:SOLR-6554-batching-refactor.patch:https://issues.apache.org/jira/secure/attachment/12684294/SOLR-6554-batching-refactor.patch">SOLR-6554-batching-refactor.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2014-11-30T11:35:35.530Z">30/Nov/14 11:35</time>
                   </dd>
                   <dd class="attachment-size">
                    22 kB
                   </dd>
                   <dd class="attachment-author">
                    Shalin Shekhar Mangar
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12684281" data-issue-id="12743562" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12684281/SOLR-6554-batching-refactor.patch" draggable="true" data-downloadurl="text/plain:SOLR-6554-batching-refactor.patch:https://issues.apache.org/jira/secure/attachment/12684281/SOLR-6554-batching-refactor.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12684281/SOLR-6554-batching-refactor.patch" title=" 29/Nov/14 23:38 - Shalin Shekhar Mangar" draggable="true" data-downloadurl="text/plain:SOLR-6554-batching-refactor.patch:https://issues.apache.org/jira/secure/attachment/12684281/SOLR-6554-batching-refactor.patch">SOLR-6554-batching-refactor.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2014-11-29T23:38:20.651Z">29/Nov/14 23:38</time>
                   </dd>
                   <dd class="attachment-size">
                    22 kB
                   </dd>
                   <dd class="attachment-author">
                    Shalin Shekhar Mangar
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12688033" data-issue-id="12743562" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12688033/SOLR-6554-workqueue-fixes.patch" draggable="true" data-downloadurl="text/plain:SOLR-6554-workqueue-fixes.patch:https://issues.apache.org/jira/secure/attachment/12688033/SOLR-6554-workqueue-fixes.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12688033/SOLR-6554-workqueue-fixes.patch" title="Latest  18/Dec/14 13:47 - Shalin Shekhar Mangar" draggable="true" data-downloadurl="text/plain:SOLR-6554-workqueue-fixes.patch:https://issues.apache.org/jira/secure/attachment/12688033/SOLR-6554-workqueue-fixes.patch">SOLR-6554-workqueue-fixes.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2014-12-18T13:47:56.004Z">18/Dec/14 13:47</time>
                   </dd>
                   <dd class="attachment-size">
                    8 kB
                   </dd>
                   <dd class="attachment-author">
                    Shalin Shekhar Mangar
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12687758" data-issue-id="12743562" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12687758/SOLR-6554-workqueue-fixes.patch" draggable="true" data-downloadurl="text/plain:SOLR-6554-workqueue-fixes.patch:https://issues.apache.org/jira/secure/attachment/12687758/SOLR-6554-workqueue-fixes.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12687758/SOLR-6554-workqueue-fixes.patch" title=" 17/Dec/14 16:30 - Shalin Shekhar Mangar" draggable="true" data-downloadurl="text/plain:SOLR-6554-workqueue-fixes.patch:https://issues.apache.org/jira/secure/attachment/12687758/SOLR-6554-workqueue-fixes.patch">SOLR-6554-workqueue-fixes.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2014-12-17T16:30:35.127Z">17/Dec/14 16:30</time>
                   </dd>
                   <dd class="attachment-size">
                    9 kB
                   </dd>
                   <dd class="attachment-author">
                    Shalin Shekhar Mangar
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12687737" data-issue-id="12743562" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12687737/SOLR-6554-workqueue-fixes.patch" draggable="true" data-downloadurl="text/plain:SOLR-6554-workqueue-fixes.patch:https://issues.apache.org/jira/secure/attachment/12687737/SOLR-6554-workqueue-fixes.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12687737/SOLR-6554-workqueue-fixes.patch" title=" 17/Dec/14 14:33 - Shalin Shekhar Mangar" draggable="true" data-downloadurl="text/plain:SOLR-6554-workqueue-fixes.patch:https://issues.apache.org/jira/secure/attachment/12687737/SOLR-6554-workqueue-fixes.patch">SOLR-6554-workqueue-fixes.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2014-12-17T14:33:49.023Z">17/Dec/14 14:33</time>
                   </dd>
                   <dd class="attachment-size">
                    9 kB
                   </dd>
                   <dd class="attachment-author">
                    Shalin Shekhar Mangar
                   </dd>
                  </dl></li>
                </ol>
               </div>
              </div>
              <div id="activitymodule" class="module toggle-wrap">
               <div id="activitymodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Activity</h2>
               </div>
               <div class="mod-content"> 
                <big-pipe data-id="activity-panel-pipe-id" style="height: 70px"> 
                 <div></div> 
                </big-pipe> 
               </div>
              </div>
             </div>
             <div id="viewissuesidebar" class="aui-item issue-side-column">
              <div id="peoplemodule" class="module toggle-wrap">
               <div id="peoplemodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">People</h2>
               </div>
               <div class="mod-content"> 
                <ul class="item-details" id="peopledetails"> 
                 <li class="people-details"> 
                  <dl> 
                   <dt>
                    Assignee:
                   </dt> 
                   <dd> 
                    <span id="assignee-val" class="view-issue-field"> <span class="user-hover" id="issue_summary_assignee_shalinmangar" rel="shalinmangar" data-user="{&quot;avatarUrl&quot;:&quot;https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10452&quot;,&quot;displayName&quot;:&quot;Shalin Shekhar Mangar&quot;,&quot;emailAddress&quot;:&quot;shalin.mangar@lucidworks.com&quot;,&quot;username&quot;:&quot;shalinmangar&quot;}"> <span class="aui-avatar aui-avatar-small"><span class="aui-avatar-inner"><img src="https://issues.apache.org/jira/secure/useravatar?size=small&amp;avatarId=10452" alt="shalinmangar"></span></span> Shalin Shekhar Mangar </span> </span> 
                   </dd> 
                  </dl> 
                  <dl> 
                   <dt>
                    Reporter:
                   </dt> 
                   <dd> 
                    <span id="reporter-val" class="view-issue-field"> <span class="user-hover" id="issue_summary_reporter_shalinmangar" rel="shalinmangar" data-user="{&quot;avatarUrl&quot;:&quot;https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10452&quot;,&quot;displayName&quot;:&quot;Shalin Shekhar Mangar&quot;,&quot;emailAddress&quot;:&quot;shalin.mangar@lucidworks.com&quot;,&quot;username&quot;:&quot;shalinmangar&quot;}"> <span class="aui-avatar aui-avatar-small"><span class="aui-avatar-inner"><img src="https://issues.apache.org/jira/secure/useravatar?size=small&amp;avatarId=10452" alt="shalinmangar"></span></span> Shalin Shekhar Mangar </span> </span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
                <ul class="item-details"> 
                 <li> 
                  <dl> 
                   <dt>
                    Votes:
                   </dt> 
                   <dd> 
                    <span id="vote-data" class="aui-badge vote-state-off">0</span> 
                    <span id="vote-label" title="You have to be logged in to vote for an issue.">Vote for this issue</span> 
                   </dd> 
                  </dl> 
                  <dl> 
                   <dt>
                    Watchers:
                   </dt> 
                   <dd> 
                    <span id="watcher-data" class="aui-badge watch-state-off">8</span> 
                    <span id="watch-label" title="You have to be logged in to watch an issue.">Start watching this issue</span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
               </div>
              </div>
              <div id="datesmodule" class="module toggle-wrap">
               <div id="datesmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Dates</h2>
               </div>
               <div class="mod-content"> 
                <ul class="item-details"> 
                 <li> 
                  <dl class="dates"> 
                   <dt>
                    Created:
                   </dt> 
                   <dd class="date user-tz" title="23/Sep/14 17:55"> 
                    <span data-name="Created" id="created-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2014-09-23T17:55:38+0000">23/Sep/14 17:55</time> </span> 
                   </dd> 
                  </dl> 
                  <dl class="dates"> 
                   <dt>
                    Updated:
                   </dt> 
                   <dd class="date user-tz" title="09/May/16 18:46"> 
                    <span data-name="Updated" id="updated-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2016-05-09T18:46:23+0000">09/May/16 18:46</time> </span> 
                   </dd> 
                  </dl> 
                  <dl class="dates"> 
                   <dt>
                    Resolved:
                   </dt> 
                   <dd class="date user-tz" title="18/Dec/14 17:45"> 
                    <span data-name="Resolved" id="resolutiondate-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2014-12-18T17:45:23+0000">18/Dec/14 17:45</time> </span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
               </div>
              </div>
             </div>
            </div>
           </div>
          </div>
         </div>
        </div>
       </div>
      </div>
     </div>
     <!-- .aui-page-panel-inner -->
    </div>
    <!-- .aui-page-panel -->
    <div class="issue-navigator-init"></div> 
   </section> 
   <footer id="footer" role="contentinfo"> 
    <section class="footer-body"> 
     <ul class="atlassian-footer"> 
      <li> Atlassian JIRA <a class="seo-link" rel="nofollow" href="https://www.atlassian.com/software/jira">Project Management Software</a> <span id="footer-build-information">(v7.6.3#76005-<span title="8a4e38d34af948780dbf52044e7aafb13a7cae58" data-commit-id="8a4e38d34af948780dbf52044e7aafb13a7cae58}">sha1:8a4e38d</span>)</span> </li> 
      <li> <a id="about-link" rel="nofollow" href="/jira/secure/AboutPage.jspa/secure/AboutPage.jspa">About JIRA</a> </li> 
      <li> <a id="footer-report-problem-link" rel="nofollow" href="/jira/secure/CreateIssue!default.jspa">Report a problem</a> </li> 
     </ul> 
     <ul class="atlassian-footer"> 
      <li class="licensemessage"> Powered by a free Atlassian <a rel="nofollow" href="http://www.atlassian.com/software/jira">JIRA</a> open source license for n/a, Apache Software Foundation. Try JIRA - <a rel="nofollow" href="http://www.atlassian.com/software/jira">bug tracking software</a> for <i>your</i> team. </li> 
     </ul> 
     <div id="footer-logo">
      <a rel="nofollow" href="http://www.atlassian.com/">Atlassian</a>
     </div> 
    </section> 
    <fieldset class="hidden parameters"> 
     <input type="hidden" title="loggedInUser" value=""> 
     <input type="hidden" title="ajaxTimeout" value="The call to the JIRA server did not complete within the timeout period.  We are unsure of the result of this operation."> 
     <input type="hidden" title="JiraVersion" value="7.6.3"> 
     <input type="hidden" title="ajaxUnauthorised" value="You are not authorised to perform this operation. Please log in."> 
     <input type="hidden" title="baseURL" value="https://issues.apache.org/jira"> 
     <input type="hidden" title="ajaxCommsError" value="The JIRA server could not be contacted. This may be a temporary glitch or the server may be down. "> 
     <input type="hidden" title="ajaxServerError" value="The JIRA server was contacted but has returned an error response. We are unsure of the result of this operation."> 
     <input type="hidden" title="ajaxErrorCloseDialog" value="Close this dialog and press refresh in your browser"> 
     <input type="hidden" title="ajaxErrorDialogHeading" value="Communications Breakdown"> 
     <input type="hidden" title="dirtyMessage" value="You have entered new data on this page. If you navigate away from this page without first saving your data, the changes will be lost."> 
     <input type="hidden" title="dirtyDialogMessage" value="You have entered new data in this dialog. If you navigate away from this dialog without first saving your data, the changes will be lost. Click cancel to return to the dialog."> 
     <input type="hidden" title="keyType" value="Type"> 
     <input type="hidden" title="keyThen" value="then"> 
     <input type="hidden" title="dblClickToExpand" value="Double click to expand"> 
     <input type="hidden" title="actions" value="Actions"> 
     <input type="hidden" title="removeItem" value="Remove"> 
     <input type="hidden" title="workflow" value="Workflow"> 
     <input type="hidden" title="labelNew" value="New Label"> 
     <input type="hidden" title="issueActionsHint" value="Begin typing for available operations or press down to see all"> 
     <input type="hidden" title="closelink" value="Close"> 
     <input type="hidden" title="dotOperations" value="Operations"> 
     <input type="hidden" title="dotLoading" value="Loading..."> 
     <input type="hidden" title="frotherSuggestions" value="Suggestions"> 
     <input type="hidden" title="frotherNomatches" value="No Matches"> 
     <input type="hidden" title="multiselectVersionsError" value="{0} is not a valid version."> 
     <input type="hidden" title="multiselectComponentsError" value="{0} is not a valid component."> 
     <input type="hidden" title="multiselectGenericError" value="The value {0} is invalid."> 
    </fieldset> 
   </footer> 
  </div> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:bigpipe-js/jira.webresources:bigpipe-js.js" data-wrm-key="jira.webresources:bigpipe-js" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["activity-panel-pipe-id"]="\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n    \u003cdiv class=\\\"tabwrap tabs2\\\"\u003e\\n\\n        \u003cul id=\\\"issue-tabs\\\" class=\\\"tabs horizontal\\\"\u003e\\n                                \\n            \u003cli  data-id=\\\"all-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\" data-label=\\\"All\\\" data-href=\\\"\\/jira\\/browse\\/SOLR-6554?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"all-tabpanel\\\" href=\\\"\\/jira\\/browse\\/SOLR-6554?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\"\u003e\u003cstrong\u003eAll\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  class=\\\"active\\\" id=\\\"comment-tabpanel\\\"  data-id=\\\"comment-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel\\\" data-label=\\\"Comments\\\" data-href=\\\"\\/jira\\/browse\\/SOLR-6554?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel\\\"\u003e\\n                            \u003cstrong tabindex=\\\"0\\\"\u003eComments\u003c\\/strong\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"worklog-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\" data-label=\\\"Work Log\\\" data-href=\\\"\\/jira\\/browse\\/SOLR-6554?page=com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"worklog-tabpanel\\\" href=\\\"\\/jira\\/browse\\/SOLR-6554?page=com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\"\u003e\u003cstrong\u003eWork Log\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"changehistory-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\" data-label=\\\"History\\\" data-href=\\\"\\/jira\\/browse\\/SOLR-6554?page=com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"changehistory-tabpanel\\\" href=\\\"\\/jira\\/browse\\/SOLR-6554?page=com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\"\u003e\u003cstrong\u003eHistory\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"activity-stream-issue-tab\\\" data-key=\\\"com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\" data-label=\\\"Activity\\\" data-href=\\\"\\/jira\\/browse\\/SOLR-6554?page=com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"activity-stream-issue-tab\\\" href=\\\"\\/jira\\/browse\\/SOLR-6554?page=com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\"\u003e\u003cstrong\u003eActivity\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"transitions-summary-tabpanel\\\" data-key=\\\"com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\" data-label=\\\"Transitions\\\" data-href=\\\"\\/jira\\/browse\\/SOLR-6554?page=com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"transitions-summary-tabpanel\\\" href=\\\"\\/jira\\/browse\\/SOLR-6554?page=com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\"\u003e\u003cstrong\u003eTransitions\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                \u003c\\/ul\u003e\\n\\n                    \u003cdiv class=\\\"sortwrap\\\"\u003e\\n                                    \u003ca class=\\\"issue-activity-sort-link ajax-activity-content\\\" rel=\\\"nofollow\\\" data-tab-sort data-order=\\\"desc\\\" href=\\\"\\/jira\\/browse\\/SOLR-6554?actionOrder=desc\\\" title=\\\"Ascending order - Click to sort in descending order\\\"\u003e\\n                        \u003cspan class=\\\"aui-icon aui-icon-small aui-iconfont-up\\\"\u003eAscending order - Click to sort in descending order\u003c\\/span\u003e\\n                    \u003c\\/a\u003e\\n                            \u003c\\/div\u003e\\n            \u003c\\/div\u003e\\n    \u003cdiv class=\\\"issuePanelWrapper\\\"\u003e\\n        \u003cdiv class=\\\"issuePanelProgress\\\"\u003e\u003c\\/div\u003e\\n        \u003cdiv class=\\\"issuePanelContainer\\\" id=\\\"issue_actions_container\\\"\u003e\\n                                    \\n\\n\\n\u003cdiv id=\\\"comment-14192573\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6554?focusedCommentId=14192573&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14192573\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"shalinmangar\\\" id=\\\"commentauthor_14192573_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=shalinmangar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"shalinmangar\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shalin Shekhar Mangar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14192573_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'31\\/Oct\\/14 21:56\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-10-31T21:56:36+0000\'\u003e31\\/Oct\\/14 21:56\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI bit the bullet and refactored the overseer to be less of a mess than it is now.\u003c\\/p\u003e\\n\u003col\u003e\\n\\t\u003cli\u003eI grouped the cluster operations into cluster, collection, slice and replica and moved them to their own classes.\u003c\\/li\u003e\\n\\t\u003cli\u003eA new class ZkStateWriter is introduced which uses ZkWriteCommand to update the clusterstate.\u003c\\/li\u003e\\n\\t\u003cli\u003eEach overseer operation returns a ZkWriteCommand\u003c\\/li\u003e\\n\\t\u003cli\u003eThe force update of cluster state is no longer required inside the main overseer loop. It is read once at the start of the loop and then we use ZK compare-and-set to update the cluster states using the versions already read.\u003c\\/li\u003e\\n\\t\u003cli\u003eThe above also means that there is no need to watch every collection with stateFormat &gt; 1 on the overseer node anymore.\u003c\\/li\u003e\\n\u003c\\/ol\u003e\\n\\n\\n\u003cp\u003eTodo\u003c\\/p\u003e\\n\u003col\u003e\\n\\t\u003cli\u003eThere are some nocommits that need to be taken care of.\u003c\\/li\u003e\\n\\t\u003cli\u003eImplement batching for collections with stateFormat &gt; 1\u003c\\/li\u003e\\n\\t\u003cli\u003eThere are a few newer operations such as balanceSliceUnique which aren\'t implemented yet so some tests fail.\u003c\\/li\u003e\\n\\t\u003cli\u003eMore cleanup\u003c\\/li\u003e\\n\u003c\\/ol\u003e\\n\\n\\n\u003cp\u003eHere are some performance numbers using the new code vs branch_5x:\u003c\\/p\u003e\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003eOverseer queue size: 20000 state requests\\n\\nstateFormat = 1, With refactoring (trunk)\\n=========================================\\n250962 T13 oasc.OverseerTest.testPerformance Overseer loop finished processing: \\n250964 T13 oasc.OverseerTest.printTimingStats \\t totalTime: 241639.501565\\n250964 T13 oasc.OverseerTest.printTimingStats \\t avgRequestsPerMinute: 0.0041383582263057345\\n250965 T13 oasc.OverseerTest.printTimingStats \\t 5minRateRequestsPerMinute: 0.0\\n250965 T13 oasc.OverseerTest.printTimingStats \\t 15minRateRequestsPerMinute: 0.0\\n250965 T13 oasc.OverseerTest.printTimingStats \\t avgTimePerRequest: 241639.501565\\n250966 T13 oasc.OverseerTest.printTimingStats \\t medianRequestTime: 241639.501565\\n250966 T13 oasc.OverseerTest.printTimingStats \\t 75thPctlRequestTime: 241639.501565\\n250966 T13 oasc.OverseerTest.printTimingStats \\t 95thPctlRequestTime: 241639.501565\\n250966 T13 oasc.OverseerTest.printTimingStats \\t 99thPctlRequestTime: 241639.501565\\n250967 T13 oasc.OverseerTest.printTimingStats \\t 999thPctlRequestTime: 241639.501565\\n250967 T13 oasc.OverseerTest.testPerformance op: am_i_leader, success: 163, failure: 0\\n250967 T13 oasc.OverseerTest.printTimingStats \\t totalTime: 27.778517\\n250967 T13 oasc.OverseerTest.printTimingStats \\t avgRequestsPerMinute: 40.51109030620299\\n250967 T13 oasc.OverseerTest.printTimingStats \\t 5minRateRequestsPerMinute: 60.52909864226439\\n250968 T13 oasc.OverseerTest.printTimingStats \\t 15minRateRequestsPerMinute: 67.32475977643367\\n250968 T13 oasc.OverseerTest.printTimingStats \\t avgTimePerRequest: 0.17042034969325154\\n250968 T13 oasc.OverseerTest.printTimingStats \\t medianRequestTime: 0.127852\\n250968 T13 oasc.OverseerTest.printTimingStats \\t 75thPctlRequestTime: 0.159049\\n250968 T13 oasc.OverseerTest.printTimingStats \\t 95thPctlRequestTime: 0.20707859999999995\\n250968 T13 oasc.OverseerTest.printTimingStats \\t 99thPctlRequestTime: 2.9894586799999168\\n250968 T13 oasc.OverseerTest.printTimingStats \\t 999thPctlRequestTime: 6.591979\\n250968 T13 oasc.OverseerTest.testPerformance op: update_state, success: 161, failure: 0\\n250969 T13 oasc.OverseerTest.printTimingStats \\t totalTime: 105.56181\\n250969 T13 oasc.OverseerTest.printTimingStats \\t avgRequestsPerMinute: 40.02790612569949\\n250969 T13 oasc.OverseerTest.printTimingStats \\t 5minRateRequestsPerMinute: 48.0\\n250969 T13 oasc.OverseerTest.printTimingStats \\t 15minRateRequestsPerMinute: 48.0\\n250970 T13 oasc.OverseerTest.printTimingStats \\t avgTimePerRequest: 0.6556634161490683\\n250970 T13 oasc.OverseerTest.printTimingStats \\t medianRequestTime: 0.57833\\n250970 T13 oasc.OverseerTest.printTimingStats \\t 75thPctlRequestTime: 0.7091475\\n250970 T13 oasc.OverseerTest.printTimingStats \\t 95thPctlRequestTime: 0.9294200000000001\\n250970 T13 oasc.OverseerTest.printTimingStats \\t 99thPctlRequestTime: 3.997095759999999\\n250970 T13 oasc.OverseerTest.printTimingStats \\t 999thPctlRequestTime: 4.075775\\n250971 T13 oasc.OverseerTest.testPerformance op: state, success: 20001, failure: 0\\n250972 T13 oasc.OverseerTest.printTimingStats \\t totalTime: 24677.266392\\n250972 T13 oasc.OverseerTest.printTimingStats \\t avgRequestsPerMinute: 4971.795405166019\\n250972 T13 oasc.OverseerTest.printTimingStats \\t 5minRateRequestsPerMinute: 4190.29864341858\\n250972 T13 oasc.OverseerTest.printTimingStats \\t 15minRateRequestsPerMinute: 3199.6744276725544\\n250972 T13 oasc.OverseerTest.printTimingStats \\t avgTimePerRequest: 1.2338016295185241\\n250973 T13 oasc.OverseerTest.printTimingStats \\t medianRequestTime: 1.1432815\\n250973 T13 oasc.OverseerTest.printTimingStats \\t 75thPctlRequestTime: 1.57099125\\n250973 T13 oasc.OverseerTest.printTimingStats \\t 95thPctlRequestTime: 1.8449494\\n250973 T13 oasc.OverseerTest.printTimingStats \\t 99thPctlRequestTime: 2.155266570000001\\n250973 T13 oasc.OverseerTest.printTimingStats \\t 999thPctlRequestTime: 4.228459292000002\\n\\n\\nstateFormat = 1, Without refactoring (branch_5x):\\n============================================================================================\\n\\n281984 T11 oasc.OverseerTest.testPerformance Overseer loop finished processing: \\n281985 T11 oasc.OverseerTest.printTimingStats \\t totalTime: 256532.804054\\n281986 T11 oasc.OverseerTest.printTimingStats \\t avgRequestsPerMinute: 0.0038981033718983866\\n281986 T11 oasc.OverseerTest.printTimingStats \\t 5minRateRequestsPerMinute: 0.0\\n281986 T11 oasc.OverseerTest.printTimingStats \\t 15minRateRequestsPerMinute: 0.0\\n281987 T11 oasc.OverseerTest.printTimingStats \\t avgTimePerRequest: 256532.804054\\n281987 T11 oasc.OverseerTest.printTimingStats \\t medianRequestTime: 256532.804054\\n281987 T11 oasc.OverseerTest.printTimingStats \\t 75thPctlRequestTime: 256532.804054\\n281988 T11 oasc.OverseerTest.printTimingStats \\t 95thPctlRequestTime: 256532.804054\\n281988 T11 oasc.OverseerTest.printTimingStats \\t 99thPctlRequestTime: 256532.804054\\n281988 T11 oasc.OverseerTest.printTimingStats \\t 999thPctlRequestTime: 256532.804054\\n281989 T11 oasc.OverseerTest.testPerformance op: state, success: 20001, failure: 0\\n281990 T11 oasc.OverseerTest.printTimingStats \\t totalTime: 14883.542675\\n281990 T11 oasc.OverseerTest.printTimingStats \\t avgRequestsPerMinute: 4679.183238623399\\n281990 T11 oasc.OverseerTest.printTimingStats \\t 5minRateRequestsPerMinute: 4042.064261836551\\n281990 T11 oasc.OverseerTest.printTimingStats \\t 15minRateRequestsPerMinute: 3041.931602459868\\n281990 T11 oasc.OverseerTest.printTimingStats \\t avgTimePerRequest: 0.7441399267536623\\n281991 T11 oasc.OverseerTest.printTimingStats \\t medianRequestTime: 0.6902204999999999\\n281991 T11 oasc.OverseerTest.printTimingStats \\t 75thPctlRequestTime: 0.9253057499999999\\n281991 T11 oasc.OverseerTest.printTimingStats \\t 95thPctlRequestTime: 1.0441081499999998\\n281991 T11 oasc.OverseerTest.printTimingStats \\t 99thPctlRequestTime: 1.2398173200000007\\n281991 T11 oasc.OverseerTest.printTimingStats \\t 999thPctlRequestTime: 1.4717788410000001\\n281991 T11 oasc.OverseerTest.testPerformance op: update_state, success: 171, failure: 0\\n281992 T11 oasc.OverseerTest.printTimingStats \\t totalTime: 108.786403\\n281992 T11 oasc.OverseerTest.printTimingStats \\t avgRequestsPerMinute: 40.00714188468187\\n281992 T11 oasc.OverseerTest.printTimingStats \\t 5minRateRequestsPerMinute: 48.0\\n281992 T11 oasc.OverseerTest.printTimingStats \\t 15minRateRequestsPerMinute: 48.0\\n281992 T11 oasc.OverseerTest.printTimingStats \\t avgTimePerRequest: 0.6361777953216374\\n281992 T11 oasc.OverseerTest.printTimingStats \\t medianRequestTime: 0.615385\\n281992 T11 oasc.OverseerTest.printTimingStats \\t 75thPctlRequestTime: 0.731113\\n281992 T11 oasc.OverseerTest.printTimingStats \\t 95thPctlRequestTime: 0.8640954000000003\\n281993 T11 oasc.OverseerTest.printTimingStats \\t 99thPctlRequestTime: 2.1159375600000034\\n281993 T11 oasc.OverseerTest.printTimingStats \\t 999thPctlRequestTime: 4.361583\\n281993 T11 oasc.OverseerTest.testPerformance op: am_i_leader, success: 172, failure: 0\\n281993 T11 oasc.OverseerTest.printTimingStats \\t totalTime: 23.880482\\n281993 T11 oasc.OverseerTest.printTimingStats \\t avgRequestsPerMinute: 40.23061331599097\\n281993 T11 oasc.OverseerTest.printTimingStats \\t 5minRateRequestsPerMinute: 60.11834593132536\\n281994 T11 oasc.OverseerTest.printTimingStats \\t 15minRateRequestsPerMinute: 67.11122870391561\\n281994 T11 oasc.OverseerTest.printTimingStats \\t avgTimePerRequest: 0.13884001162790696\\n281994 T11 oasc.OverseerTest.printTimingStats \\t medianRequestTime: 0.14114549999999998\\n281994 T11 oasc.OverseerTest.printTimingStats \\t 75thPctlRequestTime: 0.1714525\\n281994 T11 oasc.OverseerTest.printTimingStats \\t 95thPctlRequestTime: 0.24251024999999998\\n281994 T11 oasc.OverseerTest.printTimingStats \\t 99thPctlRequestTime: 0.2920699700000001\\n281994 T11 oasc.OverseerTest.printTimingStats \\t 999thPctlRequestTime: 0.303612\\n\\n\\nstateFormat = 2, 10 collections, With refactoring (trunk):\\n===========================================================\\n359321 T13 oasc.OverseerTest.testPerformance Overseer loop finished processing: \\n359322 T13 oasc.OverseerTest.printTimingStats \\t totalTime: 336222.016107\\n359323 T13 oasc.OverseerTest.printTimingStats \\t avgRequestsPerMinute: 0.0029742060387324683\\n359323 T13 oasc.OverseerTest.printTimingStats \\t 5minRateRequestsPerMinute: 0.0\\n359323 T13 oasc.OverseerTest.printTimingStats \\t 15minRateRequestsPerMinute: 0.0\\n359324 T13 oasc.OverseerTest.printTimingStats \\t avgTimePerRequest: 336222.016107\\n359324 T13 oasc.OverseerTest.printTimingStats \\t medianRequestTime: 336222.016107\\n359324 T13 oasc.OverseerTest.printTimingStats \\t 75thPctlRequestTime: 336222.016107\\n359325 T13 oasc.OverseerTest.printTimingStats \\t 95thPctlRequestTime: 336222.016107\\n359325 T13 oasc.OverseerTest.printTimingStats \\t 99thPctlRequestTime: 336222.016107\\n359325 T13 oasc.OverseerTest.printTimingStats \\t 999thPctlRequestTime: 336222.016107\\n359325 T13 oasc.OverseerTest.testPerformance op: am_i_leader, success: 19898, failure: 0\\n359326 T13 oasc.OverseerTest.printTimingStats \\t totalTime: 2910.821076\\n359326 T13 oasc.OverseerTest.printTimingStats \\t avgRequestsPerMinute: 3551.0282475508393\\n359326 T13 oasc.OverseerTest.printTimingStats \\t 5minRateRequestsPerMinute: 3007.215001818593\\n359327 T13 oasc.OverseerTest.printTimingStats \\t 15minRateRequestsPerMinute: 1628.5124596704984\\n359327 T13 oasc.OverseerTest.printTimingStats \\t avgTimePerRequest: 0.14628711810232184\\n359327 T13 oasc.OverseerTest.printTimingStats \\t medianRequestTime: 0.127051\\n359327 T13 oasc.OverseerTest.printTimingStats \\t 75thPctlRequestTime: 0.16182850000000001\\n359327 T13 oasc.OverseerTest.printTimingStats \\t 95thPctlRequestTime: 0.22852089999999997\\n359327 T13 oasc.OverseerTest.printTimingStats \\t 99thPctlRequestTime: 0.30072901000000013\\n359327 T13 oasc.OverseerTest.printTimingStats \\t 999thPctlRequestTime: 1.135954577000003\\n359327 T13 oasc.OverseerTest.testPerformance op: update_state, success: 19896, failure: 0\\n359328 T13 oasc.OverseerTest.printTimingStats \\t totalTime: 14968.90839\\n359328 T13 oasc.OverseerTest.printTimingStats \\t avgRequestsPerMinute: 3551.180599528965\\n359329 T13 oasc.OverseerTest.printTimingStats \\t 5minRateRequestsPerMinute: 3006.8437316469813\\n359329 T13 oasc.OverseerTest.printTimingStats \\t 15minRateRequestsPerMinute: 1628.3818327713007\\n359329 T13 oasc.OverseerTest.printTimingStats \\t avgTimePerRequest: 0.7523576794330519\\n359329 T13 oasc.OverseerTest.printTimingStats \\t medianRequestTime: 0.7057765\\n359329 T13 oasc.OverseerTest.printTimingStats \\t 75thPctlRequestTime: 0.8617165\\n359329 T13 oasc.OverseerTest.printTimingStats \\t 95thPctlRequestTime: 1.03365505\\n359329 T13 oasc.OverseerTest.printTimingStats \\t 99thPctlRequestTime: 1.1740241200000008\\n359329 T13 oasc.OverseerTest.printTimingStats \\t 999thPctlRequestTime: 4.014327310000006\\n359330 T13 oasc.OverseerTest.testPerformance op: state, success: 20001, failure: 0\\n359330 T13 oasc.OverseerTest.printTimingStats \\t totalTime: 25670.317603\\n359330 T13 oasc.OverseerTest.printTimingStats \\t avgRequestsPerMinute: 3572.411123496283\\n359330 T13 oasc.OverseerTest.printTimingStats \\t 5minRateRequestsPerMinute: 3451.4741046935114\\n359331 T13 oasc.OverseerTest.printTimingStats \\t 15minRateRequestsPerMinute: 2559.18706643615\\n359331 T13 oasc.OverseerTest.printTimingStats \\t avgTimePerRequest: 1.2834517075646217\\n359331 T13 oasc.OverseerTest.printTimingStats \\t medianRequestTime: 1.2092995\\n359331 T13 oasc.OverseerTest.printTimingStats \\t 75thPctlRequestTime: 1.59053175\\n359331 T13 oasc.OverseerTest.printTimingStats \\t 95thPctlRequestTime: 1.8313089999999999\\n359331 T13 oasc.OverseerTest.printTimingStats \\t 99thPctlRequestTime: 2.0310246800000007\\n359331 T13 oasc.OverseerTest.printTimingStats \\t 999thPctlRequestTime: 2.4514601340000004\\n\\n\\nstateFormat = 2, 10 collections, Without refactoring (branch_5x):\\n=================================================================\\n\\n408300 T11 oasc.OverseerTest.testPerformance Overseer loop finished processing: \\n408302 T11 oasc.OverseerTest.printTimingStats \\t totalTime: 384185.906373\\n408302 T11 oasc.OverseerTest.printTimingStats \\t avgRequestsPerMinute: 0.0026028952612532213\\n408302 T11 oasc.OverseerTest.printTimingStats \\t 5minRateRequestsPerMinute: 0.0\\n408302 T11 oasc.OverseerTest.printTimingStats \\t 15minRateRequestsPerMinute: 0.0\\n408303 T11 oasc.OverseerTest.printTimingStats \\t avgTimePerRequest: 384185.906373\\n408303 T11 oasc.OverseerTest.printTimingStats \\t medianRequestTime: 384185.906373\\n408303 T11 oasc.OverseerTest.printTimingStats \\t 75thPctlRequestTime: 384185.906373\\n408303 T11 oasc.OverseerTest.printTimingStats \\t 95thPctlRequestTime: 384185.906373\\n408303 T11 oasc.OverseerTest.printTimingStats \\t 99thPctlRequestTime: 384185.906373\\n408304 T11 oasc.OverseerTest.printTimingStats \\t 999thPctlRequestTime: 384185.906373\\n408304 T11 oasc.OverseerTest.testPerformance op: state, success: 20001, failure: 0\\n408306 T11 oasc.OverseerTest.printTimingStats \\t totalTime: 37886.743042\\n408306 T11 oasc.OverseerTest.printTimingStats \\t avgRequestsPerMinute: 3127.565044455818\\n408306 T11 oasc.OverseerTest.printTimingStats \\t 5minRateRequestsPerMinute: 3017.721755102994\\n408307 T11 oasc.OverseerTest.printTimingStats \\t 15minRateRequestsPerMinute: 2191.9117215274555\\n408307 T11 oasc.OverseerTest.printTimingStats \\t avgTimePerRequest: 1.8942424399780011\\n408307 T11 oasc.OverseerTest.printTimingStats \\t medianRequestTime: 1.805034\\n408307 T11 oasc.OverseerTest.printTimingStats \\t 75thPctlRequestTime: 2.33467975\\n408307 T11 oasc.OverseerTest.printTimingStats \\t 95thPctlRequestTime: 2.72064335\\n408308 T11 oasc.OverseerTest.printTimingStats \\t 99thPctlRequestTime: 3.380797200000005\\n408308 T11 oasc.OverseerTest.printTimingStats \\t 999thPctlRequestTime: 6.764998426000004\\n408308 T11 oasc.OverseerTest.testPerformance op: update_state, success: 20011, failure: 0\\n408310 T11 oasc.OverseerTest.printTimingStats \\t totalTime: 15664.348411\\n408310 T11 oasc.OverseerTest.printTimingStats \\t avgRequestsPerMinute: 3125.8333680772357\\n408310 T11 oasc.OverseerTest.printTimingStats \\t 5minRateRequestsPerMinute: 3008.770952686416\\n408311 T11 oasc.OverseerTest.printTimingStats \\t 15minRateRequestsPerMinute: 2188.5152728989856\\n408311 T11 oasc.OverseerTest.printTimingStats \\t avgTimePerRequest: 0.782786887761731\\n408311 T11 oasc.OverseerTest.printTimingStats \\t medianRequestTime: 0.7298905\\n408311 T11 oasc.OverseerTest.printTimingStats \\t 75thPctlRequestTime: 0.8860805\\n408311 T11 oasc.OverseerTest.printTimingStats \\t 95thPctlRequestTime: 1.0464787999999998\\n408312 T11 oasc.OverseerTest.printTimingStats \\t 99thPctlRequestTime: 1.2055892300000004\\n408312 T11 oasc.OverseerTest.printTimingStats \\t 999thPctlRequestTime: 4.504650318000003\\n408312 T11 oasc.OverseerTest.testPerformance op: am_i_leader, success: 20013, failure: 0\\n408313 T11 oasc.OverseerTest.printTimingStats \\t totalTime: 3008.698855\\n408313 T11 oasc.OverseerTest.printTimingStats \\t avgRequestsPerMinute: 3125.585466114684\\n408313 T11 oasc.OverseerTest.printTimingStats \\t 5minRateRequestsPerMinute: 3006.128012707961\\n408313 T11 oasc.OverseerTest.printTimingStats \\t 15minRateRequestsPerMinute: 2187.5621767051953\\n408314 T11 oasc.OverseerTest.printTimingStats \\t avgTimePerRequest: 0.15033722355468945\\n408314 T11 oasc.OverseerTest.printTimingStats \\t medianRequestTime: 0.1373615\\n408314 T11 oasc.OverseerTest.printTimingStats \\t 75thPctlRequestTime: 0.17162775\\n408314 T11 oasc.OverseerTest.printTimingStats \\t 95thPctlRequestTime: 0.23810549999999997\\n408314 T11 oasc.OverseerTest.printTimingStats \\t 99thPctlRequestTime: 0.28888714000000004\\n408314 T11 oasc.OverseerTest.printTimingStats \\t 999thPctlRequestTime: 0.36018958200000006\\n\\n\\nstateFormat = 2, 100 collections, With refactoring (trunk):\\n===========================================================\\n353683 T13 oasc.OverseerTest.testPerformance Overseer loop finished processing: \\n353685 T13 oasc.OverseerTest.printTimingStats \\t totalTime: 344294.509037\\n353686 T13 oasc.OverseerTest.printTimingStats \\t avgRequestsPerMinute: 0.0029044719408401407\\n353686 T13 oasc.OverseerTest.printTimingStats \\t 5minRateRequestsPerMinute: 0.0\\n353686 T13 oasc.OverseerTest.printTimingStats \\t 15minRateRequestsPerMinute: 0.0\\n353687 T13 oasc.OverseerTest.printTimingStats \\t avgTimePerRequest: 344294.509037\\n353687 T13 oasc.OverseerTest.printTimingStats \\t medianRequestTime: 344294.509037\\n353687 T13 oasc.OverseerTest.printTimingStats \\t 75thPctlRequestTime: 344294.509037\\n353687 T13 oasc.OverseerTest.printTimingStats \\t 95thPctlRequestTime: 344294.509037\\n353688 T13 oasc.OverseerTest.printTimingStats \\t 99thPctlRequestTime: 344294.509037\\n353688 T13 oasc.OverseerTest.printTimingStats \\t 999thPctlRequestTime: 344294.509037\\n353688 T13 oasc.OverseerTest.testPerformance op: am_i_leader, success: 19908, failure: 0\\n353690 T13 oasc.OverseerTest.printTimingStats \\t totalTime: 2899.55199\\n353690 T13 oasc.OverseerTest.printTimingStats \\t avgRequestsPerMinute: 3471.041899147638\\n353690 T13 oasc.OverseerTest.printTimingStats \\t 5minRateRequestsPerMinute: 2696.4544094117955\\n353690 T13 oasc.OverseerTest.printTimingStats \\t 15minRateRequestsPerMinute: 1206.322204620017\\n353690 T13 oasc.OverseerTest.printTimingStats \\t avgTimePerRequest: 0.1456475783604581\\n353691 T13 oasc.OverseerTest.printTimingStats \\t medianRequestTime: 0.1307565\\n353691 T13 oasc.OverseerTest.printTimingStats \\t 75thPctlRequestTime: 0.16647275\\n353691 T13 oasc.OverseerTest.printTimingStats \\t 95thPctlRequestTime: 0.24111169999999996\\n353691 T13 oasc.OverseerTest.printTimingStats \\t 99thPctlRequestTime: 0.29323824000000015\\n353691 T13 oasc.OverseerTest.printTimingStats \\t 999thPctlRequestTime: 2.1718927580000065\\n353691 T13 oasc.OverseerTest.testPerformance op: update_state, success: 19906, failure: 0\\n353693 T13 oasc.OverseerTest.printTimingStats \\t totalTime: 16055.477415\\n353693 T13 oasc.OverseerTest.printTimingStats \\t avgRequestsPerMinute: 3471.500723620727\\n353693 T13 oasc.OverseerTest.printTimingStats \\t 5minRateRequestsPerMinute: 2706.077181788675\\n353693 T13 oasc.OverseerTest.printTimingStats \\t 15minRateRequestsPerMinute: 1216.7129526167616\\n353693 T13 oasc.OverseerTest.printTimingStats \\t avgTimePerRequest: 0.8065647249572993\\n353694 T13 oasc.OverseerTest.printTimingStats \\t medianRequestTime: 0.7490195\\n353694 T13 oasc.OverseerTest.printTimingStats \\t 75thPctlRequestTime: 0.93685775\\n353694 T13 oasc.OverseerTest.printTimingStats \\t 95thPctlRequestTime: 1.1227754\\n353694 T13 oasc.OverseerTest.printTimingStats \\t 99thPctlRequestTime: 1.2775636000000001\\n353694 T13 oasc.OverseerTest.printTimingStats \\t 999thPctlRequestTime: 5.825008328000003\\n353694 T13 oasc.OverseerTest.testPerformance op: state, success: 20001, failure: 0\\n353695 T13 oasc.OverseerTest.printTimingStats \\t totalTime: 28055.800755\\n353695 T13 oasc.OverseerTest.printTimingStats \\t avgRequestsPerMinute: 3509.7301625656414\\n353696 T13 oasc.OverseerTest.printTimingStats \\t 5minRateRequestsPerMinute: 3387.1127858679465\\n353696 T13 oasc.OverseerTest.printTimingStats \\t 15minRateRequestsPerMinute: 2517.7854888232214\\n353696 T13 oasc.OverseerTest.printTimingStats \\t avgTimePerRequest: 1.4027199017549121\\n353696 T13 oasc.OverseerTest.printTimingStats \\t medianRequestTime: 1.283997\\n353696 T13 oasc.OverseerTest.printTimingStats \\t 75thPctlRequestTime: 1.751609\\n353696 T13 oasc.OverseerTest.printTimingStats \\t 95thPctlRequestTime: 1.98747225\\n353697 T13 oasc.OverseerTest.printTimingStats \\t 99thPctlRequestTime: 2.2288728700000013\\n353697 T13 oasc.OverseerTest.printTimingStats \\t 999thPctlRequestTime: 2.677476075\\n\\n\\nstateFormat = 2, 100 collections, Without refactoring (branch_5x):\\n==================================================================\\n642467 T11 oasc.OverseerTest.testPerformance Overseer loop finished processing: \\n642468 T11 oasc.OverseerTest.printTimingStats \\t totalTime: 592456.582081\\n642471 T11 oasc.OverseerTest.printTimingStats \\t avgRequestsPerMinute: 0.0016878842331991438\\n642471 T11 oasc.OverseerTest.printTimingStats \\t 5minRateRequestsPerMinute: 0.0\\n642471 T11 oasc.OverseerTest.printTimingStats \\t 15minRateRequestsPerMinute: 0.0\\n642471 T11 oasc.OverseerTest.printTimingStats \\t avgTimePerRequest: 592456.582081\\n642471 T11 oasc.OverseerTest.printTimingStats \\t medianRequestTime: 592456.582081\\n642471 T11 oasc.OverseerTest.printTimingStats \\t 75thPctlRequestTime: 592456.582081\\n642471 T11 oasc.OverseerTest.printTimingStats \\t 95thPctlRequestTime: 592456.582081\\n642472 T11 oasc.OverseerTest.printTimingStats \\t 99thPctlRequestTime: 592456.582081\\n642472 T11 oasc.OverseerTest.printTimingStats \\t 999thPctlRequestTime: 592456.582081\\n642472 T11 oasc.OverseerTest.testPerformance op: state, success: 20001, failure: 0\\n642473 T11 oasc.OverseerTest.printTimingStats \\t totalTime: 38316.042986\\n642473 T11 oasc.OverseerTest.printTimingStats \\t avgRequestsPerMinute: 2039.7101580674453\\n642473 T11 oasc.OverseerTest.printTimingStats \\t 5minRateRequestsPerMinute: 2225.3413952254627\\n642473 T11 oasc.OverseerTest.printTimingStats \\t 15minRateRequestsPerMinute: 1666.2656764044962\\n642474 T11 oasc.OverseerTest.printTimingStats \\t avgTimePerRequest: 1.9157063639818008\\n642474 T11 oasc.OverseerTest.printTimingStats \\t medianRequestTime: 1.9428355\\n642474 T11 oasc.OverseerTest.printTimingStats \\t 75thPctlRequestTime: 2.363384\\n642474 T11 oasc.OverseerTest.printTimingStats \\t 95thPctlRequestTime: 2.6738654\\n642474 T11 oasc.OverseerTest.printTimingStats \\t 99thPctlRequestTime: 2.9951339600000004\\n642474 T11 oasc.OverseerTest.printTimingStats \\t 999thPctlRequestTime: 4.165273211000003\\n642474 T11 oasc.OverseerTest.testPerformance op: update_state, success: 20101, failure: 0\\n642475 T11 oasc.OverseerTest.printTimingStats \\t totalTime: 16713.560223\\n642476 T11 oasc.OverseerTest.printTimingStats \\t avgRequestsPerMinute: 2035.9152283337185\\n642476 T11 oasc.OverseerTest.printTimingStats \\t 5minRateRequestsPerMinute: 2256.420345106015\\n642476 T11 oasc.OverseerTest.printTimingStats \\t 15minRateRequestsPerMinute: 1779.6120090712736\\n642476 T11 oasc.OverseerTest.printTimingStats \\t avgTimePerRequest: 0.8314790419879609\\n642476 T11 oasc.OverseerTest.printTimingStats \\t medianRequestTime: 0.800087\\n642476 T11 oasc.OverseerTest.printTimingStats \\t 75thPctlRequestTime: 0.92331125\\n642476 T11 oasc.OverseerTest.printTimingStats \\t 95thPctlRequestTime: 1.08387195\\n642476 T11 oasc.OverseerTest.printTimingStats \\t 99thPctlRequestTime: 1.1850831800000001\\n642476 T11 oasc.OverseerTest.printTimingStats \\t 999thPctlRequestTime: 1.7994323630000015\\n642477 T11 oasc.OverseerTest.testPerformance op: am_i_leader, success: 20103, failure: 0\\n642478 T11 oasc.OverseerTest.printTimingStats \\t totalTime: 3164.627444\\n642478 T11 oasc.OverseerTest.printTimingStats \\t avgRequestsPerMinute: 2035.9212322908609\\n642478 T11 oasc.OverseerTest.printTimingStats \\t 5minRateRequestsPerMinute: 2258.1746414754753\\n642478 T11 oasc.OverseerTest.printTimingStats \\t 15minRateRequestsPerMinute: 1785.9179009788268\\n642478 T11 oasc.OverseerTest.printTimingStats \\t avgTimePerRequest: 0.15742065582251405\\n642478 T11 oasc.OverseerTest.printTimingStats \\t medianRequestTime: 0.141227\\n642478 T11 oasc.OverseerTest.printTimingStats \\t 75thPctlRequestTime: 0.17663375\\n642479 T11 oasc.OverseerTest.printTimingStats \\t 95thPctlRequestTime: 0.23308624999999997\\n642479 T11 oasc.OverseerTest.printTimingStats \\t 99thPctlRequestTime: 0.31163878\\n642479 T11 oasc.OverseerTest.printTimingStats \\t 999thPctlRequestTime: 4.382885935000004\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003eFor the worst case (100 collections with stateFormat=2), processing time went down from 592456ms to 344294ms.\u003c\\/p\u003e\\n\\n\u003cp\u003eThe state processing time has gone up in my patch which I\'ll fix.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"shalinmangar\\\" id=\\\"commentauthor_14192573_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=shalinmangar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"shalinmangar\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shalin Shekhar Mangar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14192573_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'31\\/Oct\\/14 21:56\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-10-31T21:56:36+0000\'\u003e31\\/Oct\\/14 21:56\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I bit the bullet and refactored the overseer to be less of a mess than it is now. \\n \\n\\t I grouped the cluster operations into cluster, collection, slice and replica and moved them to their own classes. \\n\\t A new class ZkStateWriter is introduced which uses ZkWriteCommand to update the clusterstate. \\n\\t Each overseer operation returns a ZkWriteCommand \\n\\t The force update of cluster state is no longer required inside the main overseer loop. It is read once at the start of the loop and then we use ZK compare-and-set to update the cluster states using the versions already read. \\n\\t The above also means that there is no need to watch every collection with stateFormat &gt; 1 on the overseer node anymore. \\n \\n\\n\\n Todo \\n \\n\\t There are some nocommits that need to be taken care of. \\n\\t Implement batching for collections with stateFormat &gt; 1 \\n\\t There are a few newer operations such as balanceSliceUnique which aren\'t implemented yet so some tests fail. \\n\\t More cleanup \\n \\n\\n\\n Here are some performance numbers using the new code vs branch_5x: \\n  \\n Overseer queue size: 20000 state requests\\n\\nstateFormat = 1, With refactoring (trunk)\\n=========================================\\n250962 T13 oasc.OverseerTest.testPerformance Overseer loop finished processing: \\n250964 T13 oasc.OverseerTest.printTimingStats \\t totalTime: 241639.501565\\n250964 T13 oasc.OverseerTest.printTimingStats \\t avgRequestsPerMinute: 0.0041383582263057345\\n250965 T13 oasc.OverseerTest.printTimingStats \\t 5minRateRequestsPerMinute: 0.0\\n250965 T13 oasc.OverseerTest.printTimingStats \\t 15minRateRequestsPerMinute: 0.0\\n250965 T13 oasc.OverseerTest.printTimingStats \\t avgTimePerRequest: 241639.501565\\n250966 T13 oasc.OverseerTest.printTimingStats \\t medianRequestTime: 241639.501565\\n250966 T13 oasc.OverseerTest.printTimingStats \\t 75thPctlRequestTime: 241639.501565\\n250966 T13 oasc.OverseerTest.printTimingStats \\t 95thPctlRequestTime: 241639.501565\\n250966 T13 oasc.OverseerTest.printTimingStats \\t 99thPctlRequestTime: 241639.501565\\n250967 T13 oasc.OverseerTest.printTimingStats \\t 999thPctlRequestTime: 241639.501565\\n250967 T13 oasc.OverseerTest.testPerformance op: am_i_leader, success: 163, failure: 0\\n250967 T13 oasc.OverseerTest.printTimingStats \\t totalTime: 27.778517\\n250967 T13 oasc.OverseerTest.printTimingStats \\t avgRequestsPerMinute: 40.51109030620299\\n250967 T13 oasc.OverseerTest.printTimingStats \\t 5minRateRequestsPerMinute: 60.52909864226439\\n250968 T13 oasc.OverseerTest.printTimingStats \\t 15minRateRequestsPerMinute: 67.32475977643367\\n250968 T13 oasc.OverseerTest.printTimingStats \\t avgTimePerRequest: 0.17042034969325154\\n250968 T13 oasc.OverseerTest.printTimingStats \\t medianRequestTime: 0.127852\\n250968 T13 oasc.OverseerTest.printTimingStats \\t 75thPctlRequestTime: 0.159049\\n250968 T13 oasc.OverseerTest.printTimingStats \\t 95thPctlRequestTime: 0.20707859999999995\\n250968 T13 oasc.OverseerTest.printTimingStats \\t 99thPctlRequestTime: 2.9894586799999168\\n250968 T13 oasc.OverseerTest.printTimingStats \\t 999thPctlRequestTime: 6.591979\\n250968 T13 oasc.OverseerTest.testPerformance op: update_state, success: 161, failure: 0\\n250969 T13 oasc.OverseerTest.printTimingStats \\t totalTime: 105.56181\\n250969 T13 oasc.OverseerTest.printTimingStats \\t avgRequestsPerMinute: 40.02790612569949\\n250969 T13 oasc.OverseerTest.printTimingStats \\t 5minRateRequestsPerMinute: 48.0\\n250969 T13 oasc.OverseerTest.printTimingStats \\t 15minRateRequestsPerMinute: 48.0\\n250970 T13 oasc.OverseerTest.printTimingStats \\t avgTimePerRequest: 0.6556634161490683\\n250970 T13 oasc.OverseerTest.printTimingStats \\t medianRequestTime: 0.57833\\n250970 T13 oasc.OverseerTest.printTimingStats \\t 75thPctlRequestTime: 0.7091475\\n250970 T13 oasc.OverseerTest.printTimingStats \\t 95thPctlRequestTime: 0.9294200000000001\\n250970 T13 oasc.OverseerTest.printTimingStats \\t 99thPctlRequestTime: 3.997095759999999\\n250970 T13 oasc.OverseerTest.printTimingStats \\t 999thPctlRequestTime: 4.075775\\n250971 T13 oasc.OverseerTest.testPerformance op: state, success: 20001, failure: 0\\n250972 T13 oasc.OverseerTest.printTimingStats \\t totalTime: 24677.266392\\n250972 T13 oasc.OverseerTest.printTimingStats \\t avgRequestsPerMinute: 4971.795405166019\\n250972 T13 oasc.OverseerTest.printTimingStats \\t 5minRateRequestsPerMinute: 4190.29864341858\\n250972 T13 oasc.OverseerTest.printTimingStats \\t 15minRateRequestsPerMinute: 3199.6744276725544\\n250972 T13 oasc.OverseerTest.printTimingStats \\t avgTimePerRequest: 1.2338016295185241\\n250973 T13 oasc.OverseerTest.printTimingStats \\t medianRequestTime: 1.1432815\\n250973 T13 oasc.OverseerTest.printTimingStats \\t 75thPctlRequestTime: 1.57099125\\n250973 T13 oasc.OverseerTest.printTimingStats \\t 95thPctlRequestTime: 1.8449494\\n250973 T13 oasc.OverseerTest.printTimingStats \\t 99thPctlRequestTime: 2.155266570000001\\n250973 T13 oasc.OverseerTest.printTimingStats \\t 999thPctlRequestTime: 4.228459292000002\\n\\n\\nstateFormat = 1, Without refactoring (branch_5x):\\n============================================================================================\\n\\n281984 T11 oasc.OverseerTest.testPerformance Overseer loop finished processing: \\n281985 T11 oasc.OverseerTest.printTimingStats \\t totalTime: 256532.804054\\n281986 T11 oasc.OverseerTest.printTimingStats \\t avgRequestsPerMinute: 0.0038981033718983866\\n281986 T11 oasc.OverseerTest.printTimingStats \\t 5minRateRequestsPerMinute: 0.0\\n281986 T11 oasc.OverseerTest.printTimingStats \\t 15minRateRequestsPerMinute: 0.0\\n281987 T11 oasc.OverseerTest.printTimingStats \\t avgTimePerRequest: 256532.804054\\n281987 T11 oasc.OverseerTest.printTimingStats \\t medianRequestTime: 256532.804054\\n281987 T11 oasc.OverseerTest.printTimingStats \\t 75thPctlRequestTime: 256532.804054\\n281988 T11 oasc.OverseerTest.printTimingStats \\t 95thPctlRequestTime: 256532.804054\\n281988 T11 oasc.OverseerTest.printTimingStats \\t 99thPctlRequestTime: 256532.804054\\n281988 T11 oasc.OverseerTest.printTimingStats \\t 999thPctlRequestTime: 256532.804054\\n281989 T11 oasc.OverseerTest.testPerformance op: state, success: 20001, failure: 0\\n281990 T11 oasc.OverseerTest.printTimingStats \\t totalTime: 14883.542675\\n281990 T11 oasc.OverseerTest.printTimingStats \\t avgRequestsPerMinute: 4679.183238623399\\n281990 T11 oasc.OverseerTest.printTimingStats \\t 5minRateRequestsPerMinute: 4042.064261836551\\n281990 T11 oasc.OverseerTest.printTimingStats \\t 15minRateRequestsPerMinute: 3041.931602459868\\n281990 T11 oasc.OverseerTest.printTimingStats \\t avgTimePerRequest: 0.7441399267536623\\n281991 T11 oasc.OverseerTest.printTimingStats \\t medianRequestTime: 0.6902204999999999\\n281991 T11 oasc.OverseerTest.printTimingStats \\t 75thPctlRequestTime: 0.9253057499999999\\n281991 T11 oasc.OverseerTest.printTimingStats \\t 95thPctlRequestTime: 1.0441081499999998\\n281991 T11 oasc.OverseerTest.printTimingStats \\t 99thPctlRequestTime: 1.2398173200000007\\n281991 T11 oasc.OverseerTest.printTimingStats \\t 999thPctlRequestTime: 1.4717788410000001\\n281991 T11 oasc.OverseerTest.testPerformance op: update_state, success: 171, failure: 0\\n281992 T11 oasc.OverseerTest.printTimingStats \\t totalTime: 108.786403\\n281992 T11 oasc.OverseerTest.printTimingStats \\t avgRequestsPerMinute: 40.00714188468187\\n281992 T11 oasc.OverseerTest.printTimingStats \\t 5minRateRequestsPerMinute: 48.0\\n281992 T11 oasc.OverseerTest.printTimingStats \\t 15minRateRequestsPerMinute: 48.0\\n281992 T11 oasc.OverseerTest.printTimingStats \\t avgTimePerRequest: 0.6361777953216374\\n281992 T11 oasc.OverseerTest.printTimingStats \\t medianRequestTime: 0.615385\\n281992 T11 oasc.OverseerTest.printTimingStats \\t 75thPctlRequestTime: 0.731113\\n281992 T11 oasc.OverseerTest.printTimingStats \\t 95thPctlRequestTime: 0.8640954000000003\\n281993 T11 oasc.OverseerTest.printTimingStats \\t 99thPctlRequestTime: 2.1159375600000034\\n281993 T11 oasc.OverseerTest.printTimingStats \\t 999thPctlRequestTime: 4.361583\\n281993 T11 oasc.OverseerTest.testPerformance op: am_i_leader, success: 172, failure: 0\\n281993 T11 oasc.OverseerTest.printTimingStats \\t totalTime: 23.880482\\n281993 T11 oasc.OverseerTest.printTimingStats \\t avgRequestsPerMinute: 40.23061331599097\\n281993 T11 oasc.OverseerTest.printTimingStats \\t 5minRateRequestsPerMinute: 60.11834593132536\\n281994 T11 oasc.OverseerTest.printTimingStats \\t 15minRateRequestsPerMinute: 67.11122870391561\\n281994 T11 oasc.OverseerTest.printTimingStats \\t avgTimePerRequest: 0.13884001162790696\\n281994 T11 oasc.OverseerTest.printTimingStats \\t medianRequestTime: 0.14114549999999998\\n281994 T11 oasc.OverseerTest.printTimingStats \\t 75thPctlRequestTime: 0.1714525\\n281994 T11 oasc.OverseerTest.printTimingStats \\t 95thPctlRequestTime: 0.24251024999999998\\n281994 T11 oasc.OverseerTest.printTimingStats \\t 99thPctlRequestTime: 0.2920699700000001\\n281994 T11 oasc.OverseerTest.printTimingStats \\t 999thPctlRequestTime: 0.303612\\n\\n\\nstateFormat = 2, 10 collections, With refactoring (trunk):\\n===========================================================\\n359321 T13 oasc.OverseerTest.testPerformance Overseer loop finished processing: \\n359322 T13 oasc.OverseerTest.printTimingStats \\t totalTime: 336222.016107\\n359323 T13 oasc.OverseerTest.printTimingStats \\t avgRequestsPerMinute: 0.0029742060387324683\\n359323 T13 oasc.OverseerTest.printTimingStats \\t 5minRateRequestsPerMinute: 0.0\\n359323 T13 oasc.OverseerTest.printTimingStats \\t 15minRateRequestsPerMinute: 0.0\\n359324 T13 oasc.OverseerTest.printTimingStats \\t avgTimePerRequest: 336222.016107\\n359324 T13 oasc.OverseerTest.printTimingStats \\t medianRequestTime: 336222.016107\\n359324 T13 oasc.OverseerTest.printTimingStats \\t 75thPctlRequestTime: 336222.016107\\n359325 T13 oasc.OverseerTest.printTimingStats \\t 95thPctlRequestTime: 336222.016107\\n359325 T13 oasc.OverseerTest.printTimingStats \\t 99thPctlRequestTime: 336222.016107\\n359325 T13 oasc.OverseerTest.printTimingStats \\t 999thPctlRequestTime: 336222.016107\\n359325 T13 oasc.OverseerTest.testPerformance op: am_i_leader, success: 19898, failure: 0\\n359326 T13 oasc.OverseerTest.printTimingStats \\t totalTime: 2910.821076\\n359326 T13 oasc.OverseerTest.printTimingStats \\t avgRequestsPerMinute: 3551.0282475508393\\n359326 T13 oasc.OverseerTest.printTimingStats \\t 5minRateRequestsPerMinute: 3007.215001818593\\n359327 T13 oasc.OverseerTest.printTimingStats \\t 15minRateRequestsPerMinute: 1628.5124596704984\\n359327 T13 oasc.OverseerTest.printTimingStats \\t avgTimePerRequest: 0.14628711810232184\\n359327 T13 oasc.OverseerTest.printTimingStats \\t medianRequestTime: 0.127051\\n359327 T13 oasc.OverseerTest.printTimingStats \\t 75thPctlRequestTime: 0.16182850000000001\\n359327 T13 oasc.OverseerTest.printTimingStats \\t 95thPctlRequestTime: 0.22852089999999997\\n359327 T13 oasc.OverseerTest.printTimingStats \\t 99thPctlRequestTime: 0.30072901000000013\\n359327 T13 oasc.OverseerTest.printTimingStats \\t 999thPctlRequestTime: 1.135954577000003\\n359327 T13 oasc.OverseerTest.testPerformance op: update_state, success: 19896, failure: 0\\n359328 T13 oasc.OverseerTest.printTimingStats \\t totalTime: 14968.90839\\n359328 T13 oasc.OverseerTest.printTimingStats \\t avgRequestsPerMinute: 3551.180599528965\\n359329 T13 oasc.OverseerTest.printTimingStats \\t 5minRateRequestsPerMinute: 3006.8437316469813\\n359329 T13 oasc.OverseerTest.printTimingStats \\t 15minRateRequestsPerMinute: 1628.3818327713007\\n359329 T13 oasc.OverseerTest.printTimingStats \\t avgTimePerRequest: 0.7523576794330519\\n359329 T13 oasc.OverseerTest.printTimingStats \\t medianRequestTime: 0.7057765\\n359329 T13 oasc.OverseerTest.printTimingStats \\t 75thPctlRequestTime: 0.8617165\\n359329 T13 oasc.OverseerTest.printTimingStats \\t 95thPctlRequestTime: 1.03365505\\n359329 T13 oasc.OverseerTest.printTimingStats \\t 99thPctlRequestTime: 1.1740241200000008\\n359329 T13 oasc.OverseerTest.printTimingStats \\t 999thPctlRequestTime: 4.014327310000006\\n359330 T13 oasc.OverseerTest.testPerformance op: state, success: 20001, failure: 0\\n359330 T13 oasc.OverseerTest.printTimingStats \\t totalTime: 25670.317603\\n359330 T13 oasc.OverseerTest.printTimingStats \\t avgRequestsPerMinute: 3572.411123496283\\n359330 T13 oasc.OverseerTest.printTimingStats \\t 5minRateRequestsPerMinute: 3451.4741046935114\\n359331 T13 oasc.OverseerTest.printTimingStats \\t 15minRateRequestsPerMinute: 2559.18706643615\\n359331 T13 oasc.OverseerTest.printTimingStats \\t avgTimePerRequest: 1.2834517075646217\\n359331 T13 oasc.OverseerTest.printTimingStats \\t medianRequestTime: 1.2092995\\n359331 T13 oasc.OverseerTest.printTimingStats \\t 75thPctlRequestTime: 1.59053175\\n359331 T13 oasc.OverseerTest.printTimingStats \\t 95thPctlRequestTime: 1.8313089999999999\\n359331 T13 oasc.OverseerTest.printTimingStats \\t 99thPctlRequestTime: 2.0310246800000007\\n359331 T13 oasc.OverseerTest.printTimingStats \\t 999thPctlRequestTime: 2.4514601340000004\\n\\n\\nstateFormat = 2, 10 collections, Without refactoring (branch_5x):\\n=================================================================\\n\\n408300 T11 oasc.OverseerTest.testPerformance Overseer loop finished processing: \\n408302 T11 oasc.OverseerTest.printTimingStats \\t totalTime: 384185.906373\\n408302 T11 oasc.OverseerTest.printTimingStats \\t avgRequestsPerMinute: 0.0026028952612532213\\n408302 T11 oasc.OverseerTest.printTimingStats \\t 5minRateRequestsPerMinute: 0.0\\n408302 T11 oasc.OverseerTest.printTimingStats \\t 15minRateRequestsPerMinute: 0.0\\n408303 T11 oasc.OverseerTest.printTimingStats \\t avgTimePerRequest: 384185.906373\\n408303 T11 oasc.OverseerTest.printTimingStats \\t medianRequestTime: 384185.906373\\n408303 T11 oasc.OverseerTest.printTimingStats \\t 75thPctlRequestTime: 384185.906373\\n408303 T11 oasc.OverseerTest.printTimingStats \\t 95thPctlRequestTime: 384185.906373\\n408303 T11 oasc.OverseerTest.printTimingStats \\t 99thPctlRequestTime: 384185.906373\\n408304 T11 oasc.OverseerTest.printTimingStats \\t 999thPctlRequestTime: 384185.906373\\n408304 T11 oasc.OverseerTest.testPerformance op: state, success: 20001, failure: 0\\n408306 T11 oasc.OverseerTest.printTimingStats \\t totalTime: 37886.743042\\n408306 T11 oasc.OverseerTest.printTimingStats \\t avgRequestsPerMinute: 3127.565044455818\\n408306 T11 oasc.OverseerTest.printTimingStats \\t 5minRateRequestsPerMinute: 3017.721755102994\\n408307 T11 oasc.OverseerTest.printTimingStats \\t 15minRateRequestsPerMinute: 2191.9117215274555\\n408307 T11 oasc.OverseerTest.printTimingStats \\t avgTimePerRequest: 1.8942424399780011\\n408307 T11 oasc.OverseerTest.printTimingStats \\t medianRequestTime: 1.805034\\n408307 T11 oasc.OverseerTest.printTimingStats \\t 75thPctlRequestTime: 2.33467975\\n408307 T11 oasc.OverseerTest.printTimingStats \\t 95thPctlRequestTime: 2.72064335\\n408308 T11 oasc.OverseerTest.printTimingStats \\t 99thPctlRequestTime: 3.380797200000005\\n408308 T11 oasc.OverseerTest.printTimingStats \\t 999thPctlRequestTime: 6.764998426000004\\n408308 T11 oasc.OverseerTest.testPerformance op: update_state, success: 20011, failure: 0\\n408310 T11 oasc.OverseerTest.printTimingStats \\t totalTime: 15664.348411\\n408310 T11 oasc.OverseerTest.printTimingStats \\t avgRequestsPerMinute: 3125.8333680772357\\n408310 T11 oasc.OverseerTest.printTimingStats \\t 5minRateRequestsPerMinute: 3008.770952686416\\n408311 T11 oasc.OverseerTest.printTimingStats \\t 15minRateRequestsPerMinute: 2188.5152728989856\\n408311 T11 oasc.OverseerTest.printTimingStats \\t avgTimePerRequest: 0.782786887761731\\n408311 T11 oasc.OverseerTest.printTimingStats \\t medianRequestTime: 0.7298905\\n408311 T11 oasc.OverseerTest.printTimingStats \\t 75thPctlRequestTime: 0.8860805\\n408311 T11 oasc.OverseerTest.printTimingStats \\t 95thPctlRequestTime: 1.0464787999999998\\n408312 T11 oasc.OverseerTest.printTimingStats \\t 99thPctlRequestTime: 1.2055892300000004\\n408312 T11 oasc.OverseerTest.printTimingStats \\t 999thPctlRequestTime: 4.504650318000003\\n408312 T11 oasc.OverseerTest.testPerformance op: am_i_leader, success: 20013, failure: 0\\n408313 T11 oasc.OverseerTest.printTimingStats \\t totalTime: 3008.698855\\n408313 T11 oasc.OverseerTest.printTimingStats \\t avgRequestsPerMinute: 3125.585466114684\\n408313 T11 oasc.OverseerTest.printTimingStats \\t 5minRateRequestsPerMinute: 3006.128012707961\\n408313 T11 oasc.OverseerTest.printTimingStats \\t 15minRateRequestsPerMinute: 2187.5621767051953\\n408314 T11 oasc.OverseerTest.printTimingStats \\t avgTimePerRequest: 0.15033722355468945\\n408314 T11 oasc.OverseerTest.printTimingStats \\t medianRequestTime: 0.1373615\\n408314 T11 oasc.OverseerTest.printTimingStats \\t 75thPctlRequestTime: 0.17162775\\n408314 T11 oasc.OverseerTest.printTimingStats \\t 95thPctlRequestTime: 0.23810549999999997\\n408314 T11 oasc.OverseerTest.printTimingStats \\t 99thPctlRequestTime: 0.28888714000000004\\n408314 T11 oasc.OverseerTest.printTimingStats \\t 999thPctlRequestTime: 0.36018958200000006\\n\\n\\nstateFormat = 2, 100 collections, With refactoring (trunk):\\n===========================================================\\n353683 T13 oasc.OverseerTest.testPerformance Overseer loop finished processing: \\n353685 T13 oasc.OverseerTest.printTimingStats \\t totalTime: 344294.509037\\n353686 T13 oasc.OverseerTest.printTimingStats \\t avgRequestsPerMinute: 0.0029044719408401407\\n353686 T13 oasc.OverseerTest.printTimingStats \\t 5minRateRequestsPerMinute: 0.0\\n353686 T13 oasc.OverseerTest.printTimingStats \\t 15minRateRequestsPerMinute: 0.0\\n353687 T13 oasc.OverseerTest.printTimingStats \\t avgTimePerRequest: 344294.509037\\n353687 T13 oasc.OverseerTest.printTimingStats \\t medianRequestTime: 344294.509037\\n353687 T13 oasc.OverseerTest.printTimingStats \\t 75thPctlRequestTime: 344294.509037\\n353687 T13 oasc.OverseerTest.printTimingStats \\t 95thPctlRequestTime: 344294.509037\\n353688 T13 oasc.OverseerTest.printTimingStats \\t 99thPctlRequestTime: 344294.509037\\n353688 T13 oasc.OverseerTest.printTimingStats \\t 999thPctlRequestTime: 344294.509037\\n353688 T13 oasc.OverseerTest.testPerformance op: am_i_leader, success: 19908, failure: 0\\n353690 T13 oasc.OverseerTest.printTimingStats \\t totalTime: 2899.55199\\n353690 T13 oasc.OverseerTest.printTimingStats \\t avgRequestsPerMinute: 3471.041899147638\\n353690 T13 oasc.OverseerTest.printTimingStats \\t 5minRateRequestsPerMinute: 2696.4544094117955\\n353690 T13 oasc.OverseerTest.printTimingStats \\t 15minRateRequestsPerMinute: 1206.322204620017\\n353690 T13 oasc.OverseerTest.printTimingStats \\t avgTimePerRequest: 0.1456475783604581\\n353691 T13 oasc.OverseerTest.printTimingStats \\t medianRequestTime: 0.1307565\\n353691 T13 oasc.OverseerTest.printTimingStats \\t 75thPctlRequestTime: 0.16647275\\n353691 T13 oasc.OverseerTest.printTimingStats \\t 95thPctlRequestTime: 0.24111169999999996\\n353691 T13 oasc.OverseerTest.printTimingStats \\t 99thPctlRequestTime: 0.29323824000000015\\n353691 T13 oasc.OverseerTest.printTimingStats \\t 999thPctlRequestTime: 2.1718927580000065\\n353691 T13 oasc.OverseerTest.testPerformance op: update_state, success: 19906, failure: 0\\n353693 T13 oasc.OverseerTest.printTimingStats \\t totalTime: 16055.477415\\n353693 T13 oasc.OverseerTest.printTimingStats \\t avgRequestsPerMinute: 3471.500723620727\\n353693 T13 oasc.OverseerTest.printTimingStats \\t 5minRateRequestsPerMinute: 2706.077181788675\\n353693 T13 oasc.OverseerTest.printTimingStats \\t 15minRateRequestsPerMinute: 1216.7129526167616\\n353693 T13 oasc.OverseerTest.printTimingStats \\t avgTimePerRequest: 0.8065647249572993\\n353694 T13 oasc.OverseerTest.printTimingStats \\t medianRequestTime: 0.7490195\\n353694 T13 oasc.OverseerTest.printTimingStats \\t 75thPctlRequestTime: 0.93685775\\n353694 T13 oasc.OverseerTest.printTimingStats \\t 95thPctlRequestTime: 1.1227754\\n353694 T13 oasc.OverseerTest.printTimingStats \\t 99thPctlRequestTime: 1.2775636000000001\\n353694 T13 oasc.OverseerTest.printTimingStats \\t 999thPctlRequestTime: 5.825008328000003\\n353694 T13 oasc.OverseerTest.testPerformance op: state, success: 20001, failure: 0\\n353695 T13 oasc.OverseerTest.printTimingStats \\t totalTime: 28055.800755\\n353695 T13 oasc.OverseerTest.printTimingStats \\t avgRequestsPerMinute: 3509.7301625656414\\n353696 T13 oasc.OverseerTest.printTimingStats \\t 5minRateRequestsPerMinute: 3387.1127858679465\\n353696 T13 oasc.OverseerTest.printTimingStats \\t 15minRateRequestsPerMinute: 2517.7854888232214\\n353696 T13 oasc.OverseerTest.printTimingStats \\t avgTimePerRequest: 1.4027199017549121\\n353696 T13 oasc.OverseerTest.printTimingStats \\t medianRequestTime: 1.283997\\n353696 T13 oasc.OverseerTest.printTimingStats \\t 75thPctlRequestTime: 1.751609\\n353696 T13 oasc.OverseerTest.printTimingStats \\t 95thPctlRequestTime: 1.98747225\\n353697 T13 oasc.OverseerTest.printTimingStats \\t 99thPctlRequestTime: 2.2288728700000013\\n353697 T13 oasc.OverseerTest.printTimingStats \\t 999thPctlRequestTime: 2.677476075\\n\\n\\nstateFormat = 2, 100 collections, Without refactoring (branch_5x):\\n==================================================================\\n642467 T11 oasc.OverseerTest.testPerformance Overseer loop finished processing: \\n642468 T11 oasc.OverseerTest.printTimingStats \\t totalTime: 592456.582081\\n642471 T11 oasc.OverseerTest.printTimingStats \\t avgRequestsPerMinute: 0.0016878842331991438\\n642471 T11 oasc.OverseerTest.printTimingStats \\t 5minRateRequestsPerMinute: 0.0\\n642471 T11 oasc.OverseerTest.printTimingStats \\t 15minRateRequestsPerMinute: 0.0\\n642471 T11 oasc.OverseerTest.printTimingStats \\t avgTimePerRequest: 592456.582081\\n642471 T11 oasc.OverseerTest.printTimingStats \\t medianRequestTime: 592456.582081\\n642471 T11 oasc.OverseerTest.printTimingStats \\t 75thPctlRequestTime: 592456.582081\\n642471 T11 oasc.OverseerTest.printTimingStats \\t 95thPctlRequestTime: 592456.582081\\n642472 T11 oasc.OverseerTest.printTimingStats \\t 99thPctlRequestTime: 592456.582081\\n642472 T11 oasc.OverseerTest.printTimingStats \\t 999thPctlRequestTime: 592456.582081\\n642472 T11 oasc.OverseerTest.testPerformance op: state, success: 20001, failure: 0\\n642473 T11 oasc.OverseerTest.printTimingStats \\t totalTime: 38316.042986\\n642473 T11 oasc.OverseerTest.printTimingStats \\t avgRequestsPerMinute: 2039.7101580674453\\n642473 T11 oasc.OverseerTest.printTimingStats \\t 5minRateRequestsPerMinute: 2225.3413952254627\\n642473 T11 oasc.OverseerTest.printTimingStats \\t 15minRateRequestsPerMinute: 1666.2656764044962\\n642474 T11 oasc.OverseerTest.printTimingStats \\t avgTimePerRequest: 1.9157063639818008\\n642474 T11 oasc.OverseerTest.printTimingStats \\t medianRequestTime: 1.9428355\\n642474 T11 oasc.OverseerTest.printTimingStats \\t 75thPctlRequestTime: 2.363384\\n642474 T11 oasc.OverseerTest.printTimingStats \\t 95thPctlRequestTime: 2.6738654\\n642474 T11 oasc.OverseerTest.printTimingStats \\t 99thPctlRequestTime: 2.9951339600000004\\n642474 T11 oasc.OverseerTest.printTimingStats \\t 999thPctlRequestTime: 4.165273211000003\\n642474 T11 oasc.OverseerTest.testPerformance op: update_state, success: 20101, failure: 0\\n642475 T11 oasc.OverseerTest.printTimingStats \\t totalTime: 16713.560223\\n642476 T11 oasc.OverseerTest.printTimingStats \\t avgRequestsPerMinute: 2035.9152283337185\\n642476 T11 oasc.OverseerTest.printTimingStats \\t 5minRateRequestsPerMinute: 2256.420345106015\\n642476 T11 oasc.OverseerTest.printTimingStats \\t 15minRateRequestsPerMinute: 1779.6120090712736\\n642476 T11 oasc.OverseerTest.printTimingStats \\t avgTimePerRequest: 0.8314790419879609\\n642476 T11 oasc.OverseerTest.printTimingStats \\t medianRequestTime: 0.800087\\n642476 T11 oasc.OverseerTest.printTimingStats \\t 75thPctlRequestTime: 0.92331125\\n642476 T11 oasc.OverseerTest.printTimingStats \\t 95thPctlRequestTime: 1.08387195\\n642476 T11 oasc.OverseerTest.printTimingStats \\t 99thPctlRequestTime: 1.1850831800000001\\n642476 T11 oasc.OverseerTest.printTimingStats \\t 999thPctlRequestTime: 1.7994323630000015\\n642477 T11 oasc.OverseerTest.testPerformance op: am_i_leader, success: 20103, failure: 0\\n642478 T11 oasc.OverseerTest.printTimingStats \\t totalTime: 3164.627444\\n642478 T11 oasc.OverseerTest.printTimingStats \\t avgRequestsPerMinute: 2035.9212322908609\\n642478 T11 oasc.OverseerTest.printTimingStats \\t 5minRateRequestsPerMinute: 2258.1746414754753\\n642478 T11 oasc.OverseerTest.printTimingStats \\t 15minRateRequestsPerMinute: 1785.9179009788268\\n642478 T11 oasc.OverseerTest.printTimingStats \\t avgTimePerRequest: 0.15742065582251405\\n642478 T11 oasc.OverseerTest.printTimingStats \\t medianRequestTime: 0.141227\\n642478 T11 oasc.OverseerTest.printTimingStats \\t 75thPctlRequestTime: 0.17663375\\n642479 T11 oasc.OverseerTest.printTimingStats \\t 95thPctlRequestTime: 0.23308624999999997\\n642479 T11 oasc.OverseerTest.printTimingStats \\t 99thPctlRequestTime: 0.31163878\\n642479 T11 oasc.OverseerTest.printTimingStats \\t 999thPctlRequestTime: 4.382885935000004\\n \\n  \\n\\n For the worst case (100 collections with stateFormat=2), processing time went down from 592456ms to 344294ms. \\n\\n The state processing time has gone up in my patch which I\'ll fix.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14193858\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6554?focusedCommentId=14193858&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14193858\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"shalinmangar\\\" id=\\\"commentauthor_14193858_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=shalinmangar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"shalinmangar\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shalin Shekhar Mangar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14193858_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'02\\/Nov\\/14 14:46\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-11-02T14:46:26+0000\'\u003e02\\/Nov\\/14 14:46\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eHere\'s a better patch which takes care of some of the nocommits:\u003c\\/p\u003e\\n\u003col\u003e\\n\\t\u003cli\u003eThe live nodes information is read from the ZkStateReader\'s cluster state because the one in ZkStateWriter\'s cluster state might be stale\u003c\\/li\u003e\\n\\t\u003cli\u003eWe force refresh the clusterstate once at the beginning of the loop and then only if there\'s an error in the main loop.\u003c\\/li\u003e\\n\\t\u003cli\u003eAdded a simple TestClusterStateMutator, I\'ll add more.\u003c\\/li\u003e\\n\u003c\\/ol\u003e\\n\\n\\n\u003cp\u003eI still have a few ideas I\'d like to try.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"shalinmangar\\\" id=\\\"commentauthor_14193858_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=shalinmangar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"shalinmangar\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shalin Shekhar Mangar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14193858_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'02\\/Nov\\/14 14:46\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-11-02T14:46:26+0000\'\u003e02\\/Nov\\/14 14:46\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Here\'s a better patch which takes care of some of the nocommits: \\n \\n\\t The live nodes information is read from the ZkStateReader\'s cluster state because the one in ZkStateWriter\'s cluster state might be stale \\n\\t We force refresh the clusterstate once at the beginning of the loop and then only if there\'s an error in the main loop. \\n\\t Added a simple TestClusterStateMutator, I\'ll add more. \\n \\n\\n\\n I still have a few ideas I\'d like to try.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14203962\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6554?focusedCommentId=14203962&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14203962\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"shalinmangar\\\" id=\\\"commentauthor_14203962_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=shalinmangar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"shalinmangar\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shalin Shekhar Mangar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14203962_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'09\\/Nov\\/14 15:35\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-11-09T15:35:04+0000\'\u003e09\\/Nov\\/14 15:35\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003ePatch updated to trunk.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"shalinmangar\\\" id=\\\"commentauthor_14203962_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=shalinmangar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"shalinmangar\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shalin Shekhar Mangar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14203962_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'09\\/Nov\\/14 15:35\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-11-09T15:35:04+0000\'\u003e09\\/Nov\\/14 15:35\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Patch updated to trunk.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14204829\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6554?focusedCommentId=14204829&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14204829\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"shalinmangar\\\" id=\\\"commentauthor_14204829_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=shalinmangar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"shalinmangar\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shalin Shekhar Mangar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14204829_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'10\\/Nov\\/14 14:37\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-11-10T14:37:33+0000\'\u003e10\\/Nov\\/14 14:37\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003col\u003e\\n\\t\u003cli\u003eRemoved most no-commits (except for the naive performance test in OverseerTest)\u003c\\/li\u003e\\n\\t\u003cli\u003eProcesses the work queue first in case of an error while writing to ZK (most likely a bad version)\u003c\\/li\u003e\\n\\t\u003cli\u003eThe BALANCESLICEUNIQUE tests pass (I just made it work but I didn\'t refactor it into a mutator-like class)\u003c\\/li\u003e\\n\u003c\\/ol\u003e\\n\\n\\n\u003cp\u003eI think we\'re very close. This might be a good time for people to review this patch.\u003c\\/p\u003e\\n\\n\u003cp\u003eI am inclined to remove the separate work queue loop because work queue items are executed in the state update loop anyways. It will just need careful review of the synchronization.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"shalinmangar\\\" id=\\\"commentauthor_14204829_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=shalinmangar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"shalinmangar\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shalin Shekhar Mangar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14204829_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'10\\/Nov\\/14 14:37\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-11-10T14:37:33+0000\'\u003e10\\/Nov\\/14 14:37\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    \\n\\t Removed most no-commits (except for the naive performance test in OverseerTest) \\n\\t Processes the work queue first in case of an error while writing to ZK (most likely a bad version) \\n\\t The BALANCESLICEUNIQUE tests pass (I just made it work but I didn\'t refactor it into a mutator-like class) \\n \\n\\n\\n I think we\'re very close. This might be a good time for people to review this patch. \\n\\n I am inclined to remove the separate work queue loop because work queue items are executed in the state update loop anyways. It will just need careful review of the synchronization.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14225356\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6554?focusedCommentId=14225356&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14225356\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"shalinmangar\\\" id=\\\"commentauthor_14225356_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=shalinmangar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"shalinmangar\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shalin Shekhar Mangar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14225356_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Nov\\/14 23:10\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-11-25T23:10:06+0000\'\u003e25\\/Nov\\/14 23:10\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eUpdated patch to trunk.\u003c\\/p\u003e\\n\\n\u003cp\u003eThere\'s a review request open if someone is interested. See \u003ca href=\\\"https:\\/\\/reviews.apache.org\\/r\\/27872\\/\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttps:\\/\\/reviews.apache.org\\/r\\/27872\\/\u003c\\/a\u003e\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"shalinmangar\\\" id=\\\"commentauthor_14225356_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=shalinmangar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"shalinmangar\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shalin Shekhar Mangar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14225356_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Nov\\/14 23:10\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-11-25T23:10:06+0000\'\u003e25\\/Nov\\/14 23:10\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Updated patch to trunk. \\n\\n There\'s a review request open if someone is interested. See  https:\\/\\/reviews.apache.org\\/r\\/27872\\/               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14225386\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6554?focusedCommentId=14225386&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14225386\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"shalinmangar\\\" id=\\\"commentauthor_14225386_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=shalinmangar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"shalinmangar\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shalin Shekhar Mangar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14225386_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Nov\\/14 23:30\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-11-25T23:30:22+0000\'\u003e25\\/Nov\\/14 23:30\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThere\'s a test failure with the new replica properties feature which I had fixed earlier. Probably something got reverted during the merge. I\'ll take a look tomorrow.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"shalinmangar\\\" id=\\\"commentauthor_14225386_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=shalinmangar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"shalinmangar\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shalin Shekhar Mangar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14225386_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Nov\\/14 23:30\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-11-25T23:30:22+0000\'\u003e25\\/Nov\\/14 23:30\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    There\'s a test failure with the new replica properties feature which I had fixed earlier. Probably something got reverted during the merge. I\'ll take a look tomorrow.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14226005\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6554?focusedCommentId=14226005&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14226005\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"noble.paul\\\" id=\\\"commentauthor_14226005_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=noble.paul\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"noble.paul\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Noble Paul\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14226005_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'26\\/Nov\\/14 10:38\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-11-26T10:38:53+0000\'\u003e26\\/Nov\\/14 10:38\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThis is a much needed refatoring for Overseer. good jo. I have not gotten around to do a full review  but I have seen enough of it and looks good. do we have batching of operations in stateFormat=2 now?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"noble.paul\\\" id=\\\"commentauthor_14226005_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=noble.paul\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"noble.paul\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Noble Paul\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14226005_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'26\\/Nov\\/14 10:38\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-11-26T10:38:53+0000\'\u003e26\\/Nov\\/14 10:38\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    This is a much needed refatoring for Overseer. good jo. I have not gotten around to do a full review  but I have seen enough of it and looks good. do we have batching of operations in stateFormat=2 now?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14228587\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6554?focusedCommentId=14228587&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14228587\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"shalinmangar\\\" id=\\\"commentauthor_14228587_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=shalinmangar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"shalinmangar\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shalin Shekhar Mangar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14228587_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Nov\\/14 01:45\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-11-29T01:45:22+0000\'\u003e29\\/Nov\\/14 01:45\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eHere\'s a patch which passes all tests.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"shalinmangar\\\" id=\\\"commentauthor_14228587_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=shalinmangar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"shalinmangar\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shalin Shekhar Mangar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14228587_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Nov\\/14 01:45\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-11-29T01:45:22+0000\'\u003e29\\/Nov\\/14 01:45\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Here\'s a patch which passes all tests.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14228588\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6554?focusedCommentId=14228588&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14228588\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"shalinmangar\\\" id=\\\"commentauthor_14228588_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=shalinmangar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"shalinmangar\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shalin Shekhar Mangar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14228588_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Nov\\/14 01:46\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-11-29T01:46:23+0000\'\u003e29\\/Nov\\/14 01:46\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThanks for the review Noble. No, it doesn\'t batch stateFormat=2 right now but that\'s easy to add. I\'ll add it in the next patch.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"shalinmangar\\\" id=\\\"commentauthor_14228588_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=shalinmangar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"shalinmangar\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shalin Shekhar Mangar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14228588_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Nov\\/14 01:46\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-11-29T01:46:23+0000\'\u003e29\\/Nov\\/14 01:46\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Thanks for the review Noble. No, it doesn\'t batch stateFormat=2 right now but that\'s easy to add. I\'ll add it in the next patch.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14228781\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6554?focusedCommentId=14228781&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14228781\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"shalinmangar\\\" id=\\\"commentauthor_14228781_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=shalinmangar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"shalinmangar\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shalin Shekhar Mangar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14228781_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Nov\\/14 14:51\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-11-29T14:51:13+0000\'\u003e29\\/Nov\\/14 14:51\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eHere\'s a patch which adds batching of operations for stateFormat=2 as along as the consecutive messages operate on the same collection. It is not possible to preserve atomicity of writes for different collections because they are written to multiple zk nodes.\u003c\\/p\u003e\\n\\n\u003cp\u003eI think this is ready. I\'ll commit this patch to trunk as a checkpoint. But I want to refactor a bit more such that the batching can be encapsulated inside ZkStateWriter further simplifying the overseer loop.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"shalinmangar\\\" id=\\\"commentauthor_14228781_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=shalinmangar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"shalinmangar\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shalin Shekhar Mangar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14228781_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Nov\\/14 14:51\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-11-29T14:51:13+0000\'\u003e29\\/Nov\\/14 14:51\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Here\'s a patch which adds batching of operations for stateFormat=2 as along as the consecutive messages operate on the same collection. It is not possible to preserve atomicity of writes for different collections because they are written to multiple zk nodes. \\n\\n I think this is ready. I\'ll commit this patch to trunk as a checkpoint. But I want to refactor a bit more such that the batching can be encapsulated inside ZkStateWriter further simplifying the overseer loop.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14228784\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6554?focusedCommentId=14228784&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14228784\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"shalinmangar\\\" id=\\\"commentauthor_14228784_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=shalinmangar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"shalinmangar\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shalin Shekhar Mangar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14228784_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Nov\\/14 15:11\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-11-29T15:11:45+0000\'\u003e29\\/Nov\\/14 15:11\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThe last patch had some extra changes to ShardSplitTest which I have removed. I have kept the overseer performance test inside OverseerTest but marked it as ignored. I\'ll commit this shortly.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"shalinmangar\\\" id=\\\"commentauthor_14228784_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=shalinmangar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"shalinmangar\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shalin Shekhar Mangar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14228784_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Nov\\/14 15:11\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-11-29T15:11:45+0000\'\u003e29\\/Nov\\/14 15:11\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    The last patch had some extra changes to ShardSplitTest which I have removed. I have kept the overseer performance test inside OverseerTest but marked it as ignored. I\'ll commit this shortly.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14228785\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6554?focusedCommentId=14228785&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14228785\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"markrmiller@gmail.com\\\" id=\\\"commentauthor_14228785_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=markrmiller%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"markrmiller@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mark Miller\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14228785_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Nov\\/14 15:13\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-11-29T15:13:43+0000\'\u003e29\\/Nov\\/14 15:13\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eIm not following this closely, so perhaps this is no help in this case, but there is a zk multi api call that lets you atomically write multiple zk nodes I believe. \u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"markrmiller@gmail.com\\\" id=\\\"commentauthor_14228785_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=markrmiller%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"markrmiller@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mark Miller\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14228785_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Nov\\/14 15:13\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-11-29T15:13:43+0000\'\u003e29\\/Nov\\/14 15:13\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Im not following this closely, so perhaps this is no help in this case, but there is a zk multi api call that lets you atomically write multiple zk nodes I believe.               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14228786\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6554?focusedCommentId=14228786&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14228786\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"shalinmangar\\\" id=\\\"commentauthor_14228786_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=shalinmangar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"shalinmangar\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shalin Shekhar Mangar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14228786_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Nov\\/14 15:17\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-11-29T15:17:58+0000\'\u003e29\\/Nov\\/14 15:17\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cblockquote\u003e\u003cp\u003eIm not following this closely, so perhaps this is no help in this case, but there is a zk multi api call that lets you atomically write multiple zk nodes I believe.\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003eThat is helpful. I didn\'t know that, thanks! If that is true then we can implement true batching for stateFormat=2 collections like what we have for the main cluster state. I\'ll commit this anyway and work on further changes as a second patch.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"shalinmangar\\\" id=\\\"commentauthor_14228786_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=shalinmangar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"shalinmangar\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shalin Shekhar Mangar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14228786_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Nov\\/14 15:17\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-11-29T15:17:58+0000\'\u003e29\\/Nov\\/14 15:17\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     Im not following this closely, so perhaps this is no help in this case, but there is a zk multi api call that lets you atomically write multiple zk nodes I believe.  \\n\\n That is helpful. I didn\'t know that, thanks! If that is true then we can implement true batching for stateFormat=2 collections like what we have for the main cluster state. I\'ll commit this anyway and work on further changes as a second patch.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14228801\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6554?focusedCommentId=14228801&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14228801\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_14228801_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14228801_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Nov\\/14 15:53\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-11-29T15:53:17+0000\'\u003e29\\/Nov\\/14 15:53\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eCommit 1642437 from shalin@apache.org in branch \'dev\\/trunk\'\u003cbr\\/\u003e\\n[ \u003ca href=\\\"https:\\/\\/svn.apache.org\\/r1642437\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttps:\\/\\/svn.apache.org\\/r1642437\u003c\\/a\u003e ]\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-6554\\\" title=\\\"Speed up overseer operations for collections with stateFormat &gt; 1\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-6554\\\"\u003e\u003cdel\u003eSOLR-6554\u003c\\/del\u003e\u003c\\/a\u003e: Speed up overseer operations\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_14228801_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14228801_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Nov\\/14 15:53\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-11-29T15:53:17+0000\'\u003e29\\/Nov\\/14 15:53\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Commit 1642437 from shalin@apache.org in branch \'dev\\/trunk\' \\n[  https:\\/\\/svn.apache.org\\/r1642437  ] \\n\\n   SOLR-6554  : Speed up overseer operations              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14228809\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6554?focusedCommentId=14228809&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14228809\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_14228809_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14228809_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Nov\\/14 16:08\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-11-29T16:08:09+0000\'\u003e29\\/Nov\\/14 16:08\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eCommit 1642443 from shalin@apache.org in branch \'dev\\/trunk\'\u003cbr\\/\u003e\\n[ \u003ca href=\\\"https:\\/\\/svn.apache.org\\/r1642443\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttps:\\/\\/svn.apache.org\\/r1642443\u003c\\/a\u003e ]\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-6554\\\" title=\\\"Speed up overseer operations for collections with stateFormat &gt; 1\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-6554\\\"\u003e\u003cdel\u003eSOLR-6554\u003c\\/del\u003e\u003c\\/a\u003e: Removed one-liner methods and unused methods from overseer\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_14228809_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14228809_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Nov\\/14 16:08\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-11-29T16:08:09+0000\'\u003e29\\/Nov\\/14 16:08\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Commit 1642443 from shalin@apache.org in branch \'dev\\/trunk\' \\n[  https:\\/\\/svn.apache.org\\/r1642443  ] \\n\\n   SOLR-6554  : Removed one-liner methods and unused methods from overseer              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14228825\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6554?focusedCommentId=14228825&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14228825\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"shalinmangar\\\" id=\\\"commentauthor_14228825_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=shalinmangar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"shalinmangar\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shalin Shekhar Mangar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14228825_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Nov\\/14 16:27\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-11-29T16:27:01+0000\'\u003e29\\/Nov\\/14 16:27\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI looked into the multi method in zk but it\'s limitation is that the combined payload of all the operations in a multi call must be less than 1MB (jute.maxbuffer limit) so it can be a bit tricky to implement.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"shalinmangar\\\" id=\\\"commentauthor_14228825_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=shalinmangar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"shalinmangar\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shalin Shekhar Mangar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14228825_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Nov\\/14 16:27\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-11-29T16:27:01+0000\'\u003e29\\/Nov\\/14 16:27\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I looked into the multi method in zk but it\'s limitation is that the combined payload of all the operations in a multi call must be less than 1MB (jute.maxbuffer limit) so it can be a bit tricky to implement.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14228912\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6554?focusedCommentId=14228912&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14228912\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_14228912_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14228912_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Nov\\/14 19:25\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-11-29T19:25:03+0000\'\u003e29\\/Nov\\/14 19:25\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eCommit 1642466 from shalin@apache.org in branch \'dev\\/trunk\'\u003cbr\\/\u003e\\n[ \u003ca href=\\\"https:\\/\\/svn.apache.org\\/r1642466\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttps:\\/\\/svn.apache.org\\/r1642466\u003c\\/a\u003e ]\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-6554\\\" title=\\\"Speed up overseer operations for collections with stateFormat &gt; 1\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-6554\\\"\u003e\u003cdel\u003eSOLR-6554\u003c\\/del\u003e\u003c\\/a\u003e: Add a ClusterState.copyWith method which accepts a collection directly instead of a map of collections and use it throughout\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_14228912_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14228912_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Nov\\/14 19:25\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-11-29T19:25:03+0000\'\u003e29\\/Nov\\/14 19:25\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Commit 1642466 from shalin@apache.org in branch \'dev\\/trunk\' \\n[  https:\\/\\/svn.apache.org\\/r1642466  ] \\n\\n   SOLR-6554  : Add a ClusterState.copyWith method which accepts a collection directly instead of a map of collections and use it throughout              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14228978\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6554?focusedCommentId=14228978&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14228978\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"shalinmangar\\\" id=\\\"commentauthor_14228978_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=shalinmangar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"shalinmangar\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shalin Shekhar Mangar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14228978_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Nov\\/14 23:38\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-11-29T23:38:20+0000\'\u003e29\\/Nov\\/14 23:38\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThis patch further simplifies the overseer loop and encapsulates batching related code inside ZkStateWriter and refactors common code for message execution into a separate method. The updateState methods are no longer necessary inside Overseer. All tests pass.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"shalinmangar\\\" id=\\\"commentauthor_14228978_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=shalinmangar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"shalinmangar\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shalin Shekhar Mangar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14228978_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Nov\\/14 23:38\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-11-29T23:38:20+0000\'\u003e29\\/Nov\\/14 23:38\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    This patch further simplifies the overseer loop and encapsulates batching related code inside ZkStateWriter and refactors common code for message execution into a separate method. The updateState methods are no longer necessary inside Overseer. All tests pass.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14229041\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6554?focusedCommentId=14229041&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14229041\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"noble.paul\\\" id=\\\"commentauthor_14229041_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=noble.paul\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"noble.paul\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Noble Paul\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14229041_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Nov\\/14 08:52\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-11-30T08:52:10+0000\'\u003e30\\/Nov\\/14 08:52\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eIMHO multi write is not really useful . The reason for batching is to minimize the number of listeners fired and the number of clusterstate updates in the listener nodes. So, whether you write those nodes in multiple ops or in a single op does not really matter\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"noble.paul\\\" id=\\\"commentauthor_14229041_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=noble.paul\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"noble.paul\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Noble Paul\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14229041_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Nov\\/14 08:52\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-11-30T08:52:10+0000\'\u003e30\\/Nov\\/14 08:52\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    IMHO multi write is not really useful . The reason for batching is to minimize the number of listeners fired and the number of clusterstate updates in the listener nodes. So, whether you write those nodes in multiple ops or in a single op does not really matter              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14229084\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6554?focusedCommentId=14229084&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14229084\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"shalinmangar\\\" id=\\\"commentauthor_14229084_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=shalinmangar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"shalinmangar\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shalin Shekhar Mangar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14229084_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Nov\\/14 11:35\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-11-30T11:35:35+0000\'\u003e30\\/Nov\\/14 11:35\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThere was a bug in my last refactoring. We must have two different batching checks; one which is checked before the current message is processed and the second which is checked after. Otherwise there is no way to keep messages from different state formats from being batched together.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"shalinmangar\\\" id=\\\"commentauthor_14229084_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=shalinmangar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"shalinmangar\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shalin Shekhar Mangar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14229084_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Nov\\/14 11:35\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-11-30T11:35:35+0000\'\u003e30\\/Nov\\/14 11:35\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    There was a bug in my last refactoring. We must have two different batching checks; one which is checked before the current message is processed and the second which is checked after. Otherwise there is no way to keep messages from different state formats from being batched together.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14229085\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6554?focusedCommentId=14229085&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14229085\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"shalinmangar\\\" id=\\\"commentauthor_14229085_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=shalinmangar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"shalinmangar\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shalin Shekhar Mangar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14229085_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Nov\\/14 11:40\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-11-30T11:40:54+0000\'\u003e30\\/Nov\\/14 11:40\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cblockquote\u003e\u003cp\u003eIMHO multi write is not really useful . The reason for batching is to minimize the number of listeners fired and the number of clusterstate updates in the listener nodes. So, whether you write those nodes in multiple ops or in a single op does not really matter\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003eI think you may be right but it is worth testing out. The multi write will reduce writes to ZK and maybe reduce the number of watcher fires under the right conditions (interleaved messages for two different collections). I\'ll do a quick test to see if it helps.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"shalinmangar\\\" id=\\\"commentauthor_14229085_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=shalinmangar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"shalinmangar\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shalin Shekhar Mangar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14229085_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Nov\\/14 11:40\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-11-30T11:40:54+0000\'\u003e30\\/Nov\\/14 11:40\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     IMHO multi write is not really useful . The reason for batching is to minimize the number of listeners fired and the number of clusterstate updates in the listener nodes. So, whether you write those nodes in multiple ops or in a single op does not really matter  \\n\\n I think you may be right but it is worth testing out. The multi write will reduce writes to ZK and maybe reduce the number of watcher fires under the right conditions (interleaved messages for two different collections). I\'ll do a quick test to see if it helps.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14229100\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6554?focusedCommentId=14229100&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14229100\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"shalinmangar\\\" id=\\\"commentauthor_14229100_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=shalinmangar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"shalinmangar\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shalin Shekhar Mangar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14229100_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Nov\\/14 13:18\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-11-30T13:18:08+0000\'\u003e30\\/Nov\\/14 13:18\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eFixed another bug with batching code where zk writes before processing items would be lost if the next message creates a new collection. All tests pass.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"shalinmangar\\\" id=\\\"commentauthor_14229100_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=shalinmangar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"shalinmangar\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shalin Shekhar Mangar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14229100_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Nov\\/14 13:18\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-11-30T13:18:08+0000\'\u003e30\\/Nov\\/14 13:18\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Fixed another bug with batching code where zk writes before processing items would be lost if the next message creates a new collection. All tests pass.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14229830\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6554?focusedCommentId=14229830&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14229830\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"shalinmangar\\\" id=\\\"commentauthor_14229830_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=shalinmangar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"shalinmangar\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shalin Shekhar Mangar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14229830_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Dec\\/14 14:24\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-12-01T14:24:28+0000\'\u003e01\\/Dec\\/14 14:24\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI\'ve added a test for the batching logic inside ZkStateWriter. This is ready.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"shalinmangar\\\" id=\\\"commentauthor_14229830_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=shalinmangar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"shalinmangar\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shalin Shekhar Mangar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14229830_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Dec\\/14 14:24\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-12-01T14:24:28+0000\'\u003e01\\/Dec\\/14 14:24\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I\'ve added a test for the batching logic inside ZkStateWriter. This is ready.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14229841\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6554?focusedCommentId=14229841&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14229841\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"andyetitmoves\\\" id=\\\"commentauthor_14229841_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=andyetitmoves\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"andyetitmoves\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ramkumar Aiyengar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14229841_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Dec\\/14 14:31\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-12-01T14:31:23+0000\'\u003e01\\/Dec\\/14 14:31\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eWould be nice to see the updated perf numbers to confirm if the state change regression for stateFormat = 1 has gone away..\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"andyetitmoves\\\" id=\\\"commentauthor_14229841_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=andyetitmoves\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"andyetitmoves\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ramkumar Aiyengar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14229841_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Dec\\/14 14:31\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-12-01T14:31:23+0000\'\u003e01\\/Dec\\/14 14:31\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Would be nice to see the updated perf numbers to confirm if the state change regression for stateFormat = 1 has gone away..              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14229847\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6554?focusedCommentId=14229847&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14229847\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_14229847_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14229847_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Dec\\/14 14:37\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-12-01T14:37:10+0000\'\u003e01\\/Dec\\/14 14:37\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eCommit 1642693 from shalin@apache.org in branch \'dev\\/trunk\'\u003cbr\\/\u003e\\n[ \u003ca href=\\\"https:\\/\\/svn.apache.org\\/r1642693\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttps:\\/\\/svn.apache.org\\/r1642693\u003c\\/a\u003e ]\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-6554\\\" title=\\\"Speed up overseer operations for collections with stateFormat &gt; 1\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-6554\\\"\u003e\u003cdel\u003eSOLR-6554\u003c\\/del\u003e\u003c\\/a\u003e: Refactored Overseer to improve reuse and put batching logic inside ZkStateWriter. Added a new ZkStateWriterTest.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_14229847_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14229847_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Dec\\/14 14:37\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-12-01T14:37:10+0000\'\u003e01\\/Dec\\/14 14:37\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Commit 1642693 from shalin@apache.org in branch \'dev\\/trunk\' \\n[  https:\\/\\/svn.apache.org\\/r1642693  ] \\n\\n   SOLR-6554  : Refactored Overseer to improve reuse and put batching logic inside ZkStateWriter. Added a new ZkStateWriterTest.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14229852\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6554?focusedCommentId=14229852&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14229852\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"shalinmangar\\\" id=\\\"commentauthor_14229852_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=shalinmangar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"shalinmangar\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shalin Shekhar Mangar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14229852_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Dec\\/14 14:41\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-12-01T14:41:18+0000\'\u003e01\\/Dec\\/14 14:41\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003ebq, Would be nice to see the updated perf numbers to confirm if the state change regression for stateFormat = 1 has gone away..\u003c\\/p\u003e\\n\\n\u003cp\u003eNo, I suspect the slow down still exists but the overseer itself is faster by ~5% inspite of it. I expect the real performance to be even better when ZK runs on a different box. I still need to dig in to the slowdown though before I close this issue.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"shalinmangar\\\" id=\\\"commentauthor_14229852_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=shalinmangar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"shalinmangar\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shalin Shekhar Mangar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14229852_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Dec\\/14 14:41\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-12-01T14:41:18+0000\'\u003e01\\/Dec\\/14 14:41\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    bq, Would be nice to see the updated perf numbers to confirm if the state change regression for stateFormat = 1 has gone away.. \\n\\n No, I suspect the slow down still exists but the overseer itself is faster by ~5% inspite of it. I expect the real performance to be even better when ZK runs on a different box. I still need to dig in to the slowdown though before I close this issue.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14229939\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6554?focusedCommentId=14229939&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14229939\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"shalinmangar\\\" id=\\\"commentauthor_14229939_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=shalinmangar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"shalinmangar\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shalin Shekhar Mangar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14229939_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Dec\\/14 16:03\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-12-01T16:03:07+0000\'\u003e01\\/Dec\\/14 16:03\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eActually, the improvements in Overseer for stateFormat=1 (the default case) is much better than I expected. After the refactorings, the amILeader calls are very infrequent and the speed up is about 40%:\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003eOverseer queue size: 20000 state requests\\n\\nstateFormat = 1, With refactoring (trunk)\\n=========================================\\n\\n216071 T12 oasc.OverseerTest.testPerformance Overseer loop finished processing: \\n216072 T12 oasc.OverseerTest.printTimingStats \\t totalTime: 201411.465265\\n216072 T12 oasc.OverseerTest.printTimingStats \\t avgRequestsPerMinute: 0.004964922311489345\\n216073 T12 oasc.OverseerTest.printTimingStats \\t 5minRateRequestsPerMinute: 0.0\\n216073 T12 oasc.OverseerTest.printTimingStats \\t 15minRateRequestsPerMinute: 0.0\\n216073 T12 oasc.OverseerTest.printTimingStats \\t avgTimePerRequest: 201411.465265\\n216073 T12 oasc.OverseerTest.printTimingStats \\t medianRequestTime: 201411.465265\\n216073 T12 oasc.OverseerTest.printTimingStats \\t 75thPctlRequestTime: 201411.465265\\n216074 T12 oasc.OverseerTest.printTimingStats \\t 95thPctlRequestTime: 201411.465265\\n216074 T12 oasc.OverseerTest.printTimingStats \\t 99thPctlRequestTime: 201411.465265\\n216074 T12 oasc.OverseerTest.printTimingStats \\t 999thPctlRequestTime: 201411.465265\\n216075 T12 oasc.OverseerTest.testPerformance op: am_i_leader, success: 2, failure: 0\\n216075 T12 oasc.OverseerTest.printTimingStats \\t totalTime: 9.377281\\n216075 T12 oasc.OverseerTest.printTimingStats \\t avgRequestsPerMinute: 0.5969575423185497\\n216075 T12 oasc.OverseerTest.printTimingStats \\t 5minRateRequestsPerMinute: 12.529098642264385\\n216075 T12 oasc.OverseerTest.printTimingStats \\t 15minRateRequestsPerMinute: 19.324759776433687\\n216075 T12 oasc.OverseerTest.printTimingStats \\t avgTimePerRequest: 4.6886405\\n216076 T12 oasc.OverseerTest.printTimingStats \\t medianRequestTime: 4.6886405\\n216076 T12 oasc.OverseerTest.printTimingStats \\t 75thPctlRequestTime: 9.022041\\n216076 T12 oasc.OverseerTest.printTimingStats \\t 95thPctlRequestTime: 9.022041\\n216076 T12 oasc.OverseerTest.printTimingStats \\t 99thPctlRequestTime: 9.022041\\n216076 T12 oasc.OverseerTest.printTimingStats \\t 999thPctlRequestTime: 9.022041\\n216077 T12 oasc.OverseerTest.testPerformance op: update_state, success: 135, failure: 0\\n216077 T12 oasc.OverseerTest.printTimingStats \\t totalTime: 61.333751\\n216077 T12 oasc.OverseerTest.printTimingStats \\t avgRequestsPerMinute: 40.31065112174398\\n216077 T12 oasc.OverseerTest.printTimingStats \\t 5minRateRequestsPerMinute: 48.0\\n216078 T12 oasc.OverseerTest.printTimingStats \\t 15minRateRequestsPerMinute: 48.0\\n216078 T12 oasc.OverseerTest.printTimingStats \\t avgTimePerRequest: 0.4543240814814815\\n216078 T12 oasc.OverseerTest.printTimingStats \\t medianRequestTime: 0.364217\\n216078 T12 oasc.OverseerTest.printTimingStats \\t 75thPctlRequestTime: 0.409896\\n216078 T12 oasc.OverseerTest.printTimingStats \\t 95thPctlRequestTime: 0.9332719999999994\\n216079 T12 oasc.OverseerTest.printTimingStats \\t 99thPctlRequestTime: 3.576287319999995\\n216079 T12 oasc.OverseerTest.printTimingStats \\t 999thPctlRequestTime: 3.700744\\n216079 T12 oasc.OverseerTest.testPerformance op: state, success: 20001, failure: 0\\n216081 T12 oasc.OverseerTest.printTimingStats \\t totalTime: 13344.072646\\n216081 T12 oasc.OverseerTest.printTimingStats \\t avgRequestsPerMinute: 5973.226142698651\\n216081 T12 oasc.OverseerTest.printTimingStats \\t 5minRateRequestsPerMinute: 4437.949777291698\\n216082 T12 oasc.OverseerTest.printTimingStats \\t 15minRateRequestsPerMinute: 3247.958438006491\\n216082 T12 oasc.OverseerTest.printTimingStats \\t avgTimePerRequest: 0.6671702737863107\\n216083 T12 oasc.OverseerTest.printTimingStats \\t medianRequestTime: 0.6112960000000001\\n216083 T12 oasc.OverseerTest.printTimingStats \\t 75thPctlRequestTime: 0.65861125\\n216083 T12 oasc.OverseerTest.printTimingStats \\t 95thPctlRequestTime: 0.9373918\\n216083 T12 oasc.OverseerTest.printTimingStats \\t 99thPctlRequestTime: 1.179823900000002\\n216083 T12 oasc.OverseerTest.printTimingStats \\t 999thPctlRequestTime: 6.713780613000015\\n\\n\\nstateFormat = 1, Without refactoring (branch_5x):\\n============================================================================================\\n\\n354435 T11 oasc.OverseerTest.testPerformance Overseer loop finished processing: \\n354437 T11 oasc.OverseerTest.printTimingStats \\t totalTime: 336777.887\\n354438 T11 oasc.OverseerTest.printTimingStats \\t avgRequestsPerMinute: 0.0029692955509913457\\n354438 T11 oasc.OverseerTest.printTimingStats \\t 5minRateRequestsPerMinute: 0.0\\n354438 T11 oasc.OverseerTest.printTimingStats \\t 15minRateRequestsPerMinute: 0.0\\n354439 T11 oasc.OverseerTest.printTimingStats \\t avgTimePerRequest: 336777.887\\n354439 T11 oasc.OverseerTest.printTimingStats \\t medianRequestTime: 336777.887\\n354439 T11 oasc.OverseerTest.printTimingStats \\t 75thPctlRequestTime: 336777.887\\n354440 T11 oasc.OverseerTest.printTimingStats \\t 95thPctlRequestTime: 336777.887\\n354440 T11 oasc.OverseerTest.printTimingStats \\t 99thPctlRequestTime: 336777.887\\n354440 T11 oasc.OverseerTest.printTimingStats \\t 999thPctlRequestTime: 336777.887\\n354441 T11 oasc.OverseerTest.testPerformance op: state, success: 20001, failure: 0\\n354444 T11 oasc.OverseerTest.printTimingStats \\t totalTime: 13029.408\\n354444 T11 oasc.OverseerTest.printTimingStats \\t avgRequestsPerMinute: 3570.0750281584515\\n354444 T11 oasc.OverseerTest.printTimingStats \\t 5minRateRequestsPerMinute: 3169.209724490217\\n354445 T11 oasc.OverseerTest.printTimingStats \\t 15minRateRequestsPerMinute: 2124.6849108211077\\n354445 T11 oasc.OverseerTest.printTimingStats \\t avgTimePerRequest: 0.6514378281085945\\n354445 T11 oasc.OverseerTest.printTimingStats \\t medianRequestTime: 0.59\\n354446 T11 oasc.OverseerTest.printTimingStats \\t 75thPctlRequestTime: 0.633\\n354446 T11 oasc.OverseerTest.printTimingStats \\t 95thPctlRequestTime: 0.8480999999999999\\n354446 T11 oasc.OverseerTest.printTimingStats \\t 99thPctlRequestTime: 0.9995200000000004\\n354447 T11 oasc.OverseerTest.printTimingStats \\t 999thPctlRequestTime: 1.736079000000002\\n354447 T11 oasc.OverseerTest.testPerformance op: update_state, success: 222, failure: 0\\n354448 T11 oasc.OverseerTest.printTimingStats \\t totalTime: 98.244\\n354448 T11 oasc.OverseerTest.printTimingStats \\t avgRequestsPerMinute: 39.622607985461286\\n354448 T11 oasc.OverseerTest.printTimingStats \\t 5minRateRequestsPerMinute: 48.0\\n354448 T11 oasc.OverseerTest.printTimingStats \\t 15minRateRequestsPerMinute: 48.0\\n354449 T11 oasc.OverseerTest.printTimingStats \\t avgTimePerRequest: 0.44254054054054054\\n354449 T11 oasc.OverseerTest.printTimingStats \\t medianRequestTime: 0.3835\\n354450 T11 oasc.OverseerTest.printTimingStats \\t 75thPctlRequestTime: 0.463\\n354450 T11 oasc.OverseerTest.printTimingStats \\t 95thPctlRequestTime: 0.7994499999999999\\n354450 T11 oasc.OverseerTest.printTimingStats \\t 99thPctlRequestTime: 1.2152900000000026\\n354451 T11 oasc.OverseerTest.printTimingStats \\t 999thPctlRequestTime: 2.452\\n354451 T11 oasc.OverseerTest.testPerformance op: am_i_leader, success: 223, failure: 0\\n354452 T11 oasc.OverseerTest.printTimingStats \\t totalTime: 43.33\\n354453 T11 oasc.OverseerTest.printTimingStats \\t avgRequestsPerMinute: 39.777330428482294\\n354453 T11 oasc.OverseerTest.printTimingStats \\t 5minRateRequestsPerMinute: 57.7576718337744\\n354453 T11 oasc.OverseerTest.printTimingStats \\t 15minRateRequestsPerMinute: 65.77963729636123\\n354453 T11 oasc.OverseerTest.printTimingStats \\t avgTimePerRequest: 0.194304932735426\\n354454 T11 oasc.OverseerTest.printTimingStats \\t medianRequestTime: 0.149\\n354454 T11 oasc.OverseerTest.printTimingStats \\t 75thPctlRequestTime: 0.188\\n354454 T11 oasc.OverseerTest.printTimingStats \\t 95thPctlRequestTime: 0.25839999999999996\\n354454 T11 oasc.OverseerTest.printTimingStats \\t 99thPctlRequestTime: 0.47591999999999895\\n354455 T11 oasc.OverseerTest.printTimingStats \\t 999thPctlRequestTime: 5.712\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003eDo not compare these numbers with the last ones because this test was run on a different box. Also trunk used jdk1.8.0_25 and branch_5x was run on jdk1.7.0_25. I\'m running the other tests and I will report back shortly.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"shalinmangar\\\" id=\\\"commentauthor_14229939_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=shalinmangar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"shalinmangar\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shalin Shekhar Mangar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14229939_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Dec\\/14 16:03\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-12-01T16:03:07+0000\'\u003e01\\/Dec\\/14 16:03\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Actually, the improvements in Overseer for stateFormat=1 (the default case) is much better than I expected. After the refactorings, the amILeader calls are very infrequent and the speed up is about 40%: \\n\\n  \\n Overseer queue size: 20000 state requests\\n\\nstateFormat = 1, With refactoring (trunk)\\n=========================================\\n\\n216071 T12 oasc.OverseerTest.testPerformance Overseer loop finished processing: \\n216072 T12 oasc.OverseerTest.printTimingStats \\t totalTime: 201411.465265\\n216072 T12 oasc.OverseerTest.printTimingStats \\t avgRequestsPerMinute: 0.004964922311489345\\n216073 T12 oasc.OverseerTest.printTimingStats \\t 5minRateRequestsPerMinute: 0.0\\n216073 T12 oasc.OverseerTest.printTimingStats \\t 15minRateRequestsPerMinute: 0.0\\n216073 T12 oasc.OverseerTest.printTimingStats \\t avgTimePerRequest: 201411.465265\\n216073 T12 oasc.OverseerTest.printTimingStats \\t medianRequestTime: 201411.465265\\n216073 T12 oasc.OverseerTest.printTimingStats \\t 75thPctlRequestTime: 201411.465265\\n216074 T12 oasc.OverseerTest.printTimingStats \\t 95thPctlRequestTime: 201411.465265\\n216074 T12 oasc.OverseerTest.printTimingStats \\t 99thPctlRequestTime: 201411.465265\\n216074 T12 oasc.OverseerTest.printTimingStats \\t 999thPctlRequestTime: 201411.465265\\n216075 T12 oasc.OverseerTest.testPerformance op: am_i_leader, success: 2, failure: 0\\n216075 T12 oasc.OverseerTest.printTimingStats \\t totalTime: 9.377281\\n216075 T12 oasc.OverseerTest.printTimingStats \\t avgRequestsPerMinute: 0.5969575423185497\\n216075 T12 oasc.OverseerTest.printTimingStats \\t 5minRateRequestsPerMinute: 12.529098642264385\\n216075 T12 oasc.OverseerTest.printTimingStats \\t 15minRateRequestsPerMinute: 19.324759776433687\\n216075 T12 oasc.OverseerTest.printTimingStats \\t avgTimePerRequest: 4.6886405\\n216076 T12 oasc.OverseerTest.printTimingStats \\t medianRequestTime: 4.6886405\\n216076 T12 oasc.OverseerTest.printTimingStats \\t 75thPctlRequestTime: 9.022041\\n216076 T12 oasc.OverseerTest.printTimingStats \\t 95thPctlRequestTime: 9.022041\\n216076 T12 oasc.OverseerTest.printTimingStats \\t 99thPctlRequestTime: 9.022041\\n216076 T12 oasc.OverseerTest.printTimingStats \\t 999thPctlRequestTime: 9.022041\\n216077 T12 oasc.OverseerTest.testPerformance op: update_state, success: 135, failure: 0\\n216077 T12 oasc.OverseerTest.printTimingStats \\t totalTime: 61.333751\\n216077 T12 oasc.OverseerTest.printTimingStats \\t avgRequestsPerMinute: 40.31065112174398\\n216077 T12 oasc.OverseerTest.printTimingStats \\t 5minRateRequestsPerMinute: 48.0\\n216078 T12 oasc.OverseerTest.printTimingStats \\t 15minRateRequestsPerMinute: 48.0\\n216078 T12 oasc.OverseerTest.printTimingStats \\t avgTimePerRequest: 0.4543240814814815\\n216078 T12 oasc.OverseerTest.printTimingStats \\t medianRequestTime: 0.364217\\n216078 T12 oasc.OverseerTest.printTimingStats \\t 75thPctlRequestTime: 0.409896\\n216078 T12 oasc.OverseerTest.printTimingStats \\t 95thPctlRequestTime: 0.9332719999999994\\n216079 T12 oasc.OverseerTest.printTimingStats \\t 99thPctlRequestTime: 3.576287319999995\\n216079 T12 oasc.OverseerTest.printTimingStats \\t 999thPctlRequestTime: 3.700744\\n216079 T12 oasc.OverseerTest.testPerformance op: state, success: 20001, failure: 0\\n216081 T12 oasc.OverseerTest.printTimingStats \\t totalTime: 13344.072646\\n216081 T12 oasc.OverseerTest.printTimingStats \\t avgRequestsPerMinute: 5973.226142698651\\n216081 T12 oasc.OverseerTest.printTimingStats \\t 5minRateRequestsPerMinute: 4437.949777291698\\n216082 T12 oasc.OverseerTest.printTimingStats \\t 15minRateRequestsPerMinute: 3247.958438006491\\n216082 T12 oasc.OverseerTest.printTimingStats \\t avgTimePerRequest: 0.6671702737863107\\n216083 T12 oasc.OverseerTest.printTimingStats \\t medianRequestTime: 0.6112960000000001\\n216083 T12 oasc.OverseerTest.printTimingStats \\t 75thPctlRequestTime: 0.65861125\\n216083 T12 oasc.OverseerTest.printTimingStats \\t 95thPctlRequestTime: 0.9373918\\n216083 T12 oasc.OverseerTest.printTimingStats \\t 99thPctlRequestTime: 1.179823900000002\\n216083 T12 oasc.OverseerTest.printTimingStats \\t 999thPctlRequestTime: 6.713780613000015\\n\\n\\nstateFormat = 1, Without refactoring (branch_5x):\\n============================================================================================\\n\\n354435 T11 oasc.OverseerTest.testPerformance Overseer loop finished processing: \\n354437 T11 oasc.OverseerTest.printTimingStats \\t totalTime: 336777.887\\n354438 T11 oasc.OverseerTest.printTimingStats \\t avgRequestsPerMinute: 0.0029692955509913457\\n354438 T11 oasc.OverseerTest.printTimingStats \\t 5minRateRequestsPerMinute: 0.0\\n354438 T11 oasc.OverseerTest.printTimingStats \\t 15minRateRequestsPerMinute: 0.0\\n354439 T11 oasc.OverseerTest.printTimingStats \\t avgTimePerRequest: 336777.887\\n354439 T11 oasc.OverseerTest.printTimingStats \\t medianRequestTime: 336777.887\\n354439 T11 oasc.OverseerTest.printTimingStats \\t 75thPctlRequestTime: 336777.887\\n354440 T11 oasc.OverseerTest.printTimingStats \\t 95thPctlRequestTime: 336777.887\\n354440 T11 oasc.OverseerTest.printTimingStats \\t 99thPctlRequestTime: 336777.887\\n354440 T11 oasc.OverseerTest.printTimingStats \\t 999thPctlRequestTime: 336777.887\\n354441 T11 oasc.OverseerTest.testPerformance op: state, success: 20001, failure: 0\\n354444 T11 oasc.OverseerTest.printTimingStats \\t totalTime: 13029.408\\n354444 T11 oasc.OverseerTest.printTimingStats \\t avgRequestsPerMinute: 3570.0750281584515\\n354444 T11 oasc.OverseerTest.printTimingStats \\t 5minRateRequestsPerMinute: 3169.209724490217\\n354445 T11 oasc.OverseerTest.printTimingStats \\t 15minRateRequestsPerMinute: 2124.6849108211077\\n354445 T11 oasc.OverseerTest.printTimingStats \\t avgTimePerRequest: 0.6514378281085945\\n354445 T11 oasc.OverseerTest.printTimingStats \\t medianRequestTime: 0.59\\n354446 T11 oasc.OverseerTest.printTimingStats \\t 75thPctlRequestTime: 0.633\\n354446 T11 oasc.OverseerTest.printTimingStats \\t 95thPctlRequestTime: 0.8480999999999999\\n354446 T11 oasc.OverseerTest.printTimingStats \\t 99thPctlRequestTime: 0.9995200000000004\\n354447 T11 oasc.OverseerTest.printTimingStats \\t 999thPctlRequestTime: 1.736079000000002\\n354447 T11 oasc.OverseerTest.testPerformance op: update_state, success: 222, failure: 0\\n354448 T11 oasc.OverseerTest.printTimingStats \\t totalTime: 98.244\\n354448 T11 oasc.OverseerTest.printTimingStats \\t avgRequestsPerMinute: 39.622607985461286\\n354448 T11 oasc.OverseerTest.printTimingStats \\t 5minRateRequestsPerMinute: 48.0\\n354448 T11 oasc.OverseerTest.printTimingStats \\t 15minRateRequestsPerMinute: 48.0\\n354449 T11 oasc.OverseerTest.printTimingStats \\t avgTimePerRequest: 0.44254054054054054\\n354449 T11 oasc.OverseerTest.printTimingStats \\t medianRequestTime: 0.3835\\n354450 T11 oasc.OverseerTest.printTimingStats \\t 75thPctlRequestTime: 0.463\\n354450 T11 oasc.OverseerTest.printTimingStats \\t 95thPctlRequestTime: 0.7994499999999999\\n354450 T11 oasc.OverseerTest.printTimingStats \\t 99thPctlRequestTime: 1.2152900000000026\\n354451 T11 oasc.OverseerTest.printTimingStats \\t 999thPctlRequestTime: 2.452\\n354451 T11 oasc.OverseerTest.testPerformance op: am_i_leader, success: 223, failure: 0\\n354452 T11 oasc.OverseerTest.printTimingStats \\t totalTime: 43.33\\n354453 T11 oasc.OverseerTest.printTimingStats \\t avgRequestsPerMinute: 39.777330428482294\\n354453 T11 oasc.OverseerTest.printTimingStats \\t 5minRateRequestsPerMinute: 57.7576718337744\\n354453 T11 oasc.OverseerTest.printTimingStats \\t 15minRateRequestsPerMinute: 65.77963729636123\\n354453 T11 oasc.OverseerTest.printTimingStats \\t avgTimePerRequest: 0.194304932735426\\n354454 T11 oasc.OverseerTest.printTimingStats \\t medianRequestTime: 0.149\\n354454 T11 oasc.OverseerTest.printTimingStats \\t 75thPctlRequestTime: 0.188\\n354454 T11 oasc.OverseerTest.printTimingStats \\t 95thPctlRequestTime: 0.25839999999999996\\n354454 T11 oasc.OverseerTest.printTimingStats \\t 99thPctlRequestTime: 0.47591999999999895\\n354455 T11 oasc.OverseerTest.printTimingStats \\t 999thPctlRequestTime: 5.712\\n \\n  \\n\\n Do not compare these numbers with the last ones because this test was run on a different box. Also trunk used jdk1.8.0_25 and branch_5x was run on jdk1.7.0_25. I\'m running the other tests and I will report back shortly.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14229992\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6554?focusedCommentId=14229992&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14229992\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_14229992_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14229992_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Dec\\/14 16:32\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-12-01T16:32:42+0000\'\u003e01\\/Dec\\/14 16:32\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eCommit 1642708 from shalin@apache.org in branch \'dev\\/trunk\'\u003cbr\\/\u003e\\n[ \u003ca href=\\\"https:\\/\\/svn.apache.org\\/r1642708\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttps:\\/\\/svn.apache.org\\/r1642708\u003c\\/a\u003e ]\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-6554\\\" title=\\\"Speed up overseer operations for collections with stateFormat &gt; 1\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-6554\\\"\u003e\u003cdel\u003eSOLR-6554\u003c\\/del\u003e\u003c\\/a\u003e: Moved performance test factors into constants\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_14229992_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14229992_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Dec\\/14 16:32\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-12-01T16:32:42+0000\'\u003e01\\/Dec\\/14 16:32\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Commit 1642708 from shalin@apache.org in branch \'dev\\/trunk\' \\n[  https:\\/\\/svn.apache.org\\/r1642708  ] \\n\\n   SOLR-6554  : Moved performance test factors into constants              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14230004\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6554?focusedCommentId=14230004&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14230004\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"shalinmangar\\\" id=\\\"commentauthor_14230004_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=shalinmangar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"shalinmangar\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shalin Shekhar Mangar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14230004_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Dec\\/14 16:37\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-12-01T16:37:15+0000\'\u003e01\\/Dec\\/14 16:37\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eHere is one more test with 10 collections all having stateFormat=2\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003estateFormat = 2, 10 collections, With refactoring (trunk):\\n===========================================================\\n\\n244536 T12 oasc.OverseerTest.testPerformance Overseer loop finished processing: \\n244541 T12 oasc.OverseerTest.printTimingStats \\t totalTime: 230151.969647\\n244541 T12 oasc.OverseerTest.printTimingStats \\t avgRequestsPerMinute: 0.004344859792294027\\n244542 T12 oasc.OverseerTest.printTimingStats \\t 5minRateRequestsPerMinute: 0.0\\n244542 T12 oasc.OverseerTest.printTimingStats \\t 15minRateRequestsPerMinute: 0.0\\n244542 T12 oasc.OverseerTest.printTimingStats \\t avgTimePerRequest: 230151.969647\\n244543 T12 oasc.OverseerTest.printTimingStats \\t medianRequestTime: 230151.969647\\n244543 T12 oasc.OverseerTest.printTimingStats \\t 75thPctlRequestTime: 230151.969647\\n244543 T12 oasc.OverseerTest.printTimingStats \\t 95thPctlRequestTime: 230151.969647\\n244543 T12 oasc.OverseerTest.printTimingStats \\t 99thPctlRequestTime: 230151.969647\\n244544 T12 oasc.OverseerTest.printTimingStats \\t 999thPctlRequestTime: 230151.969647\\n244544 T12 oasc.OverseerTest.testPerformance op: am_i_leader, success: 2, failure: 0\\n244544 T12 oasc.OverseerTest.printTimingStats \\t totalTime: 9.364505\\n244544 T12 oasc.OverseerTest.printTimingStats \\t avgRequestsPerMinute: 0.5225137226108014\\n244545 T12 oasc.OverseerTest.printTimingStats \\t 5minRateRequestsPerMinute: 11.527327226155185\\n244545 T12 oasc.OverseerTest.printTimingStats \\t 15minRateRequestsPerMinute: 18.795347877757326\\n244545 T12 oasc.OverseerTest.printTimingStats \\t avgTimePerRequest: 4.6822525\\n244545 T12 oasc.OverseerTest.printTimingStats \\t medianRequestTime: 4.6822525\\n244545 T12 oasc.OverseerTest.printTimingStats \\t 75thPctlRequestTime: 8.98267\\n244546 T12 oasc.OverseerTest.printTimingStats \\t 95thPctlRequestTime: 8.98267\\n244546 T12 oasc.OverseerTest.printTimingStats \\t 99thPctlRequestTime: 8.98267\\n244546 T12 oasc.OverseerTest.printTimingStats \\t 999thPctlRequestTime: 8.98267\\n244546 T12 oasc.OverseerTest.testPerformance op: update_state, success: 20011, failure: 0\\n244548 T12 oasc.OverseerTest.printTimingStats \\t totalTime: 12520.257356\\n244549 T12 oasc.OverseerTest.printTimingStats \\t avgRequestsPerMinute: 5230.413197388874\\n244549 T12 oasc.OverseerTest.printTimingStats \\t 5minRateRequestsPerMinute: 4052.517943905357\\n244550 T12 oasc.OverseerTest.printTimingStats \\t 15minRateRequestsPerMinute: 3016.875734960303\\n244550 T12 oasc.OverseerTest.printTimingStats \\t avgTimePerRequest: 0.6256687499875069\\n244550 T12 oasc.OverseerTest.printTimingStats \\t medianRequestTime: 0.5419605000000001\\n244551 T12 oasc.OverseerTest.printTimingStats \\t 75thPctlRequestTime: 0.6782735\\n244551 T12 oasc.OverseerTest.printTimingStats \\t 95thPctlRequestTime: 1.07258755\\n244551 T12 oasc.OverseerTest.printTimingStats \\t 99thPctlRequestTime: 1.7485102400000028\\n244551 T12 oasc.OverseerTest.printTimingStats \\t 999thPctlRequestTime: 8.31249523400001\\n244552 T12 oasc.OverseerTest.testPerformance op: state, success: 20001, failure: 0\\n244554 T12 oasc.OverseerTest.printTimingStats \\t totalTime: 14652.769701\\n244554 T12 oasc.OverseerTest.printTimingStats \\t avgRequestsPerMinute: 5237.58427279227\\n244554 T12 oasc.OverseerTest.printTimingStats \\t 5minRateRequestsPerMinute: 4130.052867937011\\n244555 T12 oasc.OverseerTest.printTimingStats \\t 15minRateRequestsPerMinute: 3125.3532353495934\\n244555 T12 oasc.OverseerTest.printTimingStats \\t avgTimePerRequest: 0.7326018549572522\\n244555 T12 oasc.OverseerTest.printTimingStats \\t medianRequestTime: 0.6325495\\n244555 T12 oasc.OverseerTest.printTimingStats \\t 75thPctlRequestTime: 0.771651\\n244556 T12 oasc.OverseerTest.printTimingStats \\t 95thPctlRequestTime: 1.2006243999999988\\n244556 T12 oasc.OverseerTest.printTimingStats \\t 99thPctlRequestTime: 2.0507515900000057\\n244556 T12 oasc.OverseerTest.printTimingStats \\t 999thPctlRequestTime: 8.561998272000013\\n\\n\\nstateFormat = 2, 10 collections, Without refactoring (branch_5x):\\n=================================================================\\n\\n1329102 T11 oasc.OverseerTest.testPerformance Overseer loop finished processing: \\n1329105 T11 oasc.OverseerTest.printTimingStats \\t totalTime: 1312114.128\\n1329106 T11 oasc.OverseerTest.printTimingStats \\t avgRequestsPerMinute: 7.621263475999054E-4\\n1329107 T11 oasc.OverseerTest.printTimingStats \\t 5minRateRequestsPerMinute: 0.0\\n1329107 T11 oasc.OverseerTest.printTimingStats \\t 15minRateRequestsPerMinute: 0.0\\n1329107 T11 oasc.OverseerTest.printTimingStats \\t avgTimePerRequest: 1312114.128\\n1329107 T11 oasc.OverseerTest.printTimingStats \\t medianRequestTime: 1312114.128\\n1329108 T11 oasc.OverseerTest.printTimingStats \\t 75thPctlRequestTime: 1312114.128\\n1329108 T11 oasc.OverseerTest.printTimingStats \\t 95thPctlRequestTime: 1312114.128\\n1329108 T11 oasc.OverseerTest.printTimingStats \\t 99thPctlRequestTime: 1312114.128\\n1329108 T11 oasc.OverseerTest.printTimingStats \\t 999thPctlRequestTime: 1312114.128\\n1329108 T11 oasc.OverseerTest.testPerformance op: state, success: 20001, failure: 0\\n1329110 T11 oasc.OverseerTest.printTimingStats \\t totalTime: 466104.173\\n1329110 T11 oasc.OverseerTest.printTimingStats \\t avgRequestsPerMinute: 915.6800211767887\\n1329111 T11 oasc.OverseerTest.printTimingStats \\t 5minRateRequestsPerMinute: 1418.8474273248714\\n1329111 T11 oasc.OverseerTest.printTimingStats \\t 15minRateRequestsPerMinute: 1043.4826929249386\\n1329111 T11 oasc.OverseerTest.printTimingStats \\t avgTimePerRequest: 23.304043447827606\\n1329111 T11 oasc.OverseerTest.printTimingStats \\t medianRequestTime: 2.3715\\n1329111 T11 oasc.OverseerTest.printTimingStats \\t 75thPctlRequestTime: 2.7197500000000003\\n1329111 T11 oasc.OverseerTest.printTimingStats \\t 95thPctlRequestTime: 3.977099999999994\\n1329112 T11 oasc.OverseerTest.printTimingStats \\t 99thPctlRequestTime: 7.936150000000027\\n1329112 T11 oasc.OverseerTest.printTimingStats \\t 999thPctlRequestTime: 35.16617800000001\\n1329112 T11 oasc.OverseerTest.testPerformance op: update_state, success: 20011, failure: 0\\n1329114 T11 oasc.OverseerTest.printTimingStats \\t totalTime: 327388.98\\n1329114 T11 oasc.OverseerTest.printTimingStats \\t avgRequestsPerMinute: 915.6585782350854\\n1329114 T11 oasc.OverseerTest.printTimingStats \\t 5minRateRequestsPerMinute: 1425.935654658605\\n1329115 T11 oasc.OverseerTest.printTimingStats \\t 15minRateRequestsPerMinute: 1049.1858608633495\\n1329115 T11 oasc.OverseerTest.printTimingStats \\t avgTimePerRequest: 16.360450752086354\\n1329115 T11 oasc.OverseerTest.printTimingStats \\t medianRequestTime: 0.725\\n1329116 T11 oasc.OverseerTest.printTimingStats \\t 75thPctlRequestTime: 0.844\\n1329116 T11 oasc.OverseerTest.printTimingStats \\t 95thPctlRequestTime: 1.218\\n1329117 T11 oasc.OverseerTest.printTimingStats \\t 99thPctlRequestTime: 2.1403600000000043\\n1329117 T11 oasc.OverseerTest.printTimingStats \\t 999thPctlRequestTime: 12.222141000000011\\n1329117 T11 oasc.OverseerTest.testPerformance op: am_i_leader, success: 20013, failure: 0\\n1329119 T11 oasc.OverseerTest.printTimingStats \\t totalTime: 3622.9\\n1329120 T11 oasc.OverseerTest.printTimingStats \\t avgRequestsPerMinute: 915.5821178966359\\n1329120 T11 oasc.OverseerTest.printTimingStats \\t 5minRateRequestsPerMinute: 1424.927585830734\\n1329120 T11 oasc.OverseerTest.printTimingStats \\t 15minRateRequestsPerMinute: 1042.4347274913655\\n1329121 T11 oasc.OverseerTest.printTimingStats \\t avgTimePerRequest: 0.18102733223404788\\n1329121 T11 oasc.OverseerTest.printTimingStats \\t medianRequestTime: 0.179\\n1329121 T11 oasc.OverseerTest.printTimingStats \\t 75thPctlRequestTime: 0.197\\n1329122 T11 oasc.OverseerTest.printTimingStats \\t 95thPctlRequestTime: 0.25909999999999994\\n1329122 T11 oasc.OverseerTest.printTimingStats \\t 99thPctlRequestTime: 0.5761600000000034\\n1329123 T11 oasc.OverseerTest.printTimingStats \\t 999thPctlRequestTime: 17.419063000000026\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003eI\'m not going to run more tests simply because they take too much time \u003cimg class=\\\"emoticon\\\" src=\\\"\\/jira\\/images\\/icons\\/emoticons\\/smile.png\\\" height=\\\"16\\\" width=\\\"16\\\" align=\\\"absmiddle\\\" alt=\\\"\\\" border=\\\"0\\\"\\/\u003e\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"shalinmangar\\\" id=\\\"commentauthor_14230004_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=shalinmangar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"shalinmangar\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shalin Shekhar Mangar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14230004_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Dec\\/14 16:37\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-12-01T16:37:15+0000\'\u003e01\\/Dec\\/14 16:37\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Here is one more test with 10 collections all having stateFormat=2 \\n\\n  \\n stateFormat = 2, 10 collections, With refactoring (trunk):\\n===========================================================\\n\\n244536 T12 oasc.OverseerTest.testPerformance Overseer loop finished processing: \\n244541 T12 oasc.OverseerTest.printTimingStats \\t totalTime: 230151.969647\\n244541 T12 oasc.OverseerTest.printTimingStats \\t avgRequestsPerMinute: 0.004344859792294027\\n244542 T12 oasc.OverseerTest.printTimingStats \\t 5minRateRequestsPerMinute: 0.0\\n244542 T12 oasc.OverseerTest.printTimingStats \\t 15minRateRequestsPerMinute: 0.0\\n244542 T12 oasc.OverseerTest.printTimingStats \\t avgTimePerRequest: 230151.969647\\n244543 T12 oasc.OverseerTest.printTimingStats \\t medianRequestTime: 230151.969647\\n244543 T12 oasc.OverseerTest.printTimingStats \\t 75thPctlRequestTime: 230151.969647\\n244543 T12 oasc.OverseerTest.printTimingStats \\t 95thPctlRequestTime: 230151.969647\\n244543 T12 oasc.OverseerTest.printTimingStats \\t 99thPctlRequestTime: 230151.969647\\n244544 T12 oasc.OverseerTest.printTimingStats \\t 999thPctlRequestTime: 230151.969647\\n244544 T12 oasc.OverseerTest.testPerformance op: am_i_leader, success: 2, failure: 0\\n244544 T12 oasc.OverseerTest.printTimingStats \\t totalTime: 9.364505\\n244544 T12 oasc.OverseerTest.printTimingStats \\t avgRequestsPerMinute: 0.5225137226108014\\n244545 T12 oasc.OverseerTest.printTimingStats \\t 5minRateRequestsPerMinute: 11.527327226155185\\n244545 T12 oasc.OverseerTest.printTimingStats \\t 15minRateRequestsPerMinute: 18.795347877757326\\n244545 T12 oasc.OverseerTest.printTimingStats \\t avgTimePerRequest: 4.6822525\\n244545 T12 oasc.OverseerTest.printTimingStats \\t medianRequestTime: 4.6822525\\n244545 T12 oasc.OverseerTest.printTimingStats \\t 75thPctlRequestTime: 8.98267\\n244546 T12 oasc.OverseerTest.printTimingStats \\t 95thPctlRequestTime: 8.98267\\n244546 T12 oasc.OverseerTest.printTimingStats \\t 99thPctlRequestTime: 8.98267\\n244546 T12 oasc.OverseerTest.printTimingStats \\t 999thPctlRequestTime: 8.98267\\n244546 T12 oasc.OverseerTest.testPerformance op: update_state, success: 20011, failure: 0\\n244548 T12 oasc.OverseerTest.printTimingStats \\t totalTime: 12520.257356\\n244549 T12 oasc.OverseerTest.printTimingStats \\t avgRequestsPerMinute: 5230.413197388874\\n244549 T12 oasc.OverseerTest.printTimingStats \\t 5minRateRequestsPerMinute: 4052.517943905357\\n244550 T12 oasc.OverseerTest.printTimingStats \\t 15minRateRequestsPerMinute: 3016.875734960303\\n244550 T12 oasc.OverseerTest.printTimingStats \\t avgTimePerRequest: 0.6256687499875069\\n244550 T12 oasc.OverseerTest.printTimingStats \\t medianRequestTime: 0.5419605000000001\\n244551 T12 oasc.OverseerTest.printTimingStats \\t 75thPctlRequestTime: 0.6782735\\n244551 T12 oasc.OverseerTest.printTimingStats \\t 95thPctlRequestTime: 1.07258755\\n244551 T12 oasc.OverseerTest.printTimingStats \\t 99thPctlRequestTime: 1.7485102400000028\\n244551 T12 oasc.OverseerTest.printTimingStats \\t 999thPctlRequestTime: 8.31249523400001\\n244552 T12 oasc.OverseerTest.testPerformance op: state, success: 20001, failure: 0\\n244554 T12 oasc.OverseerTest.printTimingStats \\t totalTime: 14652.769701\\n244554 T12 oasc.OverseerTest.printTimingStats \\t avgRequestsPerMinute: 5237.58427279227\\n244554 T12 oasc.OverseerTest.printTimingStats \\t 5minRateRequestsPerMinute: 4130.052867937011\\n244555 T12 oasc.OverseerTest.printTimingStats \\t 15minRateRequestsPerMinute: 3125.3532353495934\\n244555 T12 oasc.OverseerTest.printTimingStats \\t avgTimePerRequest: 0.7326018549572522\\n244555 T12 oasc.OverseerTest.printTimingStats \\t medianRequestTime: 0.6325495\\n244555 T12 oasc.OverseerTest.printTimingStats \\t 75thPctlRequestTime: 0.771651\\n244556 T12 oasc.OverseerTest.printTimingStats \\t 95thPctlRequestTime: 1.2006243999999988\\n244556 T12 oasc.OverseerTest.printTimingStats \\t 99thPctlRequestTime: 2.0507515900000057\\n244556 T12 oasc.OverseerTest.printTimingStats \\t 999thPctlRequestTime: 8.561998272000013\\n\\n\\nstateFormat = 2, 10 collections, Without refactoring (branch_5x):\\n=================================================================\\n\\n1329102 T11 oasc.OverseerTest.testPerformance Overseer loop finished processing: \\n1329105 T11 oasc.OverseerTest.printTimingStats \\t totalTime: 1312114.128\\n1329106 T11 oasc.OverseerTest.printTimingStats \\t avgRequestsPerMinute: 7.621263475999054E-4\\n1329107 T11 oasc.OverseerTest.printTimingStats \\t 5minRateRequestsPerMinute: 0.0\\n1329107 T11 oasc.OverseerTest.printTimingStats \\t 15minRateRequestsPerMinute: 0.0\\n1329107 T11 oasc.OverseerTest.printTimingStats \\t avgTimePerRequest: 1312114.128\\n1329107 T11 oasc.OverseerTest.printTimingStats \\t medianRequestTime: 1312114.128\\n1329108 T11 oasc.OverseerTest.printTimingStats \\t 75thPctlRequestTime: 1312114.128\\n1329108 T11 oasc.OverseerTest.printTimingStats \\t 95thPctlRequestTime: 1312114.128\\n1329108 T11 oasc.OverseerTest.printTimingStats \\t 99thPctlRequestTime: 1312114.128\\n1329108 T11 oasc.OverseerTest.printTimingStats \\t 999thPctlRequestTime: 1312114.128\\n1329108 T11 oasc.OverseerTest.testPerformance op: state, success: 20001, failure: 0\\n1329110 T11 oasc.OverseerTest.printTimingStats \\t totalTime: 466104.173\\n1329110 T11 oasc.OverseerTest.printTimingStats \\t avgRequestsPerMinute: 915.6800211767887\\n1329111 T11 oasc.OverseerTest.printTimingStats \\t 5minRateRequestsPerMinute: 1418.8474273248714\\n1329111 T11 oasc.OverseerTest.printTimingStats \\t 15minRateRequestsPerMinute: 1043.4826929249386\\n1329111 T11 oasc.OverseerTest.printTimingStats \\t avgTimePerRequest: 23.304043447827606\\n1329111 T11 oasc.OverseerTest.printTimingStats \\t medianRequestTime: 2.3715\\n1329111 T11 oasc.OverseerTest.printTimingStats \\t 75thPctlRequestTime: 2.7197500000000003\\n1329111 T11 oasc.OverseerTest.printTimingStats \\t 95thPctlRequestTime: 3.977099999999994\\n1329112 T11 oasc.OverseerTest.printTimingStats \\t 99thPctlRequestTime: 7.936150000000027\\n1329112 T11 oasc.OverseerTest.printTimingStats \\t 999thPctlRequestTime: 35.16617800000001\\n1329112 T11 oasc.OverseerTest.testPerformance op: update_state, success: 20011, failure: 0\\n1329114 T11 oasc.OverseerTest.printTimingStats \\t totalTime: 327388.98\\n1329114 T11 oasc.OverseerTest.printTimingStats \\t avgRequestsPerMinute: 915.6585782350854\\n1329114 T11 oasc.OverseerTest.printTimingStats \\t 5minRateRequestsPerMinute: 1425.935654658605\\n1329115 T11 oasc.OverseerTest.printTimingStats \\t 15minRateRequestsPerMinute: 1049.1858608633495\\n1329115 T11 oasc.OverseerTest.printTimingStats \\t avgTimePerRequest: 16.360450752086354\\n1329115 T11 oasc.OverseerTest.printTimingStats \\t medianRequestTime: 0.725\\n1329116 T11 oasc.OverseerTest.printTimingStats \\t 75thPctlRequestTime: 0.844\\n1329116 T11 oasc.OverseerTest.printTimingStats \\t 95thPctlRequestTime: 1.218\\n1329117 T11 oasc.OverseerTest.printTimingStats \\t 99thPctlRequestTime: 2.1403600000000043\\n1329117 T11 oasc.OverseerTest.printTimingStats \\t 999thPctlRequestTime: 12.222141000000011\\n1329117 T11 oasc.OverseerTest.testPerformance op: am_i_leader, success: 20013, failure: 0\\n1329119 T11 oasc.OverseerTest.printTimingStats \\t totalTime: 3622.9\\n1329120 T11 oasc.OverseerTest.printTimingStats \\t avgRequestsPerMinute: 915.5821178966359\\n1329120 T11 oasc.OverseerTest.printTimingStats \\t 5minRateRequestsPerMinute: 1424.927585830734\\n1329120 T11 oasc.OverseerTest.printTimingStats \\t 15minRateRequestsPerMinute: 1042.4347274913655\\n1329121 T11 oasc.OverseerTest.printTimingStats \\t avgTimePerRequest: 0.18102733223404788\\n1329121 T11 oasc.OverseerTest.printTimingStats \\t medianRequestTime: 0.179\\n1329121 T11 oasc.OverseerTest.printTimingStats \\t 75thPctlRequestTime: 0.197\\n1329122 T11 oasc.OverseerTest.printTimingStats \\t 95thPctlRequestTime: 0.25909999999999994\\n1329122 T11 oasc.OverseerTest.printTimingStats \\t 99thPctlRequestTime: 0.5761600000000034\\n1329123 T11 oasc.OverseerTest.printTimingStats \\t 999thPctlRequestTime: 17.419063000000026\\n \\n  \\n\\n I\'m not going to run more tests simply because they take too much time                \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14230056\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6554?focusedCommentId=14230056&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14230056\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"markrmiller@gmail.com\\\" id=\\\"commentauthor_14230056_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=markrmiller%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"markrmiller@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mark Miller\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14230056_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Dec\\/14 17:16\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-12-01T17:16:31+0000\'\u003e01\\/Dec\\/14 17:16\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cblockquote\u003e\u003cp\u003eor stateFormat = 1 has gone away\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003eWhat kind of confidence do we have for stateFormat = 2 now? It would really be nice to drop 1 from 5x rather than deal with both for a full major version again.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"markrmiller@gmail.com\\\" id=\\\"commentauthor_14230056_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=markrmiller%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"markrmiller@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mark Miller\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14230056_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Dec\\/14 17:16\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-12-01T17:16:31+0000\'\u003e01\\/Dec\\/14 17:16\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     or stateFormat = 1 has gone away  \\n\\n What kind of confidence do we have for stateFormat = 2 now? It would really be nice to drop 1 from 5x rather than deal with both for a full major version again.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14230266\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6554?focusedCommentId=14230266&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14230266\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"shalinmangar\\\" id=\\\"commentauthor_14230266_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=shalinmangar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"shalinmangar\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shalin Shekhar Mangar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14230266_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Dec\\/14 19:10\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-12-01T19:10:54+0000\'\u003e01\\/Dec\\/14 19:10\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cblockquote\u003e\u003cp\u003eWhat kind of confidence do we have for stateFormat = 2 now? \u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003eI am pretty confident that it works and works well. But the client side needs a fix before 5.0 &#8211; \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-6521\\\" title=\\\"CloudSolrClient should synchronize cache cluster state loading\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-6521\\\"\u003e\u003cdel\u003eSOLR-6521\u003c\\/del\u003e\u003c\\/a\u003e.\u003c\\/p\u003e\\n\\n\u003cblockquote\u003e\u003cp\u003eIt would really be nice to drop 1 from 5x rather than deal with both for a full major version again.\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003eI agree but how do we drop 1? I haven\'t thought through the migration process. It would probably need us to write the state to both places for one Solr release to auto-convert. Otherwise an upgrade would require down-time. We could definitely use stateFormat=2 as the default in 5.0 as it is already as performant as stateFormat=1 for the single collection use-case.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"shalinmangar\\\" id=\\\"commentauthor_14230266_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=shalinmangar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"shalinmangar\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shalin Shekhar Mangar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14230266_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Dec\\/14 19:10\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-12-01T19:10:54+0000\'\u003e01\\/Dec\\/14 19:10\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     What kind of confidence do we have for stateFormat = 2 now?   \\n\\n I am pretty confident that it works and works well. But the client side needs a fix before 5.0 &#8211;   SOLR-6521  . \\n\\n  It would really be nice to drop 1 from 5x rather than deal with both for a full major version again.  \\n\\n I agree but how do we drop 1? I haven\'t thought through the migration process. It would probably need us to write the state to both places for one Solr release to auto-convert. Otherwise an upgrade would require down-time. We could definitely use stateFormat=2 as the default in 5.0 as it is already as performant as stateFormat=1 for the single collection use-case.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14230488\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6554?focusedCommentId=14230488&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14230488\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"andyetitmoves\\\" id=\\\"commentauthor_14230488_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=andyetitmoves\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"andyetitmoves\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ramkumar Aiyengar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14230488_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Dec\\/14 21:23\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-12-01T21:23:44+0000\'\u003e01\\/Dec\\/14 21:23\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eNice, that\'s a pretty neat speedup \u003cimg class=\\\"emoticon\\\" src=\\\"\\/jira\\/images\\/icons\\/emoticons\\/smile.png\\\" height=\\\"16\\\" width=\\\"16\\\" align=\\\"absmiddle\\\" alt=\\\"\\\" border=\\\"0\\\"\\/\u003e\u003c\\/p\u003e\\n\\n\u003cp\u003e+1 to make stateFormat=2 as the default. The idea of dropping support for stateFormat=1 makes me a bit nervous though &#8211; it should be tested in the wild for a while without users consciously opting in into it.  May be schedule it for removal in 6 (thereby also giving users one full release to either get downtime or recreate indices)?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"andyetitmoves\\\" id=\\\"commentauthor_14230488_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=andyetitmoves\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"andyetitmoves\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ramkumar Aiyengar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14230488_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Dec\\/14 21:23\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-12-01T21:23:44+0000\'\u003e01\\/Dec\\/14 21:23\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Nice, that\'s a pretty neat speedup   \\n\\n +1 to make stateFormat=2 as the default. The idea of dropping support for stateFormat=1 makes me a bit nervous though &#8211; it should be tested in the wild for a while without users consciously opting in into it.  May be schedule it for removal in 6 (thereby also giving users one full release to either get downtime or recreate indices)?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14231762\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6554?focusedCommentId=14231762&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14231762\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"shalinmangar\\\" id=\\\"commentauthor_14231762_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=shalinmangar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"shalinmangar\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shalin Shekhar Mangar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14231762_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'02\\/Dec\\/14 17:17\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-12-02T17:17:22+0000\'\u003e02\\/Dec\\/14 17:17\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThere is one problem in my current implementation. Earlier, the work queue was guaranteed to have only those items which had been processed but not written to ZK. This condition is not true anymore after my refactoring because the batching logic is inside ZkStateWriter and it will write to ZK without the Overseer knowing about it.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"shalinmangar\\\" id=\\\"commentauthor_14231762_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=shalinmangar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"shalinmangar\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shalin Shekhar Mangar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14231762_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'02\\/Dec\\/14 17:17\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-12-02T17:17:22+0000\'\u003e02\\/Dec\\/14 17:17\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    There is one problem in my current implementation. Earlier, the work queue was guaranteed to have only those items which had been processed but not written to ZK. This condition is not true anymore after my refactoring because the batching logic is inside ZkStateWriter and it will write to ZK without the Overseer knowing about it.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14237203\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6554?focusedCommentId=14237203&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14237203\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"markrmiller@gmail.com\\\" id=\\\"commentauthor_14237203_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=markrmiller%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"markrmiller@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mark Miller\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14237203_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Dec\\/14 16:54\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-12-07T16:54:56+0000\'\u003e07\\/Dec\\/14 16:54\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI don\'t think we need to support live migrations over major versions. I think this really holds back development. Major releases can break all kinds of back compat - I think the only thing we are on the hook for is a transition path - but not a live one. Live upgrades over major releases is not very realistic IMO.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"markrmiller@gmail.com\\\" id=\\\"commentauthor_14237203_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=markrmiller%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"markrmiller@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mark Miller\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14237203_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Dec\\/14 16:54\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-12-07T16:54:56+0000\'\u003e07\\/Dec\\/14 16:54\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I don\'t think we need to support live migrations over major versions. I think this really holds back development. Major releases can break all kinds of back compat - I think the only thing we are on the hook for is a transition path - but not a live one. Live upgrades over major releases is not very realistic IMO.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14237204\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6554?focusedCommentId=14237204&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14237204\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"markrmiller@gmail.com\\\" id=\\\"commentauthor_14237204_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=markrmiller%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"markrmiller@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mark Miller\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14237204_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Dec\\/14 16:58\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-12-07T16:58:15+0000\'\u003e07\\/Dec\\/14 16:58\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eBq. Why not in 6?\u003c\\/p\u003e\\n\\n\u003cp\u003eSupporting both over 5x will stunt development for an unknown, but probably pretty long amount of time. \u003c\\/p\u003e\\n\\n\u003cp\u003eI think anyone that is nervous about it should probably wait on 4 for a few point releases. The first release of a major version jump is by definition going to have some larger changes and new bugs. \u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"markrmiller@gmail.com\\\" id=\\\"commentauthor_14237204_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=markrmiller%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"markrmiller@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mark Miller\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14237204_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Dec\\/14 16:58\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-12-07T16:58:15+0000\'\u003e07\\/Dec\\/14 16:58\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Bq. Why not in 6? \\n\\n Supporting both over 5x will stunt development for an unknown, but probably pretty long amount of time.  \\n\\n I think anyone that is nervous about it should probably wait on 4 for a few point releases. The first release of a major version jump is by definition going to have some larger changes and new bugs.               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14249904\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6554?focusedCommentId=14249904&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14249904\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"shalinmangar\\\" id=\\\"commentauthor_14249904_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=shalinmangar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"shalinmangar\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shalin Shekhar Mangar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14249904_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Dec\\/14 14:33\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-12-17T14:33:49+0000\'\u003e17\\/Dec\\/14 14:33\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003col\u003e\\n\\t\u003cli\u003eFixes the logic to add\\/remove items from workQueue so that the invariant is maintained\u003c\\/li\u003e\\n\\t\u003cli\u003eAdds a ZkWriteListener interface which is used by Overseer to add\\/remove items from the workQueue depending on how\\/when state is flushed to ZK\u003c\\/li\u003e\\n\\t\u003cli\u003eThe earlier patches enabled batching on work queue processing but that is wrong because we do not have any fallback if a batch fails. So batching is disabled whenever we operate on items from the work queue.\u003c\\/li\u003e\\n\u003c\\/ol\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"shalinmangar\\\" id=\\\"commentauthor_14249904_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=shalinmangar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"shalinmangar\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shalin Shekhar Mangar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14249904_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Dec\\/14 14:33\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-12-17T14:33:49+0000\'\u003e17\\/Dec\\/14 14:33\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    \\n\\t Fixes the logic to add\\/remove items from workQueue so that the invariant is maintained \\n\\t Adds a ZkWriteListener interface which is used by Overseer to add\\/remove items from the workQueue depending on how\\/when state is flushed to ZK \\n\\t The earlier patches enabled batching on work queue processing but that is wrong because we do not have any fallback if a batch fails. So batching is disabled whenever we operate on items from the work queue. \\n \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14250076\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6554?focusedCommentId=14250076&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14250076\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"shalinmangar\\\" id=\\\"commentauthor_14250076_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=shalinmangar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"shalinmangar\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shalin Shekhar Mangar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14250076_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Dec\\/14 16:30\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-12-17T16:30:35+0000\'\u003e17\\/Dec\\/14 16:30\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eSlightly refactored. All tests pass.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"shalinmangar\\\" id=\\\"commentauthor_14250076_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=shalinmangar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"shalinmangar\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shalin Shekhar Mangar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14250076_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Dec\\/14 16:30\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-12-17T16:30:35+0000\'\u003e17\\/Dec\\/14 16:30\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Slightly refactored. All tests pass.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14251657\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6554?focusedCommentId=14251657&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14251657\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"shalinmangar\\\" id=\\\"commentauthor_14251657_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=shalinmangar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"shalinmangar\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shalin Shekhar Mangar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14251657_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'18\\/Dec\\/14 13:47\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-12-18T13:47:56+0000\'\u003e18\\/Dec\\/14 13:47\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eRefactored a bit more. ZkWriteListener is called ZkWriteCallback instead. There was no need of a onFlushBefore and onFlushAfter methods. A single onWrite method is enough. I am not very happy with this callback API but this is the best I could come up. The other option would be to move the batching logic back to Overseer.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"shalinmangar\\\" id=\\\"commentauthor_14251657_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=shalinmangar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"shalinmangar\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shalin Shekhar Mangar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14251657_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'18\\/Dec\\/14 13:47\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-12-18T13:47:56+0000\'\u003e18\\/Dec\\/14 13:47\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Refactored a bit more. ZkWriteListener is called ZkWriteCallback instead. There was no need of a onFlushBefore and onFlushAfter methods. A single onWrite method is enough. I am not very happy with this callback API but this is the best I could come up. The other option would be to move the batching logic back to Overseer.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14251776\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6554?focusedCommentId=14251776&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14251776\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_14251776_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14251776_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'18\\/Dec\\/14 15:13\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-12-18T15:13:42+0000\'\u003e18\\/Dec\\/14 15:13\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eCommit 1646474 from shalin@apache.org in branch \'dev\\/trunk\'\u003cbr\\/\u003e\\n[ \u003ca href=\\\"https:\\/\\/svn.apache.org\\/r1646474\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttps:\\/\\/svn.apache.org\\/r1646474\u003c\\/a\u003e ]\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-6554\\\" title=\\\"Speed up overseer operations for collections with stateFormat &gt; 1\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-6554\\\"\u003e\u003cdel\u003eSOLR-6554\u003c\\/del\u003e\u003c\\/a\u003e: Fix work queue handling\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_14251776_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14251776_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'18\\/Dec\\/14 15:13\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-12-18T15:13:42+0000\'\u003e18\\/Dec\\/14 15:13\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Commit 1646474 from shalin@apache.org in branch \'dev\\/trunk\' \\n[  https:\\/\\/svn.apache.org\\/r1646474  ] \\n\\n   SOLR-6554  : Fix work queue handling              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14251913\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6554?focusedCommentId=14251913&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14251913\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_14251913_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14251913_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'18\\/Dec\\/14 17:17\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-12-18T17:17:12+0000\'\u003e18\\/Dec\\/14 17:17\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eCommit 1646493 from shalin@apache.org in branch \'dev\\/branches\\/branch_5x\'\u003cbr\\/\u003e\\n[ \u003ca href=\\\"https:\\/\\/svn.apache.org\\/r1646493\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttps:\\/\\/svn.apache.org\\/r1646493\u003c\\/a\u003e ]\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-6554\\\" title=\\\"Speed up overseer operations for collections with stateFormat &gt; 1\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-6554\\\"\u003e\u003cdel\u003eSOLR-6554\u003c\\/del\u003e\u003c\\/a\u003e: Speed up overseer operations\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_14251913_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14251913_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'18\\/Dec\\/14 17:17\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-12-18T17:17:12+0000\'\u003e18\\/Dec\\/14 17:17\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Commit 1646493 from shalin@apache.org in branch \'dev\\/branches\\/branch_5x\' \\n[  https:\\/\\/svn.apache.org\\/r1646493  ] \\n\\n   SOLR-6554  : Speed up overseer operations              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14251935\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6554?focusedCommentId=14251935&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14251935\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"shalinmangar\\\" id=\\\"commentauthor_14251935_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=shalinmangar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"shalinmangar\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shalin Shekhar Mangar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14251935_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'18\\/Dec\\/14 17:45\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-12-18T17:45:23+0000\'\u003e18\\/Dec\\/14 17:45\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThis is fixed. Thanks everyone.\u003c\\/p\u003e\\n\\n\u003cp\u003eLet\'s discuss stateFormat=2 as default for 5.0 in it\'s own separate issue.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"shalinmangar\\\" id=\\\"commentauthor_14251935_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=shalinmangar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"shalinmangar\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shalin Shekhar Mangar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14251935_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'18\\/Dec\\/14 17:45\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-12-18T17:45:23+0000\'\u003e18\\/Dec\\/14 17:45\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    This is fixed. Thanks everyone. \\n\\n Let\'s discuss stateFormat=2 as default for 5.0 in it\'s own separate issue.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14332886\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6554?focusedCommentId=14332886&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14332886\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"anshumg\\\" id=\\\"commentauthor_14332886_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=anshumg\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"anshumg\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Anshum Gupta\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14332886_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Feb\\/15 05:02\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-02-23T05:02:26+0000\'\u003e23\\/Feb\\/15 05:02\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eBulk close after 5.0 release.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"anshumg\\\" id=\\\"commentauthor_14332886_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=anshumg\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"anshumg\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Anshum Gupta\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14332886_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Feb\\/15 05:02\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-02-23T05:02:26+0000\'\u003e23\\/Feb\\/15 05:02\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Bulk close after 5.0 release.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\"";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["scope-filter-data"]="{\"createScopeActions\":[],\"scopes\":[]}";
WRM._unparsedData["sidebar-collapsed-by-default"]="true";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:can-manage"]="false";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:with-icons"]="false";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:shortcuts"]="[]";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:project-id"]="12310230";
WRM._unparsedData["sidebar-id"]="\"\u003cdiv class=\\\"aui-sidebar  projects-sidebar sidebar-pending\\\" \u003e\u003cdiv class=\\\"aui-sidebar-wrapper\\\"\u003e\u003cdiv class=\\\"aui-sidebar-body\\\"\u003e\u003cheader class=\\\"aui-page-header\\\"\u003e\u003cdiv class=\\\"aui-page-header-inner\\\"\u003e\u003cdiv class=\\\"aui-page-header-image\\\"\u003e\u003ca href=\\\"\\/jira\\/projects\\/SOLR\\/summary\\\" title=\\\"Solr\\\" class=\\\"jira-project-avatar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-large aui-avatar-project\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"\\/jira\\/secure\\/projectavatar?pid=12310230&amp;avatarId=22151\\\" alt=\\\"Solr\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e\u003cimg src=\\\"data:image\\/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI\\/Pg0KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE4LjEuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPg0KPHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgdmlld0JveD0iMCAwIDMwMCAzMDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMwMCAzMDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxnIGlkPSJMYXllcl8yIj4NCgk8cGF0aCBzdHlsZT0iZmlsbDojRjc5MjMyOyIgZD0iTTE1MCwwQzY2LjY2NywwLDAsNjYuNjY3LDAsMTUwczY2LjY2NywxNTAsMTUwLDE1MHMxNTAtNjYuNjY3LDE1MC0xNTBTMjMzLjMzMywwLDE1MCwweg0KCQkgTTEzNi42NjcsMTc4LjMzM0wxMjUsMTkwbC00MS42NjctNDBMOTUsMTM4LjMzM2wzMC0zMEwxMzYuNjY3LDEyMGwtMzAsMzBMMTM2LjY2NywxNzguMzMzeiBNMjA1LDE2MS42NjdsLTMwLDMwTDE2My4zMzMsMTgwDQoJCWwzMC0zMGwtMzAtMzBMMTc1LDEwOC4zMzNMMjE2LjY2NywxNTBMMjA1LDE2MS42Njd6Ii8+DQo8L2c+DQo8Zz4NCgk8cG9seWdvbiBzdHlsZT0iZmlsbDojRkZGRkZGOyIgcG9pbnRzPSIxNzUsMTkxLjY2NyAyMDUsMTYxLjY2NyAyMTYuNjY3LDE1MCAxNzUsMTA4LjMzMyAxNjMuMzMzLDEyMCAxOTMuMzMzLDE1MCAxNjMuMzMzLDE4MCAJIi8+DQoJPHBvbHlnb24gc3R5bGU9ImZpbGw6I0ZGRkZGRjsiIHBvaW50cz0iMTI1LDEwOC4zMzMgOTUsMTM4LjMzMyA4My4zMzMsMTUwIDEyNSwxOTAgMTM2LjY2NywxNzguMzMzIDEwNi42NjcsMTUwIDEzNi42NjcsMTIwIAkiLz4NCjwvZz4NCjwvc3ZnPg0K\\\" alt=\\\"Icon indicating the project type\\\" class=\\\"jira-project-avatar-icon\\\" \\/\u003e\u003c\\/a\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-image --\u003e\u003cdiv class=\\\"aui-page-header-main\\\"\u003e\u003ch1\u003e\u003cdiv class=\\\"aui-group aui-group-split\\\"\u003e\u003cdiv class=\\\"aui-item project-title\\\"\u003e\u003ca href=\\\"\\/jira\\/projects\\/SOLR\\/summary\\\" title=\\\"Solr\\\"\u003eSolr\u003c\\/a\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/h1\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-main --\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-inner --\u003e\u003c\\/header\u003e\u003c!-- .aui-page-header --\u003e\u003cnav class=\\\"aui-navgroup aui-navgroup-vertical\\\"\u003e\u003cdiv class=\\\"aui-navgroup-inner sidebar-content-container\\\"\u003e\u003cdiv class=\\\"aui-sidebar-group aui-sidebar-group-tier-one\\\" data-id=\\\"sidebar-navigation-panel\\\"\u003e\u003cul class=\\\"aui-nav\\\"\u003e\u003cli class=\\\"aui-nav-selected\\\" \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/SOLR\\/issues\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-issue-navigator:sidebar-issue-navigator\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large icon-sidebar-issues\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Issues\\\"\u003eIssues\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003cli  \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/SOLR?selectedItem=com.atlassian.jira.jira-projects-plugin:report-page\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-plugin:report-page\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large agile-icon-report\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Reports\\\"\u003eReports\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003cli  \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/SOLR?selectedItem=com.atlassian.jira.jira-projects-plugin:components-page\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-plugin:components-page\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large icon-sidebar-components\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Components\\\"\u003eComponents\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003c\\/ul\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/nav\u003e\u003c\\/div\u003e\u003cdiv class=\\\"aui-sidebar-footer\\\"\u003e\u003ca class=\\\"aui-button aui-button-subtle aui-sidebar-toggle aui-sidebar-footer-tipsy\\\" data-tooltip=\\\"Expand sidebar ( [ )\\\" href=\\\"#\\\"\u003e\u003cspan class=\\\"aui-icon aui-icon-small\\\"\u003e\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/div\u003e\"";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:bigpipe-init/jira.webresources:bigpipe-init.js" data-wrm-key="jira.webresources:bigpipe-init" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <form id="jira_request_timing_info" class="dont-default-focus"> 
   <fieldset class="parameters hidden"> 
    <input type="hidden" title="jira.request.start.millis" value="1516223326403"> 
    <input type="hidden" title="jira.request.server.time" value="622"> 
    <input type="hidden" title="jira.request.id" value="1268x8413365x10"> 
    <input type="hidden" title="jira.session.expiry.time" value="-"> 
    <input type="hidden" title="jira.session.expiry.in.mins" value="-"> 
    <input id="jiraConcurrentRequests" type="hidden" name="jira.request.concurrent.requests" value="3"> 
    <input type="hidden" title="db.reads.time.in.ms" value="75"> 
    <input type="hidden" title="db.conns.time.in.ms" value="89"> 
   </fieldset> 
  </form> 
  <!--
	                 REQUEST ID : 1268x8413365x10
	          REQUEST TIMESTAMP : [17/Jan/2018:21:08:46 +0000]
	               REQUEST TIME : 0.6230
	                 ASESSIONID : -
	        CONCURRENT REQUESTS : 3

	                      db.reads : OpSnapshot{name='db.reads', invocationCount=22, elapsedTotal=75413263, elapsedMin=809926, elapsedMax=36387990, resultSetSize=0, cpuTotal=0, cpuMin=0, cpuMax=0}
	                      db.conns : OpSnapshot{name='db.conns', invocationCount=26, elapsedTotal=89023412, elapsedMin=931435, elapsedMax=36480179, resultSetSize=0, cpuTotal=0, cpuMin=0, cpuMax=0}
-->   
 </body>
</html>