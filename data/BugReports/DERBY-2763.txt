<!doctype html>
<html lang="en">
 <head> 
  <meta charset="utf-8"> 
  <meta http-equiv="X-UA-Compatible" content="IE=Edge"> 
  <meta name="application-name" content="JIRA" data-name="jira" data-version="7.6.3">
  <meta name="ajs-viewissue-use-history-api" content="false"> 
  <meta name="ajs-jira-base-url" content="https://issues.apache.org/jira"> 
  <meta name="ajs-serverRenderedViewIssue" content="true"> 
  <meta name="ajs-dev-mode" content="false"> 
  <meta name="ajs-context-path" content="/jira"> 
  <meta name="ajs-version-number" content="7.6.3"> 
  <meta name="ajs-build-number" content="76005"> 
  <meta name="ajs-is-beta" content="false"> 
  <meta name="ajs-is-rc" content="false"> 
  <meta name="ajs-is-snapshot" content="false"> 
  <meta name="ajs-is-milestone" content="false"> 
  <meta name="ajs-remote-user" content=""> 
  <meta name="ajs-remote-user-fullname" content=""> 
  <meta name="ajs-user-locale" content="en_UK"> 
  <meta name="ajs-user-locale-group-separator" content=","> 
  <meta name="ajs-app-title" content="ASF JIRA"> 
  <meta name="ajs-keyboard-shortcuts-enabled" content="true"> 
  <meta name="ajs-keyboard-accesskey-modifier" content="Ctrl+Alt"> 
  <meta name="ajs-enabled-dark-features" content="[&quot;com.atlassian.jira.agile.darkfeature.editable.detailsview&quot;,&quot;nps.survey.inline.dialog&quot;,&quot;com.atlassian.jira.agile.darkfeature.edit.closed.sprint.enabled&quot;,&quot;jira.plugin.devstatus.phasetwo&quot;,&quot;jira.frother.reporter.field&quot;,&quot;atlassian.rest.xsrf.legacy.enabled&quot;,&quot;jira.issue.status.lozenge&quot;,&quot;com.atlassian.jira.config.BIG_PIPE&quot;,&quot;com.atlassian.jira.projects.issuenavigator&quot;,&quot;com.atlassian.jira.config.PDL&quot;,&quot;jira.plugin.devstatus.phasetwo.enabled&quot;,&quot;atlassian.aui.raphael.disabled&quot;,&quot;app-switcher.new&quot;,&quot;frother.assignee.field&quot;,&quot;com.atlassian.jira.projects.ProjectCentricNavigation.Switch&quot;,&quot;sd.internal.base.off.thread.on.completion.events.enabled&quot;,&quot;jira.onboarding.cyoa&quot;,&quot;com.atlassian.jira.agile.darkfeature.kanplan.enabled&quot;,&quot;sd.slavalue.record.updated.date.enabled&quot;,&quot;com.atlassian.jira.config.ProjectConfig.MENU&quot;,&quot;com.atlassian.jira.projects.sidebar.DEFER_RESOURCES&quot;,&quot;com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions.enabled&quot;,&quot;com.atlassian.jira.agile.darkfeature.sprint.goal.enabled&quot;,&quot;jira.zdu.admin-updates-ui&quot;,&quot;jira.zdu.jmx-monitoring&quot;,&quot;sd.sla.improved.rendering.enabled&quot;,&quot;sd.canned.responses.enabled&quot;,&quot;sd.new.settings.sidebar.location.disabled&quot;,&quot;jira.zdu.cluster-upgrade-state&quot;,&quot;com.atlassian.jira.agile.darkfeature.splitissue&quot;,&quot;com.atlassian.jira.config.CoreFeatures.LICENSE_ROLES_ENABLED&quot;,&quot;com.atlassian.feedback.feedback-button-move-to-header-enable&quot;,&quot;jira.export.csv.enabled&quot;]"> 
  <meta name="ajs-in-admin-mode" content="false"> 
  <meta name="ajs-is-sysadmin" content="false"> 
  <meta name="ajs-is-admin" content="false"> 
  <meta name="ajs-outgoing-mail-enabled" content="true"> 
  <meta name="ajs-date-relativize" content="true"> 
  <meta name="ajs-date-time" content="HH:mm"> 
  <meta name="ajs-date-day" content="EEEE HH:mm"> 
  <meta name="ajs-date-dmy" content="dd/MMM/yy"> 
  <meta name="ajs-date-complete" content="dd/MMM/yy HH:mm"> 
  <script type="text/javascript">var AJS=AJS||{};AJS.debug=true;</script> 
  <meta id="atlassian-token" name="atlassian-token" content="A5KQ-2QAV-T4JA-FDED|6fdd6f69a531720b9608720ec235eb0947fa65cd|lout"> 
  <link rel="shortcut icon" href="/jira/s/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/_/favicon.ico"> 
  <!--[if IE]><![endif]--> 
  <script type="text/javascript">
    (function() {
        var contextPath = '/jira';
        var eventBuffer = [];

        function printDeprecatedMsg() {
            if (console && console.warn) {
                console.warn('DEPRECATED JS - contextPath global variable has been deprecated since 7.4.0. Use `wrm/context-path` module instead.');
            }
        }

        function sendEvent(analytics, postfix) {
            analytics.send({
                name: 'js.globals.contextPath.' + postfix
            });
        }

        function sendDeprecatedEvent(postfix) {
            try {
                var analytics = require('jira/analytics');
                if (eventBuffer.length) {
                    eventBuffer.forEach(function(value) {
                        sendEvent(analytics, value);
                    });
                    eventBuffer = [];
                }

                if (postfix) {
                    sendEvent(analytics, postfix);
                }
            } catch(ex) {
                eventBuffer.push(postfix);
                setTimeout(sendDeprecatedEvent, 1000);
            }
        }

        Object.defineProperty(window, 'contextPath', {
            get: function() {
                printDeprecatedMsg();
                sendDeprecatedEvent('get');
                return contextPath;
            },
            set: function(value) {
                printDeprecatedMsg();
                sendDeprecatedEvent('set');
                contextPath = value;
            }
        });
    })();

</script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["com.atlassian.plugins.atlassian-plugins-webresource-plugin:context-path.context-path"]="\"/jira\"";
WRM._unparsedData["jira.webresources:feature-flags.feature-flag-data"]="{\"enabled-feature-keys\":[\"com.atlassian.jira.agile.darkfeature.editable.detailsview\",\"nps.survey.inline.dialog\",\"com.atlassian.jira.agile.darkfeature.edit.closed.sprint.enabled\",\"jira.plugin.devstatus.phasetwo\",\"jira.frother.reporter.field\",\"atlassian.rest.xsrf.legacy.enabled\",\"jira.issue.status.lozenge\",\"com.atlassian.jira.config.BIG_PIPE\",\"com.atlassian.jira.projects.issuenavigator\",\"com.atlassian.jira.config.PDL\",\"jira.plugin.devstatus.phasetwo.enabled\",\"atlassian.aui.raphael.disabled\",\"app-switcher.new\",\"frother.assignee.field\",\"com.atlassian.jira.projects.ProjectCentricNavigation.Switch\",\"sd.internal.base.off.thread.on.completion.events.enabled\",\"jira.onboarding.cyoa\",\"com.atlassian.jira.agile.darkfeature.kanplan.enabled\",\"sd.slavalue.record.updated.date.enabled\",\"com.atlassian.jira.config.ProjectConfig.MENU\",\"com.atlassian.jira.projects.sidebar.DEFER_RESOURCES\",\"com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions.enabled\",\"com.atlassian.jira.agile.darkfeature.sprint.goal.enabled\",\"jira.zdu.admin-updates-ui\",\"jira.zdu.jmx-monitoring\",\"sd.sla.improved.rendering.enabled\",\"sd.canned.responses.enabled\",\"sd.new.settings.sidebar.location.disabled\",\"jira.zdu.cluster-upgrade-state\",\"com.atlassian.jira.agile.darkfeature.splitissue\",\"com.atlassian.jira.config.CoreFeatures.LICENSE_ROLES_ENABLED\",\"com.atlassian.feedback.feedback-button-move-to-header-enable\",\"jira.export.csv.enabled\"],\"feature-flag-states\":{\"com.atlassian.jira.agile.darkfeature.kanplan\":false,\"sd.internal.base.off.thread.on.completion.events\":false,\"jira.instrumentation.laas\":false,\"com.atlassian.jira.agile.darkfeature.edit.closed.sprint\":false,\"com.atlassian.jira.issuetable.draggable\":true,\"jira.create.linked.issue\":true,\"com.atlassian.jira.agile.darkfeature.sprint.goal\":false,\"jira.sal.host.connect.accessor.existing.transaction.will.create.transactions\":true,\"jira.jql.suggestrecentfields\":false,\"com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions\":false,\"jira.jql.smartautoselectfirst\":false,\"com.atlassian.jira.agile.darkfeature.optimistic.transitions\":true,\"com.atlassian.jira.issuetable.move.links.hidden\":true,\"jira.priorities.per.project\":true,\"com.atlassian.jira.upgrade.startup.fix.index\":true,\"jira.renderer.consider.variable.format\":true}}";
WRM._unparsedData["jira.webresources:default-comment-security-level.DefaultCommentSecurityLevelHelpLink"]="{\"extraClasses\":\"default-comment-level-help\",\"title\":\"Commenting on an Issue\",\"url\":\"https://docs.atlassian.com/jira/jcore-docs-076/Editing+and+collaborating+on+issues#Editingandcollaboratingonissues-restrictacomment\",\"isLocal\":false}";
WRM._unparsedData["jira.webresources:dateFormatProvider.allFormats"]="{\"dateFormats\":{\"meridiem\":[\"AM\",\"PM\"],\"eras\":[\"BC\",\"AD\"],\"months\":[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],\"monthsShort\":[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],\"weekdaysShort\":[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"],\"weekdays\":[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"]},\"lookAndFeelFormats\":{\"relativize\":\"true\",\"time\":\"HH:mm\",\"day\":\"EEEE HH:mm\",\"dmy\":\"dd/MMM/yy\",\"complete\":\"dd/MMM/yy HH:mm\"}}";
WRM._unparsedData["com.atlassian.jira.jira-issue-nav-components:issueviewer.features"]="{\"rteEnabled\":true}";
WRM._unparsedData["com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone.thumbnail-mime-types"]="\"image/vnd.wap.wbmp,image/png,image/x-png,image/jpeg,image/bmp,image/gif\"";
WRM._unparsedData["com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone.upload-limit"]="\"62914560\"";
WRM._unparsedData["com.atlassian.plugins.helptips.jira-help-tips:help-tip-manager.JiraHelpTipData"]="{\"anonymous\":true}";
WRM._unparsedData["com.atlassian.jira.jira-view-issue-plugin:controller-subtasks.controller.subtasks.parameters"]="{\"url\":\"/rest/api/2/issue/{issueId}/subtask/move\"}";
WRM._unparsedData["com.atlassian.analytics.analytics-client:policy-update-init.policy-update-data-provider"]="false";
WRM._unparsedData["com.atlassian.analytics.analytics-client:programmatic-analytics-init.programmatic-analytics-data-provider"]="false";
WRM._unparsedData["jira.webresources:avatar-picker.data"]="{}";
WRM._unparsedData["com.atlassian.feedback.jira-feedback-plugin:button-resources-init.data"]="{\"jira.feedback.plugin.issue.collector.core\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"jira.feedback.plugin.issue.collector.default\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"jira.feedback.plugin.issue.collector.service.desk\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector.js?locale=en-UK&collectorId=a698db21\",\"jira.feedback.plugin.issue.collector.software\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"isHeaderFeedbackButtonEnabled\":true}";
WRM._unparsedData["com.atlassian.jira.jira-header-plugin:dismissedFlags.flags"]="{\"dismissed\":[]}";
WRM._unparsedData["com.atlassian.jira.jira-header-plugin:newsletter-signup-tip-init.newsletterSignup"]="{\"signupDescription\":\"Get updates, inspiration and best practices from the team behind JIRA.\",\"formUrl\":\"https://www.atlassian.com/apis/exact-target/{0}/subscribe?mailingListId=1401671\",\"signupTitle\":\"Sign up!\",\"signupId\":\"newsletter-signup-tip\",\"showNewsletterTip\":false}";
WRM._unparsedData["com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources.ptAnalyticsData"]="{\"instanceCreatedDate\":\"2011-01-31\"}";
WRM._unparsedData["com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources.help-data"]="{\"showHelp\":true,\"editorDocumentationUrl\":[\"https://docs.atlassian.com/jira/jcore-docs-076/Visual+editing\"],\"editorDocumentationTitle\":[\"Show me documentation for the visual editor\"]}";
WRM._unparsedData["com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources.thumbnails-allowed"]="false";
WRM._unparsedData["jira.webresources:user-message-flags.adminLockout"]="{}";
WRM._unparsedData["jira.request.correlation-id"]="\"10a8f78a3eb879\"";
WRM._unparsedData["project-id"]="10594";
WRM._unparsedData["project-key"]="\"DERBY\"";
WRM._unparsedData["project-name"]="\"Derby\"";
WRM._unparsedData["project-type"]="\"software\"";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:generic-filters"]="[{\"id\":\"allissues\",\"jql\":\"project = \\\"{0}\\\" ORDER BY {1}\",\"defaultOrderby\":\"created DESC\",\"label\":\"All issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[]},{\"id\":\"allopenissues\",\"jql\":\"project = \\\"{0}\\\" AND resolution = Unresolved ORDER BY {1}\",\"defaultOrderby\":\"priority DESC, updated DESC\",\"label\":\"Open issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"resolution\"]},{\"id\":\"doneissues\",\"jql\":\"project = \\\"{0}\\\" AND statusCategory = Done ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Done issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":false,\"fields\":[\"status\"]},{\"id\":\"recentlyviewed\",\"jql\":\"project = \\\"{0}\\\" AND issuekey in issueHistory() ORDER BY {1}\",\"defaultOrderby\":\"lastViewed DESC\",\"label\":\"Viewed recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"issuekey\"]},{\"id\":\"addedrecently\",\"jql\":\"project = \\\"{0}\\\" AND created \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"created DESC\",\"label\":\"Created recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"created\"]},{\"id\":\"resolvedrecently\",\"jql\":\"project = \\\"{0}\\\" AND resolutiondate \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Resolved recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":false,\"fields\":[\"resolutiondate\"]},{\"id\":\"updatedrecently\",\"jql\":\"project = \\\"{0}\\\" AND updated \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Updated recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"updated\"]}]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:default-filter-priority"]="[\"allopenissues\",\"allissues\"]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:can-manage-filters"]="false";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:project-filters"]="[]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:can-create-issues"]="false";
WRM._unparsedData["projectId"]="10594";
WRM._unparsedData["projectKey"]="\"DERBY\"";
WRM._unparsedData["projectType"]="\"software\"";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:server-rendered"]="true";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/a8a4711bc3f2eb261d8c8fd9fbcbba8b-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1fca1750044f2777c977e8d8cc023344/_/download/contextbatch/css/_super/batch.css" data-wrm-key="_super" data-wrm-batch-type="context" media="all"> 
  <link type="text/css" rel="stylesheet" href="/jira/s/74ac580603ca910fff0cfdf319e54add-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/fbf45109b31165e5b7740a9d72318cea/_/download/contextbatch/css/project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super/batch.css?agile_global_admin_condition=true&amp;hc-enabled=true&amp;is-server-instance=true&amp;jag=true&amp;jira.create.linked.issue=true&amp;nps-acknowledged=true&amp;richediton=true" data-wrm-key="project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super" data-wrm-batch-type="context" media="all"> 
  <link type="text/css" rel="stylesheet" href="/jira/s/611672383f6cab00ab202241ba6f9d68-T/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/7.6.3/_/download/batch/com.atlassian.feedback.jira-feedback-plugin:button-resources-init/com.atlassian.feedback.jira-feedback-plugin:button-resources-init.css" data-wrm-key="com.atlassian.feedback.jira-feedback-plugin:button-resources-init" data-wrm-batch-type="resource" media="all"> 
  <script type="text/javascript" src="/jira/s/98ceb006e504d7924d5ffc411626c6bc-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1fca1750044f2777c977e8d8cc023344/_/download/contextbatch/js/_super/batch.js?locale=en-UK" data-wrm-key="_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/c1e4d26ea276469807c3dc0918df482c-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/fbf45109b31165e5b7740a9d72318cea/_/download/contextbatch/js/project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super/batch.js?agile_global_admin_condition=true&amp;hc-enabled=true&amp;is-server-instance=true&amp;jag=true&amp;jira.create.linked.issue=true&amp;locale=en-UK&amp;nps-acknowledged=true&amp;richediton=true" data-wrm-key="project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/6bf9253c8d533109c3b02e26794be24e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/871d45c9f322a22cb3aa9b7948a69803/_/download/contextbatch/js/atl.global,-_super/batch.js?locale=en-UK" data-wrm-key="atl.global,-_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:calendar-en/jira.webresources:calendar-en.js" data-wrm-key="jira.webresources:calendar-en" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:calendar-localisation-moment/jira.webresources:calendar-localisation-moment.js" data-wrm-key="jira.webresources:calendar-localisation-moment" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/7.6.3/_/download/batch/com.atlassian.feedback.jira-feedback-plugin:button-resources/com.atlassian.feedback.jira-feedback-plugin:button-resources.js" data-wrm-key="com.atlassian.feedback.jira-feedback-plugin:button-resources" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/ccd2e67b523185973473e8bd5735c8f9-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/e0de73613a1027de08f3da6a45e1d1a2/_/download/contextbatch/css/jira.global.look-and-feel,-_super/batch.css" data-wrm-key="jira.global.look-and-feel,-_super" data-wrm-batch-type="context" media="all"> 
  <script type="text/javascript" src="/jira/rest/api/1.0/shortcuts/76005/33e5e0166867c8c9228d44506f60b2e8/shortcuts.js?context=issuenavigation&amp;context=issueaction"></script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["com.atlassian.jira.jira-issue-nav-components:inline-edit-enabled"]="true";
WRM._unparsedData["should-display-chaperone"]="false";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/15712b600e9aecf72ffd9fd3704a0c78-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/6b22a15c7b83f87a47b1757076f43542/_/download/contextbatch/css/com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue/batch.css?jira.create.linked.issue=true&amp;richediton=true" data-wrm-key="com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue" data-wrm-batch-type="context" media="all"> 
  <script type="text/javascript" src="/jira/s/6579b6b8ba67abaa496e39b9242a18a4-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/6b22a15c7b83f87a47b1757076f43542/_/download/contextbatch/js/com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue/batch.js?jira.create.linked.issue=true&amp;locale=en-UK&amp;richediton=true" data-wrm-key="com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue" data-wrm-batch-type="context" data-initially-rendered></script> 
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge"> 
  <meta name="ajs-can-search-users" content="false"> 
  <meta name="ajs-can-edit-watchers" content="false"> 
  <meta name="ajs-default-avatar-url" content="https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10453"> 
  <meta name="ajs-issue-project-type" content="software"> 
  <meta name="ajs-issue-key" content="DERBY-2763"> 
  <meta name="ajs-server-view-issue-is-editable" content="false"> 
  <title>[DERBY-2763] In the Network Client InputStreams and Readers returned from LOB's should be sensitive to underlying LOB data changes. - ASF JIRA</title> 
  <link rel="search" type="application/opensearchdescription+xml" href="/jira/osd.jsp" title="[DERBY-2763] In the Network Client InputStreams and Readers returned from LOB's should be sensitive to underlying LOB data changes. - ASF JIRA"> 
 </head> 
 <body id="jira" class="aui-layout aui-theme-default " data-version="7.6.3"> 
  <div id="page"> 
   <header id="header" role="banner"> 
    <script>
require(["jquery", "jira/license-banner"], function ($, licenseBanner) {
    $(function () {
        licenseBanner.showLicenseBanner("");
        licenseBanner.showLicenseFlag("");
    });
});
</script> 
    <nav class="aui-header aui-dropdown2-trigger-group" role="navigation">
     <div class="aui-header-inner">
      <div class="aui-header-before">
       <a class=" aui-dropdown2-trigger app-switcher-trigger" aria-controls="app-switcher" aria-haspopup="true" role="button" tabindex="0" data-aui-trigger href="#app-switcher"><span class="aui-icon aui-icon-small aui-iconfont-appswitcher">Linked Applications</span></a>
       <div id="app-switcher" class="aui-dropdown2 aui-style-default" role="menu" aria-hidden="true" data-is-switcher="true" data-environment="{&quot;isUserAdmin&quot;:false,&quot;isAppSuggestionAvailable&quot;:false,&quot;isSiteAdminUser&quot;:false}">
        <div role="application">
         <div class="app-switcher-loading">
          Loadingâ€¦
         </div>
        </div>
       </div>
      </div>
      <div class="aui-header-primary">
       <h1 id="logo" class="aui-header-logo aui-header-logo-custom"><a href="https://issues.apache.org/jira/secure/MyJiraHome.jspa"><img src="/jira/s/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/_/jira-logo-scaled.png" alt="ASF JIRA"></a></h1>
       <ul class="aui-nav">
        <li><a href="/jira/secure/Dashboard.jspa" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="home_link" aria-haspopup="true" aria-controls="home_link-content" title="View and manage your dashboards" accesskey="d">Dashboards</a>
         <div class="aui-dropdown2 aui-style-default" id="home_link-content" data-aui-dropdown2-ajax-key="home_link"></div></li>
        <li><a href="/jira/browse/DERBY" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="browse_link" aria-haspopup="true" aria-controls="browse_link-content" title="View recent projects and browse a list of projects" accesskey="p">Projects</a>
         <div class="aui-dropdown2 aui-style-default" id="browse_link-content" data-aui-dropdown2-ajax-key="browse_link"></div></li>
        <li><a href="/jira/issues/" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="find_link" aria-haspopup="true" aria-controls="find_link-content" title="Search for issues and view recent issues" accesskey="i">Issues</a>
         <div class="aui-dropdown2 aui-style-default" id="find_link-content" data-aui-dropdown2-ajax-key="find_link"></div></li> 
       </ul>
      </div>
      <div class="aui-header-secondary">
       <ul class="aui-nav">
        <li id="quicksearch-menu"> 
         <form action="/jira/secure/QuickSearch.jspa" method="get" id="quicksearch" class="aui-quicksearch dont-default-focus ajs-dirty-warning-exempt"> 
          <input id="quickSearchInput" class="search" type="text" title="Search" placeholder="Search" name="searchString" accessKey="q"> 
          <input type="submit" class="hidden" value="Search"> 
         </form> </li> 
        <li><a class="jira-feedback-plugin" role="button" aria-haspopup="true" id="jira-header-feedback-link" href="#"><span class="aui-icon aui-icon-small jira-feedback-plugin-icon">Give feedback to Atlassian</span></a></li> 
        <li id="system-help-menu"> <a class="aui-nav-link aui-dropdown2-trigger" id="help_menu" aria-haspopup="true" aria-owns="system-help-menu-content" href="https://docs.atlassian.com/jira/jcore-docs-076/" target="$textUtils.htmlEncode($rootHelpMenuItem.params.target)" title="Help"><span class="aui-icon aui-icon-small aui-iconfont-help">Help</span></a> 
         <div id="system-help-menu-content" class="aui-dropdown2 aui-style-default"> 
          <div class="aui-dropdown2-section"> 
           <ul id="jira-help" class="aui-list-truncate"> 
            <li> <a id="view_core_help" class="aui-nav-link " title="Go to the online documentation for JIRA Core" href="https://docs.atlassian.com/jira/jcore-docs-076/" target="_blank">JIRA Core help</a> </li> 
            <li> <a id="keyshortscuthelp" class="aui-nav-link " title="Get more information about JIRA's Keyboard Shortcuts" href="/jira/secure/ViewKeyboardShortcuts!default.jspa" target="_blank">Keyboard Shortcuts</a> </li> 
            <li> <a id="view_about" class="aui-nav-link " title="Get more information about JIRA" href="/jira/secure/AboutPage.jspa">About JIRA</a> </li> 
            <li> <a id="view_credits" class="aui-nav-link " title="See who did what" href="/jira/secure/JiraCreditsPage!default.jspa" target="_blank">JIRA Credits</a> </li> 
           </ul> 
          </div> 
         </div> </li> 
        <li id="user-options"> <a class="aui-nav-link login-link" href="/jira/login.jsp?os_destination=%2Fbrowse%2FDERBY-2763">Log In</a> 
         <div id="user-options-content" class="aui-dropdown2 aui-style-default"> 
          <div class="aui-dropdown2-section"> 
          </div> 
         </div> </li> 
       </ul>
      </div>
     </div>
     <!-- .aui-header-inner-->
    </nav>
    <!-- .aui-header --> 
   </header> 
   <section id="content" role="main"> 
    <big-pipe data-id="sidebar-id" unresolved></big-pipe>
    <div class="aui-sidebar  sidebar-placeholder">
     <div class="aui-sidebar-wrapper">
      <div class="aui-sidebar-body"></div>
      <div class="aui-sidebar-footer">
       <a class="aui-button aui-button-subtle aui-sidebar-toggle aui-sidebar-footer-tipsy" data-tooltip="Expand sidebar ( [ )" href="#"><span class="aui-icon aui-icon-small"></span></a>
      </div>
     </div>
    </div>
    <script id="projects-sidebar-init">
    require(['jira/projects/sidebar/expansion-manager'], function(expansionManager) {
        var scriptTag = document.getElementById('projects-sidebar-init');
        var sidebar = AJS.sidebar('.aui-sidebar');
        expansionManager(sidebar);
        scriptTag.parentElement.removeChild(scriptTag);
    });
    </script>
    <div class="aui-page-panel">
     <div class="aui-page-panel-inner">
      <div class="issue-navigator">
       <div class="content">
        <div class="issue-view">
         <div class="navigation-tools">
          <div class="pager-container"></div>
         </div>
         <div class="issue-container">
          <div id="issue-content" class="issue-edit-form">
           <header id="stalker" class="issue-header js-stalker">
            <div class="issue-header-content">
             <header class="aui-page-header">
              <div class="aui-page-header-inner">
               <div class="aui-page-header-image">
                <span id="10594" class="aui-avatar aui-avatar-large aui-avatar-project"><span class="aui-avatar-inner"><img id="project-avatar" alt="Uploaded image for project: 'Derby'" src="https://issues.apache.org/jira/secure/projectavatar?pid=10594&amp;avatarId=10122"></span></span>
               </div>
               <!-- .aui-page-header-image -->
               <div class="aui-page-header-main">
                <ol class="aui-nav aui-nav-breadcrumbs">
                 <li><a id="project-name-val" href="/jira/browse/DERBY">Derby</a></li>
                 <li><a class="issue-link" data-issue-key="DERBY-2763" href="/jira/browse/DERBY-2763" id="key-val" rel="12370925">DERBY-2763</a></li>
                </ol>
                <h1 id="summary-val">In the Network Client InputStreams and Readers returned from LOB's should be sensitive to underlying LOB data changes.</h1>
               </div>
               <!-- .aui-page-header-main -->
               <div class="aui-page-header-actions">
                <div id="issue-header-pager"></div>
               </div>
               <!-- .aui-page-header-actions -->
              </div>
              <!-- .aui-page-header-inner -->
             </header>
             <!-- .aui-page-header -->
             <div class="command-bar">
              <div class="ops-cont">
               <div class="ops-menus aui-toolbar">
                <div class="toolbar-split toolbar-split-left">
                 <ul id="opsbar-ops-login-lnk_container" class="toolbar-group pluggable-ops">
                  <li class="toolbar-item"><a id="ops-login-lnk" title="Log In" class="toolbar-trigger" href="/jira/login.jsp?os_destination=%2Fbrowse%2FDERBY-2763"><span class="trigger-label">Log In</span></a></li>
                 </ul>
                 <ul id="opsbar-opsbar-operations" class="toolbar-group pluggable-ops"></ul>
                 <ul id="opsbar-opsbar-transitions" class="toolbar-group pluggable-ops"></ul>
                 <ul id="opsbar-opsbar-admin" class="toolbar-group pluggable-ops"></ul>
                </div>
                <div class="toolbar-split toolbar-split-right">
                 <ul id="opsbar-jira.issue.tools" class="toolbar-group pluggable-ops">
                  <li class="toolbar-item">
                   <div>
                    <a href="#" id="viewissue-export" aria-owns="viewissue-export_drop" aria-haspopup="true" title="Export this issue in another format" class="toolbar-trigger aui-button aui-style-default aui-dropdown2-trigger"><span class="icon icon-default aui-icon aui-icon-small aui-iconfont-export"></span> <span class="dropdown-text">Export</span></a>
                    <div id="viewissue-export_drop" class="aui-style-default aui-dropdown2">
                     <ul>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-xml/DERBY-2763/DERBY-2763.xml" id="jira.issueviews:issue-xml"><span class="trigger-label">XML</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-word/DERBY-2763/DERBY-2763.doc" id="jira.issueviews:issue-word"><span class="trigger-label">Word</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-html/DERBY-2763/DERBY-2763.html" id="jira.issueviews:issue-html"><span class="trigger-label">Printable</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/com.atlassian.jira.plugins.jira-importers-plugin:issue-json/DERBY-2763/DERBY-2763.json" id="com.atlassian.jira.plugins.jira-importers-plugin:issue-json"><span class="trigger-label">JSON</span></a></li>
                     </ul>
                    </div>
                   </div></li>
                 </ul>
                </div>
               </div>
              </div>
             </div>
            </div>
           </header>
           <div class="issue-body-content">
            <div class="aui-group issue-body">
             <div class="aui-item issue-main-column">
              <div id="details-module" class="module toggle-wrap">
               <div id="details-module_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Details</h2>
               </div>
               <div class="mod-content"> 
                <ul id="issuedetails" class="property-list two-cols"> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Type:</strong> 
                   <span id="type-val" class="value"> <img alt="" height="16" src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype" title="Bug - A problem which impairs or prevents the functions of the product." width="16"> Bug </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Status:</strong> 
                   <span id="status-val" class="value"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done jira-issue-status-lozenge-max-width-medium" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </span> 
                  </div> </li> 
                 <li class="item new"> 
                  <div class="wrap"> 
                   <strong class="name">Priority:</strong> 
                   <span id="priority-val" class="value"> <img alt="" height="16" src="/jira/images/icons/priorities/major.svg" title="Major - Major loss of function." width="16"> Major </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Resolution:</strong> 
                   <span id="resolution-val" class="value resolved"> Fixed </span> 
                  </div> </li> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Affects Version/s:</strong> 
                   <span id="versions-val" class="value"> <span class="shorten" id="versions-field"> <span title="10.3.1.4 ">10.3.1.4</span> </span> </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Fix Version/s:</strong> 
                   <span id="fixfor-val" class="value"> <span class="shorten" id="fixVersions-field"> <a href="/jira/issues/?jql=project+%3D+DERBY+AND+fixVersion+%3D+10.3.1.4" title="10.3.1.4 ">10.3.1.4</a> </span> </span> 
                  </div> </li> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Component/s:</strong> 
                   <span id="components-val" class="value"> <span class="shorten" id="components-field"> <a href="/jira/issues/?jql=project+%3D+DERBY+AND+component+%3D+%22Network+Client%22" title="Network Client ">Network Client</a> </span> </span> 
                  </div> </li> 
                 <li class="item full-width"> 
                  <div class="wrap" id="wrap-labels"> 
                   <strong class="name">Labels:</strong> 
                   <div class="labels-wrap value"> 
                    <span class="labels" id="labels-12370925-value">None</span> 
                   </div> 
                  </div> </li> 
                </ul> 
               </div>
              </div>
              <div id="descriptionmodule" class="module toggle-wrap">
               <div id="descriptionmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Description</h2>
               </div>
               <div class="mod-content">
                <div id="description-val" class="field-ignore-highlight"> 
                 <div class="user-content-block"> 
                  <p>Currently the Embedded and Network Client would differ <br> in behaviour when the following series of steps is <br> followed.</p> 
                  <p>a) Create an empty Blob<br> b) get an InputStream using Blob.getBinaryStream()<br> c) write data into this Blob<br> c.1) Get an OutputStream<br> c.2) Use OutputStream.write(byte [] b) to write<br> into this Blob.<br> d) Now read from the InputStream obtained in step b)<br> and print the number of bytes read as output.</p> 
                  <p>The output of step d) differs in the client and in the Embedded side.</p> 
                  <p>In the Client<br> -------------</p> 
                  <p>The number of bytes read would always be -1.</p> 
                  <p>In the Embedded<br> ---------------</p> 
                  <p>The number of bytes would be the number of bytes we<br> reflected.</p> 
                  <p>The above behaviour in the NetworkClient is because<br> the length of the Blob is read once and stored in the <br> constructor of the locator Stream returned (in the <br> attribute maxPos).</p> 
                  <p>This instead should be read each time we use the streams.</p> 
                  <p>A similar issue exists for Clobs also.</p> 
                  <p>I will raise a seperate JIRA issue for this.</p> 
                 </div> 
                </div> 
               </div>
              </div>
              <div id="dnd-metadata" class="module toggle-wrap">
               <div id="dnd-metadata_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Attachments</h2>
               </div>
               <div class="mod-content">
                <div id="dnd-metadata-webpanel" data-can-attach="false" data-project-type="software" data-upload-limit="62914560" data-thumbnails-allowed="false"></div>
               </div>
              </div>
              <div id="attachmentmodule" class="module toggle-wrap">
               <div id="attachmentmodule_heading" class="mod-header">
                <ul class="ops">
                 <li class="drop">
                  <div class="aui-dd-parent">
                   <a href="#" class="icon drop-menu js-default-dropdown" title="Options"><span>Options</span></a>
                   <div class="aui-dropdown-content aui-list">
                    <ul id="attachment-sorting-options" class="aui-list-section aui-first">
                     <li class="aui-list-item"><a id="attachment-sort-key-name" href="/jira/browse/DERBY-2763?attachmentSortBy=fileName#attachmentmodule" class="aui-list-checked aui-checked aui-list-item-link" title="viewissue.subtasks.tab.show.all.name"><span>Sort By Name</span></a></li>
                     <li class="aui-list-item"><a id="attachment-sort-key-date" href="/jira/browse/DERBY-2763?attachmentSortBy=dateTime#attachmentmodule" class="aui-list-checked aui-list-item-link" title="Sort By Date"><span>Sort By Date</span></a></li>
                    </ul>
                    <ul id="attachment-sorting-order-options" class="aui-list-section aui-last">
                     <li class="aui-list-item"><a id="attachment-sort-direction-asc" href="/jira/browse/DERBY-2763?attachmentOrder=asc#attachmentmodule" class="aui-list-checked aui-checked aui-list-item-link" title="Ascending"><span>Ascending</span></a></li>
                     <li class="aui-list-item"><a id="attachment-sort-direction-desc" href="/jira/browse/DERBY-2763?attachmentOrder=desc#attachmentmodule" class="aui-list-checked aui-list-item-link" title="Descending"><span>Descending</span></a></li>
                    </ul>
                   </div>
                  </div></li>
                </ul>
                <h2 class="toggle-title">Attachments</h2>
               </div>
               <div class="mod-content">
                <ol id="file_attachments" class="item-attachments" data-sort-key="fileName" data-sort-order="asc">
                 <li class="attachment-content js-file-attachment" data-attachment-id="12359336" data-issue-id="12370925" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12359336/Approach_2.diff" draggable="true" data-downloadurl="text/x-patch:Approach_2.diff:https://issues.apache.org/jira/secure/attachment/12359336/Approach_2.diff"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12359336/Approach_2.diff" title="Latest  09/Jun/07 14:37 - V.Narayanan" draggable="true" data-downloadurl="text/x-patch:Approach_2.diff:https://issues.apache.org/jira/secure/attachment/12359336/Approach_2.diff">Approach_2.diff</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2007-06-09T14:37:09.800Z">09/Jun/07 14:37</time>
                   </dd>
                   <dd class="attachment-size">
                    38 kB
                   </dd>
                   <dd class="attachment-author">
                    V.Narayanan
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12359337" data-issue-id="12370925" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12359337/Approach_2.stat" draggable="true" data-downloadurl="application/octet-stream:Approach_2.stat:https://issues.apache.org/jira/secure/attachment/12359337/Approach_2.stat"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12359337/Approach_2.stat" title="Latest  09/Jun/07 14:37 - V.Narayanan" draggable="true" data-downloadurl="application/octet-stream:Approach_2.stat:https://issues.apache.org/jira/secure/attachment/12359337/Approach_2.stat">Approach_2.stat</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2007-06-09T14:37:09.887Z">09/Jun/07 14:37</time>
                   </dd>
                   <dd class="attachment-size">
                    1.0 kB
                   </dd>
                   <dd class="attachment-author">
                    V.Narayanan
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12359338" data-issue-id="12370925" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12359338/Approach_2.txt" draggable="true" data-downloadurl="text/plain:Approach_2.txt:https://issues.apache.org/jira/secure/attachment/12359338/Approach_2.txt"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12359338/Approach_2.txt" title="Latest  09/Jun/07 14:37 - V.Narayanan" draggable="true" data-downloadurl="text/plain:Approach_2.txt:https://issues.apache.org/jira/secure/attachment/12359338/Approach_2.txt">Approach_2.txt</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2007-06-09T14:37:09.904Z">09/Jun/07 14:37</time>
                   </dd>
                   <dd class="attachment-size">
                    2 kB
                   </dd>
                   <dd class="attachment-author">
                    V.Narayanan
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12359339" data-issue-id="12370925" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12359339/Approach_3.diff" draggable="true" data-downloadurl="text/x-patch:Approach_3.diff:https://issues.apache.org/jira/secure/attachment/12359339/Approach_3.diff"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12359339/Approach_3.diff" title="Latest  09/Jun/07 14:52 - V.Narayanan" draggable="true" data-downloadurl="text/x-patch:Approach_3.diff:https://issues.apache.org/jira/secure/attachment/12359339/Approach_3.diff">Approach_3.diff</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2007-06-09T14:52:58.067Z">09/Jun/07 14:52</time>
                   </dd>
                   <dd class="attachment-size">
                    28 kB
                   </dd>
                   <dd class="attachment-author">
                    V.Narayanan
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12359340" data-issue-id="12370925" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12359340/Approach_3.stat" draggable="true" data-downloadurl="application/octet-stream:Approach_3.stat:https://issues.apache.org/jira/secure/attachment/12359340/Approach_3.stat"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12359340/Approach_3.stat" title="Latest  09/Jun/07 14:52 - V.Narayanan" draggable="true" data-downloadurl="application/octet-stream:Approach_3.stat:https://issues.apache.org/jira/secure/attachment/12359340/Approach_3.stat">Approach_3.stat</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2007-06-09T14:52:58.187Z">09/Jun/07 14:52</time>
                   </dd>
                   <dd class="attachment-size">
                    0.7 kB
                   </dd>
                   <dd class="attachment-author">
                    V.Narayanan
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12359341" data-issue-id="12370925" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12359341/Approach_4.diff" draggable="true" data-downloadurl="text/x-patch:Approach_4.diff:https://issues.apache.org/jira/secure/attachment/12359341/Approach_4.diff"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12359341/Approach_4.diff" title="Latest  09/Jun/07 15:01 - V.Narayanan" draggable="true" data-downloadurl="text/x-patch:Approach_4.diff:https://issues.apache.org/jira/secure/attachment/12359341/Approach_4.diff">Approach_4.diff</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2007-06-09T15:01:45.773Z">09/Jun/07 15:01</time>
                   </dd>
                   <dd class="attachment-size">
                    6 kB
                   </dd>
                   <dd class="attachment-author">
                    V.Narayanan
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12359342" data-issue-id="12370925" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12359342/Approach_4.stat" draggable="true" data-downloadurl="application/octet-stream:Approach_4.stat:https://issues.apache.org/jira/secure/attachment/12359342/Approach_4.stat"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12359342/Approach_4.stat" title="Latest  09/Jun/07 15:01 - V.Narayanan" draggable="true" data-downloadurl="application/octet-stream:Approach_4.stat:https://issues.apache.org/jira/secure/attachment/12359342/Approach_4.stat">Approach_4.stat</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2007-06-09T15:01:45.842Z">09/Jun/07 15:01</time>
                   </dd>
                   <dd class="attachment-size">
                    0.2 kB
                   </dd>
                   <dd class="attachment-author">
                    V.Narayanan
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12358970" data-issue-id="12370925" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12358970/LOBLengthPersists.java" draggable="true" data-downloadurl="text/x-java:LOBLengthPersists.java:https://issues.apache.org/jira/secure/attachment/12358970/LOBLengthPersists.java"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-code" title="Java Source File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12358970/LOBLengthPersists.java" title="Latest  05/Jun/07 13:53 - V.Narayanan" draggable="true" data-downloadurl="text/x-java:LOBLengthPersists.java:https://issues.apache.org/jira/secure/attachment/12358970/LOBLengthPersists.java">LOBLengthPersists.java</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2007-06-05T13:53:07.770Z">05/Jun/07 13:53</time>
                   </dd>
                   <dd class="attachment-size">
                    2 kB
                   </dd>
                   <dd class="attachment-author">
                    V.Narayanan
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12359504" data-issue-id="12370925" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12359504/UpdateSensitiveStreamsForClient_v1.diff" draggable="true" data-downloadurl="text/x-patch:UpdateSensitiveStreamsForClient_v1.diff:https://issues.apache.org/jira/secure/attachment/12359504/UpdateSensitiveStreamsForClient_v1.diff"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12359504/UpdateSensitiveStreamsForClient_v1.diff" title="Latest  12/Jun/07 12:42 - V.Narayanan" draggable="true" data-downloadurl="text/x-patch:UpdateSensitiveStreamsForClient_v1.diff:https://issues.apache.org/jira/secure/attachment/12359504/UpdateSensitiveStreamsForClient_v1.diff">UpdateSensitiveStreamsForClient_v1.diff</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2007-06-12T12:42:12.559Z">12/Jun/07 12:42</time>
                   </dd>
                   <dd class="attachment-size">
                    53 kB
                   </dd>
                   <dd class="attachment-author">
                    V.Narayanan
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12359505" data-issue-id="12370925" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12359505/UpdateSensitiveStreamsForClient_v1.stat" draggable="true" data-downloadurl="application/octet-stream:UpdateSensitiveStreamsForClient_v1.stat:https://issues.apache.org/jira/secure/attachment/12359505/UpdateSensitiveStreamsForClient_v1.stat"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12359505/UpdateSensitiveStreamsForClient_v1.stat" title="Latest  12/Jun/07 12:42 - V.Narayanan" draggable="true" data-downloadurl="application/octet-stream:UpdateSensitiveStreamsForClient_v1.stat:https://issues.apache.org/jira/secure/attachment/12359505/UpdateSensitiveStreamsForClient_v1.stat">UpdateSensitiveStreamsForClient_v1.stat</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2007-06-12T12:42:12.722Z">12/Jun/07 12:42</time>
                   </dd>
                   <dd class="attachment-size">
                    1 kB
                   </dd>
                   <dd class="attachment-author">
                    V.Narayanan
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12359611" data-issue-id="12370925" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12359611/UpdateSensitiveStreamsForClient_v2.diff" draggable="true" data-downloadurl="text/x-patch:UpdateSensitiveStreamsForClient_v2.diff:https://issues.apache.org/jira/secure/attachment/12359611/UpdateSensitiveStreamsForClient_v2.diff"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12359611/UpdateSensitiveStreamsForClient_v2.diff" title="Latest  13/Jun/07 15:55 - V.Narayanan" draggable="true" data-downloadurl="text/x-patch:UpdateSensitiveStreamsForClient_v2.diff:https://issues.apache.org/jira/secure/attachment/12359611/UpdateSensitiveStreamsForClient_v2.diff">UpdateSensitiveStreamsForClient_v2.diff</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2007-06-13T15:55:03.856Z">13/Jun/07 15:55</time>
                   </dd>
                   <dd class="attachment-size">
                    53 kB
                   </dd>
                   <dd class="attachment-author">
                    V.Narayanan
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12359612" data-issue-id="12370925" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12359612/UpdateSensitiveStreamsForClient_v2.stat" draggable="true" data-downloadurl="application/octet-stream:UpdateSensitiveStreamsForClient_v2.stat:https://issues.apache.org/jira/secure/attachment/12359612/UpdateSensitiveStreamsForClient_v2.stat"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12359612/UpdateSensitiveStreamsForClient_v2.stat" title="Latest  13/Jun/07 15:55 - V.Narayanan" draggable="true" data-downloadurl="application/octet-stream:UpdateSensitiveStreamsForClient_v2.stat:https://issues.apache.org/jira/secure/attachment/12359612/UpdateSensitiveStreamsForClient_v2.stat">UpdateSensitiveStreamsForClient_v2.stat</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2007-06-13T15:55:09.204Z">13/Jun/07 15:55</time>
                   </dd>
                   <dd class="attachment-size">
                    1 kB
                   </dd>
                   <dd class="attachment-author">
                    V.Narayanan
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12359678" data-issue-id="12370925" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12359678/UpdateSensitiveStreamsForClient_v3.diff" draggable="true" data-downloadurl="text/x-patch:UpdateSensitiveStreamsForClient_v3.diff:https://issues.apache.org/jira/secure/attachment/12359678/UpdateSensitiveStreamsForClient_v3.diff"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12359678/UpdateSensitiveStreamsForClient_v3.diff" title="Latest  14/Jun/07 07:10 - V.Narayanan" draggable="true" data-downloadurl="text/x-patch:UpdateSensitiveStreamsForClient_v3.diff:https://issues.apache.org/jira/secure/attachment/12359678/UpdateSensitiveStreamsForClient_v3.diff">UpdateSensitiveStreamsForClient_v3.diff</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2007-06-14T07:10:36.077Z">14/Jun/07 07:10</time>
                   </dd>
                   <dd class="attachment-size">
                    53 kB
                   </dd>
                   <dd class="attachment-author">
                    V.Narayanan
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12359679" data-issue-id="12370925" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12359679/UpdateSensitiveStreamsForClient_v3.stat" draggable="true" data-downloadurl="application/octet-stream:UpdateSensitiveStreamsForClient_v3.stat:https://issues.apache.org/jira/secure/attachment/12359679/UpdateSensitiveStreamsForClient_v3.stat"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12359679/UpdateSensitiveStreamsForClient_v3.stat" title="Latest  14/Jun/07 07:10 - V.Narayanan" draggable="true" data-downloadurl="application/octet-stream:UpdateSensitiveStreamsForClient_v3.stat:https://issues.apache.org/jira/secure/attachment/12359679/UpdateSensitiveStreamsForClient_v3.stat">UpdateSensitiveStreamsForClient_v3.stat</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2007-06-14T07:10:37.733Z">14/Jun/07 07:10</time>
                   </dd>
                   <dd class="attachment-size">
                    1 kB
                   </dd>
                   <dd class="attachment-author">
                    V.Narayanan
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12359746" data-issue-id="12370925" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12359746/UpdateSensitiveStreamsForClient_v4.diff" draggable="true" data-downloadurl="text/x-patch:UpdateSensitiveStreamsForClient_v4.diff:https://issues.apache.org/jira/secure/attachment/12359746/UpdateSensitiveStreamsForClient_v4.diff"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12359746/UpdateSensitiveStreamsForClient_v4.diff" title="Latest  14/Jun/07 15:06 - V.Narayanan" draggable="true" data-downloadurl="text/x-patch:UpdateSensitiveStreamsForClient_v4.diff:https://issues.apache.org/jira/secure/attachment/12359746/UpdateSensitiveStreamsForClient_v4.diff">UpdateSensitiveStreamsForClient_v4.diff</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2007-06-14T15:06:20.607Z">14/Jun/07 15:06</time>
                   </dd>
                   <dd class="attachment-size">
                    53 kB
                   </dd>
                   <dd class="attachment-author">
                    V.Narayanan
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12359747" data-issue-id="12370925" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12359747/UpdateSensitiveStreamsForClient_v4.stat" draggable="true" data-downloadurl="application/octet-stream:UpdateSensitiveStreamsForClient_v4.stat:https://issues.apache.org/jira/secure/attachment/12359747/UpdateSensitiveStreamsForClient_v4.stat"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12359747/UpdateSensitiveStreamsForClient_v4.stat" title="Latest  14/Jun/07 15:06 - V.Narayanan" draggable="true" data-downloadurl="application/octet-stream:UpdateSensitiveStreamsForClient_v4.stat:https://issues.apache.org/jira/secure/attachment/12359747/UpdateSensitiveStreamsForClient_v4.stat">UpdateSensitiveStreamsForClient_v4.stat</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2007-06-14T15:06:20.919Z">14/Jun/07 15:06</time>
                   </dd>
                   <dd class="attachment-size">
                    1 kB
                   </dd>
                   <dd class="attachment-author">
                    V.Narayanan
                   </dd>
                  </dl></li>
                </ol>
               </div>
              </div>
              <div id="activitymodule" class="module toggle-wrap">
               <div id="activitymodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Activity</h2>
               </div>
               <div class="mod-content"> 
                <big-pipe data-id="activity-panel-pipe-id" style="height: 70px"> 
                 <div></div> 
                </big-pipe> 
               </div>
              </div>
             </div>
             <div id="viewissuesidebar" class="aui-item issue-side-column">
              <div id="peoplemodule" class="module toggle-wrap">
               <div id="peoplemodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">People</h2>
               </div>
               <div class="mod-content"> 
                <ul class="item-details" id="peopledetails"> 
                 <li class="people-details"> 
                  <dl> 
                   <dt>
                    Assignee:
                   </dt> 
                   <dd> 
                    <span id="assignee-val" class="view-issue-field"> <span class="user-hover" id="issue_summary_assignee_narayanan" rel="narayanan" data-user="{&quot;avatarUrl&quot;:&quot;https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10452&quot;,&quot;displayName&quot;:&quot;V.Narayanan&quot;,&quot;emailAddress&quot;:&quot;v.narayanan@sun.com-disabled&quot;,&quot;username&quot;:&quot;narayanan&quot;}"> <span class="aui-avatar aui-avatar-small"><span class="aui-avatar-inner"><img src="https://issues.apache.org/jira/secure/useravatar?size=small&amp;avatarId=10452" alt="narayanan"></span></span> V.Narayanan </span> </span> 
                   </dd> 
                  </dl> 
                  <dl> 
                   <dt>
                    Reporter:
                   </dt> 
                   <dd> 
                    <span id="reporter-val" class="view-issue-field"> <span class="user-hover" id="issue_summary_reporter_narayanan" rel="narayanan" data-user="{&quot;avatarUrl&quot;:&quot;https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10452&quot;,&quot;displayName&quot;:&quot;V.Narayanan&quot;,&quot;emailAddress&quot;:&quot;v.narayanan@sun.com-disabled&quot;,&quot;username&quot;:&quot;narayanan&quot;}"> <span class="aui-avatar aui-avatar-small"><span class="aui-avatar-inner"><img src="https://issues.apache.org/jira/secure/useravatar?size=small&amp;avatarId=10452" alt="narayanan"></span></span> V.Narayanan </span> </span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
                <ul class="item-details"> 
                 <li> 
                  <dl> 
                   <dt>
                    Votes:
                   </dt> 
                   <dd> 
                    <span id="vote-data" class="aui-badge vote-state-off">0</span> 
                    <span id="vote-label" title="You have to be logged in to vote for an issue.">Vote for this issue</span> 
                   </dd> 
                  </dl> 
                  <dl> 
                   <dt>
                    Watchers:
                   </dt> 
                   <dd> 
                    <span id="watcher-data" class="aui-badge watch-state-off">0</span> 
                    <span id="watch-label" title="You have to be logged in to watch an issue.">Start watching this issue</span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
               </div>
              </div>
              <div id="datesmodule" class="module toggle-wrap">
               <div id="datesmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Dates</h2>
               </div>
               <div class="mod-content"> 
                <ul class="item-details"> 
                 <li> 
                  <dl class="dates"> 
                   <dt>
                    Created:
                   </dt> 
                   <dd class="date user-tz" title="05/Jun/07 13:50"> 
                    <span data-name="Created" id="created-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2007-06-05T13:50:25+0000">05/Jun/07 13:50</time> </span> 
                   </dd> 
                  </dl> 
                  <dl class="dates"> 
                   <dt>
                    Updated:
                   </dt> 
                   <dd class="date user-tz" title="19/Jun/07 12:52"> 
                    <span data-name="Updated" id="updated-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2007-06-19T12:52:54+0000">19/Jun/07 12:52</time> </span> 
                   </dd> 
                  </dl> 
                  <dl class="dates"> 
                   <dt>
                    Resolved:
                   </dt> 
                   <dd class="date user-tz" title="15/Jun/07 06:08"> 
                    <span data-name="Resolved" id="resolutiondate-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2007-06-15T06:08:58+0000">15/Jun/07 06:08</time> </span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
               </div>
              </div>
             </div>
            </div>
           </div>
          </div>
         </div>
        </div>
       </div>
      </div>
     </div>
     <!-- .aui-page-panel-inner -->
    </div>
    <!-- .aui-page-panel -->
    <div class="issue-navigator-init"></div> 
   </section> 
   <footer id="footer" role="contentinfo"> 
    <section class="footer-body"> 
     <ul class="atlassian-footer"> 
      <li> Atlassian JIRA <a class="seo-link" rel="nofollow" href="https://www.atlassian.com/software/jira">Project Management Software</a> <span id="footer-build-information">(v7.6.3#76005-<span title="8a4e38d34af948780dbf52044e7aafb13a7cae58" data-commit-id="8a4e38d34af948780dbf52044e7aafb13a7cae58}">sha1:8a4e38d</span>)</span> </li> 
      <li> <a id="about-link" rel="nofollow" href="/jira/secure/AboutPage.jspa/secure/AboutPage.jspa">About JIRA</a> </li> 
      <li> <a id="footer-report-problem-link" rel="nofollow" href="/jira/secure/CreateIssue!default.jspa">Report a problem</a> </li> 
     </ul> 
     <ul class="atlassian-footer"> 
      <li class="licensemessage"> Powered by a free Atlassian <a rel="nofollow" href="http://www.atlassian.com/software/jira">JIRA</a> open source license for Apache Software Foundation. Try JIRA - <a rel="nofollow" href="http://www.atlassian.com/software/jira">bug tracking software</a> for <i>your</i> team. </li> 
     </ul> 
     <div id="footer-logo">
      <a rel="nofollow" href="http://www.atlassian.com/">Atlassian</a>
     </div> 
    </section> 
    <fieldset class="hidden parameters"> 
     <input type="hidden" title="loggedInUser" value=""> 
     <input type="hidden" title="ajaxTimeout" value="The call to the JIRA server did not complete within the timeout period.  We are unsure of the result of this operation."> 
     <input type="hidden" title="JiraVersion" value="7.6.3"> 
     <input type="hidden" title="ajaxUnauthorised" value="You are not authorised to perform this operation. Please log in."> 
     <input type="hidden" title="baseURL" value="https://issues.apache.org/jira"> 
     <input type="hidden" title="ajaxCommsError" value="The JIRA server could not be contacted. This may be a temporary glitch or the server may be down. "> 
     <input type="hidden" title="ajaxServerError" value="The JIRA server was contacted but has returned an error response. We are unsure of the result of this operation."> 
     <input type="hidden" title="ajaxErrorCloseDialog" value="Close this dialog and press refresh in your browser"> 
     <input type="hidden" title="ajaxErrorDialogHeading" value="Communications Breakdown"> 
     <input type="hidden" title="dirtyMessage" value="You have entered new data on this page. If you navigate away from this page without first saving your data, the changes will be lost."> 
     <input type="hidden" title="dirtyDialogMessage" value="You have entered new data in this dialog. If you navigate away from this dialog without first saving your data, the changes will be lost. Click cancel to return to the dialog."> 
     <input type="hidden" title="keyType" value="Type"> 
     <input type="hidden" title="keyThen" value="then"> 
     <input type="hidden" title="dblClickToExpand" value="Double click to expand"> 
     <input type="hidden" title="actions" value="Actions"> 
     <input type="hidden" title="removeItem" value="Remove"> 
     <input type="hidden" title="workflow" value="Workflow"> 
     <input type="hidden" title="labelNew" value="New Label"> 
     <input type="hidden" title="issueActionsHint" value="Begin typing for available operations or press down to see all"> 
     <input type="hidden" title="closelink" value="Close"> 
     <input type="hidden" title="dotOperations" value="Operations"> 
     <input type="hidden" title="dotLoading" value="Loading..."> 
     <input type="hidden" title="frotherSuggestions" value="Suggestions"> 
     <input type="hidden" title="frotherNomatches" value="No Matches"> 
     <input type="hidden" title="multiselectVersionsError" value="{0} is not a valid version."> 
     <input type="hidden" title="multiselectComponentsError" value="{0} is not a valid component."> 
     <input type="hidden" title="multiselectGenericError" value="The value {0} is invalid."> 
    </fieldset> 
   </footer> 
  </div> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:bigpipe-js/jira.webresources:bigpipe-js.js" data-wrm-key="jira.webresources:bigpipe-js" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["activity-panel-pipe-id"]="\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n    \u003cdiv class=\\\"tabwrap tabs2\\\"\u003e\\n\\n        \u003cul id=\\\"issue-tabs\\\" class=\\\"tabs horizontal\\\"\u003e\\n                                \\n            \u003cli  data-id=\\\"all-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\" data-label=\\\"All\\\" data-href=\\\"\\/jira\\/browse\\/DERBY-2763?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"all-tabpanel\\\" href=\\\"\\/jira\\/browse\\/DERBY-2763?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\"\u003e\u003cstrong\u003eAll\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  class=\\\"active\\\" id=\\\"comment-tabpanel\\\"  data-id=\\\"comment-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel\\\" data-label=\\\"Comments\\\" data-href=\\\"\\/jira\\/browse\\/DERBY-2763?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel\\\"\u003e\\n                            \u003cstrong tabindex=\\\"0\\\"\u003eComments\u003c\\/strong\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"worklog-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\" data-label=\\\"Work Log\\\" data-href=\\\"\\/jira\\/browse\\/DERBY-2763?page=com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"worklog-tabpanel\\\" href=\\\"\\/jira\\/browse\\/DERBY-2763?page=com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\"\u003e\u003cstrong\u003eWork Log\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"changehistory-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\" data-label=\\\"History\\\" data-href=\\\"\\/jira\\/browse\\/DERBY-2763?page=com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"changehistory-tabpanel\\\" href=\\\"\\/jira\\/browse\\/DERBY-2763?page=com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\"\u003e\u003cstrong\u003eHistory\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"activity-stream-issue-tab\\\" data-key=\\\"com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\" data-label=\\\"Activity\\\" data-href=\\\"\\/jira\\/browse\\/DERBY-2763?page=com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"activity-stream-issue-tab\\\" href=\\\"\\/jira\\/browse\\/DERBY-2763?page=com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\"\u003e\u003cstrong\u003eActivity\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"transitions-summary-tabpanel\\\" data-key=\\\"com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\" data-label=\\\"Transitions\\\" data-href=\\\"\\/jira\\/browse\\/DERBY-2763?page=com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"transitions-summary-tabpanel\\\" href=\\\"\\/jira\\/browse\\/DERBY-2763?page=com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\"\u003e\u003cstrong\u003eTransitions\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                \u003c\\/ul\u003e\\n\\n                    \u003cdiv class=\\\"sortwrap\\\"\u003e\\n                                    \u003ca class=\\\"issue-activity-sort-link ajax-activity-content\\\" rel=\\\"nofollow\\\" data-tab-sort data-order=\\\"desc\\\" href=\\\"\\/jira\\/browse\\/DERBY-2763?actionOrder=desc\\\" title=\\\"Ascending order - Click to sort in descending order\\\"\u003e\\n                        \u003cspan class=\\\"aui-icon aui-icon-small aui-iconfont-up\\\"\u003eAscending order - Click to sort in descending order\u003c\\/span\u003e\\n                    \u003c\\/a\u003e\\n                            \u003c\\/div\u003e\\n            \u003c\\/div\u003e\\n    \u003cdiv class=\\\"issuePanelWrapper\\\"\u003e\\n        \u003cdiv class=\\\"issuePanelProgress\\\"\u003e\u003c\\/div\u003e\\n        \u003cdiv class=\\\"issuePanelContainer\\\" id=\\\"issue_actions_container\\\"\u003e\\n                                    \\n\\n\\n\u003cdiv id=\\\"comment-12501561\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-2763?focusedCommentId=12501561&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12501561\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12501561_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12501561_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Jun\\/07 13:53\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-06-05T13:53:07+0000\'\u003e05\\/Jun\\/07 13:53\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eAttaching a reproducible for this issue.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12501561_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12501561_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Jun\\/07 13:53\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-06-05T13:53:07+0000\'\u003e05\\/Jun\\/07 13:53\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Attaching a reproducible for this issue.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12502651\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-2763?focusedCommentId=12502651&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12502651\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"myrna\\\" id=\\\"commentauthor_12502651_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=myrna\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"myrna\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Myrna van Lunteren\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12502651_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Jun\\/07 05:07\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-06-08T05:07:31+0000\'\u003e08\\/Jun\\/07 05:07\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eDoes this need to be fixed in 10.3? Or can it be marked as another difference between client and server (\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-310\\\" title=\\\"Document and\\/or change Derby client code to match behavior with Embedded driver where possible.\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-310\\\"\u003e\u003cdel\u003eDERBY-310\u003c\\/del\u003e\u003c\\/a\u003e)?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"myrna\\\" id=\\\"commentauthor_12502651_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=myrna\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"myrna\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Myrna van Lunteren\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12502651_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Jun\\/07 05:07\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-06-08T05:07:31+0000\'\u003e08\\/Jun\\/07 05:07\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Does this need to be fixed in 10.3? Or can it be marked as another difference between client and server (  DERBY-310  )?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12502666\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-2763?focusedCommentId=12502666&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12502666\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12502666_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12502666_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Jun\\/07 05:26\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-06-08T05:26:23+0000\'\u003e08\\/Jun\\/07 05:26\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI am looking into this issue and will revert back with a solution to this issue before I leave for home today evening.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12502666_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12502666_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Jun\\/07 05:26\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-06-08T05:26:23+0000\'\u003e08\\/Jun\\/07 05:26\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I am looking into this issue and will revert back with a solution to this issue before I leave for home today evening.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12502677\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-2763?focusedCommentId=12502677&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12502677\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12502677_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12502677_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Jun\\/07 05:49\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-06-08T05:49:32+0000\'\u003e08\\/Jun\\/07 05:49\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eIt seems to me that we have quite a few alternative behaviors:\u003c\\/p\u003e\\n\\n\u003cp\u003e1. Streams still see the old data.\u003cbr\\/\u003e\\n2. Streams sees the changes that have been made to the part of the Lob\u003cbr\\/\u003e\\n    that has not yet been read.\u003cbr\\/\u003e\\n3. Streams throw an exception saying that it is invalid since Lob has\u003cbr\\/\u003e\\n    been updated.\u003cbr\\/\u003e\\n4. Change just maxPos and leave the rest as it is (incl. buffering)\u003cbr\\/\u003e\\n5. Do nothing\u003c\\/p\u003e\\n\\n\u003cp\u003eThe spec does not seem to say anything about this.\u003c\\/p\u003e\\n\\n\u003cp\u003e1. is not possible without very much work and overhead.\u003cbr\\/\u003e\\n2. is some work, but will make it similar to embedded.\u003cbr\\/\u003e\\n3. should not be much work, acceptable solution, but different from\u003cbr\\/\u003e\\n    embedded.  However, it would not be much work to make embedded\u003cbr\\/\u003e\\n    behave the same way.\u003cbr\\/\u003e\\n4.-5. even less, need to say that behavior is unpredictable.\u003c\\/p\u003e\\n\\n\u003cp\u003eIn case we pick 2., I think I prefer the same solution as Anurag has\u003cbr\\/\u003e\\ndone for embedded.  It introduces a few more classes, but it isolates\u003cbr\\/\u003e\\nthe mechanism needed here (separation of concerns), and it does not\u003cbr\\/\u003e\\nreimplement mechanisms already provided by Java.  Getting buffering\u003cbr\\/\u003e\\nright may also be a bit tricky, and if there already is a working\u003cbr\\/\u003e\\nmechanism, I do not think we need to change that.\u003c\\/p\u003e\\n\\n\u003cp\u003eA similar situation exists for streams from Clobs(\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-2764\\\" title=\\\"In the Network Client Streams returned using Clob.getAsciiStream() and Clob.getCharacterStream() should reflect the changes made to the underlying Clob.\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-2764\\\"\u003e\u003cdel\u003eDERBY-2764\u003c\\/del\u003e\u003c\\/a\u003e also).\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12502677_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12502677_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Jun\\/07 05:49\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-06-08T05:49:32+0000\'\u003e08\\/Jun\\/07 05:49\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    It seems to me that we have quite a few alternative behaviors: \\n\\n 1. Streams still see the old data. \\n2. Streams sees the changes that have been made to the part of the Lob \\n    that has not yet been read. \\n3. Streams throw an exception saying that it is invalid since Lob has \\n    been updated. \\n4. Change just maxPos and leave the rest as it is (incl. buffering) \\n5. Do nothing \\n\\n The spec does not seem to say anything about this. \\n\\n 1. is not possible without very much work and overhead. \\n2. is some work, but will make it similar to embedded. \\n3. should not be much work, acceptable solution, but different from \\n    embedded.  However, it would not be much work to make embedded \\n    behave the same way. \\n4.-5. even less, need to say that behavior is unpredictable. \\n\\n In case we pick 2., I think I prefer the same solution as Anurag has \\ndone for embedded.  It introduces a few more classes, but it isolates \\nthe mechanism needed here (separation of concerns), and it does not \\nreimplement mechanisms already provided by Java.  Getting buffering \\nright may also be a bit tricky, and if there already is a working \\nmechanism, I do not think we need to change that. \\n\\n A similar situation exists for streams from Clobs(  DERBY-2764   also).              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12502847\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-2763?focusedCommentId=12502847&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12502847\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_12502847_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12502847_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Jun\\/07 15:36\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-06-08T15:36:45+0000\'\u003e08\\/Jun\\/07 15:36\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eHi Narayanan,\u003c\\/p\u003e\\n\\n\u003cp\u003eThanks for the crisp descrition of the possible solutions. I have a couple immediate reactions:\u003c\\/p\u003e\\n\\n\u003cp\u003eA) It would be good if the embedded and network behavior agreed.\u003c\\/p\u003e\\n\\n\u003cp\u003eB) I don\'t  understand what it means to read out of a blob with one hand while you are writing into it with the other.\u003c\\/p\u003e\\n\\n\u003cp\u003eIt\'s worth pointing out that the same issues arise if you are writing to the Blob using Blob.setBytes() at the same time as you are siphoning out bytes using the InputStream returned by Blob.getBinaryStream(). \u003c\\/p\u003e\\n\\n\u003cp\u003eIssue (B) troubles me. What does it mean to read the InputStream up to position X, then insert a block of bytes which straddle that position (i.e., from X-A to X+B)? Quite likely, the inserted bytes have some meaning as a complete block. What does it mean to read only the trailing portion of that block?\u003c\\/p\u003e\\n\\n\u003cp\u003eMy gut feeling is that we should raise an exception if someone tries to write into a Blob which still has an open InputStream on it. I think this should be the behavior for both the embedded and network clients.\u003c\\/p\u003e\\n\\n\u003cp\u003eDo we have real customer demand for some use-case supported by the current embedded behavior? If not, I would recommend raising an exception now. We can relax this in the future if there\'s real demand for a real use-case.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_12502847_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12502847_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Jun\\/07 15:36\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-06-08T15:36:45+0000\'\u003e08\\/Jun\\/07 15:36\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Hi Narayanan, \\n\\n Thanks for the crisp descrition of the possible solutions. I have a couple immediate reactions: \\n\\n A) It would be good if the embedded and network behavior agreed. \\n\\n B) I don\'t  understand what it means to read out of a blob with one hand while you are writing into it with the other. \\n\\n It\'s worth pointing out that the same issues arise if you are writing to the Blob using Blob.setBytes() at the same time as you are siphoning out bytes using the InputStream returned by Blob.getBinaryStream().  \\n\\n Issue (B) troubles me. What does it mean to read the InputStream up to position X, then insert a block of bytes which straddle that position (i.e., from X-A to X+B)? Quite likely, the inserted bytes have some meaning as a complete block. What does it mean to read only the trailing portion of that block? \\n\\n My gut feeling is that we should raise an exception if someone tries to write into a Blob which still has an open InputStream on it. I think this should be the behavior for both the embedded and network clients. \\n\\n Do we have real customer demand for some use-case supported by the current embedded behavior? If not, I would recommend raising an exception now. We can relax this in the future if there\'s real demand for a real use-case.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12502997\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-2763?focusedCommentId=12502997&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12502997\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12502997_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12502997_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'09\\/Jun\\/07 03:31\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-06-09T03:31:01+0000\'\u003e09\\/Jun\\/07 03:31\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThank you for the comments Rick\u003c\\/p\u003e\\n\\n\u003cp\u003e&gt;Issue (B) troubles me. What does it mean to read the InputStream up to position X, \u003cbr\\/\u003e\\n&gt;then insert a block of bytes which straddle that position (i.e., from X-A to X+B)? \u003cbr\\/\u003e\\n&gt;Quite likely, the inserted bytes have some meaning as a complete block. \u003cbr\\/\u003e\\n&gt;What does it mean to read only the trailing portion of that block? \u003c\\/p\u003e\\n\\n\u003cp\u003eI think this is an excellent point\u003c\\/p\u003e\\n\\n\u003cp\u003eAs an analogy\u003c\\/p\u003e\\n\\n\u003cp\u003eFor example if the Clob were used to store address data and it were\u003cbr\\/\u003e\\nmodified using setString, what is the point of reading from an\u003cbr\\/\u003e\\nInputStream from this Clob which would have given the old address\u003cbr\\/\u003e\\ninitially and after the updates starts giving the new address.\u003c\\/p\u003e\\n\\n\u003cp\u003e&gt;My gut feeling is that we should raise an exception if someone tries\u003cbr\\/\u003e\\n&gt;to write into a Blob which still has an open InputStream on it. \u003cbr\\/\u003e\\n&gt;I think this should be the behavior for both the embedded and \u003cbr\\/\u003e\\n&gt;network clients. \u003c\\/p\u003e\\n\\n\u003cp\u003eI think we could allow updates to happen but throw an exception \u003cbr\\/\u003e\\nupon subsequent reads from the InputStreams after this modification \u003cbr\\/\u003e\\nhas happened. This would not tie the writes to the LOB to the reads\u003cbr\\/\u003e\\nfrom the LOB. I agree that invalidation is a form of linking the two but\u003cbr\\/\u003e\\nthe user could just re-create the stream and proceed with the reads\u003cbr\\/\u003e\\nagain.\u003c\\/p\u003e\\n\\n\u003cp\u003eAs in the above(address) analogy why would you proceed to read the old\u003cbr\\/\u003e\\ndata(address) when the old data(address) is no longer valid? \u003c\\/p\u003e\\n\\n\u003cp\u003ePls do mention if you think this is not the correct approach.\u003c\\/p\u003e\\n\\n\u003cp\u003eThanks again for the comments Rick !!\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12502997_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12502997_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'09\\/Jun\\/07 03:31\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-06-09T03:31:01+0000\'\u003e09\\/Jun\\/07 03:31\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Thank you for the comments Rick \\n\\n &gt;Issue (B) troubles me. What does it mean to read the InputStream up to position X,  \\n&gt;then insert a block of bytes which straddle that position (i.e., from X-A to X+B)?  \\n&gt;Quite likely, the inserted bytes have some meaning as a complete block.  \\n&gt;What does it mean to read only the trailing portion of that block?  \\n\\n I think this is an excellent point \\n\\n As an analogy \\n\\n For example if the Clob were used to store address data and it were \\nmodified using setString, what is the point of reading from an \\nInputStream from this Clob which would have given the old address \\ninitially and after the updates starts giving the new address. \\n\\n &gt;My gut feeling is that we should raise an exception if someone tries \\n&gt;to write into a Blob which still has an open InputStream on it.  \\n&gt;I think this should be the behavior for both the embedded and  \\n&gt;network clients.  \\n\\n I think we could allow updates to happen but throw an exception  \\nupon subsequent reads from the InputStreams after this modification  \\nhas happened. This would not tie the writes to the LOB to the reads \\nfrom the LOB. I agree that invalidation is a form of linking the two but \\nthe user could just re-create the stream and proceed with the reads \\nagain. \\n\\n As in the above(address) analogy why would you proceed to read the old \\ndata(address) when the old data(address) is no longer valid?  \\n\\n Pls do mention if you think this is not the correct approach. \\n\\n Thanks again for the comments Rick !!              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12503083\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-2763?focusedCommentId=12503083&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12503083\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12503083_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12503083_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'09\\/Jun\\/07 14:37\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-06-09T14:37:09+0000\'\u003e09\\/Jun\\/07 14:37\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThis patch address this issue using Approach 2 namely\u003c\\/p\u003e\\n\\n\u003cp\u003eStreams sees the changes that have been made to the part of the Lob\u003cbr\\/\u003e\\nthat has not yet been read. \u003c\\/p\u003e\\n\\n\u003cp\u003eI have attached a .txt file that explains the changes in detail\u003c\\/p\u003e\\n\\n\u003cp\u003eI ran BlobClob4BlobTest on this patch and saw no failues.\u003c\\/p\u003e\\n\\n\u003cp\u003eThe patch still needs more tests to test for the case of the underlying\u003cbr\\/\u003e\\nLOB being invalidated.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12503083_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12503083_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'09\\/Jun\\/07 14:37\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-06-09T14:37:09+0000\'\u003e09\\/Jun\\/07 14:37\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    This patch address this issue using Approach 2 namely \\n\\n Streams sees the changes that have been made to the part of the Lob \\nthat has not yet been read.  \\n\\n I have attached a .txt file that explains the changes in detail \\n\\n I ran BlobClob4BlobTest on this patch and saw no failues. \\n\\n The patch still needs more tests to test for the case of the underlying \\nLOB being invalidated.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12503085\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-2763?focusedCommentId=12503085&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12503085\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12503085_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12503085_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'09\\/Jun\\/07 14:52\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-06-09T14:52:58+0000\'\u003e09\\/Jun\\/07 14:52\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThis patch address this issue using Approach 3 namely \u003c\\/p\u003e\\n\\n\u003cp\u003eStreams throw an exception saying that it is invalid since Lob has\u003cbr\\/\u003e\\nbeen updated. \u003c\\/p\u003e\\n\\n\u003cp\u003eThe changes made in this patch are very similar to the changes made\u003cbr\\/\u003e\\nin Approach 2 except that instead of re-creating the streams we throw\u003cbr\\/\u003e\\nan IOException.\u003c\\/p\u003e\\n\\n\u003cp\u003eFor now the error string is hard-coded in the IOException. I will change\u003cbr\\/\u003e\\nthis and also write additional tests once this approach is accepted.\u003c\\/p\u003e\\n\\n\u003cp\u003eI ran BlobClob4BlobTest and did not see any failures.\u003c\\/p\u003e\\n\\n\u003cp\u003eI have not yet run junit All on this patch.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12503085_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12503085_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'09\\/Jun\\/07 14:52\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-06-09T14:52:58+0000\'\u003e09\\/Jun\\/07 14:52\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    This patch address this issue using Approach 3 namely  \\n\\n Streams throw an exception saying that it is invalid since Lob has \\nbeen updated.  \\n\\n The changes made in this patch are very similar to the changes made \\nin Approach 2 except that instead of re-creating the streams we throw \\nan IOException. \\n\\n For now the error string is hard-coded in the IOException. I will change \\nthis and also write additional tests once this approach is accepted. \\n\\n I ran BlobClob4BlobTest and did not see any failures. \\n\\n I have not yet run junit All on this patch.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12503086\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-2763?focusedCommentId=12503086&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12503086\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12503086_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12503086_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'09\\/Jun\\/07 15:01\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-06-09T15:01:45+0000\'\u003e09\\/Jun\\/07 15:01\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThis patch addresses the issue using Approach 4.\u003c\\/p\u003e\\n\\n\u003cp\u003eChange just maxPos and leave the rest as it is (incl. buffering) \u003c\\/p\u003e\\n\\n\u003cp\u003eThe maxPos attribute in the locator classes was being initialized\u003cbr\\/\u003e\\nduring stream creation with the length of stream and was then\u003cbr\\/\u003e\\nbeing permanently used as the length of the Lob.\u003c\\/p\u003e\\n\\n\u003cp\u003eI have changed this so that the length of the Lob is fetched in the\u003cbr\\/\u003e\\ncases where it is not mentioned during stream creation.\u003c\\/p\u003e\\n\\n\u003cp\u003eI have not yet run junit All on this patch.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12503086_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12503086_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'09\\/Jun\\/07 15:01\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-06-09T15:01:45+0000\'\u003e09\\/Jun\\/07 15:01\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    This patch addresses the issue using Approach 4. \\n\\n Change just maxPos and leave the rest as it is (incl. buffering)  \\n\\n The maxPos attribute in the locator classes was being initialized \\nduring stream creation with the length of stream and was then \\nbeing permanently used as the length of the Lob. \\n\\n I have changed this so that the length of the Lob is fetched in the \\ncases where it is not mentioned during stream creation. \\n\\n I have not yet run junit All on this patch.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12503087\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-2763?focusedCommentId=12503087&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12503087\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12503087_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12503087_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'09\\/Jun\\/07 15:08\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-06-09T15:08:50+0000\'\u003e09\\/Jun\\/07 15:08\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003ePlease note that\u003c\\/p\u003e\\n\\n\u003cp\u003eThe patches Approach_2,3,4.diff are not for commit. \u003c\\/p\u003e\\n\\n\u003cp\u003eI have tried out all the approaches and have posted them so that\u003cbr\\/\u003e\\nit would help people in getting a practical view of these approaches.\u003c\\/p\u003e\\n\\n\u003cp\u003eMy inclination among the various approaches is towards 2) and 3)\u003c\\/p\u003e\\n\\n\u003cp\u003e2) But I consider the point mentioned by Rick as going against this\u003c\\/p\u003e\\n\\n\u003cp\u003e3) or the solution suggested by Rick whichever is OK with the community.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12503087_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12503087_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'09\\/Jun\\/07 15:08\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-06-09T15:08:50+0000\'\u003e09\\/Jun\\/07 15:08\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Please note that \\n\\n The patches Approach_2,3,4.diff are not for commit.  \\n\\n I have tried out all the approaches and have posted them so that \\nit would help people in getting a practical view of these approaches. \\n\\n My inclination among the various approaches is towards 2) and 3) \\n\\n 2) But I consider the point mentioned by Rick as going against this \\n\\n 3) or the solution suggested by Rick whichever is OK with the community.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12503348\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-2763?focusedCommentId=12503348&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12503348\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"oysteing\\\" id=\\\"commentauthor_12503348_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=oysteing\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"oysteing\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e \\u00D8ystein Gr\\u00F8vlen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12503348_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'11\\/Jun\\/07 09:23\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-06-11T09:23:59+0000\'\u003e11\\/Jun\\/07 09:23\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003e&gt; Rick Hillegas commented on \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-2763\\\" title=\\\"In the Network Client InputStreams and Readers returned from LOB&#39;s should be sensitive to underlying LOB data changes.\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-2763\\\"\u003e\u003cdel\u003eDERBY-2763\u003c\\/del\u003e\u003c\\/a\u003e:\u003cbr\\/\u003e\\n&gt; --------------------------------------\u003cbr\\/\u003e\\n&gt; \u003cbr\\/\u003e\\n&gt; Hi Narayanan,\u003cbr\\/\u003e\\n&gt; \u003cbr\\/\u003e\\n&gt; Thanks for the crisp descrition of the possible solutions. I have a\u003cbr\\/\u003e\\n&gt; couple immediate reactions:\u003cbr\\/\u003e\\n&gt; \u003cbr\\/\u003e\\n&gt; A) It would be good if the embedded and network behavior agreed.\u003c\\/p\u003e\\n\\n\u003cp\u003eI agree.  I think that is more important than the actual behavior\u003cbr\\/\u003e\\nhere.\u003c\\/p\u003e\\n\\n\u003cp\u003e&gt; \u003cbr\\/\u003e\\n&gt; B) I don\'t understand what it means to read out of a blob with one\u003cbr\\/\u003e\\n&gt;    hand while you are writing into it with the other.\u003cbr\\/\u003e\\n&gt; \u003cbr\\/\u003e\\n&gt; It\'s worth pointing out that the same issues arise if you are\u003cbr\\/\u003e\\n&gt; writing to the Blob using Blob.setBytes() at the same time as you\u003cbr\\/\u003e\\n&gt; are siphoning out bytes using the InputStream returned by\u003cbr\\/\u003e\\n&gt; Blob.getBinaryStream().\u003cbr\\/\u003e\\n&gt; \u003cbr\\/\u003e\\n&gt; Issue (B) troubles me. What does it mean to read the InputStream up\u003cbr\\/\u003e\\n&gt; to position X, then insert a block of bytes which straddle that\u003cbr\\/\u003e\\n&gt; position (i.e., from X-A to X+B)? Quite likely, the inserted bytes\u003cbr\\/\u003e\\n&gt; have some meaning as a complete block. What does it mean to read\u003cbr\\/\u003e\\n&gt; only the trailing portion of that block?\u003c\\/p\u003e\\n\\n\u003cp\u003eA Blob or Clob may well be structured data where segments may be\u003cbr\\/\u003e\\nupdated independently.  Hence, it may make sense to read and update\u003cbr\\/\u003e\\nLobs a segment at a time.  However, I agree that it is not very likely\u003cbr\\/\u003e\\nthat one update in the middle of where one is reading.\u003c\\/p\u003e\\n\\n\u003cp\u003e&gt; \u003cbr\\/\u003e\\n&gt; My gut feeling is that we should raise an exception if someone tries\u003cbr\\/\u003e\\n&gt; to write into a Blob which still has an open InputStream on it. I\u003cbr\\/\u003e\\n&gt; think this should be the behavior for both the embedded and network\u003cbr\\/\u003e\\n&gt; clients.\u003cbr\\/\u003e\\n&gt; \u003cbr\\/\u003e\\n&gt; Do we have real customer demand for some use-case supported by the\u003cbr\\/\u003e\\n&gt; current embedded behavior? If not, I would recommend raising an\u003cbr\\/\u003e\\n&gt; exception now. We can relax this in the future if there\'s real\u003cbr\\/\u003e\\n&gt; demand for a real use-case.\u003c\\/p\u003e\\n\\n\u003cp\u003eOn use-case I can think of: Read first segment, make update to that,\u003cbr\\/\u003e\\ncontinue to read second segment, and so on.  This will not be possible\u003cbr\\/\u003e\\nif we raise an exception as you suggest.  (You can get around it\u003cbr\\/\u003e\\naround this by closing the stream and creating a new one, but you will\u003cbr\\/\u003e\\nthen get the overhead of repositioning.)  In this use-case, it does\u003cbr\\/\u003e\\nnot matter whether one is able to see one\'s own updates or not, since\u003cbr\\/\u003e\\none will never be reading segments that have been updated. Hence, any\u003cbr\\/\u003e\\nbehavior, except raising an exception, would support this use-case. I\u003cbr\\/\u003e\\nthink the advantage of the way Anurag has implemented it on the\u003cbr\\/\u003e\\nembedded is that it is a well defined behavior that is easy to explain\u003cbr\\/\u003e\\nto users.  I think a clean behavior is to be preferred over an\u003cbr\\/\u003e\\nunpredictable behavior if it does not require much extra work.\u003c\\/p\u003e\\n\\n\u003cp\u003eI agree that it is better to make a strict behavior now and relax it\u003cbr\\/\u003e\\nlater if needed, than risking to have to restrict the behavior in\u003cbr\\/\u003e\\nlater versions.  I guess the main risk is that future JDBC specs would\u003cbr\\/\u003e\\nrequire a specific behavior.  However, it is likely that different\u003cbr\\/\u003e\\nvendors have different behavior today and that the only thing they\u003cbr\\/\u003e\\nwill agree on is to say that the behavior is unpredictable.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"oysteing\\\" id=\\\"commentauthor_12503348_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=oysteing\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"oysteing\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e \\u00D8ystein Gr\\u00F8vlen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12503348_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'11\\/Jun\\/07 09:23\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-06-11T09:23:59+0000\'\u003e11\\/Jun\\/07 09:23\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    &gt; Rick Hillegas commented on   DERBY-2763  : \\n&gt; -------------------------------------- \\n&gt;  \\n&gt; Hi Narayanan, \\n&gt;  \\n&gt; Thanks for the crisp descrition of the possible solutions. I have a \\n&gt; couple immediate reactions: \\n&gt;  \\n&gt; A) It would be good if the embedded and network behavior agreed. \\n\\n I agree.  I think that is more important than the actual behavior \\nhere. \\n\\n &gt;  \\n&gt; B) I don\'t understand what it means to read out of a blob with one \\n&gt;    hand while you are writing into it with the other. \\n&gt;  \\n&gt; It\'s worth pointing out that the same issues arise if you are \\n&gt; writing to the Blob using Blob.setBytes() at the same time as you \\n&gt; are siphoning out bytes using the InputStream returned by \\n&gt; Blob.getBinaryStream(). \\n&gt;  \\n&gt; Issue (B) troubles me. What does it mean to read the InputStream up \\n&gt; to position X, then insert a block of bytes which straddle that \\n&gt; position (i.e., from X-A to X+B)? Quite likely, the inserted bytes \\n&gt; have some meaning as a complete block. What does it mean to read \\n&gt; only the trailing portion of that block? \\n\\n A Blob or Clob may well be structured data where segments may be \\nupdated independently.  Hence, it may make sense to read and update \\nLobs a segment at a time.  However, I agree that it is not very likely \\nthat one update in the middle of where one is reading. \\n\\n &gt;  \\n&gt; My gut feeling is that we should raise an exception if someone tries \\n&gt; to write into a Blob which still has an open InputStream on it. I \\n&gt; think this should be the behavior for both the embedded and network \\n&gt; clients. \\n&gt;  \\n&gt; Do we have real customer demand for some use-case supported by the \\n&gt; current embedded behavior? If not, I would recommend raising an \\n&gt; exception now. We can relax this in the future if there\'s real \\n&gt; demand for a real use-case. \\n\\n On use-case I can think of: Read first segment, make update to that, \\ncontinue to read second segment, and so on.  This will not be possible \\nif we raise an exception as you suggest.  (You can get around it \\naround this by closing the stream and creating a new one, but you will \\nthen get the overhead of repositioning.)  In this use-case, it does \\nnot matter whether one is able to see one\'s own updates or not, since \\none will never be reading segments that have been updated. Hence, any \\nbehavior, except raising an exception, would support this use-case. I \\nthink the advantage of the way Anurag has implemented it on the \\nembedded is that it is a well defined behavior that is easy to explain \\nto users.  I think a clean behavior is to be preferred over an \\nunpredictable behavior if it does not require much extra work. \\n\\n I agree that it is better to make a strict behavior now and relax it \\nlater if needed, than risking to have to restrict the behavior in \\nlater versions.  I guess the main risk is that future JDBC specs would \\nrequire a specific behavior.  However, it is likely that different \\nvendors have different behavior today and that the only thing they \\nwill agree on is to say that the behavior is unpredictable.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12503446\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-2763?focusedCommentId=12503446&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12503446\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_12503446_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12503446_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'11\\/Jun\\/07 15:50\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-06-11T15:50:08+0000\'\u003e11\\/Jun\\/07 15:50\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI think that \\u00D8ystein describes a useful scenario: efficiently looping through a lob and modifying it one segment at a time. If we go with (2), then the user guides should explain that our implementation supports this scenario and the user guides should warn the customer that other use-cases may produce unpredictable results. \u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_12503446_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12503446_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'11\\/Jun\\/07 15:50\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-06-11T15:50:08+0000\'\u003e11\\/Jun\\/07 15:50\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I think that \\u00D8ystein describes a useful scenario: efficiently looping through a lob and modifying it one segment at a time. If we go with (2), then the user guides should explain that our implementation supports this scenario and the user guides should warn the customer that other use-cases may produce unpredictable results.               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12503845\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-2763?focusedCommentId=12503845&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12503845\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12503845_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12503845_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Jun\\/07 12:32\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-06-12T12:32:17+0000\'\u003e12\\/Jun\\/07 12:32\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eSince update sensitive LOB discussion has mostly happened on this issue\u003cbr\\/\u003e\\nand proposals for the solution and sample implementations have been\u003cbr\\/\u003e\\ngeneralized to LOB\'s I am changing this issue from Blob specific to dealing\u003cbr\\/\u003e\\nwith LOB streams in general. I will mark 2764 as duplicate.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12503845_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12503845_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Jun\\/07 12:32\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-06-12T12:32:17+0000\'\u003e12\\/Jun\\/07 12:32\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Since update sensitive LOB discussion has mostly happened on this issue \\nand proposals for the solution and sample implementations have been \\ngeneralized to LOB\'s I am changing this issue from Blob specific to dealing \\nwith LOB streams in general. I will mark 2764 as duplicate.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12503848\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-2763?focusedCommentId=12503848&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12503848\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12503848_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12503848_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Jun\\/07 12:42\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-06-12T12:42:12+0000\'\u003e12\\/Jun\\/07 12:42\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI concur with the support voiced for Approach 2 since it is being supported\u003cbr\\/\u003e\\nby a very valid use case and seems a very logical approach at this\u003cbr\\/\u003e\\njuncture.\u003c\\/p\u003e\\n\\n\u003cp\u003eI highly appreciate the guidance offered and thank Rick and Oystein\u003cbr\\/\u003e\\nfor their invaluable inputs in this patch.\u003c\\/p\u003e\\n\\n\u003cp\u003eAttached here is the patch that is a extension of the already attached\u003cbr\\/\u003e\\nApproach_2.txt\u003c\\/p\u003e\\n\\n\u003cp\u003eIn this patch I have enabled\u003c\\/p\u003e\\n\\n\u003cp\u003ejdbcapi\\/BlobUpdaetableStreamTest\u003cbr\\/\u003e\\njdbcapi\\/ClobupdateableReaderTest\u003c\\/p\u003e\\n\\n\u003cp\u003efor the Network Client.\u003c\\/p\u003e\\n\\n\u003cp\u003eI have added tests for the case when a stream\u003cbr\\/\u003e\\nis taken from a empty Clob or a empty Blob\u003cbr\\/\u003e\\n(con.createClob or con.createBlob) to\u003c\\/p\u003e\\n\\n\u003cp\u003ejdbc4\\/BlobTest\u003cbr\\/\u003e\\njdbc4\\/ClobTest\u003c\\/p\u003e\\n\\n\u003cp\u003ePls find a detailed explanation for this approach in my\u003cbr\\/\u003e\\nprevious attachment Approach_2.txt\u003c\\/p\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12503848_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12503848_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Jun\\/07 12:42\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-06-12T12:42:12+0000\'\u003e12\\/Jun\\/07 12:42\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I concur with the support voiced for Approach 2 since it is being supported \\nby a very valid use case and seems a very logical approach at this \\njuncture. \\n\\n I highly appreciate the guidance offered and thank Rick and Oystein \\nfor their invaluable inputs in this patch. \\n\\n Attached here is the patch that is a extension of the already attached \\nApproach_2.txt \\n\\n In this patch I have enabled \\n\\n jdbcapi\\/BlobUpdaetableStreamTest \\njdbcapi\\/ClobupdateableReaderTest \\n\\n for the Network Client. \\n\\n I have added tests for the case when a stream \\nis taken from a empty Clob or a empty Blob \\n(con.createClob or con.createBlob) to \\n\\n jdbc4\\/BlobTest \\njdbc4\\/ClobTest \\n\\n Pls find a detailed explanation for this approach in my \\nprevious attachment Approach_2.txt \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12503850\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-2763?focusedCommentId=12503850&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12503850\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12503850_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12503850_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Jun\\/07 12:44\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-06-12T12:44:46+0000\'\u003e12\\/Jun\\/07 12:44\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI have run jdbcapi\\/BlobClob4BlobTest and the tests I have modified \u003cbr\\/\u003e\\nuptil now successfully on UpdateSensitiveStreamsForClient_v1.diff.\u003cbr\\/\u003e\\nI have started a junit all run and shall revert back with the results.\u003cbr\\/\u003e\\nI request for UpdateSensitiveStreamsForClient_v1.diff to be considered\u003cbr\\/\u003e\\nfor reviews and comments.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12503850_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12503850_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Jun\\/07 12:44\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-06-12T12:44:46+0000\'\u003e12\\/Jun\\/07 12:44\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I have run jdbcapi\\/BlobClob4BlobTest and the tests I have modified  \\nuptil now successfully on UpdateSensitiveStreamsForClient_v1.diff. \\nI have started a junit all run and shall revert back with the results. \\nI request for UpdateSensitiveStreamsForClient_v1.diff to be considered \\nfor reviews and comments.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12503877\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-2763?focusedCommentId=12503877&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12503877\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12503877_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12503877_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Jun\\/07 15:10\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-06-12T15:10:39+0000\'\u003e12\\/Jun\\/07 15:10\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI ran junit All on this patch and observed no failures. If everything is OK I request for this patch to be considered for a commit too.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12503877_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12503877_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Jun\\/07 15:10\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-06-12T15:10:39+0000\'\u003e12\\/Jun\\/07 15:10\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I ran junit All on this patch and observed no failures. If everything is OK I request for this patch to be considered for a commit too.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12503899\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-2763?focusedCommentId=12503899&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12503899\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_12503899_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12503899_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Jun\\/07 16:11\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-06-12T16:11:56+0000\'\u003e12\\/Jun\\/07 16:11\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThanks for the patch, Narayanan. I am reading it now. Here is an initial reaction:\u003c\\/p\u003e\\n\\n\u003cp\u003eIt seems to me that the input stream\'s position is an offset from the start of the LOB. When the stream is recreated, the current position (offset from the start of the LOB) does not change. So it seems to me that \\u00D8ystein\'s use-case is supported if the rewritten chunks do not change size. So, I am puzzled. To support that use case, is there any need to recreate the streams? It appears to me that the recreation of the streams supports some other use-case, in which the writer is writing bytes further on in the LOB, and not in the porition that has already been read.\u003c\\/p\u003e\\n\\n\u003cp\u003eDo we have a use-case in mind for this scenario? It would be nice to be able to argue to ourselves that we are building something that solves a customer problem here.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_12503899_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12503899_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Jun\\/07 16:11\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-06-12T16:11:56+0000\'\u003e12\\/Jun\\/07 16:11\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Thanks for the patch, Narayanan. I am reading it now. Here is an initial reaction: \\n\\n It seems to me that the input stream\'s position is an offset from the start of the LOB. When the stream is recreated, the current position (offset from the start of the LOB) does not change. So it seems to me that \\u00D8ystein\'s use-case is supported if the rewritten chunks do not change size. So, I am puzzled. To support that use case, is there any need to recreate the streams? It appears to me that the recreation of the streams supports some other use-case, in which the writer is writing bytes further on in the LOB, and not in the porition that has already been read. \\n\\n Do we have a use-case in mind for this scenario? It would be nice to be able to argue to ourselves that we are building something that solves a customer problem here.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12503925\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-2763?focusedCommentId=12503925&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12503925\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12503925_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12503925_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Jun\\/07 16:56\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-06-12T16:56:44+0000\'\u003e12\\/Jun\\/07 16:56\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003e&gt;It seems to me that the input stream\'s position is an offset from the start of the LOB. \u003c\\/p\u003e\\n\\n\u003cp\u003eBy InputStreams I guess the UpdateSensitiveStreams (UpdateSensitiveLOBInputStream, \u003cbr\\/\u003e\\nUpdateSensitiveClobLocatorReader) are meant.\u003c\\/p\u003e\\n\\n\u003cp\u003e&gt;It appears to me that the recreation of the streams supports some other use-case, \u003cbr\\/\u003e\\n&gt;in which the writer is writing bytes further on in the LOB, and not in\u003cbr\\/\u003e\\n&gt;the porition that has already been read. \u003c\\/p\u003e\\n\\n\u003cp\u003eThese streams internally wrap inside a Buffered Streams\u003c\\/p\u003e\\n\\n\u003cp\u003eUpdateSensitiveLOBInputStream - Has a BlobLocatorInputStream or a ClobLocatorInputStream\u003cbr\\/\u003e\\n                                                               inside a BufferedInputStream\u003c\\/p\u003e\\n\\n\u003cp\u003eUpdateSensitiveClobLocatorReader - Has a BlobLocatorReader inside a BufferedReader.\u003c\\/p\u003e\\n\\n\u003cp\u003eThe Buffered streams pre-fetch larger data than we request(4k = 4096 bytes).\u003c\\/p\u003e\\n\\n\u003cp\u003eSo if a request for 1000 bytes is made initially from the InputStream the BufferedInputStream would fetch\u003cbr\\/\u003e\\n4096 bytes. \u003c\\/p\u003e\\n\\n\u003cp\u003eNow if the user decides to update from the 2000 position or byte onwards, a subsequent read,\u003cbr\\/\u003e\\nunless re-creation of the streams that are wrapped inside the Buffered streams is done, will return already\u003cbr\\/\u003e\\npre-feched data. \u003c\\/p\u003e\\n\\n\u003cp\u003eSo upto 4096 bytes you would get the pre-fetched or old data and from 4096 onwards you would get the new\u003cbr\\/\u003e\\ndata. This would be inconsistent.\u003c\\/p\u003e\\n\\n\u003cp\u003eSo while re-creating the streams they would then re-create with the original position and the reading would\u003cbr\\/\u003e\\nresume with the updated data. If we remove the BufferedStreams the process of reads becomes very slow.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12503925_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12503925_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Jun\\/07 16:56\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-06-12T16:56:44+0000\'\u003e12\\/Jun\\/07 16:56\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    &gt;It seems to me that the input stream\'s position is an offset from the start of the LOB.  \\n\\n By InputStreams I guess the UpdateSensitiveStreams (UpdateSensitiveLOBInputStream,  \\nUpdateSensitiveClobLocatorReader) are meant. \\n\\n &gt;It appears to me that the recreation of the streams supports some other use-case,  \\n&gt;in which the writer is writing bytes further on in the LOB, and not in \\n&gt;the porition that has already been read.  \\n\\n These streams internally wrap inside a Buffered Streams \\n\\n UpdateSensitiveLOBInputStream - Has a BlobLocatorInputStream or a ClobLocatorInputStream \\n                                                               inside a BufferedInputStream \\n\\n UpdateSensitiveClobLocatorReader - Has a BlobLocatorReader inside a BufferedReader. \\n\\n The Buffered streams pre-fetch larger data than we request(4k = 4096 bytes). \\n\\n So if a request for 1000 bytes is made initially from the InputStream the BufferedInputStream would fetch \\n4096 bytes.  \\n\\n Now if the user decides to update from the 2000 position or byte onwards, a subsequent read, \\nunless re-creation of the streams that are wrapped inside the Buffered streams is done, will return already \\npre-feched data.  \\n\\n So upto 4096 bytes you would get the pre-fetched or old data and from 4096 onwards you would get the new \\ndata. This would be inconsistent. \\n\\n So while re-creating the streams they would then re-create with the original position and the reading would \\nresume with the updated data. If we remove the BufferedStreams the process of reads becomes very slow.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12503939\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-2763?focusedCommentId=12503939&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12503939\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_12503939_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12503939_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Jun\\/07 17:34\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-06-12T17:34:10+0000\'\u003e12\\/Jun\\/07 17:34\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThanks for the quick response, Narayanan. I think I can see how this patch reduces the possibility of the inconsistency which you describe. However, I think that there are race conditions in this patch which could still give rise to that inconsistency--because the read() methods handshake with the writers on entry and not on exit.\u003c\\/p\u003e\\n\\n\u003cp\u003eInconsistencies of some sort can always arise if the contents of the LOB change between the time that reading starts and the time that reading ends. I think that\'s true with or without this patch. This patch may change the kind of inconsistencies that can occur and this patch may reduce the possibility of certain inconsistencies. Whether those inconsistencies are acceptable depends on what the application is doing and what it expects.\u003c\\/p\u003e\\n\\n\u003cp\u003eWhat I\'m struggling to understand is this: why are the inconsistencies allowed by this patch better than the inconsistencies allowed if we don\'t do anything? What are the supported use-cases which we want to document? If I understood those use-cases, then I could reason about whether this patch actually delivers the intended benefit.\u003c\\/p\u003e\\n\\n\u003cp\u003eThanks!\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_12503939_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12503939_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Jun\\/07 17:34\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-06-12T17:34:10+0000\'\u003e12\\/Jun\\/07 17:34\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Thanks for the quick response, Narayanan. I think I can see how this patch reduces the possibility of the inconsistency which you describe. However, I think that there are race conditions in this patch which could still give rise to that inconsistency--because the read() methods handshake with the writers on entry and not on exit. \\n\\n Inconsistencies of some sort can always arise if the contents of the LOB change between the time that reading starts and the time that reading ends. I think that\'s true with or without this patch. This patch may change the kind of inconsistencies that can occur and this patch may reduce the possibility of certain inconsistencies. Whether those inconsistencies are acceptable depends on what the application is doing and what it expects. \\n\\n What I\'m struggling to understand is this: why are the inconsistencies allowed by this patch better than the inconsistencies allowed if we don\'t do anything? What are the supported use-cases which we want to document? If I understood those use-cases, then I could reason about whether this patch actually delivers the intended benefit. \\n\\n Thanks!              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12503964\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-2763?focusedCommentId=12503964&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12503964\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_12503964_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12503964_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Jun\\/07 18:46\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-06-12T18:46:45+0000\'\u003e12\\/Jun\\/07 18:46\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThe regressiion tests pass cleanly for me after applying this patch. I have some additional comments:\u003c\\/p\u003e\\n\\n\u003cp\u003eGeneral:\u003c\\/p\u003e\\n\\n\u003cp\u003e1) As noted earlier, there are race conditions in the read() methods because they check the update count on the way in and the LOB contents could change before the read() methods exit. Is this OK?\u003c\\/p\u003e\\n\\n\u003cp\u003e2) I think that calling sqlLength() in order to check for committed transactions is a little tricky. I think it would be better if Lob exposed a method, say isValid() which has the required semantics. Under the covers, Lob.isValid() can call sqlLength() for the time being.\u003c\\/p\u003e\\n\\n\u003cp\u003eUpdateSensitiveLOBLocatorInputStream\u003c\\/p\u003e\\n\\n\u003cp\u003e3) I think this class should be abstract. Methods to be implemented by subclasses should be abstract too.\u003c\\/p\u003e\\n\\n\u003cp\u003e4) Here is an issue for the documentation noted in my earlier comment today: \\u00D8ystein\'s use case is supported only if a rewritten chunk is exactly the same length as the chunk it is replacing.\u003c\\/p\u003e\\n\\n\\n\u003cp\u003eBlobLocatorOutputStream\u003cbr\\/\u003e\\nClobLocatorWriter\u003cbr\\/\u003e\\nClobLocatorOutputStream\u003c\\/p\u003e\\n\\n\u003cp\u003e5) Why is incrementUpdateCount() called in these streams? Shouldn\'t the update count be incremented by the Blob and Clob methods which do the actual writing?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_12503964_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12503964_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Jun\\/07 18:46\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-06-12T18:46:45+0000\'\u003e12\\/Jun\\/07 18:46\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    The regressiion tests pass cleanly for me after applying this patch. I have some additional comments: \\n\\n General: \\n\\n 1) As noted earlier, there are race conditions in the read() methods because they check the update count on the way in and the LOB contents could change before the read() methods exit. Is this OK? \\n\\n 2) I think that calling sqlLength() in order to check for committed transactions is a little tricky. I think it would be better if Lob exposed a method, say isValid() which has the required semantics. Under the covers, Lob.isValid() can call sqlLength() for the time being. \\n\\n UpdateSensitiveLOBLocatorInputStream \\n\\n 3) I think this class should be abstract. Methods to be implemented by subclasses should be abstract too. \\n\\n 4) Here is an issue for the documentation noted in my earlier comment today: \\u00D8ystein\'s use case is supported only if a rewritten chunk is exactly the same length as the chunk it is replacing. \\n\\n\\n BlobLocatorOutputStream \\nClobLocatorWriter \\nClobLocatorOutputStream \\n\\n 5) Why is incrementUpdateCount() called in these streams? Shouldn\'t the update count be incremented by the Blob and Clob methods which do the actual writing?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12504122\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-2763?focusedCommentId=12504122&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12504122\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"anurag\\\" id=\\\"commentauthor_12504122_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=anurag\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"anurag\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Anurag Shekhar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12504122_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'13\\/Jun\\/07 05:45\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-06-13T05:45:52+0000\'\u003e13\\/Jun\\/07 05:45\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003e&gt;Inconsistencies of some sort can always arise if the contents of \u003cbr\\/\u003e\\n&gt;the LOB change between the time that reading starts and the \u003cbr\\/\u003e\\n&gt;time that reading ends. I think that\'s true with or without this \u003cbr\\/\u003e\\n&gt;patch. This patch may change the kind of inconsistencies that\u003cbr\\/\u003e\\n&gt;can occur and this patch may reduce the possibility of certain \u003cbr\\/\u003e\\n&gt;inconsistencies. Whether those inconsistencies are acceptable\u003cbr\\/\u003e\\n&gt;depends on what the application is doing and what it expects. \u003c\\/p\u003e\\n\\n\u003cp\u003eI think you are talking about the case where a write is in progress \u003cbr\\/\u003e\\nand at the same read is called and read gets partially updated data. \u003cbr\\/\u003e\\nThis particular scenario is taken care by LOBStreamControl please \u003cbr\\/\u003e\\nnote this class is central repository of all lob classes (for both \u003cbr\\/\u003e\\nnetwork client and embedded driver). LOBStreamControl \u003cbr\\/\u003e\\nsynchronizes all read and write methods so a read will never\u003cbr\\/\u003e\\npickup data which is still being written. \u003c\\/p\u003e\\n\\n\u003cp\u003eBut I do agree there may be another race condition when there \u003cbr\\/\u003e\\nis a modification after checking for obsoleteness and before read.\u003cbr\\/\u003e\\nBut I am not sure we really need to handle this case as in this \u003cbr\\/\u003e\\ncase data will be same if the reader thread was scheduled before \u003cbr\\/\u003e\\nthe writer thread.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"anurag\\\" id=\\\"commentauthor_12504122_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=anurag\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"anurag\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Anurag Shekhar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12504122_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'13\\/Jun\\/07 05:45\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-06-13T05:45:52+0000\'\u003e13\\/Jun\\/07 05:45\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    &gt;Inconsistencies of some sort can always arise if the contents of  \\n&gt;the LOB change between the time that reading starts and the  \\n&gt;time that reading ends. I think that\'s true with or without this  \\n&gt;patch. This patch may change the kind of inconsistencies that \\n&gt;can occur and this patch may reduce the possibility of certain  \\n&gt;inconsistencies. Whether those inconsistencies are acceptable \\n&gt;depends on what the application is doing and what it expects.  \\n\\n I think you are talking about the case where a write is in progress  \\nand at the same read is called and read gets partially updated data.  \\nThis particular scenario is taken care by LOBStreamControl please  \\nnote this class is central repository of all lob classes (for both  \\nnetwork client and embedded driver). LOBStreamControl  \\nsynchronizes all read and write methods so a read will never \\npickup data which is still being written.  \\n\\n But I do agree there may be another race condition when there  \\nis a modification after checking for obsoleteness and before read. \\nBut I am not sure we really need to handle this case as in this  \\ncase data will be same if the reader thread was scheduled before  \\nthe writer thread.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12504136\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-2763?focusedCommentId=12504136&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12504136\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"knutanders\\\" id=\\\"commentauthor_12504136_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=knutanders\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"knutanders\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Knut Anders Hatlen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12504136_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'13\\/Jun\\/07 06:39\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-06-13T06:39:23+0000\'\u003e13\\/Jun\\/07 06:39\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI\'m not familiar with all the details in this discussion, but here are my two cents:\u003c\\/p\u003e\\n\\n\u003cp\u003eI think it would be perfectly fine if we said that when reading a stream returned by \u003cspan class=\\\"error\\\"\u003e&#91;BC&#93;\u003c\\/span\u003elob.get*Stream(), one may or may not see one\'s own updates made to that LOB after the call to get*Stream(). I guess a portable application couldn\'t rely on any particular behaviour anyway, and it would have to call get*Stream() after the update to get a fresh stream if it needed to see the updated value. If we define the behaviour this way, those applications that need the updated value pay the extra cost themselves, whereas those that don\'t care about this (that is, most applications) wouldn\'t have to pay for the extra complexity, emptying of buffers etc.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"knutanders\\\" id=\\\"commentauthor_12504136_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=knutanders\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"knutanders\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Knut Anders Hatlen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12504136_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'13\\/Jun\\/07 06:39\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-06-13T06:39:23+0000\'\u003e13\\/Jun\\/07 06:39\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I\'m not familiar with all the details in this discussion, but here are my two cents: \\n\\n I think it would be perfectly fine if we said that when reading a stream returned by  &#91;BC&#93; lob.get*Stream(), one may or may not see one\'s own updates made to that LOB after the call to get*Stream(). I guess a portable application couldn\'t rely on any particular behaviour anyway, and it would have to call get*Stream() after the update to get a fresh stream if it needed to see the updated value. If we define the behaviour this way, those applications that need the updated value pay the extra cost themselves, whereas those that don\'t care about this (that is, most applications) wouldn\'t have to pay for the extra complexity, emptying of buffers etc.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12504138\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-2763?focusedCommentId=12504138&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12504138\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"anurag\\\" id=\\\"commentauthor_12504138_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=anurag\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"anurag\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Anurag Shekhar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12504138_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'13\\/Jun\\/07 06:44\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-06-13T06:44:52+0000\'\u003e13\\/Jun\\/07 06:44\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003e&gt; 4) Here is an issue for the documentation noted in my \u003cbr\\/\u003e\\n&gt;earlier comment today: \\u00D8ystein\'s use case is supported \u003cbr\\/\u003e\\n&gt;only if a rewritten chunk is exactly the same length as \u003cbr\\/\u003e\\n&gt;the chunk it is replacing. \u003c\\/p\u003e\\n\\n\u003cp\u003eBlob.setBytes or OutputStream.write always overwrites the \u003cbr\\/\u003e\\nbytes of same length.Even in case of Clob, setString or \u003cbr\\/\u003e\\nWriter.write will replace chars of same length.\u003c\\/p\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"anurag\\\" id=\\\"commentauthor_12504138_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=anurag\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"anurag\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Anurag Shekhar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12504138_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'13\\/Jun\\/07 06:44\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-06-13T06:44:52+0000\'\u003e13\\/Jun\\/07 06:44\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    &gt; 4) Here is an issue for the documentation noted in my  \\n&gt;earlier comment today: \\u00D8ystein\'s use case is supported  \\n&gt;only if a rewritten chunk is exactly the same length as  \\n&gt;the chunk it is replacing.  \\n\\n Blob.setBytes or OutputStream.write always overwrites the  \\nbytes of same length.Even in case of Clob, setString or  \\nWriter.write will replace chars of same length. \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12504141\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-2763?focusedCommentId=12504141&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12504141\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12504141_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12504141_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'13\\/Jun\\/07 06:56\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-06-13T06:56:02+0000\'\u003e13\\/Jun\\/07 06:56\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThank you for the reviews, comments and the test Runs Rick.\u003c\\/p\u003e\\n\\n\u003cp\u003e&gt;1) As noted earlier, there are race conditions in the read() methods \u003cbr\\/\u003e\\n&gt;   because they check the update count on the way in and the LOB \u003cbr\\/\u003e\\n&gt;   contents could change before the read() methods exit. Is this OK?\u003c\\/p\u003e\\n\\n\u003cp\u003e    I read the comments from Anurag just now... \u003c\\/p\u003e\\n\\n\u003cp\u003e    A small addition to that.\u003c\\/p\u003e\\n\\n\u003cp\u003e    Writes and reads to LOB\'s are basically stored procedure calls with\u003cbr\\/\u003e\\n    the locator information passed as parameter. So during the case\u003cbr\\/\u003e\\n    pointed out when a read and a write simultaneously happen the calls\u003cbr\\/\u003e\\n    would be propogated un-affected by the presence of each other till\u003cbr\\/\u003e\\n    the LOBStreamControl class which then synchronizes the calls. So this\u003cbr\\/\u003e\\n    issue would be avoided here.\u003c\\/p\u003e\\n\\n\\n\u003cp\u003e&gt;2) I think that calling sqlLength() in order to check for committed transactions \u003cbr\\/\u003e\\n&gt;   is a little tricky. I think it would be better if Lob exposed a method, \u003cbr\\/\u003e\\n&gt;   say isValid() which has the required semantics. Under the covers, \u003cbr\\/\u003e\\n&gt;   Lob.isValid() can call sqlLength() for the time being.\u003c\\/p\u003e\\n\\n\u003cp\u003e    I initially thought of adding this in the checkValidity()\u003cbr\\/\u003e\\n    method of am\\/Blob and am\\/Clob. I then decided against this\u003cbr\\/\u003e\\n    because these methods were being called in the methods that\u003cbr\\/\u003e\\n    result in a Stored Procedure call themselves. For example\u003cbr\\/\u003e\\n    checkValidity is called in readBytes. If the locator associated \u003cbr\\/\u003e\\n    with this is valid then it will result in 2 round trips to the\u003cbr\\/\u003e\\n    server instead of two. One for the SqlLength() call and the\u003cbr\\/\u003e\\n    other for the BLOBSETBYTES stored procedure call. The initial\u003cbr\\/\u003e\\n    round-trip would not be necessary for this method since during\u003cbr\\/\u003e\\n    the call to BLOBSETBYTES itself we would find out that the\u003cbr\\/\u003e\\n    locator in invalid.\u003c\\/p\u003e\\n\\n\u003cp\u003e    But your solution of keeping the locator valid check in one\u003cbr\\/\u003e\\n    place (Lob) is correct because if in the future we decide to\u003cbr\\/\u003e\\n    not use this we can change it at this place alone.\u003c\\/p\u003e\\n\\n\u003cp\u003e    I will do this in the follow-up\u003c\\/p\u003e\\n\\n\u003cp\u003e    UpdateSensitiveLOBLocatorInputStream\u003c\\/p\u003e\\n\\n\u003cp\u003e&gt; 3) I think this class should be abstract. Methods to be implemented by subclasses \u003cbr\\/\u003e\\n     should be abstract too.\u003c\\/p\u003e\\n\\n\u003cp\u003e     I agree. I found this while doing the mock review runs I do on my patches\u003cbr\\/\u003e\\n     to find silly mistakes. I am sorry, I missed implementing this. I will do\u003cbr\\/\u003e\\n     this in a follow-up.\u003c\\/p\u003e\\n\\n\u003cp\u003e&gt; 4) Here is an issue for the documentation noted in my earlier comment today: \\u00D8ystein\'s use case is \u003cbr\\/\u003e\\n&gt;    supported only if a rewritten chunk is exactly the same length as the chunk it is replacing.\u003c\\/p\u003e\\n\\n\u003cp\u003e     I guess the release note needed flag needs to be enabled and a\u003cbr\\/\u003e\\n     release note written. Will Do!\u003c\\/p\u003e\\n\\n\\n\u003cp\u003e&gt;BlobLocatorOutputStream\u003cbr\\/\u003e\\n&gt;ClobLocatorWriter\u003cbr\\/\u003e\\n&gt;ClobLocatorOutputStream\u003c\\/p\u003e\\n\\n\u003cp\u003e&gt;5) Why is incrementUpdateCount() called in these streams? Shouldn\'t the update count be \u003cbr\\/\u003e\\n&gt;   incremented by the Blob and Clob methods which do the actual writing?\u003c\\/p\u003e\\n\\n\u003cp\u003e   readCharacters, writeCharacters, writeBytes on the Locator streams forward their calls to\u003cbr\\/\u003e\\n   the framework that calls the stored procedures with the locator value obtained\u003cbr\\/\u003e\\n   from the Lob. The only way to reach the update count being the Lob reference\u003cbr\\/\u003e\\n   that is maintained within these streams.\u003c\\/p\u003e\\n\\n\u003cp\u003e   So when a user takes a OutputStream from a Lob and does not write\u003cbr\\/\u003e\\n   into it the InputStreams can continue reading un-hindered. When a\u003cbr\\/\u003e\\n   write into the OutputStreams or the Writer happens then we need to\u003cbr\\/\u003e\\n   do increment the updateCount.\u003c\\/p\u003e\\n\\n\u003cp\u003e   Hence I decided to increment the updateCount by calling the incrementUpdateCount\u003cbr\\/\u003e\\n   method using Lob reference mainted in the streams.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12504141_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12504141_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'13\\/Jun\\/07 06:56\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-06-13T06:56:02+0000\'\u003e13\\/Jun\\/07 06:56\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Thank you for the reviews, comments and the test Runs Rick. \\n\\n &gt;1) As noted earlier, there are race conditions in the read() methods  \\n&gt;   because they check the update count on the way in and the LOB  \\n&gt;   contents could change before the read() methods exit. Is this OK? \\n\\n     I read the comments from Anurag just now...  \\n\\n     A small addition to that. \\n\\n     Writes and reads to LOB\'s are basically stored procedure calls with \\n    the locator information passed as parameter. So during the case \\n    pointed out when a read and a write simultaneously happen the calls \\n    would be propogated un-affected by the presence of each other till \\n    the LOBStreamControl class which then synchronizes the calls. So this \\n    issue would be avoided here. \\n\\n\\n &gt;2) I think that calling sqlLength() in order to check for committed transactions  \\n&gt;   is a little tricky. I think it would be better if Lob exposed a method,  \\n&gt;   say isValid() which has the required semantics. Under the covers,  \\n&gt;   Lob.isValid() can call sqlLength() for the time being. \\n\\n     I initially thought of adding this in the checkValidity() \\n    method of am\\/Blob and am\\/Clob. I then decided against this \\n    because these methods were being called in the methods that \\n    result in a Stored Procedure call themselves. For example \\n    checkValidity is called in readBytes. If the locator associated  \\n    with this is valid then it will result in 2 round trips to the \\n    server instead of two. One for the SqlLength() call and the \\n    other for the BLOBSETBYTES stored procedure call. The initial \\n    round-trip would not be necessary for this method since during \\n    the call to BLOBSETBYTES itself we would find out that the \\n    locator in invalid. \\n\\n     But your solution of keeping the locator valid check in one \\n    place (Lob) is correct because if in the future we decide to \\n    not use this we can change it at this place alone. \\n\\n     I will do this in the follow-up \\n\\n     UpdateSensitiveLOBLocatorInputStream \\n\\n &gt; 3) I think this class should be abstract. Methods to be implemented by subclasses  \\n     should be abstract too. \\n\\n      I agree. I found this while doing the mock review runs I do on my patches \\n     to find silly mistakes. I am sorry, I missed implementing this. I will do \\n     this in a follow-up. \\n\\n &gt; 4) Here is an issue for the documentation noted in my earlier comment today: \\u00D8ystein\'s use case is  \\n&gt;    supported only if a rewritten chunk is exactly the same length as the chunk it is replacing. \\n\\n      I guess the release note needed flag needs to be enabled and a \\n     release note written. Will Do! \\n\\n\\n &gt;BlobLocatorOutputStream \\n&gt;ClobLocatorWriter \\n&gt;ClobLocatorOutputStream \\n\\n &gt;5) Why is incrementUpdateCount() called in these streams? Shouldn\'t the update count be  \\n&gt;   incremented by the Blob and Clob methods which do the actual writing? \\n\\n    readCharacters, writeCharacters, writeBytes on the Locator streams forward their calls to \\n   the framework that calls the stored procedures with the locator value obtained \\n   from the Lob. The only way to reach the update count being the Lob reference \\n   that is maintained within these streams. \\n\\n    So when a user takes a OutputStream from a Lob and does not write \\n   into it the InputStreams can continue reading un-hindered. When a \\n   write into the OutputStreams or the Writer happens then we need to \\n   do increment the updateCount. \\n\\n    Hence I decided to increment the updateCount by calling the incrementUpdateCount \\n   method using Lob reference mainted in the streams.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12504189\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-2763?focusedCommentId=12504189&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12504189\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"oysteing\\\" id=\\\"commentauthor_12504189_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=oysteing\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"oysteing\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e \\u00D8ystein Gr\\u00F8vlen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12504189_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'13\\/Jun\\/07 10:26\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-06-13T10:26:33+0000\'\u003e13\\/Jun\\/07 10:26\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eRick Hillegas (JIRA) wrote:\u003cbr\\/\u003e\\n&gt; Thanks for the patch, Narayanan. I am reading it now. Here is an initial reaction:\u003cbr\\/\u003e\\n&gt; \u003cbr\\/\u003e\\n&gt; It seems to me that the input stream\'s position is an offset from\u003cbr\\/\u003e\\n&gt; the start of the LOB. When the stream is recreated, the current\u003cbr\\/\u003e\\n&gt; position (offset from the start of the LOB) does not change. So it\u003cbr\\/\u003e\\n&gt; seems to me that \\u00D8ystein\'s use-case is supported if the rewritten\u003cbr\\/\u003e\\n&gt; chunks do not change size. So, I am puzzled. To support that use\u003cbr\\/\u003e\\n&gt; case, is there any need to recreate the streams? It appears to me\u003cbr\\/\u003e\\n&gt; that the recreation of the streams supports some other use-case, in\u003cbr\\/\u003e\\n&gt; which the writer is writing bytes further on in the LOB, and not in\u003cbr\\/\u003e\\n&gt; the porition that has already been read.\u003c\\/p\u003e\\n\\n\u003cp\u003eThe use-case I came up with, is an argument for not throwing an\u003cbr\\/\u003e\\nexception when the underlying LOB has been changed since the stream\u003cbr\\/\u003e\\nwas created.  It does no require any particular behavior with respect\u003cbr\\/\u003e\\nto whether the updates will be seen by the stream.\u003c\\/p\u003e\\n\\n\u003cp\u003eMy arguments for choosing the implementation that Narayanan proposes is:\u003c\\/p\u003e\\n\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003eThis is the way it has been implemented in the embedded driver\u003c\\/li\u003e\\n\\t\u003cli\u003eIt gives a clean behavior that is very easy to explain and\u003cbr\\/\u003e\\n    understand: You will see all updates made so far.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003eAn alternative is, as Knut Anders suggests, that we give no guarantees\u003cbr\\/\u003e\\nwith respect to what updates will be seen.  The given use-case will\u003cbr\\/\u003e\\nstill be supported.  I guess we can make that the official story also\u003cbr\\/\u003e\\nfor embedded driver, even if the implementation guarantees a specific\u003cbr\\/\u003e\\nbehavior.\u003c\\/p\u003e\\n\\n\u003cp\u003e&gt; Do we have a use-case in mind for this scenario? It would be nice to\u003cbr\\/\u003e\\n&gt; be able to argue to ourselves that we are building something that\u003cbr\\/\u003e\\n&gt; solves a customer problem here.\u003c\\/p\u003e\\n\\n\u003cp\u003eI doubt that most users would care here.  It seems to me that if you\u003cbr\\/\u003e\\nneed to work with a LOB, and need to read something you have written\u003cbr\\/\u003e\\nearlier, an application could use other data structures that are more\u003cbr\\/\u003e\\nsuitable than Blob\\/Clob objects (e.g., a byte array or a local file).\u003cbr\\/\u003e\\nAlso, if you insists on using Blob\\/Clob objects for this purpose, you\u003cbr\\/\u003e\\nwill be able to see your updates if you open a new stream.\u003c\\/p\u003e\\n\\n\u003cp\u003e(Maybe a bit far-fetched, but Blob\\/Clob objects give you a mechanism\u003cbr\\/\u003e\\nfor temporary storage of large objects on a server.  It will probably\u003cbr\\/\u003e\\nbe more efficient than storing them in a database table since the\u003cbr\\/\u003e\\ntemporary LOBs support direct access to specific positions within the\u003cbr\\/\u003e\\nLOB, something Store does not.)\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"oysteing\\\" id=\\\"commentauthor_12504189_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=oysteing\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"oysteing\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e \\u00D8ystein Gr\\u00F8vlen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12504189_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'13\\/Jun\\/07 10:26\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-06-13T10:26:33+0000\'\u003e13\\/Jun\\/07 10:26\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Rick Hillegas (JIRA) wrote: \\n&gt; Thanks for the patch, Narayanan. I am reading it now. Here is an initial reaction: \\n&gt;  \\n&gt; It seems to me that the input stream\'s position is an offset from \\n&gt; the start of the LOB. When the stream is recreated, the current \\n&gt; position (offset from the start of the LOB) does not change. So it \\n&gt; seems to me that \\u00D8ystein\'s use-case is supported if the rewritten \\n&gt; chunks do not change size. So, I am puzzled. To support that use \\n&gt; case, is there any need to recreate the streams? It appears to me \\n&gt; that the recreation of the streams supports some other use-case, in \\n&gt; which the writer is writing bytes further on in the LOB, and not in \\n&gt; the porition that has already been read. \\n\\n The use-case I came up with, is an argument for not throwing an \\nexception when the underlying LOB has been changed since the stream \\nwas created.  It does no require any particular behavior with respect \\nto whether the updates will be seen by the stream. \\n\\n My arguments for choosing the implementation that Narayanan proposes is: \\n\\n \\n\\t This is the way it has been implemented in the embedded driver \\n\\t It gives a clean behavior that is very easy to explain and \\n    understand: You will see all updates made so far. \\n \\n\\n\\n An alternative is, as Knut Anders suggests, that we give no guarantees \\nwith respect to what updates will be seen.  The given use-case will \\nstill be supported.  I guess we can make that the official story also \\nfor embedded driver, even if the implementation guarantees a specific \\nbehavior. \\n\\n &gt; Do we have a use-case in mind for this scenario? It would be nice to \\n&gt; be able to argue to ourselves that we are building something that \\n&gt; solves a customer problem here. \\n\\n I doubt that most users would care here.  It seems to me that if you \\nneed to work with a LOB, and need to read something you have written \\nearlier, an application could use other data structures that are more \\nsuitable than Blob\\/Clob objects (e.g., a byte array or a local file). \\nAlso, if you insists on using Blob\\/Clob objects for this purpose, you \\nwill be able to see your updates if you open a new stream. \\n\\n (Maybe a bit far-fetched, but Blob\\/Clob objects give you a mechanism \\nfor temporary storage of large objects on a server.  It will probably \\nbe more efficient than storing them in a database table since the \\ntemporary LOBs support direct access to specific positions within the \\nLOB, something Store does not.)              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12504211\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-2763?focusedCommentId=12504211&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12504211\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"oysteing\\\" id=\\\"commentauthor_12504211_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=oysteing\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"oysteing\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e \\u00D8ystein Gr\\u00F8vlen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12504211_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'13\\/Jun\\/07 12:24\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-06-13T12:24:34+0000\'\u003e13\\/Jun\\/07 12:24\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eRick Hillegas (JIRA) wrote:\u003cbr\\/\u003e\\n&gt; Thanks for the quick response, Narayanan. I think I can see how this\u003cbr\\/\u003e\\n&gt; patch reduces the possibility of the inconsistency which you\u003cbr\\/\u003e\\n&gt; describe. However, I think that there are race conditions in this\u003cbr\\/\u003e\\n&gt; patch which could still give rise to that inconsistency--because the\u003cbr\\/\u003e\\n&gt; read() methods handshake with the writers on entry and not on exit.\u003c\\/p\u003e\\n\\n\u003cp\u003eThanks, for raising the issue of race conditions, Rick.  We might not\u003cbr\\/\u003e\\nhave considered that carefully enough.  One thing to note here is that\u003cbr\\/\u003e\\nBlob\\/Clob objects are local to one transaction\\/connection.  I do not\u003cbr\\/\u003e\\nthink it is very common for two threads to share the same connection,\u003cbr\\/\u003e\\nbut we need to consider what would happen in such cases.  \u003c\\/p\u003e\\n\\n\u003cp\u003eIn the client driver, Blob and Clob operations synchronize on the\u003cbr\\/\u003e\\nconnection, associated streams do not.  (This has not changed from\u003cbr\\/\u003e\\n10.2).  However, in 10.3 reads and writes will lead to calls to stored\u003cbr\\/\u003e\\nprocedures, which synchronize on the connection.  Hence, only one\u003cbr\\/\u003e\\nthread will read or write LOB fragments at a time.  However, for large\u003cbr\\/\u003e\\ndata transfers (&gt; max VARCHAR size), reads and writes will not be\u003cbr\\/\u003e\\natomic.  Readers may see parts of what is written by a single API\u003cbr\\/\u003e\\ncall.  I am not sure how big a problem this is, but I think we should\u003cbr\\/\u003e\\nconsider also synchronizing on the connection in streams.\u003c\\/p\u003e\\n\\n\u003cp\u003e&gt; What I\'m struggling to understand is this: why are the\u003cbr\\/\u003e\\n&gt; inconsistencies allowed by this patch better than the\u003cbr\\/\u003e\\n&gt; inconsistencies allowed if we don\'t do anything? \u003c\\/p\u003e\\n\\n\u003cp\u003eThe major difference is that the inconsistencies that Narayanan is\u003cbr\\/\u003e\\nadressing in this issue will also appear in single-threaded\u003cbr\\/\u003e\\nenvironments.  That is a greater concern since multithreaded access in\u003cbr\\/\u003e\\nthe same transaction is not very likely.  \u003c\\/p\u003e\\n\\n\u003cp\u003eIt is also quite separate issues since the multi-threaded issue should\u003cbr\\/\u003e\\nbe solved by synchronizing on the connection, while that will not\u003cbr\\/\u003e\\nhelp here.  (We must also make sure that the implementation does not\u003cbr\\/\u003e\\nintroduce new multi-threaded issues.)\u003c\\/p\u003e\\n\\n\u003cp\u003e&gt; What are the supported use-cases which we want to document? If I\u003cbr\\/\u003e\\n&gt; understood those use-cases, then I could reason about whether this\u003cbr\\/\u003e\\n&gt; patch actually delivers the intended benefit.\u003c\\/p\u003e\\n\\n\u003cp\u003eI feel that the best would be if did not have to document any\u003cbr\\/\u003e\\nuse-cases at all because the behavior is so well-defined that the\u003cbr\\/\u003e\\nprogrammer by himself could imply how to behave. \u003cbr\\/\u003e\\nNarayanan\'s proposal will make it possible to say: \\\"A read operation\u003cbr\\/\u003e\\non a stream will see all previous updates to a Blob\\/Clob object\\\", and\u003cbr\\/\u003e\\nI think most people would understand what that implies.\u003c\\/p\u003e\\n\\n\u003cp\u003eIn my view, the major benefit of this patch is that you get a\u003cbr\\/\u003e\\nwell-defined behavior.  Whether that is enough value to justify the\u003cbr\\/\u003e\\npatch, I am not 100% sure of.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"oysteing\\\" id=\\\"commentauthor_12504211_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=oysteing\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"oysteing\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e \\u00D8ystein Gr\\u00F8vlen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12504211_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'13\\/Jun\\/07 12:24\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-06-13T12:24:34+0000\'\u003e13\\/Jun\\/07 12:24\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Rick Hillegas (JIRA) wrote: \\n&gt; Thanks for the quick response, Narayanan. I think I can see how this \\n&gt; patch reduces the possibility of the inconsistency which you \\n&gt; describe. However, I think that there are race conditions in this \\n&gt; patch which could still give rise to that inconsistency--because the \\n&gt; read() methods handshake with the writers on entry and not on exit. \\n\\n Thanks, for raising the issue of race conditions, Rick.  We might not \\nhave considered that carefully enough.  One thing to note here is that \\nBlob\\/Clob objects are local to one transaction\\/connection.  I do not \\nthink it is very common for two threads to share the same connection, \\nbut we need to consider what would happen in such cases.   \\n\\n In the client driver, Blob and Clob operations synchronize on the \\nconnection, associated streams do not.  (This has not changed from \\n10.2).  However, in 10.3 reads and writes will lead to calls to stored \\nprocedures, which synchronize on the connection.  Hence, only one \\nthread will read or write LOB fragments at a time.  However, for large \\ndata transfers (&gt; max VARCHAR size), reads and writes will not be \\natomic.  Readers may see parts of what is written by a single API \\ncall.  I am not sure how big a problem this is, but I think we should \\nconsider also synchronizing on the connection in streams. \\n\\n &gt; What I\'m struggling to understand is this: why are the \\n&gt; inconsistencies allowed by this patch better than the \\n&gt; inconsistencies allowed if we don\'t do anything?  \\n\\n The major difference is that the inconsistencies that Narayanan is \\nadressing in this issue will also appear in single-threaded \\nenvironments.  That is a greater concern since multithreaded access in \\nthe same transaction is not very likely.   \\n\\n It is also quite separate issues since the multi-threaded issue should \\nbe solved by synchronizing on the connection, while that will not \\nhelp here.  (We must also make sure that the implementation does not \\nintroduce new multi-threaded issues.) \\n\\n &gt; What are the supported use-cases which we want to document? If I \\n&gt; understood those use-cases, then I could reason about whether this \\n&gt; patch actually delivers the intended benefit. \\n\\n I feel that the best would be if did not have to document any \\nuse-cases at all because the behavior is so well-defined that the \\nprogrammer by himself could imply how to behave.  \\nNarayanan\'s proposal will make it possible to say: \\\"A read operation \\non a stream will see all previous updates to a Blob\\/Clob object\\\", and \\nI think most people would understand what that implies. \\n\\n In my view, the major benefit of this patch is that you get a \\nwell-defined behavior.  Whether that is enough value to justify the \\npatch, I am not 100% sure of.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12504298\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-2763?focusedCommentId=12504298&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12504298\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12504298_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12504298_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'13\\/Jun\\/07 15:55\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-06-13T15:55:09+0000\'\u003e13\\/Jun\\/07 15:55\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThank you for the reviews and comments on the earlier patch Rick.\u003c\\/p\u003e\\n\\n\u003cp\u003eIn the attached patch I have\u003c\\/p\u003e\\n\\n\u003cp\u003eI have made UpdateSensitiveLOBLocatorInputStream  abstract.\u003c\\/p\u003e\\n\\n\u003cp\u003eAdded a method to Lob that checks for locator validity.\u003cbr\\/\u003e\\nI have moved the calls to this method to the UpdateSensitive\u003cbr\\/\u003e\\nstreams.\u003c\\/p\u003e\\n\\n\u003cp\u003eI ran BlobClob4BlobTest, jdbc4\\/BlobTest, jdbc4\\/ClobTest and the \u003cbr\\/\u003e\\nUpdateable streams test that I have enabled in the patch and saw\u003cbr\\/\u003e\\nno failures.\u003c\\/p\u003e\\n\\n\u003cp\u003eI am running junit All now.\u003c\\/p\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12504298_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12504298_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'13\\/Jun\\/07 15:55\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-06-13T15:55:09+0000\'\u003e13\\/Jun\\/07 15:55\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Thank you for the reviews and comments on the earlier patch Rick. \\n\\n In the attached patch I have \\n\\n I have made UpdateSensitiveLOBLocatorInputStream  abstract. \\n\\n Added a method to Lob that checks for locator validity. \\nI have moved the calls to this method to the UpdateSensitive \\nstreams. \\n\\n I ran BlobClob4BlobTest, jdbc4\\/BlobTest, jdbc4\\/ClobTest and the  \\nUpdateable streams test that I have enabled in the patch and saw \\nno failures. \\n\\n I am running junit All now. \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12504327\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-2763?focusedCommentId=12504327&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12504327\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_12504327_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12504327_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'13\\/Jun\\/07 16:59\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-06-13T16:59:22+0000\'\u003e13\\/Jun\\/07 16:59\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThanks Anurag, Knut, Narayanan, and \\u00D8ystein for the additional clarification. Is this a fair statement of the customer-visible behavior:\u003c\\/p\u003e\\n\\n\u003cp\u003e\\\"A thread will always see the writes which it has made to the LOB. It is not defined whether a thread will see writes made by other threads to the LOB.\\\"\u003c\\/p\u003e\\n\\n\u003cp\u003eWhatever the contract turns out to be, we should describe it in the user guides. A release note is not sufficient.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_12504327_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12504327_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'13\\/Jun\\/07 16:59\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-06-13T16:59:22+0000\'\u003e13\\/Jun\\/07 16:59\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Thanks Anurag, Knut, Narayanan, and \\u00D8ystein for the additional clarification. Is this a fair statement of the customer-visible behavior: \\n\\n \\\"A thread will always see the writes which it has made to the LOB. It is not defined whether a thread will see writes made by other threads to the LOB.\\\" \\n\\n Whatever the contract turns out to be, we should describe it in the user guides. A release note is not sufficient.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12504343\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-2763?focusedCommentId=12504343&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12504343\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_12504343_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12504343_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'13\\/Jun\\/07 17:29\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-06-13T17:29:25+0000\'\u003e13\\/Jun\\/07 17:29\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThanks for the additional modifications, Narayanan.\u003c\\/p\u003e\\n\\n\u003cp\u003e&gt;&gt;5) Why is incrementUpdateCount() called in these streams? Shouldn\'t the update count be\u003cbr\\/\u003e\\n&gt;&gt; incremented by the Blob and Clob methods which do the actual writing?\u003cbr\\/\u003e\\n&gt;\u003cbr\\/\u003e\\n&gt;   readCharacters, writeCharacters, writeBytes on the Locator streams forward their calls to\u003cbr\\/\u003e\\n&gt;   the framework that calls the stored procedures with the locator value obtained\u003cbr\\/\u003e\\n&gt;   from the Lob. The only way to reach the update count being the Lob reference\u003cbr\\/\u003e\\n&gt;   &gt;\\\\that is maintained within these streams.\u003cbr\\/\u003e\\n&gt;\u003cbr\\/\u003e\\n&gt; ...\u003c\\/p\u003e\\n\\n\u003cp\u003eI think I\'m missing something. BlobLocatorOutputStream.writeBytes() does the following:\u003c\\/p\u003e\\n\\n\u003cp\u003e            connection.locatorProcedureCall()\u003cbr\\/\u003e\\n                .blobSetBytes(blob.locator_, currentPos, b.length, b);\u003c\\/p\u003e\\n\\n\u003cp\u003e            ...\u003c\\/p\u003e\\n\\n\u003cp\u003e            blob.incrementUpdateCount();\u003c\\/p\u003e\\n\\n\u003cp\u003eWhy can\'t BlobLocatorOutputStream.writeBytes()  do something like the following, instead:\u003c\\/p\u003e\\n\\n\u003cp\u003e            blob.setBytesX( currentPos, b, 0, b.length );\u003c\\/p\u003e\\n\\n\u003cp\u003eBlob.setBytesX() already increments the update count and there is no need for BlobLocatorOutputStream to do this. I think that the bumping of the update count should be encapsulated in the Lob and incrementUpdateCount() should be a private method.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_12504343_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12504343_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'13\\/Jun\\/07 17:29\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-06-13T17:29:25+0000\'\u003e13\\/Jun\\/07 17:29\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Thanks for the additional modifications, Narayanan. \\n\\n &gt;&gt;5) Why is incrementUpdateCount() called in these streams? Shouldn\'t the update count be \\n&gt;&gt; incremented by the Blob and Clob methods which do the actual writing? \\n&gt; \\n&gt;   readCharacters, writeCharacters, writeBytes on the Locator streams forward their calls to \\n&gt;   the framework that calls the stored procedures with the locator value obtained \\n&gt;   from the Lob. The only way to reach the update count being the Lob reference \\n&gt;   &gt;\\\\that is maintained within these streams. \\n&gt; \\n&gt; ... \\n\\n I think I\'m missing something. BlobLocatorOutputStream.writeBytes() does the following: \\n\\n             connection.locatorProcedureCall() \\n                .blobSetBytes(blob.locator_, currentPos, b.length, b); \\n\\n             ... \\n\\n             blob.incrementUpdateCount(); \\n\\n Why can\'t BlobLocatorOutputStream.writeBytes()  do something like the following, instead: \\n\\n             blob.setBytesX( currentPos, b, 0, b.length ); \\n\\n Blob.setBytesX() already increments the update count and there is no need for BlobLocatorOutputStream to do this. I think that the bumping of the update count should be encapsulated in the Lob and incrementUpdateCount() should be a private method.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12504549\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-2763?focusedCommentId=12504549&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12504549\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12504549_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12504549_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'14\\/Jun\\/07 05:49\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-06-14T05:49:26+0000\'\u003e14\\/Jun\\/07 05:49\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThank you for the comments Rick\u003c\\/p\u003e\\n\\n\u003cp\u003eI had run tests on v2 and saw no failures.\u003c\\/p\u003e\\n\\n\u003cp\u003eI will do the modification you have suggested and post a patch\u003cbr\\/\u003e\\nagain.\u003c\\/p\u003e\\n\\n\u003cp\u003eThanks once again for the detailed reviews and comments.\u003c\\/p\u003e\\n\\n\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12504549_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12504549_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'14\\/Jun\\/07 05:49\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-06-14T05:49:26+0000\'\u003e14\\/Jun\\/07 05:49\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Thank you for the comments Rick \\n\\n I had run tests on v2 and saw no failures. \\n\\n I will do the modification you have suggested and post a patch \\nagain. \\n\\n Thanks once again for the detailed reviews and comments. \\n\\n\\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12504567\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-2763?focusedCommentId=12504567&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12504567\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12504567_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12504567_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'14\\/Jun\\/07 07:10\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-06-14T07:10:39+0000\'\u003e14\\/Jun\\/07 07:10\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThank you for the comments Rick.\u003c\\/p\u003e\\n\\n\u003cp\u003eI have addressed the issue as pointed out by you\u003cbr\\/\u003e\\nand have also implemented you suggestion.\u003c\\/p\u003e\\n\\n\u003cp\u003eI am running junit All now and shall revert\u003cbr\\/\u003e\\nback with the results.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12504567_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12504567_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'14\\/Jun\\/07 07:10\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-06-14T07:10:39+0000\'\u003e14\\/Jun\\/07 07:10\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Thank you for the comments Rick. \\n\\n I have addressed the issue as pointed out by you \\nand have also implemented you suggestion. \\n\\n I am running junit All now and shall revert \\nback with the results.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12504700\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-2763?focusedCommentId=12504700&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12504700\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12504700_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12504700_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'14\\/Jun\\/07 12:50\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-06-14T12:50:12+0000\'\u003e14\\/Jun\\/07 12:50\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI have run junit All and observed no failures. I request for this patch to be considered for a commit.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12504700_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12504700_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'14\\/Jun\\/07 12:50\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-06-14T12:50:12+0000\'\u003e14\\/Jun\\/07 12:50\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I have run junit All and observed no failures. I request for this patch to be considered for a commit.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12504710\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-2763?focusedCommentId=12504710&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12504710\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"oysteing\\\" id=\\\"commentauthor_12504710_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=oysteing\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"oysteing\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e \\u00D8ystein Gr\\u00F8vlen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12504710_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'14\\/Jun\\/07 13:03\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-06-14T13:03:58+0000\'\u003e14\\/Jun\\/07 13:03\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003ePatch looks good.  A few comments\\/questions:\u003c\\/p\u003e\\n\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003eWhen you recreate the stream, are you getting the right length?  It\u003cbr\\/\u003e\\n  seems to me that if something has been read (the position has\u003cbr\\/\u003e\\n  changed from when creating the previous stream), the remaining\u003cbr\\/\u003e\\n  length should be smaller than what it was initially.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003eWhen using setBytesX, I recommend using the return value to\u003cbr\\/\u003e\\n  determine the number of bytes written since I do not think setBytesX\u003cbr\\/\u003e\\n  guarantees that everything is written (even if it always will).  I\u003cbr\\/\u003e\\n  guess you then would need a loop to make sure everything is written.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003eThe use of -1 for unset maxPos complicates stuff a bit.  Would it\u003cbr\\/\u003e\\n  not be possible to set maxPos to the end of the Blob\\/Clob instead if\u003cbr\\/\u003e\\n  it was not specified?\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"oysteing\\\" id=\\\"commentauthor_12504710_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=oysteing\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"oysteing\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e \\u00D8ystein Gr\\u00F8vlen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12504710_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'14\\/Jun\\/07 13:03\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-06-14T13:03:58+0000\'\u003e14\\/Jun\\/07 13:03\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Patch looks good.  A few comments\\/questions: \\n\\n \\n\\t When you recreate the stream, are you getting the right length?  It \\n  seems to me that if something has been read (the position has \\n  changed from when creating the previous stream), the remaining \\n  length should be smaller than what it was initially. \\n \\n\\n\\n \\n\\t When using setBytesX, I recommend using the return value to \\n  determine the number of bytes written since I do not think setBytesX \\n  guarantees that everything is written (even if it always will).  I \\n  guess you then would need a loop to make sure everything is written. \\n \\n\\n\\n \\n\\t The use of -1 for unset maxPos complicates stuff a bit.  Would it \\n  not be possible to set maxPos to the end of the Blob\\/Clob instead if \\n  it was not specified? \\n \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12504767\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-2763?focusedCommentId=12504767&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12504767\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12504767_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12504767_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'14\\/Jun\\/07 15:06\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-06-14T15:06:20+0000\'\u003e14\\/Jun\\/07 15:06\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003eWhen you recreate the stream, are you getting the right length?  It\u003cbr\\/\u003e\\n&gt;  seems to me that if something has been read (the position has\u003cbr\\/\u003e\\n&gt;  changed from when creating the previous stream), the remaining\u003cbr\\/\u003e\\n&gt;  length should be smaller than what it was initially.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003eYou are correct. In the cases where the subset of the stream is requested\u003cbr\\/\u003e\\n(using getCharacterStream(long, long), getBinaryStream(long, long) the \u003cbr\\/\u003e\\nlength has to be re-calculated as length-currentPos+1.\u003c\\/p\u003e\\n\\n\u003cp\u003e&gt;- When using setBytesX, I recommend using the return value to\u003cbr\\/\u003e\\n&gt;  determine the number of bytes written since I do not think setBytesX\u003cbr\\/\u003e\\n&gt;  guarantees that everything is written (even if it always will).  I\u003cbr\\/\u003e\\n&gt;  guess you then would need a loop to make sure everything is written.\u003c\\/p\u003e\\n\\n\u003cp\u003esetBytesX internally calls the framework method blobSetBytes that has\u003cbr\\/\u003e\\na while loop that ensures that all the bytes are sent. Adding a loop\u003cbr\\/\u003e\\nis redundant because it will never be called.\u003c\\/p\u003e\\n\\n\u003cp\u003e&gt;- The use of -1 for unset maxPos complicates stuff a bit.  Would it\u003cbr\\/\u003e\\n&gt;  not be possible to set maxPos to the end of the Blob\\/Clob instead if\u003cbr\\/\u003e\\n&gt;  it was not specified?\u003c\\/p\u003e\\n\\n\u003cp\u003eThe end of the Blob\\/Clob is variable. It can keep increasing with writes\u003cbr\\/\u003e\\nand decreasing with truncates. Hence it would really not be possible to\u003cbr\\/\u003e\\nfind out if it was really a value set to represent a subset of the stream\u003cbr\\/\u003e\\nor the end of the stream.\u003c\\/p\u003e\\n\\n\u003cp\u003eI have fixed the length issue in the patch attached. I have run\u003c\\/p\u003e\\n\\n\u003cp\u003e1) jdbcapi\\/BlobClob4BlobTest\u003cbr\\/\u003e\\n2) jdbc4\\/BlobTest\u003cbr\\/\u003e\\n3) jdbc4\\/ClobTest\u003cbr\\/\u003e\\n4) jdbcapi\\/ClobUpdateableReaderTest\u003cbr\\/\u003e\\n5) jdbcapi\\/BlobUpdateableStreamTest\u003c\\/p\u003e\\n\\n\u003cp\u003ewithout any failures.\u003c\\/p\u003e\\n\\n\u003cp\u003eI request for this patch to be considered for a commit.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12504767_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12504767_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'14\\/Jun\\/07 15:06\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-06-14T15:06:20+0000\'\u003e14\\/Jun\\/07 15:06\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    \\n\\t When you recreate the stream, are you getting the right length?  It \\n&gt;  seems to me that if something has been read (the position has \\n&gt;  changed from when creating the previous stream), the remaining \\n&gt;  length should be smaller than what it was initially. \\n \\n\\n\\n You are correct. In the cases where the subset of the stream is requested \\n(using getCharacterStream(long, long), getBinaryStream(long, long) the  \\nlength has to be re-calculated as length-currentPos+1. \\n\\n &gt;- When using setBytesX, I recommend using the return value to \\n&gt;  determine the number of bytes written since I do not think setBytesX \\n&gt;  guarantees that everything is written (even if it always will).  I \\n&gt;  guess you then would need a loop to make sure everything is written. \\n\\n setBytesX internally calls the framework method blobSetBytes that has \\na while loop that ensures that all the bytes are sent. Adding a loop \\nis redundant because it will never be called. \\n\\n &gt;- The use of -1 for unset maxPos complicates stuff a bit.  Would it \\n&gt;  not be possible to set maxPos to the end of the Blob\\/Clob instead if \\n&gt;  it was not specified? \\n\\n The end of the Blob\\/Clob is variable. It can keep increasing with writes \\nand decreasing with truncates. Hence it would really not be possible to \\nfind out if it was really a value set to represent a subset of the stream \\nor the end of the stream. \\n\\n I have fixed the length issue in the patch attached. I have run \\n\\n 1) jdbcapi\\/BlobClob4BlobTest \\n2) jdbc4\\/BlobTest \\n3) jdbc4\\/ClobTest \\n4) jdbcapi\\/ClobUpdateableReaderTest \\n5) jdbcapi\\/BlobUpdateableStreamTest \\n\\n without any failures. \\n\\n I request for this patch to be considered for a commit.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12504796\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-2763?focusedCommentId=12504796&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12504796\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_12504796_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12504796_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'14\\/Jun\\/07 16:07\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-06-14T16:07:13+0000\'\u003e14\\/Jun\\/07 16:07\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThanks for all the great work, Narayanan. Looks like my concerns have been addressed. I am running the tests now.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_12504796_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12504796_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'14\\/Jun\\/07 16:07\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-06-14T16:07:13+0000\'\u003e14\\/Jun\\/07 16:07\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Thanks for all the great work, Narayanan. Looks like my concerns have been addressed. I am running the tests now.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12504894\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-2763?focusedCommentId=12504894&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12504894\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_12504894_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12504894_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'14\\/Jun\\/07 20:00\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-06-14T20:00:14+0000\'\u003e14\\/Jun\\/07 20:00\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eCommitted at revision 547382.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_12504894_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12504894_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'14\\/Jun\\/07 20:00\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-06-14T20:00:14+0000\'\u003e14\\/Jun\\/07 20:00\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Committed at revision 547382.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12505030\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-2763?focusedCommentId=12505030&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12505030\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12505030_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12505030_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Jun\\/07 04:30\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-06-15T04:30:27+0000\'\u003e15\\/Jun\\/07 04:30\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThank you for the commit Rick !\u003c\\/p\u003e\\n\\n\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12505030_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12505030_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Jun\\/07 04:30\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-06-15T04:30:27+0000\'\u003e15\\/Jun\\/07 04:30\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Thank you for the commit Rick ! \\n\\n\\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12505055\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-2763?focusedCommentId=12505055&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12505055\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12505055_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12505055_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Jun\\/07 06:08\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-06-15T06:08:57+0000\'\u003e15\\/Jun\\/07 06:08\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eAll patches submitted and committed!\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12505055_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12505055_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Jun\\/07 06:08\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-06-15T06:08:57+0000\'\u003e15\\/Jun\\/07 06:08\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    All patches submitted and committed!              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12505916\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-2763?focusedCommentId=12505916&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12505916\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"army\\\" id=\\\"commentauthor_12505916_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=army\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"army\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e A B\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12505916_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'18\\/Jun\\/07 18:37\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-06-18T18:37:01+0000\'\u003e18\\/Jun\\/07 18:37\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eNoticed that the changes for this issue are causing some javadoc warnings:\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003cspan class=\\\"error\\\"\u003e&#91;javadoc&#93;\u003c\\/span\u003e java\\\\client\\\\org\\\\apache\\\\derby\\\\client\\\\am\\\\UpdateSensitiveBlobLocatorInputStream.java:53: warning - @param argument \\\"connection\\\" is not a parameter name.\u003cbr\\/\u003e\\n      \u003cspan class=\\\"error\\\"\u003e&#91;javadoc&#93;\u003c\\/span\u003e java\\\\client\\\\org\\\\apache\\\\derby\\\\client\\\\am\\\\UpdateSensitiveBlobLocatorInputStream.java:74: warning - @param argument \\\"connection\\\" is not a parameter name.\u003cbr\\/\u003e\\n      \u003cspan class=\\\"error\\\"\u003e&#91;javadoc&#93;\u003c\\/span\u003e java\\\\client\\\\org\\\\apache\\\\derby\\\\client\\\\am\\\\UpdateSensitiveClobLocatorInputStream.java:53: warning - @param argument \\\"connection\\\" is not a parameter name.\u003cbr\\/\u003e\\n      \u003cspan class=\\\"error\\\"\u003e&#91;javadoc&#93;\u003c\\/span\u003e java\\\\client\\\\org\\\\apache\\\\derby\\\\client\\\\am\\\\UpdateSensitiveClobLocatorReader.java:72: warning - @param argument \\\"connection\\\" is not a parameter name.\u003cbr\\/\u003e\\n      \u003cspan class=\\\"error\\\"\u003e&#91;javadoc&#93;\u003c\\/span\u003e java\\\\client\\\\org\\\\apache\\\\derby\\\\client\\\\am\\\\UpdateSensitiveClobLocatorReader.java:72: warning - @param argument \\\"r\\\" is not a parameter name.\u003cbr\\/\u003e\\n      \u003cspan class=\\\"error\\\"\u003e&#91;javadoc&#93;\u003c\\/span\u003e java\\\\client\\\\org\\\\apache\\\\derby\\\\client\\\\am\\\\UpdateSensitiveClobLocatorReader.java:110: warning - @param argument \\\"connection\\\" is not a parameter name.\u003cbr\\/\u003e\\n      \u003cspan class=\\\"error\\\"\u003e&#91;javadoc&#93;\u003c\\/span\u003e java\\\\client\\\\org\\\\apache\\\\derby\\\\client\\\\am\\\\UpdateSensitiveClobLocatorReader.java:110: warning - @param argument \\\"r\\\" is not a parameter name.\u003cbr\\/\u003e\\n      \u003cspan class=\\\"error\\\"\u003e&#91;javadoc&#93;\u003c\\/span\u003e java\\\\client\\\\org\\\\apache\\\\derby\\\\client\\\\am\\\\UpdateSensitiveLOBLocatorInputStream.java:87: warning - @param argument \\\"connection\\\" is not a parameter name.\u003cbr\\/\u003e\\n      \u003cspan class=\\\"error\\\"\u003e&#91;javadoc&#93;\u003c\\/span\u003e java\\\\client\\\\org\\\\apache\\\\derby\\\\client\\\\am\\\\UpdateSensitiveLOBLocatorInputStream.java:123: warning - @param argument \\\"connection\\\" is not a parameter name.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"army\\\" id=\\\"commentauthor_12505916_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=army\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"army\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e A B\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12505916_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'18\\/Jun\\/07 18:37\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-06-18T18:37:01+0000\'\u003e18\\/Jun\\/07 18:37\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Noticed that the changes for this issue are causing some javadoc warnings: \\n\\n  &#91;javadoc&#93;  java\\\\client\\\\org\\\\apache\\\\derby\\\\client\\\\am\\\\UpdateSensitiveBlobLocatorInputStream.java:53: warning - @param argument \\\"connection\\\" is not a parameter name. \\n       &#91;javadoc&#93;  java\\\\client\\\\org\\\\apache\\\\derby\\\\client\\\\am\\\\UpdateSensitiveBlobLocatorInputStream.java:74: warning - @param argument \\\"connection\\\" is not a parameter name. \\n       &#91;javadoc&#93;  java\\\\client\\\\org\\\\apache\\\\derby\\\\client\\\\am\\\\UpdateSensitiveClobLocatorInputStream.java:53: warning - @param argument \\\"connection\\\" is not a parameter name. \\n       &#91;javadoc&#93;  java\\\\client\\\\org\\\\apache\\\\derby\\\\client\\\\am\\\\UpdateSensitiveClobLocatorReader.java:72: warning - @param argument \\\"connection\\\" is not a parameter name. \\n       &#91;javadoc&#93;  java\\\\client\\\\org\\\\apache\\\\derby\\\\client\\\\am\\\\UpdateSensitiveClobLocatorReader.java:72: warning - @param argument \\\"r\\\" is not a parameter name. \\n       &#91;javadoc&#93;  java\\\\client\\\\org\\\\apache\\\\derby\\\\client\\\\am\\\\UpdateSensitiveClobLocatorReader.java:110: warning - @param argument \\\"connection\\\" is not a parameter name. \\n       &#91;javadoc&#93;  java\\\\client\\\\org\\\\apache\\\\derby\\\\client\\\\am\\\\UpdateSensitiveClobLocatorReader.java:110: warning - @param argument \\\"r\\\" is not a parameter name. \\n       &#91;javadoc&#93;  java\\\\client\\\\org\\\\apache\\\\derby\\\\client\\\\am\\\\UpdateSensitiveLOBLocatorInputStream.java:87: warning - @param argument \\\"connection\\\" is not a parameter name. \\n       &#91;javadoc&#93;  java\\\\client\\\\org\\\\apache\\\\derby\\\\client\\\\am\\\\UpdateSensitiveLOBLocatorInputStream.java:123: warning - @param argument \\\"connection\\\" is not a parameter name.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12506051\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-2763?focusedCommentId=12506051&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12506051\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12506051_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12506051_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'19\\/Jun\\/07 05:38\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-06-19T05:38:28+0000\'\u003e19\\/Jun\\/07 05:38\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThank you for catching this. I will raise a seperate JIRA for this and \u003cbr\\/\u003e\\nsubmit a patch.\u003c\\/p\u003e\\n\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12506051_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12506051_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'19\\/Jun\\/07 05:38\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-06-19T05:38:28+0000\'\u003e19\\/Jun\\/07 05:38\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Thank you for catching this. I will raise a seperate JIRA for this and  \\nsubmit a patch. \\n\\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12506147\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-2763?focusedCommentId=12506147&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12506147\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12506147_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12506147_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'19\\/Jun\\/07 12:52\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-06-19T12:52:54+0000\'\u003e19\\/Jun\\/07 12:52\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI have addressed the javadoc issues pointed out here in \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-2846\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttps:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-2846\u003c\\/a\u003e.\u003c\\/p\u003e\\n\\n\u003cp\u003eThanx again for pointing this out.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12506147_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12506147_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'19\\/Jun\\/07 12:52\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-06-19T12:52:54+0000\'\u003e19\\/Jun\\/07 12:52\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I have addressed the javadoc issues pointed out here in  https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-2846 . \\n\\n Thanx again for pointing this out.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\"";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["scope-filter-data"]="{\"createScopeActions\":[],\"scopes\":[]}";
WRM._unparsedData["sidebar-collapsed-by-default"]="true";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:can-manage"]="false";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:with-icons"]="false";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:shortcuts"]="[]";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:project-id"]="10594";
WRM._unparsedData["sidebar-id"]="\"\u003cdiv class=\\\"aui-sidebar  projects-sidebar sidebar-pending\\\" \u003e\u003cdiv class=\\\"aui-sidebar-wrapper\\\"\u003e\u003cdiv class=\\\"aui-sidebar-body\\\"\u003e\u003cheader class=\\\"aui-page-header\\\"\u003e\u003cdiv class=\\\"aui-page-header-inner\\\"\u003e\u003cdiv class=\\\"aui-page-header-image\\\"\u003e\u003ca href=\\\"\\/jira\\/projects\\/DERBY\\/summary\\\" title=\\\"Derby\\\" class=\\\"jira-project-avatar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-large aui-avatar-project\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"\\/jira\\/secure\\/projectavatar?pid=10594&amp;avatarId=10122\\\" alt=\\\"Derby\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e\u003cimg src=\\\"data:image\\/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI\\/Pg0KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE4LjEuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPg0KPHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgdmlld0JveD0iMCAwIDMwMCAzMDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMwMCAzMDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxnIGlkPSJMYXllcl8yIj4NCgk8cGF0aCBzdHlsZT0iZmlsbDojRjc5MjMyOyIgZD0iTTE1MCwwQzY2LjY2NywwLDAsNjYuNjY3LDAsMTUwczY2LjY2NywxNTAsMTUwLDE1MHMxNTAtNjYuNjY3LDE1MC0xNTBTMjMzLjMzMywwLDE1MCwweg0KCQkgTTEzNi42NjcsMTc4LjMzM0wxMjUsMTkwbC00MS42NjctNDBMOTUsMTM4LjMzM2wzMC0zMEwxMzYuNjY3LDEyMGwtMzAsMzBMMTM2LjY2NywxNzguMzMzeiBNMjA1LDE2MS42NjdsLTMwLDMwTDE2My4zMzMsMTgwDQoJCWwzMC0zMGwtMzAtMzBMMTc1LDEwOC4zMzNMMjE2LjY2NywxNTBMMjA1LDE2MS42Njd6Ii8+DQo8L2c+DQo8Zz4NCgk8cG9seWdvbiBzdHlsZT0iZmlsbDojRkZGRkZGOyIgcG9pbnRzPSIxNzUsMTkxLjY2NyAyMDUsMTYxLjY2NyAyMTYuNjY3LDE1MCAxNzUsMTA4LjMzMyAxNjMuMzMzLDEyMCAxOTMuMzMzLDE1MCAxNjMuMzMzLDE4MCAJIi8+DQoJPHBvbHlnb24gc3R5bGU9ImZpbGw6I0ZGRkZGRjsiIHBvaW50cz0iMTI1LDEwOC4zMzMgOTUsMTM4LjMzMyA4My4zMzMsMTUwIDEyNSwxOTAgMTM2LjY2NywxNzguMzMzIDEwNi42NjcsMTUwIDEzNi42NjcsMTIwIAkiLz4NCjwvZz4NCjwvc3ZnPg0K\\\" alt=\\\"Icon indicating the project type\\\" class=\\\"jira-project-avatar-icon\\\" \\/\u003e\u003c\\/a\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-image --\u003e\u003cdiv class=\\\"aui-page-header-main\\\"\u003e\u003ch1\u003e\u003cdiv class=\\\"aui-group aui-group-split\\\"\u003e\u003cdiv class=\\\"aui-item project-title\\\"\u003e\u003ca href=\\\"\\/jira\\/projects\\/DERBY\\/summary\\\" title=\\\"Derby\\\"\u003eDerby\u003c\\/a\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/h1\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-main --\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-inner --\u003e\u003c\\/header\u003e\u003c!-- .aui-page-header --\u003e\u003cnav class=\\\"aui-navgroup aui-navgroup-vertical\\\"\u003e\u003cdiv class=\\\"aui-navgroup-inner sidebar-content-container\\\"\u003e\u003cdiv class=\\\"aui-sidebar-group aui-sidebar-group-tier-one\\\" data-id=\\\"sidebar-navigation-panel\\\"\u003e\u003cul class=\\\"aui-nav\\\"\u003e\u003cli class=\\\"aui-nav-selected\\\" \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/DERBY\\/issues\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-issue-navigator:sidebar-issue-navigator\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large icon-sidebar-issues\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Issues\\\"\u003eIssues\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003cli  \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/DERBY?selectedItem=com.atlassian.jira.jira-projects-plugin:report-page\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-plugin:report-page\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large agile-icon-report\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Reports\\\"\u003eReports\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003cli  \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/DERBY?selectedItem=com.atlassian.jira.jira-projects-plugin:components-page\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-plugin:components-page\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large icon-sidebar-components\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Components\\\"\u003eComponents\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003c\\/ul\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/nav\u003e\u003c\\/div\u003e\u003cdiv class=\\\"aui-sidebar-footer\\\"\u003e\u003ca class=\\\"aui-button aui-button-subtle aui-sidebar-toggle aui-sidebar-footer-tipsy\\\" data-tooltip=\\\"Expand sidebar ( [ )\\\" href=\\\"#\\\"\u003e\u003cspan class=\\\"aui-icon aui-icon-small\\\"\u003e\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/div\u003e\"";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:bigpipe-init/jira.webresources:bigpipe-init.js" data-wrm-key="jira.webresources:bigpipe-init" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <form id="jira_request_timing_info" class="dont-default-focus"> 
   <fieldset class="parameters hidden"> 
    <input type="hidden" title="jira.request.start.millis" value="1520238994499"> 
    <input type="hidden" title="jira.request.server.time" value="402"> 
    <input type="hidden" title="jira.request.id" value="516x94375215x3"> 
    <input type="hidden" title="jira.session.expiry.time" value="-"> 
    <input type="hidden" title="jira.session.expiry.in.mins" value="-"> 
    <input id="jiraConcurrentRequests" type="hidden" name="jira.request.concurrent.requests" value="1"> 
    <input type="hidden" title="db.reads.time.in.ms" value="24"> 
    <input type="hidden" title="db.conns.time.in.ms" value="30"> 
   </fieldset> 
  </form> 
  <!--
	                 REQUEST ID : 516x94375215x3
	          REQUEST TIMESTAMP : [05/Mar/2018:08:36:34 +0000]
	               REQUEST TIME : 0.4020
	                 ASESSIONID : -
	        CONCURRENT REQUESTS : 1

	                      db.reads : OpSnapshot{name='db.reads', invocationCount=21, elapsedTotal=24262992, elapsedMin=448380, elapsedMax=10209192, resultSetSize=0, cpuTotal=0, cpuMin=0, cpuMax=0}
	                      db.conns : OpSnapshot{name='db.conns', invocationCount=25, elapsedTotal=30514081, elapsedMin=474764, elapsedMax=10243822, resultSetSize=0, cpuTotal=0, cpuMin=0, cpuMax=0}
-->   
 </body>
</html>