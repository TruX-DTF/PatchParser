<!doctype html>
<html lang="en">
 <head> 
  <meta charset="utf-8"> 
  <meta http-equiv="X-UA-Compatible" content="IE=Edge"> 
  <meta name="application-name" content="JIRA" data-name="jira" data-version="7.6.3">
  <meta name="ajs-viewissue-use-history-api" content="false"> 
  <meta name="ajs-jira-base-url" content="https://issues.apache.org/jira"> 
  <meta name="ajs-serverRenderedViewIssue" content="true"> 
  <meta name="ajs-dev-mode" content="false"> 
  <meta name="ajs-context-path" content="/jira"> 
  <meta name="ajs-version-number" content="7.6.3"> 
  <meta name="ajs-build-number" content="76005"> 
  <meta name="ajs-is-beta" content="false"> 
  <meta name="ajs-is-rc" content="false"> 
  <meta name="ajs-is-snapshot" content="false"> 
  <meta name="ajs-is-milestone" content="false"> 
  <meta name="ajs-remote-user" content=""> 
  <meta name="ajs-remote-user-fullname" content=""> 
  <meta name="ajs-user-locale" content="en_UK"> 
  <meta name="ajs-user-locale-group-separator" content=","> 
  <meta name="ajs-app-title" content="ASF JIRA"> 
  <meta name="ajs-keyboard-shortcuts-enabled" content="true"> 
  <meta name="ajs-keyboard-accesskey-modifier" content="Ctrl+Alt"> 
  <meta name="ajs-enabled-dark-features" content="[&quot;com.atlassian.jira.agile.darkfeature.editable.detailsview&quot;,&quot;nps.survey.inline.dialog&quot;,&quot;com.atlassian.jira.agile.darkfeature.edit.closed.sprint.enabled&quot;,&quot;jira.plugin.devstatus.phasetwo&quot;,&quot;jira.frother.reporter.field&quot;,&quot;atlassian.rest.xsrf.legacy.enabled&quot;,&quot;jira.issue.status.lozenge&quot;,&quot;com.atlassian.jira.config.BIG_PIPE&quot;,&quot;com.atlassian.jira.projects.issuenavigator&quot;,&quot;com.atlassian.jira.config.PDL&quot;,&quot;jira.plugin.devstatus.phasetwo.enabled&quot;,&quot;atlassian.aui.raphael.disabled&quot;,&quot;app-switcher.new&quot;,&quot;frother.assignee.field&quot;,&quot;com.atlassian.jira.projects.ProjectCentricNavigation.Switch&quot;,&quot;sd.internal.base.off.thread.on.completion.events.enabled&quot;,&quot;jira.onboarding.cyoa&quot;,&quot;com.atlassian.jira.agile.darkfeature.kanplan.enabled&quot;,&quot;sd.slavalue.record.updated.date.enabled&quot;,&quot;com.atlassian.jira.config.ProjectConfig.MENU&quot;,&quot;com.atlassian.jira.projects.sidebar.DEFER_RESOURCES&quot;,&quot;com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions.enabled&quot;,&quot;com.atlassian.jira.agile.darkfeature.sprint.goal.enabled&quot;,&quot;jira.zdu.admin-updates-ui&quot;,&quot;jira.zdu.jmx-monitoring&quot;,&quot;sd.sla.improved.rendering.enabled&quot;,&quot;sd.canned.responses.enabled&quot;,&quot;sd.new.settings.sidebar.location.disabled&quot;,&quot;jira.zdu.cluster-upgrade-state&quot;,&quot;com.atlassian.jira.agile.darkfeature.splitissue&quot;,&quot;com.atlassian.jira.config.CoreFeatures.LICENSE_ROLES_ENABLED&quot;,&quot;com.atlassian.feedback.feedback-button-move-to-header-enable&quot;,&quot;jira.export.csv.enabled&quot;]"> 
  <meta name="ajs-in-admin-mode" content="false"> 
  <meta name="ajs-is-sysadmin" content="false"> 
  <meta name="ajs-is-admin" content="false"> 
  <meta name="ajs-outgoing-mail-enabled" content="true"> 
  <meta name="ajs-date-relativize" content="true"> 
  <meta name="ajs-date-time" content="HH:mm"> 
  <meta name="ajs-date-day" content="EEEE HH:mm"> 
  <meta name="ajs-date-dmy" content="dd/MMM/yy"> 
  <meta name="ajs-date-complete" content="dd/MMM/yy HH:mm"> 
  <script type="text/javascript">var AJS=AJS||{};AJS.debug=true;</script> 
  <meta id="atlassian-token" name="atlassian-token" content="A5KQ-2QAV-T4JA-FDED|8fa910e5513f61ab0e17a62d70557c4fd77aedcf|lout"> 
  <link rel="shortcut icon" href="/jira/s/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/_/favicon.ico"> 
  <!--[if IE]><![endif]--> 
  <script type="text/javascript">
    (function() {
        var contextPath = '/jira';
        var eventBuffer = [];

        function printDeprecatedMsg() {
            if (console && console.warn) {
                console.warn('DEPRECATED JS - contextPath global variable has been deprecated since 7.4.0. Use `wrm/context-path` module instead.');
            }
        }

        function sendEvent(analytics, postfix) {
            analytics.send({
                name: 'js.globals.contextPath.' + postfix
            });
        }

        function sendDeprecatedEvent(postfix) {
            try {
                var analytics = require('jira/analytics');
                if (eventBuffer.length) {
                    eventBuffer.forEach(function(value) {
                        sendEvent(analytics, value);
                    });
                    eventBuffer = [];
                }

                if (postfix) {
                    sendEvent(analytics, postfix);
                }
            } catch(ex) {
                eventBuffer.push(postfix);
                setTimeout(sendDeprecatedEvent, 1000);
            }
        }

        Object.defineProperty(window, 'contextPath', {
            get: function() {
                printDeprecatedMsg();
                sendDeprecatedEvent('get');
                return contextPath;
            },
            set: function(value) {
                printDeprecatedMsg();
                sendDeprecatedEvent('set');
                contextPath = value;
            }
        });
    })();

</script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["com.atlassian.plugins.atlassian-plugins-webresource-plugin:context-path.context-path"]="\"/jira\"";
WRM._unparsedData["jira.webresources:feature-flags.feature-flag-data"]="{\"enabled-feature-keys\":[\"com.atlassian.jira.agile.darkfeature.editable.detailsview\",\"nps.survey.inline.dialog\",\"com.atlassian.jira.agile.darkfeature.edit.closed.sprint.enabled\",\"jira.plugin.devstatus.phasetwo\",\"jira.frother.reporter.field\",\"atlassian.rest.xsrf.legacy.enabled\",\"jira.issue.status.lozenge\",\"com.atlassian.jira.config.BIG_PIPE\",\"com.atlassian.jira.projects.issuenavigator\",\"com.atlassian.jira.config.PDL\",\"jira.plugin.devstatus.phasetwo.enabled\",\"atlassian.aui.raphael.disabled\",\"app-switcher.new\",\"frother.assignee.field\",\"com.atlassian.jira.projects.ProjectCentricNavigation.Switch\",\"sd.internal.base.off.thread.on.completion.events.enabled\",\"jira.onboarding.cyoa\",\"com.atlassian.jira.agile.darkfeature.kanplan.enabled\",\"sd.slavalue.record.updated.date.enabled\",\"com.atlassian.jira.config.ProjectConfig.MENU\",\"com.atlassian.jira.projects.sidebar.DEFER_RESOURCES\",\"com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions.enabled\",\"com.atlassian.jira.agile.darkfeature.sprint.goal.enabled\",\"jira.zdu.admin-updates-ui\",\"jira.zdu.jmx-monitoring\",\"sd.sla.improved.rendering.enabled\",\"sd.canned.responses.enabled\",\"sd.new.settings.sidebar.location.disabled\",\"jira.zdu.cluster-upgrade-state\",\"com.atlassian.jira.agile.darkfeature.splitissue\",\"com.atlassian.jira.config.CoreFeatures.LICENSE_ROLES_ENABLED\",\"com.atlassian.feedback.feedback-button-move-to-header-enable\",\"jira.export.csv.enabled\"],\"feature-flag-states\":{\"com.atlassian.jira.agile.darkfeature.kanplan\":false,\"sd.internal.base.off.thread.on.completion.events\":false,\"jira.instrumentation.laas\":false,\"com.atlassian.jira.agile.darkfeature.edit.closed.sprint\":false,\"com.atlassian.jira.issuetable.draggable\":true,\"jira.create.linked.issue\":true,\"com.atlassian.jira.agile.darkfeature.sprint.goal\":false,\"jira.sal.host.connect.accessor.existing.transaction.will.create.transactions\":true,\"jira.jql.suggestrecentfields\":false,\"com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions\":false,\"jira.jql.smartautoselectfirst\":false,\"com.atlassian.jira.agile.darkfeature.optimistic.transitions\":true,\"com.atlassian.jira.issuetable.move.links.hidden\":true,\"jira.priorities.per.project\":true,\"com.atlassian.jira.upgrade.startup.fix.index\":true,\"jira.renderer.consider.variable.format\":true}}";
WRM._unparsedData["jira.webresources:default-comment-security-level.DefaultCommentSecurityLevelHelpLink"]="{\"extraClasses\":\"default-comment-level-help\",\"title\":\"Commenting on an Issue\",\"url\":\"https://docs.atlassian.com/jira/jcore-docs-076/Editing+and+collaborating+on+issues#Editingandcollaboratingonissues-restrictacomment\",\"isLocal\":false}";
WRM._unparsedData["jira.webresources:dateFormatProvider.allFormats"]="{\"dateFormats\":{\"meridiem\":[\"AM\",\"PM\"],\"eras\":[\"BC\",\"AD\"],\"months\":[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],\"monthsShort\":[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],\"weekdaysShort\":[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"],\"weekdays\":[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"]},\"lookAndFeelFormats\":{\"relativize\":\"true\",\"time\":\"HH:mm\",\"day\":\"EEEE HH:mm\",\"dmy\":\"dd/MMM/yy\",\"complete\":\"dd/MMM/yy HH:mm\"}}";
WRM._unparsedData["com.atlassian.jira.jira-issue-nav-components:issueviewer.features"]="{\"rteEnabled\":true}";
WRM._unparsedData["com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone.thumbnail-mime-types"]="\"image/vnd.wap.wbmp,image/png,image/x-png,image/jpeg,image/bmp,image/gif\"";
WRM._unparsedData["com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone.upload-limit"]="\"62914560\"";
WRM._unparsedData["com.atlassian.plugins.helptips.jira-help-tips:help-tip-manager.JiraHelpTipData"]="{\"anonymous\":true}";
WRM._unparsedData["com.atlassian.jira.jira-view-issue-plugin:controller-subtasks.controller.subtasks.parameters"]="{\"url\":\"/rest/api/2/issue/{issueId}/subtask/move\"}";
WRM._unparsedData["com.atlassian.analytics.analytics-client:policy-update-init.policy-update-data-provider"]="false";
WRM._unparsedData["com.atlassian.analytics.analytics-client:programmatic-analytics-init.programmatic-analytics-data-provider"]="false";
WRM._unparsedData["jira.webresources:avatar-picker.data"]="{}";
WRM._unparsedData["com.atlassian.feedback.jira-feedback-plugin:button-resources-init.data"]="{\"jira.feedback.plugin.issue.collector.core\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"jira.feedback.plugin.issue.collector.default\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"jira.feedback.plugin.issue.collector.service.desk\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector.js?locale=en-UK&collectorId=a698db21\",\"jira.feedback.plugin.issue.collector.software\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"isHeaderFeedbackButtonEnabled\":true}";
WRM._unparsedData["com.atlassian.jira.jira-header-plugin:dismissedFlags.flags"]="{\"dismissed\":[]}";
WRM._unparsedData["com.atlassian.jira.jira-header-plugin:newsletter-signup-tip-init.newsletterSignup"]="{\"signupDescription\":\"Get updates, inspiration and best practices from the team behind JIRA.\",\"formUrl\":\"https://www.atlassian.com/apis/exact-target/{0}/subscribe?mailingListId=1401671\",\"signupTitle\":\"Sign up!\",\"signupId\":\"newsletter-signup-tip\",\"showNewsletterTip\":false}";
WRM._unparsedData["com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources.ptAnalyticsData"]="{\"instanceCreatedDate\":\"2011-01-31\"}";
WRM._unparsedData["com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources.help-data"]="{\"showHelp\":true,\"editorDocumentationUrl\":[\"https://docs.atlassian.com/jira/jcore-docs-076/Visual+editing\"],\"editorDocumentationTitle\":[\"Show me documentation for the visual editor\"]}";
WRM._unparsedData["com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources.thumbnails-allowed"]="false";
WRM._unparsedData["jira.webresources:user-message-flags.adminLockout"]="{}";
WRM._unparsedData["jira.request.correlation-id"]="\"3dbe5415ac34df\"";
WRM._unparsedData["project-id"]="10594";
WRM._unparsedData["project-key"]="\"DERBY\"";
WRM._unparsedData["project-name"]="\"Derby\"";
WRM._unparsedData["project-type"]="\"software\"";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:generic-filters"]="[{\"id\":\"allissues\",\"jql\":\"project = \\\"{0}\\\" ORDER BY {1}\",\"defaultOrderby\":\"created DESC\",\"label\":\"All issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[]},{\"id\":\"allopenissues\",\"jql\":\"project = \\\"{0}\\\" AND resolution = Unresolved ORDER BY {1}\",\"defaultOrderby\":\"priority DESC, updated DESC\",\"label\":\"Open issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"resolution\"]},{\"id\":\"doneissues\",\"jql\":\"project = \\\"{0}\\\" AND statusCategory = Done ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Done issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":false,\"fields\":[\"status\"]},{\"id\":\"recentlyviewed\",\"jql\":\"project = \\\"{0}\\\" AND issuekey in issueHistory() ORDER BY {1}\",\"defaultOrderby\":\"lastViewed DESC\",\"label\":\"Viewed recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"issuekey\"]},{\"id\":\"addedrecently\",\"jql\":\"project = \\\"{0}\\\" AND created \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"created DESC\",\"label\":\"Created recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"created\"]},{\"id\":\"resolvedrecently\",\"jql\":\"project = \\\"{0}\\\" AND resolutiondate \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Resolved recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":false,\"fields\":[\"resolutiondate\"]},{\"id\":\"updatedrecently\",\"jql\":\"project = \\\"{0}\\\" AND updated \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Updated recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"updated\"]}]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:default-filter-priority"]="[\"allopenissues\",\"allissues\"]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:can-manage-filters"]="false";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:project-filters"]="[]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:can-create-issues"]="false";
WRM._unparsedData["projectId"]="10594";
WRM._unparsedData["projectKey"]="\"DERBY\"";
WRM._unparsedData["projectType"]="\"software\"";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:server-rendered"]="true";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/a8a4711bc3f2eb261d8c8fd9fbcbba8b-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1fca1750044f2777c977e8d8cc023344/_/download/contextbatch/css/_super/batch.css" data-wrm-key="_super" data-wrm-batch-type="context" media="all"> 
  <link type="text/css" rel="stylesheet" href="/jira/s/74ac580603ca910fff0cfdf319e54add-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/fbf45109b31165e5b7740a9d72318cea/_/download/contextbatch/css/project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super/batch.css?agile_global_admin_condition=true&amp;hc-enabled=true&amp;is-server-instance=true&amp;jag=true&amp;jira.create.linked.issue=true&amp;nps-acknowledged=true&amp;richediton=true" data-wrm-key="project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super" data-wrm-batch-type="context" media="all"> 
  <link type="text/css" rel="stylesheet" href="/jira/s/611672383f6cab00ab202241ba6f9d68-T/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/7.6.3/_/download/batch/com.atlassian.feedback.jira-feedback-plugin:button-resources-init/com.atlassian.feedback.jira-feedback-plugin:button-resources-init.css" data-wrm-key="com.atlassian.feedback.jira-feedback-plugin:button-resources-init" data-wrm-batch-type="resource" media="all"> 
  <script type="text/javascript" src="/jira/s/98ceb006e504d7924d5ffc411626c6bc-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1fca1750044f2777c977e8d8cc023344/_/download/contextbatch/js/_super/batch.js?locale=en-UK" data-wrm-key="_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/c1e4d26ea276469807c3dc0918df482c-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/fbf45109b31165e5b7740a9d72318cea/_/download/contextbatch/js/project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super/batch.js?agile_global_admin_condition=true&amp;hc-enabled=true&amp;is-server-instance=true&amp;jag=true&amp;jira.create.linked.issue=true&amp;locale=en-UK&amp;nps-acknowledged=true&amp;richediton=true" data-wrm-key="project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/6bf9253c8d533109c3b02e26794be24e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/871d45c9f322a22cb3aa9b7948a69803/_/download/contextbatch/js/atl.global,-_super/batch.js?locale=en-UK" data-wrm-key="atl.global,-_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:calendar-en/jira.webresources:calendar-en.js" data-wrm-key="jira.webresources:calendar-en" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:calendar-localisation-moment/jira.webresources:calendar-localisation-moment.js" data-wrm-key="jira.webresources:calendar-localisation-moment" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/7.6.3/_/download/batch/com.atlassian.feedback.jira-feedback-plugin:button-resources/com.atlassian.feedback.jira-feedback-plugin:button-resources.js" data-wrm-key="com.atlassian.feedback.jira-feedback-plugin:button-resources" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/ccd2e67b523185973473e8bd5735c8f9-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/e0de73613a1027de08f3da6a45e1d1a2/_/download/contextbatch/css/jira.global.look-and-feel,-_super/batch.css" data-wrm-key="jira.global.look-and-feel,-_super" data-wrm-batch-type="context" media="all"> 
  <script type="text/javascript" src="/jira/rest/api/1.0/shortcuts/76005/33e5e0166867c8c9228d44506f60b2e8/shortcuts.js?context=issuenavigation&amp;context=issueaction"></script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["com.atlassian.jira.jira-issue-nav-components:inline-edit-enabled"]="true";
WRM._unparsedData["should-display-chaperone"]="false";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/15712b600e9aecf72ffd9fd3704a0c78-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/6b22a15c7b83f87a47b1757076f43542/_/download/contextbatch/css/com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue/batch.css?jira.create.linked.issue=true&amp;richediton=true" data-wrm-key="com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue" data-wrm-batch-type="context" media="all"> 
  <script type="text/javascript" src="/jira/s/6579b6b8ba67abaa496e39b9242a18a4-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/6b22a15c7b83f87a47b1757076f43542/_/download/contextbatch/js/com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue/batch.js?jira.create.linked.issue=true&amp;locale=en-UK&amp;richediton=true" data-wrm-key="com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue" data-wrm-batch-type="context" data-initially-rendered></script> 
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge"> 
  <meta name="ajs-can-search-users" content="false"> 
  <meta name="ajs-can-edit-watchers" content="false"> 
  <meta name="ajs-default-avatar-url" content="https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10453"> 
  <meta name="ajs-issue-project-type" content="software"> 
  <meta name="ajs-issue-key" content="DERBY-3221"> 
  <meta name="ajs-server-view-issue-is-editable" content="false"> 
  <title>[DERBY-3221] "java.sql.SQLException: The conglomerate (-5) requested does not exist." from Derby 10.3.1.4 embedded within Eclipse 3.3 and RAD 7.0 - ASF JIRA</title> 
  <link rel="search" type="application/opensearchdescription+xml" href="/jira/osd.jsp" title="[DERBY-3221] &quot;java.sql.SQLException: The conglomerate (-5) requested does not exist.&quot; from Derby 10.3.1.4 embedded within Eclipse 3.3 and RAD 7.0 - ASF JIRA"> 
 </head> 
 <body id="jira" class="aui-layout aui-theme-default " data-version="7.6.3"> 
  <div id="page"> 
   <header id="header" role="banner"> 
    <script>
require(["jquery", "jira/license-banner"], function ($, licenseBanner) {
    $(function () {
        licenseBanner.showLicenseBanner("");
        licenseBanner.showLicenseFlag("");
    });
});
</script> 
    <nav class="aui-header aui-dropdown2-trigger-group" role="navigation">
     <div class="aui-header-inner">
      <div class="aui-header-before">
       <a class=" aui-dropdown2-trigger app-switcher-trigger" aria-controls="app-switcher" aria-haspopup="true" role="button" tabindex="0" data-aui-trigger href="#app-switcher"><span class="aui-icon aui-icon-small aui-iconfont-appswitcher">Linked Applications</span></a>
       <div id="app-switcher" class="aui-dropdown2 aui-style-default" role="menu" aria-hidden="true" data-is-switcher="true" data-environment="{&quot;isUserAdmin&quot;:false,&quot;isAppSuggestionAvailable&quot;:false,&quot;isSiteAdminUser&quot;:false}">
        <div role="application">
         <div class="app-switcher-loading">
          Loadingâ€¦
         </div>
        </div>
       </div>
      </div>
      <div class="aui-header-primary">
       <h1 id="logo" class="aui-header-logo aui-header-logo-custom"><a href="https://issues.apache.org/jira/secure/MyJiraHome.jspa"><img src="/jira/s/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/_/jira-logo-scaled.png" alt="ASF JIRA"></a></h1>
       <ul class="aui-nav">
        <li><a href="/jira/secure/Dashboard.jspa" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="home_link" aria-haspopup="true" aria-controls="home_link-content" title="View and manage your dashboards" accesskey="d">Dashboards</a>
         <div class="aui-dropdown2 aui-style-default" id="home_link-content" data-aui-dropdown2-ajax-key="home_link"></div></li>
        <li><a href="/jira/browse/DERBY" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="browse_link" aria-haspopup="true" aria-controls="browse_link-content" title="View recent projects and browse a list of projects" accesskey="p">Projects</a>
         <div class="aui-dropdown2 aui-style-default" id="browse_link-content" data-aui-dropdown2-ajax-key="browse_link"></div></li>
        <li><a href="/jira/issues/" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="find_link" aria-haspopup="true" aria-controls="find_link-content" title="Search for issues and view recent issues" accesskey="i">Issues</a>
         <div class="aui-dropdown2 aui-style-default" id="find_link-content" data-aui-dropdown2-ajax-key="find_link"></div></li> 
       </ul>
      </div>
      <div class="aui-header-secondary">
       <ul class="aui-nav">
        <li id="quicksearch-menu"> 
         <form action="/jira/secure/QuickSearch.jspa" method="get" id="quicksearch" class="aui-quicksearch dont-default-focus ajs-dirty-warning-exempt"> 
          <input id="quickSearchInput" class="search" type="text" title="Search" placeholder="Search" name="searchString" accessKey="q"> 
          <input type="submit" class="hidden" value="Search"> 
         </form> </li> 
        <li><a class="jira-feedback-plugin" role="button" aria-haspopup="true" id="jira-header-feedback-link" href="#"><span class="aui-icon aui-icon-small jira-feedback-plugin-icon">Give feedback to Atlassian</span></a></li> 
        <li id="system-help-menu"> <a class="aui-nav-link aui-dropdown2-trigger" id="help_menu" aria-haspopup="true" aria-owns="system-help-menu-content" href="https://docs.atlassian.com/jira/jcore-docs-076/" target="$textUtils.htmlEncode($rootHelpMenuItem.params.target)" title="Help"><span class="aui-icon aui-icon-small aui-iconfont-help">Help</span></a> 
         <div id="system-help-menu-content" class="aui-dropdown2 aui-style-default"> 
          <div class="aui-dropdown2-section"> 
           <ul id="jira-help" class="aui-list-truncate"> 
            <li> <a id="view_core_help" class="aui-nav-link " title="Go to the online documentation for JIRA Core" href="https://docs.atlassian.com/jira/jcore-docs-076/" target="_blank">JIRA Core help</a> </li> 
            <li> <a id="keyshortscuthelp" class="aui-nav-link " title="Get more information about JIRA's Keyboard Shortcuts" href="/jira/secure/ViewKeyboardShortcuts!default.jspa" target="_blank">Keyboard Shortcuts</a> </li> 
            <li> <a id="view_about" class="aui-nav-link " title="Get more information about JIRA" href="/jira/secure/AboutPage.jspa">About JIRA</a> </li> 
            <li> <a id="view_credits" class="aui-nav-link " title="See who did what" href="/jira/secure/JiraCreditsPage!default.jspa" target="_blank">JIRA Credits</a> </li> 
           </ul> 
          </div> 
         </div> </li> 
        <li id="user-options"> <a class="aui-nav-link login-link" href="/jira/login.jsp?os_destination=%2Fbrowse%2FDERBY-3221">Log In</a> 
         <div id="user-options-content" class="aui-dropdown2 aui-style-default"> 
          <div class="aui-dropdown2-section"> 
          </div> 
         </div> </li> 
       </ul>
      </div>
     </div>
     <!-- .aui-header-inner-->
    </nav>
    <!-- .aui-header --> 
   </header> 
   <section id="content" role="main"> 
    <big-pipe data-id="sidebar-id" unresolved></big-pipe>
    <div class="aui-sidebar  sidebar-placeholder">
     <div class="aui-sidebar-wrapper">
      <div class="aui-sidebar-body"></div>
      <div class="aui-sidebar-footer">
       <a class="aui-button aui-button-subtle aui-sidebar-toggle aui-sidebar-footer-tipsy" data-tooltip="Expand sidebar ( [ )" href="#"><span class="aui-icon aui-icon-small"></span></a>
      </div>
     </div>
    </div>
    <script id="projects-sidebar-init">
    require(['jira/projects/sidebar/expansion-manager'], function(expansionManager) {
        var scriptTag = document.getElementById('projects-sidebar-init');
        var sidebar = AJS.sidebar('.aui-sidebar');
        expansionManager(sidebar);
        scriptTag.parentElement.removeChild(scriptTag);
    });
    </script>
    <div class="aui-page-panel">
     <div class="aui-page-panel-inner">
      <div class="issue-navigator">
       <div class="content">
        <div class="issue-view">
         <div class="navigation-tools">
          <div class="pager-container"></div>
         </div>
         <div class="issue-container">
          <div id="issue-content" class="issue-edit-form">
           <header id="stalker" class="issue-header js-stalker">
            <div class="issue-header-content">
             <header class="aui-page-header">
              <div class="aui-page-header-inner">
               <div class="aui-page-header-image">
                <span id="10594" class="aui-avatar aui-avatar-large aui-avatar-project"><span class="aui-avatar-inner"><img id="project-avatar" alt="Uploaded image for project: 'Derby'" src="https://issues.apache.org/jira/secure/projectavatar?pid=10594&amp;avatarId=10122"></span></span>
               </div>
               <!-- .aui-page-header-image -->
               <div class="aui-page-header-main">
                <ol class="aui-nav aui-nav-breadcrumbs">
                 <li><a id="project-name-val" href="/jira/browse/DERBY">Derby</a></li>
                 <li><a class="issue-link" data-issue-key="DERBY-3221" href="/jira/browse/DERBY-3221" id="key-val" rel="12383008">DERBY-3221</a></li>
                </ol>
                <h1 id="summary-val">"java.sql.SQLException: The conglomerate (-5) requested does not exist." from Derby 10.3.1.4 embedded within Eclipse 3.3 and RAD 7.0</h1>
               </div>
               <!-- .aui-page-header-main -->
               <div class="aui-page-header-actions">
                <div id="issue-header-pager"></div>
               </div>
               <!-- .aui-page-header-actions -->
              </div>
              <!-- .aui-page-header-inner -->
             </header>
             <!-- .aui-page-header -->
             <div class="command-bar">
              <div class="ops-cont">
               <div class="ops-menus aui-toolbar">
                <div class="toolbar-split toolbar-split-left">
                 <ul id="opsbar-ops-login-lnk_container" class="toolbar-group pluggable-ops">
                  <li class="toolbar-item"><a id="ops-login-lnk" title="Log In" class="toolbar-trigger" href="/jira/login.jsp?os_destination=%2Fbrowse%2FDERBY-3221"><span class="trigger-label">Log In</span></a></li>
                 </ul>
                 <ul id="opsbar-opsbar-operations" class="toolbar-group pluggable-ops"></ul>
                 <ul id="opsbar-opsbar-transitions" class="toolbar-group pluggable-ops"></ul>
                 <ul id="opsbar-opsbar-admin" class="toolbar-group pluggable-ops"></ul>
                </div>
                <div class="toolbar-split toolbar-split-right">
                 <ul id="opsbar-jira.issue.tools" class="toolbar-group pluggable-ops">
                  <li class="toolbar-item">
                   <div>
                    <a href="#" id="viewissue-export" aria-owns="viewissue-export_drop" aria-haspopup="true" title="Export this issue in another format" class="toolbar-trigger aui-button aui-style-default aui-dropdown2-trigger"><span class="icon icon-default aui-icon aui-icon-small aui-iconfont-export"></span> <span class="dropdown-text">Export</span></a>
                    <div id="viewissue-export_drop" class="aui-style-default aui-dropdown2">
                     <ul>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-xml/DERBY-3221/DERBY-3221.xml" id="jira.issueviews:issue-xml"><span class="trigger-label">XML</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-word/DERBY-3221/DERBY-3221.doc" id="jira.issueviews:issue-word"><span class="trigger-label">Word</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-html/DERBY-3221/DERBY-3221.html" id="jira.issueviews:issue-html"><span class="trigger-label">Printable</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/com.atlassian.jira.plugins.jira-importers-plugin:issue-json/DERBY-3221/DERBY-3221.json" id="com.atlassian.jira.plugins.jira-importers-plugin:issue-json"><span class="trigger-label">JSON</span></a></li>
                     </ul>
                    </div>
                   </div></li>
                 </ul>
                </div>
               </div>
              </div>
             </div>
            </div>
           </header>
           <div class="issue-body-content">
            <div class="aui-group issue-body">
             <div class="aui-item issue-main-column">
              <div id="details-module" class="module toggle-wrap">
               <div id="details-module_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Details</h2>
               </div>
               <div class="mod-content"> 
                <ul id="issuedetails" class="property-list two-cols"> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Type:</strong> 
                   <span id="type-val" class="value"> <img alt="" height="16" src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype" title="Bug - A problem which impairs or prevents the functions of the product." width="16"> Bug </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Status:</strong> 
                   <span id="status-val" class="value"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done jira-issue-status-lozenge-max-width-medium" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </span> 
                  </div> </li> 
                 <li class="item new"> 
                  <div class="wrap"> 
                   <strong class="name">Priority:</strong> 
                   <span id="priority-val" class="value"> <img alt="" height="16" src="/jira/images/icons/priorities/major.svg" title="Major - Major loss of function." width="16"> Major </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Resolution:</strong> 
                   <span id="resolution-val" class="value resolved"> Fixed </span> 
                  </div> </li> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Affects Version/s:</strong> 
                   <span id="versions-val" class="value"> <span class="shorten" id="versions-field"> <span title="10.3.1.4 ">10.3.1.4</span>, <span title="10.3.2.1 ">10.3.2.1</span> </span> </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Fix Version/s:</strong> 
                   <span id="fixfor-val" class="value"> <span class="shorten" id="fixVersions-field"> <a href="/jira/issues/?jql=project+%3D+DERBY+AND+fixVersion+%3D+10.3.3.0" title="10.3.3.0 ">10.3.3.0</a>, <a href="/jira/issues/?jql=project+%3D+DERBY+AND+fixVersion+%3D+10.4.1.3" title="10.4.1.3 ">10.4.1.3</a> </span> </span> 
                  </div> </li> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Component/s:</strong> 
                   <span id="components-val" class="value"> <span class="shorten" id="components-field"> <a href="/jira/issues/?jql=project+%3D+DERBY+AND+component+%3D+JDBC" title="JDBC ">JDBC</a> </span> </span> 
                  </div> </li> 
                 <li class="item full-width"> 
                  <div class="wrap" id="wrap-labels"> 
                   <strong class="name">Labels:</strong> 
                   <div class="labels-wrap value"> 
                    <span class="labels" id="labels-12383008-value">None</span> 
                   </div> 
                  </div> </li> 
                 <li class="item full-width"> 
                  <div class="wrap"> 
                   <strong class="name">Environment:</strong> 
                   <div id="environment-val" class="value">
                     Windows Vista Ubuntu Linux on IBM's VM (RAD 7.0) 
                   </div> 
                  </div> </li> 
                </ul> 
                <div id="customfieldmodule"> 
                 <div class="aui-tabs horizontal-tabs" id="customfield-tabs"> 
                  <div id="customfield-panel-1" class="tabs-pane active-pane"> 
                   <ul class="property-list"> 
                    <li id="rowForcustomfield_12310200" class="item"> 
                     <div class="wrap"> 
                      <strong title="Bug behavior facts" class="name">Bug behavior facts:</strong> 
                      <div id="customfield_12310200-val" class="value type-multicheckboxes" data-fieldtype="multicheckboxes" data-fieldtypecompletekey="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes"> 
                       <div class="shorten" id="customfield_12310200-field"> 
                        <span>Regression</span> 
                       </div> 
                      </div> 
                     </div> </li> 
                   </ul> 
                  </div> 
                 </div>
                </div> 
               </div>
              </div>
              <div id="descriptionmodule" class="module toggle-wrap">
               <div id="descriptionmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Description</h2>
               </div>
               <div class="mod-content">
                <div id="description-val" class="field-ignore-highlight"> 
                 <div class="user-content-block"> 
                  <p>We are getting an SQLException when several prepared statement deletes are done upon an existing database. As far as we can tell this exception should never occur unless (evil) things like deleting the database or editing files occurs. This is using the embedded driver within a plug-in inside RAD 7.0 (and Eclipse 3.3).</p> 
                  <p>I'm not sure what else to submit that might be helpful.</p> 
                  <p>java.sql.SQLException: The conglomerate (-5) requested does not exist.<br> at org.apache.derby.impl.jdbc.SQLExceptionFactory.getSQLException(Unknown Source)<br> at org.apache.derby.impl.jdbc.Util.generateCsSQLException(Unknown Source)<br> at org.apache.derby.impl.jdbc.TransactionResourceImpl.wrapInSQLException(Unknown Source)<br> at org.apache.derby.impl.jdbc.TransactionResourceImpl.handleException(Unknown Source)<br> at org.apache.derby.impl.jdbc.EmbedConnection.handleException(Unknown Source)<br> at org.apache.derby.impl.jdbc.ConnectionChild.handleException(Unknown Source)<br> at org.apache.derby.impl.jdbc.EmbedStatement.executeStatement(Unknown Source)<br> at org.apache.derby.impl.jdbc.EmbedPreparedStatement.executeStatement(Unknown Source)<br> at org.apache.derby.impl.jdbc.EmbedPreparedStatement.execute(Unknown Source)<br> at sun.reflect.GeneratedMethodAccessor12.invoke(Unknown Source)<br> at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)<br> at java.lang.reflect.Method.invoke(Unknown Source)<br> at com.surelogic.sierra.jdbc.LazyPreparedStatementConnection$LazyPreparedStatement.invoke(Unknown Source)<br> at $Proxy1.execute(Unknown Source)<br> at com.surelogic.sierra.jdbc.finding.FindingManager.delete(Unknown Source)<br> at com.surelogic.sierra.jdbc.finding.ClientFindingManager.updateLocalFindings(Unknown Source)<br> at com.surelogic.sierra.jdbc.project.ClientProjectManager.synchronizeProject(Unknown Source)<br> at com.surelogic.sierra.client.eclipse.jobs.SynchronizeJob.synchronize(Unknown Source)<br> at com.surelogic.sierra.client.eclipse.jobs.SynchronizeJob.run(Unknown Source)<br> at org.eclipse.core.internal.jobs.Worker.run(Unknown Source)<br> Caused by: ERROR XSAI2: The conglomerate (-5) requested does not exist.<br> at org.apache.derby.iapi.error.StandardException.newException(Unknown Source)<br> at org.apache.derby.impl.store.access.RAMTransaction.findExistingConglomerate(Unknown Source)<br> at org.apache.derby.impl.store.access.RAMTransaction.openScan(Unknown Source)<br> at org.apache.derby.impl.sql.execute.TemporaryRowHolderResultSet.getNextRowCore(Unknown Source)<br> at org.apache.derby.impl.sql.execute.TemporaryRowHolderResultSet.getNextRow(Unknown Source)<br> at org.apache.derby.impl.sql.execute.IndexChanger.finish(Unknown Source)<br> at org.apache.derby.impl.sql.execute.IndexSetChanger.finish(Unknown Source)<br> at org.apache.derby.impl.sql.execute.RowChangerImpl.finish(Unknown Source)<br> at org.apache.derby.impl.sql.execute.UpdateResultSet.open(Unknown Source)<br> at org.apache.derby.impl.sql.GenericPreparedStatement.execute(Unknown Source)<br> ... 14 more</p> 
                 </div> 
                </div> 
               </div>
              </div>
              <div id="dnd-metadata" class="module toggle-wrap">
               <div id="dnd-metadata_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Attachments</h2>
               </div>
               <div class="mod-content">
                <div id="dnd-metadata-webpanel" data-can-attach="false" data-project-type="software" data-upload-limit="62914560" data-thumbnails-allowed="false"></div>
               </div>
              </div>
              <div id="attachmentmodule" class="module toggle-wrap">
               <div id="attachmentmodule_heading" class="mod-header">
                <ul class="ops">
                 <li class="drop">
                  <div class="aui-dd-parent">
                   <a href="#" class="icon drop-menu js-default-dropdown" title="Options"><span>Options</span></a>
                   <div class="aui-dropdown-content aui-list">
                    <ul id="attachment-sorting-options" class="aui-list-section aui-first">
                     <li class="aui-list-item"><a id="attachment-sort-key-name" href="/jira/browse/DERBY-3221?attachmentSortBy=fileName#attachmentmodule" class="aui-list-checked aui-checked aui-list-item-link" title="viewissue.subtasks.tab.show.all.name"><span>Sort By Name</span></a></li>
                     <li class="aui-list-item"><a id="attachment-sort-key-date" href="/jira/browse/DERBY-3221?attachmentSortBy=dateTime#attachmentmodule" class="aui-list-checked aui-list-item-link" title="Sort By Date"><span>Sort By Date</span></a></li>
                    </ul>
                    <ul id="attachment-sorting-order-options" class="aui-list-section aui-last">
                     <li class="aui-list-item"><a id="attachment-sort-direction-asc" href="/jira/browse/DERBY-3221?attachmentOrder=asc#attachmentmodule" class="aui-list-checked aui-checked aui-list-item-link" title="Ascending"><span>Ascending</span></a></li>
                     <li class="aui-list-item"><a id="attachment-sort-direction-desc" href="/jira/browse/DERBY-3221?attachmentOrder=desc#attachmentmodule" class="aui-list-checked aui-list-item-link" title="Descending"><span>Descending</span></a></li>
                    </ul>
                   </div>
                  </div></li>
                </ul>
                <h2 class="toggle-title">Attachments</h2>
               </div>
               <div class="mod-content">
                <ol id="file_attachments" class="item-attachments" data-sort-key="fileName" data-sort-order="asc">
                 <li class="attachment-content js-file-attachment" data-attachment-id="12371803" data-issue-id="12383008" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12371803/conlomerate.tar.gz" draggable="true" data-downloadurl="application/x-gzip:conlomerate.tar.gz:https://issues.apache.org/jira/secure/attachment/12371803/conlomerate.tar.gz"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12371803/conlomerate.tar.gz" title="Latest  17/Dec/07 15:09 - James Alan Shepherd" draggable="true" data-downloadurl="application/x-gzip:conlomerate.tar.gz:https://issues.apache.org/jira/secure/attachment/12371803/conlomerate.tar.gz">conlomerate.tar.gz</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2007-12-17T15:09:04.517Z">17/Dec/07 15:09</time>
                   </dd>
                   <dd class="attachment-size">
                    8 kB
                   </dd>
                   <dd class="attachment-author">
                    James Alan Shepherd
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12372634" data-issue-id="12383008" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12372634/derby-3221.prelim.diff" draggable="true" data-downloadurl="text/x-patch:derby-3221.prelim.diff:https://issues.apache.org/jira/secure/attachment/12372634/derby-3221.prelim.diff"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12372634/derby-3221.prelim.diff" title="Latest  07/Jan/08 16:03 - Dyre Tjeldvoll" draggable="true" data-downloadurl="text/x-patch:derby-3221.prelim.diff:https://issues.apache.org/jira/secure/attachment/12372634/derby-3221.prelim.diff">derby-3221.prelim.diff</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2008-01-07T16:03:41.247Z">07/Jan/08 16:03</time>
                   </dd>
                   <dd class="attachment-size">
                    0.5 kB
                   </dd>
                   <dd class="attachment-author">
                    Dyre Tjeldvoll
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12372798" data-issue-id="12383008" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12372798/derby-3221.v1.diff" draggable="true" data-downloadurl="text/x-patch:derby-3221.v1.diff:https://issues.apache.org/jira/secure/attachment/12372798/derby-3221.v1.diff"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12372798/derby-3221.v1.diff" title="Latest  09/Jan/08 13:40 - Dyre Tjeldvoll" draggable="true" data-downloadurl="text/x-patch:derby-3221.v1.diff:https://issues.apache.org/jira/secure/attachment/12372798/derby-3221.v1.diff">derby-3221.v1.diff</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2008-01-09T13:40:12.946Z">09/Jan/08 13:40</time>
                   </dd>
                   <dd class="attachment-size">
                    2 kB
                   </dd>
                   <dd class="attachment-author">
                    Dyre Tjeldvoll
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12373101" data-issue-id="12383008" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12373101/derby-3221.v2.diff" draggable="true" data-downloadurl="text/x-patch:derby-3221.v2.diff:https://issues.apache.org/jira/secure/attachment/12373101/derby-3221.v2.diff"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12373101/derby-3221.v2.diff" title="Latest  14/Jan/08 16:41 - Dyre Tjeldvoll" draggable="true" data-downloadurl="text/x-patch:derby-3221.v2.diff:https://issues.apache.org/jira/secure/attachment/12373101/derby-3221.v2.diff">derby-3221.v2.diff</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2008-01-14T16:41:51.942Z">14/Jan/08 16:41</time>
                   </dd>
                   <dd class="attachment-size">
                    5 kB
                   </dd>
                   <dd class="attachment-author">
                    Dyre Tjeldvoll
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12373408" data-issue-id="12383008" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12373408/derby-3221.v3.diff" draggable="true" data-downloadurl="text/x-patch:derby-3221.v3.diff:https://issues.apache.org/jira/secure/attachment/12373408/derby-3221.v3.diff"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12373408/derby-3221.v3.diff" title="Latest  17/Jan/08 16:22 - Dyre Tjeldvoll" draggable="true" data-downloadurl="text/x-patch:derby-3221.v3.diff:https://issues.apache.org/jira/secure/attachment/12373408/derby-3221.v3.diff">derby-3221.v3.diff</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2008-01-17T16:22:41.800Z">17/Jan/08 16:22</time>
                   </dd>
                   <dd class="attachment-size">
                    5 kB
                   </dd>
                   <dd class="attachment-author">
                    Dyre Tjeldvoll
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12372633" data-issue-id="12383008" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12372633/SubShape.properties" draggable="true" data-downloadurl="application/octet-stream:SubShape.properties:https://issues.apache.org/jira/secure/attachment/12372633/SubShape.properties"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12372633/SubShape.properties" title="Latest  07/Jan/08 16:03 - Dyre Tjeldvoll" draggable="true" data-downloadurl="application/octet-stream:SubShape.properties:https://issues.apache.org/jira/secure/attachment/12372633/SubShape.properties">SubShape.properties</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2008-01-07T16:03:41.045Z">07/Jan/08 16:03</time>
                   </dd>
                   <dd class="attachment-size">
                    3 kB
                   </dd>
                   <dd class="attachment-author">
                    Dyre Tjeldvoll
                   </dd>
                  </dl></li>
                </ol>
               </div>
              </div>
              <div id="linkingmodule" class="module toggle-wrap">
               <div id="linkingmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Issue Links</h2>
               </div>
               <div class="mod-content"> 
                <div class="links-container" data-default-link-icon="/jira/images/icons/generic_link_16.png"> 
                 <dl class="links-list "> 
                  <dt title="relates to">
                   relates to
                  </dt> 
                  <dd id="internal-12385890_10030"> 
                   <div class="link-content"> 
                    <p> <img src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype" width="16" height="16" title="Bug - A problem which impairs or prevents the functions of the product." alt="Bug - A problem which impairs or prevents the functions of the product."> <span title="DERBY-3310: ASSERT in MergeSort.checkColumnTypes() disallow legal type conversions"> <a href="/jira/browse/DERBY-3310" data-issue-key="DERBY-3310" class="issue-link link-title resolution">DERBY-3310</a> <span class="link-summary">ASSERT in MergeSort.checkColumnTypes() disallow legal type conversions</span> </span> </p> 
                    <ul class="link-snapshot"> 
                     <li class="priority"> <img src="/jira/images/icons/priorities/minor.svg" width="16" height="16" title="Minor - Minor loss of function, or other problem where easy workaround is present." alt="Minor - Minor loss of function, or other problem where easy workaround is present."> </li> 
                     <li class="status"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done aui-lozenge-subtle jira-issue-status-lozenge-max-width-short" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </li> 
                    </ul> 
                   </div> 
                  </dd> 
                  <dd id="internal-12327853_10030"> 
                   <div class="link-content"> 
                    <p> <img src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype" width="16" height="16" title="Improvement - An improvement or enhancement to an existing feature or task." alt="Improvement - An improvement or enhancement to an existing feature or task."> <span title="DERBY-827: Performance can be improved by re-using language ResultSets across Activation executions."> <a href="/jira/browse/DERBY-827" data-issue-key="DERBY-827" class="issue-link link-title resolution">DERBY-827</a> <span class="link-summary">Performance can be improved by re-using language ResultSets across Activation executions.</span> </span> </p> 
                    <ul class="link-snapshot"> 
                     <li class="priority"> <img src="/jira/images/icons/priorities/major.svg" width="16" height="16" title="Major - Major loss of function." alt="Major - Major loss of function."> </li> 
                     <li class="status"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done aui-lozenge-subtle jira-issue-status-lozenge-max-width-short" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </li> 
                    </ul> 
                   </div> 
                  </dd> 
                 </dl> 
                </div> 
               </div>
              </div>
              <div id="activitymodule" class="module toggle-wrap">
               <div id="activitymodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Activity</h2>
               </div>
               <div class="mod-content"> 
                <big-pipe data-id="activity-panel-pipe-id" style="height: 70px"> 
                 <div></div> 
                </big-pipe> 
               </div>
              </div>
             </div>
             <div id="viewissuesidebar" class="aui-item issue-side-column">
              <div id="peoplemodule" class="module toggle-wrap">
               <div id="peoplemodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">People</h2>
               </div>
               <div class="mod-content"> 
                <ul class="item-details" id="peopledetails"> 
                 <li class="people-details"> 
                  <dl> 
                   <dt>
                    Assignee:
                   </dt> 
                   <dd> 
                    <span id="assignee-val" class="view-issue-field"> <span class="user-hover" id="issue_summary_assignee_dyret" rel="dyret" data-user="{&quot;avatarUrl&quot;:&quot;https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10452&quot;,&quot;displayName&quot;:&quot;Dyre Tjeldvoll&quot;,&quot;emailAddress&quot;:&quot;Dyre.Tjeldvoll@oracle.com&quot;,&quot;username&quot;:&quot;dyret&quot;}"> <span class="aui-avatar aui-avatar-small"><span class="aui-avatar-inner"><img src="https://issues.apache.org/jira/secure/useravatar?size=small&amp;avatarId=10452" alt="dyret"></span></span> Dyre Tjeldvoll </span> </span> 
                   </dd> 
                  </dl> 
                  <dl> 
                   <dt>
                    Reporter:
                   </dt> 
                   <dd> 
                    <span id="reporter-val" class="view-issue-field"> <span class="user-hover" id="issue_summary_reporter_hallorant" rel="hallorant" data-user="{&quot;avatarUrl&quot;:&quot;https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10452&quot;,&quot;displayName&quot;:&quot;Tim Halloran&quot;,&quot;emailAddress&quot;:&quot;hallorant@acm.org&quot;,&quot;username&quot;:&quot;hallorant&quot;}"> <span class="aui-avatar aui-avatar-small"><span class="aui-avatar-inner"><img src="https://issues.apache.org/jira/secure/useravatar?size=small&amp;avatarId=10452" alt="hallorant"></span></span> Tim Halloran </span> </span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
                <ul class="item-details"> 
                 <li> 
                  <dl> 
                   <dt>
                    Votes:
                   </dt> 
                   <dd> 
                    <span id="vote-data" class="aui-badge vote-state-off">0</span> 
                    <span id="vote-label" title="You have to be logged in to vote for an issue.">Vote for this issue</span> 
                   </dd> 
                  </dl> 
                  <dl> 
                   <dt>
                    Watchers:
                   </dt> 
                   <dd> 
                    <span id="watcher-data" class="aui-badge watch-state-off">1</span> 
                    <span id="watch-label" title="You have to be logged in to watch an issue.">Start watching this issue</span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
               </div>
              </div>
              <div id="datesmodule" class="module toggle-wrap">
               <div id="datesmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Dates</h2>
               </div>
               <div class="mod-content"> 
                <ul class="item-details"> 
                 <li> 
                  <dl class="dates"> 
                   <dt>
                    Created:
                   </dt> 
                   <dd class="date user-tz" title="21/Nov/07 20:23"> 
                    <span data-name="Created" id="created-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2007-11-21T20:23:15+0000">21/Nov/07 20:23</time> </span> 
                   </dd> 
                  </dl> 
                  <dl class="dates"> 
                   <dt>
                    Updated:
                   </dt> 
                   <dd class="date user-tz" title="21/Jan/11 17:51"> 
                    <span data-name="Updated" id="updated-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2011-01-21T17:51:08+0000">21/Jan/11 17:51</time> </span> 
                   </dd> 
                  </dl> 
                  <dl class="dates"> 
                   <dt>
                    Resolved:
                   </dt> 
                   <dd class="date user-tz" title="18/Jan/08 09:54"> 
                    <span data-name="Resolved" id="resolutiondate-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2008-01-18T09:54:57+0000">18/Jan/08 09:54</time> </span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
               </div>
              </div>
             </div>
            </div>
           </div>
          </div>
         </div>
        </div>
       </div>
      </div>
     </div>
     <!-- .aui-page-panel-inner -->
    </div>
    <!-- .aui-page-panel -->
    <div class="issue-navigator-init"></div> 
   </section> 
   <footer id="footer" role="contentinfo"> 
    <section class="footer-body"> 
     <ul class="atlassian-footer"> 
      <li> Atlassian JIRA <a class="seo-link" rel="nofollow" href="https://www.atlassian.com/software/jira">Project Management Software</a> <span id="footer-build-information">(v7.6.3#76005-<span title="8a4e38d34af948780dbf52044e7aafb13a7cae58" data-commit-id="8a4e38d34af948780dbf52044e7aafb13a7cae58}">sha1:8a4e38d</span>)</span> </li> 
      <li> <a id="about-link" rel="nofollow" href="/jira/secure/AboutPage.jspa/secure/AboutPage.jspa">About JIRA</a> </li> 
      <li> <a id="footer-report-problem-link" rel="nofollow" href="/jira/secure/CreateIssue!default.jspa">Report a problem</a> </li> 
     </ul> 
     <ul class="atlassian-footer"> 
      <li class="licensemessage"> Powered by a free Atlassian <a rel="nofollow" href="http://www.atlassian.com/software/jira">JIRA</a> open source license for Apache Software Foundation. Try JIRA - <a rel="nofollow" href="http://www.atlassian.com/software/jira">bug tracking software</a> for <i>your</i> team. </li> 
     </ul> 
     <div id="footer-logo">
      <a rel="nofollow" href="http://www.atlassian.com/">Atlassian</a>
     </div> 
    </section> 
    <fieldset class="hidden parameters"> 
     <input type="hidden" title="loggedInUser" value=""> 
     <input type="hidden" title="ajaxTimeout" value="The call to the JIRA server did not complete within the timeout period.  We are unsure of the result of this operation."> 
     <input type="hidden" title="JiraVersion" value="7.6.3"> 
     <input type="hidden" title="ajaxUnauthorised" value="You are not authorised to perform this operation. Please log in."> 
     <input type="hidden" title="baseURL" value="https://issues.apache.org/jira"> 
     <input type="hidden" title="ajaxCommsError" value="The JIRA server could not be contacted. This may be a temporary glitch or the server may be down. "> 
     <input type="hidden" title="ajaxServerError" value="The JIRA server was contacted but has returned an error response. We are unsure of the result of this operation."> 
     <input type="hidden" title="ajaxErrorCloseDialog" value="Close this dialog and press refresh in your browser"> 
     <input type="hidden" title="ajaxErrorDialogHeading" value="Communications Breakdown"> 
     <input type="hidden" title="dirtyMessage" value="You have entered new data on this page. If you navigate away from this page without first saving your data, the changes will be lost."> 
     <input type="hidden" title="dirtyDialogMessage" value="You have entered new data in this dialog. If you navigate away from this dialog without first saving your data, the changes will be lost. Click cancel to return to the dialog."> 
     <input type="hidden" title="keyType" value="Type"> 
     <input type="hidden" title="keyThen" value="then"> 
     <input type="hidden" title="dblClickToExpand" value="Double click to expand"> 
     <input type="hidden" title="actions" value="Actions"> 
     <input type="hidden" title="removeItem" value="Remove"> 
     <input type="hidden" title="workflow" value="Workflow"> 
     <input type="hidden" title="labelNew" value="New Label"> 
     <input type="hidden" title="issueActionsHint" value="Begin typing for available operations or press down to see all"> 
     <input type="hidden" title="closelink" value="Close"> 
     <input type="hidden" title="dotOperations" value="Operations"> 
     <input type="hidden" title="dotLoading" value="Loading..."> 
     <input type="hidden" title="frotherSuggestions" value="Suggestions"> 
     <input type="hidden" title="frotherNomatches" value="No Matches"> 
     <input type="hidden" title="multiselectVersionsError" value="{0} is not a valid version."> 
     <input type="hidden" title="multiselectComponentsError" value="{0} is not a valid component."> 
     <input type="hidden" title="multiselectGenericError" value="The value {0} is invalid."> 
    </fieldset> 
   </footer> 
  </div> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:bigpipe-js/jira.webresources:bigpipe-js.js" data-wrm-key="jira.webresources:bigpipe-js" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["activity-panel-pipe-id"]="\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n    \u003cdiv class=\\\"tabwrap tabs2\\\"\u003e\\n\\n        \u003cul id=\\\"issue-tabs\\\" class=\\\"tabs horizontal\\\"\u003e\\n                                \\n            \u003cli  data-id=\\\"all-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\" data-label=\\\"All\\\" data-href=\\\"\\/jira\\/browse\\/DERBY-3221?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"all-tabpanel\\\" href=\\\"\\/jira\\/browse\\/DERBY-3221?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\"\u003e\u003cstrong\u003eAll\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  class=\\\"active\\\" id=\\\"comment-tabpanel\\\"  data-id=\\\"comment-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel\\\" data-label=\\\"Comments\\\" data-href=\\\"\\/jira\\/browse\\/DERBY-3221?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel\\\"\u003e\\n                            \u003cstrong tabindex=\\\"0\\\"\u003eComments\u003c\\/strong\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"worklog-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\" data-label=\\\"Work Log\\\" data-href=\\\"\\/jira\\/browse\\/DERBY-3221?page=com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"worklog-tabpanel\\\" href=\\\"\\/jira\\/browse\\/DERBY-3221?page=com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\"\u003e\u003cstrong\u003eWork Log\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"changehistory-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\" data-label=\\\"History\\\" data-href=\\\"\\/jira\\/browse\\/DERBY-3221?page=com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"changehistory-tabpanel\\\" href=\\\"\\/jira\\/browse\\/DERBY-3221?page=com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\"\u003e\u003cstrong\u003eHistory\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"activity-stream-issue-tab\\\" data-key=\\\"com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\" data-label=\\\"Activity\\\" data-href=\\\"\\/jira\\/browse\\/DERBY-3221?page=com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"activity-stream-issue-tab\\\" href=\\\"\\/jira\\/browse\\/DERBY-3221?page=com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\"\u003e\u003cstrong\u003eActivity\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"transitions-summary-tabpanel\\\" data-key=\\\"com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\" data-label=\\\"Transitions\\\" data-href=\\\"\\/jira\\/browse\\/DERBY-3221?page=com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"transitions-summary-tabpanel\\\" href=\\\"\\/jira\\/browse\\/DERBY-3221?page=com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\"\u003e\u003cstrong\u003eTransitions\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                \u003c\\/ul\u003e\\n\\n                    \u003cdiv class=\\\"sortwrap\\\"\u003e\\n                                    \u003ca class=\\\"issue-activity-sort-link ajax-activity-content\\\" rel=\\\"nofollow\\\" data-tab-sort data-order=\\\"desc\\\" href=\\\"\\/jira\\/browse\\/DERBY-3221?actionOrder=desc\\\" title=\\\"Ascending order - Click to sort in descending order\\\"\u003e\\n                        \u003cspan class=\\\"aui-icon aui-icon-small aui-iconfont-up\\\"\u003eAscending order - Click to sort in descending order\u003c\\/span\u003e\\n                    \u003c\\/a\u003e\\n                            \u003c\\/div\u003e\\n            \u003c\\/div\u003e\\n    \u003cdiv class=\\\"issuePanelWrapper\\\"\u003e\\n        \u003cdiv class=\\\"issuePanelProgress\\\"\u003e\u003c\\/div\u003e\\n        \u003cdiv class=\\\"issuePanelContainer\\\" id=\\\"issue_actions_container\\\"\u003e\\n                                    \\n\\n\\n\u003cdiv id=\\\"comment-12545206\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3221?focusedCommentId=12545206&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12545206\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"knutanders\\\" id=\\\"commentauthor_12545206_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=knutanders\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"knutanders\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Knut Anders Hatlen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12545206_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'24\\/Nov\\/07 18:57\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-11-24T18:57:10+0000\'\u003e24\\/Nov\\/07 18:57\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eIs the problem reproducible, and if so, is it possible to post code that demonstrates the problem or a step-by-step description of how to reproduce it?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"knutanders\\\" id=\\\"commentauthor_12545206_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=knutanders\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"knutanders\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Knut Anders Hatlen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12545206_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'24\\/Nov\\/07 18:57\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-11-24T18:57:10+0000\'\u003e24\\/Nov\\/07 18:57\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Is the problem reproducible, and if so, is it possible to post code that demonstrates the problem or a step-by-step description of how to reproduce it?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12550545\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3221?focusedCommentId=12550545&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12550545\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"northshorefiend\\\" id=\\\"commentauthor_12550545_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=northshorefiend\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"northshorefiend\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e James Alan Shepherd\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12550545_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'11\\/Dec\\/07 15:54\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-12-11T15:54:14+0000\'\u003e11\\/Dec\\/07 15:54\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"James Alan Shepherd - 11\\/Dec\\/07 15:55\\\"\u003eedited\u003c\\/span\u003e \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eMe too.\u003c\\/p\u003e\\n\\n\u003cp\u003eI have a \'database create\' script that un-surprisingly creates tables and populates them.\u003c\\/p\u003e\\n\\n\u003cp\u003eRunning on 10.3.1.4 I get an\u003c\\/p\u003e\\n\\n\u003cp\u003eERROR XSAI2: The conglomerate (-15) requested does not exist.\u003c\\/p\u003e\\n\\n\u003cp\u003eCaused by: ERROR XSAI2: The conglomerate (-15) requested does not exist.\u003cbr\\/\u003e\\n        at org.apache.derby.iapi.error.StandardException.newException(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.store.access.RAMTransaction.findExistingConglomerate(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.store.access.RAMTransaction.openScan(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.sql.execute.TemporaryRowHolderResultSet.getNextRowCore(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.sql.execute.TemporaryRowHolderResultSet.getNextRow(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.sql.execute.InsertResultSet.normalInsertCore(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.sql.execute.InsertResultSet.open(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.sql.GenericPreparedStatement.execute(Unknown Source)\u003c\\/p\u003e\\n\\n\u003cp\u003eRunning on 10.2.2.0 everything is fine.\u003c\\/p\u003e\\n\\n\u003cp\u003eSpooky.\u003c\\/p\u003e\\n\\n\u003cp\u003eThe environment is just using the corresponding version of the embedded driver with all the jars on the classpath, starting with an empty derby.home directory (except for derby.properties turning up logging).\u003c\\/p\u003e\\n\\n\u003cp\u003eThere\'s a few posts on the net about this error having something to do with corrupted files. Clearly this doesn\'t apply in this case, except that 10.3.1.4 may be having it\'s own nervous breakdown.\u003c\\/p\u003e\\n\\n\u003cp\u003e100% repeatable. Would I get anything by connecting a debugger? With all this (Unknown Source) I doubt it. I don\'t rate my chances of getting a good test case quickly.\u003c\\/p\u003e\\n\\n\u003cp\u003eoh and:\u003c\\/p\u003e\\n\\n\u003cp\u003e~ $ java -version; uname -primo\u003cbr\\/\u003e\\njava version \\\"1.6.0_03\\\"\u003cbr\\/\u003e\\nJava(TM) SE Runtime Environment (build 1.6.0_03-b05)\u003cbr\\/\u003e\\nJava HotSpot(TM) 64-Bit Server VM (build 1.6.0_03-b05, mixed mode)\u003cbr\\/\u003e\\n2.6.23-gentoo-r3-6 x86_64 Intel(R) Core(TM)2 Quad CPU Q6600 @ 2.40GHz GenuineIntel GNU\\/Linux\u003c\\/p\u003e\\n\\n\u003cp\u003eFor the sake of it I tested using:\u003c\\/p\u003e\\n\\n\u003cp\u003ejava version \\\"1.6.0_03\\\"\u003cbr\\/\u003e\\nJava(TM) SE Runtime Environment (build 1.6.0_03-b05)\u003cbr\\/\u003e\\nJava HotSpot(TM) Server VM (build 1.6.0_03-b05, mixed mode)\u003c\\/p\u003e\\n\\n\u003cp\u003ewith 10.3.1.4 and still get the above error.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"northshorefiend\\\" id=\\\"commentauthor_12550545_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=northshorefiend\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"northshorefiend\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e James Alan Shepherd\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12550545_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'11\\/Dec\\/07 15:54\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-12-11T15:54:14+0000\'\u003e11\\/Dec\\/07 15:54\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"James Alan Shepherd - 11\\/Dec\\/07 15:55\\\"\u003eedited\u003c\\/span\u003e                   Me too. \\n\\n I have a \'database create\' script that un-surprisingly creates tables and populates them. \\n\\n Running on 10.3.1.4 I get an \\n\\n ERROR XSAI2: The conglomerate (-15) requested does not exist. \\n\\n Caused by: ERROR XSAI2: The conglomerate (-15) requested does not exist. \\n        at org.apache.derby.iapi.error.StandardException.newException(Unknown Source) \\n        at org.apache.derby.impl.store.access.RAMTransaction.findExistingConglomerate(Unknown Source) \\n        at org.apache.derby.impl.store.access.RAMTransaction.openScan(Unknown Source) \\n        at org.apache.derby.impl.sql.execute.TemporaryRowHolderResultSet.getNextRowCore(Unknown Source) \\n        at org.apache.derby.impl.sql.execute.TemporaryRowHolderResultSet.getNextRow(Unknown Source) \\n        at org.apache.derby.impl.sql.execute.InsertResultSet.normalInsertCore(Unknown Source) \\n        at org.apache.derby.impl.sql.execute.InsertResultSet.open(Unknown Source) \\n        at org.apache.derby.impl.sql.GenericPreparedStatement.execute(Unknown Source) \\n\\n Running on 10.2.2.0 everything is fine. \\n\\n Spooky. \\n\\n The environment is just using the corresponding version of the embedded driver with all the jars on the classpath, starting with an empty derby.home directory (except for derby.properties turning up logging). \\n\\n There\'s a few posts on the net about this error having something to do with corrupted files. Clearly this doesn\'t apply in this case, except that 10.3.1.4 may be having it\'s own nervous breakdown. \\n\\n 100% repeatable. Would I get anything by connecting a debugger? With all this (Unknown Source) I doubt it. I don\'t rate my chances of getting a good test case quickly. \\n\\n oh and: \\n\\n ~ $ java -version; uname -primo \\njava version \\\"1.6.0_03\\\" \\nJava(TM) SE Runtime Environment (build 1.6.0_03-b05) \\nJava HotSpot(TM) 64-Bit Server VM (build 1.6.0_03-b05, mixed mode) \\n2.6.23-gentoo-r3-6 x86_64 Intel(R) Core(TM)2 Quad CPU Q6600 @ 2.40GHz GenuineIntel GNU\\/Linux \\n\\n For the sake of it I tested using: \\n\\n java version \\\"1.6.0_03\\\" \\nJava(TM) SE Runtime Environment (build 1.6.0_03-b05) \\nJava HotSpot(TM) Server VM (build 1.6.0_03-b05, mixed mode) \\n\\n with 10.3.1.4 and still get the above error.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12550666\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3221?focusedCommentId=12550666&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12550666\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mikem\\\" id=\\\"commentauthor_12550666_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mikem\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mikem\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mike Matrigali\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12550666_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'11\\/Dec\\/07 18:25\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-12-11T18:25:13+0000\'\u003e11\\/Dec\\/07 18:25\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eNegative conglomerate numbers are used for temporary files.  Are you doing anything special with temporary\u003cbr\\/\u003e\\nfiles in your environment - ie. possibly setting derby option to relocate them?  Any chance some other process\u003cbr\\/\u003e\\nis going after temporary files while your app is still working?  From minimal info available it looks like we are\u003cbr\\/\u003e\\nsomehow losing the temporary file associated with a deferred update, but I could be reading the incomplete\u003cbr\\/\u003e\\nstack wrong.\u003c\\/p\u003e\\n\\n\u003cp\u003eBest chance for someone to fix this is if you can post a reproducible case that a developer could run in their\u003cbr\\/\u003e\\nown environment.\u003c\\/p\u003e\\n\\n\u003cp\u003eSince you have a 100% reproducible case, if you can\'t do that can you do the following to give a clue what is\u003cbr\\/\u003e\\ngoing on when the error is encountered:\u003c\\/p\u003e\\n\\n\u003cp\u003eo start with a new database\u003cbr\\/\u003e\\no set option so that we never lose anything from the error log file: derby.infolog.append=true \u003cbr\\/\u003e\\n    \u003ca href=\\\"http:\\/\\/db.apache.org\\/derby\\/docs\\/10.3\\/tuning\\/rtunproper13217.html\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/db.apache.org\\/derby\\/docs\\/10.3\\/tuning\\/rtunproper13217.html\u003c\\/a\u003e\u003cbr\\/\u003e\\no set option to log the sql that you are doing to derby.log:  derby.language.logStatementText=true\u003cbr\\/\u003e\\n   \u003ca href=\\\"http:\\/\\/db.apache.org\\/derby\\/docs\\/10.3\\/tuning\\/rtunproper43517.html\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/db.apache.org\\/derby\\/docs\\/10.3\\/tuning\\/rtunproper43517.html\u003c\\/a\u003e\u003cbr\\/\u003e\\nreproduce bug and post COMPLETE derby.log from test run.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mikem\\\" id=\\\"commentauthor_12550666_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mikem\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mikem\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mike Matrigali\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12550666_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'11\\/Dec\\/07 18:25\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-12-11T18:25:13+0000\'\u003e11\\/Dec\\/07 18:25\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Negative conglomerate numbers are used for temporary files.  Are you doing anything special with temporary \\nfiles in your environment - ie. possibly setting derby option to relocate them?  Any chance some other process \\nis going after temporary files while your app is still working?  From minimal info available it looks like we are \\nsomehow losing the temporary file associated with a deferred update, but I could be reading the incomplete \\nstack wrong. \\n\\n Best chance for someone to fix this is if you can post a reproducible case that a developer could run in their \\nown environment. \\n\\n Since you have a 100% reproducible case, if you can\'t do that can you do the following to give a clue what is \\ngoing on when the error is encountered: \\n\\n o start with a new database \\no set option so that we never lose anything from the error log file: derby.infolog.append=true  \\n     http:\\/\\/db.apache.org\\/derby\\/docs\\/10.3\\/tuning\\/rtunproper13217.html  \\no set option to log the sql that you are doing to derby.log:  derby.language.logStatementText=true \\n    http:\\/\\/db.apache.org\\/derby\\/docs\\/10.3\\/tuning\\/rtunproper43517.html  \\nreproduce bug and post COMPLETE derby.log from test run.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12550981\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3221?focusedCommentId=12550981&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12550981\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"northshorefiend\\\" id=\\\"commentauthor_12550981_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=northshorefiend\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"northshorefiend\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e James Alan Shepherd\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12550981_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Dec\\/07 14:33\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-12-12T14:33:06+0000\'\u003e12\\/Dec\\/07 14:33\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eWell, of course, I switch back to 10.3.1.4 today, and no bug!!! So as I thought, test case; not so much.\u003c\\/p\u003e\\n\\n\u003cp\u003eBUT, with the wonder that is the Eclipse local history, and the mystery that is svn, once again the error arises.\u003c\\/p\u003e\\n\\n\u003cp\u003eI can\'t publish the full log (956k) as it contains a year\'s work that hasn\'t been paid for yet \u003cimg class=\\\"emoticon\\\" src=\\\"\\/jira\\/images\\/icons\\/emoticons\\/sad.png\\\" height=\\\"16\\\" width=\\\"16\\\" align=\\\"absmiddle\\\" alt=\\\"\\\" border=\\\"0\\\"\\/\u003e I realise that this might not go back far enough, it\'s the best I can do, apologies. Still, at least anyone that comes across such things will know that they aren\'t delusional.\u003c\\/p\u003e\\n\\n\u003cp\u003eI did try \'sync &amp;&amp; sync\' before firing up the java code, but it made no difference. The filesystem all this is happening on has recently changed to being a linux software raid, but other than that everything else is pretty vanilla ext3 with nothing else accessing the dir.\u003c\\/p\u003e\\n\\n\u003cp\u003ederby.properties now reads:\u003cbr\\/\u003e\\n-----\u003cdel\u003e8&lt;\u003c\\/del\u003e----------\u003cbr\\/\u003e\\nderby.stream.error.logSeverityLevel=0\u003cbr\\/\u003e\\nderby.language.logStatementText=true\u003cbr\\/\u003e\\nderby.infolog.append=true \u003cbr\\/\u003e\\n-----\u003cdel\u003e8&lt;\u003c\\/del\u003e----------\u003c\\/p\u003e\\n\\n\u003cp\u003eSo, we are in a stored proc fired by a trigger. (names may have been changed to pretext the innocent)\u003c\\/p\u003e\\n\\n\\n\\n\u003cp\u003e2007-12-12 13:22:40.326 GMT Thread\u003cspan class=\\\"error\\\"\u003e&#91;Main,5,main&#93;\u003c\\/span\u003e (XID = 1452), (SESSIONID = 2), (DATABASE = directory:shape), (DRDAID = null), Executing prepared statement: INSERT INTO SubTTTXX ( nShapeID , nSubShapeID , nColorID , nHelp ) SELECT DISTINCT X.nColorID\u003cbr\\/\u003e\\n, DSO.nSubShapeID , X.nColorID , (SELECT INTEGER(MAX(nHelp)+1) FROM SubTTTXX) FROM SubTTTXX X JOIN DirectSubTTT DSO ON X.nHelp &gt; 0 AND DSO.nShapeID = X.nSubShapeID LEFT JOIN SubTTT SO ON SO.nShapeID = X.nShapeID AND SO.nSubShapeID = DSO.nSu\u003cbr\\/\u003e\\nbShapeID WHERE X.nShapeID &lt;&gt; DSO.nSubShapeID AND SO.nShapeID IS NULL :End prepared statement\u003cbr\\/\u003e\\n2007-12-12 13:22:40.330 GMT Thread\u003cspan class=\\\"error\\\"\u003e&#91;Main,5,main&#93;\u003c\\/span\u003e (XID = 1452), (SESSIONID = 2), (DATABASE = directory:shape), (DRDAID = null), Cleanup action starting\u003cbr\\/\u003e\\n2007-12-12 13:22:40.330 GMT Thread\u003cspan class=\\\"error\\\"\u003e&#91;Main,5,main&#93;\u003c\\/span\u003e (XID = 1452), (SESSIONID = 2), (DATABASE = directory:shape), (DRDAID = null), Failed Statement is: INSERT INTO SubTTTXX ( nShapeID , nSubShapeID , nColorID , nHelp ) SELECT DISTINCT X.nShapeID , DSO\u003cbr\\/\u003e\\n.nSubShapeID , X.nColorID , (SELECT INTEGER(MAX(nHelp)+1) FROM SubTTTXX) FROM SubTTTXX X JOIN DirectSubTTT DSO ON X.nHelp &gt; 0 AND DSO.nShapeID = X.nSubShapeID LEFT JOIN SubTTT SO ON SO.nShapeID = X.nShapeID AND SO.nSubShapeID = DSO.nSubShapeID WHE\u003cbr\\/\u003e\\nRE X.nShapeID &lt;&gt; DSO.nSubShapeID AND SO.nShapeID IS NULL\u003cbr\\/\u003e\\nERROR XSAI2: The conglomerate (-15) requested does not exist.\u003cbr\\/\u003e\\n        at org.apache.derby.iapi.error.StandardException.newException(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.store.access.RAMTransaction.findExistingConglomerate(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.store.access.RAMTransaction.openScan(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.sql.execute.TemporaryRowHolderResultSet.getNextRowCore(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.sql.execute.TemporaryRowHolderResultSet.getNextRow(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.sql.execute.InsertResultSet.normalInsertCore(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.sql.execute.InsertResultSet.open(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.sql.GenericPreparedStatement.execute(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.jdbc.EmbedStatement.executeStatement(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.jdbc.EmbedPreparedStatement.executeStatement(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.jdbc.EmbedPreparedStatement.executeUpdate(Unknown Source)\u003cbr\\/\u003e\\n        at com.xxx.zzz.kkk.sp.SubTTT$1.work(SubTTT.java:79)\u003cbr\\/\u003e\\n        at com.xxx.zzz.kkk.sp.SubTTT$1.work(SubTTT.java:43)\u003cbr\\/\u003e\\n        at com.xxx.zzz.kkk.sp.Template.getResult(Template.java:80)\u003cbr\\/\u003e\\n        at com.xxx.zzz.kkk.sp.SubTTT.insert(SubTTT.java:107)\u003cbr\\/\u003e\\n        at org.apache.derby.exe.ac12564092x0116xce84xf62dx000055b50d0421.g0(Unknown Source)\u003cbr\\/\u003e\\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\u003cbr\\/\u003e\\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\u003cbr\\/\u003e\\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\u003cbr\\/\u003e\\n        at java.lang.reflect.Method.invoke(Method.java:597)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.services.reflect.ReflectMethod.invoke(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.sql.execute.CallStatementResultSet.open(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.sql.GenericPreparedStatement.execute(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.sql.execute.GenericTriggerExecutor.executeSPS(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.sql.execute.StatementTriggerExecutor.fireTrigger(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.sql.execute.TriggerEventActivator.notifyEvent(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.sql.execute.InsertResultSet.normalInsertCore(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.sql.execute.InsertResultSet.open(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.sql.GenericPreparedStatement.execute(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.jdbc.EmbedStatement.executeStatement(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.jdbc.EmbedPreparedStatement.executeStatement(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.jdbc.EmbedPreparedStatement.executeUpdate(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.commons.dbcp.DelegatingPreparedStatement.executeUpdate(DelegatingPreparedStatement.java:101)\u003cbr\\/\u003e\\n        at org.springframework.jdbc.core.JdbcTemplate$2.doInPreparedStatement(JdbcTemplate.java:745)\u003cbr\\/\u003e\\n        at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:538)\u003cbr\\/\u003e\\n        at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:739)\u003cbr\\/\u003e\\n        at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:797)\u003cbr\\/\u003e\\n        at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:801)\u003cbr\\/\u003e\\n        at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.update(NamedParameterJdbcTemplate.java:218)\u003cbr\\/\u003e\\n        at com.xxx.yyy.DbOOOFactory$DBOOO.importFromLegacyTables(DbOOOFactory.java:383)\u003cbr\\/\u003e\\n        at com.xxx.yyy.DbOOOFactory$DBOOO.access$1500(DbOOOFactory.java:94)\u003cbr\\/\u003e\\n        at com.xxx.yyy.DbOOOFactory$DBOOO$2.doInTransactionWithoutResult(DbOOOFactory.java:352)\u003cbr\\/\u003e\\n        at org.springframework.transaction.support.TransactionCallbackWithoutResult.doInTransaction(TransactionCallbackWithoutResult.java:33)\u003cbr\\/\u003e\\n        at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:134)\u003cbr\\/\u003e\\n        at com.xxx.yyy.DbOOOFactory$DBOOO.add(DbOOOFactory.java:339)\u003cbr\\/\u003e\\n        at com.xxx.zzz.kkk.MetaJJJ.reload(MetaJJJ.java:44)\u003cbr\\/\u003e\\n        at com.xxx.zzz.kkk.MetaJJJ.startup(MetaJJJ.java:57)\u003cbr\\/\u003e\\n        at com.xxx.zzz.kkk.Start.startupZzz(Start.java:208)\u003cbr\\/\u003e\\n        at com.xxx.zzz.kkk.Start.startup(Start.java:160)\u003cbr\\/\u003e\\n        at com.xxx.start.Starter.startup(Starter.java:264)\u003cbr\\/\u003e\\n        at com.xxx.start.Main.startup(Main.java:270)\u003cbr\\/\u003e\\n        at com.xxx.start.Main.main(Main.java:199)\u003cbr\\/\u003e\\nCleanup action completed\u003cbr\\/\u003e\\n2007-12-12 13:22:40.490 GMT Thread\u003cspan class=\\\"error\\\"\u003e&#91;Main,5,main&#93;\u003c\\/span\u003e (XID = 1452), (SESSIONID = 2), (DATABASE = directory:shape), (DRDAID = null), Cleanup action starting\u003cbr\\/\u003e\\n2007-12-12 13:22:40.490 GMT Thread\u003cspan class=\\\"error\\\"\u003e&#91;Main,5,main&#93;\u003c\\/span\u003e (XID = 1452), (SESSIONID = 2), (DATABASE = directory:shape), (DRDAID = null), Failed Statement is:  INSERT INTO SubTTT ( nShapeID , nSubShapeID , nColorID ) SELECT DISTINCT C.nRCID , S.nRCID , (S\u003cbr\\/\u003e\\nELECT nColorID FROM Colorition WHERE nIsCCC = 1) FROM LegacySubCCC SC JOIN LegacyCCC C ON SC.nRunID = ? AND C.nRunID = ? AND C.nICCCID = SC.nICCCID JOIN LegacyCCC S ON S.nRunID = ? AND S.nICCCID = SC.nISubCCCID LEF\u003cbr\\/\u003e\\nT JOIN SubTTT SO ON SO.nShapeID = C.nRCID AND SO.nSubShapeID = S.nRCID WHERE SO.nShapeID IS NULL with 3 parameters begin parameter #1: 1 :end parameter begin parameter #2: 1 :end parameter begin parameter #3: 1 :end parameter \u003cbr\\/\u003e\\nERROR 38000: The exception \'java.sql.SQLException: The conglomerate (-15) requested does not exist.\' was thrown while evaluating an expression.\u003cbr\\/\u003e\\n        at org.apache.derby.iapi.error.StandardException.newException(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.iapi.error.StandardException.unexpectedUserException(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.services.reflect.ReflectMethod.invoke(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.sql.execute.CallStatementResultSet.open(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.sql.GenericPreparedStatement.execute(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.sql.execute.GenericTriggerExecutor.executeSPS(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.sql.execute.StatementTriggerExecutor.fireTrigger(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.sql.execute.TriggerEventActivator.notifyEvent(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.sql.execute.InsertResultSet.normalInsertCore(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.sql.execute.InsertResultSet.open(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.sql.GenericPreparedStatement.execute(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.jdbc.EmbedStatement.executeStatement(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.jdbc.EmbedPreparedStatement.executeStatement(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.jdbc.EmbedPreparedStatement.executeUpdate(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.commons.dbcp.DelegatingPreparedStatement.executeUpdate(DelegatingPreparedStatement.java:101)\u003cbr\\/\u003e\\n        at org.springframework.jdbc.core.JdbcTemplate$2.doInPreparedStatement(JdbcTemplate.java:745)\u003cbr\\/\u003e\\n        at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:538)\u003cbr\\/\u003e\\n        at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:739)\u003cbr\\/\u003e\\n        at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:797)\u003cbr\\/\u003e\\n        at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:801)\u003cbr\\/\u003e\\n        at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.update(NamedParameterJdbcTemplate.java:218)\u003cbr\\/\u003e\\n        at com.xxx.yyy.DbOOOFactory$DBOOO.importFromLegacyTables(DbOOOFactory.java:383)\u003cbr\\/\u003e\\n        at com.xxx.yyy.DbOOOFactory$DBOOO.access$1500(DbOOOFactory.java:94)\u003cbr\\/\u003e\\n        at com.xxx.yyy.DbOOOFactory$DBOOO$2.doInTransactionWithoutResult(DbOOOFactory.java:352)\u003cbr\\/\u003e\\n        at org.springframework.transaction.support.TransactionCallbackWithoutResult.doInTransaction(TransactionCallbackWithoutResult.java:33)\u003cbr\\/\u003e\\n        at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:134)\u003cbr\\/\u003e\\n        at com.xxx.yyy.DbOOOFactory$DBOOO.add(DbOOOFactory.java:339)\u003cbr\\/\u003e\\n        at com.xxx.zzz.kkk.MetaJJJ.reload(MetaJJJ.java:44)\u003cbr\\/\u003e\\n        at com.xxx.zzz.kkk.MetaJJJ.startup(MetaJJJ.java:57)\u003cbr\\/\u003e\\n        at com.xxx.zzz.kkk.Start.startupZzz(Start.java:208)\u003cbr\\/\u003e\\n        at com.xxx.zzz.kkk.Start.startup(Start.java:160)\u003cbr\\/\u003e\\n        at com.xxx.start.Starter.startup(Starter.java:264)\u003cbr\\/\u003e\\n        at com.xxx.start.Main.startup(Main.java:270)\u003cbr\\/\u003e\\n        at com.xxx.start.Main.main(Main.java:199)\u003cbr\\/\u003e\\nCaused by: java.sql.SQLException: The conglomerate (-15) requested does not exist.\u003cbr\\/\u003e\\n        at org.apache.derby.impl.jdbc.SQLExceptionFactory40.getSQLException(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.jdbc.Util.generateCsSQLException(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.jdbc.TransactionResourceImpl.wrapInSQLException(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.jdbc.TransactionResourceImpl.handleException(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.jdbc.EmbedConnection.handleException(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.jdbc.ConnectionChild.handleException(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.jdbc.EmbedStatement.executeStatement(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.jdbc.EmbedPreparedStatement.executeStatement(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.jdbc.EmbedPreparedStatement.executeUpdate(Unknown Source)\u003cbr\\/\u003e\\n        at com.xxx.zzz.kkk.sp.SubTTT$1.work(SubTTT.java:79)\u003cbr\\/\u003e\\n        at com.xxx.zzz.kkk.sp.SubTTT$1.work(SubTTT.java:43)\u003cbr\\/\u003e\\n        at com.xxx.zzz.kkk.sp.Template.getResult(Template.java:80)\u003cbr\\/\u003e\\n        at com.xxx.zzz.kkk.sp.SubTTT.insert(SubTTT.java:107)\u003cbr\\/\u003e\\n        at org.apache.derby.exe.ac12564092x0116xce84xf62dx000055b50d0421.g0(Unknown Source)\u003cbr\\/\u003e\\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\u003cbr\\/\u003e\\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\u003cbr\\/\u003e\\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\u003cbr\\/\u003e\\n        at java.lang.reflect.Method.invoke(Method.java:597)\u003cbr\\/\u003e\\n        ... 32 more\u003cbr\\/\u003e\\nCaused by: java.sql.SQLException: The conglomerate (-15) requested does not exist.\u003cbr\\/\u003e\\n        at org.apache.derby.impl.jdbc.SQLExceptionFactory.getSQLException(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.jdbc.SQLExceptionFactory40.wrapArgsForTransportAcrossDRDA(Unknown Source)\u003cbr\\/\u003e\\n        ... 50 more\u003cbr\\/\u003e\\nCaused by: ERROR XSAI2: The conglomerate (-15) requested does not exist.\u003cbr\\/\u003e\\n        at org.apache.derby.iapi.error.StandardException.newException(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.store.access.RAMTransaction.findExistingConglomerate(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.store.access.RAMTransaction.openScan(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.sql.execute.TemporaryRowHolderResultSet.getNextRowCore(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.sql.execute.TemporaryRowHolderResultSet.getNextRow(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.sql.execute.InsertResultSet.normalInsertCore(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.sql.execute.InsertResultSet.open(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.sql.GenericPreparedStatement.execute(Unknown Source)\u003cbr\\/\u003e\\n        ... 44 more\u003cbr\\/\u003e\\n============= begin nested exception, level (1) ===========\u003cbr\\/\u003e\\njava.sql.SQLException: The conglomerate (-15) requested does not exist.\u003cbr\\/\u003e\\n        at org.apache.derby.impl.jdbc.SQLExceptionFactory40.getSQLException(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.jdbc.Util.generateCsSQLException(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.jdbc.TransactionResourceImpl.wrapInSQLException(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.jdbc.TransactionResourceImpl.handleException(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.jdbc.EmbedConnection.handleException(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.jdbc.ConnectionChild.handleException(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.jdbc.EmbedStatement.executeStatement(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.jdbc.EmbedPreparedStatement.executeStatement(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.jdbc.EmbedPreparedStatement.executeUpdate(Unknown Source)\u003cbr\\/\u003e\\n        at com.xxx.zzz.kkk.sp.SubTTT$1.work(SubTTT.java:79)\u003cbr\\/\u003e\\n        at com.xxx.zzz.kkk.sp.SubTTT$1.work(SubTTT.java:43)\u003cbr\\/\u003e\\n        at com.xxx.zzz.kkk.sp.Template.getResult(Template.java:80)\u003cbr\\/\u003e\\n        at com.xxx.zzz.kkk.sp.SubTTT.insert(SubTTT.java:107)\u003cbr\\/\u003e\\n        at org.apache.derby.exe.ac12564092x0116xce84xf62dx000055b50d0421.g0(Unknown Source)\u003cbr\\/\u003e\\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\u003cbr\\/\u003e\\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\u003cbr\\/\u003e\\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\u003cbr\\/\u003e\\n        at java.lang.reflect.Method.invoke(Method.java:597)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.services.reflect.ReflectMethod.invoke(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.sql.execute.CallStatementResultSet.open(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.sql.GenericPreparedStatement.execute(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.sql.execute.GenericTriggerExecutor.executeSPS(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.sql.execute.StatementTriggerExecutor.fireTrigger(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.sql.execute.TriggerEventActivator.notifyEvent(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.sql.execute.InsertResultSet.normalInsertCore(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.sql.execute.InsertResultSet.open(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.sql.GenericPreparedStatement.execute(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.jdbc.EmbedStatement.executeStatement(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.jdbc.EmbedPreparedStatement.executeStatement(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.jdbc.EmbedPreparedStatement.executeUpdate(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.commons.dbcp.DelegatingPreparedStatement.executeUpdate(DelegatingPreparedStatement.java:101)\u003cbr\\/\u003e\\n        at org.springframework.jdbc.core.JdbcTemplate$2.doInPreparedStatement(JdbcTemplate.java:745)\u003cbr\\/\u003e\\n        at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:538)\u003cbr\\/\u003e\\n        at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:739)\u003cbr\\/\u003e\\n        at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:797)\u003cbr\\/\u003e\\n        at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:801)\u003cbr\\/\u003e\\n        at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.update(NamedParameterJdbcTemplate.java:218)\u003cbr\\/\u003e\\n        at com.xxx.yyy.DbOOOFactory$DBOOO.importFromLegacyTables(DbOOOFactory.java:383)\u003cbr\\/\u003e\\n        at com.xxx.yyy.DbOOOFactory$DBOOO.access$1500(DbOOOFactory.java:94)\u003cbr\\/\u003e\\n        at com.xxx.yyy.DbOOOFactory$DBOOO$2.doInTransactionWithoutResult(DbOOOFactory.java:352)\u003cbr\\/\u003e\\n        at org.springframework.transaction.support.TransactionCallbackWithoutResult.doInTransaction(TransactionCallbackWithoutResult.java:33)\u003cbr\\/\u003e\\n        at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:134)\u003cbr\\/\u003e\\n        at com.xxx.yyy.DbOOOFactory$DBOOO.add(DbOOOFactory.java:339)\u003cbr\\/\u003e\\n        at com.xxx.zzz.kkk.MetaJJJ.reload(MetaJJJ.java:44)\u003cbr\\/\u003e\\n        at com.xxx.zzz.kkk.MetaJJJ.startup(MetaJJJ.java:57)\u003cbr\\/\u003e\\n        at com.xxx.zzz.kkk.Start.startupZzz(Start.java:208)\u003cbr\\/\u003e\\n        at com.xxx.zzz.kkk.Start.startup(Start.java:160)\u003cbr\\/\u003e\\n        at com.xxx.start.Starter.startup(Starter.java:264)\u003cbr\\/\u003e\\n        at com.xxx.start.Main.startup(Main.java:270)\u003cbr\\/\u003e\\n        at com.xxx.start.Main.main(Main.java:199)\u003cbr\\/\u003e\\nCaused by: java.sql.SQLException: The conglomerate (-15) requested does not exist.\u003cbr\\/\u003e\\n        at org.apache.derby.impl.jdbc.SQLExceptionFactory.getSQLException(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.jdbc.SQLExceptionFactory40.wrapArgsForTransportAcrossDRDA(Unknown Source)\u003cbr\\/\u003e\\n        ... 50 more\u003cbr\\/\u003e\\nCaused by: ERROR XSAI2: The conglomerate (-15) requested does not exist.\u003cbr\\/\u003e\\n        at org.apache.derby.iapi.error.StandardException.newException(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.store.access.RAMTransaction.findExistingConglomerate(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.store.access.RAMTransaction.openScan(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.sql.execute.TemporaryRowHolderResultSet.getNextRowCore(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.sql.execute.TemporaryRowHolderResultSet.getNextRow(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.sql.execute.InsertResultSet.normalInsertCore(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.sql.execute.InsertResultSet.open(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.sql.GenericPreparedStatement.execute(Unknown Source)\u003cbr\\/\u003e\\n        ... 44 more\u003cbr\\/\u003e\\n============= end nested exception, level (1) ===========\u003cbr\\/\u003e\\n============= begin nested exception, level (2) ===========\u003cbr\\/\u003e\\njava.sql.SQLException: The conglomerate (-15) requested does not exist.\u003cbr\\/\u003e\\n        at org.apache.derby.impl.jdbc.SQLExceptionFactory.getSQLException(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.jdbc.SQLExceptionFactory40.wrapArgsForTransportAcrossDRDA(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.jdbc.SQLExceptionFactory40.getSQLException(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.jdbc.Util.generateCsSQLException(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.jdbc.TransactionResourceImpl.wrapInSQLException(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.jdbc.TransactionResourceImpl.handleException(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.jdbc.EmbedConnection.handleException(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.jdbc.ConnectionChild.handleException(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.jdbc.EmbedStatement.executeStatement(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.jdbc.EmbedPreparedStatement.executeStatement(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.jdbc.EmbedPreparedStatement.executeUpdate(Unknown Source)\u003cbr\\/\u003e\\n        at com.xxx.zzz.kkk.sp.SubTTT$1.work(SubTTT.java:79)\u003cbr\\/\u003e\\n        at com.xxx.zzz.kkk.sp.SubTTT$1.work(SubTTT.java:43)\u003cbr\\/\u003e\\n        at com.xxx.zzz.kkk.sp.Template.getResult(Template.java:80)\u003cbr\\/\u003e\\n        at com.xxx.zzz.kkk.sp.SubTTT.insert(SubTTT.java:107)\u003cbr\\/\u003e\\n        at org.apache.derby.exe.ac12564092x0116xce84xf62dx000055b50d0421.g0(Unknown Source)\u003cbr\\/\u003e\\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\u003cbr\\/\u003e\\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\u003cbr\\/\u003e\\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\u003cbr\\/\u003e\\n        at java.lang.reflect.Method.invoke(Method.java:597)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.services.reflect.ReflectMethod.invoke(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.sql.execute.CallStatementResultSet.open(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.sql.GenericPreparedStatement.execute(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.sql.execute.GenericTriggerExecutor.executeSPS(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.sql.execute.StatementTriggerExecutor.fireTrigger(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.sql.execute.TriggerEventActivator.notifyEvent(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.sql.execute.InsertResultSet.normalInsertCore(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.sql.execute.InsertResultSet.open(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.sql.GenericPreparedStatement.execute(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.jdbc.EmbedStatement.executeStatement(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.jdbc.EmbedPreparedStatement.executeStatement(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.jdbc.EmbedPreparedStatement.executeUpdate(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.commons.dbcp.DelegatingPreparedStatement.executeUpdate(DelegatingPreparedStatement.java:101)\u003cbr\\/\u003e\\n        at org.springframework.jdbc.core.JdbcTemplate$2.doInPreparedStatement(JdbcTemplate.java:745)\u003cbr\\/\u003e\\n        at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:538)\u003cbr\\/\u003e\\n        at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:739)\u003cbr\\/\u003e\\n        at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:797)\u003cbr\\/\u003e\\n        at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:801)\u003cbr\\/\u003e\\n        at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.update(NamedParameterJdbcTemplate.java:218)\u003cbr\\/\u003e\\n        at com.xxx.yyy.DbOOOFactory$DBOOO.importFromLegacyTables(DbOOOFactory.java:383)\u003cbr\\/\u003e\\n        at com.xxx.yyy.DbOOOFactory$DBOOO.access$1500(DbOOOFactory.java:94)\u003cbr\\/\u003e\\n        at com.xxx.yyy.DbOOOFactory$DBOOO$2.doInTransactionWithoutResult(DbOOOFactory.java:352)\u003cbr\\/\u003e\\n        at org.springframework.transaction.support.TransactionCallbackWithoutResult.doInTransaction(TransactionCallbackWithoutResult.java:33)\u003cbr\\/\u003e\\n        at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:134)\u003cbr\\/\u003e\\n        at com.xxx.yyy.DbOOOFactory$DBOOO.add(DbOOOFactory.java:339)\u003cbr\\/\u003e\\n        at com.xxx.zzz.kkk.MetaJJJ.reload(MetaJJJ.java:44)\u003cbr\\/\u003e\\n        at com.xxx.zzz.kkk.MetaJJJ.startup(MetaJJJ.java:57)\u003cbr\\/\u003e\\n        at com.xxx.zzz.kkk.Start.startupZzz(Start.java:208)\u003cbr\\/\u003e\\n        at com.xxx.zzz.kkk.Start.startup(Start.java:160)\u003cbr\\/\u003e\\n        at com.xxx.start.Starter.startup(Starter.java:264)\u003cbr\\/\u003e\\n        at com.xxx.start.Main.startup(Main.java:270)\u003cbr\\/\u003e\\n        at com.xxx.start.Main.main(Main.java:199)\u003cbr\\/\u003e\\nCaused by: ERROR XSAI2: The conglomerate (-15) requested does not exist.\u003cbr\\/\u003e\\n        at org.apache.derby.iapi.error.StandardException.newException(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.store.access.RAMTransaction.findExistingConglomerate(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.store.access.RAMTransaction.openScan(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.sql.execute.TemporaryRowHolderResultSet.getNextRowCore(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.sql.execute.TemporaryRowHolderResultSet.getNextRow(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.sql.execute.InsertResultSet.normalInsertCore(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.sql.execute.InsertResultSet.open(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.sql.GenericPreparedStatement.execute(Unknown Source)\u003cbr\\/\u003e\\n        ... 44 more\u003cbr\\/\u003e\\n============= end nested exception, level (2) ===========\u003cbr\\/\u003e\\n============= begin nested exception, level (3) ===========\u003cbr\\/\u003e\\nERROR XSAI2: The conglomerate (-15) requested does not exist.\u003cbr\\/\u003e\\n        at org.apache.derby.iapi.error.StandardException.newException(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.store.access.RAMTransaction.findExistingConglomerate(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.store.access.RAMTransaction.openScan(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.sql.execute.TemporaryRowHolderResultSet.getNextRowCore(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.sql.execute.TemporaryRowHolderResultSet.getNextRow(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.sql.execute.InsertResultSet.normalInsertCore(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.sql.execute.InsertResultSet.open(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.sql.GenericPreparedStatement.execute(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.jdbc.EmbedStatement.executeStatement(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.jdbc.EmbedPreparedStatement.executeStatement(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.jdbc.EmbedPreparedStatement.executeUpdate(Unknown Source)\u003cbr\\/\u003e\\n        at com.xxx.zzz.kkk.sp.SubTTT$1.work(SubTTT.java:79)\u003cbr\\/\u003e\\n        at com.xxx.zzz.kkk.sp.SubTTT$1.work(SubTTT.java:43)\u003cbr\\/\u003e\\n        at com.xxx.zzz.kkk.sp.Template.getResult(Template.java:80)\u003cbr\\/\u003e\\n        at com.xxx.zzz.kkk.sp.SubTTT.insert(SubTTT.java:107)\u003cbr\\/\u003e\\n        at org.apache.derby.exe.ac12564092x0116xce84xf62dx000055b50d0421.g0(Unknown Source)\u003cbr\\/\u003e\\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\u003cbr\\/\u003e\\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\u003cbr\\/\u003e\\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\u003cbr\\/\u003e\\n        at java.lang.reflect.Method.invoke(Method.java:597)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.services.reflect.ReflectMethod.invoke(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.sql.execute.CallStatementResultSet.open(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.sql.GenericPreparedStatement.execute(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.sql.execute.GenericTriggerExecutor.executeSPS(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.sql.execute.StatementTriggerExecutor.fireTrigger(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.sql.execute.TriggerEventActivator.notifyEvent(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.sql.execute.InsertResultSet.normalInsertCore(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.sql.execute.InsertResultSet.open(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.sql.GenericPreparedStatement.execute(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.jdbc.EmbedStatement.executeStatement(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.jdbc.EmbedPreparedStatement.executeStatement(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.derby.impl.jdbc.EmbedPreparedStatement.executeUpdate(Unknown Source)\u003cbr\\/\u003e\\n        at org.apache.commons.dbcp.DelegatingPreparedStatement.executeUpdate(DelegatingPreparedStatement.java:101)\u003cbr\\/\u003e\\n        at org.springframework.jdbc.core.JdbcTemplate$2.doInPreparedStatement(JdbcTemplate.java:745)\u003cbr\\/\u003e\\n        at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:538)\u003cbr\\/\u003e\\n        at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:739)\u003cbr\\/\u003e\\n        at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:797)\u003cbr\\/\u003e\\n        at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:801)\u003cbr\\/\u003e\\n        at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.update(NamedParameterJdbcTemplate.java:218)\u003cbr\\/\u003e\\n        at com.xxx.yyy.DbOOOFactory$DBOOO.importFromLegacyTables(DbOOOFactory.java:383)\u003cbr\\/\u003e\\n        at com.xxx.yyy.DbOOOFactory$DBOOO.access$1500(DbOOOFactory.java:94)\u003cbr\\/\u003e\\n        at com.xxx.yyy.DbOOOFactory$DBOOO$2.doInTransactionWithoutResult(DbOOOFactory.java:352)\u003cbr\\/\u003e\\n        at org.springframework.transaction.support.TransactionCallbackWithoutResult.doInTransaction(TransactionCallbackWithoutResult.java:33)\u003cbr\\/\u003e\\n        at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:134)\u003cbr\\/\u003e\\n        at com.xxx.yyy.DbOOOFactory$DBOOO.add(DbOOOFactory.java:339)\u003cbr\\/\u003e\\n        at com.xxx.zzz.kkk.MetaJJJ.reload(MetaJJJ.java:44)\u003cbr\\/\u003e\\n        at com.xxx.zzz.kkk.MetaJJJ.startup(MetaJJJ.java:57)\u003cbr\\/\u003e\\n        at com.xxx.zzz.kkk.Start.startupZzz(Start.java:208)\u003cbr\\/\u003e\\n        at com.xxx.zzz.kkk.Start.startup(Start.java:160)\u003cbr\\/\u003e\\n        at com.xxx.start.Starter.startup(Starter.java:264)\u003cbr\\/\u003e\\n        at com.xxx.start.Main.startup(Main.java:270)\u003cbr\\/\u003e\\n        at com.xxx.start.Main.main(Main.java:199)\u003cbr\\/\u003e\\n============= end nested exception, level (3) ===========\u003cbr\\/\u003e\\nCleanup action completed\u003cbr\\/\u003e\\n2007-12-12 13:22:40.524 GMT Thread\u003cspan class=\\\"error\\\"\u003e&#91;Main,5,main&#93;\u003c\\/span\u003e (XID = 1452), (SESSIONID = 2), (DATABASE = directory:shape), (DATABASE = directory:shape), (DRDAID = null), Rolling back\u003cbr\\/\u003e\\n2007-12-12 13:22:40.885 GMT Thread\u003cspan class=\\\"error\\\"\u003e&#91;Main,5,main&#93;\u003c\\/span\u003e (XID = 1452), (SESSIONID = 2), (DATABASE = directory:shape), (DRDAID = null), Committing\u003cbr\\/\u003e\\n2007-12-12 13:22:40.893 GMT Thread\u003cspan class=\\\"error\\\"\u003e&#91;xxx-start ShutdownHook,5,main&#93;\u003c\\/span\u003e (XID = 1452), (SESSIONID = 2), (DATABASE = directory:shape), (DATABASE = directory:shape), (DRDAID = null), Rolling back\u003c\\/p\u003e\\n\\n\u003cp\u003e2007-12-12 13:22:43.104 GMT:\u003cbr\\/\u003e\\nShutting down instance c013800d-0116-ce84-f62d-000055b50d04\u003c\\/p\u003e\\n\\n\u003chr \\/\u003e\\n\u003cp\u003e(note2self: I have a patch against r192 that reproduces this, and a full copy of the derby.log)\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"northshorefiend\\\" id=\\\"commentauthor_12550981_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=northshorefiend\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"northshorefiend\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e James Alan Shepherd\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12550981_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Dec\\/07 14:33\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-12-12T14:33:06+0000\'\u003e12\\/Dec\\/07 14:33\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Well, of course, I switch back to 10.3.1.4 today, and no bug!!! So as I thought, test case; not so much. \\n\\n BUT, with the wonder that is the Eclipse local history, and the mystery that is svn, once again the error arises. \\n\\n I can\'t publish the full log (956k) as it contains a year\'s work that hasn\'t been paid for yet   I realise that this might not go back far enough, it\'s the best I can do, apologies. Still, at least anyone that comes across such things will know that they aren\'t delusional. \\n\\n I did try \'sync &amp;&amp; sync\' before firing up the java code, but it made no difference. The filesystem all this is happening on has recently changed to being a linux software raid, but other than that everything else is pretty vanilla ext3 with nothing else accessing the dir. \\n\\n derby.properties now reads: \\n----- 8&lt; ---------- \\nderby.stream.error.logSeverityLevel=0 \\nderby.language.logStatementText=true \\nderby.infolog.append=true  \\n----- 8&lt; ---------- \\n\\n So, we are in a stored proc fired by a trigger. (names may have been changed to pretext the innocent) \\n\\n\\n\\n 2007-12-12 13:22:40.326 GMT Thread &#91;Main,5,main&#93;  (XID = 1452), (SESSIONID = 2), (DATABASE = directory:shape), (DRDAID = null), Executing prepared statement: INSERT INTO SubTTTXX ( nShapeID , nSubShapeID , nColorID , nHelp ) SELECT DISTINCT X.nColorID \\n, DSO.nSubShapeID , X.nColorID , (SELECT INTEGER(MAX(nHelp)+1) FROM SubTTTXX) FROM SubTTTXX X JOIN DirectSubTTT DSO ON X.nHelp &gt; 0 AND DSO.nShapeID = X.nSubShapeID LEFT JOIN SubTTT SO ON SO.nShapeID = X.nShapeID AND SO.nSubShapeID = DSO.nSu \\nbShapeID WHERE X.nShapeID &lt;&gt; DSO.nSubShapeID AND SO.nShapeID IS NULL :End prepared statement \\n2007-12-12 13:22:40.330 GMT Thread &#91;Main,5,main&#93;  (XID = 1452), (SESSIONID = 2), (DATABASE = directory:shape), (DRDAID = null), Cleanup action starting \\n2007-12-12 13:22:40.330 GMT Thread &#91;Main,5,main&#93;  (XID = 1452), (SESSIONID = 2), (DATABASE = directory:shape), (DRDAID = null), Failed Statement is: INSERT INTO SubTTTXX ( nShapeID , nSubShapeID , nColorID , nHelp ) SELECT DISTINCT X.nShapeID , DSO \\n.nSubShapeID , X.nColorID , (SELECT INTEGER(MAX(nHelp)+1) FROM SubTTTXX) FROM SubTTTXX X JOIN DirectSubTTT DSO ON X.nHelp &gt; 0 AND DSO.nShapeID = X.nSubShapeID LEFT JOIN SubTTT SO ON SO.nShapeID = X.nShapeID AND SO.nSubShapeID = DSO.nSubShapeID WHE \\nRE X.nShapeID &lt;&gt; DSO.nSubShapeID AND SO.nShapeID IS NULL \\nERROR XSAI2: The conglomerate (-15) requested does not exist. \\n        at org.apache.derby.iapi.error.StandardException.newException(Unknown Source) \\n        at org.apache.derby.impl.store.access.RAMTransaction.findExistingConglomerate(Unknown Source) \\n        at org.apache.derby.impl.store.access.RAMTransaction.openScan(Unknown Source) \\n        at org.apache.derby.impl.sql.execute.TemporaryRowHolderResultSet.getNextRowCore(Unknown Source) \\n        at org.apache.derby.impl.sql.execute.TemporaryRowHolderResultSet.getNextRow(Unknown Source) \\n        at org.apache.derby.impl.sql.execute.InsertResultSet.normalInsertCore(Unknown Source) \\n        at org.apache.derby.impl.sql.execute.InsertResultSet.open(Unknown Source) \\n        at org.apache.derby.impl.sql.GenericPreparedStatement.execute(Unknown Source) \\n        at org.apache.derby.impl.jdbc.EmbedStatement.executeStatement(Unknown Source) \\n        at org.apache.derby.impl.jdbc.EmbedPreparedStatement.executeStatement(Unknown Source) \\n        at org.apache.derby.impl.jdbc.EmbedPreparedStatement.executeUpdate(Unknown Source) \\n        at com.xxx.zzz.kkk.sp.SubTTT$1.work(SubTTT.java:79) \\n        at com.xxx.zzz.kkk.sp.SubTTT$1.work(SubTTT.java:43) \\n        at com.xxx.zzz.kkk.sp.Template.getResult(Template.java:80) \\n        at com.xxx.zzz.kkk.sp.SubTTT.insert(SubTTT.java:107) \\n        at org.apache.derby.exe.ac12564092x0116xce84xf62dx000055b50d0421.g0(Unknown Source) \\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) \\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) \\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) \\n        at java.lang.reflect.Method.invoke(Method.java:597) \\n        at org.apache.derby.impl.services.reflect.ReflectMethod.invoke(Unknown Source) \\n        at org.apache.derby.impl.sql.execute.CallStatementResultSet.open(Unknown Source) \\n        at org.apache.derby.impl.sql.GenericPreparedStatement.execute(Unknown Source) \\n        at org.apache.derby.impl.sql.execute.GenericTriggerExecutor.executeSPS(Unknown Source) \\n        at org.apache.derby.impl.sql.execute.StatementTriggerExecutor.fireTrigger(Unknown Source) \\n        at org.apache.derby.impl.sql.execute.TriggerEventActivator.notifyEvent(Unknown Source) \\n        at org.apache.derby.impl.sql.execute.InsertResultSet.normalInsertCore(Unknown Source) \\n        at org.apache.derby.impl.sql.execute.InsertResultSet.open(Unknown Source) \\n        at org.apache.derby.impl.sql.GenericPreparedStatement.execute(Unknown Source) \\n        at org.apache.derby.impl.jdbc.EmbedStatement.executeStatement(Unknown Source) \\n        at org.apache.derby.impl.jdbc.EmbedPreparedStatement.executeStatement(Unknown Source) \\n        at org.apache.derby.impl.jdbc.EmbedPreparedStatement.executeUpdate(Unknown Source) \\n        at org.apache.commons.dbcp.DelegatingPreparedStatement.executeUpdate(DelegatingPreparedStatement.java:101) \\n        at org.springframework.jdbc.core.JdbcTemplate$2.doInPreparedStatement(JdbcTemplate.java:745) \\n        at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:538) \\n        at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:739) \\n        at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:797) \\n        at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:801) \\n        at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.update(NamedParameterJdbcTemplate.java:218) \\n        at com.xxx.yyy.DbOOOFactory$DBOOO.importFromLegacyTables(DbOOOFactory.java:383) \\n        at com.xxx.yyy.DbOOOFactory$DBOOO.access$1500(DbOOOFactory.java:94) \\n        at com.xxx.yyy.DbOOOFactory$DBOOO$2.doInTransactionWithoutResult(DbOOOFactory.java:352) \\n        at org.springframework.transaction.support.TransactionCallbackWithoutResult.doInTransaction(TransactionCallbackWithoutResult.java:33) \\n        at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:134) \\n        at com.xxx.yyy.DbOOOFactory$DBOOO.add(DbOOOFactory.java:339) \\n        at com.xxx.zzz.kkk.MetaJJJ.reload(MetaJJJ.java:44) \\n        at com.xxx.zzz.kkk.MetaJJJ.startup(MetaJJJ.java:57) \\n        at com.xxx.zzz.kkk.Start.startupZzz(Start.java:208) \\n        at com.xxx.zzz.kkk.Start.startup(Start.java:160) \\n        at com.xxx.start.Starter.startup(Starter.java:264) \\n        at com.xxx.start.Main.startup(Main.java:270) \\n        at com.xxx.start.Main.main(Main.java:199) \\nCleanup action completed \\n2007-12-12 13:22:40.490 GMT Thread &#91;Main,5,main&#93;  (XID = 1452), (SESSIONID = 2), (DATABASE = directory:shape), (DRDAID = null), Cleanup action starting \\n2007-12-12 13:22:40.490 GMT Thread &#91;Main,5,main&#93;  (XID = 1452), (SESSIONID = 2), (DATABASE = directory:shape), (DRDAID = null), Failed Statement is:  INSERT INTO SubTTT ( nShapeID , nSubShapeID , nColorID ) SELECT DISTINCT C.nRCID , S.nRCID , (S \\nELECT nColorID FROM Colorition WHERE nIsCCC = 1) FROM LegacySubCCC SC JOIN LegacyCCC C ON SC.nRunID = ? AND C.nRunID = ? AND C.nICCCID = SC.nICCCID JOIN LegacyCCC S ON S.nRunID = ? AND S.nICCCID = SC.nISubCCCID LEF \\nT JOIN SubTTT SO ON SO.nShapeID = C.nRCID AND SO.nSubShapeID = S.nRCID WHERE SO.nShapeID IS NULL with 3 parameters begin parameter #1: 1 :end parameter begin parameter #2: 1 :end parameter begin parameter #3: 1 :end parameter  \\nERROR 38000: The exception \'java.sql.SQLException: The conglomerate (-15) requested does not exist.\' was thrown while evaluating an expression. \\n        at org.apache.derby.iapi.error.StandardException.newException(Unknown Source) \\n        at org.apache.derby.iapi.error.StandardException.unexpectedUserException(Unknown Source) \\n        at org.apache.derby.impl.services.reflect.ReflectMethod.invoke(Unknown Source) \\n        at org.apache.derby.impl.sql.execute.CallStatementResultSet.open(Unknown Source) \\n        at org.apache.derby.impl.sql.GenericPreparedStatement.execute(Unknown Source) \\n        at org.apache.derby.impl.sql.execute.GenericTriggerExecutor.executeSPS(Unknown Source) \\n        at org.apache.derby.impl.sql.execute.StatementTriggerExecutor.fireTrigger(Unknown Source) \\n        at org.apache.derby.impl.sql.execute.TriggerEventActivator.notifyEvent(Unknown Source) \\n        at org.apache.derby.impl.sql.execute.InsertResultSet.normalInsertCore(Unknown Source) \\n        at org.apache.derby.impl.sql.execute.InsertResultSet.open(Unknown Source) \\n        at org.apache.derby.impl.sql.GenericPreparedStatement.execute(Unknown Source) \\n        at org.apache.derby.impl.jdbc.EmbedStatement.executeStatement(Unknown Source) \\n        at org.apache.derby.impl.jdbc.EmbedPreparedStatement.executeStatement(Unknown Source) \\n        at org.apache.derby.impl.jdbc.EmbedPreparedStatement.executeUpdate(Unknown Source) \\n        at org.apache.commons.dbcp.DelegatingPreparedStatement.executeUpdate(DelegatingPreparedStatement.java:101) \\n        at org.springframework.jdbc.core.JdbcTemplate$2.doInPreparedStatement(JdbcTemplate.java:745) \\n        at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:538) \\n        at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:739) \\n        at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:797) \\n        at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:801) \\n        at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.update(NamedParameterJdbcTemplate.java:218) \\n        at com.xxx.yyy.DbOOOFactory$DBOOO.importFromLegacyTables(DbOOOFactory.java:383) \\n        at com.xxx.yyy.DbOOOFactory$DBOOO.access$1500(DbOOOFactory.java:94) \\n        at com.xxx.yyy.DbOOOFactory$DBOOO$2.doInTransactionWithoutResult(DbOOOFactory.java:352) \\n        at org.springframework.transaction.support.TransactionCallbackWithoutResult.doInTransaction(TransactionCallbackWithoutResult.java:33) \\n        at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:134) \\n        at com.xxx.yyy.DbOOOFactory$DBOOO.add(DbOOOFactory.java:339) \\n        at com.xxx.zzz.kkk.MetaJJJ.reload(MetaJJJ.java:44) \\n        at com.xxx.zzz.kkk.MetaJJJ.startup(MetaJJJ.java:57) \\n        at com.xxx.zzz.kkk.Start.startupZzz(Start.java:208) \\n        at com.xxx.zzz.kkk.Start.startup(Start.java:160) \\n        at com.xxx.start.Starter.startup(Starter.java:264) \\n        at com.xxx.start.Main.startup(Main.java:270) \\n        at com.xxx.start.Main.main(Main.java:199) \\nCaused by: java.sql.SQLException: The conglomerate (-15) requested does not exist. \\n        at org.apache.derby.impl.jdbc.SQLExceptionFactory40.getSQLException(Unknown Source) \\n        at org.apache.derby.impl.jdbc.Util.generateCsSQLException(Unknown Source) \\n        at org.apache.derby.impl.jdbc.TransactionResourceImpl.wrapInSQLException(Unknown Source) \\n        at org.apache.derby.impl.jdbc.TransactionResourceImpl.handleException(Unknown Source) \\n        at org.apache.derby.impl.jdbc.EmbedConnection.handleException(Unknown Source) \\n        at org.apache.derby.impl.jdbc.ConnectionChild.handleException(Unknown Source) \\n        at org.apache.derby.impl.jdbc.EmbedStatement.executeStatement(Unknown Source) \\n        at org.apache.derby.impl.jdbc.EmbedPreparedStatement.executeStatement(Unknown Source) \\n        at org.apache.derby.impl.jdbc.EmbedPreparedStatement.executeUpdate(Unknown Source) \\n        at com.xxx.zzz.kkk.sp.SubTTT$1.work(SubTTT.java:79) \\n        at com.xxx.zzz.kkk.sp.SubTTT$1.work(SubTTT.java:43) \\n        at com.xxx.zzz.kkk.sp.Template.getResult(Template.java:80) \\n        at com.xxx.zzz.kkk.sp.SubTTT.insert(SubTTT.java:107) \\n        at org.apache.derby.exe.ac12564092x0116xce84xf62dx000055b50d0421.g0(Unknown Source) \\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) \\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) \\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) \\n        at java.lang.reflect.Method.invoke(Method.java:597) \\n        ... 32 more \\nCaused by: java.sql.SQLException: The conglomerate (-15) requested does not exist. \\n        at org.apache.derby.impl.jdbc.SQLExceptionFactory.getSQLException(Unknown Source) \\n        at org.apache.derby.impl.jdbc.SQLExceptionFactory40.wrapArgsForTransportAcrossDRDA(Unknown Source) \\n        ... 50 more \\nCaused by: ERROR XSAI2: The conglomerate (-15) requested does not exist. \\n        at org.apache.derby.iapi.error.StandardException.newException(Unknown Source) \\n        at org.apache.derby.impl.store.access.RAMTransaction.findExistingConglomerate(Unknown Source) \\n        at org.apache.derby.impl.store.access.RAMTransaction.openScan(Unknown Source) \\n        at org.apache.derby.impl.sql.execute.TemporaryRowHolderResultSet.getNextRowCore(Unknown Source) \\n        at org.apache.derby.impl.sql.execute.TemporaryRowHolderResultSet.getNextRow(Unknown Source) \\n        at org.apache.derby.impl.sql.execute.InsertResultSet.normalInsertCore(Unknown Source) \\n        at org.apache.derby.impl.sql.execute.InsertResultSet.open(Unknown Source) \\n        at org.apache.derby.impl.sql.GenericPreparedStatement.execute(Unknown Source) \\n        ... 44 more \\n============= begin nested exception, level (1) =========== \\njava.sql.SQLException: The conglomerate (-15) requested does not exist. \\n        at org.apache.derby.impl.jdbc.SQLExceptionFactory40.getSQLException(Unknown Source) \\n        at org.apache.derby.impl.jdbc.Util.generateCsSQLException(Unknown Source) \\n        at org.apache.derby.impl.jdbc.TransactionResourceImpl.wrapInSQLException(Unknown Source) \\n        at org.apache.derby.impl.jdbc.TransactionResourceImpl.handleException(Unknown Source) \\n        at org.apache.derby.impl.jdbc.EmbedConnection.handleException(Unknown Source) \\n        at org.apache.derby.impl.jdbc.ConnectionChild.handleException(Unknown Source) \\n        at org.apache.derby.impl.jdbc.EmbedStatement.executeStatement(Unknown Source) \\n        at org.apache.derby.impl.jdbc.EmbedPreparedStatement.executeStatement(Unknown Source) \\n        at org.apache.derby.impl.jdbc.EmbedPreparedStatement.executeUpdate(Unknown Source) \\n        at com.xxx.zzz.kkk.sp.SubTTT$1.work(SubTTT.java:79) \\n        at com.xxx.zzz.kkk.sp.SubTTT$1.work(SubTTT.java:43) \\n        at com.xxx.zzz.kkk.sp.Template.getResult(Template.java:80) \\n        at com.xxx.zzz.kkk.sp.SubTTT.insert(SubTTT.java:107) \\n        at org.apache.derby.exe.ac12564092x0116xce84xf62dx000055b50d0421.g0(Unknown Source) \\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) \\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) \\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) \\n        at java.lang.reflect.Method.invoke(Method.java:597) \\n        at org.apache.derby.impl.services.reflect.ReflectMethod.invoke(Unknown Source) \\n        at org.apache.derby.impl.sql.execute.CallStatementResultSet.open(Unknown Source) \\n        at org.apache.derby.impl.sql.GenericPreparedStatement.execute(Unknown Source) \\n        at org.apache.derby.impl.sql.execute.GenericTriggerExecutor.executeSPS(Unknown Source) \\n        at org.apache.derby.impl.sql.execute.StatementTriggerExecutor.fireTrigger(Unknown Source) \\n        at org.apache.derby.impl.sql.execute.TriggerEventActivator.notifyEvent(Unknown Source) \\n        at org.apache.derby.impl.sql.execute.InsertResultSet.normalInsertCore(Unknown Source) \\n        at org.apache.derby.impl.sql.execute.InsertResultSet.open(Unknown Source) \\n        at org.apache.derby.impl.sql.GenericPreparedStatement.execute(Unknown Source) \\n        at org.apache.derby.impl.jdbc.EmbedStatement.executeStatement(Unknown Source) \\n        at org.apache.derby.impl.jdbc.EmbedPreparedStatement.executeStatement(Unknown Source) \\n        at org.apache.derby.impl.jdbc.EmbedPreparedStatement.executeUpdate(Unknown Source) \\n        at org.apache.commons.dbcp.DelegatingPreparedStatement.executeUpdate(DelegatingPreparedStatement.java:101) \\n        at org.springframework.jdbc.core.JdbcTemplate$2.doInPreparedStatement(JdbcTemplate.java:745) \\n        at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:538) \\n        at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:739) \\n        at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:797) \\n        at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:801) \\n        at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.update(NamedParameterJdbcTemplate.java:218) \\n        at com.xxx.yyy.DbOOOFactory$DBOOO.importFromLegacyTables(DbOOOFactory.java:383) \\n        at com.xxx.yyy.DbOOOFactory$DBOOO.access$1500(DbOOOFactory.java:94) \\n        at com.xxx.yyy.DbOOOFactory$DBOOO$2.doInTransactionWithoutResult(DbOOOFactory.java:352) \\n        at org.springframework.transaction.support.TransactionCallbackWithoutResult.doInTransaction(TransactionCallbackWithoutResult.java:33) \\n        at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:134) \\n        at com.xxx.yyy.DbOOOFactory$DBOOO.add(DbOOOFactory.java:339) \\n        at com.xxx.zzz.kkk.MetaJJJ.reload(MetaJJJ.java:44) \\n        at com.xxx.zzz.kkk.MetaJJJ.startup(MetaJJJ.java:57) \\n        at com.xxx.zzz.kkk.Start.startupZzz(Start.java:208) \\n        at com.xxx.zzz.kkk.Start.startup(Start.java:160) \\n        at com.xxx.start.Starter.startup(Starter.java:264) \\n        at com.xxx.start.Main.startup(Main.java:270) \\n        at com.xxx.start.Main.main(Main.java:199) \\nCaused by: java.sql.SQLException: The conglomerate (-15) requested does not exist. \\n        at org.apache.derby.impl.jdbc.SQLExceptionFactory.getSQLException(Unknown Source) \\n        at org.apache.derby.impl.jdbc.SQLExceptionFactory40.wrapArgsForTransportAcrossDRDA(Unknown Source) \\n        ... 50 more \\nCaused by: ERROR XSAI2: The conglomerate (-15) requested does not exist. \\n        at org.apache.derby.iapi.error.StandardException.newException(Unknown Source) \\n        at org.apache.derby.impl.store.access.RAMTransaction.findExistingConglomerate(Unknown Source) \\n        at org.apache.derby.impl.store.access.RAMTransaction.openScan(Unknown Source) \\n        at org.apache.derby.impl.sql.execute.TemporaryRowHolderResultSet.getNextRowCore(Unknown Source) \\n        at org.apache.derby.impl.sql.execute.TemporaryRowHolderResultSet.getNextRow(Unknown Source) \\n        at org.apache.derby.impl.sql.execute.InsertResultSet.normalInsertCore(Unknown Source) \\n        at org.apache.derby.impl.sql.execute.InsertResultSet.open(Unknown Source) \\n        at org.apache.derby.impl.sql.GenericPreparedStatement.execute(Unknown Source) \\n        ... 44 more \\n============= end nested exception, level (1) =========== \\n============= begin nested exception, level (2) =========== \\njava.sql.SQLException: The conglomerate (-15) requested does not exist. \\n        at org.apache.derby.impl.jdbc.SQLExceptionFactory.getSQLException(Unknown Source) \\n        at org.apache.derby.impl.jdbc.SQLExceptionFactory40.wrapArgsForTransportAcrossDRDA(Unknown Source) \\n        at org.apache.derby.impl.jdbc.SQLExceptionFactory40.getSQLException(Unknown Source) \\n        at org.apache.derby.impl.jdbc.Util.generateCsSQLException(Unknown Source) \\n        at org.apache.derby.impl.jdbc.TransactionResourceImpl.wrapInSQLException(Unknown Source) \\n        at org.apache.derby.impl.jdbc.TransactionResourceImpl.handleException(Unknown Source) \\n        at org.apache.derby.impl.jdbc.EmbedConnection.handleException(Unknown Source) \\n        at org.apache.derby.impl.jdbc.ConnectionChild.handleException(Unknown Source) \\n        at org.apache.derby.impl.jdbc.EmbedStatement.executeStatement(Unknown Source) \\n        at org.apache.derby.impl.jdbc.EmbedPreparedStatement.executeStatement(Unknown Source) \\n        at org.apache.derby.impl.jdbc.EmbedPreparedStatement.executeUpdate(Unknown Source) \\n        at com.xxx.zzz.kkk.sp.SubTTT$1.work(SubTTT.java:79) \\n        at com.xxx.zzz.kkk.sp.SubTTT$1.work(SubTTT.java:43) \\n        at com.xxx.zzz.kkk.sp.Template.getResult(Template.java:80) \\n        at com.xxx.zzz.kkk.sp.SubTTT.insert(SubTTT.java:107) \\n        at org.apache.derby.exe.ac12564092x0116xce84xf62dx000055b50d0421.g0(Unknown Source) \\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) \\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) \\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) \\n        at java.lang.reflect.Method.invoke(Method.java:597) \\n        at org.apache.derby.impl.services.reflect.ReflectMethod.invoke(Unknown Source) \\n        at org.apache.derby.impl.sql.execute.CallStatementResultSet.open(Unknown Source) \\n        at org.apache.derby.impl.sql.GenericPreparedStatement.execute(Unknown Source) \\n        at org.apache.derby.impl.sql.execute.GenericTriggerExecutor.executeSPS(Unknown Source) \\n        at org.apache.derby.impl.sql.execute.StatementTriggerExecutor.fireTrigger(Unknown Source) \\n        at org.apache.derby.impl.sql.execute.TriggerEventActivator.notifyEvent(Unknown Source) \\n        at org.apache.derby.impl.sql.execute.InsertResultSet.normalInsertCore(Unknown Source) \\n        at org.apache.derby.impl.sql.execute.InsertResultSet.open(Unknown Source) \\n        at org.apache.derby.impl.sql.GenericPreparedStatement.execute(Unknown Source) \\n        at org.apache.derby.impl.jdbc.EmbedStatement.executeStatement(Unknown Source) \\n        at org.apache.derby.impl.jdbc.EmbedPreparedStatement.executeStatement(Unknown Source) \\n        at org.apache.derby.impl.jdbc.EmbedPreparedStatement.executeUpdate(Unknown Source) \\n        at org.apache.commons.dbcp.DelegatingPreparedStatement.executeUpdate(DelegatingPreparedStatement.java:101) \\n        at org.springframework.jdbc.core.JdbcTemplate$2.doInPreparedStatement(JdbcTemplate.java:745) \\n        at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:538) \\n        at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:739) \\n        at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:797) \\n        at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:801) \\n        at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.update(NamedParameterJdbcTemplate.java:218) \\n        at com.xxx.yyy.DbOOOFactory$DBOOO.importFromLegacyTables(DbOOOFactory.java:383) \\n        at com.xxx.yyy.DbOOOFactory$DBOOO.access$1500(DbOOOFactory.java:94) \\n        at com.xxx.yyy.DbOOOFactory$DBOOO$2.doInTransactionWithoutResult(DbOOOFactory.java:352) \\n        at org.springframework.transaction.support.TransactionCallbackWithoutResult.doInTransaction(TransactionCallbackWithoutResult.java:33) \\n        at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:134) \\n        at com.xxx.yyy.DbOOOFactory$DBOOO.add(DbOOOFactory.java:339) \\n        at com.xxx.zzz.kkk.MetaJJJ.reload(MetaJJJ.java:44) \\n        at com.xxx.zzz.kkk.MetaJJJ.startup(MetaJJJ.java:57) \\n        at com.xxx.zzz.kkk.Start.startupZzz(Start.java:208) \\n        at com.xxx.zzz.kkk.Start.startup(Start.java:160) \\n        at com.xxx.start.Starter.startup(Starter.java:264) \\n        at com.xxx.start.Main.startup(Main.java:270) \\n        at com.xxx.start.Main.main(Main.java:199) \\nCaused by: ERROR XSAI2: The conglomerate (-15) requested does not exist. \\n        at org.apache.derby.iapi.error.StandardException.newException(Unknown Source) \\n        at org.apache.derby.impl.store.access.RAMTransaction.findExistingConglomerate(Unknown Source) \\n        at org.apache.derby.impl.store.access.RAMTransaction.openScan(Unknown Source) \\n        at org.apache.derby.impl.sql.execute.TemporaryRowHolderResultSet.getNextRowCore(Unknown Source) \\n        at org.apache.derby.impl.sql.execute.TemporaryRowHolderResultSet.getNextRow(Unknown Source) \\n        at org.apache.derby.impl.sql.execute.InsertResultSet.normalInsertCore(Unknown Source) \\n        at org.apache.derby.impl.sql.execute.InsertResultSet.open(Unknown Source) \\n        at org.apache.derby.impl.sql.GenericPreparedStatement.execute(Unknown Source) \\n        ... 44 more \\n============= end nested exception, level (2) =========== \\n============= begin nested exception, level (3) =========== \\nERROR XSAI2: The conglomerate (-15) requested does not exist. \\n        at org.apache.derby.iapi.error.StandardException.newException(Unknown Source) \\n        at org.apache.derby.impl.store.access.RAMTransaction.findExistingConglomerate(Unknown Source) \\n        at org.apache.derby.impl.store.access.RAMTransaction.openScan(Unknown Source) \\n        at org.apache.derby.impl.sql.execute.TemporaryRowHolderResultSet.getNextRowCore(Unknown Source) \\n        at org.apache.derby.impl.sql.execute.TemporaryRowHolderResultSet.getNextRow(Unknown Source) \\n        at org.apache.derby.impl.sql.execute.InsertResultSet.normalInsertCore(Unknown Source) \\n        at org.apache.derby.impl.sql.execute.InsertResultSet.open(Unknown Source) \\n        at org.apache.derby.impl.sql.GenericPreparedStatement.execute(Unknown Source) \\n        at org.apache.derby.impl.jdbc.EmbedStatement.executeStatement(Unknown Source) \\n        at org.apache.derby.impl.jdbc.EmbedPreparedStatement.executeStatement(Unknown Source) \\n        at org.apache.derby.impl.jdbc.EmbedPreparedStatement.executeUpdate(Unknown Source) \\n        at com.xxx.zzz.kkk.sp.SubTTT$1.work(SubTTT.java:79) \\n        at com.xxx.zzz.kkk.sp.SubTTT$1.work(SubTTT.java:43) \\n        at com.xxx.zzz.kkk.sp.Template.getResult(Template.java:80) \\n        at com.xxx.zzz.kkk.sp.SubTTT.insert(SubTTT.java:107) \\n        at org.apache.derby.exe.ac12564092x0116xce84xf62dx000055b50d0421.g0(Unknown Source) \\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) \\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) \\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) \\n        at java.lang.reflect.Method.invoke(Method.java:597) \\n        at org.apache.derby.impl.services.reflect.ReflectMethod.invoke(Unknown Source) \\n        at org.apache.derby.impl.sql.execute.CallStatementResultSet.open(Unknown Source) \\n        at org.apache.derby.impl.sql.GenericPreparedStatement.execute(Unknown Source) \\n        at org.apache.derby.impl.sql.execute.GenericTriggerExecutor.executeSPS(Unknown Source) \\n        at org.apache.derby.impl.sql.execute.StatementTriggerExecutor.fireTrigger(Unknown Source) \\n        at org.apache.derby.impl.sql.execute.TriggerEventActivator.notifyEvent(Unknown Source) \\n        at org.apache.derby.impl.sql.execute.InsertResultSet.normalInsertCore(Unknown Source) \\n        at org.apache.derby.impl.sql.execute.InsertResultSet.open(Unknown Source) \\n        at org.apache.derby.impl.sql.GenericPreparedStatement.execute(Unknown Source) \\n        at org.apache.derby.impl.jdbc.EmbedStatement.executeStatement(Unknown Source) \\n        at org.apache.derby.impl.jdbc.EmbedPreparedStatement.executeStatement(Unknown Source) \\n        at org.apache.derby.impl.jdbc.EmbedPreparedStatement.executeUpdate(Unknown Source) \\n        at org.apache.commons.dbcp.DelegatingPreparedStatement.executeUpdate(DelegatingPreparedStatement.java:101) \\n        at org.springframework.jdbc.core.JdbcTemplate$2.doInPreparedStatement(JdbcTemplate.java:745) \\n        at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:538) \\n        at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:739) \\n        at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:797) \\n        at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:801) \\n        at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.update(NamedParameterJdbcTemplate.java:218) \\n        at com.xxx.yyy.DbOOOFactory$DBOOO.importFromLegacyTables(DbOOOFactory.java:383) \\n        at com.xxx.yyy.DbOOOFactory$DBOOO.access$1500(DbOOOFactory.java:94) \\n        at com.xxx.yyy.DbOOOFactory$DBOOO$2.doInTransactionWithoutResult(DbOOOFactory.java:352) \\n        at org.springframework.transaction.support.TransactionCallbackWithoutResult.doInTransaction(TransactionCallbackWithoutResult.java:33) \\n        at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:134) \\n        at com.xxx.yyy.DbOOOFactory$DBOOO.add(DbOOOFactory.java:339) \\n        at com.xxx.zzz.kkk.MetaJJJ.reload(MetaJJJ.java:44) \\n        at com.xxx.zzz.kkk.MetaJJJ.startup(MetaJJJ.java:57) \\n        at com.xxx.zzz.kkk.Start.startupZzz(Start.java:208) \\n        at com.xxx.zzz.kkk.Start.startup(Start.java:160) \\n        at com.xxx.start.Starter.startup(Starter.java:264) \\n        at com.xxx.start.Main.startup(Main.java:270) \\n        at com.xxx.start.Main.main(Main.java:199) \\n============= end nested exception, level (3) =========== \\nCleanup action completed \\n2007-12-12 13:22:40.524 GMT Thread &#91;Main,5,main&#93;  (XID = 1452), (SESSIONID = 2), (DATABASE = directory:shape), (DATABASE = directory:shape), (DRDAID = null), Rolling back \\n2007-12-12 13:22:40.885 GMT Thread &#91;Main,5,main&#93;  (XID = 1452), (SESSIONID = 2), (DATABASE = directory:shape), (DRDAID = null), Committing \\n2007-12-12 13:22:40.893 GMT Thread &#91;xxx-start ShutdownHook,5,main&#93;  (XID = 1452), (SESSIONID = 2), (DATABASE = directory:shape), (DATABASE = directory:shape), (DRDAID = null), Rolling back \\n\\n 2007-12-12 13:22:43.104 GMT: \\nShutting down instance c013800d-0116-ce84-f62d-000055b50d04 \\n\\n \\n (note2self: I have a patch against r192 that reproduces this, and a full copy of the derby.log)              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12551077\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3221?focusedCommentId=12551077&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12551077\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mikem\\\" id=\\\"commentauthor_12551077_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mikem\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mikem\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mike Matrigali\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12551077_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Dec\\/07 19:03\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-12-12T19:03:13+0000\'\u003e12\\/Dec\\/07 19:03\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eWhat is the last error, if any in derby.log which precedes the error you posted.\u003c\\/p\u003e\\n\\n\u003cp\u003eAlso I see that this is session 2.  Is your app multi-threaded?  Is it using multiple connections?  \u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mikem\\\" id=\\\"commentauthor_12551077_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mikem\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mikem\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mike Matrigali\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12551077_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Dec\\/07 19:03\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-12-12T19:03:13+0000\'\u003e12\\/Dec\\/07 19:03\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    What is the last error, if any in derby.log which precedes the error you posted. \\n\\n Also I see that this is session 2.  Is your app multi-threaded?  Is it using multiple connections?                \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12551079\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3221?focusedCommentId=12551079&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12551079\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mikem\\\" id=\\\"commentauthor_12551079_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mikem\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mikem\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mike Matrigali\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12551079_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Dec\\/07 19:04\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-12-12T19:04:57+0000\'\u003e12\\/Dec\\/07 19:04\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003ein the case where you can reproduce this.  Is it always the same statement at the same point in the app that fails?  Is the error always exactly the same (ie. is the conglomerate number always -15)?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mikem\\\" id=\\\"commentauthor_12551079_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mikem\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mikem\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mike Matrigali\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12551079_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Dec\\/07 19:04\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-12-12T19:04:57+0000\'\u003e12\\/Dec\\/07 19:04\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    in the case where you can reproduce this.  Is it always the same statement at the same point in the app that fails?  Is the error always exactly the same (ie. is the conglomerate number always -15)?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12551086\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3221?focusedCommentId=12551086&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12551086\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mikem\\\" id=\\\"commentauthor_12551086_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mikem\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mikem\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mike Matrigali\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12551086_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Dec\\/07 19:15\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-12-12T19:15:31+0000\'\u003e12\\/Dec\\/07 19:15\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003elooking at your recent posting I think the error is actually while executing code as part of a trigger.  \u003cbr\\/\u003e\\nUnfortunately I don\'t think are error logging handles this nesting of execution very well.  The error is happening\u003cbr\\/\u003e\\nas part of executing code as part of a trigger - but I don\'t think we are logging the query in the trigger that is \u003cbr\\/\u003e\\ncausing the problem.\u003c\\/p\u003e\\n\\n\u003cp\u003eWould it be possible to post the query that is executing in your java code.  :\u003cbr\\/\u003e\\n    at com.xxx.zzz.kkk.sp.SubTTT$1.work(SubTTT.java:79)\u003cbr\\/\u003e\\n        at com.xxx.zzz.kkk.sp.SubTTT$1.work(SubTTT.java:43)\u003cbr\\/\u003e\\n        at com.xxx.zzz.kkk.sp.Template.getResult(Template.java:80)\u003cbr\\/\u003e\\n        at com.xxx.zzz.kkk.sp.SubTTT.insert(SubTTT.java:107) \u003c\\/p\u003e\\n\\n\u003cp\u003eIs it possible that code has changed somewhat and that could be what affects whether the bug reproduces or not?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mikem\\\" id=\\\"commentauthor_12551086_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mikem\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mikem\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mike Matrigali\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12551086_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Dec\\/07 19:15\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-12-12T19:15:31+0000\'\u003e12\\/Dec\\/07 19:15\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    looking at your recent posting I think the error is actually while executing code as part of a trigger.   \\nUnfortunately I don\'t think are error logging handles this nesting of execution very well.  The error is happening \\nas part of executing code as part of a trigger - but I don\'t think we are logging the query in the trigger that is  \\ncausing the problem. \\n\\n Would it be possible to post the query that is executing in your java code.  : \\n    at com.xxx.zzz.kkk.sp.SubTTT$1.work(SubTTT.java:79) \\n        at com.xxx.zzz.kkk.sp.SubTTT$1.work(SubTTT.java:43) \\n        at com.xxx.zzz.kkk.sp.Template.getResult(Template.java:80) \\n        at com.xxx.zzz.kkk.sp.SubTTT.insert(SubTTT.java:107)  \\n\\n Is it possible that code has changed somewhat and that could be what affects whether the bug reproduces or not?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12551117\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3221?focusedCommentId=12551117&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12551117\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"northshorefiend\\\" id=\\\"commentauthor_12551117_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=northshorefiend\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"northshorefiend\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e James Alan Shepherd\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12551117_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Dec\\/07 21:35\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-12-12T21:35:46+0000\'\u003e12\\/Dec\\/07 21:35\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eYes it\'s pretty deep in a trigger.\u003c\\/p\u003e\\n\\n\u003cp\u003eI think the statement that kicks everything off, that you request is\u003c\\/p\u003e\\n\\n\u003cp\u003eINSERT INTO SubTTT ( nShapeID , nSubShapeID , nColorID ) SELECT DISTINCT C.nRCID , S.nRCID , (S\u003cbr\\/\u003e\\nELECT nColorID FROM Colorition WHERE nIsCCC = 1) FROM LegacySubCCC SC JOIN LegacyCCC C ON SC.nRunID = ? AND C.nRunID = ? AND C.nICCCID = SC.nICCCID JOIN LegacyCCC S ON S.nRunID = ? AND S.nICCCID = SC.nISubCCCID LEF\u003cbr\\/\u003e\\nT JOIN SubTTT SO ON SO.nShapeID = C.nRCID AND SO.nSubShapeID = S.nRCID WHERE SO.nShapeID IS NULL\u003c\\/p\u003e\\n\\n\u003cp\u003ewhich is logged up there somewhere.\u003c\\/p\u003e\\n\\n\u003cp\u003eThere are no errors before what I have posted, but the execution of the above statement is several pages back in the log.\u003c\\/p\u003e\\n\\n\u003cp\u003eAs you say, changing the code a bit stops the bug. Interestingly, if I select out of a different Legacy* table then I don\'t get the bug.\u003c\\/p\u003e\\n\\n\u003cp\u003eEven more interestingly, if I shove the data in a Temporary table, then select out of that, I get the bug still! And the conglomerate number changes.\u003c\\/p\u003e\\n\\n\u003cp\u003eAbsolutely 100% the same each time I run the whole shebang.\u003c\\/p\u003e\\n\\n\u003cp\u003eNot really multi-threaded, there is an ij session on stdout\\/in so that I can take a peek in the embedded database while debugging. However, I don\'t think this  connects before the bug bites. The java app does try to connect to an existing database, and if this fails, connect again with ;create=true, and runs the create script. Actually, initially, there may be another connection opened adn closed that just finds out what version of derby is running etc, but this closes straight after having a look around.\u003c\\/p\u003e\\n\\n\u003cp\u003eI\'m just trying to run with fewer rows in the table that gets selected from, for the hell of it, as the bug arises with the largest row count Legacy table.\u003cbr\\/\u003e\\nInitial results seem to show that fewer rows (we\'re only talking 4 being few, 100 being many) doesn\'t trigger the bug. I\'m gonna check that this still exercises the same code path.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"northshorefiend\\\" id=\\\"commentauthor_12551117_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=northshorefiend\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"northshorefiend\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e James Alan Shepherd\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12551117_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Dec\\/07 21:35\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-12-12T21:35:46+0000\'\u003e12\\/Dec\\/07 21:35\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Yes it\'s pretty deep in a trigger. \\n\\n I think the statement that kicks everything off, that you request is \\n\\n INSERT INTO SubTTT ( nShapeID , nSubShapeID , nColorID ) SELECT DISTINCT C.nRCID , S.nRCID , (S \\nELECT nColorID FROM Colorition WHERE nIsCCC = 1) FROM LegacySubCCC SC JOIN LegacyCCC C ON SC.nRunID = ? AND C.nRunID = ? AND C.nICCCID = SC.nICCCID JOIN LegacyCCC S ON S.nRunID = ? AND S.nICCCID = SC.nISubCCCID LEF \\nT JOIN SubTTT SO ON SO.nShapeID = C.nRCID AND SO.nSubShapeID = S.nRCID WHERE SO.nShapeID IS NULL \\n\\n which is logged up there somewhere. \\n\\n There are no errors before what I have posted, but the execution of the above statement is several pages back in the log. \\n\\n As you say, changing the code a bit stops the bug. Interestingly, if I select out of a different Legacy* table then I don\'t get the bug. \\n\\n Even more interestingly, if I shove the data in a Temporary table, then select out of that, I get the bug still! And the conglomerate number changes. \\n\\n Absolutely 100% the same each time I run the whole shebang. \\n\\n Not really multi-threaded, there is an ij session on stdout\\/in so that I can take a peek in the embedded database while debugging. However, I don\'t think this  connects before the bug bites. The java app does try to connect to an existing database, and if this fails, connect again with ;create=true, and runs the create script. Actually, initially, there may be another connection opened adn closed that just finds out what version of derby is running etc, but this closes straight after having a look around. \\n\\n I\'m just trying to run with fewer rows in the table that gets selected from, for the hell of it, as the bug arises with the largest row count Legacy table. \\nInitial results seem to show that fewer rows (we\'re only talking 4 being few, 100 being many) doesn\'t trigger the bug. I\'m gonna check that this still exercises the same code path.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12551161\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3221?focusedCommentId=12551161&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12551161\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"northshorefiend\\\" id=\\\"commentauthor_12551161_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=northshorefiend\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"northshorefiend\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e James Alan Shepherd\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12551161_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Dec\\/07 23:50\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-12-12T23:50:45+0000\'\u003e12\\/Dec\\/07 23:50\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI can narrow it down to the inclusion of five rows in the selected set - these rows don\'t seem to cause any different logic to be followed, but they possibly cause a loop that executes SQL in the proc to be run a few extra times.\u003c\\/p\u003e\\n\\n\u003cp\u003eFor now, I\'m going back to 10.2.2.0. Everything works there.\u003c\\/p\u003e\\n\\n\u003cp\u003eMay be in the future a stupid mistake in the script will show itself.\u003c\\/p\u003e\\n\\n\u003cp\u003eLast thought: would a shorter transaction make such a conglomerate error less likely? Though from a business logic point of view this isn\'t an option.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"northshorefiend\\\" id=\\\"commentauthor_12551161_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=northshorefiend\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"northshorefiend\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e James Alan Shepherd\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12551161_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Dec\\/07 23:50\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-12-12T23:50:45+0000\'\u003e12\\/Dec\\/07 23:50\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I can narrow it down to the inclusion of five rows in the selected set - these rows don\'t seem to cause any different logic to be followed, but they possibly cause a loop that executes SQL in the proc to be run a few extra times. \\n\\n For now, I\'m going back to 10.2.2.0. Everything works there. \\n\\n May be in the future a stupid mistake in the script will show itself. \\n\\n Last thought: would a shorter transaction make such a conglomerate error less likely? Though from a business logic point of view this isn\'t an option.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12551165\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3221?focusedCommentId=12551165&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12551165\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"army\\\" id=\\\"commentauthor_12551165_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=army\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"army\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e A B\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12551165_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'13\\/Dec\\/07 00:11\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-12-13T00:11:12+0000\'\u003e13\\/Dec\\/07 00:11\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"A B - 13\\/Dec\\/07 00:18\\\"\u003eedited\u003c\\/span\u003e \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003e&gt; I can narrow it down to the inclusion of five rows in the selected set - these rows don\'t seem to\u003cbr\\/\u003e\\n&gt; cause any different logic to be followed\u003c\\/p\u003e\\n\\n\u003cp\u003eI haven\'t been following this very closely, but the fact that 5 rows is the magic number and that Mike mentioned temporary files made me think of impl\\/sql\\/execute\\/TemporaryRowHolderImpl.java, where we have:\u003c\\/p\u003e\\n\\n\u003cp\u003epublic static final int DEFAULT_OVERFLOWTHRESHOLD = 5;\u003c\\/p\u003e\\n\\n\u003cp\u003eExamination of the code shows that this will be the size of \\\"rowArray\\\" for the TemporaryRowHolder, and once we reach 5 rows we\'ll create a temporary conglomerate to store the extra rows.  I can\'t be certain, but I \u003cb\u003ethink\u003c\\/b\u003e that one of the ways in which we use TemporaryRowHolders is when we update a unique index column, in which case we put the new row into a temporary row holder, delete the old row, then insert from the temporary row holder.  This indirection allows correct processing of scenarios when the new (updated) value of one row matches the old value of another row (by deleting the old row first and \u003cb\u003ethen\u003c\\/b\u003e inserting new row, we avoid throwing a duplicate key violation).\u003c\\/p\u003e\\n\\n\u003cp\u003eMaybe that\'s related, maybe not.  Just thought I\'d mention it since I saw the number 5...\u003c\\/p\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"army\\\" id=\\\"commentauthor_12551165_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=army\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"army\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e A B\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12551165_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'13\\/Dec\\/07 00:11\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-12-13T00:11:12+0000\'\u003e13\\/Dec\\/07 00:11\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"A B - 13\\/Dec\\/07 00:18\\\"\u003eedited\u003c\\/span\u003e                   &gt; I can narrow it down to the inclusion of five rows in the selected set - these rows don\'t seem to \\n&gt; cause any different logic to be followed \\n\\n I haven\'t been following this very closely, but the fact that 5 rows is the magic number and that Mike mentioned temporary files made me think of impl\\/sql\\/execute\\/TemporaryRowHolderImpl.java, where we have: \\n\\n public static final int DEFAULT_OVERFLOWTHRESHOLD = 5; \\n\\n Examination of the code shows that this will be the size of \\\"rowArray\\\" for the TemporaryRowHolder, and once we reach 5 rows we\'ll create a temporary conglomerate to store the extra rows.  I can\'t be certain, but I  think  that one of the ways in which we use TemporaryRowHolders is when we update a unique index column, in which case we put the new row into a temporary row holder, delete the old row, then insert from the temporary row holder.  This indirection allows correct processing of scenarios when the new (updated) value of one row matches the old value of another row (by deleting the old row first and  then  inserting new row, we avoid throwing a duplicate key violation). \\n\\n Maybe that\'s related, maybe not.  Just thought I\'d mention it since I saw the number 5... \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12551168\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3221?focusedCommentId=12551168&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12551168\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"army\\\" id=\\\"commentauthor_12551168_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=army\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"army\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e A B\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12551168_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'13\\/Dec\\/07 00:20\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-12-13T00:20:53+0000\'\u003e13\\/Dec\\/07 00:20\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eAh, never mind, I see Mike already covered what I just wrote:\u003c\\/p\u003e\\n\\n\u003cp\u003e  \\\"...looks like we are somehow losing the temporary file associated with a deferred update\\\"\u003c\\/p\u003e\\n\\n\u003cp\u003eSorry for the noise (oops).\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"army\\\" id=\\\"commentauthor_12551168_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=army\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"army\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e A B\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12551168_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'13\\/Dec\\/07 00:20\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-12-13T00:20:53+0000\'\u003e13\\/Dec\\/07 00:20\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Ah, never mind, I see Mike already covered what I just wrote: \\n\\n   \\\"...looks like we are somehow losing the temporary file associated with a deferred update\\\" \\n\\n Sorry for the noise (oops).              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12551496\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3221?focusedCommentId=12551496&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12551496\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"northshorefiend\\\" id=\\\"commentauthor_12551496_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=northshorefiend\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"northshorefiend\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e James Alan Shepherd\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12551496_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'13\\/Dec\\/07 12:50\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-12-13T12:50:54+0000\'\u003e13\\/Dec\\/07 12:50\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eooh, 10.3.2.1 is out:\u003c\\/p\u003e\\n\\n\u003cp\u003eBug still present \u003cimg class=\\\"emoticon\\\" src=\\\"\\/jira\\/images\\/icons\\/emoticons\\/sad.png\\\" height=\\\"16\\\" width=\\\"16\\\" align=\\\"absmiddle\\\" alt=\\\"\\\" border=\\\"0\\\"\\/\u003e\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"northshorefiend\\\" id=\\\"commentauthor_12551496_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=northshorefiend\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"northshorefiend\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e James Alan Shepherd\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12551496_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'13\\/Dec\\/07 12:50\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-12-13T12:50:54+0000\'\u003e13\\/Dec\\/07 12:50\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    ooh, 10.3.2.1 is out: \\n\\n Bug still present                \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12551931\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3221?focusedCommentId=12551931&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12551931\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"northshorefiend\\\" id=\\\"commentauthor_12551931_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=northshorefiend\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"northshorefiend\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e James Alan Shepherd\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12551931_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'14\\/Dec\\/07 20:23\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-12-14T20:23:27+0000\'\u003e14\\/Dec\\/07 20:23\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI\'m going in....\u003c\\/p\u003e\\n\\n\u003cp\u003erolling my own 10.3.2.1...\u003c\\/p\u003e\\n\\n\u003cp\u003eOpening impl\\/sql\\/execute\\/TemporaryRowHolderImpl.java....\u003c\\/p\u003e\\n\\n\u003cp\u003epublic static final int DEFAULT_OVERFLOWTHRESHOLD = 100; \u003c\\/p\u003e\\n\\n\u003cp\u003esquashes the bug - well, probably just chases it into the undergrowth.\u003c\\/p\u003e\\n\\n\\n\\n\\n\u003cp\u003eI\'ll probably fiddle the test data that\'s used on Monday to avoid the bug \u003cimg class=\\\"emoticon\\\" src=\\\"\\/jira\\/images\\/icons\\/emoticons\\/smile.png\\\" height=\\\"16\\\" width=\\\"16\\\" align=\\\"absmiddle\\\" alt=\\\"\\\" border=\\\"0\\\"\\/\u003e\u003c\\/p\u003e\\n\\n\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"northshorefiend\\\" id=\\\"commentauthor_12551931_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=northshorefiend\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"northshorefiend\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e James Alan Shepherd\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12551931_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'14\\/Dec\\/07 20:23\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-12-14T20:23:27+0000\'\u003e14\\/Dec\\/07 20:23\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I\'m going in.... \\n\\n rolling my own 10.3.2.1... \\n\\n Opening impl\\/sql\\/execute\\/TemporaryRowHolderImpl.java.... \\n\\n public static final int DEFAULT_OVERFLOWTHRESHOLD = 100;  \\n\\n squashes the bug - well, probably just chases it into the undergrowth. \\n\\n\\n\\n\\n I\'ll probably fiddle the test data that\'s used on Monday to avoid the bug   \\n\\n\\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12552433\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3221?focusedCommentId=12552433&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12552433\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"northshorefiend\\\" id=\\\"commentauthor_12552433_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=northshorefiend\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"northshorefiend\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e James Alan Shepherd\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12552433_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Dec\\/07 15:09\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-12-17T15:09:04+0000\'\u003e17\\/Dec\\/07 15:09\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eTried with different test data and still hit the bug, so here\'s a test case.\u003c\\/p\u003e\\n\\n\u003cp\u003eIncludes a stored proc, create script, data, etc.\u003c\\/p\u003e\\n\\n\u003cp\u003eWith derby on the CLASSPATH should reproduce just fine with 10.3.2.1 and not fail with 10.2.2.0\u003c\\/p\u003e\\n\\n\u003cp\u003eI have reduced things as far as I could. Don\'t even have constraints now. Only 3 tables with 2 cols each.\u003c\\/p\u003e\\n\\n\u003cp\u003eIt seems the \'insert.first\' query in SubShape.properties is necessary to reproduce the bug, so may be it has something to do with updating a table you have already updated in the same tran?\u003c\\/p\u003e\\n\\n\u003cp\u003eAnd it seems to be when the sp is called for the second time? but I\'m pretty sure there is no recursion problem there. Anyhoo, it works fine on 10.2.2.0, so I don\'t \u003cb\u003ethink\u003c\\/b\u003e the trigger\\/sp is doing anything too strange.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"northshorefiend\\\" id=\\\"commentauthor_12552433_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=northshorefiend\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"northshorefiend\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e James Alan Shepherd\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12552433_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Dec\\/07 15:09\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-12-17T15:09:04+0000\'\u003e17\\/Dec\\/07 15:09\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Tried with different test data and still hit the bug, so here\'s a test case. \\n\\n Includes a stored proc, create script, data, etc. \\n\\n With derby on the CLASSPATH should reproduce just fine with 10.3.2.1 and not fail with 10.2.2.0 \\n\\n I have reduced things as far as I could. Don\'t even have constraints now. Only 3 tables with 2 cols each. \\n\\n It seems the \'insert.first\' query in SubShape.properties is necessary to reproduce the bug, so may be it has something to do with updating a table you have already updated in the same tran? \\n\\n And it seems to be when the sp is called for the second time? but I\'m pretty sure there is no recursion problem there. Anyhoo, it works fine on 10.2.2.0, so I don\'t  think  the trigger\\/sp is doing anything too strange.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12554994\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3221?focusedCommentId=12554994&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12554994\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"northshorefiend\\\" id=\\\"commentauthor_12554994_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=northshorefiend\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"northshorefiend\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e James Alan Shepherd\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12554994_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Dec\\/07 11:44\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-12-30T11:44:29+0000\'\u003e30\\/Dec\\/07 11:44\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eIf I don\'t reuse the prepared statement, then the bug is avoided.\u003c\\/p\u003e\\n\\n\u003cp\u003eSubShape.java:\u003c\\/p\u003e\\n\\n\u003cp\u003e\\t\\t\\t\\t\\tfor (long i = r.getLong(1); i &gt;= 0; i--) {\u003cbr\\/\u003e\\n\\t\\t\\t\\t\\t\\tif (conn.prepareStatement(sql\u003cbr\\/\u003e\\n\\t\\t\\t\\t\\t\\t\\t\\t.getProperty(\\\"insert.test\\\")).executeUpdate() &lt; 1)\u003cbr\\/\u003e\\n\\t\\t\\t\\t\\t\\t\\tbreak;\u003c\\/p\u003e\\n\\n\u003cp\u003eSo, I guess this bug is caused by something not being cleared when reusing the PreparedStatement.\u003c\\/p\u003e\\n\\n\u003cp\u003eA work around is basically to not use the PreparedStatement again, which obviously defeats the purpose \u003cimg class=\\\"emoticon\\\" src=\\\"\\/jira\\/images\\/icons\\/emoticons\\/smile.png\\\" height=\\\"16\\\" width=\\\"16\\\" align=\\\"absmiddle\\\" alt=\\\"\\\" border=\\\"0\\\"\\/\u003e\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"northshorefiend\\\" id=\\\"commentauthor_12554994_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=northshorefiend\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"northshorefiend\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e James Alan Shepherd\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12554994_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Dec\\/07 11:44\'\u003e\u003ctime class=\'livestamp\' datetime=\'2007-12-30T11:44:29+0000\'\u003e30\\/Dec\\/07 11:44\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    If I don\'t reuse the prepared statement, then the bug is avoided. \\n\\n SubShape.java: \\n\\n \\t\\t\\t\\t\\tfor (long i = r.getLong(1); i &gt;= 0; i--) { \\n\\t\\t\\t\\t\\t\\tif (conn.prepareStatement(sql \\n\\t\\t\\t\\t\\t\\t\\t\\t.getProperty(\\\"insert.test\\\")).executeUpdate() &lt; 1) \\n\\t\\t\\t\\t\\t\\t\\tbreak; \\n\\n So, I guess this bug is caused by something not being cleared when reusing the PreparedStatement. \\n\\n A work around is basically to not use the PreparedStatement again, which obviously defeats the purpose                \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12555324\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3221?focusedCommentId=12555324&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12555324\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"knutanders\\\" id=\\\"commentauthor_12555324_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=knutanders\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"knutanders\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Knut Anders Hatlen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12555324_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'02\\/Jan\\/08 15:13\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-01-02T15:13:49+0000\'\u003e02\\/Jan\\/08 15:13\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eWhen I run the test case with a sane build (trunk), I get an assert failure:\u003c\\/p\u003e\\n\\n\u003cp\u003eij&gt; INSERT INTO SubShape (nID, nSubID) SELECT nID, nSubID FROM Test;\u003cbr\\/\u003e\\njava.sql.SQLException: Java exception: \'ASSERT FAILED col1.getClass() (class org.apache.derby.iapi.types.SQLInteger) expected to be the same as col2.getClass() (class org.apache.derby.iapi.types.SQLLongint): org.apache.derby.shared.common.sanity.AssertFailure\'.\u003cbr\\/\u003e\\n\\tat org.apache.derby.impl.jdbc.SQLExceptionFactory40.getSQLException(SQLExceptionFactory40.java:95)\u003cbr\\/\u003e\\n\\tat org.apache.derby.impl.jdbc.Util.newEmbedSQLException(Util.java:88)\u003cbr\\/\u003e\\n\\tat org.apache.derby.impl.jdbc.Util.javaException(Util.java:245)\u003cbr\\/\u003e\\n\\tat org.apache.derby.impl.jdbc.TransactionResourceImpl.wrapInSQLException(TransactionResourceImpl.java:403)\u003cbr\\/\u003e\\n\\tat org.apache.derby.impl.jdbc.TransactionResourceImpl.handleException(TransactionResourceImpl.java:346)\u003cbr\\/\u003e\\n\\tat org.apache.derby.impl.jdbc.EmbedConnection.handleException(EmbedConnection.java:1666)\u003cbr\\/\u003e\\n\\tat org.apache.derby.impl.jdbc.ConnectionChild.handleException(ConnectionChild.java:81)\u003cbr\\/\u003e\\n\\tat org.apache.derby.impl.jdbc.EmbedStatement.executeStatement(EmbedStatement.java:1324)\u003cbr\\/\u003e\\n\\tat org.apache.derby.impl.jdbc.EmbedPreparedStatement.executeStatement(EmbedPreparedStatement.java:1650)\u003cbr\\/\u003e\\n\\tat org.apache.derby.impl.jdbc.EmbedPreparedStatement.executeUpdate(EmbedPreparedStatement.java:299)\u003cbr\\/\u003e\\n\\tat SubShape.insert(SubShape.java:37)\u003cbr\\/\u003e\\n\\tat org.apache.derby.exe.ac12564092x0117x3b06x55cfx0000003a57281.g0(Unknown Source)\u003cbr\\/\u003e\\n\\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\u003cbr\\/\u003e\\n\\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\u003cbr\\/\u003e\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\u003cbr\\/\u003e\\n\\tat java.lang.reflect.Method.invoke(Method.java:597)\u003cbr\\/\u003e\\n\\tat org.apache.derby.impl.services.reflect.ReflectMethod.invoke(ReflectMethod.java:46)\u003cbr\\/\u003e\\n\\tat org.apache.derby.impl.sql.execute.CallStatementResultSet.open(CallStatementResultSet.java:74)\u003cbr\\/\u003e\\n\\tat org.apache.derby.impl.sql.GenericPreparedStatement.execute(GenericPreparedStatement.java:370)\u003cbr\\/\u003e\\n\\tat org.apache.derby.impl.sql.execute.GenericTriggerExecutor.executeSPS(GenericTriggerExecutor.java:159)\u003cbr\\/\u003e\\n\\tat org.apache.derby.impl.sql.execute.StatementTriggerExecutor.fireTrigger(StatementTriggerExecutor.java:80)\u003cbr\\/\u003e\\n\\tat org.apache.derby.impl.sql.execute.TriggerEventActivator.notifyEvent(TriggerEventActivator.java:269)\u003cbr\\/\u003e\\n\\tat org.apache.derby.impl.sql.execute.InsertResultSet.normalInsertCore(InsertResultSet.java:1150)\u003cbr\\/\u003e\\n\\tat org.apache.derby.impl.sql.execute.InsertResultSet.open(InsertResultSet.java:487)\u003cbr\\/\u003e\\n\\tat org.apache.derby.impl.sql.GenericPreparedStatement.execute(GenericPreparedStatement.java:370)\u003cbr\\/\u003e\\n\\tat org.apache.derby.impl.jdbc.EmbedStatement.executeStatement(EmbedStatement.java:1234)\u003cbr\\/\u003e\\n\\tat org.apache.derby.impl.jdbc.EmbedStatement.execute(EmbedStatement.java:624)\u003cbr\\/\u003e\\n\\tat org.apache.derby.impl.jdbc.EmbedStatement.execute(EmbedStatement.java:556)\u003cbr\\/\u003e\\n\\tat org.apache.derby.impl.tools.ij.ij.executeImmediate(ij.java:330)\u003cbr\\/\u003e\\n\\tat org.apache.derby.impl.tools.ij.utilMain.doCatch(utilMain.java:508)\u003cbr\\/\u003e\\n\\tat org.apache.derby.impl.tools.ij.utilMain.runScriptGuts(utilMain.java:350)\u003cbr\\/\u003e\\n\\tat org.apache.derby.impl.tools.ij.utilMain.go(utilMain.java:248)\u003cbr\\/\u003e\\n\\tat org.apache.derby.impl.tools.ij.Main.go(Main.java:215)\u003cbr\\/\u003e\\n\\tat org.apache.derby.impl.tools.ij.Main.mainCore(Main.java:181)\u003cbr\\/\u003e\\n\\tat org.apache.derby.impl.tools.ij.Main.main(Main.java:73)\u003cbr\\/\u003e\\n\\tat org.apache.derby.tools.ij.main(ij.java:59)\u003cbr\\/\u003e\\nCaused by: java.sql.SQLException: Java exception: \'ASSERT FAILED col1.getClass() (class org.apache.derby.iapi.types.SQLInteger) expected to be the same as col2.getClass() (class org.apache.derby.iapi.types.SQLLongint): org.apache.derby.shared.common.sanity.AssertFailure\'.\u003cbr\\/\u003e\\n\\tat org.apache.derby.impl.jdbc.SQLExceptionFactory.getSQLException(SQLExceptionFactory.java:45)\u003cbr\\/\u003e\\n\\tat org.apache.derby.impl.jdbc.SQLExceptionFactory40.wrapArgsForTransportAcrossDRDA(SQLExceptionFactory40.java:135)\u003cbr\\/\u003e\\n\\tat org.apache.derby.impl.jdbc.SQLExceptionFactory40.getSQLException(SQLExceptionFactory40.java:70)\u003cbr\\/\u003e\\n\\t... 35 more\u003cbr\\/\u003e\\nCaused by: org.apache.derby.shared.common.sanity.AssertFailure: ASSERT FAILED col1.getClass() (class org.apache.derby.iapi.types.SQLInteger) expected to be the same as col2.getClass() (class org.apache.derby.iapi.types.SQLLongint)\u003cbr\\/\u003e\\n\\tat org.apache.derby.shared.common.sanity.SanityManager.THROWASSERT(SanityManager.java:162)\u003cbr\\/\u003e\\n\\tat org.apache.derby.shared.common.sanity.SanityManager.THROWASSERT(SanityManager.java:147)\u003cbr\\/\u003e\\n\\tat org.apache.derby.impl.store.access.sort.MergeSort.checkColumnTypes(MergeSort.java:472)\u003cbr\\/\u003e\\n\\tat org.apache.derby.impl.store.access.sort.MergeInserter.insert(MergeInserter.java:98)\u003cbr\\/\u003e\\n\\tat org.apache.derby.impl.sql.execute.SortResultSet.loadSorter(SortResultSet.java:317)\u003cbr\\/\u003e\\n\\tat org.apache.derby.impl.sql.execute.SortResultSet.openCore(SortResultSet.java:268)\u003cbr\\/\u003e\\n\\tat org.apache.derby.impl.sql.execute.NormalizeResultSet.openCore(NormalizeResultSet.java:147)\u003cbr\\/\u003e\\n\\tat org.apache.derby.impl.sql.execute.InsertResultSet.open(InsertResultSet.java:407)\u003cbr\\/\u003e\\n\\tat org.apache.derby.impl.sql.GenericPreparedStatement.execute(GenericPreparedStatement.java:370)\u003cbr\\/\u003e\\n\\tat org.apache.derby.impl.jdbc.EmbedStatement.executeStatement(EmbedStatement.java:1234)\u003cbr\\/\u003e\\n\\t... 28 more\u003cbr\\/\u003e\\nERROR XJ001: Java exception: \': java.lang.NullPointerException\'.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"knutanders\\\" id=\\\"commentauthor_12555324_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=knutanders\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"knutanders\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Knut Anders Hatlen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12555324_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'02\\/Jan\\/08 15:13\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-01-02T15:13:49+0000\'\u003e02\\/Jan\\/08 15:13\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    When I run the test case with a sane build (trunk), I get an assert failure: \\n\\n ij&gt; INSERT INTO SubShape (nID, nSubID) SELECT nID, nSubID FROM Test; \\njava.sql.SQLException: Java exception: \'ASSERT FAILED col1.getClass() (class org.apache.derby.iapi.types.SQLInteger) expected to be the same as col2.getClass() (class org.apache.derby.iapi.types.SQLLongint): org.apache.derby.shared.common.sanity.AssertFailure\'. \\n\\tat org.apache.derby.impl.jdbc.SQLExceptionFactory40.getSQLException(SQLExceptionFactory40.java:95) \\n\\tat org.apache.derby.impl.jdbc.Util.newEmbedSQLException(Util.java:88) \\n\\tat org.apache.derby.impl.jdbc.Util.javaException(Util.java:245) \\n\\tat org.apache.derby.impl.jdbc.TransactionResourceImpl.wrapInSQLException(TransactionResourceImpl.java:403) \\n\\tat org.apache.derby.impl.jdbc.TransactionResourceImpl.handleException(TransactionResourceImpl.java:346) \\n\\tat org.apache.derby.impl.jdbc.EmbedConnection.handleException(EmbedConnection.java:1666) \\n\\tat org.apache.derby.impl.jdbc.ConnectionChild.handleException(ConnectionChild.java:81) \\n\\tat org.apache.derby.impl.jdbc.EmbedStatement.executeStatement(EmbedStatement.java:1324) \\n\\tat org.apache.derby.impl.jdbc.EmbedPreparedStatement.executeStatement(EmbedPreparedStatement.java:1650) \\n\\tat org.apache.derby.impl.jdbc.EmbedPreparedStatement.executeUpdate(EmbedPreparedStatement.java:299) \\n\\tat SubShape.insert(SubShape.java:37) \\n\\tat org.apache.derby.exe.ac12564092x0117x3b06x55cfx0000003a57281.g0(Unknown Source) \\n\\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) \\n\\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) \\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) \\n\\tat java.lang.reflect.Method.invoke(Method.java:597) \\n\\tat org.apache.derby.impl.services.reflect.ReflectMethod.invoke(ReflectMethod.java:46) \\n\\tat org.apache.derby.impl.sql.execute.CallStatementResultSet.open(CallStatementResultSet.java:74) \\n\\tat org.apache.derby.impl.sql.GenericPreparedStatement.execute(GenericPreparedStatement.java:370) \\n\\tat org.apache.derby.impl.sql.execute.GenericTriggerExecutor.executeSPS(GenericTriggerExecutor.java:159) \\n\\tat org.apache.derby.impl.sql.execute.StatementTriggerExecutor.fireTrigger(StatementTriggerExecutor.java:80) \\n\\tat org.apache.derby.impl.sql.execute.TriggerEventActivator.notifyEvent(TriggerEventActivator.java:269) \\n\\tat org.apache.derby.impl.sql.execute.InsertResultSet.normalInsertCore(InsertResultSet.java:1150) \\n\\tat org.apache.derby.impl.sql.execute.InsertResultSet.open(InsertResultSet.java:487) \\n\\tat org.apache.derby.impl.sql.GenericPreparedStatement.execute(GenericPreparedStatement.java:370) \\n\\tat org.apache.derby.impl.jdbc.EmbedStatement.executeStatement(EmbedStatement.java:1234) \\n\\tat org.apache.derby.impl.jdbc.EmbedStatement.execute(EmbedStatement.java:624) \\n\\tat org.apache.derby.impl.jdbc.EmbedStatement.execute(EmbedStatement.java:556) \\n\\tat org.apache.derby.impl.tools.ij.ij.executeImmediate(ij.java:330) \\n\\tat org.apache.derby.impl.tools.ij.utilMain.doCatch(utilMain.java:508) \\n\\tat org.apache.derby.impl.tools.ij.utilMain.runScriptGuts(utilMain.java:350) \\n\\tat org.apache.derby.impl.tools.ij.utilMain.go(utilMain.java:248) \\n\\tat org.apache.derby.impl.tools.ij.Main.go(Main.java:215) \\n\\tat org.apache.derby.impl.tools.ij.Main.mainCore(Main.java:181) \\n\\tat org.apache.derby.impl.tools.ij.Main.main(Main.java:73) \\n\\tat org.apache.derby.tools.ij.main(ij.java:59) \\nCaused by: java.sql.SQLException: Java exception: \'ASSERT FAILED col1.getClass() (class org.apache.derby.iapi.types.SQLInteger) expected to be the same as col2.getClass() (class org.apache.derby.iapi.types.SQLLongint): org.apache.derby.shared.common.sanity.AssertFailure\'. \\n\\tat org.apache.derby.impl.jdbc.SQLExceptionFactory.getSQLException(SQLExceptionFactory.java:45) \\n\\tat org.apache.derby.impl.jdbc.SQLExceptionFactory40.wrapArgsForTransportAcrossDRDA(SQLExceptionFactory40.java:135) \\n\\tat org.apache.derby.impl.jdbc.SQLExceptionFactory40.getSQLException(SQLExceptionFactory40.java:70) \\n\\t... 35 more \\nCaused by: org.apache.derby.shared.common.sanity.AssertFailure: ASSERT FAILED col1.getClass() (class org.apache.derby.iapi.types.SQLInteger) expected to be the same as col2.getClass() (class org.apache.derby.iapi.types.SQLLongint) \\n\\tat org.apache.derby.shared.common.sanity.SanityManager.THROWASSERT(SanityManager.java:162) \\n\\tat org.apache.derby.shared.common.sanity.SanityManager.THROWASSERT(SanityManager.java:147) \\n\\tat org.apache.derby.impl.store.access.sort.MergeSort.checkColumnTypes(MergeSort.java:472) \\n\\tat org.apache.derby.impl.store.access.sort.MergeInserter.insert(MergeInserter.java:98) \\n\\tat org.apache.derby.impl.sql.execute.SortResultSet.loadSorter(SortResultSet.java:317) \\n\\tat org.apache.derby.impl.sql.execute.SortResultSet.openCore(SortResultSet.java:268) \\n\\tat org.apache.derby.impl.sql.execute.NormalizeResultSet.openCore(NormalizeResultSet.java:147) \\n\\tat org.apache.derby.impl.sql.execute.InsertResultSet.open(InsertResultSet.java:407) \\n\\tat org.apache.derby.impl.sql.GenericPreparedStatement.execute(GenericPreparedStatement.java:370) \\n\\tat org.apache.derby.impl.jdbc.EmbedStatement.executeStatement(EmbedStatement.java:1234) \\n\\t... 28 more \\nERROR XJ001: Java exception: \': java.lang.NullPointerException\'.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12555896\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3221?focusedCommentId=12555896&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12555896\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dyret\\\" id=\\\"commentauthor_12555896_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dyret\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dyret\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dyre Tjeldvoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12555896_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Jan\\/08 11:28\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-01-04T11:28:48+0000\'\u003e04\\/Jan\\/08 11:28\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eCould this be another followup error from \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-827\\\" title=\\\"Performance can be improved by re-using language ResultSets across Activation executions.\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-827\\\"\u003e\u003cdel\u003eDERBY-827\u003c\\/del\u003e\u003c\\/a\u003e? Seems like the problem COULD be that SortResultSet.sortTemplateRow is not reset\\/recomputed when SortResultSet is closed (nothing is done to it in SortResultSet.close()). It seems like the sanity check which compares sortTemplateRow to the row being fed to the sorter fails, which I guess could happen if the template left over from the previous execution doesn\'t match the new one.\u003c\\/p\u003e\\n\\n\u003cp\u003eI\'ll try out the repro and see if the theory holds.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dyret\\\" id=\\\"commentauthor_12555896_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dyret\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dyret\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dyre Tjeldvoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12555896_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Jan\\/08 11:28\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-01-04T11:28:48+0000\'\u003e04\\/Jan\\/08 11:28\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Could this be another followup error from   DERBY-827  ? Seems like the problem COULD be that SortResultSet.sortTemplateRow is not reset\\/recomputed when SortResultSet is closed (nothing is done to it in SortResultSet.close()). It seems like the sanity check which compares sortTemplateRow to the row being fed to the sorter fails, which I guess could happen if the template left over from the previous execution doesn\'t match the new one. \\n\\n I\'ll try out the repro and see if the theory holds.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12555945\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3221?focusedCommentId=12555945&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12555945\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dyret\\\" id=\\\"commentauthor_12555945_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dyret\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dyret\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dyre Tjeldvoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12555945_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Jan\\/08 15:38\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-01-04T15:38:37+0000\'\u003e04\\/Jan\\/08 15:38\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eMy theory does NOT hold \u003cimg class=\\\"emoticon\\\" src=\\\"\\/jira\\/images\\/icons\\/emoticons\\/sad.png\\\" height=\\\"16\\\" width=\\\"16\\\" align=\\\"absmiddle\\\" alt=\\\"\\\" border=\\\"0\\\"\\/\u003e The failure still happens when sortTemplateRow is re-initialized in each call to openCore. Could this be a conversion thing? That is; should it be possible to promote an SQLInteger to an SQLLongint? If I read the code correctly, it seems like col2 is the sort template (SQLLongint) and col1 is from the current row. Also, where does the last NPE come from? Is that just a consequence, or is it significant? \u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dyret\\\" id=\\\"commentauthor_12555945_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dyret\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dyret\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dyre Tjeldvoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12555945_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Jan\\/08 15:38\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-01-04T15:38:37+0000\'\u003e04\\/Jan\\/08 15:38\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    My theory does NOT hold   The failure still happens when sortTemplateRow is re-initialized in each call to openCore. Could this be a conversion thing? That is; should it be possible to promote an SQLInteger to an SQLLongint? If I read the code correctly, it seems like col2 is the sort template (SQLLongint) and col1 is from the current row. Also, where does the last NPE come from? Is that just a consequence, or is it significant?               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12555967\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3221?focusedCommentId=12555967&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12555967\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dyret\\\" id=\\\"commentauthor_12555967_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dyret\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dyret\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dyre Tjeldvoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12555967_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Jan\\/08 16:18\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-01-04T16:18:50+0000\'\u003e04\\/Jan\\/08 16:18\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eLooking more closely at the repro, I see that all columns are of type BIGINT. So it seems reasonable that the sort template has type SQLLongint, but why is it given a row where the 3rd (the failure is is reported for the third (colid=2) column) column has type SQLInteger?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dyret\\\" id=\\\"commentauthor_12555967_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dyret\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dyret\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dyre Tjeldvoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12555967_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Jan\\/08 16:18\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-01-04T16:18:50+0000\'\u003e04\\/Jan\\/08 16:18\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Looking more closely at the repro, I see that all columns are of type BIGINT. So it seems reasonable that the sort template has type SQLLongint, but why is it given a row where the 3rd (the failure is is reported for the third (colid=2) column) column has type SQLInteger?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12555977\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3221?focusedCommentId=12555977&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12555977\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"bryanpendleton\\\" id=\\\"commentauthor_12555977_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=bryanpendleton\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"bryanpendleton\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Bryan Pendleton\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12555977_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Jan\\/08 16:43\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-01-04T16:43:15+0000\'\u003e04\\/Jan\\/08 16:43\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eHi Dyre, thanks for looking at this! You might find it useful to capture the generated\u003cbr\\/\u003e\\ncode and decompile it, then look at that together with a close look at the query plan.\u003cbr\\/\u003e\\nPresumably the sort is due to a GROUP BY or ORDER BY clause in the query, or\u003cbr\\/\u003e\\nperhaps due to a DISTINCT? When I was looking at some datatype mismatch\u003cbr\\/\u003e\\nproblems in ORDER BY processing (\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-2352\\\" title=\\\"Assertion Failure with order by and group by expression\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-2352\\\"\u003e\u003cdel\u003eDERBY-2352\u003c\\/del\u003e\u003c\\/a\u003e), I saw that the code generation\u003cbr\\/\u003e\\nlogic for these areas involves objects like the ResultColumn and the OrderByList.\u003cbr\\/\u003e\\nHopefully this is helpful, let me know and I can try to offer some more ideas.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"bryanpendleton\\\" id=\\\"commentauthor_12555977_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=bryanpendleton\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"bryanpendleton\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Bryan Pendleton\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12555977_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Jan\\/08 16:43\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-01-04T16:43:15+0000\'\u003e04\\/Jan\\/08 16:43\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Hi Dyre, thanks for looking at this! You might find it useful to capture the generated \\ncode and decompile it, then look at that together with a close look at the query plan. \\nPresumably the sort is due to a GROUP BY or ORDER BY clause in the query, or \\nperhaps due to a DISTINCT? When I was looking at some datatype mismatch \\nproblems in ORDER BY processing (  DERBY-2352  ), I saw that the code generation \\nlogic for these areas involves objects like the ResultColumn and the OrderByList. \\nHopefully this is helpful, let me know and I can try to offer some more ideas.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12556519\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3221?focusedCommentId=12556519&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12556519\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"knutanders\\\" id=\\\"commentauthor_12556519_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=knutanders\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"knutanders\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Knut Anders Hatlen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12556519_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Jan\\/08 09:20\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-01-07T09:20:04+0000\'\u003e07\\/Jan\\/08 09:20\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eDyre, I think you are right that this is a regression caused by \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-827\\\" title=\\\"Performance can be improved by re-using language ResultSets across Activation executions.\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-827\\\"\u003e\u003cdel\u003eDERBY-827\u003c\\/del\u003e\u003c\\/a\u003e. I\'m not able to reproduce the error on revision 540920, but it is reproducible on revision 540921, which introduced the reuse of result sets.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"knutanders\\\" id=\\\"commentauthor_12556519_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=knutanders\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"knutanders\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Knut Anders Hatlen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12556519_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Jan\\/08 09:20\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-01-07T09:20:04+0000\'\u003e07\\/Jan\\/08 09:20\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Dyre, I think you are right that this is a regression caused by   DERBY-827  . I\'m not able to reproduce the error on revision 540920, but it is reproducible on revision 540921, which introduced the reuse of result sets.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12556565\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3221?focusedCommentId=12556565&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12556565\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dyret\\\" id=\\\"commentauthor_12556565_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dyret\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dyret\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dyre Tjeldvoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12556565_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Jan\\/08 13:49\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-01-07T13:49:47+0000\'\u003e07\\/Jan\\/08 13:49\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThanks for your feedback, Bryan and Knut. So it is indeed a consequence of \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-827\\\" title=\\\"Performance can be improved by re-using language ResultSets across Activation executions.\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-827\\\"\u003e\u003cdel\u003eDERBY-827\u003c\\/del\u003e\u003c\\/a\u003e \u003cimg class=\\\"emoticon\\\" src=\\\"\\/jira\\/images\\/icons\\/emoticons\\/sad.png\\\" height=\\\"16\\\" width=\\\"16\\\" align=\\\"absmiddle\\\" alt=\\\"\\\" border=\\\"0\\\"\\/\u003e\u003c\\/p\u003e\\n\\n\u003cp\u003eHmm, the strange part is that according to the call stack posted by Knut the error happens at SubShape.insert(SubShape.java:37):\u003c\\/p\u003e\\n\\n\u003cp\u003e                                 \\/\\/ if nothing is new, then nothing to do\u003cbr\\/\u003e\\n                                if (ps.executeUpdate() &gt; 0) {\u003c\\/p\u003e\\n\\n\u003cp\u003e                                        \\/\\/ do pre stuff\u003cbr\\/\u003e\\n                                        for (String stmt : sql.getProperty(\\\"pre\\\"\u003cbr\\/\u003e\\n).split(\\\";\\\")) \u003c\\/p\u003e\\n{\\n                                                ps = conn.prepareStatement(stmt)\\n;\\n                                                ps.executeUpdate();  \\/\\/ &lt;--- line 37\\n                                        }\\n\\n\u003cp\u003eSo this particular statement is AFAICT never re-executed. So, in theory, \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-827\\\" title=\\\"Performance can be improved by re-using language ResultSets across Activation executions.\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-827\\\"\u003e\u003cdel\u003eDERBY-827\u003c\\/del\u003e\u003c\\/a\u003e should not make a dfference here, and if I read James\' comment correctly, it is the prepared statement being re-executed at line 57 that seems to be the culprit. Meaning that preparing it prior to each execute removes the symptom...\u003c\\/p\u003e\\n\\n\u003cp\u003eSo we have to assume then, that some cruft left in the internal result set tree of this prepared statement SOMEHOW causes the newly prepared statement at line 37 to fail. Right now, I cannot imagine how that could happen... \u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dyret\\\" id=\\\"commentauthor_12556565_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dyret\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dyret\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dyre Tjeldvoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12556565_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Jan\\/08 13:49\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-01-07T13:49:47+0000\'\u003e07\\/Jan\\/08 13:49\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Thanks for your feedback, Bryan and Knut. So it is indeed a consequence of   DERBY-827     \\n\\n Hmm, the strange part is that according to the call stack posted by Knut the error happens at SubShape.insert(SubShape.java:37): \\n\\n                                  \\/\\/ if nothing is new, then nothing to do \\n                                if (ps.executeUpdate() &gt; 0) { \\n\\n                                         \\/\\/ do pre stuff \\n                                        for (String stmt : sql.getProperty(\\\"pre\\\" \\n).split(\\\";\\\"))  \\n{\\n                                                ps = conn.prepareStatement(stmt)\\n;\\n                                                ps.executeUpdate();  \\/\\/ &lt;--- line 37\\n                                        }\\n\\n So this particular statement is AFAICT never re-executed. So, in theory,   DERBY-827   should not make a dfference here, and if I read James\' comment correctly, it is the prepared statement being re-executed at line 57 that seems to be the culprit. Meaning that preparing it prior to each execute removes the symptom... \\n\\n So we have to assume then, that some cruft left in the internal result set tree of this prepared statement SOMEHOW causes the newly prepared statement at line 37 to fail. Right now, I cannot imagine how that could happen...               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12556605\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3221?focusedCommentId=12556605&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12556605\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dyret\\\" id=\\\"commentauthor_12556605_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dyret\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dyret\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dyre Tjeldvoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12556605_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Jan\\/08 16:03\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-01-07T16:03:41+0000\'\u003e07\\/Jan\\/08 16:03\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThe ASSERT reported in a debug build is really a red herring and\u003cbr\\/\u003e\\nnot related to the original problem. I think the ASSERT simply is\u003cbr\\/\u003e\\ntoo strict as it does not allow what would be legal\u003cbr\\/\u003e\\nconversion. Simply modifying the queries so that they explicitly\u003cbr\\/\u003e\\nCAST all INTEGER values to BIGINT seems to remove that\u003cbr\\/\u003e\\nproblem (see attached modified_SubShape.properties), and exposes the\u003cbr\\/\u003e\\noriginal problem with the missing temporary conglomerate. And\u003cbr\\/\u003e\\nthat problem is only reported by the prepared statement that is\u003cbr\\/\u003e\\nactually re-executed, so that fits nicely with the \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-827\\\" title=\\\"Performance can be improved by re-using language ResultSets across Activation executions.\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-827\\\"\u003e\u003cdel\u003eDERBY-827\u003c\\/del\u003e\u003c\\/a\u003e\u003cbr\\/\u003e\\nhypothesis.\u003c\\/p\u003e\\n\\n\u003cp\u003eThe new call-stack from the line 57 (insert.test) statement shows\u003cbr\\/\u003e\\nthat the missing conglomerate error comes from (re-)using\u003cbr\\/\u003e\\nInsertResultSet.rowHolder. At first I thought the problem was\u003cbr\\/\u003e\\nthat close() isn\'t called on this object in\u003cbr\\/\u003e\\nInsertResultSet.close(), but then I noticed that\u003cbr\\/\u003e\\nnormalInsertCore() calls close() on it:\u003c\\/p\u003e\\n\\n\u003cp\u003e\\t\\tif (rowHolder != null)\u003c\\/p\u003e\\n\\t\\t{\\n\\t\\t\\trowHolder.close();\\n\\t\\t\\t\\/\\/ rowHolder kept across opens\\n\\t\\t} \\n\\n\u003cp\u003eThe comment doesn\'t really make sense since rowHolder, in fact,\u003cbr\\/\u003e\\nis closed. Anyway, the real problem is that code in the beginning\u003cbr\\/\u003e\\nof normalInsertCore() assumes that the comment is true, and only\u003cbr\\/\u003e\\ninitializes rowHolder on the first execute:\u003c\\/p\u003e\\n\\n\u003cp\u003e\\t\\tif (firstExecute &amp;&amp; constants.deferred)\u003c\\/p\u003e\\n\\t\\t{\\n\\t\\t\\tProperties properties = new Properties();\\n\\n\\t\\t\\t\\/\\/ Get the properties on the old heap\\n\\t\\t\\trowChanger.getHeapConglomerateController().getInternalTablePropertySet(properties);\\n\\n\\t\\t\\t\\/*\\n\\t\\t\\t** If deferred we save a copy of the entire row.\\n\\t\\t\\t*\\/\\n\\t\\t\\trowHolder = new TemporaryRowHolderImpl(activation, properties);\\n\\t\\t\\trowChanger.setRowHolder(rowHolder);\\n\\t\\t}\\n\\n\u003cp\u003eSimply commenting out firstExecute in the if-test (see attached\u003cbr\\/\u003e\\nderby-3221.prelim.diff) makes the repro run without problems. I\u003cbr\\/\u003e\\nhave not run any other tests with this change, nor do I know if\u003cbr\\/\u003e\\nthis is the right approach. But at least it points to what causes\u003cbr\\/\u003e\\nthe problem, and explains why it was introduced by \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-827\\\" title=\\\"Performance can be improved by re-using language ResultSets across Activation executions.\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-827\\\"\u003e\u003cdel\u003eDERBY-827\u003c\\/del\u003e\u003c\\/a\u003e.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dyret\\\" id=\\\"commentauthor_12556605_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dyret\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dyret\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dyre Tjeldvoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12556605_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Jan\\/08 16:03\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-01-07T16:03:41+0000\'\u003e07\\/Jan\\/08 16:03\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    The ASSERT reported in a debug build is really a red herring and \\nnot related to the original problem. I think the ASSERT simply is \\ntoo strict as it does not allow what would be legal \\nconversion. Simply modifying the queries so that they explicitly \\nCAST all INTEGER values to BIGINT seems to remove that \\nproblem (see attached modified_SubShape.properties), and exposes the \\noriginal problem with the missing temporary conglomerate. And \\nthat problem is only reported by the prepared statement that is \\nactually re-executed, so that fits nicely with the   DERBY-827   \\nhypothesis. \\n\\n The new call-stack from the line 57 (insert.test) statement shows \\nthat the missing conglomerate error comes from (re-)using \\nInsertResultSet.rowHolder. At first I thought the problem was \\nthat close() isn\'t called on this object in \\nInsertResultSet.close(), but then I noticed that \\nnormalInsertCore() calls close() on it: \\n\\n \\t\\tif (rowHolder != null) \\n\\t\\t{\\n\\t\\t\\trowHolder.close();\\n\\t\\t\\t\\/\\/ rowHolder kept across opens\\n\\t\\t} \\n\\n The comment doesn\'t really make sense since rowHolder, in fact, \\nis closed. Anyway, the real problem is that code in the beginning \\nof normalInsertCore() assumes that the comment is true, and only \\ninitializes rowHolder on the first execute: \\n\\n \\t\\tif (firstExecute &amp;&amp; constants.deferred) \\n\\t\\t{\\n\\t\\t\\tProperties properties = new Properties();\\n\\n\\t\\t\\t\\/\\/ Get the properties on the old heap\\n\\t\\t\\trowChanger.getHeapConglomerateController().getInternalTablePropertySet(properties);\\n\\n\\t\\t\\t\\/*\\n\\t\\t\\t** If deferred we save a copy of the entire row.\\n\\t\\t\\t*\\/\\n\\t\\t\\trowHolder = new TemporaryRowHolderImpl(activation, properties);\\n\\t\\t\\trowChanger.setRowHolder(rowHolder);\\n\\t\\t}\\n\\n Simply commenting out firstExecute in the if-test (see attached \\nderby-3221.prelim.diff) makes the repro run without problems. I \\nhave not run any other tests with this change, nor do I know if \\nthis is the right approach. But at least it points to what causes \\nthe problem, and explains why it was introduced by   DERBY-827  .              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12556852\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3221?focusedCommentId=12556852&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12556852\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dyret\\\" id=\\\"commentauthor_12556852_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dyret\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dyret\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dyre Tjeldvoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12556852_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Jan\\/08 09:23\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-01-08T09:23:27+0000\'\u003e08\\/Jan\\/08 09:23\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eMinor update: Knut suggested that I could try to comment out the call to rowHolder.close() rather than the firstExecute test to make the code match the comment. Unfortunately, when I tried it, I got the missing conglomerate error again, so it seems that keeping the rowHolder open is not enough to prevent the temp conglomerate from disappearing.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dyret\\\" id=\\\"commentauthor_12556852_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dyret\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dyret\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dyre Tjeldvoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12556852_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Jan\\/08 09:23\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-01-08T09:23:27+0000\'\u003e08\\/Jan\\/08 09:23\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Minor update: Knut suggested that I could try to comment out the call to rowHolder.close() rather than the firstExecute test to make the code match the comment. Unfortunately, when I tried it, I got the missing conglomerate error again, so it seems that keeping the rowHolder open is not enough to prevent the temp conglomerate from disappearing.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12557261\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3221?focusedCommentId=12557261&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12557261\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dyret\\\" id=\\\"commentauthor_12557261_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dyret\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dyret\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dyre Tjeldvoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12557261_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'09\\/Jan\\/08 13:24\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-01-09T13:24:29+0000\'\u003e09\\/Jan\\/08 13:24\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI did some more digging, and I now think I know how it should be fixed, (creating a new TemporaryRowHolderImpl object in each execution works, but is overkill). I noticed that the problem did not occur EVERY time a prepared statement was re-executed. Sometimes it would not fail until the 9th execution. \u003c\\/p\u003e\\n\\n\u003cp\u003eIt turns out that the problem was a lack of communication between TemporaryRowHolderImpl and  TemporaryRowHolderResultSet. When rows are inserted into the RowHolder it will fill as many rows as it can into its internal rowArray, before creating, and \\\"spilling over\\\" into a temporary conglomerate. \u003c\\/p\u003e\\n\\n\u003cp\u003eThe RowHolderResultSet  is used to read the rows back out, so it starts by returning the rows from the rowArray, and then proceeds with rows from the temporary conglomerate. Unfortunately, the RowHolder doesn\'t provide a proper API for checking if a temporary conglomerate has actually been created. To get around this RowHolderResultSet checks if  RowHolder.CID (the conglomerate id of the temporary conglomerate) is 0. If it is, RowHolderResultSet assumes that no temporary conglomerate has been created.\u003c\\/p\u003e\\n\\n\u003cp\u003eThis scheme worked well when internal result sets were not reused because then each execution started with a newly created RowHolder which had its CID member initialized to 0. But when results sets are reused this fact cannot be relied upon since CID it NOT set back to 0 by RowHolder.close(). \u003c\\/p\u003e\\n\\n\u003cp\u003eSo the error will ONLY surface when a prepared statement has caused the rowHolder to spill into a temporary conglomerate (thereby assigning a value != 0 to CID), and some subsequent execution does NOT spill over. Then when the latter execution tries to read from the RowHolderResultSet it will incorrectly look for a temporary conglomerate that was never created in the insert-phase.\u003c\\/p\u003e\\n\\n\u003cp\u003eI\'m currently running tests on a patch that provides an api for testing if the conglomerate has been created (and also sets CID to 0 in close()). I plan to upload it if the tests pass.\u003c\\/p\u003e\\n\\n\u003cp\u003e(There should probably be a regression test for this, but James\' repro does not have ASF license so I guess we can\'t just convert that to JUnit).\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dyret\\\" id=\\\"commentauthor_12557261_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dyret\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dyret\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dyre Tjeldvoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12557261_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'09\\/Jan\\/08 13:24\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-01-09T13:24:29+0000\'\u003e09\\/Jan\\/08 13:24\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I did some more digging, and I now think I know how it should be fixed, (creating a new TemporaryRowHolderImpl object in each execution works, but is overkill). I noticed that the problem did not occur EVERY time a prepared statement was re-executed. Sometimes it would not fail until the 9th execution.  \\n\\n It turns out that the problem was a lack of communication between TemporaryRowHolderImpl and  TemporaryRowHolderResultSet. When rows are inserted into the RowHolder it will fill as many rows as it can into its internal rowArray, before creating, and \\\"spilling over\\\" into a temporary conglomerate.  \\n\\n The RowHolderResultSet  is used to read the rows back out, so it starts by returning the rows from the rowArray, and then proceeds with rows from the temporary conglomerate. Unfortunately, the RowHolder doesn\'t provide a proper API for checking if a temporary conglomerate has actually been created. To get around this RowHolderResultSet checks if  RowHolder.CID (the conglomerate id of the temporary conglomerate) is 0. If it is, RowHolderResultSet assumes that no temporary conglomerate has been created. \\n\\n This scheme worked well when internal result sets were not reused because then each execution started with a newly created RowHolder which had its CID member initialized to 0. But when results sets are reused this fact cannot be relied upon since CID it NOT set back to 0 by RowHolder.close().  \\n\\n So the error will ONLY surface when a prepared statement has caused the rowHolder to spill into a temporary conglomerate (thereby assigning a value != 0 to CID), and some subsequent execution does NOT spill over. Then when the latter execution tries to read from the RowHolderResultSet it will incorrectly look for a temporary conglomerate that was never created in the insert-phase. \\n\\n I\'m currently running tests on a patch that provides an api for testing if the conglomerate has been created (and also sets CID to 0 in close()). I plan to upload it if the tests pass. \\n\\n (There should probably be a regression test for this, but James\' repro does not have ASF license so I guess we can\'t just convert that to JUnit).              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12557269\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3221?focusedCommentId=12557269&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12557269\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dyret\\\" id=\\\"commentauthor_12557269_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dyret\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dyret\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dyre Tjeldvoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12557269_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'09\\/Jan\\/08 13:40\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-01-09T13:40:13+0000\'\u003e09\\/Jan\\/08 13:40\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eAll tests pass (except jdbc4\\/ResultSetTest as reported in the Tinderbox test).\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dyret\\\" id=\\\"commentauthor_12557269_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dyret\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dyret\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dyre Tjeldvoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12557269_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'09\\/Jan\\/08 13:40\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-01-09T13:40:13+0000\'\u003e09\\/Jan\\/08 13:40\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    All tests pass (except jdbc4\\/ResultSetTest as reported in the Tinderbox test).              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12557287\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3221?focusedCommentId=12557287&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12557287\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"knutanders\\\" id=\\\"commentauthor_12557287_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=knutanders\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"knutanders\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Knut Anders Hatlen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12557287_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'09\\/Jan\\/08 14:53\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-01-09T14:53:11+0000\'\u003e09\\/Jan\\/08 14:53\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI think the fix looks good, but I\'m not completely convinced that (holder.CID == 0) is equivalent to (!holder.isConglomCreated()). In TemporaryRowHolderImpl.truncate(), conglomCreated is set to false, but CID is left untouched, so they may get out of sync. (But since truncate() first calls close(), which will drop the conglomerate, I don\'t think that this code will ever be executed. Perhaps it\'s better to remove it?) Similarly, TemporaryRowHolderResultSet.reStartScan() sets CID and leaves conglomCreated untouched. Do you think this can cause any problems?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"knutanders\\\" id=\\\"commentauthor_12557287_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=knutanders\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"knutanders\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Knut Anders Hatlen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12557287_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'09\\/Jan\\/08 14:53\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-01-09T14:53:11+0000\'\u003e09\\/Jan\\/08 14:53\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I think the fix looks good, but I\'m not completely convinced that (holder.CID == 0) is equivalent to (!holder.isConglomCreated()). In TemporaryRowHolderImpl.truncate(), conglomCreated is set to false, but CID is left untouched, so they may get out of sync. (But since truncate() first calls close(), which will drop the conglomerate, I don\'t think that this code will ever be executed. Perhaps it\'s better to remove it?) Similarly, TemporaryRowHolderResultSet.reStartScan() sets CID and leaves conglomCreated untouched. Do you think this can cause any problems?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12557291\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3221?focusedCommentId=12557291&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12557291\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dyret\\\" id=\\\"commentauthor_12557291_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dyret\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dyret\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dyre Tjeldvoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12557291_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'09\\/Jan\\/08 15:22\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-01-09T15:22:27+0000\'\u003e09\\/Jan\\/08 15:22\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eSigh... you are probably right. I guess that the safest thing to do is to stick with the CID==0 test, and set it to 0 whenever the temporary conglomerate is removed. But I think that a more explicit and intuitive predicate would have made the code easier to read. Come to think of it, I really loathe such \\\"cooperating classes\\\" where correct behavior depends on a shared state that\'s manipulated by both... but in this case I guess a smaller, less intrusive, change is preferable.\u003c\\/p\u003e\\n\\n\u003cp\u003eWrt. reStartScan(): I would assume that when you restart a scan must already have a CID from when the scan was first started (and so presumably conglomCreated is true), but I have not verified this, so yes it might be a problem.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dyret\\\" id=\\\"commentauthor_12557291_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dyret\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dyret\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dyre Tjeldvoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12557291_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'09\\/Jan\\/08 15:22\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-01-09T15:22:27+0000\'\u003e09\\/Jan\\/08 15:22\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Sigh... you are probably right. I guess that the safest thing to do is to stick with the CID==0 test, and set it to 0 whenever the temporary conglomerate is removed. But I think that a more explicit and intuitive predicate would have made the code easier to read. Come to think of it, I really loathe such \\\"cooperating classes\\\" where correct behavior depends on a shared state that\'s manipulated by both... but in this case I guess a smaller, less intrusive, change is preferable. \\n\\n Wrt. reStartScan(): I would assume that when you restart a scan must already have a CID from when the scan was first started (and so presumably conglomCreated is true), but I have not verified this, so yes it might be a problem.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12557355\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3221?focusedCommentId=12557355&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12557355\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"bryanpendleton\\\" id=\\\"commentauthor_12557355_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=bryanpendleton\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"bryanpendleton\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Bryan Pendleton\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12557355_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'09\\/Jan\\/08 17:45\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-01-09T17:45:13+0000\'\u003e09\\/Jan\\/08 17:45\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003e&gt; I really loathe such \\\"cooperating classes\\\" where correct behavior depends \u003cbr\\/\u003e\\n&gt; on a shared state that\'s manipulated by both\u003c\\/p\u003e\\n\\n\u003cp\u003eI think you are right to criticize this implementation. Perhaps a reasonable\u003cbr\\/\u003e\\napproach is to first make and verify the small fix, then later, separately,\u003cbr\\/\u003e\\nre-design this interaction as you suggest, with an explicit API for tracking\u003cbr\\/\u003e\\nwhether or not the temporary row holder overflowed to an explicit conglomerate or not.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"bryanpendleton\\\" id=\\\"commentauthor_12557355_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=bryanpendleton\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"bryanpendleton\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Bryan Pendleton\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12557355_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'09\\/Jan\\/08 17:45\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-01-09T17:45:13+0000\'\u003e09\\/Jan\\/08 17:45\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    &gt; I really loathe such \\\"cooperating classes\\\" where correct behavior depends  \\n&gt; on a shared state that\'s manipulated by both \\n\\n I think you are right to criticize this implementation. Perhaps a reasonable \\napproach is to first make and verify the small fix, then later, separately, \\nre-design this interaction as you suggest, with an explicit API for tracking \\nwhether or not the temporary row holder overflowed to an explicit conglomerate or not.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12557979\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3221?focusedCommentId=12557979&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12557979\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"northshorefiend\\\" id=\\\"commentauthor_12557979_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=northshorefiend\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"northshorefiend\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e James Alan Shepherd\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12557979_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'11\\/Jan\\/08 13:10\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-01-11T13:10:29+0000\'\u003e11\\/Jan\\/08 13:10\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eFYI: \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-39\\\" title=\\\"Strange error in JOIN ON clause\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-39\\\"\u003e\u003cdel\u003eDERBY-39\u003c\\/del\u003e\u003c\\/a\u003e may be connected?\u003c\\/p\u003e\\n\\n\u003cp\u003eI can\'t see how, but I can use almost the same test case as above to reproduce \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-39\\\" title=\\\"Strange error in JOIN ON clause\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-39\\\"\u003e\u003cdel\u003eDERBY-39\u003c\\/del\u003e\u003c\\/a\u003e\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"northshorefiend\\\" id=\\\"commentauthor_12557979_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=northshorefiend\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"northshorefiend\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e James Alan Shepherd\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12557979_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'11\\/Jan\\/08 13:10\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-01-11T13:10:29+0000\'\u003e11\\/Jan\\/08 13:10\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    FYI:   DERBY-39   may be connected? \\n\\n I can\'t see how, but I can use almost the same test case as above to reproduce   DERBY-39                \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12558015\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3221?focusedCommentId=12558015&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12558015\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dyret\\\" id=\\\"commentauthor_12558015_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dyret\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dyret\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dyre Tjeldvoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12558015_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'11\\/Jan\\/08 16:10\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-01-11T16:10:11+0000\'\u003e11\\/Jan\\/08 16:10\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThanks James,\u003cbr\\/\u003e\\nI took your \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-39\\\" title=\\\"Strange error in JOIN ON clause\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-39\\\"\u003e\u003cdel\u003eDERBY-39\u003c\\/del\u003e\u003c\\/a\u003e repro for a spin, but unfortunately I keep hitting \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-3310\\\" title=\\\"ASSERT in MergeSort.checkColumnTypes() disallow legal type conversions\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-3310\\\"\u003e\u003cdel\u003eDERBY-3310\u003c\\/del\u003e\u003c\\/a\u003e and this time I don\'t seem to be able to work around it with a cast, so I need to manually disable the ASSERT, I think.\u003c\\/p\u003e\\n\\n\u003cp\u003eI\'m currently running tests for a new version of my patch, where I\u003c\\/p\u003e\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003erevert back to testing the presence of a temp conglom with CID==0\u003c\\/li\u003e\\n\\t\u003cli\u003emake CID private\u003c\\/li\u003e\\n\\t\u003cli\u003emake clients (TemporaryRowHolderResultSet) use the existing accessor (getTemporaryConglomId())\u003c\\/li\u003e\\n\\t\u003cli\u003ealways set CID to 0, when conglomCreated is set to false and the conglomerate is removed\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003eRight now I\'m providing a mutator for CID that reStartScan can use, but I cannot see what purpose this really serves. Changing the CID behind the owning class\' back like that seems like it has the potential to introduce both leaks and inconsistencies. I\'m trying to flag any situation where a conglomerate could be leaked, or the holder left in an inconsistent state, and see if this actually happens in the tests. \u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dyret\\\" id=\\\"commentauthor_12558015_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dyret\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dyret\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dyre Tjeldvoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12558015_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'11\\/Jan\\/08 16:10\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-01-11T16:10:11+0000\'\u003e11\\/Jan\\/08 16:10\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Thanks James, \\nI took your   DERBY-39   repro for a spin, but unfortunately I keep hitting   DERBY-3310   and this time I don\'t seem to be able to work around it with a cast, so I need to manually disable the ASSERT, I think. \\n\\n I\'m currently running tests for a new version of my patch, where I \\n \\n\\t revert back to testing the presence of a temp conglom with CID==0 \\n\\t make CID private \\n\\t make clients (TemporaryRowHolderResultSet) use the existing accessor (getTemporaryConglomId()) \\n\\t always set CID to 0, when conglomCreated is set to false and the conglomerate is removed \\n \\n\\n\\n Right now I\'m providing a mutator for CID that reStartScan can use, but I cannot see what purpose this really serves. Changing the CID behind the owning class\' back like that seems like it has the potential to introduce both leaks and inconsistencies. I\'m trying to flag any situation where a conglomerate could be leaked, or the holder left in an inconsistent state, and see if this actually happens in the tests.               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12558609\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3221?focusedCommentId=12558609&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12558609\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dyret\\\" id=\\\"commentauthor_12558609_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dyret\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dyret\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dyre Tjeldvoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12558609_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'14\\/Jan\\/08 14:10\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-01-14T14:10:57+0000\'\u003e14\\/Jan\\/08 14:10\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI looked into the use of\u003cbr\\/\u003e\\nTemporaryRowHolderResultSet.reStartScan(long, long) some more, and\u003cbr\\/\u003e\\nit turns out that it is only used a couple of places in\u003cbr\\/\u003e\\nDependentResultSet. In all of those cases the two arguments are\u003cbr\\/\u003e\\nobtained from the very same TemporaryRowHolderImpl object\u003cbr\\/\u003e\\nwhich this TemporaryRowHolderResultSet refers to. So those\u003cbr\\/\u003e\\nparameters are unnecessary, and the temporary conglomerate id is\u003cbr\\/\u003e\\nnever actually modified by reStartScan().\u003c\\/p\u003e\\n\\n\u003cp\u003eI\'m currently testing a new patch which does include a mutator for the CID\u003cbr\\/\u003e\\nvariable, but which also has an ASSERT which verifies that the\u003cbr\\/\u003e\\nnew and old values are identical.\u003c\\/p\u003e\\n\\n\u003cp\u003eAs suggested by Bryan, I defer a more thorough cleanup to a later patch.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dyret\\\" id=\\\"commentauthor_12558609_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dyret\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dyret\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dyre Tjeldvoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12558609_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'14\\/Jan\\/08 14:10\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-01-14T14:10:57+0000\'\u003e14\\/Jan\\/08 14:10\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I looked into the use of \\nTemporaryRowHolderResultSet.reStartScan(long, long) some more, and \\nit turns out that it is only used a couple of places in \\nDependentResultSet. In all of those cases the two arguments are \\nobtained from the very same TemporaryRowHolderImpl object \\nwhich this TemporaryRowHolderResultSet refers to. So those \\nparameters are unnecessary, and the temporary conglomerate id is \\nnever actually modified by reStartScan(). \\n\\n I\'m currently testing a new patch which does include a mutator for the CID \\nvariable, but which also has an ASSERT which verifies that the \\nnew and old values are identical. \\n\\n As suggested by Bryan, I defer a more thorough cleanup to a later patch.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12558663\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3221?focusedCommentId=12558663&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12558663\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dyret\\\" id=\\\"commentauthor_12558663_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dyret\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dyret\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dyre Tjeldvoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12558663_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'14\\/Jan\\/08 16:41\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-01-14T16:41:52+0000\'\u003e14\\/Jan\\/08 16:41\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eNew patch (v2) (described in previous comments).\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dyret\\\" id=\\\"commentauthor_12558663_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dyret\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dyret\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dyre Tjeldvoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12558663_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'14\\/Jan\\/08 16:41\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-01-14T16:41:52+0000\'\u003e14\\/Jan\\/08 16:41\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    New patch (v2) (described in previous comments).              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12559410\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3221?focusedCommentId=12559410&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12559410\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"knutanders\\\" id=\\\"commentauthor_12559410_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=knutanders\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"knutanders\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Knut Anders Hatlen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12559410_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'16\\/Jan\\/08 09:31\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-01-16T09:31:30+0000\'\u003e16\\/Jan\\/08 09:31\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003ePatch v2 looks good. Adding a getter and a setter for CID and making it private was a good move. +1 to commit.\u003c\\/p\u003e\\n\\n\u003cp\u003eTwo small issues that you may want to address:\u003c\\/p\u003e\\n\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003eThe patch adds some whitespace in TemporaryRowHolderImpl.java right above makeIndexProperties()\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003eIt looks a bit odd to have an assert inside the mutator to ensure that it doesn\'t mutate the field. It also makes the method useless for others who may have a perfectly legitimate reason to mutate the field. Perhaps it\'s better to move the assert to the caller, since that\'s the context where the assert is meaningful.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"knutanders\\\" id=\\\"commentauthor_12559410_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=knutanders\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"knutanders\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Knut Anders Hatlen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12559410_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'16\\/Jan\\/08 09:31\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-01-16T09:31:30+0000\'\u003e16\\/Jan\\/08 09:31\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Patch v2 looks good. Adding a getter and a setter for CID and making it private was a good move. +1 to commit. \\n\\n Two small issues that you may want to address: \\n\\n \\n\\t The patch adds some whitespace in TemporaryRowHolderImpl.java right above makeIndexProperties() \\n \\n\\n\\n \\n\\t It looks a bit odd to have an assert inside the mutator to ensure that it doesn\'t mutate the field. It also makes the method useless for others who may have a perfectly legitimate reason to mutate the field. Perhaps it\'s better to move the assert to the caller, since that\'s the context where the assert is meaningful. \\n \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12559977\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3221?focusedCommentId=12559977&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12559977\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dyret\\\" id=\\\"commentauthor_12559977_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dyret\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dyret\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dyre Tjeldvoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12559977_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Jan\\/08 16:22\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-01-17T16:22:42+0000\'\u003e17\\/Jan\\/08 16:22\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eAttaching v3 to address Knut\'s latest comments. I was about to say that he just has to live with the white space diff since that\'s what Netbeans does, but then I softened up and edited the file in emacs... \u003cimg class=\\\"emoticon\\\" src=\\\"\\/jira\\/images\\/icons\\/emoticons\\/smile.png\\\" height=\\\"16\\\" width=\\\"16\\\" align=\\\"absmiddle\\\" alt=\\\"\\\" border=\\\"0\\\"\\/\u003e\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dyret\\\" id=\\\"commentauthor_12559977_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dyret\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dyret\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dyre Tjeldvoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12559977_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Jan\\/08 16:22\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-01-17T16:22:42+0000\'\u003e17\\/Jan\\/08 16:22\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Attaching v3 to address Knut\'s latest comments. I was about to say that he just has to live with the white space diff since that\'s what Netbeans does, but then I softened up and edited the file in emacs...                \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12560319\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3221?focusedCommentId=12560319&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12560319\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dyret\\\" id=\\\"commentauthor_12560319_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dyret\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dyret\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dyre Tjeldvoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12560319_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'18\\/Jan\\/08 09:54\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-01-18T09:54:57+0000\'\u003e18\\/Jan\\/08 09:54\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eCommitted revision 613116.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dyret\\\" id=\\\"commentauthor_12560319_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dyret\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dyret\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dyre Tjeldvoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12560319_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'18\\/Jan\\/08 09:54\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-01-18T09:54:57+0000\'\u003e18\\/Jan\\/08 09:54\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Committed revision 613116.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12562122\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3221?focusedCommentId=12562122&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12562122\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kmarsden\\\" id=\\\"commentauthor_12562122_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kmarsden\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kmarsden\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Kathey Marsden\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12562122_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'24\\/Jan\\/08 16:28\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-01-24T16:28:09+0000\'\u003e24\\/Jan\\/08 16:28\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eWould it make sense to port this to 10.3?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kmarsden\\\" id=\\\"commentauthor_12562122_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kmarsden\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kmarsden\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Kathey Marsden\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12562122_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'24\\/Jan\\/08 16:28\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-01-24T16:28:09+0000\'\u003e24\\/Jan\\/08 16:28\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Would it make sense to port this to 10.3?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12562138\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3221?focusedCommentId=12562138&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12562138\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dyret\\\" id=\\\"commentauthor_12562138_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dyret\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dyret\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dyre Tjeldvoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12562138_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'24\\/Jan\\/08 17:30\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-01-24T17:30:27+0000\'\u003e24\\/Jan\\/08 17:30\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI would think so. I can try to do that tomorrow. I probably need to practice my merging skills...  \u003cimg class=\\\"emoticon\\\" src=\\\"\\/jira\\/images\\/icons\\/emoticons\\/smile.png\\\" height=\\\"16\\\" width=\\\"16\\\" align=\\\"absmiddle\\\" alt=\\\"\\\" border=\\\"0\\\"\\/\u003e\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dyret\\\" id=\\\"commentauthor_12562138_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dyret\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dyret\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dyre Tjeldvoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12562138_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'24\\/Jan\\/08 17:30\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-01-24T17:30:27+0000\'\u003e24\\/Jan\\/08 17:30\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I would think so. I can try to do that tomorrow. I probably need to practice my merging skills...                 \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12562585\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3221?focusedCommentId=12562585&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12562585\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dyret\\\" id=\\\"commentauthor_12562585_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dyret\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dyret\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dyre Tjeldvoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12562585_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Jan\\/08 17:16\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-01-25T17:16:28+0000\'\u003e25\\/Jan\\/08 17:16\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eMerged to 10.3 with revision 615273\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dyret\\\" id=\\\"commentauthor_12562585_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dyret\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dyret\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dyre Tjeldvoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12562585_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Jan\\/08 17:16\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-01-25T17:16:28+0000\'\u003e25\\/Jan\\/08 17:16\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Merged to 10.3 with revision 615273              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12562614\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3221?focusedCommentId=12562614&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12562614\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"hallorant\\\" id=\\\"commentauthor_12562614_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=hallorant\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"hallorant\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Tim Halloran\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12562614_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Jan\\/08 18:30\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-01-25T18:30:38+0000\'\u003e25\\/Jan\\/08 18:30\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eAny idea when 10.3.2.2 will be released?  I couldn\'t find a download for it yet on the site.  Best regards\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"hallorant\\\" id=\\\"commentauthor_12562614_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=hallorant\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"hallorant\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Tim Halloran\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12562614_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Jan\\/08 18:30\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-01-25T18:30:38+0000\'\u003e25\\/Jan\\/08 18:30\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Any idea when 10.3.2.2 will be released?  I couldn\'t find a download for it yet on the site.  Best regards              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12562850\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3221?focusedCommentId=12562850&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12562850\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dyret\\\" id=\\\"commentauthor_12562850_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dyret\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dyret\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dyre Tjeldvoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12562850_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'26\\/Jan\\/08 12:32\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-01-26T12:32:11+0000\'\u003e26\\/Jan\\/08 12:32\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eHi Tim, \u003c\\/p\u003e\\n\\n\u003cp\u003emy understanding is that there are no specific plans to make another 10.3 release, (such a release would be numbered 10.3.3.x for some x which depends on the number of release candidates needed). Check out Kathey Marsden\'s reply to my related question about this on derby-dev:\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"http:\\/\\/www.nabble.com\\/Confused-about-merging-and-fix-versions-to15092390.html\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/www.nabble.com\\/Confused-about-merging-and-fix-versions-to15092390.html\u003c\\/a\u003e\u003c\\/p\u003e\\n\\n\u003cp\u003eAs the release manager for 10.4 (which definitely will have this fix) I guess it is my job to convince you to switch to that \u003cimg class=\\\"emoticon\\\" src=\\\"\\/jira\\/images\\/icons\\/emoticons\\/smile.png\\\" height=\\\"16\\\" width=\\\"16\\\" align=\\\"absmiddle\\\" alt=\\\"\\\" border=\\\"0\\\"\\/\u003e  Anyway, you can read about it here (please note that as this is open-source the dates on this page are goals, not definite promises):\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"http:\\/\\/wiki.apache.org\\/db-derby\\/DerbyTenFourRelease\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/wiki.apache.org\\/db-derby\\/DerbyTenFourRelease\u003c\\/a\u003e\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dyret\\\" id=\\\"commentauthor_12562850_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dyret\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dyret\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dyre Tjeldvoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12562850_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'26\\/Jan\\/08 12:32\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-01-26T12:32:11+0000\'\u003e26\\/Jan\\/08 12:32\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Hi Tim,  \\n\\n my understanding is that there are no specific plans to make another 10.3 release, (such a release would be numbered 10.3.3.x for some x which depends on the number of release candidates needed). Check out Kathey Marsden\'s reply to my related question about this on derby-dev: \\n\\n  http:\\/\\/www.nabble.com\\/Confused-about-merging-and-fix-versions-to15092390.html  \\n\\n As the release manager for 10.4 (which definitely will have this fix) I guess it is my job to convince you to switch to that    Anyway, you can read about it here (please note that as this is open-source the dates on this page are goals, not definite promises): \\n\\n  http:\\/\\/wiki.apache.org\\/db-derby\\/DerbyTenFourRelease               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12563232\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3221?focusedCommentId=12563232&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12563232\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"army\\\" id=\\\"commentauthor_12563232_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=army\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"army\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e A B\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12563232_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Jan\\/08 18:29\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-01-28T18:29:02+0000\'\u003e28\\/Jan\\/08 18:29\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003edyre&gt; my understanding is that there are no specific plans to make another 10.3 release\u003c\\/p\u003e\\n\\n\u003cp\u003eFor what it\'s worth, I think that in \u003cb\u003etheory\u003c\\/b\u003e it should be safe to use a \\\"personal\\\" build off the 10.3 branch in a production environment.  At least, that is one of the goals of a stable branch, so far as I understand it.  Note the following line from the Apache Derby home page:\u003c\\/p\u003e\\n\\n\u003cp\u003e  \u003ca href=\\\"http:\\/\\/db.apache.org\\/derby\\/dev\\/derby_source.html#Branches\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/db.apache.org\\/derby\\/dev\\/derby_source.html#Branches\u003c\\/a\u003e\u003c\\/p\u003e\\n\\n\u003cp\u003e  \\\"Production use of Derby should use official Derby releases or snapshot builds off\u003cbr\\/\u003e\\n    the branches (or self built jars off the branches with bug fixes).\\\"\u003c\\/p\u003e\\n\\n\u003cp\u003eThe parenthetical at the end is what I\'m referring to.  So Tim, you could in theory build your own jars off the 10.3 branch and use that in production, if waiting for 10.4 is not an option...\u003c\\/p\u003e\\n\\n\u003cp\u003eUnless of course the above-quoted page is wrong, in which case I hope someone a) corrects me rather quickly, and b) updates the page accordingly...\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"army\\\" id=\\\"commentauthor_12563232_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=army\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"army\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e A B\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12563232_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Jan\\/08 18:29\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-01-28T18:29:02+0000\'\u003e28\\/Jan\\/08 18:29\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    dyre&gt; my understanding is that there are no specific plans to make another 10.3 release \\n\\n For what it\'s worth, I think that in  theory  it should be safe to use a \\\"personal\\\" build off the 10.3 branch in a production environment.  At least, that is one of the goals of a stable branch, so far as I understand it.  Note the following line from the Apache Derby home page: \\n\\n    http:\\/\\/db.apache.org\\/derby\\/dev\\/derby_source.html#Branches  \\n\\n   \\\"Production use of Derby should use official Derby releases or snapshot builds off \\n    the branches (or self built jars off the branches with bug fixes).\\\" \\n\\n The parenthetical at the end is what I\'m referring to.  So Tim, you could in theory build your own jars off the 10.3 branch and use that in production, if waiting for 10.4 is not an option... \\n\\n Unless of course the above-quoted page is wrong, in which case I hope someone a) corrects me rather quickly, and b) updates the page accordingly...              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\"";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["scope-filter-data"]="{\"createScopeActions\":[],\"scopes\":[]}";
WRM._unparsedData["sidebar-collapsed-by-default"]="true";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:can-manage"]="false";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:with-icons"]="false";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:shortcuts"]="[]";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:project-id"]="10594";
WRM._unparsedData["sidebar-id"]="\"\u003cdiv class=\\\"aui-sidebar  projects-sidebar sidebar-pending\\\" \u003e\u003cdiv class=\\\"aui-sidebar-wrapper\\\"\u003e\u003cdiv class=\\\"aui-sidebar-body\\\"\u003e\u003cheader class=\\\"aui-page-header\\\"\u003e\u003cdiv class=\\\"aui-page-header-inner\\\"\u003e\u003cdiv class=\\\"aui-page-header-image\\\"\u003e\u003ca href=\\\"\\/jira\\/projects\\/DERBY\\/summary\\\" title=\\\"Derby\\\" class=\\\"jira-project-avatar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-large aui-avatar-project\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"\\/jira\\/secure\\/projectavatar?pid=10594&amp;avatarId=10122\\\" alt=\\\"Derby\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e\u003cimg src=\\\"data:image\\/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI\\/Pg0KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE4LjEuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPg0KPHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgdmlld0JveD0iMCAwIDMwMCAzMDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMwMCAzMDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxnIGlkPSJMYXllcl8yIj4NCgk8cGF0aCBzdHlsZT0iZmlsbDojRjc5MjMyOyIgZD0iTTE1MCwwQzY2LjY2NywwLDAsNjYuNjY3LDAsMTUwczY2LjY2NywxNTAsMTUwLDE1MHMxNTAtNjYuNjY3LDE1MC0xNTBTMjMzLjMzMywwLDE1MCwweg0KCQkgTTEzNi42NjcsMTc4LjMzM0wxMjUsMTkwbC00MS42NjctNDBMOTUsMTM4LjMzM2wzMC0zMEwxMzYuNjY3LDEyMGwtMzAsMzBMMTM2LjY2NywxNzguMzMzeiBNMjA1LDE2MS42NjdsLTMwLDMwTDE2My4zMzMsMTgwDQoJCWwzMC0zMGwtMzAtMzBMMTc1LDEwOC4zMzNMMjE2LjY2NywxNTBMMjA1LDE2MS42Njd6Ii8+DQo8L2c+DQo8Zz4NCgk8cG9seWdvbiBzdHlsZT0iZmlsbDojRkZGRkZGOyIgcG9pbnRzPSIxNzUsMTkxLjY2NyAyMDUsMTYxLjY2NyAyMTYuNjY3LDE1MCAxNzUsMTA4LjMzMyAxNjMuMzMzLDEyMCAxOTMuMzMzLDE1MCAxNjMuMzMzLDE4MCAJIi8+DQoJPHBvbHlnb24gc3R5bGU9ImZpbGw6I0ZGRkZGRjsiIHBvaW50cz0iMTI1LDEwOC4zMzMgOTUsMTM4LjMzMyA4My4zMzMsMTUwIDEyNSwxOTAgMTM2LjY2NywxNzguMzMzIDEwNi42NjcsMTUwIDEzNi42NjcsMTIwIAkiLz4NCjwvZz4NCjwvc3ZnPg0K\\\" alt=\\\"Icon indicating the project type\\\" class=\\\"jira-project-avatar-icon\\\" \\/\u003e\u003c\\/a\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-image --\u003e\u003cdiv class=\\\"aui-page-header-main\\\"\u003e\u003ch1\u003e\u003cdiv class=\\\"aui-group aui-group-split\\\"\u003e\u003cdiv class=\\\"aui-item project-title\\\"\u003e\u003ca href=\\\"\\/jira\\/projects\\/DERBY\\/summary\\\" title=\\\"Derby\\\"\u003eDerby\u003c\\/a\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/h1\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-main --\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-inner --\u003e\u003c\\/header\u003e\u003c!-- .aui-page-header --\u003e\u003cnav class=\\\"aui-navgroup aui-navgroup-vertical\\\"\u003e\u003cdiv class=\\\"aui-navgroup-inner sidebar-content-container\\\"\u003e\u003cdiv class=\\\"aui-sidebar-group aui-sidebar-group-tier-one\\\" data-id=\\\"sidebar-navigation-panel\\\"\u003e\u003cul class=\\\"aui-nav\\\"\u003e\u003cli class=\\\"aui-nav-selected\\\" \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/DERBY\\/issues\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-issue-navigator:sidebar-issue-navigator\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large icon-sidebar-issues\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Issues\\\"\u003eIssues\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003cli  \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/DERBY?selectedItem=com.atlassian.jira.jira-projects-plugin:report-page\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-plugin:report-page\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large agile-icon-report\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Reports\\\"\u003eReports\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003cli  \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/DERBY?selectedItem=com.atlassian.jira.jira-projects-plugin:components-page\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-plugin:components-page\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large icon-sidebar-components\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Components\\\"\u003eComponents\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003c\\/ul\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/nav\u003e\u003c\\/div\u003e\u003cdiv class=\\\"aui-sidebar-footer\\\"\u003e\u003ca class=\\\"aui-button aui-button-subtle aui-sidebar-toggle aui-sidebar-footer-tipsy\\\" data-tooltip=\\\"Expand sidebar ( [ )\\\" href=\\\"#\\\"\u003e\u003cspan class=\\\"aui-icon aui-icon-small\\\"\u003e\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/div\u003e\"";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:bigpipe-init/jira.webresources:bigpipe-init.js" data-wrm-key="jira.webresources:bigpipe-init" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <form id="jira_request_timing_info" class="dont-default-focus"> 
   <fieldset class="parameters hidden"> 
    <input type="hidden" title="jira.request.start.millis" value="1520239226610"> 
    <input type="hidden" title="jira.request.server.time" value="343"> 
    <input type="hidden" title="jira.request.id" value="520x94383161x2"> 
    <input type="hidden" title="jira.session.expiry.time" value="-"> 
    <input type="hidden" title="jira.session.expiry.in.mins" value="-"> 
    <input id="jiraConcurrentRequests" type="hidden" name="jira.request.concurrent.requests" value="3"> 
    <input type="hidden" title="db.reads.time.in.ms" value="34"> 
    <input type="hidden" title="db.conns.time.in.ms" value="39"> 
   </fieldset> 
  </form> 
  <!--
	                 REQUEST ID : 520x94383161x2
	          REQUEST TIMESTAMP : [05/Mar/2018:08:40:26 +0000]
	               REQUEST TIME : 0.3430
	                 ASESSIONID : -
	        CONCURRENT REQUESTS : 3

	                      db.reads : OpSnapshot{name='db.reads', invocationCount=25, elapsedTotal=34126925, elapsedMin=515366, elapsedMax=12582379, resultSetSize=0, cpuTotal=0, cpuMin=0, cpuMax=0}
	                      db.conns : OpSnapshot{name='db.conns', invocationCount=29, elapsedTotal=39757263, elapsedMin=552084, elapsedMax=12609885, resultSetSize=0, cpuTotal=0, cpuMin=0, cpuMax=0}
-->   
 </body>
</html>