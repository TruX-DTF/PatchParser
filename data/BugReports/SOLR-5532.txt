<!doctype html>
<html lang="en">
 <head> 
  <meta charset="utf-8"> 
  <meta http-equiv="X-UA-Compatible" content="IE=Edge"> 
  <meta name="application-name" content="JIRA" data-name="jira" data-version="7.6.3">
  <meta name="ajs-viewissue-use-history-api" content="false"> 
  <meta name="ajs-jira-base-url" content="https://issues.apache.org/jira"> 
  <meta name="ajs-serverRenderedViewIssue" content="true"> 
  <meta name="ajs-dev-mode" content="false"> 
  <meta name="ajs-context-path" content="/jira"> 
  <meta name="ajs-version-number" content="7.6.3"> 
  <meta name="ajs-build-number" content="76005"> 
  <meta name="ajs-is-beta" content="false"> 
  <meta name="ajs-is-rc" content="false"> 
  <meta name="ajs-is-snapshot" content="false"> 
  <meta name="ajs-is-milestone" content="false"> 
  <meta name="ajs-remote-user" content=""> 
  <meta name="ajs-remote-user-fullname" content=""> 
  <meta name="ajs-user-locale" content="en_UK"> 
  <meta name="ajs-user-locale-group-separator" content=","> 
  <meta name="ajs-app-title" content="ASF JIRA"> 
  <meta name="ajs-keyboard-shortcuts-enabled" content="true"> 
  <meta name="ajs-keyboard-accesskey-modifier" content="Ctrl+Alt"> 
  <meta name="ajs-enabled-dark-features" content="[&quot;com.atlassian.jira.agile.darkfeature.editable.detailsview&quot;,&quot;nps.survey.inline.dialog&quot;,&quot;com.atlassian.jira.agile.darkfeature.edit.closed.sprint.enabled&quot;,&quot;jira.plugin.devstatus.phasetwo&quot;,&quot;jira.frother.reporter.field&quot;,&quot;atlassian.rest.xsrf.legacy.enabled&quot;,&quot;jira.issue.status.lozenge&quot;,&quot;com.atlassian.jira.config.BIG_PIPE&quot;,&quot;com.atlassian.jira.projects.issuenavigator&quot;,&quot;com.atlassian.jira.config.PDL&quot;,&quot;jira.plugin.devstatus.phasetwo.enabled&quot;,&quot;atlassian.aui.raphael.disabled&quot;,&quot;app-switcher.new&quot;,&quot;frother.assignee.field&quot;,&quot;com.atlassian.jira.projects.ProjectCentricNavigation.Switch&quot;,&quot;sd.internal.base.off.thread.on.completion.events.enabled&quot;,&quot;jira.onboarding.cyoa&quot;,&quot;com.atlassian.jira.agile.darkfeature.kanplan.enabled&quot;,&quot;sd.slavalue.record.updated.date.enabled&quot;,&quot;com.atlassian.jira.config.ProjectConfig.MENU&quot;,&quot;com.atlassian.jira.projects.sidebar.DEFER_RESOURCES&quot;,&quot;com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions.enabled&quot;,&quot;com.atlassian.jira.agile.darkfeature.sprint.goal.enabled&quot;,&quot;jira.zdu.admin-updates-ui&quot;,&quot;jira.zdu.jmx-monitoring&quot;,&quot;sd.sla.improved.rendering.enabled&quot;,&quot;sd.canned.responses.enabled&quot;,&quot;sd.new.settings.sidebar.location.disabled&quot;,&quot;jira.zdu.cluster-upgrade-state&quot;,&quot;com.atlassian.jira.agile.darkfeature.splitissue&quot;,&quot;com.atlassian.jira.config.CoreFeatures.LICENSE_ROLES_ENABLED&quot;,&quot;com.atlassian.feedback.feedback-button-move-to-header-enable&quot;,&quot;jira.export.csv.enabled&quot;]"> 
  <meta name="ajs-in-admin-mode" content="false"> 
  <meta name="ajs-is-sysadmin" content="false"> 
  <meta name="ajs-is-admin" content="false"> 
  <meta name="ajs-outgoing-mail-enabled" content="true"> 
  <meta name="ajs-date-relativize" content="true"> 
  <meta name="ajs-date-time" content="HH:mm"> 
  <meta name="ajs-date-day" content="EEEE HH:mm"> 
  <meta name="ajs-date-dmy" content="dd/MMM/yy"> 
  <meta name="ajs-date-complete" content="dd/MMM/yy HH:mm"> 
  <script type="text/javascript">var AJS=AJS||{};AJS.debug=true;</script> 
  <meta id="atlassian-token" name="atlassian-token" content="A5KQ-2QAV-T4JA-FDED|d95800ee634dce6f069611c8aa5bef5197274df7|lout"> 
  <link rel="shortcut icon" href="/jira/s/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/_/favicon.ico"> 
  <!--[if IE]><![endif]--> 
  <script type="text/javascript">
    (function() {
        var contextPath = '/jira';
        var eventBuffer = [];

        function printDeprecatedMsg() {
            if (console && console.warn) {
                console.warn('DEPRECATED JS - contextPath global variable has been deprecated since 7.4.0. Use `wrm/context-path` module instead.');
            }
        }

        function sendEvent(analytics, postfix) {
            analytics.send({
                name: 'js.globals.contextPath.' + postfix
            });
        }

        function sendDeprecatedEvent(postfix) {
            try {
                var analytics = require('jira/analytics');
                if (eventBuffer.length) {
                    eventBuffer.forEach(function(value) {
                        sendEvent(analytics, value);
                    });
                    eventBuffer = [];
                }

                if (postfix) {
                    sendEvent(analytics, postfix);
                }
            } catch(ex) {
                eventBuffer.push(postfix);
                setTimeout(sendDeprecatedEvent, 1000);
            }
        }

        Object.defineProperty(window, 'contextPath', {
            get: function() {
                printDeprecatedMsg();
                sendDeprecatedEvent('get');
                return contextPath;
            },
            set: function(value) {
                printDeprecatedMsg();
                sendDeprecatedEvent('set');
                contextPath = value;
            }
        });
    })();

</script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["com.atlassian.plugins.atlassian-plugins-webresource-plugin:context-path.context-path"]="\"/jira\"";
WRM._unparsedData["jira.webresources:feature-flags.feature-flag-data"]="{\"enabled-feature-keys\":[\"com.atlassian.jira.agile.darkfeature.editable.detailsview\",\"nps.survey.inline.dialog\",\"com.atlassian.jira.agile.darkfeature.edit.closed.sprint.enabled\",\"jira.plugin.devstatus.phasetwo\",\"jira.frother.reporter.field\",\"atlassian.rest.xsrf.legacy.enabled\",\"jira.issue.status.lozenge\",\"com.atlassian.jira.config.BIG_PIPE\",\"com.atlassian.jira.projects.issuenavigator\",\"com.atlassian.jira.config.PDL\",\"jira.plugin.devstatus.phasetwo.enabled\",\"atlassian.aui.raphael.disabled\",\"app-switcher.new\",\"frother.assignee.field\",\"com.atlassian.jira.projects.ProjectCentricNavigation.Switch\",\"sd.internal.base.off.thread.on.completion.events.enabled\",\"jira.onboarding.cyoa\",\"com.atlassian.jira.agile.darkfeature.kanplan.enabled\",\"sd.slavalue.record.updated.date.enabled\",\"com.atlassian.jira.config.ProjectConfig.MENU\",\"com.atlassian.jira.projects.sidebar.DEFER_RESOURCES\",\"com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions.enabled\",\"com.atlassian.jira.agile.darkfeature.sprint.goal.enabled\",\"jira.zdu.admin-updates-ui\",\"jira.zdu.jmx-monitoring\",\"sd.sla.improved.rendering.enabled\",\"sd.canned.responses.enabled\",\"sd.new.settings.sidebar.location.disabled\",\"jira.zdu.cluster-upgrade-state\",\"com.atlassian.jira.agile.darkfeature.splitissue\",\"com.atlassian.jira.config.CoreFeatures.LICENSE_ROLES_ENABLED\",\"com.atlassian.feedback.feedback-button-move-to-header-enable\",\"jira.export.csv.enabled\"],\"feature-flag-states\":{\"com.atlassian.jira.agile.darkfeature.kanplan\":false,\"sd.internal.base.off.thread.on.completion.events\":false,\"jira.instrumentation.laas\":false,\"com.atlassian.jira.agile.darkfeature.edit.closed.sprint\":false,\"com.atlassian.jira.issuetable.draggable\":true,\"jira.create.linked.issue\":true,\"com.atlassian.jira.agile.darkfeature.sprint.goal\":false,\"jira.sal.host.connect.accessor.existing.transaction.will.create.transactions\":true,\"jira.jql.suggestrecentfields\":false,\"com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions\":false,\"jira.jql.smartautoselectfirst\":false,\"com.atlassian.jira.agile.darkfeature.optimistic.transitions\":true,\"com.atlassian.jira.issuetable.move.links.hidden\":true,\"jira.priorities.per.project\":true,\"com.atlassian.jira.upgrade.startup.fix.index\":true,\"jira.renderer.consider.variable.format\":true}}";
WRM._unparsedData["jira.webresources:default-comment-security-level.DefaultCommentSecurityLevelHelpLink"]="{\"extraClasses\":\"default-comment-level-help\",\"title\":\"Commenting on an Issue\",\"url\":\"https://docs.atlassian.com/jira/jcore-docs-076/Editing+and+collaborating+on+issues#Editingandcollaboratingonissues-restrictacomment\",\"isLocal\":false}";
WRM._unparsedData["jira.webresources:dateFormatProvider.allFormats"]="{\"dateFormats\":{\"meridiem\":[\"AM\",\"PM\"],\"eras\":[\"BC\",\"AD\"],\"months\":[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],\"monthsShort\":[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],\"weekdaysShort\":[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"],\"weekdays\":[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"]},\"lookAndFeelFormats\":{\"relativize\":\"true\",\"time\":\"HH:mm\",\"day\":\"EEEE HH:mm\",\"dmy\":\"dd/MMM/yy\",\"complete\":\"dd/MMM/yy HH:mm\"}}";
WRM._unparsedData["com.atlassian.jira.jira-issue-nav-components:issueviewer.features"]="{\"rteEnabled\":true}";
WRM._unparsedData["com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone.thumbnail-mime-types"]="\"image/vnd.wap.wbmp,image/png,image/x-png,image/jpeg,image/bmp,image/gif\"";
WRM._unparsedData["com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone.upload-limit"]="\"62914560\"";
WRM._unparsedData["com.atlassian.plugins.helptips.jira-help-tips:help-tip-manager.JiraHelpTipData"]="{\"anonymous\":true}";
WRM._unparsedData["com.atlassian.jira.jira-view-issue-plugin:controller-subtasks.controller.subtasks.parameters"]="{\"url\":\"/rest/api/2/issue/{issueId}/subtask/move\"}";
WRM._unparsedData["com.atlassian.analytics.analytics-client:policy-update-init.policy-update-data-provider"]="false";
WRM._unparsedData["com.atlassian.analytics.analytics-client:programmatic-analytics-init.programmatic-analytics-data-provider"]="false";
WRM._unparsedData["jira.webresources:avatar-picker.data"]="{}";
WRM._unparsedData["com.atlassian.feedback.jira-feedback-plugin:button-resources-init.data"]="{\"jira.feedback.plugin.issue.collector.core\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"jira.feedback.plugin.issue.collector.default\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"jira.feedback.plugin.issue.collector.service.desk\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector.js?locale=en-UK&collectorId=a698db21\",\"jira.feedback.plugin.issue.collector.software\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"isHeaderFeedbackButtonEnabled\":true}";
WRM._unparsedData["com.atlassian.jira.jira-header-plugin:dismissedFlags.flags"]="{\"dismissed\":[]}";
WRM._unparsedData["com.atlassian.jira.jira-header-plugin:newsletter-signup-tip-init.newsletterSignup"]="{\"signupDescription\":\"Get updates, inspiration and best practices from the team behind JIRA.\",\"formUrl\":\"https://www.atlassian.com/apis/exact-target/{0}/subscribe?mailingListId=1401671\",\"signupTitle\":\"Sign up!\",\"signupId\":\"newsletter-signup-tip\",\"showNewsletterTip\":false}";
WRM._unparsedData["com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources.ptAnalyticsData"]="{\"instanceCreatedDate\":\"2011-01-31\"}";
WRM._unparsedData["com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources.help-data"]="{\"showHelp\":true,\"editorDocumentationUrl\":[\"https://docs.atlassian.com/jira/jcore-docs-076/Visual+editing\"],\"editorDocumentationTitle\":[\"Show me documentation for the visual editor\"]}";
WRM._unparsedData["com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources.thumbnails-allowed"]="false";
WRM._unparsedData["jira.webresources:user-message-flags.adminLockout"]="{}";
WRM._unparsedData["jira.request.correlation-id"]="\"32c902082cdc0d\"";
WRM._unparsedData["project-id"]="12310230";
WRM._unparsedData["project-key"]="\"SOLR\"";
WRM._unparsedData["project-name"]="\"Solr\"";
WRM._unparsedData["project-type"]="\"software\"";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:generic-filters"]="[{\"id\":\"allissues\",\"jql\":\"project = \\\"{0}\\\" ORDER BY {1}\",\"defaultOrderby\":\"created DESC\",\"label\":\"All issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[]},{\"id\":\"allopenissues\",\"jql\":\"project = \\\"{0}\\\" AND resolution = Unresolved ORDER BY {1}\",\"defaultOrderby\":\"priority DESC, updated DESC\",\"label\":\"Open issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"resolution\"]},{\"id\":\"doneissues\",\"jql\":\"project = \\\"{0}\\\" AND statusCategory = Done ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Done issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":false,\"fields\":[\"status\"]},{\"id\":\"recentlyviewed\",\"jql\":\"project = \\\"{0}\\\" AND issuekey in issueHistory() ORDER BY {1}\",\"defaultOrderby\":\"lastViewed DESC\",\"label\":\"Viewed recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"issuekey\"]},{\"id\":\"addedrecently\",\"jql\":\"project = \\\"{0}\\\" AND created \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"created DESC\",\"label\":\"Created recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"created\"]},{\"id\":\"resolvedrecently\",\"jql\":\"project = \\\"{0}\\\" AND resolutiondate \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Resolved recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":false,\"fields\":[\"resolutiondate\"]},{\"id\":\"updatedrecently\",\"jql\":\"project = \\\"{0}\\\" AND updated \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Updated recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"updated\"]}]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:default-filter-priority"]="[\"allopenissues\",\"allissues\"]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:can-manage-filters"]="false";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:project-filters"]="[]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:can-create-issues"]="false";
WRM._unparsedData["projectId"]="12310230";
WRM._unparsedData["projectKey"]="\"SOLR\"";
WRM._unparsedData["projectType"]="\"software\"";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:server-rendered"]="true";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/a8a4711bc3f2eb261d8c8fd9fbcbba8b-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1fca1750044f2777c977e8d8cc023344/_/download/contextbatch/css/_super/batch.css" data-wrm-key="_super" data-wrm-batch-type="context" media="all"> 
  <link type="text/css" rel="stylesheet" href="/jira/s/74ac580603ca910fff0cfdf319e54add-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/fbf45109b31165e5b7740a9d72318cea/_/download/contextbatch/css/project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super/batch.css?agile_global_admin_condition=true&amp;hc-enabled=true&amp;is-server-instance=true&amp;jag=true&amp;jira.create.linked.issue=true&amp;nps-acknowledged=true&amp;richediton=true" data-wrm-key="project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super" data-wrm-batch-type="context" media="all"> 
  <link type="text/css" rel="stylesheet" href="/jira/s/611672383f6cab00ab202241ba6f9d68-T/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/7.6.3/_/download/batch/com.atlassian.feedback.jira-feedback-plugin:button-resources-init/com.atlassian.feedback.jira-feedback-plugin:button-resources-init.css" data-wrm-key="com.atlassian.feedback.jira-feedback-plugin:button-resources-init" data-wrm-batch-type="resource" media="all"> 
  <script type="text/javascript" src="/jira/s/98ceb006e504d7924d5ffc411626c6bc-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1fca1750044f2777c977e8d8cc023344/_/download/contextbatch/js/_super/batch.js?locale=en-UK" data-wrm-key="_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/c1e4d26ea276469807c3dc0918df482c-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/fbf45109b31165e5b7740a9d72318cea/_/download/contextbatch/js/project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super/batch.js?agile_global_admin_condition=true&amp;hc-enabled=true&amp;is-server-instance=true&amp;jag=true&amp;jira.create.linked.issue=true&amp;locale=en-UK&amp;nps-acknowledged=true&amp;richediton=true" data-wrm-key="project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/6bf9253c8d533109c3b02e26794be24e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/871d45c9f322a22cb3aa9b7948a69803/_/download/contextbatch/js/atl.global,-_super/batch.js?locale=en-UK" data-wrm-key="atl.global,-_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:calendar-en/jira.webresources:calendar-en.js" data-wrm-key="jira.webresources:calendar-en" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:calendar-localisation-moment/jira.webresources:calendar-localisation-moment.js" data-wrm-key="jira.webresources:calendar-localisation-moment" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/7.6.3/_/download/batch/com.atlassian.feedback.jira-feedback-plugin:button-resources/com.atlassian.feedback.jira-feedback-plugin:button-resources.js" data-wrm-key="com.atlassian.feedback.jira-feedback-plugin:button-resources" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/ccd2e67b523185973473e8bd5735c8f9-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/e0de73613a1027de08f3da6a45e1d1a2/_/download/contextbatch/css/jira.global.look-and-feel,-_super/batch.css" data-wrm-key="jira.global.look-and-feel,-_super" data-wrm-batch-type="context" media="all"> 
  <script type="text/javascript" src="/jira/rest/api/1.0/shortcuts/76005/33e5e0166867c8c9228d44506f60b2e8/shortcuts.js?context=issuenavigation&amp;context=issueaction"></script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["com.atlassian.jira.jira-issue-nav-components:inline-edit-enabled"]="true";
WRM._unparsedData["should-display-chaperone"]="false";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/15712b600e9aecf72ffd9fd3704a0c78-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/6b22a15c7b83f87a47b1757076f43542/_/download/contextbatch/css/com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue/batch.css?jira.create.linked.issue=true&amp;richediton=true" data-wrm-key="com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue" data-wrm-batch-type="context" media="all"> 
  <script type="text/javascript" src="/jira/s/6579b6b8ba67abaa496e39b9242a18a4-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/6b22a15c7b83f87a47b1757076f43542/_/download/contextbatch/js/com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue/batch.js?jira.create.linked.issue=true&amp;locale=en-UK&amp;richediton=true" data-wrm-key="com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue" data-wrm-batch-type="context" data-initially-rendered></script> 
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge"> 
  <meta name="ajs-can-search-users" content="false"> 
  <meta name="ajs-can-edit-watchers" content="false"> 
  <meta name="ajs-default-avatar-url" content="https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10453"> 
  <meta name="ajs-issue-project-type" content="software"> 
  <meta name="ajs-issue-key" content="SOLR-5532"> 
  <meta name="ajs-server-view-issue-is-editable" content="false"> 
  <title>[SOLR-5532] SolrJ Content-Type validation is too strict for some webcontainers / proxies, breaks on equivilent content types - ASF JIRA</title> 
  <link rel="search" type="application/opensearchdescription+xml" href="/jira/osd.jsp" title="[SOLR-5532] SolrJ Content-Type validation is too strict for some webcontainers / proxies, breaks on equivilent content types - ASF JIRA"> 
 </head> 
 <body id="jira" class="aui-layout aui-theme-default " data-version="7.6.3"> 
  <div id="page"> 
   <header id="header" role="banner"> 
    <script>
require(["jquery", "jira/license-banner"], function ($, licenseBanner) {
    $(function () {
        licenseBanner.showLicenseBanner("");
        licenseBanner.showLicenseFlag("");
    });
});
</script> 
    <nav class="aui-header aui-dropdown2-trigger-group" role="navigation">
     <div class="aui-header-inner">
      <div class="aui-header-before">
       <a class=" aui-dropdown2-trigger app-switcher-trigger" aria-controls="app-switcher" aria-haspopup="true" role="button" tabindex="0" data-aui-trigger href="#app-switcher"><span class="aui-icon aui-icon-small aui-iconfont-appswitcher">Linked Applications</span></a>
       <div id="app-switcher" class="aui-dropdown2 aui-style-default" role="menu" aria-hidden="true" data-is-switcher="true" data-environment="{&quot;isUserAdmin&quot;:false,&quot;isAppSuggestionAvailable&quot;:false,&quot;isSiteAdminUser&quot;:false}">
        <div role="application">
         <div class="app-switcher-loading">
          Loadingâ€¦
         </div>
        </div>
       </div>
      </div>
      <div class="aui-header-primary">
       <h1 id="logo" class="aui-header-logo aui-header-logo-custom"><a href="https://issues.apache.org/jira/secure/MyJiraHome.jspa"><img src="/jira/s/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/_/jira-logo-scaled.png" alt="ASF JIRA"></a></h1>
       <ul class="aui-nav">
        <li><a href="/jira/secure/Dashboard.jspa" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="home_link" aria-haspopup="true" aria-controls="home_link-content" title="View and manage your dashboards" accesskey="d">Dashboards</a>
         <div class="aui-dropdown2 aui-style-default" id="home_link-content" data-aui-dropdown2-ajax-key="home_link"></div></li>
        <li><a href="/jira/browse/SOLR" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="browse_link" aria-haspopup="true" aria-controls="browse_link-content" title="View recent projects and browse a list of projects" accesskey="p">Projects</a>
         <div class="aui-dropdown2 aui-style-default" id="browse_link-content" data-aui-dropdown2-ajax-key="browse_link"></div></li>
        <li><a href="/jira/issues/" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="find_link" aria-haspopup="true" aria-controls="find_link-content" title="Search for issues and view recent issues" accesskey="i">Issues</a>
         <div class="aui-dropdown2 aui-style-default" id="find_link-content" data-aui-dropdown2-ajax-key="find_link"></div></li> 
       </ul>
      </div>
      <div class="aui-header-secondary">
       <ul class="aui-nav">
        <li id="quicksearch-menu"> 
         <form action="/jira/secure/QuickSearch.jspa" method="get" id="quicksearch" class="aui-quicksearch dont-default-focus ajs-dirty-warning-exempt"> 
          <input id="quickSearchInput" class="search" type="text" title="Search" placeholder="Search" name="searchString" accessKey="q"> 
          <input type="submit" class="hidden" value="Search"> 
         </form> </li> 
        <li><a class="jira-feedback-plugin" role="button" aria-haspopup="true" id="jira-header-feedback-link" href="#"><span class="aui-icon aui-icon-small jira-feedback-plugin-icon">Give feedback to Atlassian</span></a></li> 
        <li id="system-help-menu"> <a class="aui-nav-link aui-dropdown2-trigger" id="help_menu" aria-haspopup="true" aria-owns="system-help-menu-content" href="https://docs.atlassian.com/jira/jcore-docs-076/" target="$textUtils.htmlEncode($rootHelpMenuItem.params.target)" title="Help"><span class="aui-icon aui-icon-small aui-iconfont-help">Help</span></a> 
         <div id="system-help-menu-content" class="aui-dropdown2 aui-style-default"> 
          <div class="aui-dropdown2-section"> 
           <ul id="jira-help" class="aui-list-truncate"> 
            <li> <a id="view_core_help" class="aui-nav-link " title="Go to the online documentation for JIRA Core" href="https://docs.atlassian.com/jira/jcore-docs-076/" target="_blank">JIRA Core help</a> </li> 
            <li> <a id="keyshortscuthelp" class="aui-nav-link " title="Get more information about JIRA's Keyboard Shortcuts" href="/jira/secure/ViewKeyboardShortcuts!default.jspa" target="_blank">Keyboard Shortcuts</a> </li> 
            <li> <a id="view_about" class="aui-nav-link " title="Get more information about JIRA" href="/jira/secure/AboutPage.jspa">About JIRA</a> </li> 
            <li> <a id="view_credits" class="aui-nav-link " title="See who did what" href="/jira/secure/JiraCreditsPage!default.jspa" target="_blank">JIRA Credits</a> </li> 
           </ul> 
          </div> 
         </div> </li> 
        <li id="user-options"> <a class="aui-nav-link login-link" href="/jira/login.jsp?os_destination=%2Fbrowse%2FSOLR-5532">Log In</a> 
         <div id="user-options-content" class="aui-dropdown2 aui-style-default"> 
          <div class="aui-dropdown2-section"> 
          </div> 
         </div> </li> 
       </ul>
      </div>
     </div>
     <!-- .aui-header-inner-->
    </nav>
    <!-- .aui-header --> 
   </header> 
   <section id="content" role="main"> 
    <big-pipe data-id="sidebar-id" unresolved></big-pipe>
    <div class="aui-sidebar  sidebar-placeholder">
     <div class="aui-sidebar-wrapper">
      <div class="aui-sidebar-body"></div>
      <div class="aui-sidebar-footer">
       <a class="aui-button aui-button-subtle aui-sidebar-toggle aui-sidebar-footer-tipsy" data-tooltip="Expand sidebar ( [ )" href="#"><span class="aui-icon aui-icon-small"></span></a>
      </div>
     </div>
    </div>
    <script id="projects-sidebar-init">
    require(['jira/projects/sidebar/expansion-manager'], function(expansionManager) {
        var scriptTag = document.getElementById('projects-sidebar-init');
        var sidebar = AJS.sidebar('.aui-sidebar');
        expansionManager(sidebar);
        scriptTag.parentElement.removeChild(scriptTag);
    });
    </script>
    <div class="aui-page-panel">
     <div class="aui-page-panel-inner">
      <div class="issue-navigator">
       <div class="content">
        <div class="issue-view">
         <div class="navigation-tools">
          <div class="pager-container"></div>
         </div>
         <div class="issue-container">
          <div id="issue-content" class="issue-edit-form">
           <header id="stalker" class="issue-header js-stalker">
            <div class="issue-header-content">
             <header class="aui-page-header">
              <div class="aui-page-header-inner">
               <div class="aui-page-header-image">
                <span id="12310230" class="aui-avatar aui-avatar-large aui-avatar-project"><span class="aui-avatar-inner"><img id="project-avatar" alt="Uploaded image for project: 'Solr'" src="https://issues.apache.org/jira/secure/projectavatar?pid=12310230&amp;avatarId=22151"></span></span>
               </div>
               <!-- .aui-page-header-image -->
               <div class="aui-page-header-main">
                <ol class="aui-nav aui-nav-breadcrumbs">
                 <li><a id="project-name-val" href="/jira/browse/SOLR">Solr</a></li>
                 <li><a class="issue-link" data-issue-key="SOLR-5532" href="/jira/browse/SOLR-5532" id="key-val" rel="12682942">SOLR-5532</a></li>
                </ol>
                <h1 id="summary-val">SolrJ Content-Type validation is too strict for some webcontainers / proxies, breaks on equivilent content types</h1>
               </div>
               <!-- .aui-page-header-main -->
               <div class="aui-page-header-actions">
                <div id="issue-header-pager"></div>
               </div>
               <!-- .aui-page-header-actions -->
              </div>
              <!-- .aui-page-header-inner -->
             </header>
             <!-- .aui-page-header -->
             <div class="command-bar">
              <div class="ops-cont">
               <div class="ops-menus aui-toolbar">
                <div class="toolbar-split toolbar-split-left">
                 <ul id="opsbar-ops-login-lnk_container" class="toolbar-group pluggable-ops">
                  <li class="toolbar-item"><a id="ops-login-lnk" title="Log In" class="toolbar-trigger" href="/jira/login.jsp?os_destination=%2Fbrowse%2FSOLR-5532"><span class="trigger-label">Log In</span></a></li>
                 </ul>
                 <ul id="opsbar-opsbar-operations" class="toolbar-group pluggable-ops"></ul>
                 <ul id="opsbar-opsbar-transitions" class="toolbar-group pluggable-ops"></ul>
                 <ul id="opsbar-opsbar-admin" class="toolbar-group pluggable-ops"></ul>
                </div>
                <div class="toolbar-split toolbar-split-right">
                 <ul id="opsbar-jira.issue.tools" class="toolbar-group pluggable-ops">
                  <li class="toolbar-item">
                   <div>
                    <a href="#" id="viewissue-export" aria-owns="viewissue-export_drop" aria-haspopup="true" title="Export this issue in another format" class="toolbar-trigger aui-button aui-style-default aui-dropdown2-trigger"><span class="icon icon-default aui-icon aui-icon-small aui-iconfont-export"></span> <span class="dropdown-text">Export</span></a>
                    <div id="viewissue-export_drop" class="aui-style-default aui-dropdown2">
                     <ul>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-xml/SOLR-5532/SOLR-5532.xml" id="jira.issueviews:issue-xml"><span class="trigger-label">XML</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-word/SOLR-5532/SOLR-5532.doc" id="jira.issueviews:issue-word"><span class="trigger-label">Word</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-html/SOLR-5532/SOLR-5532.html" id="jira.issueviews:issue-html"><span class="trigger-label">Printable</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/com.atlassian.jira.plugins.jira-importers-plugin:issue-json/SOLR-5532/SOLR-5532.json" id="com.atlassian.jira.plugins.jira-importers-plugin:issue-json"><span class="trigger-label">JSON</span></a></li>
                     </ul>
                    </div>
                   </div></li>
                 </ul>
                </div>
               </div>
              </div>
             </div>
            </div>
           </header>
           <div class="issue-body-content">
            <div class="aui-group issue-body">
             <div class="aui-item issue-main-column">
              <div id="details-module" class="module toggle-wrap">
               <div id="details-module_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Details</h2>
               </div>
               <div class="mod-content"> 
                <ul id="issuedetails" class="property-list two-cols"> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Type:</strong> 
                   <span id="type-val" class="value"> <img alt="" height="16" src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype" title="Bug - A problem which impairs or prevents the functions of the product." width="16"> Bug </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Status:</strong> 
                   <span id="status-val" class="value"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done jira-issue-status-lozenge-max-width-medium" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </span> 
                  </div> </li> 
                 <li class="item new"> 
                  <div class="wrap"> 
                   <strong class="name">Priority:</strong> 
                   <span id="priority-val" class="value"> <img alt="" height="16" src="/jira/images/icons/priorities/major.svg" title="Major - Major loss of function." width="16"> Major </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Resolution:</strong> 
                   <span id="resolution-val" class="value resolved"> Fixed </span> 
                  </div> </li> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Affects Version/s:</strong> 
                   <span id="versions-val" class="value"> <span class="shorten" id="versions-field"> <span title="4.6 Major release after 4.5">4.6</span> </span> </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Fix Version/s:</strong> 
                   <span id="fixfor-val" class="value"> <span class="shorten" id="fixVersions-field"> <a href="/jira/issues/?jql=project+%3D+SOLR+AND+fixVersion+%3D+4.6.1" title="4.6.1 Bugfix release after 4.6">4.6.1</a>, <a href="/jira/issues/?jql=project+%3D+SOLR+AND+fixVersion+%3D+4.7" title="4.7 Major release after 4.6">4.7</a>, <a href="/jira/issues/?jql=project+%3D+SOLR+AND+fixVersion+%3D+6.0" title="6.0 First 6.x release, Major release after 5.5">6.0</a> </span> </span> 
                  </div> </li> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Component/s:</strong> 
                   <span id="components-val" class="value"> None </span> 
                  </div> </li> 
                 <li class="item full-width"> 
                  <div class="wrap" id="wrap-labels"> 
                   <strong class="name">Labels:</strong> 
                   <div class="labels-wrap value"> 
                    <span class="labels" id="labels-12682942-value">None</span> 
                   </div> 
                  </div> </li> 
                 <li class="item full-width"> 
                  <div class="wrap"> 
                   <strong class="name">Environment:</strong> 
                   <div id="environment-val" class="value"> 
                    <p>Windows 7, Java 1.7.0_45 (64bit), solr-solrj-4.6.0.jar</p> 
                   </div> 
                  </div> </li> 
                </ul> 
               </div>
              </div>
              <div id="descriptionmodule" class="module toggle-wrap">
               <div id="descriptionmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Description</h2>
               </div>
               <div class="mod-content">
                <div id="description-val" class="field-ignore-highlight"> 
                 <div class="user-content-block"> 
                  <p>due to <a href="https://issues.apache.org/jira/browse/SOLR-3530" title="better error messages / Content-Type validation in solrJ" class="issue-link" data-issue-key="SOLR-3530"><del>SOLR-3530</del></a>, HttpSolrServer now does a string equivilence check between the "Content-Type" returned by the server, and a getContentTYpe() method declared by the ResponseParser .. but string equivilence is too strict, and can result in errors like this one reported by a user....</p> 
                  <hr> 
                  <p>I just upgraded my Solr instance and with it I also upgraded the solrj library in our custom application which sends diverse requests and queries to Solr.</p> 
                  <p>I use the "ping" method to determine whether Solr started correctly under the configured address. Since the upgrade the ping response results in an error:</p> 
                  <div class="code panel" style="border-width: 1px;">
                   <div class="codeContent panelContent"> 
                    <pre class="code-xml">Cause: org.apache.solr.client.solrj.impl.HttpSolrServer$RemoteSolrException: Expected content type application/xml; charset=UTF-8 but got application/xml;charset=UTF-8.
<span class="code-tag">&lt;?xml version=<span class="code-quote">"1.0"</span> encoding=<span class="code-quote">"UTF-8"</span>?&gt;</span>
<span class="code-tag">&lt;response&gt;</span>
<span class="code-tag">&lt;lst name=<span class="code-quote">"responseHeader"</span>&gt;</span><span class="code-tag">&lt;int name=<span class="code-quote">"status"</span>&gt;</span>0<span class="code-tag">&lt;/int&gt;</span><span class="code-tag">&lt;int name=<span class="code-quote">"QTime"</span>&gt;</span>0<span class="code-tag">&lt;/int&gt;</span><span class="code-tag">&lt;lst name=<span class="code-quote">"params"</span>&gt;</span><span class="code-tag">&lt;str name=<span class="code-quote">"df"</span>&gt;</span>searchtext<span class="code-tag">&lt;/str&gt;</span><span class="code-tag">&lt;str name=<span class="code-quote">"echoParams"</span>&gt;</span>all<span class="code-tag">&lt;/str&gt;</span><span class="code-tag">&lt;str name=<span class="code-quote">"rows"</span>&gt;</span>10<span class="code-tag">&lt;/str&gt;</span><span class="code-tag">&lt;str name=<span class="code-quote">"echoParams"</span>&gt;</span>all<span class="code-tag">&lt;/str&gt;</span><span class="code-tag">&lt;str name=<span class="code-quote">"wt"</span>&gt;</span>xml<span class="code-tag">&lt;/str&gt;</span><span class="code-tag">&lt;str name=<span class="code-quote">"version"</span>&gt;</span>2.2<span class="code-tag">&lt;/str&gt;</span><span class="code-tag">&lt;str name=<span class="code-quote">"q"</span>&gt;</span>solrpingquery<span class="code-tag">&lt;/str&gt;</span><span class="code-tag">&lt;str name=<span class="code-quote">"distrib"</span>&gt;</span>false<span class="code-tag">&lt;/str&gt;</span><span class="code-tag">&lt;/lst&gt;</span><span class="code-tag">&lt;/lst&gt;</span><span class="code-tag">&lt;str name=<span class="code-quote">"status"</span>&gt;</span>OK<span class="code-tag">&lt;/str&gt;</span>
<span class="code-tag">&lt;/response&gt;</span>
</pre> 
                   </div>
                  </div> 
                  <p>The Solr application itself works fine.<br> Using an older version of the solrj library than solr-solrj-4.6.0.jar (e.g. solr-solrj-4.5.1.jar) in the custom application does not produce this error.</p> 
                  <p>The Exception is produced in a Code block (<em>HttpSolrServer.java</em>, method <em>request(...)</em>, around. line 140) which has been introduced with version 4.6.0.</p> 
                  <p>Code to reproduce the error:</p> 
                  <div class="code panel" style="border-width: 1px;">
                   <div class="codeContent panelContent"> 
                    <pre class="code-java"><span class="code-keyword">try</span> {
	HttpSolrServer solrServer = <span class="code-keyword">new</span> HttpSolrServer(<span class="code-quote">"http:<span class="code-comment">//localhost:8080/Solr/collection"</span>);
</span>	solrServer.setParser(<span class="code-keyword">new</span> XMLResponseParser()); <span class="code-comment">// <span class="code-keyword">this</span> line is making all the difference
</span>	solrServer.ping();
} <span class="code-keyword">catch</span> (Exception e) {
	e.printStackTrace();
}
</pre> 
                   </div>
                  </div> 
                  <p>A global search for "charset=UTF-8" on the source code of solrj indicates that other functions besides "ping" might be affected as well, because there are several places where "application/xml; charset=UTF-8" is spelled without a space after the semicolon.</p> 
                 </div> 
                </div> 
               </div>
              </div>
              <div id="dnd-metadata" class="module toggle-wrap">
               <div id="dnd-metadata_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Attachments</h2>
               </div>
               <div class="mod-content">
                <div id="dnd-metadata-webpanel" data-can-attach="false" data-project-type="software" data-upload-limit="62914560" data-thumbnails-allowed="false"></div>
               </div>
              </div>
              <div id="attachmentmodule" class="module toggle-wrap">
               <div id="attachmentmodule_heading" class="mod-header">
                <ul class="ops">
                 <li class="drop">
                  <div class="aui-dd-parent">
                   <a href="#" class="icon drop-menu js-default-dropdown" title="Options"><span>Options</span></a>
                   <div class="aui-dropdown-content aui-list">
                    <ul id="attachment-sorting-options" class="aui-list-section aui-first">
                     <li class="aui-list-item"><a id="attachment-sort-key-name" href="/jira/browse/SOLR-5532?attachmentSortBy=fileName#attachmentmodule" class="aui-list-checked aui-checked aui-list-item-link" title="viewissue.subtasks.tab.show.all.name"><span>Sort By Name</span></a></li>
                     <li class="aui-list-item"><a id="attachment-sort-key-date" href="/jira/browse/SOLR-5532?attachmentSortBy=dateTime#attachmentmodule" class="aui-list-checked aui-list-item-link" title="Sort By Date"><span>Sort By Date</span></a></li>
                    </ul>
                    <ul id="attachment-sorting-order-options" class="aui-list-section aui-last">
                     <li class="aui-list-item"><a id="attachment-sort-direction-asc" href="/jira/browse/SOLR-5532?attachmentOrder=asc#attachmentmodule" class="aui-list-checked aui-checked aui-list-item-link" title="Ascending"><span>Ascending</span></a></li>
                     <li class="aui-list-item"><a id="attachment-sort-direction-desc" href="/jira/browse/SOLR-5532?attachmentOrder=desc#attachmentmodule" class="aui-list-checked aui-list-item-link" title="Descending"><span>Descending</span></a></li>
                    </ul>
                   </div>
                  </div></li>
                </ul>
                <h2 class="toggle-title">Attachments</h2>
               </div>
               <div class="mod-content">
                <ol id="file_attachments" class="item-attachments" data-sort-key="fileName" data-sort-order="asc">
                 <li class="attachment-content js-file-attachment" data-attachment-id="12617432" data-issue-id="12682942" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12617432/SOLR-5532.patch" draggable="true" data-downloadurl="text/x-patch:SOLR-5532.patch:https://issues.apache.org/jira/secure/attachment/12617432/SOLR-5532.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12617432/SOLR-5532.patch" title="Latest  06/Dec/13 18:18 - Mark Miller" draggable="true" data-downloadurl="text/x-patch:SOLR-5532.patch:https://issues.apache.org/jira/secure/attachment/12617432/SOLR-5532.patch">SOLR-5532.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2013-12-06T18:18:18.774Z">06/Dec/13 18:18</time>
                   </dd>
                   <dd class="attachment-size">
                    2 kB
                   </dd>
                   <dd class="attachment-author">
                    Mark Miller
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12617226" data-issue-id="12682942" data-attachment-type="image" data-attachment-thumbnail="false">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12617226/SOLR-5532-elyograg-eclipse-screenshot.png" draggable="true" data-downloadurl="image/png:SOLR-5532-elyograg-eclipse-screenshot.png:https://issues.apache.org/jira/secure/attachment/12617226/SOLR-5532-elyograg-eclipse-screenshot.png" file-preview-id="12617226" file-preview-title="SOLR-5532-elyograg-eclipse-screenshot.png" file-preview-type="image"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-image" title="PNG File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12617226/SOLR-5532-elyograg-eclipse-screenshot.png" title="Latest  05/Dec/13 20:01 - Shawn Heisey" draggable="true" data-downloadurl="image/png:SOLR-5532-elyograg-eclipse-screenshot.png:https://issues.apache.org/jira/secure/attachment/12617226/SOLR-5532-elyograg-eclipse-screenshot.png" file-preview-id="12617226" file-preview-title="SOLR-5532-elyograg-eclipse-screenshot.png" file-preview-type="image">SOLR-5532-elyograg-eclipse-screenshot.png</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2013-12-05T20:01:47.611Z">05/Dec/13 20:01</time>
                   </dd>
                   <dd class="attachment-size">
                    185 kB
                   </dd>
                   <dd class="attachment-author">
                    Shawn Heisey
                   </dd>
                  </dl></li>
                </ol>
               </div>
              </div>
              <div id="linkingmodule" class="module toggle-wrap">
               <div id="linkingmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Issue Links</h2>
               </div>
               <div class="mod-content"> 
                <div class="links-container" data-default-link-icon="/jira/images/icons/generic_link_16.png"> 
                 <dl class="links-list "> 
                  <dt title="is broken by">
                   is broken by
                  </dt> 
                  <dd id="internal-12559914_12310050"> 
                   <div class="link-content"> 
                    <p> <img src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype" width="16" height="16" title="Improvement - An improvement or enhancement to an existing feature or task." alt="Improvement - An improvement or enhancement to an existing feature or task."> <span title="SOLR-3530: better error messages / Content-Type validation in solrJ"> <a href="/jira/browse/SOLR-3530" data-issue-key="SOLR-3530" class="issue-link link-title resolution">SOLR-3530</a> <span class="link-summary">better error messages / Content-Type validation in solrJ</span> </span> </p> 
                    <ul class="link-snapshot"> 
                     <li class="priority"> <img src="/jira/images/icons/priorities/major.svg" width="16" height="16" title="Major - Major loss of function." alt="Major - Major loss of function."> </li> 
                     <li class="status"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done aui-lozenge-subtle jira-issue-status-lozenge-max-width-short" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Resolved</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.</span>">Resolved</span> </li> 
                    </ul> 
                   </div> 
                  </dd> 
                 </dl> 
                 <dl class="links-list "> 
                  <dt title="is duplicated by">
                   is duplicated by
                  </dt> 
                  <dd id="internal-12683071_12310000"> 
                   <div class="link-content"> 
                    <p> <img src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype" width="16" height="16" title="New Feature - A new feature of the product, which has yet to be developed." alt="New Feature - A new feature of the product, which has yet to be developed."> <span title="SOLR-5537: changing solr version 4.5.1 to 4.6.0 getting error"> <a href="/jira/browse/SOLR-5537" data-issue-key="SOLR-5537" class="issue-link link-title resolution">SOLR-5537</a> <span class="link-summary">changing solr version 4.5.1 to 4.6.0 getting error</span> </span> </p> 
                    <ul class="link-snapshot"> 
                     <li class="priority"> <img src="/jira/images/icons/priorities/major.svg" width="16" height="16" title="Major - Major loss of function." alt="Major - Major loss of function."> </li> 
                     <li class="status"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done aui-lozenge-subtle jira-issue-status-lozenge-max-width-short" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Resolved</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.</span>">Resolved</span> </li> 
                    </ul> 
                   </div> 
                  </dd> 
                  <dd id="internal-12683072_12310000"> 
                   <div class="link-content"> 
                    <p> <img src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype" width="16" height="16" title="New Feature - A new feature of the product, which has yet to be developed." alt="New Feature - A new feature of the product, which has yet to be developed."> <span title="SOLR-5538: changing solr version 4.5.1 to 4.6.0 getting error"> <a href="/jira/browse/SOLR-5538" data-issue-key="SOLR-5538" class="issue-link link-title resolution">SOLR-5538</a> <span class="link-summary">changing solr version 4.5.1 to 4.6.0 getting error</span> </span> </p> 
                    <ul class="link-snapshot"> 
                     <li class="priority"> <img src="/jira/images/icons/priorities/major.svg" width="16" height="16" title="Major - Major loss of function." alt="Major - Major loss of function."> </li> 
                     <li class="status"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done aui-lozenge-subtle jira-issue-status-lozenge-max-width-short" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Resolved</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.</span>">Resolved</span> </li> 
                    </ul> 
                   </div> 
                  </dd> 
                 </dl> 
                </div> 
               </div>
              </div>
              <div id="activitymodule" class="module toggle-wrap">
               <div id="activitymodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Activity</h2>
               </div>
               <div class="mod-content"> 
                <big-pipe data-id="activity-panel-pipe-id" style="height: 70px"> 
                 <div></div> 
                </big-pipe> 
               </div>
              </div>
             </div>
             <div id="viewissuesidebar" class="aui-item issue-side-column">
              <div id="peoplemodule" class="module toggle-wrap">
               <div id="peoplemodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">People</h2>
               </div>
               <div class="mod-content"> 
                <ul class="item-details" id="peopledetails"> 
                 <li class="people-details"> 
                  <dl> 
                   <dt>
                    Assignee:
                   </dt> 
                   <dd> 
                    <span id="assignee-val" class="view-issue-field"> <span class="user-hover" id="issue_summary_assignee_markrmiller@gmail.com" rel="markrmiller@gmail.com" data-user="{&quot;avatarUrl&quot;:&quot;https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10452&quot;,&quot;displayName&quot;:&quot;Mark Miller&quot;,&quot;emailAddress&quot;:&quot;markrmiller@gmail.com&quot;,&quot;username&quot;:&quot;markrmiller@gmail.com&quot;}"> <span class="aui-avatar aui-avatar-small"><span class="aui-avatar-inner"><img src="https://issues.apache.org/jira/secure/useravatar?size=small&amp;avatarId=10452" alt="markrmiller@gmail.com"></span></span> Mark Miller </span> </span> 
                   </dd> 
                  </dl> 
                  <dl> 
                   <dt>
                    Reporter:
                   </dt> 
                   <dd> 
                    <span id="reporter-val" class="view-issue-field"> <span class="user-hover" id="issue_summary_reporter_jafurrer" rel="jafurrer" data-user="{&quot;avatarUrl&quot;:&quot;https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10452&quot;,&quot;displayName&quot;:&quot;Jakob Furrer&quot;,&quot;emailAddress&quot;:&quot;jafurrer@gmx.net&quot;,&quot;username&quot;:&quot;jafurrer&quot;}"> <span class="aui-avatar aui-avatar-small"><span class="aui-avatar-inner"><img src="https://issues.apache.org/jira/secure/useravatar?size=small&amp;avatarId=10452" alt="jafurrer"></span></span> Jakob Furrer </span> </span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
                <ul class="item-details"> 
                 <li> 
                  <dl> 
                   <dt>
                    Votes:
                   </dt> 
                   <dd> 
                    <span id="vote-data" class="aui-badge vote-state-off">0</span> 
                    <span id="vote-label" title="You have to be logged in to vote for an issue.">Vote for this issue</span> 
                   </dd> 
                  </dl> 
                  <dl> 
                   <dt>
                    Watchers:
                   </dt> 
                   <dd> 
                    <span id="watcher-data" class="aui-badge watch-state-off">5</span> 
                    <span id="watch-label" title="You have to be logged in to watch an issue.">Start watching this issue</span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
               </div>
              </div>
              <div id="datesmodule" class="module toggle-wrap">
               <div id="datesmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Dates</h2>
               </div>
               <div class="mod-content"> 
                <ul class="item-details"> 
                 <li> 
                  <dl class="dates"> 
                   <dt>
                    Created:
                   </dt> 
                   <dd class="date user-tz" title="05/Dec/13 16:51"> 
                    <span data-name="Created" id="created-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2013-12-05T16:51:51+0000">05/Dec/13 16:51</time> </span> 
                   </dd> 
                  </dl> 
                  <dl class="dates"> 
                   <dt>
                    Updated:
                   </dt> 
                   <dd class="date user-tz" title="09/May/16 18:50"> 
                    <span data-name="Updated" id="updated-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2016-05-09T18:50:04+0000">09/May/16 18:50</time> </span> 
                   </dd> 
                  </dl> 
                  <dl class="dates"> 
                   <dt>
                    Resolved:
                   </dt> 
                   <dd class="date user-tz" title="05/Jan/14 21:02"> 
                    <span data-name="Resolved" id="resolutiondate-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2014-01-05T21:02:13+0000">05/Jan/14 21:02</time> </span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
               </div>
              </div>
             </div>
            </div>
           </div>
          </div>
         </div>
        </div>
       </div>
      </div>
     </div>
     <!-- .aui-page-panel-inner -->
    </div>
    <!-- .aui-page-panel -->
    <div class="issue-navigator-init"></div> 
   </section> 
   <footer id="footer" role="contentinfo"> 
    <section class="footer-body"> 
     <ul class="atlassian-footer"> 
      <li> Atlassian JIRA <a class="seo-link" rel="nofollow" href="https://www.atlassian.com/software/jira">Project Management Software</a> <span id="footer-build-information">(v7.6.3#76005-<span title="8a4e38d34af948780dbf52044e7aafb13a7cae58" data-commit-id="8a4e38d34af948780dbf52044e7aafb13a7cae58}">sha1:8a4e38d</span>)</span> </li> 
      <li> <a id="about-link" rel="nofollow" href="/jira/secure/AboutPage.jspa/secure/AboutPage.jspa">About JIRA</a> </li> 
      <li> <a id="footer-report-problem-link" rel="nofollow" href="/jira/secure/CreateIssue!default.jspa">Report a problem</a> </li> 
     </ul> 
     <ul class="atlassian-footer"> 
      <li class="licensemessage"> Powered by a free Atlassian <a rel="nofollow" href="http://www.atlassian.com/software/jira">JIRA</a> open source license for Apache Software Foundation. Try JIRA - <a rel="nofollow" href="http://www.atlassian.com/software/jira">bug tracking software</a> for <i>your</i> team. </li> 
     </ul> 
     <div id="footer-logo">
      <a rel="nofollow" href="http://www.atlassian.com/">Atlassian</a>
     </div> 
    </section> 
    <fieldset class="hidden parameters"> 
     <input type="hidden" title="loggedInUser" value=""> 
     <input type="hidden" title="ajaxTimeout" value="The call to the JIRA server did not complete within the timeout period.  We are unsure of the result of this operation."> 
     <input type="hidden" title="JiraVersion" value="7.6.3"> 
     <input type="hidden" title="ajaxUnauthorised" value="You are not authorised to perform this operation. Please log in."> 
     <input type="hidden" title="baseURL" value="https://issues.apache.org/jira"> 
     <input type="hidden" title="ajaxCommsError" value="The JIRA server could not be contacted. This may be a temporary glitch or the server may be down. "> 
     <input type="hidden" title="ajaxServerError" value="The JIRA server was contacted but has returned an error response. We are unsure of the result of this operation."> 
     <input type="hidden" title="ajaxErrorCloseDialog" value="Close this dialog and press refresh in your browser"> 
     <input type="hidden" title="ajaxErrorDialogHeading" value="Communications Breakdown"> 
     <input type="hidden" title="dirtyMessage" value="You have entered new data on this page. If you navigate away from this page without first saving your data, the changes will be lost."> 
     <input type="hidden" title="dirtyDialogMessage" value="You have entered new data in this dialog. If you navigate away from this dialog without first saving your data, the changes will be lost. Click cancel to return to the dialog."> 
     <input type="hidden" title="keyType" value="Type"> 
     <input type="hidden" title="keyThen" value="then"> 
     <input type="hidden" title="dblClickToExpand" value="Double click to expand"> 
     <input type="hidden" title="actions" value="Actions"> 
     <input type="hidden" title="removeItem" value="Remove"> 
     <input type="hidden" title="workflow" value="Workflow"> 
     <input type="hidden" title="labelNew" value="New Label"> 
     <input type="hidden" title="issueActionsHint" value="Begin typing for available operations or press down to see all"> 
     <input type="hidden" title="closelink" value="Close"> 
     <input type="hidden" title="dotOperations" value="Operations"> 
     <input type="hidden" title="dotLoading" value="Loading..."> 
     <input type="hidden" title="frotherSuggestions" value="Suggestions"> 
     <input type="hidden" title="frotherNomatches" value="No Matches"> 
     <input type="hidden" title="multiselectVersionsError" value="{0} is not a valid version."> 
     <input type="hidden" title="multiselectComponentsError" value="{0} is not a valid component."> 
     <input type="hidden" title="multiselectGenericError" value="The value {0} is invalid."> 
    </fieldset> 
   </footer> 
  </div> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:bigpipe-js/jira.webresources:bigpipe-js.js" data-wrm-key="jira.webresources:bigpipe-js" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["activity-panel-pipe-id"]="\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n    \u003cdiv class=\\\"tabwrap tabs2\\\"\u003e\\n\\n        \u003cul id=\\\"issue-tabs\\\" class=\\\"tabs horizontal\\\"\u003e\\n                                \\n            \u003cli  data-id=\\\"all-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\" data-label=\\\"All\\\" data-href=\\\"\\/jira\\/browse\\/SOLR-5532?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"all-tabpanel\\\" href=\\\"\\/jira\\/browse\\/SOLR-5532?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\"\u003e\u003cstrong\u003eAll\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  class=\\\"active\\\" id=\\\"comment-tabpanel\\\"  data-id=\\\"comment-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel\\\" data-label=\\\"Comments\\\" data-href=\\\"\\/jira\\/browse\\/SOLR-5532?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel\\\"\u003e\\n                            \u003cstrong tabindex=\\\"0\\\"\u003eComments\u003c\\/strong\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"worklog-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\" data-label=\\\"Work Log\\\" data-href=\\\"\\/jira\\/browse\\/SOLR-5532?page=com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"worklog-tabpanel\\\" href=\\\"\\/jira\\/browse\\/SOLR-5532?page=com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\"\u003e\u003cstrong\u003eWork Log\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"changehistory-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\" data-label=\\\"History\\\" data-href=\\\"\\/jira\\/browse\\/SOLR-5532?page=com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"changehistory-tabpanel\\\" href=\\\"\\/jira\\/browse\\/SOLR-5532?page=com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\"\u003e\u003cstrong\u003eHistory\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"activity-stream-issue-tab\\\" data-key=\\\"com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\" data-label=\\\"Activity\\\" data-href=\\\"\\/jira\\/browse\\/SOLR-5532?page=com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"activity-stream-issue-tab\\\" href=\\\"\\/jira\\/browse\\/SOLR-5532?page=com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\"\u003e\u003cstrong\u003eActivity\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"transitions-summary-tabpanel\\\" data-key=\\\"com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\" data-label=\\\"Transitions\\\" data-href=\\\"\\/jira\\/browse\\/SOLR-5532?page=com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"transitions-summary-tabpanel\\\" href=\\\"\\/jira\\/browse\\/SOLR-5532?page=com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\"\u003e\u003cstrong\u003eTransitions\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                \u003c\\/ul\u003e\\n\\n                    \u003cdiv class=\\\"sortwrap\\\"\u003e\\n                                    \u003ca class=\\\"issue-activity-sort-link ajax-activity-content\\\" rel=\\\"nofollow\\\" data-tab-sort data-order=\\\"desc\\\" href=\\\"\\/jira\\/browse\\/SOLR-5532?actionOrder=desc\\\" title=\\\"Ascending order - Click to sort in descending order\\\"\u003e\\n                        \u003cspan class=\\\"aui-icon aui-icon-small aui-iconfont-up\\\"\u003eAscending order - Click to sort in descending order\u003c\\/span\u003e\\n                    \u003c\\/a\u003e\\n                            \u003c\\/div\u003e\\n            \u003c\\/div\u003e\\n    \u003cdiv class=\\\"issuePanelWrapper\\\"\u003e\\n        \u003cdiv class=\\\"issuePanelProgress\\\"\u003e\u003c\\/div\u003e\\n        \u003cdiv class=\\\"issuePanelContainer\\\" id=\\\"issue_actions_container\\\"\u003e\\n                                    \\n\\n\\n\u003cdiv id=\\\"comment-13840356\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-5532?focusedCommentId=13840356&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13840356\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"elyograg\\\" id=\\\"commentauthor_13840356_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=elyograg\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"elyograg\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shawn Heisey\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13840356_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Dec\\/13 18:12\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-12-05T18:12:43+0000\'\u003e05\\/Dec\\/13 18:12\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eMy server is not upgraded to 4.6 - it\'s running 4.2.1 ... with that server, your test code works fine.  I am in the process of setting up a test server running 4.6, but I don\'t have it yet.  Is your server also running 4.6?\u003c\\/p\u003e\\n\\n\u003cp\u003eIf your server is 4.6, this looks like the Solr server code has gotten more strict on the content type header, but SolrJ hasn\'t been updated to match, and the existing unit tests didn\'t catch the problem.\u003c\\/p\u003e\\n\\n\u003cp\u003eWould you be able to try the following addition to your test code, right after you create the HttpSolrServer?\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003esolrServer.setRequestWriter(\u003cspan class=\\\"code-keyword\\\"\u003enew\u003c\\/span\u003e BinaryRequestWriter());\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003eIf that works, it\'s a potential workaround for you, with the added advantage that requests sent to Solr will be more compact and therefore more efficient.\u003c\\/p\u003e\\n\\n\u003cp\u003eAlso, just in case I have any trouble reproducing, can you include the entire Java stacktrace from your Solr server log when the problem occurs?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"elyograg\\\" id=\\\"commentauthor_13840356_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=elyograg\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"elyograg\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shawn Heisey\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13840356_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Dec\\/13 18:12\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-12-05T18:12:43+0000\'\u003e05\\/Dec\\/13 18:12\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    My server is not upgraded to 4.6 - it\'s running 4.2.1 ... with that server, your test code works fine.  I am in the process of setting up a test server running 4.6, but I don\'t have it yet.  Is your server also running 4.6? \\n\\n If your server is 4.6, this looks like the Solr server code has gotten more strict on the content type header, but SolrJ hasn\'t been updated to match, and the existing unit tests didn\'t catch the problem. \\n\\n Would you be able to try the following addition to your test code, right after you create the HttpSolrServer? \\n\\n  \\n solrServer.setRequestWriter( new  BinaryRequestWriter());\\n \\n  \\n\\n If that works, it\'s a potential workaround for you, with the added advantage that requests sent to Solr will be more compact and therefore more efficient. \\n\\n Also, just in case I have any trouble reproducing, can you include the entire Java stacktrace from your Solr server log when the problem occurs?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13840368\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-5532?focusedCommentId=13840368&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13840368\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"elyograg\\\" id=\\\"commentauthor_13840368_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=elyograg\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"elyograg\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shawn Heisey\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13840368_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Dec\\/13 18:22\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-12-05T18:22:00+0000\'\u003e05\\/Dec\\/13 18:22\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eGot the example 4.6 server set up.  With the following code, substantially similar to yours, I do \u003cb\u003eNOT\u003c\\/b\u003e get the same problem.\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e\\t\\t\u003cspan class=\\\"code-keyword\\\"\u003etry\u003c\\/span\u003e\\n\\t\\t{\\n\\t\\t\\tHttpSolrServer solrServer = \u003cspan class=\\\"code-keyword\\\"\u003enew\u003c\\/span\u003e HttpSolrServer(\\n\\t\\t\\t\\t\\t\u003cspan class=\\\"code-quote\\\"\u003e\\\"http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/localhost:8983\\/solr\\/collection1\\\"\u003c\\/span\u003e);\\n\u003c\\/span\u003e\\t\\t\\tSolrPingResponse x = solrServer.ping();\\n\\t\\t\\t\u003cspan class=\\\"code-object\\\"\u003eSystem\u003c\\/span\u003e.out.println(x);\\n\\t\\t}\\n\\t\\t\u003cspan class=\\\"code-keyword\\\"\u003ecatch\u003c\\/span\u003e (Exception e)\\n\\t\\t{\\n\\t\\t\\te.printStackTrace();\\n\\t\\t}\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003eIf I change \\\"collection1\\\" to \\\"collection\\\" (so the URL is invalid) then I do get a similar (but not exactly the same) message, but it\'s part of a much larger error.  Can you help me figure out what I might be doing that\'s different from your setup?\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"preformatted panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"preformattedContent panelContent\\\"\u003e\\n\u003cpre\u003eorg.apache.solr.client.solrj.impl.HttpSolrServer$RemoteSolrException: Expected content type application\\/octet-stream but got text\\/html;charset=ISO-8859-1. &lt;html&gt;\\n&lt;head&gt;\\n&lt;meta http-equiv=\\\"Content-Type\\\" content=\\\"text\\/html; charset=ISO-8859-1\\\"\\/&gt;\\n&lt;title&gt;Error 404 Not Found&lt;\\/title&gt;\\n&lt;\\/head&gt;\\n&lt;body&gt;&lt;h2&gt;HTTP ERROR 404&lt;\\/h2&gt;\\n&lt;p&gt;Problem accessing \\/solr\\/collection\\/admin\\/ping. Reason:\\n&lt;pre&gt;    Not Found&lt;\\/pre&gt;&lt;\\/p&gt;&lt;hr \\/&gt;&lt;i&gt;&lt;small&gt;Powered by Jetty:\\/\\/&lt;\\/small&gt;&lt;\\/i&gt;&lt;br\\/&gt;                                                \\n&lt;br\\/&gt;                                                \\n&lt;br\\/&gt;                                                \\n&lt;br\\/&gt;                                                \\n&lt;br\\/&gt;                                                \\n&lt;br\\/&gt;                                                \\n&lt;br\\/&gt;                                                \\n&lt;br\\/&gt;                                                \\n&lt;br\\/&gt;                                                \\n&lt;br\\/&gt;                                                \\n&lt;br\\/&gt;                                                \\n&lt;br\\/&gt;                                                \\n&lt;br\\/&gt;                                                \\n&lt;br\\/&gt;                                                \\n&lt;br\\/&gt;                                                \\n&lt;br\\/&gt;                                                \\n&lt;br\\/&gt;                                                \\n&lt;br\\/&gt;                                                \\n&lt;br\\/&gt;                                                \\n&lt;br\\/&gt;                                                \\n\\n&lt;\\/body&gt;\\n&lt;\\/html&gt;\\n\\n\\tat org.apache.solr.client.solrj.impl.HttpSolrServer.request(HttpSolrServer.java:455)\\n\\tat org.apache.solr.client.solrj.impl.HttpSolrServer.request(HttpSolrServer.java:197)\\n\\tat org.apache.solr.client.solrj.request.SolrPing.process(SolrPing.java:69)\\n\\tat org.apache.solr.client.solrj.SolrServer.ping(SolrServer.java:293)\\n\\tat org.elyograg.TestStuff.main(TestStuff.java:72)\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"elyograg\\\" id=\\\"commentauthor_13840368_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=elyograg\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"elyograg\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shawn Heisey\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13840368_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Dec\\/13 18:22\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-12-05T18:22:00+0000\'\u003e05\\/Dec\\/13 18:22\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Got the example 4.6 server set up.  With the following code, substantially similar to yours, I do  NOT  get the same problem. \\n\\n  \\n \\t\\t try \\n\\t\\t{\\n\\t\\t\\tHttpSolrServer solrServer =  new  HttpSolrServer(\\n\\t\\t\\t\\t\\t \\\"http: \\/\\/localhost:8983\\/solr\\/collection1\\\" );\\n \\t\\t\\tSolrPingResponse x = solrServer.ping();\\n\\t\\t\\t System .out.println(x);\\n\\t\\t}\\n\\t\\t catch  (Exception e)\\n\\t\\t{\\n\\t\\t\\te.printStackTrace();\\n\\t\\t}\\n \\n  \\n\\n If I change \\\"collection1\\\" to \\\"collection\\\" (so the URL is invalid) then I do get a similar (but not exactly the same) message, but it\'s part of a much larger error.  Can you help me figure out what I might be doing that\'s different from your setup? \\n\\n  \\n org.apache.solr.client.solrj.impl.HttpSolrServer$RemoteSolrException: Expected content type application\\/octet-stream but got text\\/html;charset=ISO-8859-1. &lt;html&gt;\\n&lt;head&gt;\\n&lt;meta http-equiv=\\\"Content-Type\\\" content=\\\"text\\/html; charset=ISO-8859-1\\\"\\/&gt;\\n&lt;title&gt;Error 404 Not Found&lt;\\/title&gt;\\n&lt;\\/head&gt;\\n&lt;body&gt;&lt;h2&gt;HTTP ERROR 404&lt;\\/h2&gt;\\n&lt;p&gt;Problem accessing \\/solr\\/collection\\/admin\\/ping. Reason:\\n&lt;pre&gt;    Not Found&lt;\\/pre&gt;&lt;\\/p&gt;&lt;hr \\/&gt;&lt;i&gt;&lt;small&gt;Powered by Jetty:\\/\\/&lt;\\/small&gt;&lt;\\/i&gt;&lt;br\\/&gt;                                                \\n&lt;br\\/&gt;                                                \\n&lt;br\\/&gt;                                                \\n&lt;br\\/&gt;                                                \\n&lt;br\\/&gt;                                                \\n&lt;br\\/&gt;                                                \\n&lt;br\\/&gt;                                                \\n&lt;br\\/&gt;                                                \\n&lt;br\\/&gt;                                                \\n&lt;br\\/&gt;                                                \\n&lt;br\\/&gt;                                                \\n&lt;br\\/&gt;                                                \\n&lt;br\\/&gt;                                                \\n&lt;br\\/&gt;                                                \\n&lt;br\\/&gt;                                                \\n&lt;br\\/&gt;                                                \\n&lt;br\\/&gt;                                                \\n&lt;br\\/&gt;                                                \\n&lt;br\\/&gt;                                                \\n&lt;br\\/&gt;                                                \\n\\n&lt;\\/body&gt;\\n&lt;\\/html&gt;\\n\\n\\tat org.apache.solr.client.solrj.impl.HttpSolrServer.request(HttpSolrServer.java:455)\\n\\tat org.apache.solr.client.solrj.impl.HttpSolrServer.request(HttpSolrServer.java:197)\\n\\tat org.apache.solr.client.solrj.request.SolrPing.process(SolrPing.java:69)\\n\\tat org.apache.solr.client.solrj.SolrServer.ping(SolrServer.java:293)\\n\\tat org.elyograg.TestStuff.main(TestStuff.java:72)\\n \\n               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13840396\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-5532?focusedCommentId=13840396&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13840396\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"hossman\\\" id=\\\"commentauthor_13840396_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=hossman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"hossman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Hoss Man\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13840396_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Dec\\/13 18:44\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-12-05T18:44:06+0000\'\u003e05\\/Dec\\/13 18:44\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThe specific error message being returned here by HttpSolrServer is from lines 438-456 \u003cem\u003e(\u003cb\u003eNOT\u003c\\/b\u003e 140 as initially mentioned in the bug report)\u003c\\/em\u003e ...\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e      \u003cspan class=\\\"code-object\\\"\u003eString\u003c\\/span\u003e procCt = processor.getContentType();\\n      \u003cspan class=\\\"code-keyword\\\"\u003eif\u003c\\/span\u003e (procCt != \u003cspan class=\\\"code-keyword\\\"\u003enull\u003c\\/span\u003e) {\\n        \u003cspan class=\\\"code-keyword\\\"\u003eif\u003c\\/span\u003e (!contentType.equals(procCt)) {\\n          \u003cspan class=\\\"code-comment\\\"\u003e\\/\\/ unexpected content type\\n\u003c\\/span\u003e          \u003cspan class=\\\"code-object\\\"\u003eString\u003c\\/span\u003e msg = \u003cspan class=\\\"code-quote\\\"\u003e\\\"Expected content type \\\"\u003c\\/span\u003e + procCt + \u003cspan class=\\\"code-quote\\\"\u003e\\\" but got \\\"\u003c\\/span\u003e + contentType + \u003cspan class=\\\"code-quote\\\"\u003e\\\".\\\"\u003c\\/span\u003e;\\n          Header encodingHeader = response.getEntity().getContentEncoding();\\n          \u003cspan class=\\\"code-object\\\"\u003eString\u003c\\/span\u003e encoding;\\n          \u003cspan class=\\\"code-keyword\\\"\u003eif\u003c\\/span\u003e (encodingHeader != \u003cspan class=\\\"code-keyword\\\"\u003enull\u003c\\/span\u003e) {\\n            encoding = encodingHeader.getValue();\\n          } \u003cspan class=\\\"code-keyword\\\"\u003eelse\u003c\\/span\u003e {\\n            encoding = \u003cspan class=\\\"code-quote\\\"\u003e\\\"UTF-8\\\"\u003c\\/span\u003e; \u003cspan class=\\\"code-comment\\\"\u003e\\/\\/ \u003cspan class=\\\"code-keyword\\\"\u003etry\u003c\\/span\u003e UTF-8\\n\u003c\\/span\u003e          }\\n          \u003cspan class=\\\"code-keyword\\\"\u003etry\u003c\\/span\u003e {\\n            msg = msg + \u003cspan class=\\\"code-quote\\\"\u003e\\\" \\\"\u003c\\/span\u003e + IOUtils.toString(respBody, encoding);\\n          } \u003cspan class=\\\"code-keyword\\\"\u003ecatch\u003c\\/span\u003e (IOException e) {\\n            \u003cspan class=\\\"code-keyword\\\"\u003ethrow\u003c\\/span\u003e \u003cspan class=\\\"code-keyword\\\"\u003enew\u003c\\/span\u003e RemoteSolrException(httpStatus, \u003cspan class=\\\"code-quote\\\"\u003e\\\"Could not parse response with encoding \\\"\u003c\\/span\u003e + encoding, e);\\n          }\\n          RemoteSolrException e = \u003cspan class=\\\"code-keyword\\\"\u003enew\u003c\\/span\u003e RemoteSolrException(httpStatus, msg, \u003cspan class=\\\"code-keyword\\\"\u003enull\u003c\\/span\u003e);\\n          \u003cspan class=\\\"code-keyword\\\"\u003ethrow\u003c\\/span\u003e e;\\n        }\\n      }\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003e...the intent of this code is to ensure that the Content-Type of the response it has received from the server is something that the ResponseParser it\'s configured to use is capable of handling.\u003c\\/p\u003e\\n\\n\u003cp\u003eThe code as written definitely seems sketchy, because it\'s trying to do an exact string equality match on the Content-Type, even though (as in this example)...\u003cbr\\/\u003e\\n\u003ctt\u003eapplication\\/xml; charset=UTF-8\u003c\\/tt\u003e (with space) \u003cbr\\/\u003e\\n...should be considered equivalent to...\u003cbr\\/\u003e\\n\u003ctt\u003eapplication\\/xml;charset=UTF-8\u003c\\/tt\u003e (no space) \u003cbr\\/\u003e\\n... nothing in the spec requries whitespcae there, or makes them semantically un-equivilent.\u003c\\/p\u003e\\n\\n\u003cp\u003ehaving said that however: i\'m still not clear on how to actually reproduce this.\u003c\\/p\u003e\\n\\n\u003cp\u003eAs far as i can tell from a quick check, the XML response writer (on the server) has always included a space in it\'s Content-Type, and that doesn\'t seem to have changed in 4.6, and the solrj expected XML Content-Type (on the client parser) has always expected a space in the Content-Type, and that doesn\'t seem to have changed in 4.6.\u003c\\/p\u003e\\n\\n\u003cp\u003eCan you pleas show us..\u003c\\/p\u003e\\n\\n\u003cul\u003e\\n\\t\u003cli\u003ethe full source code of a test client that demonstrates this problem for you?\u003c\\/li\u003e\\n\\t\u003cli\u003ethe full stack trace produced by your test code\u003c\\/li\u003e\\n\\t\u003cli\u003ethe command line used to run your test case (with full classpath showing jar versions used)\u003c\\/li\u003e\\n\\t\u003cli\u003ethe response you get from \\\"curl -v \u003ca href=\\\"http:\\/\\/localhost:8983\\/solr\\/admin\\/system\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/localhost:8983\\/solr\\/admin\\/system\u003c\\/a\u003e\\\"\u003c\\/li\u003e\\n\\t\u003cli\u003ethe response you get from \\\"curl -v \u003ca href=\\\"http:\\/\\/localhost:8983\\/solr\\/collection1\\/admin\\/ping\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/localhost:8983\\/solr\\/collection1\\/admin\\/ping\u003c\\/a\u003e\\\"\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cblockquote\u003e\u003cp\u003eA global search for \\\"charset=UTF-8\\\" on the source code of solrj indicates that other functions besides \\\"ping\\\" might be affected as well, because there are several places where \\\"application\\/xml; charset=UTF-8\\\" is spelled without a space after the semicolon.\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003eCan you please be specific? I just did the same search of the 4.6 codebase and i can\'t find anything like what you are describing.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"hossman\\\" id=\\\"commentauthor_13840396_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=hossman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"hossman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Hoss Man\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13840396_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Dec\\/13 18:44\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-12-05T18:44:06+0000\'\u003e05\\/Dec\\/13 18:44\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    The specific error message being returned here by HttpSolrServer is from lines 438-456  ( NOT  140 as initially mentioned in the bug report)  ... \\n\\n  \\n        String  procCt = processor.getContentType();\\n       if  (procCt !=  null ) {\\n         if  (!contentType.equals(procCt)) {\\n           \\/\\/ unexpected content type\\n            String  msg =  \\\"Expected content type \\\"  + procCt +  \\\" but got \\\"  + contentType +  \\\".\\\" ;\\n          Header encodingHeader = response.getEntity().getContentEncoding();\\n           String  encoding;\\n           if  (encodingHeader !=  null ) {\\n            encoding = encodingHeader.getValue();\\n          }  else  {\\n            encoding =  \\\"UTF-8\\\" ;  \\/\\/  try  UTF-8\\n           }\\n           try  {\\n            msg = msg +  \\\" \\\"  + IOUtils.toString(respBody, encoding);\\n          }  catch  (IOException e) {\\n             throw   new  RemoteSolrException(httpStatus,  \\\"Could not parse response with encoding \\\"  + encoding, e);\\n          }\\n          RemoteSolrException e =  new  RemoteSolrException(httpStatus, msg,  null );\\n           throw  e;\\n        }\\n      }\\n \\n  \\n\\n ...the intent of this code is to ensure that the Content-Type of the response it has received from the server is something that the ResponseParser it\'s configured to use is capable of handling. \\n\\n The code as written definitely seems sketchy, because it\'s trying to do an exact string equality match on the Content-Type, even though (as in this example)... \\n application\\/xml; charset=UTF-8  (with space)  \\n...should be considered equivalent to... \\n application\\/xml;charset=UTF-8  (no space)  \\n... nothing in the spec requries whitespcae there, or makes them semantically un-equivilent. \\n\\n having said that however: i\'m still not clear on how to actually reproduce this. \\n\\n As far as i can tell from a quick check, the XML response writer (on the server) has always included a space in it\'s Content-Type, and that doesn\'t seem to have changed in 4.6, and the solrj expected XML Content-Type (on the client parser) has always expected a space in the Content-Type, and that doesn\'t seem to have changed in 4.6. \\n\\n Can you pleas show us.. \\n\\n \\n\\t the full source code of a test client that demonstrates this problem for you? \\n\\t the full stack trace produced by your test code \\n\\t the command line used to run your test case (with full classpath showing jar versions used) \\n\\t the response you get from \\\"curl -v  http:\\/\\/localhost:8983\\/solr\\/admin\\/system \\\" \\n\\t the response you get from \\\"curl -v  http:\\/\\/localhost:8983\\/solr\\/collection1\\/admin\\/ping \\\" \\n \\n\\n\\n  A global search for \\\"charset=UTF-8\\\" on the source code of solrj indicates that other functions besides \\\"ping\\\" might be affected as well, because there are several places where \\\"application\\/xml; charset=UTF-8\\\" is spelled without a space after the semicolon.  \\n\\n Can you please be specific? I just did the same search of the 4.6 codebase and i can\'t find anything like what you are describing.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13840406\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-5532?focusedCommentId=13840406&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13840406\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"thetaphi\\\" id=\\\"commentauthor_13840406_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=thetaphi\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"thetaphi\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Uwe Schindler\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13840406_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Dec\\/13 18:53\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-12-05T18:53:41+0000\'\u003e05\\/Dec\\/13 18:53\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=hossman_lucene%40fucit.org\\\" class=\\\"user-hover\\\" rel=\\\"hossman_lucene@fucit.org\\\"\u003eChris Hostetter (Unused)\u003c\\/a\u003e: In any case we should fix the parser to accept the content type:\u003c\\/p\u003e\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003ecase insensitive (MIME types are defined to be case insensitive= -&gt; this is partly a bug in Solr already, I noticed this in a code review\u003c\\/li\u003e\\n\\t\u003cli\u003estrip of the charset from the MIME type before comparing. ContentStreamBase has methods for this (to extract the charset from a ContentType).\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"thetaphi\\\" id=\\\"commentauthor_13840406_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=thetaphi\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"thetaphi\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Uwe Schindler\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13840406_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Dec\\/13 18:53\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-12-05T18:53:41+0000\'\u003e05\\/Dec\\/13 18:53\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     Chris Hostetter (Unused) : In any case we should fix the parser to accept the content type: \\n \\n\\t case insensitive (MIME types are defined to be case insensitive= -&gt; this is partly a bug in Solr already, I noticed this in a code review \\n\\t strip of the charset from the MIME type before comparing. ContentStreamBase has methods for this (to extract the charset from a ContentType). \\n \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13840444\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-5532?focusedCommentId=13840444&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13840444\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"hossman\\\" id=\\\"commentauthor_13840444_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=hossman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"hossman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Hoss Man\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13840444_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Dec\\/13 19:19\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-12-05T19:19:22+0000\'\u003e05\\/Dec\\/13 19:19\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cblockquote\u003e\u003cp\u003eIn any case we should fix the parser to accept the content type: ...\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003eAgreed &#8211; what you and i are talking about now is definitely a bug, I\'m just not convinced i understand how Jakob ran into the specific error he\'s reportring &#8211; which scares me and makes me worried that there is some subtle second bug i\'m not seeing.\u003c\\/p\u003e\\n\\n\u003cp\u003eFWIW: My personal preference would be to refactor the APIs and abstract the content-type checking out HttpSolrServer, so that instead of calling ResponseParser.getContentType() and doing anything with the value, it calls a new ResponseParser.canParseContentType(String) ... put the logic you are taking about into the XMLResponseParser.canParseContentType, and add some basic backcompat support into ResponseParser.canParseContentType that does a simple case\\/whitespace insensitive comparison.\u003c\\/p\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"hossman\\\" id=\\\"commentauthor_13840444_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=hossman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"hossman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Hoss Man\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13840444_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Dec\\/13 19:19\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-12-05T19:19:22+0000\'\u003e05\\/Dec\\/13 19:19\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     In any case we should fix the parser to accept the content type: ...  \\n\\n Agreed &#8211; what you and i are talking about now is definitely a bug, I\'m just not convinced i understand how Jakob ran into the specific error he\'s reportring &#8211; which scares me and makes me worried that there is some subtle second bug i\'m not seeing. \\n\\n FWIW: My personal preference would be to refactor the APIs and abstract the content-type checking out HttpSolrServer, so that instead of calling ResponseParser.getContentType() and doing anything with the value, it calls a new ResponseParser.canParseContentType(String) ... put the logic you are taking about into the XMLResponseParser.canParseContentType, and add some basic backcompat support into ResponseParser.canParseContentType that does a simple case\\/whitespace insensitive comparison. \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13840468\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-5532?focusedCommentId=13840468&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13840468\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jafurrer\\\" id=\\\"commentauthor_13840468_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jafurrer\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jafurrer\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Jakob Furrer\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13840468_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Dec\\/13 19:36\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-12-05T19:36:25+0000\'\u003e05\\/Dec\\/13 19:36\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThanks for looking into this issue so fast.\u003cbr\\/\u003e\\nAnd my apologies for being very sloppy in the bug description.\u003cbr\\/\u003e\\nDue to time constraints, I did not test the code provided above in a standalone setting.\u003cbr\\/\u003e\\nI am aware that this is a big no-no. Mea culpa.\u003c\\/p\u003e\\n\\n\u003cp\u003eI only now figured out that setting the XMLResponseParser triggers the Exception\u003c\\/p\u003e\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003esolrServer.setParser(\u003cspan class=\\\"code-keyword\\\"\u003enew\u003c\\/span\u003e XMLResponseParser());\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\u003cp\u003eSetting the BinaryRequestWriter or not does not influence the result for me.\u003c\\/p\u003e\\n\\n\u003cp\u003eSide-Question:\u003cbr\\/\u003e\\nThe XMLResponseParser is set in my custom application since very long. I cannot recall when or why set that specific parser.\u003cbr\\/\u003e\\nCould anyone give my some information whether, when or why this parser should (not) be set?\u003c\\/p\u003e\\n\\n\u003cp\u003eAs for\u003c\\/p\u003e\\n\u003cblockquote\u003e\\n\u003cp\u003eA global search for \\\"charset=UTF-8\\\" on the source code of solrj indicates that other functions besides \\\"ping\\\" might be affected as well, because there are several places where \\\"application\\/xml; charset=UTF-8\\\" is spelled without a space after the semicolon.\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\u003cp\u003eI am not familiar with the Solr sourcecode at all. I saw these search results, where \\\"; charset=utf-8\\\" appears 62 times and \\\";charset=utf-8\\\" appears 12 times.\u003cbr\\/\u003e\\nFrom that I conclude that there is an inconsistency how to spell this encoding type within this library.\u003c\\/p\u003e\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003eSuchen nach: charset=UTF-8\\nlucene\\\\common-build.xml(2241): html.append(\u003cspan class=\\\"code-quote\\\"\u003e\'&lt;meta http-equiv=\u003cspan class=\\\"code-quote\\\"\u003e\\\"Content-Type\\\"\u003c\\/span\u003e content=\u003cspan class=\\\"code-quote\\\"\u003e\\\"text\\/html; charset=UTF-8\\\"\u003c\\/span\u003e&gt;\\\\n\'\u003c\\/span\u003e)\\nlucene\\\\analysis\\\\common\\\\src\\\\java\\\\org\\\\apache\\\\lucene\\\\analysis\\\\cjk\\\\\u003cspan class=\\\"code-keyword\\\"\u003epackage\u003c\\/span\u003e.html(20): &lt;META http-equiv=\u003cspan class=\\\"code-quote\\\"\u003e\\\"Content-Type\\\"\u003c\\/span\u003e content=\u003cspan class=\\\"code-quote\\\"\u003e\\\"text\\/html; charset=UTF-8\\\"\u003c\\/span\u003e&gt;\\nlucene\\\\analysis\\\\common\\\\src\\\\java\\\\org\\\\apache\\\\lucene\\\\analysis\\\\cn\\\\\u003cspan class=\\\"code-keyword\\\"\u003epackage\u003c\\/span\u003e.html(20): &lt;META http-equiv=\u003cspan class=\\\"code-quote\\\"\u003e\\\"Content-Type\\\"\u003c\\/span\u003e content=\u003cspan class=\\\"code-quote\\\"\u003e\\\"text\\/html; charset=UTF-8\\\"\u003c\\/span\u003e&gt;\\nlucene\\\\analysis\\\\common\\\\src\\\\test\\\\org\\\\apache\\\\lucene\\\\analysis\\\\charfilter\\\\htmlStripReaderTest.html(4): &lt;META http-equiv=\u003cspan class=\\\"code-quote\\\"\u003e\\\"Content-Type\\\"\u003c\\/span\u003e content=\u003cspan class=\\\"code-quote\\\"\u003e\\\"text\\/html; charset=UTF-8\\\"\u003c\\/span\u003e&gt;\\nlucene\\\\analysis\\\\common\\\\src\\\\test\\\\org\\\\apache\\\\lucene\\\\analysis\\\\core\\\\LuceneResourcesWikiPage.html(4): &lt;meta http-equiv=\u003cspan class=\\\"code-quote\\\"\u003e\\\"Content-Type\\\"\u003c\\/span\u003e content=\u003cspan class=\\\"code-quote\\\"\u003e\\\"text\\/html;charset=utf-8\\\"\u003c\\/span\u003e&gt;\\nlucene\\\\analysis\\\\icu\\\\src\\\\java\\\\overview.html(19): &lt;META http-equiv=\u003cspan class=\\\"code-quote\\\"\u003e\\\"Content-Type\\\"\u003c\\/span\u003e content=\u003cspan class=\\\"code-quote\\\"\u003e\\\"text\\/html; charset=UTF-8\\\"\u003c\\/span\u003e&gt;\\nlucene\\\\analysis\\\\morfologik\\\\src\\\\java\\\\overview.html(20): &lt;meta http-equiv=\u003cspan class=\\\"code-quote\\\"\u003e\\\"Content-Type\\\"\u003c\\/span\u003e content=\u003cspan class=\\\"code-quote\\\"\u003e\\\"text\\/html;charset=UTF-8\\\"\u003c\\/span\u003e \\/&gt;\\nlucene\\\\analysis\\\\morfologik\\\\src\\\\java\\\\org\\\\apache\\\\lucene\\\\analysis\\\\morfologik\\\\\u003cspan class=\\\"code-keyword\\\"\u003epackage\u003c\\/span\u003e.html(20): &lt;meta http-equiv=\u003cspan class=\\\"code-quote\\\"\u003e\\\"Content-Type\\\"\u003c\\/span\u003e content=\u003cspan class=\\\"code-quote\\\"\u003e\\\"text\\/html;charset=UTF-8\\\"\u003c\\/span\u003e \\/&gt;\\nlucene\\\\analysis\\\\smartcn\\\\src\\\\java\\\\org\\\\apache\\\\lucene\\\\analysis\\\\cn\\\\smart\\\\\u003cspan class=\\\"code-keyword\\\"\u003epackage\u003c\\/span\u003e.html(20): &lt;META http-equiv=\u003cspan class=\\\"code-quote\\\"\u003e\\\"Content-Type\\\"\u003c\\/span\u003e content=\u003cspan class=\\\"code-quote\\\"\u003e\\\"text\\/html; charset=UTF-8\\\"\u003c\\/span\u003e&gt;\\nlucene\\\\analysis\\\\smartcn\\\\src\\\\java\\\\org\\\\apache\\\\lucene\\\\analysis\\\\cn\\\\smart\\\\hhmm\\\\\u003cspan class=\\\"code-keyword\\\"\u003epackage\u003c\\/span\u003e.html(19): &lt;META http-equiv=\u003cspan class=\\\"code-quote\\\"\u003e\\\"Content-Type\\\"\u003c\\/span\u003e content=\u003cspan class=\\\"code-quote\\\"\u003e\\\"text\\/html; charset=UTF-8\\\"\u003c\\/span\u003e&gt;\\nlucene\\\\analysis\\\\stempel\\\\src\\\\java\\\\overview.html(20): &lt;meta content=\u003cspan class=\\\"code-quote\\\"\u003e\\\"text\\/html; charset=UTF-8\\\"\u003c\\/span\u003e http-equiv=\u003cspan class=\\\"code-quote\\\"\u003e\\\"content-type\\\"\u003c\\/span\u003e&gt;\\nlucene\\\\benchmark\\\\src\\\\test\\\\org\\\\apache\\\\lucene\\\\benchmark\\\\byTask\\\\feeds\\\\TestHtmlParser.java(76): \u003cspan class=\\\"code-quote\\\"\u003e\\\"&lt;meta http-equiv=\\\\\\\"\u003c\\/span\u003eContent-Type\\\\\u003cspan class=\\\"code-quote\\\"\u003e\\\" content=\\\\\\\"\u003c\\/span\u003etext\\/html;charset=UTF-8\\\\\u003cspan class=\\\"code-quote\\\"\u003e\\\" \\/&gt;\\\"\u003c\\/span\u003e +\\nlucene\\\\benchmark\\\\src\\\\test\\\\org\\\\apache\\\\lucene\\\\benchmark\\\\byTask\\\\feeds\\\\TestHtmlParser.java(84): assertEquals(\u003cspan class=\\\"code-quote\\\"\u003e\\\"text\\/html;charset=UTF-8\\\"\u003c\\/span\u003e, tags.get(\u003cspan class=\\\"code-quote\\\"\u003e\\\"content-type\\\"\u003c\\/span\u003e));\\nlucene\\\\demo\\\\src\\\\java\\\\overview.html(19): &lt;meta http-equiv=\u003cspan class=\\\"code-quote\\\"\u003e\\\"Content-Type\\\"\u003c\\/span\u003e content=\u003cspan class=\\\"code-quote\\\"\u003e\\\"text\\/html; charset=utf-8\\\"\u003c\\/span\u003e&gt;\\nlucene\\\\queryparser\\\\docs\\\\xml\\\\LuceneContribQuery.dtd.entities.html(3): &lt;meta http-equiv=\u003cspan class=\\\"code-quote\\\"\u003e\'CONTENT-TYPE\'\u003c\\/span\u003e content=\u003cspan class=\\\"code-quote\\\"\u003e\'text\\/html; charset=UTF-8\'\u003c\\/span\u003e \\/&gt;\\nlucene\\\\queryparser\\\\docs\\\\xml\\\\LuceneContribQuery.dtd.html(3): &lt;meta http-equiv=\u003cspan class=\\\"code-quote\\\"\u003e\'CONTENT-TYPE\'\u003c\\/span\u003e content=\u003cspan class=\\\"code-quote\\\"\u003e\'text\\/html; charset=UTF-8\'\u003c\\/span\u003e \\/&gt;\\nlucene\\\\queryparser\\\\docs\\\\xml\\\\LuceneContribQuery.dtd.org.html(3): &lt;meta http-equiv=\u003cspan class=\\\"code-quote\\\"\u003e\'CONTENT-TYPE\'\u003c\\/span\u003e content=\u003cspan class=\\\"code-quote\\\"\u003e\'text\\/html; charset=UTF-8\'\u003c\\/span\u003e \\/&gt;\\nlucene\\\\queryparser\\\\docs\\\\xml\\\\LuceneCoreQuery.dtd.entities.html(3): &lt;meta http-equiv=\u003cspan class=\\\"code-quote\\\"\u003e\'CONTENT-TYPE\'\u003c\\/span\u003e content=\u003cspan class=\\\"code-quote\\\"\u003e\'text\\/html; charset=UTF-8\'\u003c\\/span\u003e \\/&gt;\\nlucene\\\\queryparser\\\\docs\\\\xml\\\\LuceneCoreQuery.dtd.html(3): &lt;meta http-equiv=\u003cspan class=\\\"code-quote\\\"\u003e\'CONTENT-TYPE\'\u003c\\/span\u003e content=\u003cspan class=\\\"code-quote\\\"\u003e\'text\\/html; charset=UTF-8\'\u003c\\/span\u003e \\/&gt;\\nlucene\\\\queryparser\\\\docs\\\\xml\\\\LuceneCoreQuery.dtd.org.html(3): &lt;meta http-equiv=\u003cspan class=\\\"code-quote\\\"\u003e\'CONTENT-TYPE\'\u003c\\/span\u003e content=\u003cspan class=\\\"code-quote\\\"\u003e\'text\\/html; charset=UTF-8\'\u003c\\/span\u003e \\/&gt;\\nlucene\\\\site\\\\changes\\\\changes2html.pl(258): &lt;META http-equiv=\u003cspan class=\\\"code-quote\\\"\u003e\\\"Content-Type\\\"\u003c\\/span\u003e content=\u003cspan class=\\\"code-quote\\\"\u003e\\\"text\\/html; charset=UTF-8\\\"\u003c\\/span\u003e\\/&gt;\\nsolr\\\\CHANGES.txt(7359): have a valid contentType: curl -H \u003cspan class=\\\"code-quote\\\"\u003e\'Content-type:text\\/xml; charset=utf-8\'\u003c\\/span\u003e \\nsolr\\\\CHANGES.txt(7451): content.  Using the contentType: \u003cspan class=\\\"code-quote\\\"\u003e\\\"text\\/xml; charset=utf-8\\\"\u003c\\/span\u003e will force\\nsolr\\\\contrib\\\\clustering\\\\src\\\\test-files\\\\clustering\\\\solr\\\\collection1\\\\conf\\\\solrconfig.xml(421): the body. For example, curl now requires: -H \u003cspan class=\\\"code-quote\\\"\u003e\'Content-type:text\\/xml; charset=utf-8\'\u003c\\/span\u003e\\nsolr\\\\contrib\\\\dataimporthandler\\\\src\\\\test-files\\\\dih\\\\solr\\\\collection1\\\\conf\\\\contentstream-solrconfig.xml(296): the body. For example, curl now requires: -H \u003cspan class=\\\"code-quote\\\"\u003e\'Content-type:text\\/xml; charset=utf-8\'\u003c\\/span\u003e\\nsolr\\\\contrib\\\\dataimporthandler\\\\src\\\\test-files\\\\dih\\\\solr\\\\collection1\\\\conf\\\\dataimport-nodatasource-solrconfig.xml(294): the body. For example, curl now requires: -H \u003cspan class=\\\"code-quote\\\"\u003e\'Content-type:text\\/xml; charset=utf-8\'\u003c\\/span\u003e\\nsolr\\\\contrib\\\\dataimporthandler\\\\src\\\\test-files\\\\dih\\\\solr\\\\collection1\\\\conf\\\\dataimport-solrconfig.xml(295): the body. For example, curl now requires: -H \u003cspan class=\\\"code-quote\\\"\u003e\'Content-type:text\\/xml; charset=utf-8\'\u003c\\/span\u003e\\nsolr\\\\contrib\\\\dataimporthandler-extras\\\\src\\\\test-files\\\\dihextras\\\\solr\\\\collection1\\\\conf\\\\dataimport-solrconfig.xml(292): the body. For example, curl now requires: -H \u003cspan class=\\\"code-quote\\\"\u003e\'Content-type:text\\/xml; charset=utf-8\'\u003c\\/span\u003e\\nsolr\\\\contrib\\\\uima\\\\src\\\\test-files\\\\uima\\\\uima-tokenizers-solrconfig.xml(639): now requires: -H \u003cspan class=\\\"code-quote\\\"\u003e\'Content-type:text\\/xml; charset=utf-8\'\u003c\\/span\u003e The response\\nsolr\\\\contrib\\\\uima\\\\src\\\\test-files\\\\uima\\\\solr\\\\collection1\\\\conf\\\\solrconfig.xml(640): now requires: -H \u003cspan class=\\\"code-quote\\\"\u003e\'Content-type:text\\/xml; charset=utf-8\'\u003c\\/span\u003e The response\\nsolr\\\\contrib\\\\velocity\\\\src\\\\java\\\\org\\\\apache\\\\solr\\\\response\\\\VelocityResponseWriter.java(174): \u003cspan class=\\\"code-keyword\\\"\u003ereturn\u003c\\/span\u003e request.getParams().get(\u003cspan class=\\\"code-quote\\\"\u003e\\\"v.contentType\\\"\u003c\\/span\u003e, \u003cspan class=\\\"code-quote\\\"\u003e\\\"text\\/html;charset=UTF-8\\\"\u003c\\/span\u003e);\\nsolr\\\\core\\\\src\\\\java\\\\org\\\\apache\\\\solr\\\\response\\\\JSONResponseWriter.java(44): \u003cspan class=\\\"code-keyword\\\"\u003estatic\u003c\\/span\u003e \u003cspan class=\\\"code-object\\\"\u003eString\u003c\\/span\u003e CONTENT_TYPE_JSON_UTF8 = \u003cspan class=\\\"code-quote\\\"\u003e\\\"application\\/json; charset=UTF-8\\\"\u003c\\/span\u003e;\\nsolr\\\\core\\\\src\\\\java\\\\org\\\\apache\\\\solr\\\\response\\\\PHPResponseWriter.java(27): \u003cspan class=\\\"code-keyword\\\"\u003estatic\u003c\\/span\u003e \u003cspan class=\\\"code-object\\\"\u003eString\u003c\\/span\u003e CONTENT_TYPE_PHP_UTF8=\u003cspan class=\\\"code-quote\\\"\u003e\\\"text\\/x-php;charset=UTF-8\\\"\u003c\\/span\u003e;\\nsolr\\\\core\\\\src\\\\java\\\\org\\\\apache\\\\solr\\\\response\\\\PHPSerializedResponseWriter.java(42): \u003cspan class=\\\"code-keyword\\\"\u003estatic\u003c\\/span\u003e \u003cspan class=\\\"code-object\\\"\u003eString\u003c\\/span\u003e CONTENT_TYPE_PHP_UTF8=\u003cspan class=\\\"code-quote\\\"\u003e\\\"text\\/x-php-serialized;charset=UTF-8\\\"\u003c\\/span\u003e;\\nsolr\\\\core\\\\src\\\\java\\\\org\\\\apache\\\\solr\\\\response\\\\QueryResponseWriter.java(46): \u003cspan class=\\\"code-keyword\\\"\u003epublic\u003c\\/span\u003e \u003cspan class=\\\"code-keyword\\\"\u003estatic\u003c\\/span\u003e \u003cspan class=\\\"code-object\\\"\u003eString\u003c\\/span\u003e CONTENT_TYPE_XML_UTF8=\u003cspan class=\\\"code-quote\\\"\u003e\\\"application\\/xml; charset=UTF-8\\\"\u003c\\/span\u003e;\\nsolr\\\\core\\\\src\\\\java\\\\org\\\\apache\\\\solr\\\\response\\\\QueryResponseWriter.java(47): \u003cspan class=\\\"code-keyword\\\"\u003epublic\u003c\\/span\u003e \u003cspan class=\\\"code-keyword\\\"\u003estatic\u003c\\/span\u003e \u003cspan class=\\\"code-object\\\"\u003eString\u003c\\/span\u003e CONTENT_TYPE_TEXT_UTF8=\u003cspan class=\\\"code-quote\\\"\u003e\\\"text\\/plain; charset=UTF-8\\\"\u003c\\/span\u003e;\\nsolr\\\\core\\\\src\\\\java\\\\org\\\\apache\\\\solr\\\\response\\\\RubyResponseWriter.java(26): \u003cspan class=\\\"code-keyword\\\"\u003estatic\u003c\\/span\u003e \u003cspan class=\\\"code-object\\\"\u003eString\u003c\\/span\u003e CONTENT_TYPE_RUBY_UTF8=\u003cspan class=\\\"code-quote\\\"\u003e\\\"text\\/x-ruby;charset=UTF-8\\\"\u003c\\/span\u003e;\\nsolr\\\\core\\\\src\\\\java\\\\org\\\\apache\\\\solr\\\\servlet\\\\SolrRequestParsers.java(638): \u003cspan class=\\\"code-keyword\\\"\u003eif\u003c\\/span\u003e( idx &gt; 0 ) { \u003cspan class=\\\"code-comment\\\"\u003e\\/\\/ remove the charset definition \u003cspan class=\\\"code-quote\\\"\u003e\\\"; charset=utf-8\\\"\u003c\\/span\u003e\\n\u003c\\/span\u003esolr\\\\core\\\\src\\\\test\\\\org\\\\apache\\\\solr\\\\analysis\\\\htmlStripReaderTest.html(4): &lt;META http-equiv=\u003cspan class=\\\"code-quote\\\"\u003e\\\"Content-Type\\\"\u003c\\/span\u003e content=\u003cspan class=\\\"code-quote\\\"\u003e\\\"text\\/html; charset=UTF-8\\\"\u003c\\/span\u003e&gt;\\nsolr\\\\core\\\\src\\\\test\\\\org\\\\apache\\\\solr\\\\servlet\\\\SolrRequestParserTest.java(216): \u003cspan class=\\\"code-quote\\\"\u003e\\\"application\\/x-www-form-urlencoded; charset=utf-8\\\"\u003c\\/span\u003e,\\nsolr\\\\core\\\\src\\\\test-files\\\\solr\\\\collection1\\\\conf\\\\solrconfig-implicitproperties.xml(77): &lt;str name=\u003cspan class=\\\"code-quote\\\"\u003e\\\"content-type\\\"\u003c\\/span\u003e&gt;text\\/plain; charset=UTF-8&lt;\\/str&gt;\\nsolr\\\\docs\\\\changes\\\\Changes.html(31): &lt;META http-equiv=\u003cspan class=\\\"code-quote\\\"\u003e\\\"Content-Type\\\"\u003c\\/span\u003e content=\u003cspan class=\\\"code-quote\\\"\u003e\\\"text\\/html; charset=UTF-8\\\"\u003c\\/span\u003e\\/&gt;\\nsolr\\\\docs\\\\changes\\\\Changes.html(7435): have a valid contentType: curl -H \u003cspan class=\\\"code-quote\\\"\u003e\'Content-type:text\\/xml; charset=utf-8\'\u003c\\/span\u003e\\nsolr\\\\docs\\\\changes\\\\Changes.html(7527): content.  Using the contentType: \u003cspan class=\\\"code-quote\\\"\u003e\\\"text\\/xml; charset=utf-8\\\"\u003c\\/span\u003e will force\\nsolr\\\\example\\\\example-DIH\\\\solr\\\\db\\\\conf\\\\solrconfig.xml(407): the body. For example, curl now requires: -H \u003cspan class=\\\"code-quote\\\"\u003e\'Content-type:text\\/xml; charset=utf-8\'\u003c\\/span\u003e\\nsolr\\\\example\\\\example-DIH\\\\solr\\\\db\\\\conf\\\\xslt\\\\example.xsl(27): &lt;xsl:output media-type=\u003cspan class=\\\"code-quote\\\"\u003e\\\"text\\/html; charset=UTF-8\\\"\u003c\\/span\u003e encoding=\u003cspan class=\\\"code-quote\\\"\u003e\\\"UTF-8\\\"\u003c\\/span\u003e\\/&gt; \\nsolr\\\\example\\\\example-DIH\\\\solr\\\\db\\\\conf\\\\xslt\\\\luke.xsl(38): &lt;meta http-equiv=\u003cspan class=\\\"code-quote\\\"\u003e\\\"Content-Type\\\"\u003c\\/span\u003e content=\u003cspan class=\\\"code-quote\\\"\u003e\\\"application\\/xhtml+xml; charset=UTF-8\\\"\u003c\\/span\u003e\\/&gt;\\nsolr\\\\example\\\\example-DIH\\\\solr\\\\mail\\\\conf\\\\solrconfig.xml(565): the body. For example, curl now requires: -H \u003cspan class=\\\"code-quote\\\"\u003e\'Content-type:text\\/xml; charset=utf-8\'\u003c\\/span\u003e\\nsolr\\\\example\\\\example-DIH\\\\solr\\\\rss\\\\conf\\\\solrconfig.xml(406): the body. For example, curl now requires: -H \u003cspan class=\\\"code-quote\\\"\u003e\'Content-type:text\\/xml; charset=utf-8\'\u003c\\/span\u003e\\nsolr\\\\example\\\\example-DIH\\\\solr\\\\solr\\\\conf\\\\solrconfig.xml(405): the body. For example, curl now requires: -H \u003cspan class=\\\"code-quote\\\"\u003e\'Content-type:text\\/xml; charset=utf-8\'\u003c\\/span\u003e\\nsolr\\\\example\\\\example-DIH\\\\solr\\\\tika\\\\conf\\\\solrconfig.xml(326): the body. For example, curl now requires: -H \u003cspan class=\\\"code-quote\\\"\u003e\'Content-type:text\\/xml; charset=utf-8\'\u003c\\/span\u003e\\nsolr\\\\example\\\\example-schemaless\\\\solr\\\\collection1\\\\conf\\\\solrconfig.xml(999): requires: -H \u003cspan class=\\\"code-quote\\\"\u003e\'Content-type:text\\/xml; charset=utf-8\'\u003c\\/span\u003e\\nsolr\\\\example\\\\example-schemaless\\\\solr\\\\collection1\\\\conf\\\\solrconfig.xml(1710): &lt;str name=\u003cspan class=\\\"code-quote\\\"\u003e\\\"content-type\\\"\u003c\\/span\u003e&gt;text\\/plain; charset=UTF-8&lt;\\/str&gt;\\nsolr\\\\example\\\\exampledocs\\\\test_utf8.sh(41): curl $URL\\/select --data-binary \u003cspan class=\\\"code-quote\\\"\u003e\'q=h%C3%A9llo&amp;echoParams=explicit&amp;wt=python\'\u003c\\/span\u003e -H \u003cspan class=\\\"code-quote\\\"\u003e\'Content-type:application\\/x-www-form-urlencoded; charset=UTF-8\'\u003c\\/span\u003e 2&gt; \\/dev\\/\u003cspan class=\\\"code-keyword\\\"\u003enull\u003c\\/span\u003e | grep \u003cspan class=\\\"code-quote\\\"\u003e\'h\\\\\\\\u00e9llo\'\u003c\\/span\u003e &gt; \\/dev\\/\u003cspan class=\\\"code-keyword\\\"\u003enull\u003c\\/span\u003e 2&gt;&amp;1\\nsolr\\\\example\\\\exampledocs\\\\test_utf8.sh(71): curl $URL\\/select --data-binary \u003cspan class=\\\"code-quote\\\"\u003e\\\"q=$URL_UTF8&amp;echoParams=explicit&amp;wt=python\\\"\u003c\\/span\u003e  -H \u003cspan class=\\\"code-quote\\\"\u003e\'Content-type:application\\/x-www-form-urlencoded; charset=UTF-8\'\u003c\\/span\u003e 2&gt; \\/dev\\/\u003cspan class=\\\"code-keyword\\\"\u003enull\u003c\\/span\u003e | grep $EXPECTED &gt; \\/dev\\/\u003cspan class=\\\"code-keyword\\\"\u003enull\u003c\\/span\u003e 2&gt;&amp;1\\nsolr\\\\example\\\\solr\\\\collection1\\\\conf\\\\solrconfig.xml(1006): requires: -H \u003cspan class=\\\"code-quote\\\"\u003e\'Content-type:text\\/xml; charset=utf-8\'\u003c\\/span\u003e\\nsolr\\\\example\\\\solr\\\\collection1\\\\conf\\\\solrconfig.xml(1751): &lt;str name=\u003cspan class=\\\"code-quote\\\"\u003e\\\"content-type\\\"\u003c\\/span\u003e&gt;text\\/plain; charset=UTF-8&lt;\\/str&gt;\\nsolr\\\\example\\\\solr\\\\collection1\\\\conf\\\\velocity\\\\head.vm(7): &lt;meta http-equiv=\u003cspan class=\\\"code-quote\\\"\u003e\\\"content-type\\\"\u003c\\/span\u003e content=\u003cspan class=\\\"code-quote\\\"\u003e\\\"text\\/html; charset=UTF-8\\\"\u003c\\/span\u003e\\/&gt;\\nsolr\\\\scripts\\\\abc(95): rs=`curl ${curl_url} -s -H \u003cspan class=\\\"code-quote\\\"\u003e\'Content-type:text\\/xml; charset=utf-8\'\u003c\\/span\u003e -d \u003cspan class=\\\"code-quote\\\"\u003e\\\"&lt;commit\\/&gt;\\\"\u003c\\/span\u003e`\\nsolr\\\\scripts\\\\abo(94): rs=`curl ${curl_url} -s -H \u003cspan class=\\\"code-quote\\\"\u003e\'Content-type:text\\/xml; charset=utf-8\'\u003c\\/span\u003e -d \u003cspan class=\\\"code-quote\\\"\u003e\\\"&lt;optimize\\/&gt;\\\"\u003c\\/span\u003e`\\nsolr\\\\scripts\\\\commit(87): rs=`curl ${curl_url} -s -H \u003cspan class=\\\"code-quote\\\"\u003e\'Content-type:text\\/xml; charset=utf-8\'\u003c\\/span\u003e -d \u003cspan class=\\\"code-quote\\\"\u003e\\\"&lt;commit\\/&gt;\\\"\u003c\\/span\u003e`\\nsolr\\\\scripts\\\\optimize(87): rs=`curl ${curl_url} -s -H \u003cspan class=\\\"code-quote\\\"\u003e\'Content-type:text\\/xml; charset=utf-8\'\u003c\\/span\u003e -d \u003cspan class=\\\"code-quote\\\"\u003e\\\"&lt;optimize\\/&gt;\\\"\u003c\\/span\u003e`\\nsolr\\\\site\\\\html\\\\tutorial.html(20): &lt;META http-equiv=\u003cspan class=\\\"code-quote\\\"\u003e\\\"Content-Type\\\"\u003c\\/span\u003e content=\u003cspan class=\\\"code-quote\\\"\u003e\\\"text\\/html; charset=UTF-8\\\"\u003c\\/span\u003e \\/&gt;\\nsolr\\\\solrj\\\\src\\\\java\\\\org\\\\apache\\\\solr\\\\client\\\\solrj\\\\impl\\\\HttpSolrServer.java(273): \u003cspan class=\\\"code-quote\\\"\u003e\\\"application\\/x-www-form-urlencoded; charset=UTF-8\\\"\u003c\\/span\u003e);\\nsolr\\\\solrj\\\\src\\\\java\\\\org\\\\apache\\\\solr\\\\client\\\\solrj\\\\impl\\\\XMLResponseParser.java(50): \u003cspan class=\\\"code-keyword\\\"\u003epublic\u003c\\/span\u003e \u003cspan class=\\\"code-keyword\\\"\u003estatic\u003c\\/span\u003e \u003cspan class=\\\"code-keyword\\\"\u003efinal\u003c\\/span\u003e \u003cspan class=\\\"code-object\\\"\u003eString\u003c\\/span\u003e XML_CONTENT_TYPE = \u003cspan class=\\\"code-quote\\\"\u003e\\\"application\\/xml; charset=UTF-8\\\"\u003c\\/span\u003e;\\nsolr\\\\solrj\\\\src\\\\java\\\\org\\\\apache\\\\solr\\\\client\\\\solrj\\\\util\\\\ClientUtils.java(54): \u003cspan class=\\\"code-keyword\\\"\u003epublic\u003c\\/span\u003e \u003cspan class=\\\"code-keyword\\\"\u003estatic\u003c\\/span\u003e \u003cspan class=\\\"code-keyword\\\"\u003efinal\u003c\\/span\u003e \u003cspan class=\\\"code-object\\\"\u003eString\u003c\\/span\u003e TEXT_XML = \u003cspan class=\\\"code-quote\\\"\u003e\\\"application\\/xml; charset=UTF-8\\\"\u003c\\/span\u003e;  \\nsolr\\\\solrj\\\\src\\\\test\\\\org\\\\apache\\\\solr\\\\client\\\\solrj\\\\impl\\\\BasicHttpSolrServerTest.java(253): assertEquals(\u003cspan class=\\\"code-quote\\\"\u003e\\\"application\\/x-www-form-urlencoded; charset=UTF-8\\\"\u003c\\/span\u003e, DebugServlet.headers.get(\u003cspan class=\\\"code-quote\\\"\u003e\\\"Content-Type\\\"\u003c\\/span\u003e));\\nsolr\\\\solrj\\\\src\\\\test\\\\org\\\\apache\\\\solr\\\\client\\\\solrj\\\\impl\\\\BasicHttpSolrServerTest.java(289): assertEquals(\u003cspan class=\\\"code-quote\\\"\u003e\\\"application\\/x-www-form-urlencoded; charset=UTF-8\\\"\u003c\\/span\u003e, DebugServlet.headers.get(\u003cspan class=\\\"code-quote\\\"\u003e\\\"Content-Type\\\"\u003c\\/span\u003e));\\nsolr\\\\solrj\\\\src\\\\test\\\\org\\\\apache\\\\solr\\\\client\\\\solrj\\\\impl\\\\BasicHttpSolrServerTest.java(358): assertEquals(\u003cspan class=\\\"code-quote\\\"\u003e\\\"application\\/xml; charset=UTF-8\\\"\u003c\\/span\u003e, DebugServlet.headers.get(\u003cspan class=\\\"code-quote\\\"\u003e\\\"Content-Type\\\"\u003c\\/span\u003e));\\nsolr\\\\solrj\\\\src\\\\test\\\\org\\\\apache\\\\solr\\\\client\\\\solrj\\\\impl\\\\BasicHttpSolrServerTest.java(374): assertEquals(\u003cspan class=\\\"code-quote\\\"\u003e\\\"application\\/xml; charset=UTF-8\\\"\u003c\\/span\u003e, DebugServlet.headers.get(\u003cspan class=\\\"code-quote\\\"\u003e\\\"Content-Type\\\"\u003c\\/span\u003e));\\nsolr\\\\test-framework\\\\src\\\\java\\\\org\\\\apache\\\\solr\\\\util\\\\RestTestHarness.java(149): connection.setRequestProperty(\u003cspan class=\\\"code-quote\\\"\u003e\\\"Content-Type\\\"\u003c\\/span\u003e, \u003cspan class=\\\"code-quote\\\"\u003e\\\"application\\/json; charset=utf-8\\\"\u003c\\/span\u003e);\\nsolr\\\\webapp\\\\web\\\\js\\\\scripts\\\\dashboard.js(57): core_basepath + \u003cspan class=\\\"code-quote\\\"\u003e\'\\/admin\\/file\\/?file=admin-extra.menu-top.html&amp;contentType=text\\/html;charset=utf-8\'\u003c\\/span\u003e,\\nsolr\\\\webapp\\\\web\\\\js\\\\scripts\\\\dashboard.js(67): core_basepath + \u003cspan class=\\\"code-quote\\\"\u003e\'\\/admin\\/file\\/?file=admin-extra.menu-bottom.html&amp;contentType=text\\/html;charset=utf-8\'\u003c\\/span\u003e,\\nsolr\\\\webapp\\\\web\\\\js\\\\scripts\\\\file.js(29): + \u003cspan class=\\\"code-quote\\\"\u003e\'&amp;contentType=text\\/xml;charset=utf-8\'\u003c\\/span\u003e;\\nEs wurden 74 Vorkommen in 62 Datei(en) gefunden.\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jafurrer\\\" id=\\\"commentauthor_13840468_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jafurrer\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jafurrer\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Jakob Furrer\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13840468_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Dec\\/13 19:36\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-12-05T19:36:25+0000\'\u003e05\\/Dec\\/13 19:36\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Thanks for looking into this issue so fast. \\nAnd my apologies for being very sloppy in the bug description. \\nDue to time constraints, I did not test the code provided above in a standalone setting. \\nI am aware that this is a big no-no. Mea culpa. \\n\\n I only now figured out that setting the XMLResponseParser triggers the Exception \\n  \\n solrServer.setParser( new  XMLResponseParser());\\n \\n  \\n Setting the BinaryRequestWriter or not does not influence the result for me. \\n\\n Side-Question: \\nThe XMLResponseParser is set in my custom application since very long. I cannot recall when or why set that specific parser. \\nCould anyone give my some information whether, when or why this parser should (not) be set? \\n\\n As for \\n \\n A global search for \\\"charset=UTF-8\\\" on the source code of solrj indicates that other functions besides \\\"ping\\\" might be affected as well, because there are several places where \\\"application\\/xml; charset=UTF-8\\\" is spelled without a space after the semicolon.  \\n I am not familiar with the Solr sourcecode at all. I saw these search results, where \\\"; charset=utf-8\\\" appears 62 times and \\\";charset=utf-8\\\" appears 12 times. \\nFrom that I conclude that there is an inconsistency how to spell this encoding type within this library. \\n  \\n Suchen nach: charset=UTF-8\\nlucene\\\\common-build.xml(2241): html.append( \'&lt;meta http-equiv= \\\"Content-Type\\\"  content= \\\"text\\/html; charset=UTF-8\\\" &gt;\\\\n\' )\\nlucene\\\\analysis\\\\common\\\\src\\\\java\\\\org\\\\apache\\\\lucene\\\\analysis\\\\cjk\\\\ package .html(20): &lt;META http-equiv= \\\"Content-Type\\\"  content= \\\"text\\/html; charset=UTF-8\\\" &gt;\\nlucene\\\\analysis\\\\common\\\\src\\\\java\\\\org\\\\apache\\\\lucene\\\\analysis\\\\cn\\\\ package .html(20): &lt;META http-equiv= \\\"Content-Type\\\"  content= \\\"text\\/html; charset=UTF-8\\\" &gt;\\nlucene\\\\analysis\\\\common\\\\src\\\\test\\\\org\\\\apache\\\\lucene\\\\analysis\\\\charfilter\\\\htmlStripReaderTest.html(4): &lt;META http-equiv= \\\"Content-Type\\\"  content= \\\"text\\/html; charset=UTF-8\\\" &gt;\\nlucene\\\\analysis\\\\common\\\\src\\\\test\\\\org\\\\apache\\\\lucene\\\\analysis\\\\core\\\\LuceneResourcesWikiPage.html(4): &lt;meta http-equiv= \\\"Content-Type\\\"  content= \\\"text\\/html;charset=utf-8\\\" &gt;\\nlucene\\\\analysis\\\\icu\\\\src\\\\java\\\\overview.html(19): &lt;META http-equiv= \\\"Content-Type\\\"  content= \\\"text\\/html; charset=UTF-8\\\" &gt;\\nlucene\\\\analysis\\\\morfologik\\\\src\\\\java\\\\overview.html(20): &lt;meta http-equiv= \\\"Content-Type\\\"  content= \\\"text\\/html;charset=UTF-8\\\"  \\/&gt;\\nlucene\\\\analysis\\\\morfologik\\\\src\\\\java\\\\org\\\\apache\\\\lucene\\\\analysis\\\\morfologik\\\\ package .html(20): &lt;meta http-equiv= \\\"Content-Type\\\"  content= \\\"text\\/html;charset=UTF-8\\\"  \\/&gt;\\nlucene\\\\analysis\\\\smartcn\\\\src\\\\java\\\\org\\\\apache\\\\lucene\\\\analysis\\\\cn\\\\smart\\\\ package .html(20): &lt;META http-equiv= \\\"Content-Type\\\"  content= \\\"text\\/html; charset=UTF-8\\\" &gt;\\nlucene\\\\analysis\\\\smartcn\\\\src\\\\java\\\\org\\\\apache\\\\lucene\\\\analysis\\\\cn\\\\smart\\\\hhmm\\\\ package .html(19): &lt;META http-equiv= \\\"Content-Type\\\"  content= \\\"text\\/html; charset=UTF-8\\\" &gt;\\nlucene\\\\analysis\\\\stempel\\\\src\\\\java\\\\overview.html(20): &lt;meta content= \\\"text\\/html; charset=UTF-8\\\"  http-equiv= \\\"content-type\\\" &gt;\\nlucene\\\\benchmark\\\\src\\\\test\\\\org\\\\apache\\\\lucene\\\\benchmark\\\\byTask\\\\feeds\\\\TestHtmlParser.java(76):  \\\"&lt;meta http-equiv=\\\\\\\" Content-Type\\\\ \\\" content=\\\\\\\" text\\/html;charset=UTF-8\\\\ \\\" \\/&gt;\\\"  +\\nlucene\\\\benchmark\\\\src\\\\test\\\\org\\\\apache\\\\lucene\\\\benchmark\\\\byTask\\\\feeds\\\\TestHtmlParser.java(84): assertEquals( \\\"text\\/html;charset=UTF-8\\\" , tags.get( \\\"content-type\\\" ));\\nlucene\\\\demo\\\\src\\\\java\\\\overview.html(19): &lt;meta http-equiv= \\\"Content-Type\\\"  content= \\\"text\\/html; charset=utf-8\\\" &gt;\\nlucene\\\\queryparser\\\\docs\\\\xml\\\\LuceneContribQuery.dtd.entities.html(3): &lt;meta http-equiv= \'CONTENT-TYPE\'  content= \'text\\/html; charset=UTF-8\'  \\/&gt;\\nlucene\\\\queryparser\\\\docs\\\\xml\\\\LuceneContribQuery.dtd.html(3): &lt;meta http-equiv= \'CONTENT-TYPE\'  content= \'text\\/html; charset=UTF-8\'  \\/&gt;\\nlucene\\\\queryparser\\\\docs\\\\xml\\\\LuceneContribQuery.dtd.org.html(3): &lt;meta http-equiv= \'CONTENT-TYPE\'  content= \'text\\/html; charset=UTF-8\'  \\/&gt;\\nlucene\\\\queryparser\\\\docs\\\\xml\\\\LuceneCoreQuery.dtd.entities.html(3): &lt;meta http-equiv= \'CONTENT-TYPE\'  content= \'text\\/html; charset=UTF-8\'  \\/&gt;\\nlucene\\\\queryparser\\\\docs\\\\xml\\\\LuceneCoreQuery.dtd.html(3): &lt;meta http-equiv= \'CONTENT-TYPE\'  content= \'text\\/html; charset=UTF-8\'  \\/&gt;\\nlucene\\\\queryparser\\\\docs\\\\xml\\\\LuceneCoreQuery.dtd.org.html(3): &lt;meta http-equiv= \'CONTENT-TYPE\'  content= \'text\\/html; charset=UTF-8\'  \\/&gt;\\nlucene\\\\site\\\\changes\\\\changes2html.pl(258): &lt;META http-equiv= \\\"Content-Type\\\"  content= \\\"text\\/html; charset=UTF-8\\\" \\/&gt;\\nsolr\\\\CHANGES.txt(7359): have a valid contentType: curl -H  \'Content-type:text\\/xml; charset=utf-8\'  \\nsolr\\\\CHANGES.txt(7451): content.  Using the contentType:  \\\"text\\/xml; charset=utf-8\\\"  will force\\nsolr\\\\contrib\\\\clustering\\\\src\\\\test-files\\\\clustering\\\\solr\\\\collection1\\\\conf\\\\solrconfig.xml(421): the body. For example, curl now requires: -H  \'Content-type:text\\/xml; charset=utf-8\' \\nsolr\\\\contrib\\\\dataimporthandler\\\\src\\\\test-files\\\\dih\\\\solr\\\\collection1\\\\conf\\\\contentstream-solrconfig.xml(296): the body. For example, curl now requires: -H  \'Content-type:text\\/xml; charset=utf-8\' \\nsolr\\\\contrib\\\\dataimporthandler\\\\src\\\\test-files\\\\dih\\\\solr\\\\collection1\\\\conf\\\\dataimport-nodatasource-solrconfig.xml(294): the body. For example, curl now requires: -H  \'Content-type:text\\/xml; charset=utf-8\' \\nsolr\\\\contrib\\\\dataimporthandler\\\\src\\\\test-files\\\\dih\\\\solr\\\\collection1\\\\conf\\\\dataimport-solrconfig.xml(295): the body. For example, curl now requires: -H  \'Content-type:text\\/xml; charset=utf-8\' \\nsolr\\\\contrib\\\\dataimporthandler-extras\\\\src\\\\test-files\\\\dihextras\\\\solr\\\\collection1\\\\conf\\\\dataimport-solrconfig.xml(292): the body. For example, curl now requires: -H  \'Content-type:text\\/xml; charset=utf-8\' \\nsolr\\\\contrib\\\\uima\\\\src\\\\test-files\\\\uima\\\\uima-tokenizers-solrconfig.xml(639): now requires: -H  \'Content-type:text\\/xml; charset=utf-8\'  The response\\nsolr\\\\contrib\\\\uima\\\\src\\\\test-files\\\\uima\\\\solr\\\\collection1\\\\conf\\\\solrconfig.xml(640): now requires: -H  \'Content-type:text\\/xml; charset=utf-8\'  The response\\nsolr\\\\contrib\\\\velocity\\\\src\\\\java\\\\org\\\\apache\\\\solr\\\\response\\\\VelocityResponseWriter.java(174):  return  request.getParams().get( \\\"v.contentType\\\" ,  \\\"text\\/html;charset=UTF-8\\\" );\\nsolr\\\\core\\\\src\\\\java\\\\org\\\\apache\\\\solr\\\\response\\\\JSONResponseWriter.java(44):  static   String  CONTENT_TYPE_JSON_UTF8 =  \\\"application\\/json; charset=UTF-8\\\" ;\\nsolr\\\\core\\\\src\\\\java\\\\org\\\\apache\\\\solr\\\\response\\\\PHPResponseWriter.java(27):  static   String  CONTENT_TYPE_PHP_UTF8= \\\"text\\/x-php;charset=UTF-8\\\" ;\\nsolr\\\\core\\\\src\\\\java\\\\org\\\\apache\\\\solr\\\\response\\\\PHPSerializedResponseWriter.java(42):  static   String  CONTENT_TYPE_PHP_UTF8= \\\"text\\/x-php-serialized;charset=UTF-8\\\" ;\\nsolr\\\\core\\\\src\\\\java\\\\org\\\\apache\\\\solr\\\\response\\\\QueryResponseWriter.java(46):  public   static   String  CONTENT_TYPE_XML_UTF8= \\\"application\\/xml; charset=UTF-8\\\" ;\\nsolr\\\\core\\\\src\\\\java\\\\org\\\\apache\\\\solr\\\\response\\\\QueryResponseWriter.java(47):  public   static   String  CONTENT_TYPE_TEXT_UTF8= \\\"text\\/plain; charset=UTF-8\\\" ;\\nsolr\\\\core\\\\src\\\\java\\\\org\\\\apache\\\\solr\\\\response\\\\RubyResponseWriter.java(26):  static   String  CONTENT_TYPE_RUBY_UTF8= \\\"text\\/x-ruby;charset=UTF-8\\\" ;\\nsolr\\\\core\\\\src\\\\java\\\\org\\\\apache\\\\solr\\\\servlet\\\\SolrRequestParsers.java(638):  if ( idx &gt; 0 ) {  \\/\\/ remove the charset definition  \\\"; charset=utf-8\\\" \\n solr\\\\core\\\\src\\\\test\\\\org\\\\apache\\\\solr\\\\analysis\\\\htmlStripReaderTest.html(4): &lt;META http-equiv= \\\"Content-Type\\\"  content= \\\"text\\/html; charset=UTF-8\\\" &gt;\\nsolr\\\\core\\\\src\\\\test\\\\org\\\\apache\\\\solr\\\\servlet\\\\SolrRequestParserTest.java(216):  \\\"application\\/x-www-form-urlencoded; charset=utf-8\\\" ,\\nsolr\\\\core\\\\src\\\\test-files\\\\solr\\\\collection1\\\\conf\\\\solrconfig-implicitproperties.xml(77): &lt;str name= \\\"content-type\\\" &gt;text\\/plain; charset=UTF-8&lt;\\/str&gt;\\nsolr\\\\docs\\\\changes\\\\Changes.html(31): &lt;META http-equiv= \\\"Content-Type\\\"  content= \\\"text\\/html; charset=UTF-8\\\" \\/&gt;\\nsolr\\\\docs\\\\changes\\\\Changes.html(7435): have a valid contentType: curl -H  \'Content-type:text\\/xml; charset=utf-8\' \\nsolr\\\\docs\\\\changes\\\\Changes.html(7527): content.  Using the contentType:  \\\"text\\/xml; charset=utf-8\\\"  will force\\nsolr\\\\example\\\\example-DIH\\\\solr\\\\db\\\\conf\\\\solrconfig.xml(407): the body. For example, curl now requires: -H  \'Content-type:text\\/xml; charset=utf-8\' \\nsolr\\\\example\\\\example-DIH\\\\solr\\\\db\\\\conf\\\\xslt\\\\example.xsl(27): &lt;xsl:output media-type= \\\"text\\/html; charset=UTF-8\\\"  encoding= \\\"UTF-8\\\" \\/&gt; \\nsolr\\\\example\\\\example-DIH\\\\solr\\\\db\\\\conf\\\\xslt\\\\luke.xsl(38): &lt;meta http-equiv= \\\"Content-Type\\\"  content= \\\"application\\/xhtml+xml; charset=UTF-8\\\" \\/&gt;\\nsolr\\\\example\\\\example-DIH\\\\solr\\\\mail\\\\conf\\\\solrconfig.xml(565): the body. For example, curl now requires: -H  \'Content-type:text\\/xml; charset=utf-8\' \\nsolr\\\\example\\\\example-DIH\\\\solr\\\\rss\\\\conf\\\\solrconfig.xml(406): the body. For example, curl now requires: -H  \'Content-type:text\\/xml; charset=utf-8\' \\nsolr\\\\example\\\\example-DIH\\\\solr\\\\solr\\\\conf\\\\solrconfig.xml(405): the body. For example, curl now requires: -H  \'Content-type:text\\/xml; charset=utf-8\' \\nsolr\\\\example\\\\example-DIH\\\\solr\\\\tika\\\\conf\\\\solrconfig.xml(326): the body. For example, curl now requires: -H  \'Content-type:text\\/xml; charset=utf-8\' \\nsolr\\\\example\\\\example-schemaless\\\\solr\\\\collection1\\\\conf\\\\solrconfig.xml(999): requires: -H  \'Content-type:text\\/xml; charset=utf-8\' \\nsolr\\\\example\\\\example-schemaless\\\\solr\\\\collection1\\\\conf\\\\solrconfig.xml(1710): &lt;str name= \\\"content-type\\\" &gt;text\\/plain; charset=UTF-8&lt;\\/str&gt;\\nsolr\\\\example\\\\exampledocs\\\\test_utf8.sh(41): curl $URL\\/select --data-binary  \'q=h%C3%A9llo&amp;echoParams=explicit&amp;wt=python\'  -H  \'Content-type:application\\/x-www-form-urlencoded; charset=UTF-8\'  2&gt; \\/dev\\/ null  | grep  \'h\\\\\\\\u00e9llo\'  &gt; \\/dev\\/ null  2&gt;&amp;1\\nsolr\\\\example\\\\exampledocs\\\\test_utf8.sh(71): curl $URL\\/select --data-binary  \\\"q=$URL_UTF8&amp;echoParams=explicit&amp;wt=python\\\"   -H  \'Content-type:application\\/x-www-form-urlencoded; charset=UTF-8\'  2&gt; \\/dev\\/ null  | grep $EXPECTED &gt; \\/dev\\/ null  2&gt;&amp;1\\nsolr\\\\example\\\\solr\\\\collection1\\\\conf\\\\solrconfig.xml(1006): requires: -H  \'Content-type:text\\/xml; charset=utf-8\' \\nsolr\\\\example\\\\solr\\\\collection1\\\\conf\\\\solrconfig.xml(1751): &lt;str name= \\\"content-type\\\" &gt;text\\/plain; charset=UTF-8&lt;\\/str&gt;\\nsolr\\\\example\\\\solr\\\\collection1\\\\conf\\\\velocity\\\\head.vm(7): &lt;meta http-equiv= \\\"content-type\\\"  content= \\\"text\\/html; charset=UTF-8\\\" \\/&gt;\\nsolr\\\\scripts\\\\abc(95): rs=`curl ${curl_url} -s -H  \'Content-type:text\\/xml; charset=utf-8\'  -d  \\\"&lt;commit\\/&gt;\\\" `\\nsolr\\\\scripts\\\\abo(94): rs=`curl ${curl_url} -s -H  \'Content-type:text\\/xml; charset=utf-8\'  -d  \\\"&lt;optimize\\/&gt;\\\" `\\nsolr\\\\scripts\\\\commit(87): rs=`curl ${curl_url} -s -H  \'Content-type:text\\/xml; charset=utf-8\'  -d  \\\"&lt;commit\\/&gt;\\\" `\\nsolr\\\\scripts\\\\optimize(87): rs=`curl ${curl_url} -s -H  \'Content-type:text\\/xml; charset=utf-8\'  -d  \\\"&lt;optimize\\/&gt;\\\" `\\nsolr\\\\site\\\\html\\\\tutorial.html(20): &lt;META http-equiv= \\\"Content-Type\\\"  content= \\\"text\\/html; charset=UTF-8\\\"  \\/&gt;\\nsolr\\\\solrj\\\\src\\\\java\\\\org\\\\apache\\\\solr\\\\client\\\\solrj\\\\impl\\\\HttpSolrServer.java(273):  \\\"application\\/x-www-form-urlencoded; charset=UTF-8\\\" );\\nsolr\\\\solrj\\\\src\\\\java\\\\org\\\\apache\\\\solr\\\\client\\\\solrj\\\\impl\\\\XMLResponseParser.java(50):  public   static   final   String  XML_CONTENT_TYPE =  \\\"application\\/xml; charset=UTF-8\\\" ;\\nsolr\\\\solrj\\\\src\\\\java\\\\org\\\\apache\\\\solr\\\\client\\\\solrj\\\\util\\\\ClientUtils.java(54):  public   static   final   String  TEXT_XML =  \\\"application\\/xml; charset=UTF-8\\\" ;  \\nsolr\\\\solrj\\\\src\\\\test\\\\org\\\\apache\\\\solr\\\\client\\\\solrj\\\\impl\\\\BasicHttpSolrServerTest.java(253): assertEquals( \\\"application\\/x-www-form-urlencoded; charset=UTF-8\\\" , DebugServlet.headers.get( \\\"Content-Type\\\" ));\\nsolr\\\\solrj\\\\src\\\\test\\\\org\\\\apache\\\\solr\\\\client\\\\solrj\\\\impl\\\\BasicHttpSolrServerTest.java(289): assertEquals( \\\"application\\/x-www-form-urlencoded; charset=UTF-8\\\" , DebugServlet.headers.get( \\\"Content-Type\\\" ));\\nsolr\\\\solrj\\\\src\\\\test\\\\org\\\\apache\\\\solr\\\\client\\\\solrj\\\\impl\\\\BasicHttpSolrServerTest.java(358): assertEquals( \\\"application\\/xml; charset=UTF-8\\\" , DebugServlet.headers.get( \\\"Content-Type\\\" ));\\nsolr\\\\solrj\\\\src\\\\test\\\\org\\\\apache\\\\solr\\\\client\\\\solrj\\\\impl\\\\BasicHttpSolrServerTest.java(374): assertEquals( \\\"application\\/xml; charset=UTF-8\\\" , DebugServlet.headers.get( \\\"Content-Type\\\" ));\\nsolr\\\\test-framework\\\\src\\\\java\\\\org\\\\apache\\\\solr\\\\util\\\\RestTestHarness.java(149): connection.setRequestProperty( \\\"Content-Type\\\" ,  \\\"application\\/json; charset=utf-8\\\" );\\nsolr\\\\webapp\\\\web\\\\js\\\\scripts\\\\dashboard.js(57): core_basepath +  \'\\/admin\\/file\\/?file=admin-extra.menu-top.html&amp;contentType=text\\/html;charset=utf-8\' ,\\nsolr\\\\webapp\\\\web\\\\js\\\\scripts\\\\dashboard.js(67): core_basepath +  \'\\/admin\\/file\\/?file=admin-extra.menu-bottom.html&amp;contentType=text\\/html;charset=utf-8\' ,\\nsolr\\\\webapp\\\\web\\\\js\\\\scripts\\\\file.js(29): +  \'&amp;contentType=text\\/xml;charset=utf-8\' ;\\nEs wurden 74 Vorkommen in 62 Datei(en) gefunden.\\n \\n               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13840501\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-5532?focusedCommentId=13840501&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13840501\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"elyograg\\\" id=\\\"commentauthor_13840501_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=elyograg\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"elyograg\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shawn Heisey\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13840501_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Dec\\/13 20:01\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-12-05T20:01:02+0000\'\u003e05\\/Dec\\/13 20:01\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cblockquote\u003e\\n\u003cp\u003eSide-Question:\u003cbr\\/\u003e\\nThe XMLResponseParser is set in my custom application since very long. I cannot recall when or why set that specific parser.\u003cbr\\/\u003e\\nCould anyone give my some information whether, when or why this parser should (not) be set?\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003eThe XML parser typically is used for compatibility.\u003c\\/p\u003e\\n\\n\u003cp\u003eHttpSolrServer defaults to the binary response parser and the XML request writer.  The javabin format (used by the binary writer\\/parser) changed a few years back.  Solr\\/SolrJ Version 1.4.1 used version 1, but the next version that was released (3.1.0) used version 2.  They are completely incompatible with each other, so when you need to have communication between incompatible versions, you need to change it to use XML.\u003c\\/p\u003e\\n\\n\u003cp\u003eI tried setting my parser to a new XMLResponseParser, but I still can\'t duplicate your symptom.  I will attach a screenshot showing my code in eclipse along with the eclipse build path.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"elyograg\\\" id=\\\"commentauthor_13840501_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=elyograg\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"elyograg\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shawn Heisey\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13840501_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Dec\\/13 20:01\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-12-05T20:01:02+0000\'\u003e05\\/Dec\\/13 20:01\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    \\n Side-Question: \\nThe XMLResponseParser is set in my custom application since very long. I cannot recall when or why set that specific parser. \\nCould anyone give my some information whether, when or why this parser should (not) be set?  \\n\\n The XML parser typically is used for compatibility. \\n\\n HttpSolrServer defaults to the binary response parser and the XML request writer.  The javabin format (used by the binary writer\\/parser) changed a few years back.  Solr\\/SolrJ Version 1.4.1 used version 1, but the next version that was released (3.1.0) used version 2.  They are completely incompatible with each other, so when you need to have communication between incompatible versions, you need to change it to use XML. \\n\\n I tried setting my parser to a new XMLResponseParser, but I still can\'t duplicate your symptom.  I will attach a screenshot showing my code in eclipse along with the eclipse build path.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13841295\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-5532?focusedCommentId=13841295&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13841295\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"thetaphi\\\" id=\\\"commentauthor_13841295_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=thetaphi\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"thetaphi\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Uwe Schindler\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13841295_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'06\\/Dec\\/13 14:23\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-12-06T14:23:02+0000\'\u003e06\\/Dec\\/13 14:23\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThere were 2 more issues opened about the same, this time not with PingRequestHandler. The problem seems to be in HttpSolrServer\'s parsing of ContentType in general.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"thetaphi\\\" id=\\\"commentauthor_13841295_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=thetaphi\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"thetaphi\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Uwe Schindler\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13841295_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'06\\/Dec\\/13 14:23\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-12-06T14:23:02+0000\'\u003e06\\/Dec\\/13 14:23\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    There were 2 more issues opened about the same, this time not with PingRequestHandler. The problem seems to be in HttpSolrServer\'s parsing of ContentType in general.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13841379\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-5532?focusedCommentId=13841379&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13841379\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"hossman\\\" id=\\\"commentauthor_13841379_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=hossman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"hossman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Hoss Man\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13841379_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'06\\/Dec\\/13 16:13\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-12-06T16:13:01+0000\'\u003e06\\/Dec\\/13 16:13\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cblockquote\u003e\u003cp\u003eAs far as i can tell from a quick check, the XML response writer (on the server) has always included a space in it\'s Content-Type, and that doesn\'t seem to have changed in 4.6, and the solrj expected XML Content-Type (on the client parser) has always expected a space in the Content-Type, and that doesn\'t seem to have changed in 4.6.\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003eOk, here\'s what i reallize now that i overlooked when i skimmed the old code yesterday:\u003c\\/p\u003e\\n\\n\u003cul\u003e\\n\\t\u003cli\u003ethe content type as written by the server has not changed\u003c\\/li\u003e\\n\\t\u003cli\u003ethe content type as written by the server, and the content type as parsed by the client are in fact 100% identical (same variable)\u003c\\/li\u003e\\n\\t\u003cli\u003ewhat\'s new in 4.6 is the check to verify that the ContentType\'s are equal (In my previous skim i totally overlooked that the code throwing this error is new in 4.6, added as part of \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-3530\\\" title=\\\"better error messages \\/ Content-Type validation in solrJ\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-3530\\\"\u003e\u003cdel\u003eSOLR-3530\u003c\\/del\u003e\u003c\\/a\u003e\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003eThat still, however, doesn\'t explain the bug report, and why elyograg and i can\'t reproduce, and why the solrj xml tests aren\'t reproducing it &#8211; specifically: and what\'s happening to the space character to cause this exception.\u003c\\/p\u003e\\n\\n\u003cp\u003eMy best guess is that people encountering this problem aren\'t using the provided jetty server, and the server they are using (or some proxy in between their client and the server) is re-writing the the header slightly.  the fact that the initial problem report here refers to port \\\"8080\\\" smells like i may be on to something.\u003c\\/p\u003e\\n\\n\u003cp\u003eEither way: we should fix how the Content-Type comparison is done.\u003c\\/p\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"hossman\\\" id=\\\"commentauthor_13841379_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=hossman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"hossman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Hoss Man\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13841379_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'06\\/Dec\\/13 16:13\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-12-06T16:13:01+0000\'\u003e06\\/Dec\\/13 16:13\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     As far as i can tell from a quick check, the XML response writer (on the server) has always included a space in it\'s Content-Type, and that doesn\'t seem to have changed in 4.6, and the solrj expected XML Content-Type (on the client parser) has always expected a space in the Content-Type, and that doesn\'t seem to have changed in 4.6.  \\n\\n Ok, here\'s what i reallize now that i overlooked when i skimmed the old code yesterday: \\n\\n \\n\\t the content type as written by the server has not changed \\n\\t the content type as written by the server, and the content type as parsed by the client are in fact 100% identical (same variable) \\n\\t what\'s new in 4.6 is the check to verify that the ContentType\'s are equal (In my previous skim i totally overlooked that the code throwing this error is new in 4.6, added as part of   SOLR-3530   \\n \\n\\n\\n That still, however, doesn\'t explain the bug report, and why elyograg and i can\'t reproduce, and why the solrj xml tests aren\'t reproducing it &#8211; specifically: and what\'s happening to the space character to cause this exception. \\n\\n My best guess is that people encountering this problem aren\'t using the provided jetty server, and the server they are using (or some proxy in between their client and the server) is re-writing the the header slightly.  the fact that the initial problem report here refers to port \\\"8080\\\" smells like i may be on to something. \\n\\n Either way: we should fix how the Content-Type comparison is done. \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13841382\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-5532?focusedCommentId=13841382&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13841382\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"hossman\\\" id=\\\"commentauthor_13841382_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=hossman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"hossman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Hoss Man\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13841382_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'06\\/Dec\\/13 16:21\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-12-06T16:21:41+0000\'\u003e06\\/Dec\\/13 16:21\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eclarify summary and description, not specific to ping.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"hossman\\\" id=\\\"commentauthor_13841382_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=hossman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"hossman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Hoss Man\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13841382_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'06\\/Dec\\/13 16:21\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-12-06T16:21:41+0000\'\u003e06\\/Dec\\/13 16:21\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    clarify summary and description, not specific to ping.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13841424\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-5532?focusedCommentId=13841424&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13841424\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"markrmiller@gmail.com\\\" id=\\\"commentauthor_13841424_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=markrmiller%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"markrmiller@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mark Miller\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13841424_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'06\\/Dec\\/13 16:57\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-12-06T16:57:20+0000\'\u003e06\\/Dec\\/13 16:57\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThis is why using Jetty is the best choice \u003cimg class=\\\"emoticon\\\" src=\\\"\\/jira\\/images\\/icons\\/emoticons\\/smile.png\\\" height=\\\"16\\\" width=\\\"16\\\" align=\\\"absmiddle\\\" alt=\\\"\\\" border=\\\"0\\\"\\/\u003e We actually test it.\u003c\\/p\u003e\\n\\n\u003cp\u003eI think we should make the comparison less strict right away, this can go out in 4.6.1.\u003c\\/p\u003e\\n\\n\u003cp\u003eBeyond that, Hossman has some interesting ideas for improving the API\'s, but unless someone bangs that out right away, I think the straightforward fix is the right initial thing to do.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"markrmiller@gmail.com\\\" id=\\\"commentauthor_13841424_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=markrmiller%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"markrmiller@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mark Miller\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13841424_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'06\\/Dec\\/13 16:57\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-12-06T16:57:20+0000\'\u003e06\\/Dec\\/13 16:57\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    This is why using Jetty is the best choice   We actually test it. \\n\\n I think we should make the comparison less strict right away, this can go out in 4.6.1. \\n\\n Beyond that, Hossman has some interesting ideas for improving the API\'s, but unless someone bangs that out right away, I think the straightforward fix is the right initial thing to do.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13841425\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-5532?focusedCommentId=13841425&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13841425\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"markrmiller@gmail.com\\\" id=\\\"commentauthor_13841425_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=markrmiller%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"markrmiller@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mark Miller\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13841425_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'06\\/Dec\\/13 16:58\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-12-06T16:58:15+0000\'\u003e06\\/Dec\\/13 16:58\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cblockquote\u003e\u003cp\u003ethe content type as written by the server, and the content type as parsed by the client are in fact 100% identical (same variable)\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003eI was careful to ensure that.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"markrmiller@gmail.com\\\" id=\\\"commentauthor_13841425_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=markrmiller%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"markrmiller@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mark Miller\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13841425_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'06\\/Dec\\/13 16:58\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-12-06T16:58:15+0000\'\u003e06\\/Dec\\/13 16:58\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     the content type as written by the server, and the content type as parsed by the client are in fact 100% identical (same variable)  \\n\\n I was careful to ensure that.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13841485\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-5532?focusedCommentId=13841485&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13841485\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"thetaphi\\\" id=\\\"commentauthor_13841485_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=thetaphi\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"thetaphi\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Uwe Schindler\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13841485_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'06\\/Dec\\/13 18:05\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-12-06T18:05:32+0000\'\u003e06\\/Dec\\/13 18:05\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cblockquote\u003e\u003cp\u003eMy best guess is that people encountering this problem aren\'t using the provided jetty server, and the server they are using (or some proxy in between their client and the server) is re-writing the the header slightly. the fact that the initial problem report here refers to port \\\"8080\\\" smells like i may be on to something.\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003eWhen thinking about this, I know for example that Oracle iPlanet webserver does this! And iPlanet uses Catilina internally which is the servlet engine of Tomcat...\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"thetaphi\\\" id=\\\"commentauthor_13841485_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=thetaphi\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"thetaphi\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Uwe Schindler\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13841485_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'06\\/Dec\\/13 18:05\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-12-06T18:05:32+0000\'\u003e06\\/Dec\\/13 18:05\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     My best guess is that people encountering this problem aren\'t using the provided jetty server, and the server they are using (or some proxy in between their client and the server) is re-writing the the header slightly. the fact that the initial problem report here refers to port \\\"8080\\\" smells like i may be on to something.  \\n\\n When thinking about this, I know for example that Oracle iPlanet webserver does this! And iPlanet uses Catilina internally which is the servlet engine of Tomcat...              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13841502\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-5532?focusedCommentId=13841502&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13841502\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"markrmiller@gmail.com\\\" id=\\\"commentauthor_13841502_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=markrmiller%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"markrmiller@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mark Miller\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13841502_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'06\\/Dec\\/13 18:18\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-12-06T18:18:18+0000\'\u003e06\\/Dec\\/13 18:18\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eA first whack.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"markrmiller@gmail.com\\\" id=\\\"commentauthor_13841502_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=markrmiller%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"markrmiller@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mark Miller\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13841502_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'06\\/Dec\\/13 18:18\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-12-06T18:18:18+0000\'\u003e06\\/Dec\\/13 18:18\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    A first whack.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13841513\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-5532?focusedCommentId=13841513&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13841513\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"thetaphi\\\" id=\\\"commentauthor_13841513_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=thetaphi\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"thetaphi\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Uwe Schindler\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13841513_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'06\\/Dec\\/13 18:25\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-12-06T18:25:05+0000\'\u003e06\\/Dec\\/13 18:25\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Uwe Schindler - 06\\/Dec\\/13 18:28\\\"\u003eedited\u003c\\/span\u003e \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eValidated this with the Catilina based PANGAEA server (Oracle iPlanet webserver):\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"preformatted panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"preformattedContent panelContent\\\"\u003e\\n\u003cpre\u003eVEGA:~ &gt; curl -D - \\\"http:\\/\\/ws.pangaea.de\\/oai\\/?verb=Identify\\\"\\nHTTP\\/1.1 200 OK\\nServer: PANGAEA\\/1.0\\nDate: Fri, 06 Dec 2013 18:17:59 GMT\\nContent-type: text\\/xml;charset=UTF-8\\nTransfer-encoding: chunked\\n\\n&lt;?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?&gt;&lt;OAI-PMH xmlns=\\\"http:\\/\\/www.openarchives.org\\/OAI\\/2.0\\/\\\" xmlns:xsi=\\\"http:\\/\\/www.w3.org\\/2001\\/XMLSchema-instance\\\" xsi:schemaLocation=\\\"http:\\/\\/www.openarchives.org\\/OAI\\/2.0\\/ http:\\/\\/www.openarchives.org\\/OAI\\/2.0\\/OAI-PMH.xsd\\\"&gt;\\n...\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003eAnd here is how the servlets sets Content-Type:\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003eresp.setContentType(\u003cspan class=\\\"code-quote\\\"\u003e\\\"text\\/xml; charset=\\\"\u003c\\/span\u003e+charset);\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003eIt looks like every Tomcat does this. The reason for this is: The Content-Type header is generally not passed unparsed to the output, the servlet container (Catilina) does some extra parsing, to detect the charset, so when you call the broken getWriter() that the writer has correct charset. Most webservers also do header normalization afterwards (they combine multiple headers into one and also remove whitespace).\u003c\\/p\u003e\\n\\n\u003cp\u003eThe correct way to handle this is:\u003c\\/p\u003e\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003eUse ContentStreamBase to extract the MIME-Type and the charset from the full Content-Type string (MIME-Type != Content-Type, that\'s the fault here). We have the methods already available and they should also be available to SolrJ.\u003c\\/li\u003e\\n\\t\u003cli\u003eCompare charset and MIME type with equalsIgnoreCase. But: charset does not need to be compared. The XML parser should do this afterwards, not need to enforce a specific charset in SolrJ. It should only enforce the MIME-Type!\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"thetaphi\\\" id=\\\"commentauthor_13841513_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=thetaphi\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"thetaphi\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Uwe Schindler\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13841513_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'06\\/Dec\\/13 18:25\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-12-06T18:25:05+0000\'\u003e06\\/Dec\\/13 18:25\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Uwe Schindler - 06\\/Dec\\/13 18:28\\\"\u003eedited\u003c\\/span\u003e                   Validated this with the Catilina based PANGAEA server (Oracle iPlanet webserver): \\n\\n  \\n VEGA:~ &gt; curl -D - \\\"http:\\/\\/ws.pangaea.de\\/oai\\/?verb=Identify\\\"\\nHTTP\\/1.1 200 OK\\nServer: PANGAEA\\/1.0\\nDate: Fri, 06 Dec 2013 18:17:59 GMT\\nContent-type: text\\/xml;charset=UTF-8\\nTransfer-encoding: chunked\\n\\n&lt;?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?&gt;&lt;OAI-PMH xmlns=\\\"http:\\/\\/www.openarchives.org\\/OAI\\/2.0\\/\\\" xmlns:xsi=\\\"http:\\/\\/www.w3.org\\/2001\\/XMLSchema-instance\\\" xsi:schemaLocation=\\\"http:\\/\\/www.openarchives.org\\/OAI\\/2.0\\/ http:\\/\\/www.openarchives.org\\/OAI\\/2.0\\/OAI-PMH.xsd\\\"&gt;\\n...\\n \\n  \\n\\n And here is how the servlets sets Content-Type: \\n\\n  \\n resp.setContentType( \\\"text\\/xml; charset=\\\" +charset);\\n \\n  \\n\\n It looks like every Tomcat does this. The reason for this is: The Content-Type header is generally not passed unparsed to the output, the servlet container (Catilina) does some extra parsing, to detect the charset, so when you call the broken getWriter() that the writer has correct charset. Most webservers also do header normalization afterwards (they combine multiple headers into one and also remove whitespace). \\n\\n The correct way to handle this is: \\n \\n\\t Use ContentStreamBase to extract the MIME-Type and the charset from the full Content-Type string (MIME-Type != Content-Type, that\'s the fault here). We have the methods already available and they should also be available to SolrJ. \\n\\t Compare charset and MIME type with equalsIgnoreCase. But: charset does not need to be compared. The XML parser should do this afterwards, not need to enforce a specific charset in SolrJ. It should only enforce the MIME-Type! \\n \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13841514\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-5532?focusedCommentId=13841514&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13841514\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jafurrer\\\" id=\\\"commentauthor_13841514_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jafurrer\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jafurrer\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Jakob Furrer\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13841514_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'06\\/Dec\\/13 18:25\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-12-06T18:25:31+0000\'\u003e06\\/Dec\\/13 18:25\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI can confirm, that the problem I described above does not occur when I use Jetty to run the stock solr that is included in Solr 4.6.\u003cbr\\/\u003e\\nHowever, I see this problem when solr is run in Tomcat.\u003cbr\\/\u003e\\nIn my custom application that accesses solrI see that\u003cbr\\/\u003e\\na) the ping fails only when XMLResponseParser is set on the HttpSolrServer\u003cbr\\/\u003e\\nb) adding document also fails with the same error message as above (even if XMLResponseParser is not set on the HttpSolrServer)\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jafurrer\\\" id=\\\"commentauthor_13841514_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jafurrer\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jafurrer\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Jakob Furrer\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13841514_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'06\\/Dec\\/13 18:25\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-12-06T18:25:31+0000\'\u003e06\\/Dec\\/13 18:25\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I can confirm, that the problem I described above does not occur when I use Jetty to run the stock solr that is included in Solr 4.6. \\nHowever, I see this problem when solr is run in Tomcat. \\nIn my custom application that accesses solrI see that \\na) the ping fails only when XMLResponseParser is set on the HttpSolrServer \\nb) adding document also fails with the same error message as above (even if XMLResponseParser is not set on the HttpSolrServer)              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13841517\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-5532?focusedCommentId=13841517&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13841517\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"thetaphi\\\" id=\\\"commentauthor_13841517_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=thetaphi\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"thetaphi\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Uwe Schindler\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13841517_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'06\\/Dec\\/13 18:26\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-12-06T18:26:47+0000\'\u003e06\\/Dec\\/13 18:26\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eMark: Patch looks ok. Exactly as I wanted to have it \u003cimg class=\\\"emoticon\\\" src=\\\"\\/jira\\/images\\/icons\\/emoticons\\/smile.png\\\" height=\\\"16\\\" width=\\\"16\\\" align=\\\"absmiddle\\\" alt=\\\"\\\" border=\\\"0\\\"\\/\u003e Thanks!\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"thetaphi\\\" id=\\\"commentauthor_13841517_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=thetaphi\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"thetaphi\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Uwe Schindler\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13841517_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'06\\/Dec\\/13 18:26\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-12-06T18:26:47+0000\'\u003e06\\/Dec\\/13 18:26\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Mark: Patch looks ok. Exactly as I wanted to have it   Thanks!              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13841552\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-5532?focusedCommentId=13841552&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13841552\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_13841552_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13841552_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'06\\/Dec\\/13 19:01\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-12-06T19:01:04+0000\'\u003e06\\/Dec\\/13 19:01\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eCommit 1548659 from \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=markrmiller%40gmail.com\\\" class=\\\"user-hover\\\" rel=\\\"markrmiller@gmail.com\\\"\u003eMark Miller\u003c\\/a\u003e in branch \'dev\\/trunk\'\u003cbr\\/\u003e\\n[ \u003ca href=\\\"https:\\/\\/svn.apache.org\\/r1548659\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttps:\\/\\/svn.apache.org\\/r1548659\u003c\\/a\u003e ]\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-5532\\\" title=\\\"SolrJ Content-Type validation is too strict for some webcontainers \\/ proxies, breaks on equivilent content types\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-5532\\\"\u003e\u003cdel\u003eSOLR-5532\u003c\\/del\u003e\u003c\\/a\u003e: SolrJ Content-Type validation is too strict for some webcontainers \\/ proxies.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_13841552_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13841552_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'06\\/Dec\\/13 19:01\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-12-06T19:01:04+0000\'\u003e06\\/Dec\\/13 19:01\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Commit 1548659 from  Mark Miller  in branch \'dev\\/trunk\' \\n[  https:\\/\\/svn.apache.org\\/r1548659  ] \\n\\n   SOLR-5532  : SolrJ Content-Type validation is too strict for some webcontainers \\/ proxies.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13841555\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-5532?focusedCommentId=13841555&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13841555\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_13841555_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13841555_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'06\\/Dec\\/13 19:02\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-12-06T19:02:16+0000\'\u003e06\\/Dec\\/13 19:02\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eCommit 1548661 from \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=markrmiller%40gmail.com\\\" class=\\\"user-hover\\\" rel=\\\"markrmiller@gmail.com\\\"\u003eMark Miller\u003c\\/a\u003e in branch \'dev\\/branches\\/branch_4x\'\u003cbr\\/\u003e\\n[ \u003ca href=\\\"https:\\/\\/svn.apache.org\\/r1548661\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttps:\\/\\/svn.apache.org\\/r1548661\u003c\\/a\u003e ]\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-5532\\\" title=\\\"SolrJ Content-Type validation is too strict for some webcontainers \\/ proxies, breaks on equivilent content types\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-5532\\\"\u003e\u003cdel\u003eSOLR-5532\u003c\\/del\u003e\u003c\\/a\u003e: SolrJ Content-Type validation is too strict for some webcontainers \\/ proxies.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_13841555_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13841555_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'06\\/Dec\\/13 19:02\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-12-06T19:02:16+0000\'\u003e06\\/Dec\\/13 19:02\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Commit 1548661 from  Mark Miller  in branch \'dev\\/branches\\/branch_4x\' \\n[  https:\\/\\/svn.apache.org\\/r1548661  ] \\n\\n   SOLR-5532  : SolrJ Content-Type validation is too strict for some webcontainers \\/ proxies.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13841562\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-5532?focusedCommentId=13841562&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13841562\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"thetaphi\\\" id=\\\"commentauthor_13841562_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=thetaphi\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"thetaphi\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Uwe Schindler\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13841562_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'06\\/Dec\\/13 19:05\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-12-06T19:05:25+0000\'\u003e06\\/Dec\\/13 19:05\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eAs there is a bugfix release planned: I think this one should also go in 4.6.1. Looks like many people are affected. One of my customers called today, too (using Tomcat).\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"thetaphi\\\" id=\\\"commentauthor_13841562_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=thetaphi\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"thetaphi\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Uwe Schindler\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13841562_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'06\\/Dec\\/13 19:05\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-12-06T19:05:25+0000\'\u003e06\\/Dec\\/13 19:05\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    As there is a bugfix release planned: I think this one should also go in 4.6.1. Looks like many people are affected. One of my customers called today, too (using Tomcat).              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13858148\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-5532?focusedCommentId=13858148&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13858148\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_13858148_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13858148_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Dec\\/13 22:35\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-12-28T22:35:49+0000\'\u003e28\\/Dec\\/13 22:35\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eCommit 1553949 from \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=markrmiller%40gmail.com\\\" class=\\\"user-hover\\\" rel=\\\"markrmiller@gmail.com\\\"\u003eMark Miller\u003c\\/a\u003e in branch \'dev\\/branches\\/lucene_solr_4_6\'\u003cbr\\/\u003e\\n[ \u003ca href=\\\"https:\\/\\/svn.apache.org\\/r1553949\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttps:\\/\\/svn.apache.org\\/r1553949\u003c\\/a\u003e ]\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-5532\\\" title=\\\"SolrJ Content-Type validation is too strict for some webcontainers \\/ proxies, breaks on equivilent content types\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-5532\\\"\u003e\u003cdel\u003eSOLR-5532\u003c\\/del\u003e\u003c\\/a\u003e: SolrJ Content-Type validation is too strict for some webcontainers \\/ proxies.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_13858148_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13858148_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Dec\\/13 22:35\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-12-28T22:35:49+0000\'\u003e28\\/Dec\\/13 22:35\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Commit 1553949 from  Mark Miller  in branch \'dev\\/branches\\/lucene_solr_4_6\' \\n[  https:\\/\\/svn.apache.org\\/r1553949  ] \\n\\n   SOLR-5532  : SolrJ Content-Type validation is too strict for some webcontainers \\/ proxies.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13858149\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-5532?focusedCommentId=13858149&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13858149\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_13858149_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13858149_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Dec\\/13 22:36\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-12-28T22:36:50+0000\'\u003e28\\/Dec\\/13 22:36\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eCommit 1553950 from \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=markrmiller%40gmail.com\\\" class=\\\"user-hover\\\" rel=\\\"markrmiller@gmail.com\\\"\u003eMark Miller\u003c\\/a\u003e in branch \'dev\\/trunk\'\u003cbr\\/\u003e\\n[ \u003ca href=\\\"https:\\/\\/svn.apache.org\\/r1553950\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttps:\\/\\/svn.apache.org\\/r1553950\u003c\\/a\u003e ]\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-5532\\\" title=\\\"SolrJ Content-Type validation is too strict for some webcontainers \\/ proxies, breaks on equivilent content types\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-5532\\\"\u003e\u003cdel\u003eSOLR-5532\u003c\\/del\u003e\u003c\\/a\u003e: Move CHANGES entry to 4.6.1\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_13858149_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13858149_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Dec\\/13 22:36\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-12-28T22:36:50+0000\'\u003e28\\/Dec\\/13 22:36\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Commit 1553950 from  Mark Miller  in branch \'dev\\/trunk\' \\n[  https:\\/\\/svn.apache.org\\/r1553950  ] \\n\\n   SOLR-5532  : Move CHANGES entry to 4.6.1              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13858150\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-5532?focusedCommentId=13858150&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13858150\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_13858150_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13858150_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Dec\\/13 22:37\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-12-28T22:37:44+0000\'\u003e28\\/Dec\\/13 22:37\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eCommit 1553951 from \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=markrmiller%40gmail.com\\\" class=\\\"user-hover\\\" rel=\\\"markrmiller@gmail.com\\\"\u003eMark Miller\u003c\\/a\u003e in branch \'dev\\/branches\\/branch_4x\'\u003cbr\\/\u003e\\n[ \u003ca href=\\\"https:\\/\\/svn.apache.org\\/r1553951\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttps:\\/\\/svn.apache.org\\/r1553951\u003c\\/a\u003e ]\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-5532\\\" title=\\\"SolrJ Content-Type validation is too strict for some webcontainers \\/ proxies, breaks on equivilent content types\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-5532\\\"\u003e\u003cdel\u003eSOLR-5532\u003c\\/del\u003e\u003c\\/a\u003e: Move CHANGES entry to 4.6.1\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_13858150_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13858150_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Dec\\/13 22:37\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-12-28T22:37:44+0000\'\u003e28\\/Dec\\/13 22:37\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Commit 1553951 from  Mark Miller  in branch \'dev\\/branches\\/branch_4x\' \\n[  https:\\/\\/svn.apache.org\\/r1553951  ] \\n\\n   SOLR-5532  : Move CHANGES entry to 4.6.1              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13862655\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-5532?focusedCommentId=13862655&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13862655\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"markrmiller@gmail.com\\\" id=\\\"commentauthor_13862655_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=markrmiller%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"markrmiller@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mark Miller\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13862655_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Jan\\/14 21:02\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-01-05T21:02:13+0000\'\u003e05\\/Jan\\/14 21:02\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThanks all!\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"markrmiller@gmail.com\\\" id=\\\"commentauthor_13862655_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=markrmiller%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"markrmiller@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mark Miller\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13862655_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Jan\\/14 21:02\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-01-05T21:02:13+0000\'\u003e05\\/Jan\\/14 21:02\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Thanks all!              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14188249\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-5532?focusedCommentId=14188249&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14188249\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"magloven\\\" id=\\\"commentauthor_14188249_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=magloven\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"magloven\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Magnus L\\u00F6vgren\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14188249_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Oct\\/14 11:19\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-10-29T11:19:44+0000\'\u003e29\\/Oct\\/14 11:19\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI\'ve upgraded from 4.4 to 4.10.1 and have been struggling somewhat with my code that was affected by this change. Some observations that might be useful for others too:\u003c\\/p\u003e\\n\\n\u003cp\u003eThe patch relies on the \\\"org.apache.http.entity.ContentType.parse\\\" method. It fails when parsing an empty string. That\'s fine (empty string should probably not be seen as a valid type anyway). The caveat is that an empty string is actually used as the \\\"fallback\\\" contentType if the response has no Content-Type header! This would be the typical case if the response is a 401 (typically has no Content-Type).\u003c\\/p\u003e\\n\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003eIn prior versions a 401 response threw a SolrException with code() 401\u003c\\/li\u003e\\n\\t\u003cli\u003eNow a SolrServerException  is thrown (caused by a org.apache.http.ParseException). Hard to determine if it was due to bad credentials (401).\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003eTo restore previous behaviour, you\'d presumably add the HttpStatus.SC_UNAUTHORIZED case to the switch and then throw a RemoteSolrException (with code 401). In other words - fail early for 401 response (there\'s no content to parse anyway)\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"magloven\\\" id=\\\"commentauthor_14188249_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=magloven\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"magloven\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Magnus L\\u00F6vgren\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14188249_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Oct\\/14 11:19\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-10-29T11:19:44+0000\'\u003e29\\/Oct\\/14 11:19\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I\'ve upgraded from 4.4 to 4.10.1 and have been struggling somewhat with my code that was affected by this change. Some observations that might be useful for others too: \\n\\n The patch relies on the \\\"org.apache.http.entity.ContentType.parse\\\" method. It fails when parsing an empty string. That\'s fine (empty string should probably not be seen as a valid type anyway). The caveat is that an empty string is actually used as the \\\"fallback\\\" contentType if the response has no Content-Type header! This would be the typical case if the response is a 401 (typically has no Content-Type). \\n\\n \\n\\t In prior versions a 401 response threw a SolrException with code() 401 \\n\\t Now a SolrServerException  is thrown (caused by a org.apache.http.ParseException). Hard to determine if it was due to bad credentials (401). \\n \\n\\n\\n To restore previous behaviour, you\'d presumably add the HttpStatus.SC_UNAUTHORIZED case to the switch and then throw a RemoteSolrException (with code 401). In other words - fail early for 401 response (there\'s no content to parse anyway)              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14188262\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-5532?focusedCommentId=14188262&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14188262\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"markrmiller@gmail.com\\\" id=\\\"commentauthor_14188262_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=markrmiller%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"markrmiller@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mark Miller\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14188262_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Oct\\/14 11:48\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-10-29T11:48:06+0000\'\u003e29\\/Oct\\/14 11:48\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI ran into this same issue in a review for Cloudera Search before I went on vacation a couple weeks ago. Technically, it was a back compat break. Please file a JIRA issue and we can address it. \u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"markrmiller@gmail.com\\\" id=\\\"commentauthor_14188262_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=markrmiller%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"markrmiller@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mark Miller\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14188262_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Oct\\/14 11:48\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-10-29T11:48:06+0000\'\u003e29\\/Oct\\/14 11:48\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I ran into this same issue in a review for Cloudera Search before I went on vacation a couple weeks ago. Technically, it was a back compat break. Please file a JIRA issue and we can address it.               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14188365\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-5532?focusedCommentId=14188365&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14188365\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"magloven\\\" id=\\\"commentauthor_14188365_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=magloven\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"magloven\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Magnus L\\u00F6vgren\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14188365_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Oct\\/14 14:08\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-10-29T14:08:16+0000\'\u003e29\\/Oct\\/14 14:08\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThe 401 issue is now added as \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-6669\\\" title=\\\"401 is not explicitly handled when querying HttpSolrServer\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-6669\\\"\u003eSOLR-6669\u003c\\/a\u003e\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"magloven\\\" id=\\\"commentauthor_14188365_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=magloven\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"magloven\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Magnus L\\u00F6vgren\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14188365_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Oct\\/14 14:08\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-10-29T14:08:16+0000\'\u003e29\\/Oct\\/14 14:08\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    The 401 issue is now added as  SOLR-6669               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\"";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["scope-filter-data"]="{\"createScopeActions\":[],\"scopes\":[]}";
WRM._unparsedData["sidebar-collapsed-by-default"]="true";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:can-manage"]="false";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:with-icons"]="false";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:shortcuts"]="[]";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:project-id"]="12310230";
WRM._unparsedData["sidebar-id"]="\"\u003cdiv class=\\\"aui-sidebar  projects-sidebar sidebar-pending\\\" \u003e\u003cdiv class=\\\"aui-sidebar-wrapper\\\"\u003e\u003cdiv class=\\\"aui-sidebar-body\\\"\u003e\u003cheader class=\\\"aui-page-header\\\"\u003e\u003cdiv class=\\\"aui-page-header-inner\\\"\u003e\u003cdiv class=\\\"aui-page-header-image\\\"\u003e\u003ca href=\\\"\\/jira\\/projects\\/SOLR\\/summary\\\" title=\\\"Solr\\\" class=\\\"jira-project-avatar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-large aui-avatar-project\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"\\/jira\\/secure\\/projectavatar?pid=12310230&amp;avatarId=22151\\\" alt=\\\"Solr\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e\u003cimg src=\\\"data:image\\/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI\\/Pg0KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE4LjEuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPg0KPHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgdmlld0JveD0iMCAwIDMwMCAzMDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMwMCAzMDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxnIGlkPSJMYXllcl8yIj4NCgk8cGF0aCBzdHlsZT0iZmlsbDojRjc5MjMyOyIgZD0iTTE1MCwwQzY2LjY2NywwLDAsNjYuNjY3LDAsMTUwczY2LjY2NywxNTAsMTUwLDE1MHMxNTAtNjYuNjY3LDE1MC0xNTBTMjMzLjMzMywwLDE1MCwweg0KCQkgTTEzNi42NjcsMTc4LjMzM0wxMjUsMTkwbC00MS42NjctNDBMOTUsMTM4LjMzM2wzMC0zMEwxMzYuNjY3LDEyMGwtMzAsMzBMMTM2LjY2NywxNzguMzMzeiBNMjA1LDE2MS42NjdsLTMwLDMwTDE2My4zMzMsMTgwDQoJCWwzMC0zMGwtMzAtMzBMMTc1LDEwOC4zMzNMMjE2LjY2NywxNTBMMjA1LDE2MS42Njd6Ii8+DQo8L2c+DQo8Zz4NCgk8cG9seWdvbiBzdHlsZT0iZmlsbDojRkZGRkZGOyIgcG9pbnRzPSIxNzUsMTkxLjY2NyAyMDUsMTYxLjY2NyAyMTYuNjY3LDE1MCAxNzUsMTA4LjMzMyAxNjMuMzMzLDEyMCAxOTMuMzMzLDE1MCAxNjMuMzMzLDE4MCAJIi8+DQoJPHBvbHlnb24gc3R5bGU9ImZpbGw6I0ZGRkZGRjsiIHBvaW50cz0iMTI1LDEwOC4zMzMgOTUsMTM4LjMzMyA4My4zMzMsMTUwIDEyNSwxOTAgMTM2LjY2NywxNzguMzMzIDEwNi42NjcsMTUwIDEzNi42NjcsMTIwIAkiLz4NCjwvZz4NCjwvc3ZnPg0K\\\" alt=\\\"Icon indicating the project type\\\" class=\\\"jira-project-avatar-icon\\\" \\/\u003e\u003c\\/a\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-image --\u003e\u003cdiv class=\\\"aui-page-header-main\\\"\u003e\u003ch1\u003e\u003cdiv class=\\\"aui-group aui-group-split\\\"\u003e\u003cdiv class=\\\"aui-item project-title\\\"\u003e\u003ca href=\\\"\\/jira\\/projects\\/SOLR\\/summary\\\" title=\\\"Solr\\\"\u003eSolr\u003c\\/a\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/h1\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-main --\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-inner --\u003e\u003c\\/header\u003e\u003c!-- .aui-page-header --\u003e\u003cnav class=\\\"aui-navgroup aui-navgroup-vertical\\\"\u003e\u003cdiv class=\\\"aui-navgroup-inner sidebar-content-container\\\"\u003e\u003cdiv class=\\\"aui-sidebar-group aui-sidebar-group-tier-one\\\" data-id=\\\"sidebar-navigation-panel\\\"\u003e\u003cul class=\\\"aui-nav\\\"\u003e\u003cli class=\\\"aui-nav-selected\\\" \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/SOLR\\/issues\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-issue-navigator:sidebar-issue-navigator\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large icon-sidebar-issues\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Issues\\\"\u003eIssues\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003cli  \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/SOLR?selectedItem=com.atlassian.jira.jira-projects-plugin:report-page\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-plugin:report-page\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large agile-icon-report\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Reports\\\"\u003eReports\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003cli  \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/SOLR?selectedItem=com.atlassian.jira.jira-projects-plugin:components-page\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-plugin:components-page\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large icon-sidebar-components\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Components\\\"\u003eComponents\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003c\\/ul\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/nav\u003e\u003c\\/div\u003e\u003cdiv class=\\\"aui-sidebar-footer\\\"\u003e\u003ca class=\\\"aui-button aui-button-subtle aui-sidebar-toggle aui-sidebar-footer-tipsy\\\" data-tooltip=\\\"Expand sidebar ( [ )\\\" href=\\\"#\\\"\u003e\u003cspan class=\\\"aui-icon aui-icon-small\\\"\u003e\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/div\u003e\"";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:bigpipe-init/jira.webresources:bigpipe-init.js" data-wrm-key="jira.webresources:bigpipe-init" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <form id="jira_request_timing_info" class="dont-default-focus"> 
   <fieldset class="parameters hidden"> 
    <input type="hidden" title="jira.request.start.millis" value="1520340464797"> 
    <input type="hidden" title="jira.request.server.time" value="254"> 
    <input type="hidden" title="jira.request.id" value="767x97446896x1"> 
    <input type="hidden" title="jira.session.expiry.time" value="-"> 
    <input type="hidden" title="jira.session.expiry.in.mins" value="-"> 
    <input id="jiraConcurrentRequests" type="hidden" name="jira.request.concurrent.requests" value="1"> 
    <input type="hidden" title="db.reads.time.in.ms" value="39"> 
    <input type="hidden" title="db.conns.time.in.ms" value="46"> 
   </fieldset> 
  </form> 
  <!--
	                 REQUEST ID : 767x97446896x1
	          REQUEST TIMESTAMP : [06/Mar/2018:12:47:44 +0000]
	               REQUEST TIME : 0.2540
	                 ASESSIONID : -
	        CONCURRENT REQUESTS : 1

	                      db.reads : OpSnapshot{name='db.reads', invocationCount=26, elapsedTotal=39438242, elapsedMin=627815, elapsedMax=15828651, resultSetSize=0, cpuTotal=0, cpuMin=0, cpuMax=0}
	                      db.conns : OpSnapshot{name='db.conns', invocationCount=30, elapsedTotal=46587304, elapsedMin=657374, elapsedMax=15864161, resultSetSize=0, cpuTotal=0, cpuMin=0, cpuMax=0}
-->   
 </body>
</html>