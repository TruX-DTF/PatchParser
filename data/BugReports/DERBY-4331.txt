<!doctype html>
<html lang="en">
 <head> 
  <meta charset="utf-8"> 
  <meta http-equiv="X-UA-Compatible" content="IE=Edge"> 
  <meta name="application-name" content="JIRA" data-name="jira" data-version="7.6.3">
  <meta name="ajs-viewissue-use-history-api" content="false"> 
  <meta name="ajs-jira-base-url" content="https://issues.apache.org/jira"> 
  <meta name="ajs-serverRenderedViewIssue" content="true"> 
  <meta name="ajs-dev-mode" content="false"> 
  <meta name="ajs-context-path" content="/jira"> 
  <meta name="ajs-version-number" content="7.6.3"> 
  <meta name="ajs-build-number" content="76005"> 
  <meta name="ajs-is-beta" content="false"> 
  <meta name="ajs-is-rc" content="false"> 
  <meta name="ajs-is-snapshot" content="false"> 
  <meta name="ajs-is-milestone" content="false"> 
  <meta name="ajs-remote-user" content=""> 
  <meta name="ajs-remote-user-fullname" content=""> 
  <meta name="ajs-user-locale" content="en_UK"> 
  <meta name="ajs-user-locale-group-separator" content=","> 
  <meta name="ajs-app-title" content="ASF JIRA"> 
  <meta name="ajs-keyboard-shortcuts-enabled" content="true"> 
  <meta name="ajs-keyboard-accesskey-modifier" content="Ctrl+Alt"> 
  <meta name="ajs-enabled-dark-features" content="[&quot;com.atlassian.jira.agile.darkfeature.editable.detailsview&quot;,&quot;nps.survey.inline.dialog&quot;,&quot;com.atlassian.jira.agile.darkfeature.edit.closed.sprint.enabled&quot;,&quot;jira.plugin.devstatus.phasetwo&quot;,&quot;jira.frother.reporter.field&quot;,&quot;atlassian.rest.xsrf.legacy.enabled&quot;,&quot;jira.issue.status.lozenge&quot;,&quot;com.atlassian.jira.config.BIG_PIPE&quot;,&quot;com.atlassian.jira.projects.issuenavigator&quot;,&quot;com.atlassian.jira.config.PDL&quot;,&quot;jira.plugin.devstatus.phasetwo.enabled&quot;,&quot;atlassian.aui.raphael.disabled&quot;,&quot;app-switcher.new&quot;,&quot;frother.assignee.field&quot;,&quot;com.atlassian.jira.projects.ProjectCentricNavigation.Switch&quot;,&quot;sd.internal.base.off.thread.on.completion.events.enabled&quot;,&quot;jira.onboarding.cyoa&quot;,&quot;com.atlassian.jira.agile.darkfeature.kanplan.enabled&quot;,&quot;sd.slavalue.record.updated.date.enabled&quot;,&quot;com.atlassian.jira.config.ProjectConfig.MENU&quot;,&quot;com.atlassian.jira.projects.sidebar.DEFER_RESOURCES&quot;,&quot;com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions.enabled&quot;,&quot;com.atlassian.jira.agile.darkfeature.sprint.goal.enabled&quot;,&quot;jira.zdu.admin-updates-ui&quot;,&quot;jira.zdu.jmx-monitoring&quot;,&quot;sd.sla.improved.rendering.enabled&quot;,&quot;sd.canned.responses.enabled&quot;,&quot;sd.new.settings.sidebar.location.disabled&quot;,&quot;jira.zdu.cluster-upgrade-state&quot;,&quot;com.atlassian.jira.agile.darkfeature.splitissue&quot;,&quot;com.atlassian.jira.config.CoreFeatures.LICENSE_ROLES_ENABLED&quot;,&quot;com.atlassian.feedback.feedback-button-move-to-header-enable&quot;,&quot;jira.export.csv.enabled&quot;]"> 
  <meta name="ajs-in-admin-mode" content="false"> 
  <meta name="ajs-is-sysadmin" content="false"> 
  <meta name="ajs-is-admin" content="false"> 
  <meta name="ajs-outgoing-mail-enabled" content="true"> 
  <meta name="ajs-date-relativize" content="true"> 
  <meta name="ajs-date-time" content="HH:mm"> 
  <meta name="ajs-date-day" content="EEEE HH:mm"> 
  <meta name="ajs-date-dmy" content="dd/MMM/yy"> 
  <meta name="ajs-date-complete" content="dd/MMM/yy HH:mm"> 
  <script type="text/javascript">var AJS=AJS||{};AJS.debug=true;</script> 
  <meta id="atlassian-token" name="atlassian-token" content="A5KQ-2QAV-T4JA-FDED|99f8a8d969061d9bd80cd701afc4311bb9f4fe60|lout"> 
  <link rel="shortcut icon" href="/jira/s/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/_/favicon.ico"> 
  <!--[if IE]><![endif]--> 
  <script type="text/javascript">
    (function() {
        var contextPath = '/jira';
        var eventBuffer = [];

        function printDeprecatedMsg() {
            if (console && console.warn) {
                console.warn('DEPRECATED JS - contextPath global variable has been deprecated since 7.4.0. Use `wrm/context-path` module instead.');
            }
        }

        function sendEvent(analytics, postfix) {
            analytics.send({
                name: 'js.globals.contextPath.' + postfix
            });
        }

        function sendDeprecatedEvent(postfix) {
            try {
                var analytics = require('jira/analytics');
                if (eventBuffer.length) {
                    eventBuffer.forEach(function(value) {
                        sendEvent(analytics, value);
                    });
                    eventBuffer = [];
                }

                if (postfix) {
                    sendEvent(analytics, postfix);
                }
            } catch(ex) {
                eventBuffer.push(postfix);
                setTimeout(sendDeprecatedEvent, 1000);
            }
        }

        Object.defineProperty(window, 'contextPath', {
            get: function() {
                printDeprecatedMsg();
                sendDeprecatedEvent('get');
                return contextPath;
            },
            set: function(value) {
                printDeprecatedMsg();
                sendDeprecatedEvent('set');
                contextPath = value;
            }
        });
    })();

</script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["com.atlassian.plugins.atlassian-plugins-webresource-plugin:context-path.context-path"]="\"/jira\"";
WRM._unparsedData["jira.webresources:feature-flags.feature-flag-data"]="{\"enabled-feature-keys\":[\"com.atlassian.jira.agile.darkfeature.editable.detailsview\",\"nps.survey.inline.dialog\",\"com.atlassian.jira.agile.darkfeature.edit.closed.sprint.enabled\",\"jira.plugin.devstatus.phasetwo\",\"jira.frother.reporter.field\",\"atlassian.rest.xsrf.legacy.enabled\",\"jira.issue.status.lozenge\",\"com.atlassian.jira.config.BIG_PIPE\",\"com.atlassian.jira.projects.issuenavigator\",\"com.atlassian.jira.config.PDL\",\"jira.plugin.devstatus.phasetwo.enabled\",\"atlassian.aui.raphael.disabled\",\"app-switcher.new\",\"frother.assignee.field\",\"com.atlassian.jira.projects.ProjectCentricNavigation.Switch\",\"sd.internal.base.off.thread.on.completion.events.enabled\",\"jira.onboarding.cyoa\",\"com.atlassian.jira.agile.darkfeature.kanplan.enabled\",\"sd.slavalue.record.updated.date.enabled\",\"com.atlassian.jira.config.ProjectConfig.MENU\",\"com.atlassian.jira.projects.sidebar.DEFER_RESOURCES\",\"com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions.enabled\",\"com.atlassian.jira.agile.darkfeature.sprint.goal.enabled\",\"jira.zdu.admin-updates-ui\",\"jira.zdu.jmx-monitoring\",\"sd.sla.improved.rendering.enabled\",\"sd.canned.responses.enabled\",\"sd.new.settings.sidebar.location.disabled\",\"jira.zdu.cluster-upgrade-state\",\"com.atlassian.jira.agile.darkfeature.splitissue\",\"com.atlassian.jira.config.CoreFeatures.LICENSE_ROLES_ENABLED\",\"com.atlassian.feedback.feedback-button-move-to-header-enable\",\"jira.export.csv.enabled\"],\"feature-flag-states\":{\"com.atlassian.jira.agile.darkfeature.kanplan\":false,\"sd.internal.base.off.thread.on.completion.events\":false,\"jira.instrumentation.laas\":false,\"com.atlassian.jira.agile.darkfeature.edit.closed.sprint\":false,\"com.atlassian.jira.issuetable.draggable\":true,\"jira.create.linked.issue\":true,\"com.atlassian.jira.agile.darkfeature.sprint.goal\":false,\"jira.sal.host.connect.accessor.existing.transaction.will.create.transactions\":true,\"jira.jql.suggestrecentfields\":false,\"com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions\":false,\"jira.jql.smartautoselectfirst\":false,\"com.atlassian.jira.agile.darkfeature.optimistic.transitions\":true,\"com.atlassian.jira.issuetable.move.links.hidden\":true,\"jira.priorities.per.project\":true,\"com.atlassian.jira.upgrade.startup.fix.index\":true,\"jira.renderer.consider.variable.format\":true}}";
WRM._unparsedData["jira.webresources:default-comment-security-level.DefaultCommentSecurityLevelHelpLink"]="{\"extraClasses\":\"default-comment-level-help\",\"title\":\"Commenting on an Issue\",\"url\":\"https://docs.atlassian.com/jira/jcore-docs-076/Editing+and+collaborating+on+issues#Editingandcollaboratingonissues-restrictacomment\",\"isLocal\":false}";
WRM._unparsedData["jira.webresources:dateFormatProvider.allFormats"]="{\"dateFormats\":{\"meridiem\":[\"AM\",\"PM\"],\"eras\":[\"BC\",\"AD\"],\"months\":[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],\"monthsShort\":[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],\"weekdaysShort\":[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"],\"weekdays\":[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"]},\"lookAndFeelFormats\":{\"relativize\":\"true\",\"time\":\"HH:mm\",\"day\":\"EEEE HH:mm\",\"dmy\":\"dd/MMM/yy\",\"complete\":\"dd/MMM/yy HH:mm\"}}";
WRM._unparsedData["com.atlassian.jira.jira-issue-nav-components:issueviewer.features"]="{\"rteEnabled\":true}";
WRM._unparsedData["com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone.thumbnail-mime-types"]="\"image/vnd.wap.wbmp,image/png,image/x-png,image/jpeg,image/bmp,image/gif\"";
WRM._unparsedData["com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone.upload-limit"]="\"62914560\"";
WRM._unparsedData["com.atlassian.plugins.helptips.jira-help-tips:help-tip-manager.JiraHelpTipData"]="{\"anonymous\":true}";
WRM._unparsedData["com.atlassian.jira.jira-view-issue-plugin:controller-subtasks.controller.subtasks.parameters"]="{\"url\":\"/rest/api/2/issue/{issueId}/subtask/move\"}";
WRM._unparsedData["com.atlassian.analytics.analytics-client:policy-update-init.policy-update-data-provider"]="false";
WRM._unparsedData["com.atlassian.analytics.analytics-client:programmatic-analytics-init.programmatic-analytics-data-provider"]="false";
WRM._unparsedData["jira.webresources:avatar-picker.data"]="{}";
WRM._unparsedData["com.atlassian.feedback.jira-feedback-plugin:button-resources-init.data"]="{\"jira.feedback.plugin.issue.collector.core\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"jira.feedback.plugin.issue.collector.default\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"jira.feedback.plugin.issue.collector.service.desk\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector.js?locale=en-UK&collectorId=a698db21\",\"jira.feedback.plugin.issue.collector.software\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"isHeaderFeedbackButtonEnabled\":true}";
WRM._unparsedData["com.atlassian.jira.jira-header-plugin:dismissedFlags.flags"]="{\"dismissed\":[]}";
WRM._unparsedData["com.atlassian.jira.jira-header-plugin:newsletter-signup-tip-init.newsletterSignup"]="{\"signupDescription\":\"Get updates, inspiration and best practices from the team behind JIRA.\",\"formUrl\":\"https://www.atlassian.com/apis/exact-target/{0}/subscribe?mailingListId=1401671\",\"signupTitle\":\"Sign up!\",\"signupId\":\"newsletter-signup-tip\",\"showNewsletterTip\":false}";
WRM._unparsedData["com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources.ptAnalyticsData"]="{\"instanceCreatedDate\":\"2011-01-31\"}";
WRM._unparsedData["com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources.help-data"]="{\"showHelp\":true,\"editorDocumentationUrl\":[\"https://docs.atlassian.com/jira/jcore-docs-076/Visual+editing\"],\"editorDocumentationTitle\":[\"Show me documentation for the visual editor\"]}";
WRM._unparsedData["com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources.thumbnails-allowed"]="false";
WRM._unparsedData["jira.webresources:user-message-flags.adminLockout"]="{}";
WRM._unparsedData["jira.request.correlation-id"]="\"1ad89d90f6c174\"";
WRM._unparsedData["project-id"]="10594";
WRM._unparsedData["project-key"]="\"DERBY\"";
WRM._unparsedData["project-name"]="\"Derby\"";
WRM._unparsedData["project-type"]="\"software\"";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:generic-filters"]="[{\"id\":\"allissues\",\"jql\":\"project = \\\"{0}\\\" ORDER BY {1}\",\"defaultOrderby\":\"created DESC\",\"label\":\"All issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[]},{\"id\":\"allopenissues\",\"jql\":\"project = \\\"{0}\\\" AND resolution = Unresolved ORDER BY {1}\",\"defaultOrderby\":\"priority DESC, updated DESC\",\"label\":\"Open issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"resolution\"]},{\"id\":\"doneissues\",\"jql\":\"project = \\\"{0}\\\" AND statusCategory = Done ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Done issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":false,\"fields\":[\"status\"]},{\"id\":\"recentlyviewed\",\"jql\":\"project = \\\"{0}\\\" AND issuekey in issueHistory() ORDER BY {1}\",\"defaultOrderby\":\"lastViewed DESC\",\"label\":\"Viewed recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"issuekey\"]},{\"id\":\"addedrecently\",\"jql\":\"project = \\\"{0}\\\" AND created \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"created DESC\",\"label\":\"Created recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"created\"]},{\"id\":\"resolvedrecently\",\"jql\":\"project = \\\"{0}\\\" AND resolutiondate \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Resolved recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":false,\"fields\":[\"resolutiondate\"]},{\"id\":\"updatedrecently\",\"jql\":\"project = \\\"{0}\\\" AND updated \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Updated recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"updated\"]}]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:default-filter-priority"]="[\"allopenissues\",\"allissues\"]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:can-manage-filters"]="false";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:project-filters"]="[]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:can-create-issues"]="false";
WRM._unparsedData["projectId"]="10594";
WRM._unparsedData["projectKey"]="\"DERBY\"";
WRM._unparsedData["projectType"]="\"software\"";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:server-rendered"]="true";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/a8a4711bc3f2eb261d8c8fd9fbcbba8b-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1fca1750044f2777c977e8d8cc023344/_/download/contextbatch/css/_super/batch.css" data-wrm-key="_super" data-wrm-batch-type="context" media="all"> 
  <link type="text/css" rel="stylesheet" href="/jira/s/74ac580603ca910fff0cfdf319e54add-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/fbf45109b31165e5b7740a9d72318cea/_/download/contextbatch/css/project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super/batch.css?agile_global_admin_condition=true&amp;hc-enabled=true&amp;is-server-instance=true&amp;jag=true&amp;jira.create.linked.issue=true&amp;nps-acknowledged=true&amp;richediton=true" data-wrm-key="project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super" data-wrm-batch-type="context" media="all"> 
  <link type="text/css" rel="stylesheet" href="/jira/s/611672383f6cab00ab202241ba6f9d68-T/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/7.6.3/_/download/batch/com.atlassian.feedback.jira-feedback-plugin:button-resources-init/com.atlassian.feedback.jira-feedback-plugin:button-resources-init.css" data-wrm-key="com.atlassian.feedback.jira-feedback-plugin:button-resources-init" data-wrm-batch-type="resource" media="all"> 
  <script type="text/javascript" src="/jira/s/98ceb006e504d7924d5ffc411626c6bc-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1fca1750044f2777c977e8d8cc023344/_/download/contextbatch/js/_super/batch.js?locale=en-UK" data-wrm-key="_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/c1e4d26ea276469807c3dc0918df482c-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/fbf45109b31165e5b7740a9d72318cea/_/download/contextbatch/js/project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super/batch.js?agile_global_admin_condition=true&amp;hc-enabled=true&amp;is-server-instance=true&amp;jag=true&amp;jira.create.linked.issue=true&amp;locale=en-UK&amp;nps-acknowledged=true&amp;richediton=true" data-wrm-key="project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/6bf9253c8d533109c3b02e26794be24e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/871d45c9f322a22cb3aa9b7948a69803/_/download/contextbatch/js/atl.global,-_super/batch.js?locale=en-UK" data-wrm-key="atl.global,-_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:calendar-en/jira.webresources:calendar-en.js" data-wrm-key="jira.webresources:calendar-en" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:calendar-localisation-moment/jira.webresources:calendar-localisation-moment.js" data-wrm-key="jira.webresources:calendar-localisation-moment" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/7.6.3/_/download/batch/com.atlassian.feedback.jira-feedback-plugin:button-resources/com.atlassian.feedback.jira-feedback-plugin:button-resources.js" data-wrm-key="com.atlassian.feedback.jira-feedback-plugin:button-resources" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/ccd2e67b523185973473e8bd5735c8f9-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/e0de73613a1027de08f3da6a45e1d1a2/_/download/contextbatch/css/jira.global.look-and-feel,-_super/batch.css" data-wrm-key="jira.global.look-and-feel,-_super" data-wrm-batch-type="context" media="all"> 
  <script type="text/javascript" src="/jira/rest/api/1.0/shortcuts/76005/33e5e0166867c8c9228d44506f60b2e8/shortcuts.js?context=issuenavigation&amp;context=issueaction"></script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["com.atlassian.jira.jira-issue-nav-components:inline-edit-enabled"]="true";
WRM._unparsedData["should-display-chaperone"]="false";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/15712b600e9aecf72ffd9fd3704a0c78-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/6b22a15c7b83f87a47b1757076f43542/_/download/contextbatch/css/com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue/batch.css?jira.create.linked.issue=true&amp;richediton=true" data-wrm-key="com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue" data-wrm-batch-type="context" media="all"> 
  <script type="text/javascript" src="/jira/s/6579b6b8ba67abaa496e39b9242a18a4-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/6b22a15c7b83f87a47b1757076f43542/_/download/contextbatch/js/com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue/batch.js?jira.create.linked.issue=true&amp;locale=en-UK&amp;richediton=true" data-wrm-key="com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue" data-wrm-batch-type="context" data-initially-rendered></script> 
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge"> 
  <meta name="ajs-can-search-users" content="false"> 
  <meta name="ajs-can-edit-watchers" content="false"> 
  <meta name="ajs-default-avatar-url" content="https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10453"> 
  <meta name="ajs-issue-project-type" content="software"> 
  <meta name="ajs-issue-key" content="DERBY-4331"> 
  <meta name="ajs-server-view-issue-is-editable" content="false"> 
  <title>[DERBY-4331] Join returns results in wrong order - ASF JIRA</title> 
  <link rel="search" type="application/opensearchdescription+xml" href="/jira/osd.jsp" title="[DERBY-4331] Join returns results in wrong order - ASF JIRA"> 
 </head> 
 <body id="jira" class="aui-layout aui-theme-default " data-version="7.6.3"> 
  <div id="page"> 
   <header id="header" role="banner"> 
    <script>
require(["jquery", "jira/license-banner"], function ($, licenseBanner) {
    $(function () {
        licenseBanner.showLicenseBanner("");
        licenseBanner.showLicenseFlag("");
    });
});
</script> 
    <nav class="aui-header aui-dropdown2-trigger-group" role="navigation">
     <div class="aui-header-inner">
      <div class="aui-header-before">
       <a class=" aui-dropdown2-trigger app-switcher-trigger" aria-controls="app-switcher" aria-haspopup="true" role="button" tabindex="0" data-aui-trigger href="#app-switcher"><span class="aui-icon aui-icon-small aui-iconfont-appswitcher">Linked Applications</span></a>
       <div id="app-switcher" class="aui-dropdown2 aui-style-default" role="menu" aria-hidden="true" data-is-switcher="true" data-environment="{&quot;isUserAdmin&quot;:false,&quot;isAppSuggestionAvailable&quot;:false,&quot;isSiteAdminUser&quot;:false}">
        <div role="application">
         <div class="app-switcher-loading">
          Loadingâ€¦
         </div>
        </div>
       </div>
      </div>
      <div class="aui-header-primary">
       <h1 id="logo" class="aui-header-logo aui-header-logo-custom"><a href="https://issues.apache.org/jira/secure/MyJiraHome.jspa"><img src="/jira/s/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/_/jira-logo-scaled.png" alt="ASF JIRA"></a></h1>
       <ul class="aui-nav">
        <li><a href="/jira/secure/Dashboard.jspa" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="home_link" aria-haspopup="true" aria-controls="home_link-content" title="View and manage your dashboards" accesskey="d">Dashboards</a>
         <div class="aui-dropdown2 aui-style-default" id="home_link-content" data-aui-dropdown2-ajax-key="home_link"></div></li>
        <li><a href="/jira/browse/DERBY" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="browse_link" aria-haspopup="true" aria-controls="browse_link-content" title="View recent projects and browse a list of projects" accesskey="p">Projects</a>
         <div class="aui-dropdown2 aui-style-default" id="browse_link-content" data-aui-dropdown2-ajax-key="browse_link"></div></li>
        <li><a href="/jira/issues/" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="find_link" aria-haspopup="true" aria-controls="find_link-content" title="Search for issues and view recent issues" accesskey="i">Issues</a>
         <div class="aui-dropdown2 aui-style-default" id="find_link-content" data-aui-dropdown2-ajax-key="find_link"></div></li> 
       </ul>
      </div>
      <div class="aui-header-secondary">
       <ul class="aui-nav">
        <li id="quicksearch-menu"> 
         <form action="/jira/secure/QuickSearch.jspa" method="get" id="quicksearch" class="aui-quicksearch dont-default-focus ajs-dirty-warning-exempt"> 
          <input id="quickSearchInput" class="search" type="text" title="Search" placeholder="Search" name="searchString" accessKey="q"> 
          <input type="submit" class="hidden" value="Search"> 
         </form> </li> 
        <li><a class="jira-feedback-plugin" role="button" aria-haspopup="true" id="jira-header-feedback-link" href="#"><span class="aui-icon aui-icon-small jira-feedback-plugin-icon">Give feedback to Atlassian</span></a></li> 
        <li id="system-help-menu"> <a class="aui-nav-link aui-dropdown2-trigger" id="help_menu" aria-haspopup="true" aria-owns="system-help-menu-content" href="https://docs.atlassian.com/jira/jcore-docs-076/" target="$textUtils.htmlEncode($rootHelpMenuItem.params.target)" title="Help"><span class="aui-icon aui-icon-small aui-iconfont-help">Help</span></a> 
         <div id="system-help-menu-content" class="aui-dropdown2 aui-style-default"> 
          <div class="aui-dropdown2-section"> 
           <ul id="jira-help" class="aui-list-truncate"> 
            <li> <a id="view_core_help" class="aui-nav-link " title="Go to the online documentation for JIRA Core" href="https://docs.atlassian.com/jira/jcore-docs-076/" target="_blank">JIRA Core help</a> </li> 
            <li> <a id="keyshortscuthelp" class="aui-nav-link " title="Get more information about JIRA's Keyboard Shortcuts" href="/jira/secure/ViewKeyboardShortcuts!default.jspa" target="_blank">Keyboard Shortcuts</a> </li> 
            <li> <a id="view_about" class="aui-nav-link " title="Get more information about JIRA" href="/jira/secure/AboutPage.jspa">About JIRA</a> </li> 
            <li> <a id="view_credits" class="aui-nav-link " title="See who did what" href="/jira/secure/JiraCreditsPage!default.jspa" target="_blank">JIRA Credits</a> </li> 
           </ul> 
          </div> 
         </div> </li> 
        <li id="user-options"> <a class="aui-nav-link login-link" href="/jira/login.jsp?os_destination=%2Fbrowse%2FDERBY-4331">Log In</a> 
         <div id="user-options-content" class="aui-dropdown2 aui-style-default"> 
          <div class="aui-dropdown2-section"> 
          </div> 
         </div> </li> 
       </ul>
      </div>
     </div>
     <!-- .aui-header-inner-->
    </nav>
    <!-- .aui-header --> 
   </header> 
   <section id="content" role="main"> 
    <big-pipe data-id="sidebar-id" unresolved></big-pipe>
    <div class="aui-sidebar  sidebar-placeholder">
     <div class="aui-sidebar-wrapper">
      <div class="aui-sidebar-body"></div>
      <div class="aui-sidebar-footer">
       <a class="aui-button aui-button-subtle aui-sidebar-toggle aui-sidebar-footer-tipsy" data-tooltip="Expand sidebar ( [ )" href="#"><span class="aui-icon aui-icon-small"></span></a>
      </div>
     </div>
    </div>
    <script id="projects-sidebar-init">
    require(['jira/projects/sidebar/expansion-manager'], function(expansionManager) {
        var scriptTag = document.getElementById('projects-sidebar-init');
        var sidebar = AJS.sidebar('.aui-sidebar');
        expansionManager(sidebar);
        scriptTag.parentElement.removeChild(scriptTag);
    });
    </script>
    <div class="aui-page-panel">
     <div class="aui-page-panel-inner">
      <div class="issue-navigator">
       <div class="content">
        <div class="issue-view">
         <div class="navigation-tools">
          <div class="pager-container"></div>
         </div>
         <div class="issue-container">
          <div id="issue-content" class="issue-edit-form">
           <header id="stalker" class="issue-header js-stalker">
            <div class="issue-header-content">
             <header class="aui-page-header">
              <div class="aui-page-header-inner">
               <div class="aui-page-header-image">
                <span id="10594" class="aui-avatar aui-avatar-large aui-avatar-project"><span class="aui-avatar-inner"><img id="project-avatar" alt="Uploaded image for project: 'Derby'" src="https://issues.apache.org/jira/secure/projectavatar?pid=10594&amp;avatarId=10122"></span></span>
               </div>
               <!-- .aui-page-header-image -->
               <div class="aui-page-header-main">
                <ol class="aui-nav aui-nav-breadcrumbs">
                 <li><a id="project-name-val" href="/jira/browse/DERBY">Derby</a></li>
                 <li><a class="issue-link" data-issue-key="DERBY-4331" href="/jira/browse/DERBY-4331" id="key-val" rel="12431975">DERBY-4331</a></li>
                </ol>
                <h1 id="summary-val">Join returns results in wrong order</h1>
               </div>
               <!-- .aui-page-header-main -->
               <div class="aui-page-header-actions">
                <div id="issue-header-pager"></div>
               </div>
               <!-- .aui-page-header-actions -->
              </div>
              <!-- .aui-page-header-inner -->
             </header>
             <!-- .aui-page-header -->
             <div class="command-bar">
              <div class="ops-cont">
               <div class="ops-menus aui-toolbar">
                <div class="toolbar-split toolbar-split-left">
                 <ul id="opsbar-ops-login-lnk_container" class="toolbar-group pluggable-ops">
                  <li class="toolbar-item"><a id="ops-login-lnk" title="Log In" class="toolbar-trigger" href="/jira/login.jsp?os_destination=%2Fbrowse%2FDERBY-4331"><span class="trigger-label">Log In</span></a></li>
                 </ul>
                 <ul id="opsbar-opsbar-operations" class="toolbar-group pluggable-ops"></ul>
                 <ul id="opsbar-opsbar-transitions" class="toolbar-group pluggable-ops"></ul>
                 <ul id="opsbar-opsbar-admin" class="toolbar-group pluggable-ops"></ul>
                </div>
                <div class="toolbar-split toolbar-split-right">
                 <ul id="opsbar-jira.issue.tools" class="toolbar-group pluggable-ops">
                  <li class="toolbar-item">
                   <div>
                    <a href="#" id="viewissue-export" aria-owns="viewissue-export_drop" aria-haspopup="true" title="Export this issue in another format" class="toolbar-trigger aui-button aui-style-default aui-dropdown2-trigger"><span class="icon icon-default aui-icon aui-icon-small aui-iconfont-export"></span> <span class="dropdown-text">Export</span></a>
                    <div id="viewissue-export_drop" class="aui-style-default aui-dropdown2">
                     <ul>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-xml/DERBY-4331/DERBY-4331.xml" id="jira.issueviews:issue-xml"><span class="trigger-label">XML</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-word/DERBY-4331/DERBY-4331.doc" id="jira.issueviews:issue-word"><span class="trigger-label">Word</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-html/DERBY-4331/DERBY-4331.html" id="jira.issueviews:issue-html"><span class="trigger-label">Printable</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/com.atlassian.jira.plugins.jira-importers-plugin:issue-json/DERBY-4331/DERBY-4331.json" id="com.atlassian.jira.plugins.jira-importers-plugin:issue-json"><span class="trigger-label">JSON</span></a></li>
                     </ul>
                    </div>
                   </div></li>
                 </ul>
                </div>
               </div>
              </div>
             </div>
            </div>
           </header>
           <div class="issue-body-content">
            <div class="aui-group issue-body">
             <div class="aui-item issue-main-column">
              <div id="details-module" class="module toggle-wrap">
               <div id="details-module_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Details</h2>
               </div>
               <div class="mod-content"> 
                <ul id="issuedetails" class="property-list two-cols"> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Type:</strong> 
                   <span id="type-val" class="value"> <img alt="" height="16" src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype" title="Bug - A problem which impairs or prevents the functions of the product." width="16"> Bug </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Status:</strong> 
                   <span id="status-val" class="value"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done jira-issue-status-lozenge-max-width-medium" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </span> 
                  </div> </li> 
                 <li class="item new"> 
                  <div class="wrap"> 
                   <strong class="name">Priority:</strong> 
                   <span id="priority-val" class="value"> <img alt="" height="16" src="/jira/images/icons/priorities/major.svg" title="Major - Major loss of function." width="16"> Major </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Resolution:</strong> 
                   <span id="resolution-val" class="value resolved"> Fixed </span> 
                  </div> </li> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Affects Version/s:</strong> 
                   <span id="versions-val" class="value"> <span class="shorten" id="versions-field"> <span title="10.1.3.3 Head of 10.1 branch. Maintenance version bump for sps update ">10.1.3.3</span>, <span title="10.2.2.1 Head of 10.2 branch">10.2.2.1</span>, <span title="10.3.3.1 Head of 10.3 branch">10.3.3.1</span>, <span title="10.4.2.1 Head of 10.4 branch">10.4.2.1</span>, <span title="10.5.2.0 10.5.2 Release July 30 2009 (794445) Now deprecated">10.5.2.0</span>, <span title="10.6.1.0 Feature release">10.6.1.0</span> </span> </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Fix Version/s:</strong> 
                   <span id="fixfor-val" class="value"> <span class="shorten" id="fixVersions-field"> <a href="/jira/issues/?jql=project+%3D+DERBY+AND+fixVersion+%3D+10.1.3.3" title="10.1.3.3 Head of 10.1 branch. Maintenance version bump for sps update ">10.1.3.3</a>, <a href="/jira/issues/?jql=project+%3D+DERBY+AND+fixVersion+%3D+10.2.2.1" title="10.2.2.1 Head of 10.2 branch">10.2.2.1</a>, <a href="/jira/issues/?jql=project+%3D+DERBY+AND+fixVersion+%3D+10.3.3.1" title="10.3.3.1 Head of 10.3 branch">10.3.3.1</a>, <a href="/jira/issues/?jql=project+%3D+DERBY+AND+fixVersion+%3D+10.4.2.1" title="10.4.2.1 Head of 10.4 branch">10.4.2.1</a>, <a href="/jira/issues/?jql=project+%3D+DERBY+AND+fixVersion+%3D+10.5.3.0" title="10.5.3.0 Next release after 10.5.2.0 release candidate #1">10.5.3.0</a>, <a href="/jira/issues/?jql=project+%3D+DERBY+AND+fixVersion+%3D+10.6.1.0" title="10.6.1.0 Feature release">10.6.1.0</a> </span> </span> 
                  </div> </li> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Component/s:</strong> 
                   <span id="components-val" class="value"> <span class="shorten" id="components-field"> <a href="/jira/issues/?jql=project+%3D+DERBY+AND+component+%3D+SQL" title="SQL ">SQL</a> </span> </span> 
                  </div> </li> 
                 <li class="item full-width"> 
                  <div class="wrap" id="wrap-labels"> 
                   <strong class="name">Labels:</strong> 
                   <div class="labels-wrap value"> 
                    <span class="labels" id="labels-12431975-value">None</span> 
                   </div> 
                  </div> </li> 
                </ul> 
                <div id="customfieldmodule"> 
                 <div class="aui-tabs horizontal-tabs" id="customfield-tabs"> 
                  <div id="customfield-panel-1" class="tabs-pane active-pane"> 
                   <ul class="property-list"> 
                    <li id="rowForcustomfield_12310090" class="item"> 
                     <div class="wrap"> 
                      <strong title="Issue &amp; fix info" class="name">Issue &amp; fix info:</strong> 
                      <div id="customfield_12310090-val" class="value type-multicheckboxes" data-fieldtype="multicheckboxes" data-fieldtypecompletekey="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes"> 
                       <div class="shorten" id="customfield_12310090-field"> 
                        <span>High Value Fix</span>, 
                        <span>Repro attached</span> 
                       </div> 
                      </div> 
                     </div> </li> 
                    <li id="rowForcustomfield_12310200" class="item"> 
                     <div class="wrap"> 
                      <strong title="Bug behavior facts" class="name">Bug behavior facts:</strong> 
                      <div id="customfield_12310200-val" class="value type-multicheckboxes" data-fieldtype="multicheckboxes" data-fieldtypecompletekey="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes"> 
                       <div class="shorten" id="customfield_12310200-field"> 
                        <span>Regression</span>, 
                        <span>Wrong query result</span> 
                       </div> 
                      </div> 
                     </div> </li> 
                   </ul> 
                  </div> 
                 </div>
                </div> 
               </div>
              </div>
              <div id="descriptionmodule" class="module toggle-wrap">
               <div id="descriptionmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Description</h2>
               </div>
               <div class="mod-content">
                <div id="description-val" class="field-ignore-highlight"> 
                 <div class="user-content-block"> 
                  <p>In Derby 10.5.2.0, the query below started returning results in wrong order (note the ORDER BY clause). Derby 10.5.1.1 gives the expected ordering.</p> 
                  <p>ij&gt; SELECT CS.ID<br> FROM<br> CHANGESETS CS, FILECHANGES FC, REPOSITORIES R, FILES F, AUTHORS A<br> WHERE<br> R.PATH = '/var/tmp/source5923202038296723704opengrok/mercurial' AND F.REPOSITORY = R.ID AND A.REPOSITORY = R.ID AND<br> CS.REPOSITORY = R.ID AND CS.ID = FC.CHANGESET AND F.ID = FC.FILE AND<br> A.ID = CS.AUTHOR AND<br> EXISTS (<br> SELECT 1<br> FROM FILES F2<br> WHERE<br> F2.ID = FC.FILE AND F2.REPOSITORY = R.ID AND<br> F2.PATH LIKE '/%' ESCAPE '#')<br> ORDER BY CS.ID DESC;<br> ID <br> -----------<br> 1 <br> 2 <br> 3 <br> 2 <br> 2 <br> 3 </p> 
                  <p>6 rows selected</p> 
                 </div> 
                </div> 
               </div>
              </div>
              <div id="dnd-metadata" class="module toggle-wrap">
               <div id="dnd-metadata_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Attachments</h2>
               </div>
               <div class="mod-content">
                <div id="dnd-metadata-webpanel" data-can-attach="false" data-project-type="software" data-upload-limit="62914560" data-thumbnails-allowed="false"></div>
               </div>
              </div>
              <div id="attachmentmodule" class="module toggle-wrap">
               <div id="attachmentmodule_heading" class="mod-header">
                <ul class="ops">
                 <li class="drop">
                  <div class="aui-dd-parent">
                   <a href="#" class="icon drop-menu js-default-dropdown" title="Options"><span>Options</span></a>
                   <div class="aui-dropdown-content aui-list">
                    <ul id="attachment-sorting-options" class="aui-list-section aui-first">
                     <li class="aui-list-item"><a id="attachment-sort-key-name" href="/jira/browse/DERBY-4331?attachmentSortBy=fileName#attachmentmodule" class="aui-list-checked aui-checked aui-list-item-link" title="viewissue.subtasks.tab.show.all.name"><span>Sort By Name</span></a></li>
                     <li class="aui-list-item"><a id="attachment-sort-key-date" href="/jira/browse/DERBY-4331?attachmentSortBy=dateTime#attachmentmodule" class="aui-list-checked aui-list-item-link" title="Sort By Date"><span>Sort By Date</span></a></li>
                    </ul>
                    <ul id="attachment-sorting-order-options" class="aui-list-section aui-last">
                     <li class="aui-list-item"><a id="attachment-sort-direction-asc" href="/jira/browse/DERBY-4331?attachmentOrder=asc#attachmentmodule" class="aui-list-checked aui-checked aui-list-item-link" title="Ascending"><span>Ascending</span></a></li>
                     <li class="aui-list-item"><a id="attachment-sort-direction-desc" href="/jira/browse/DERBY-4331?attachmentOrder=desc#attachmentmodule" class="aui-list-checked aui-list-item-link" title="Descending"><span>Descending</span></a></li>
                    </ul>
                   </div>
                  </div></li>
                </ul>
                <h2 class="toggle-title">Attachments</h2>
               </div>
               <div class="mod-content">
                <ol id="file_attachments" class="item-attachments" data-sort-key="fileName" data-sort-order="asc">
                 <li class="attachment-content js-file-attachment" data-attachment-id="12415459" data-issue-id="12431975" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12415459/createDBsimpler.txt" draggable="true" data-downloadurl="text/plain:createDBsimpler.txt:https://issues.apache.org/jira/secure/attachment/12415459/createDBsimpler.txt"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12415459/createDBsimpler.txt" title="Latest  04/Aug/09 05:36 - Mamta A. Satoor" draggable="true" data-downloadurl="text/plain:createDBsimpler.txt:https://issues.apache.org/jira/secure/attachment/12415459/createDBsimpler.txt">createDBsimpler.txt</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2009-08-04T05:36:27.683Z">04/Aug/09 05:36</time>
                   </dd>
                   <dd class="attachment-size">
                    2 kB
                   </dd>
                   <dd class="attachment-author">
                    Mamta A. Satoor
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12415462" data-issue-id="12431975" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12415462/createDBsimplerVer2.txt" draggable="true" data-downloadurl="text/plain:createDBsimplerVer2.txt:https://issues.apache.org/jira/secure/attachment/12415462/createDBsimplerVer2.txt"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12415462/createDBsimplerVer2.txt" title="Latest  04/Aug/09 06:04 - Mamta A. Satoor" draggable="true" data-downloadurl="text/plain:createDBsimplerVer2.txt:https://issues.apache.org/jira/secure/attachment/12415462/createDBsimplerVer2.txt">createDBsimplerVer2.txt</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2009-08-04T06:04:03.935Z">04/Aug/09 06:04</time>
                   </dd>
                   <dd class="attachment-size">
                    1 kB
                   </dd>
                   <dd class="attachment-author">
                    Mamta A. Satoor
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12415676" data-issue-id="12431975" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12415676/derby_4331_patch_2.diff" draggable="true" data-downloadurl="text/x-patch:derby_4331_patch_2.diff:https://issues.apache.org/jira/secure/attachment/12415676/derby_4331_patch_2.diff"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12415676/derby_4331_patch_2.diff" title="Latest  05/Aug/09 23:14 - Mike Matrigali" draggable="true" data-downloadurl="text/x-patch:derby_4331_patch_2.diff:https://issues.apache.org/jira/secure/attachment/12415676/derby_4331_patch_2.diff">derby_4331_patch_2.diff</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2009-08-05T23:14:29.345Z">05/Aug/09 23:14</time>
                   </dd>
                   <dd class="attachment-size">
                    55 kB
                   </dd>
                   <dd class="attachment-author">
                    Mike Matrigali
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12415667" data-issue-id="12431975" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12415667/DERBY4331_additionalTests_diff.txt" draggable="true" data-downloadurl="text/plain:DERBY4331_additionalTests_diff.txt:https://issues.apache.org/jira/secure/attachment/12415667/DERBY4331_additionalTests_diff.txt"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12415667/DERBY4331_additionalTests_diff.txt" title="Latest  05/Aug/09 21:15 - Mamta A. Satoor" draggable="true" data-downloadurl="text/plain:DERBY4331_additionalTests_diff.txt:https://issues.apache.org/jira/secure/attachment/12415667/DERBY4331_additionalTests_diff.txt">DERBY4331_additionalTests_diff.txt</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2009-08-05T21:15:21.155Z">05/Aug/09 21:15</time>
                   </dd>
                   <dd class="attachment-size">
                    14 kB
                   </dd>
                   <dd class="attachment-author">
                    Mamta A. Satoor
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12415643" data-issue-id="12431975" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12415643/derby4331_do_not_commit.diff" draggable="true" data-downloadurl="text/x-patch:derby4331_do_not_commit.diff:https://issues.apache.org/jira/secure/attachment/12415643/derby4331_do_not_commit.diff"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12415643/derby4331_do_not_commit.diff" title="Latest  05/Aug/09 18:58 - Mike Matrigali" draggable="true" data-downloadurl="text/x-patch:derby4331_do_not_commit.diff:https://issues.apache.org/jira/secure/attachment/12415643/derby4331_do_not_commit.diff">derby4331_do_not_commit.diff</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2009-08-05T18:58:03.405Z">05/Aug/09 18:58</time>
                   </dd>
                   <dd class="attachment-size">
                    4 kB
                   </dd>
                   <dd class="attachment-author">
                    Mike Matrigali
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12415443" data-issue-id="12431975" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12415443/notorderby4331.zip" draggable="true" data-downloadurl="application/x-zip-compressed:notorderby4331.zip:https://issues.apache.org/jira/secure/attachment/12415443/notorderby4331.zip"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12415443/notorderby4331.zip" title="Latest  04/Aug/09 03:19 - Lily Wei" draggable="true" data-downloadurl="application/x-zip-compressed:notorderby4331.zip:https://issues.apache.org/jira/secure/attachment/12415443/notorderby4331.zip">notorderby4331.zip</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2009-08-04T03:19:31.204Z">04/Aug/09 03:19</time>
                   </dd>
                   <dd class="attachment-size">
                    2 kB
                   </dd>
                   <dd class="attachment-author">
                    Lily Wei
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12415444" data-issue-id="12431975" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12415444/orderby4331.zip" draggable="true" data-downloadurl="application/x-zip-compressed:orderby4331.zip:https://issues.apache.org/jira/secure/attachment/12415444/orderby4331.zip"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12415444/orderby4331.zip" title="Latest  04/Aug/09 03:19 - Lily Wei" draggable="true" data-downloadurl="application/x-zip-compressed:orderby4331.zip:https://issues.apache.org/jira/secure/attachment/12415444/orderby4331.zip">orderby4331.zip</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2009-08-04T03:19:38.168Z">04/Aug/09 03:19</time>
                   </dd>
                   <dd class="attachment-size">
                    3 kB
                   </dd>
                   <dd class="attachment-author">
                    Lily Wei
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12415254" data-issue-id="12431975" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12415254/repro.sql" draggable="true" data-downloadurl="application/octet-stream:repro.sql:https://issues.apache.org/jira/secure/attachment/12415254/repro.sql"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12415254/repro.sql" title="Latest  01/Aug/09 23:15 - Knut Anders Hatlen" draggable="true" data-downloadurl="application/octet-stream:repro.sql:https://issues.apache.org/jira/secure/attachment/12415254/repro.sql">repro.sql</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2009-08-01T23:15:42.774Z">01/Aug/09 23:15</time>
                   </dd>
                   <dd class="attachment-size">
                    2 kB
                   </dd>
                   <dd class="attachment-author">
                    Knut Anders Hatlen
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12415398" data-issue-id="12431975" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12415398/repro2_qryplan.txt" draggable="true" data-downloadurl="text/plain:repro2_qryplan.txt:https://issues.apache.org/jira/secure/attachment/12415398/repro2_qryplan.txt"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12415398/repro2_qryplan.txt" title="Latest  03/Aug/09 19:55 - Mike Matrigali" draggable="true" data-downloadurl="text/plain:repro2_qryplan.txt:https://issues.apache.org/jira/secure/attachment/12415398/repro2_qryplan.txt">repro2_qryplan.txt</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2009-08-03T19:55:06.994Z">03/Aug/09 19:55</time>
                   </dd>
                   <dd class="attachment-size">
                    13 kB
                   </dd>
                   <dd class="attachment-author">
                    Mike Matrigali
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12415395" data-issue-id="12431975" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12415395/repro2.sql" draggable="true" data-downloadurl="application/octet-stream:repro2.sql:https://issues.apache.org/jira/secure/attachment/12415395/repro2.sql"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12415395/repro2.sql" title="Latest  03/Aug/09 19:51 - Mike Matrigali" draggable="true" data-downloadurl="application/octet-stream:repro2.sql:https://issues.apache.org/jira/secure/attachment/12415395/repro2.sql">repro2.sql</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2009-08-03T19:51:27.291Z">03/Aug/09 19:51</time>
                   </dd>
                   <dd class="attachment-size">
                    3 kB
                   </dd>
                   <dd class="attachment-author">
                    Mike Matrigali
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12415649" data-issue-id="12431975" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12415649/wisconsin.diff" draggable="true" data-downloadurl="text/x-patch:wisconsin.diff:https://issues.apache.org/jira/secure/attachment/12415649/wisconsin.diff"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12415649/wisconsin.diff" title="Latest  05/Aug/09 20:03 - Mike Matrigali" draggable="true" data-downloadurl="text/x-patch:wisconsin.diff:https://issues.apache.org/jira/secure/attachment/12415649/wisconsin.diff">wisconsin.diff</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2009-08-05T20:03:19.324Z">05/Aug/09 20:03</time>
                   </dd>
                   <dd class="attachment-size">
                    523 kB
                   </dd>
                   <dd class="attachment-author">
                    Mike Matrigali
                   </dd>
                  </dl></li>
                </ol>
               </div>
              </div>
              <div id="linkingmodule" class="module toggle-wrap">
               <div id="linkingmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Issue Links</h2>
               </div>
               <div class="mod-content"> 
                <div class="links-container" data-default-link-icon="/jira/images/icons/generic_link_16.png"> 
                 <dl class="links-list "> 
                  <dt title="is related to">
                   is related to
                  </dt> 
                  <dd id="internal-12407399_10030"> 
                   <div class="link-content"> 
                    <p> <img src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype" width="16" height="16" title="Bug - A problem which impairs or prevents the functions of the product." alt="Bug - A problem which impairs or prevents the functions of the product."> <span title="DERBY-3926: Incorrect ORDER BY caused by index"> <a href="/jira/browse/DERBY-3926" data-issue-key="DERBY-3926" class="issue-link link-title resolution">DERBY-3926</a> <span class="link-summary">Incorrect ORDER BY caused by index</span> </span> </p> 
                    <ul class="link-snapshot"> 
                     <li class="priority"> <img src="/jira/images/icons/priorities/major.svg" width="16" height="16" title="Major - Major loss of function." alt="Major - Major loss of function."> </li> 
                     <li class="status"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done aui-lozenge-subtle jira-issue-status-lozenge-max-width-short" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </li> 
                    </ul> 
                   </div> 
                  </dd> 
                  <dd id="internal-12432330_10030"> 
                   <div class="link-content"> 
                    <p> <img src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype" width="16" height="16" title="Improvement - An improvement or enhancement to an existing feature or task." alt="Improvement - An improvement or enhancement to an existing feature or task."> <span title="DERBY-4339: improve sort avoidance algorithm to include equijoin relationships"> <a href="/jira/browse/DERBY-4339" data-issue-key="DERBY-4339" class="issue-link link-title">DERBY-4339</a> <span class="link-summary">improve sort avoidance algorithm to include equijoin relationships</span> </span> </p> 
                    <ul class="link-snapshot"> 
                     <li class="priority"> <img src="/jira/images/icons/priorities/minor.svg" width="16" height="16" title="Minor - Minor loss of function, or other problem where easy workaround is present." alt="Minor - Minor loss of function, or other problem where easy workaround is present."> </li> 
                     <li class="status"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-blue-gray jira-issue-status-lozenge-new aui-lozenge-subtle jira-issue-status-lozenge-max-width-short" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Open</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is open and ready for the assignee to start work on it.</span>">Open</span> </li> 
                    </ul> 
                   </div> 
                  </dd> 
                 </dl> 
                 <dl class="links-list "> 
                  <dt title="relates to">
                   relates to
                  </dt> 
                  <dd id="internal-12640488_10030"> 
                   <div class="link-content"> 
                    <p> <img src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype" width="16" height="16" title="Bug - A problem which impairs or prevents the functions of the product." alt="Bug - A problem which impairs or prevents the functions of the product."> <span title="DERBY-6148: Wrong sort elimination when using permuted join order"> <a href="/jira/browse/DERBY-6148" data-issue-key="DERBY-6148" class="issue-link link-title resolution">DERBY-6148</a> <span class="link-summary">Wrong sort elimination when using permuted join order</span> </span> </p> 
                    <ul class="link-snapshot"> 
                     <li class="priority"> <img src="/jira/images/icons/priorities/major.svg" width="16" height="16" title="Major - Major loss of function." alt="Major - Major loss of function."> </li> 
                     <li class="status"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done aui-lozenge-subtle jira-issue-status-lozenge-max-width-short" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </li> 
                    </ul> 
                   </div> 
                  </dd> 
                 </dl> 
                </div> 
               </div>
              </div>
              <div id="activitymodule" class="module toggle-wrap">
               <div id="activitymodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Activity</h2>
               </div>
               <div class="mod-content"> 
                <big-pipe data-id="activity-panel-pipe-id" style="height: 70px"> 
                 <div></div> 
                </big-pipe> 
               </div>
              </div>
             </div>
             <div id="viewissuesidebar" class="aui-item issue-side-column">
              <div id="peoplemodule" class="module toggle-wrap">
               <div id="peoplemodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">People</h2>
               </div>
               <div class="mod-content"> 
                <ul class="item-details" id="peopledetails"> 
                 <li class="people-details"> 
                  <dl> 
                   <dt>
                    Assignee:
                   </dt> 
                   <dd> 
                    <span id="assignee-val" class="view-issue-field"> <span class="user-hover" id="issue_summary_assignee_mikem" rel="mikem" data-user="{&quot;avatarUrl&quot;:&quot;https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10452&quot;,&quot;displayName&quot;:&quot;Mike Matrigali&quot;,&quot;emailAddress&quot;:&quot;mikem_app@sbcglobal.net&quot;,&quot;username&quot;:&quot;mikem&quot;}"> <span class="aui-avatar aui-avatar-small"><span class="aui-avatar-inner"><img src="https://issues.apache.org/jira/secure/useravatar?size=small&amp;avatarId=10452" alt="mikem"></span></span> Mike Matrigali </span> </span> 
                   </dd> 
                  </dl> 
                  <dl> 
                   <dt>
                    Reporter:
                   </dt> 
                   <dd> 
                    <span id="reporter-val" class="view-issue-field"> <span class="user-hover" id="issue_summary_reporter_knutanders" rel="knutanders" data-user="{&quot;avatarUrl&quot;:&quot;https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10452&quot;,&quot;displayName&quot;:&quot;Knut Anders Hatlen&quot;,&quot;emailAddress&quot;:&quot;knut.hatlen@oracle.com&quot;,&quot;username&quot;:&quot;knutanders&quot;}"> <span class="aui-avatar aui-avatar-small"><span class="aui-avatar-inner"><img src="https://issues.apache.org/jira/secure/useravatar?size=small&amp;avatarId=10452" alt="knutanders"></span></span> Knut Anders Hatlen </span> </span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
                <ul class="item-details"> 
                 <li> 
                  <dl> 
                   <dt>
                    Votes:
                   </dt> 
                   <dd> 
                    <span id="vote-data" class="aui-badge vote-state-off">0</span> 
                    <span id="vote-label" title="You have to be logged in to vote for an issue.">Vote for this issue</span> 
                   </dd> 
                  </dl> 
                  <dl> 
                   <dt>
                    Watchers:
                   </dt> 
                   <dd> 
                    <span id="watcher-data" class="aui-badge watch-state-off">0</span> 
                    <span id="watch-label" title="You have to be logged in to watch an issue.">Start watching this issue</span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
               </div>
              </div>
              <div id="datesmodule" class="module toggle-wrap">
               <div id="datesmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Dates</h2>
               </div>
               <div class="mod-content"> 
                <ul class="item-details"> 
                 <li> 
                  <dl class="dates"> 
                   <dt>
                    Created:
                   </dt> 
                   <dd class="date user-tz" title="01/Aug/09 23:12"> 
                    <span data-name="Created" id="created-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2009-08-01T23:12:58+0000">01/Aug/09 23:12</time> </span> 
                   </dd> 
                  </dl> 
                  <dl class="dates"> 
                   <dt>
                    Updated:
                   </dt> 
                   <dd class="date user-tz" title="18/May/13 09:16"> 
                    <span data-name="Updated" id="updated-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2013-05-18T09:16:13+0000">18/May/13 09:16</time> </span> 
                   </dd> 
                  </dl> 
                  <dl class="dates"> 
                   <dt>
                    Resolved:
                   </dt> 
                   <dd class="date user-tz" title="12/Aug/09 16:21"> 
                    <span data-name="Resolved" id="resolutiondate-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2009-08-12T16:21:39+0000">12/Aug/09 16:21</time> </span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
               </div>
              </div>
             </div>
            </div>
           </div>
          </div>
         </div>
        </div>
       </div>
      </div>
     </div>
     <!-- .aui-page-panel-inner -->
    </div>
    <!-- .aui-page-panel -->
    <div class="issue-navigator-init"></div> 
   </section> 
   <footer id="footer" role="contentinfo"> 
    <section class="footer-body"> 
     <ul class="atlassian-footer"> 
      <li> Atlassian JIRA <a class="seo-link" rel="nofollow" href="https://www.atlassian.com/software/jira">Project Management Software</a> <span id="footer-build-information">(v7.6.3#76005-<span title="8a4e38d34af948780dbf52044e7aafb13a7cae58" data-commit-id="8a4e38d34af948780dbf52044e7aafb13a7cae58}">sha1:8a4e38d</span>)</span> </li> 
      <li> <a id="about-link" rel="nofollow" href="/jira/secure/AboutPage.jspa/secure/AboutPage.jspa">About JIRA</a> </li> 
      <li> <a id="footer-report-problem-link" rel="nofollow" href="/jira/secure/CreateIssue!default.jspa">Report a problem</a> </li> 
     </ul> 
     <ul class="atlassian-footer"> 
      <li class="licensemessage"> Powered by a free Atlassian <a rel="nofollow" href="http://www.atlassian.com/software/jira">JIRA</a> open source license for Apache Software Foundation. Try JIRA - <a rel="nofollow" href="http://www.atlassian.com/software/jira">bug tracking software</a> for <i>your</i> team. </li> 
     </ul> 
     <div id="footer-logo">
      <a rel="nofollow" href="http://www.atlassian.com/">Atlassian</a>
     </div> 
    </section> 
    <fieldset class="hidden parameters"> 
     <input type="hidden" title="loggedInUser" value=""> 
     <input type="hidden" title="ajaxTimeout" value="The call to the JIRA server did not complete within the timeout period.  We are unsure of the result of this operation."> 
     <input type="hidden" title="JiraVersion" value="7.6.3"> 
     <input type="hidden" title="ajaxUnauthorised" value="You are not authorised to perform this operation. Please log in."> 
     <input type="hidden" title="baseURL" value="https://issues.apache.org/jira"> 
     <input type="hidden" title="ajaxCommsError" value="The JIRA server could not be contacted. This may be a temporary glitch or the server may be down. "> 
     <input type="hidden" title="ajaxServerError" value="The JIRA server was contacted but has returned an error response. We are unsure of the result of this operation."> 
     <input type="hidden" title="ajaxErrorCloseDialog" value="Close this dialog and press refresh in your browser"> 
     <input type="hidden" title="ajaxErrorDialogHeading" value="Communications Breakdown"> 
     <input type="hidden" title="dirtyMessage" value="You have entered new data on this page. If you navigate away from this page without first saving your data, the changes will be lost."> 
     <input type="hidden" title="dirtyDialogMessage" value="You have entered new data in this dialog. If you navigate away from this dialog without first saving your data, the changes will be lost. Click cancel to return to the dialog."> 
     <input type="hidden" title="keyType" value="Type"> 
     <input type="hidden" title="keyThen" value="then"> 
     <input type="hidden" title="dblClickToExpand" value="Double click to expand"> 
     <input type="hidden" title="actions" value="Actions"> 
     <input type="hidden" title="removeItem" value="Remove"> 
     <input type="hidden" title="workflow" value="Workflow"> 
     <input type="hidden" title="labelNew" value="New Label"> 
     <input type="hidden" title="issueActionsHint" value="Begin typing for available operations or press down to see all"> 
     <input type="hidden" title="closelink" value="Close"> 
     <input type="hidden" title="dotOperations" value="Operations"> 
     <input type="hidden" title="dotLoading" value="Loading..."> 
     <input type="hidden" title="frotherSuggestions" value="Suggestions"> 
     <input type="hidden" title="frotherNomatches" value="No Matches"> 
     <input type="hidden" title="multiselectVersionsError" value="{0} is not a valid version."> 
     <input type="hidden" title="multiselectComponentsError" value="{0} is not a valid component."> 
     <input type="hidden" title="multiselectGenericError" value="The value {0} is invalid."> 
    </fieldset> 
   </footer> 
  </div> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:bigpipe-js/jira.webresources:bigpipe-js.js" data-wrm-key="jira.webresources:bigpipe-js" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["activity-panel-pipe-id"]="\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n    \u003cdiv class=\\\"tabwrap tabs2\\\"\u003e\\n\\n        \u003cul id=\\\"issue-tabs\\\" class=\\\"tabs horizontal\\\"\u003e\\n                                \\n            \u003cli  data-id=\\\"all-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\" data-label=\\\"All\\\" data-href=\\\"\\/jira\\/browse\\/DERBY-4331?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"all-tabpanel\\\" href=\\\"\\/jira\\/browse\\/DERBY-4331?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\"\u003e\u003cstrong\u003eAll\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  class=\\\"active\\\" id=\\\"comment-tabpanel\\\"  data-id=\\\"comment-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel\\\" data-label=\\\"Comments\\\" data-href=\\\"\\/jira\\/browse\\/DERBY-4331?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel\\\"\u003e\\n                            \u003cstrong tabindex=\\\"0\\\"\u003eComments\u003c\\/strong\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"worklog-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\" data-label=\\\"Work Log\\\" data-href=\\\"\\/jira\\/browse\\/DERBY-4331?page=com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"worklog-tabpanel\\\" href=\\\"\\/jira\\/browse\\/DERBY-4331?page=com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\"\u003e\u003cstrong\u003eWork Log\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"changehistory-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\" data-label=\\\"History\\\" data-href=\\\"\\/jira\\/browse\\/DERBY-4331?page=com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"changehistory-tabpanel\\\" href=\\\"\\/jira\\/browse\\/DERBY-4331?page=com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\"\u003e\u003cstrong\u003eHistory\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"activity-stream-issue-tab\\\" data-key=\\\"com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\" data-label=\\\"Activity\\\" data-href=\\\"\\/jira\\/browse\\/DERBY-4331?page=com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"activity-stream-issue-tab\\\" href=\\\"\\/jira\\/browse\\/DERBY-4331?page=com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\"\u003e\u003cstrong\u003eActivity\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"transitions-summary-tabpanel\\\" data-key=\\\"com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\" data-label=\\\"Transitions\\\" data-href=\\\"\\/jira\\/browse\\/DERBY-4331?page=com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"transitions-summary-tabpanel\\\" href=\\\"\\/jira\\/browse\\/DERBY-4331?page=com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\"\u003e\u003cstrong\u003eTransitions\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                \u003c\\/ul\u003e\\n\\n                    \u003cdiv class=\\\"sortwrap\\\"\u003e\\n                                    \u003ca class=\\\"issue-activity-sort-link ajax-activity-content\\\" rel=\\\"nofollow\\\" data-tab-sort data-order=\\\"desc\\\" href=\\\"\\/jira\\/browse\\/DERBY-4331?actionOrder=desc\\\" title=\\\"Ascending order - Click to sort in descending order\\\"\u003e\\n                        \u003cspan class=\\\"aui-icon aui-icon-small aui-iconfont-up\\\"\u003eAscending order - Click to sort in descending order\u003c\\/span\u003e\\n                    \u003c\\/a\u003e\\n                            \u003c\\/div\u003e\\n            \u003c\\/div\u003e\\n    \u003cdiv class=\\\"issuePanelWrapper\\\"\u003e\\n        \u003cdiv class=\\\"issuePanelProgress\\\"\u003e\u003c\\/div\u003e\\n        \u003cdiv class=\\\"issuePanelContainer\\\" id=\\\"issue_actions_container\\\"\u003e\\n                                    \\n\\n\\n\u003cdiv id=\\\"comment-12737967\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-4331?focusedCommentId=12737967&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12737967\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"knutanders\\\" id=\\\"commentauthor_12737967_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=knutanders\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"knutanders\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Knut Anders Hatlen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12737967_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Aug\\/09 23:15\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-01T23:15:42+0000\'\u003e01\\/Aug\\/09 23:15\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eAttached a script that creates a sample database and executes the problematic query.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"knutanders\\\" id=\\\"commentauthor_12737967_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=knutanders\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"knutanders\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Knut Anders Hatlen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12737967_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Aug\\/09 23:15\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-01T23:15:42+0000\'\u003e01\\/Aug\\/09 23:15\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Attached a script that creates a sample database and executes the problematic query.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12738078\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-4331?focusedCommentId=12738078&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12738078\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"lilywei\\\" id=\\\"commentauthor_12738078_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=lilywei\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"lilywei\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Lily Wei\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12738078_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'02\\/Aug\\/09 13:28\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-02T13:28:25+0000\'\u003e02\\/Aug\\/09 13:28\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI try the same query without subquery and the result is order. \u003cbr\\/\u003e\\nij&gt; SELECT CS.ID\u003cbr\\/\u003e\\nFROM\u003cbr\\/\u003e\\n    CHANGESETS CS, FILECHANGES FC, REPOSITORIES R, FILES F, AUTHORS A\u003cbr\\/\u003e\\n    WHERE\u003cbr\\/\u003e\\n        R.PATH = \'\\/var\\/tmp\\/source5923202038296723704opengrok\\/mercurial\' AND\u003cbr\\/\u003e\\n        F.REPOSITORY = R.ID AND A.REPOSITORY = R.ID AND\u003cbr\\/\u003e\\n            CS.REPOSITORY = R.ID AND CS.ID = FC.CHANGESET AND F.ID = FC.FILE AND\u003c\\/p\u003e\\n\\n\u003cp\u003e                A.ID = CS.AUTHOR ORDER BY CS.ID DESC;\u003cbr\\/\u003e\\nID\u003cbr\\/\u003e\\n-----------\u003cbr\\/\u003e\\n3\u003cbr\\/\u003e\\n3\u003cbr\\/\u003e\\n2\u003cbr\\/\u003e\\n2\u003cbr\\/\u003e\\n2\u003cbr\\/\u003e\\n1\u003c\\/p\u003e\\n\\n\u003cp\u003e6 rows selected\u003c\\/p\u003e\\n\\n\u003cp\u003eHopefully, this will narrow the join logic a little bit. \u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"lilywei\\\" id=\\\"commentauthor_12738078_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=lilywei\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"lilywei\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Lily Wei\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12738078_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'02\\/Aug\\/09 13:28\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-02T13:28:25+0000\'\u003e02\\/Aug\\/09 13:28\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I try the same query without subquery and the result is order.  \\nij&gt; SELECT CS.ID \\nFROM \\n    CHANGESETS CS, FILECHANGES FC, REPOSITORIES R, FILES F, AUTHORS A \\n    WHERE \\n        R.PATH = \'\\/var\\/tmp\\/source5923202038296723704opengrok\\/mercurial\' AND \\n        F.REPOSITORY = R.ID AND A.REPOSITORY = R.ID AND \\n            CS.REPOSITORY = R.ID AND CS.ID = FC.CHANGESET AND F.ID = FC.FILE AND \\n\\n                 A.ID = CS.AUTHOR ORDER BY CS.ID DESC; \\nID \\n----------- \\n3 \\n3 \\n2 \\n2 \\n2 \\n1 \\n\\n 6 rows selected \\n\\n Hopefully, this will narrow the join logic a little bit.               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12738084\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-4331?focusedCommentId=12738084&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12738084\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"knutanders\\\" id=\\\"commentauthor_12738084_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=knutanders\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"knutanders\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Knut Anders Hatlen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12738084_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'02\\/Aug\\/09 14:57\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-02T14:57:40+0000\'\u003e02\\/Aug\\/09 14:57\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eCalling SYSCS_UTIL.SYSCS_UPDATE_STATISTICS on the tables involved also makes the result come out in the right order, so it seems like the bug only appears when a certain plan is chosen.\u003c\\/p\u003e\\n\\n\u003cp\u003eThe problem does not occur when I revert to revision 783167, but it does occur with revision 783168, which suggests that it was triggered by \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-3926\\\" title=\\\"Incorrect ORDER BY caused by index\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-3926\\\"\u003e\u003cdel\u003eDERBY-3926\u003c\\/del\u003e\u003c\\/a\u003e.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"knutanders\\\" id=\\\"commentauthor_12738084_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=knutanders\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"knutanders\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Knut Anders Hatlen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12738084_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'02\\/Aug\\/09 14:57\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-02T14:57:40+0000\'\u003e02\\/Aug\\/09 14:57\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Calling SYSCS_UTIL.SYSCS_UPDATE_STATISTICS on the tables involved also makes the result come out in the right order, so it seems like the bug only appears when a certain plan is chosen. \\n\\n The problem does not occur when I revert to revision 783167, but it does occur with revision 783168, which suggests that it was triggered by   DERBY-3926  .              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12738088\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-4331?focusedCommentId=12738088&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12738088\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kmarsden\\\" id=\\\"commentauthor_12738088_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kmarsden\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kmarsden\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Kathey Marsden\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12738088_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'02\\/Aug\\/09 15:15\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-02T15:15:51+0000\'\u003e02\\/Aug\\/09 15:15\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-3926\\\" title=\\\"Incorrect ORDER BY caused by index\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-3926\\\"\u003e\u003cdel\u003eDERBY-3926\u003c\\/del\u003e\u003c\\/a\u003e was fixed with 10.5.2.0 but did not show up on the release notes because it is still open.  The change was backported to the 10.1 branch, so updating the affects version for this issue.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kmarsden\\\" id=\\\"commentauthor_12738088_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kmarsden\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kmarsden\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Kathey Marsden\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12738088_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'02\\/Aug\\/09 15:15\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-02T15:15:51+0000\'\u003e02\\/Aug\\/09 15:15\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                      DERBY-3926   was fixed with 10.5.2.0 but did not show up on the release notes because it is still open.  The change was backported to the 10.1 branch, so updating the affects version for this issue.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12738424\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-4331?focusedCommentId=12738424&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12738424\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kmarsden\\\" id=\\\"commentauthor_12738424_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kmarsden\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kmarsden\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Kathey Marsden\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12738424_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Aug\\/09 16:46\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-03T16:46:05+0000\'\u003e03\\/Aug\\/09 16:46\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eOne thing I don\'t understand about this regression is the description of the fix for \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-3926\\\" title=\\\"Incorrect ORDER BY caused by index\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-3926\\\"\u003e\u003cdel\u003eDERBY-3926\u003c\\/del\u003e\u003c\\/a\u003e made it sound like it was making sort avoidance less likely.\u003cbr\\/\u003e\\n\\\" The decision for avoiding sorting should also include relationship between the optimizables in a given join order \\\"\u003c\\/p\u003e\\n\\n\u003cp\u003eso how did that cause a new sort avoidance problem?\u003c\\/p\u003e\\n\\n\u003cp\u003eThe comments also say:\u003cbr\\/\u003e\\n\\\"I think this patch is also improving the existing queries to include a better path than what it was picking up before.\\\"\u003c\\/p\u003e\\n\\n\u003cp\u003eIs it a change in plan that is causing the regression, perhaps choosing a plan that had always ordered incorrectly?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kmarsden\\\" id=\\\"commentauthor_12738424_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kmarsden\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kmarsden\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Kathey Marsden\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12738424_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Aug\\/09 16:46\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-03T16:46:05+0000\'\u003e03\\/Aug\\/09 16:46\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    One thing I don\'t understand about this regression is the description of the fix for   DERBY-3926   made it sound like it was making sort avoidance less likely. \\n\\\" The decision for avoiding sorting should also include relationship between the optimizables in a given join order \\\" \\n\\n so how did that cause a new sort avoidance problem? \\n\\n The comments also say: \\n\\\"I think this patch is also improving the existing queries to include a better path than what it was picking up before.\\\" \\n\\n Is it a change in plan that is causing the regression, perhaps choosing a plan that had always ordered incorrectly?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12738435\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-4331?focusedCommentId=12738435&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12738435\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mikem\\\" id=\\\"commentauthor_12738435_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mikem\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mikem\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mike Matrigali\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12738435_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Aug\\/09 17:12\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-03T17:12:02+0000\'\u003e03\\/Aug\\/09 17:12\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eIf anyone has time, what would be useful is the smallest test case possible with a set of optimizer hints that forces the bad result.  This will help in understanding exactly what is going on. \u003c\\/p\u003e\\n\\n\u003cp\u003eIf I remember correctly, \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-3926\\\" title=\\\"Incorrect ORDER BY caused by index\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-3926\\\"\u003e\u003cdel\u003eDERBY-3926\u003c\\/del\u003e\u003c\\/a\u003e basically eliminated sort avoidance plans when marching through\u003cbr\\/\u003e\\nthe all the plans.  It turned out that some of the plans it eliminated actually did return the correct order but\u003cbr\\/\u003e\\njust through luck.  So the question with this bug, which is obviously affected by \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-3926\\\" title=\\\"Incorrect ORDER BY caused by index\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-3926\\\"\u003e\u003cdel\u003eDERBY-3926\u003c\\/del\u003e\u003c\\/a\u003e is did \u003cbr\\/\u003e\\n\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-3926\\\" title=\\\"Incorrect ORDER BY caused by index\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-3926\\\"\u003e\u003cdel\u003eDERBY-3926\u003c\\/del\u003e\u003c\\/a\u003e just happen to eliinate some \\\"lucky\\\" plans, and push it to an existing bug or did it somehow\u003cbr\\/\u003e\\nnow mark a plan we previously skipped as valid.  If the repro had a fixed join plan that showed bad sort\u003cbr\\/\u003e\\nnow and good sort before we could more easily tell what the regression is.  \u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mikem\\\" id=\\\"commentauthor_12738435_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mikem\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mikem\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mike Matrigali\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12738435_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Aug\\/09 17:12\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-03T17:12:02+0000\'\u003e03\\/Aug\\/09 17:12\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    If anyone has time, what would be useful is the smallest test case possible with a set of optimizer hints that forces the bad result.  This will help in understanding exactly what is going on.  \\n\\n If I remember correctly,   DERBY-3926   basically eliminated sort avoidance plans when marching through \\nthe all the plans.  It turned out that some of the plans it eliminated actually did return the correct order but \\njust through luck.  So the question with this bug, which is obviously affected by   DERBY-3926   is did  \\n  DERBY-3926   just happen to eliinate some \\\"lucky\\\" plans, and push it to an existing bug or did it somehow \\nnow mark a plan we previously skipped as valid.  If the repro had a fixed join plan that showed bad sort \\nnow and good sort before we could more easily tell what the regression is.                \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12738479\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-4331?focusedCommentId=12738479&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12738479\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mikem\\\" id=\\\"commentauthor_12738479_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mikem\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mikem\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mike Matrigali\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12738479_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Aug\\/09 18:23\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-03T18:23:41+0000\'\u003e03\\/Aug\\/09 18:23\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003ehere is the query plan from the bad sort results query, gotten by adding derby.language.logQueryPlan=true\u003cbr\\/\u003e\\nto derby.properties.  Posting now, have not read through it yet - but first thing to notice is that there\u003cbr\\/\u003e\\nis not any sort node so as assumed the problem is not a sorter bug - but some sort of sort avoidance\u003cbr\\/\u003e\\nplan bug:\u003cbr\\/\u003e\\n2009-08-03 18:09:06.296 GMT Thread\u003cspan class=\\\"error\\\"\u003e&#91;main,5,main&#93;\u003c\\/span\u003e (XID = 259), (SESSIONID = 3), SELECT CS.ID^M\u003cbr\\/\u003e\\nFROM^M\u003cbr\\/\u003e\\n    CHANGESETS CS, FILECHANGES FC, REPOSITORIES R, FILES F, AUTHORS A^M\u003cbr\\/\u003e\\nWHERE^M\u003cbr\\/\u003e\\n    R.PATH = \'\\/var\\/tmp\\/source5923202038296723704opengrok\\/mercurial\' AND ^M\u003cbr\\/\u003e\\n    F.REPOSITORY  = R.ID                                            AND ^M\u003cbr\\/\u003e\\n    A.REPOSITORY  = R.ID                                            AND^M\u003cbr\\/\u003e\\n    CS.REPOSITORY = R.ID                                            AND ^M\u003cbr\\/\u003e\\n    CS.ID         = FC.CHANGESET                                    AND ^M\u003cbr\\/\u003e\\n    F.ID          = FC.FILE                                         AND^M\u003cbr\\/\u003e\\n    A.ID          = CS.AUTHOR                                       AND^M\u003cbr\\/\u003e\\n    EXISTS (^M\u003cbr\\/\u003e\\n        SELECT 1^M\u003cbr\\/\u003e\\n        FROM FILES F2^M\u003cbr\\/\u003e\\n        WHERE^M\u003cbr\\/\u003e\\n            F2.ID = FC.FILE AND F2.REPOSITORY = R.ID AND^M\u003cbr\\/\u003e\\n            F2.PATH LIKE \'\\/%\' ESCAPE \'#\')^M\u003cbr\\/\u003e\\nORDER BY CS.ID DESC ******* Project-Restrict ResultSet (18):\u003cbr\\/\u003e\\nNumber of opens = 1\u003cbr\\/\u003e\\nRows seen = 6\u003cbr\\/\u003e\\nRows filtered = 0\u003cbr\\/\u003e\\nrestriction = false\u003cbr\\/\u003e\\nprojection = true\u003cbr\\/\u003e\\n    constructor time (milliseconds) = 0\u003cbr\\/\u003e\\n    open time (milliseconds) = 0\u003cbr\\/\u003e\\n    next time (milliseconds) = 0\u003cbr\\/\u003e\\n    close time (milliseconds) = 0\u003cbr\\/\u003e\\n    restriction time (milliseconds) = 0\u003cbr\\/\u003e\\n    projection time (milliseconds) = 0\u003cbr\\/\u003e\\n    optimizer estimated row count:            0.01\u003cbr\\/\u003e\\n    optimizer estimated cost:          157.72\u003c\\/p\u003e\\n\\n\u003cp\u003eSource result set:\u003cbr\\/\u003e\\n    Nested Loop Exists Join ResultSet:\u003cbr\\/\u003e\\n    Number of opens = 1\u003cbr\\/\u003e\\n    Rows seen from the left = 6\u003cbr\\/\u003e\\n    Rows seen from the right = 6\u003cbr\\/\u003e\\n    Rows filtered = 0\u003cbr\\/\u003e\\n    Rows returned = 6\u003cbr\\/\u003e\\n        constructor time (milliseconds) = 0\u003cbr\\/\u003e\\n        open time (milliseconds) = 0\u003cbr\\/\u003e\\n        next time (milliseconds) = 0\u003cbr\\/\u003e\\n        close time (milliseconds) = 0\u003cbr\\/\u003e\\n        optimizer estimated row count:            0.01\u003cbr\\/\u003e\\n        optimizer estimated cost:          157.72\u003c\\/p\u003e\\n\\n\u003cp\u003e    Left result set:\u003cbr\\/\u003e\\n        Nested Loop Join ResultSet:\u003cbr\\/\u003e\\n        Number of opens = 1\u003cbr\\/\u003e\\n        Rows seen from the left = 6\u003cbr\\/\u003e\\n        Rows seen from the right = 6\u003cbr\\/\u003e\\n        Rows filtered = 0\u003cbr\\/\u003e\\n        Rows returned = 6\u003cbr\\/\u003e\\n            constructor time (milliseconds) = 0\u003cbr\\/\u003e\\n            open time (milliseconds) = 0\u003cbr\\/\u003e\\n            next time (milliseconds) = 0\u003cbr\\/\u003e\\n            close time (milliseconds) = 0\u003cbr\\/\u003e\\n            optimizer estimated row count:            0.01\u003cbr\\/\u003e\\n            optimizer estimated cost:          157.10\u003c\\/p\u003e\\n\\n\u003cp\u003e        Left result set:\u003cbr\\/\u003e\\n            Nested Loop Join ResultSet:\u003cbr\\/\u003e\\n            Number of opens = 1\u003cbr\\/\u003e\\n            Rows seen from the left = 16\u003cbr\\/\u003e\\n            Rows seen from the right = 6\u003cbr\\/\u003e\\n            Rows filtered = 0\u003cbr\\/\u003e\\n            Rows returned = 6\u003cbr\\/\u003e\\n                constructor time (milliseconds) = 0\u003cbr\\/\u003e\\n                open time (milliseconds) = 0\u003cbr\\/\u003e\\n                next time (milliseconds) = 0\u003cbr\\/\u003e\\n                close time (milliseconds) = 0\u003cbr\\/\u003e\\n                optimizer estimated row count:            0.02\u003cbr\\/\u003e\\n                optimizer estimated cost:          155.23\u003c\\/p\u003e\\n\\n\u003cp\u003e            Left result set:\u003cbr\\/\u003e\\n                Nested Loop Join ResultSet:\u003cbr\\/\u003e\\n                Number of opens = 1\u003cbr\\/\u003e\\n                Rows seen from the left = 4\u003cbr\\/\u003e\\n                Rows seen from the right = 16\u003cbr\\/\u003e\\n                Rows filtered = 0\u003cbr\\/\u003e\\n                Rows returned = 16\u003cbr\\/\u003e\\n                    constructor time (milliseconds) = 0\u003cbr\\/\u003e\\n                    open time (milliseconds) = 0\u003cbr\\/\u003e\\n                    next time (milliseconds) = 0\u003cbr\\/\u003e\\n                    close time (milliseconds) = 0\u003cbr\\/\u003e\\n                    optimizer estimated row count:            0.20\u003cbr\\/\u003e\\n                    optimizer estimated cost:          154.53\u003c\\/p\u003e\\n\\n\u003cp\u003e                Left result set:\u003cbr\\/\u003e\\n                    Nested Loop Join ResultSet:\u003cbr\\/\u003e\\n                    Number of opens = 1\u003cbr\\/\u003e\\n                    Rows seen from the left = 1\u003cbr\\/\u003e\\n                    Rows seen from the right = 4\u003cbr\\/\u003e\\n                    Rows filtered = 0\u003cbr\\/\u003e\\n                    Rows returned = 4\u003cbr\\/\u003e\\n                        constructor time (milliseconds) = 0\u003cbr\\/\u003e\\n                        open time (milliseconds) = 0\u003cbr\\/\u003e\\n                        next time (milliseconds) = 0\u003cbr\\/\u003e\\n                        close time (milliseconds) = 0\u003cbr\\/\u003e\\n                        optimizer estimated row count:            0.22\u003cbr\\/\u003e\\n                        optimizer estimated cost:          146.81\u003c\\/p\u003e\\n\\n\u003cp\u003e                    Left result set:\u003cbr\\/\u003e\\n                        Index Row to Base Row ResultSet for REPOSITORIES:\u003cbr\\/\u003e\\n                        Number of opens = 1\u003cbr\\/\u003e\\n                        Rows seen = 1\u003cbr\\/\u003e\\n                        Columns accessed from heap = \u003c\\/p\u003e\\n{0}\\n\u003cp\u003e                            constructor time (milliseconds) = 0\u003cbr\\/\u003e\\n                            open time (milliseconds) = 0\u003cbr\\/\u003e\\n                            next time (milliseconds) = 0\u003cbr\\/\u003e\\n                            close time (milliseconds) = 0\u003cbr\\/\u003e\\n                            optimizer estimated row count:            1.00\u003cbr\\/\u003e\\n                            optimizer estimated cost:          135.64\u003c\\/p\u003e\\n\\n\u003cp\u003e                            Index Scan ResultSet for REPOSITORIES using constraint SQL090803110642671 at read committed isolation level using share ro\u003cbr\\/\u003e\\nw locking chosen by the optimizer\u003cbr\\/\u003e\\n                            Number of opens = 1\u003cbr\\/\u003e\\n                            Rows seen = 1\u003cbr\\/\u003e\\n                            Rows filtered = 0\u003cbr\\/\u003e\\n                            Fetch Size = 1\u003cbr\\/\u003e\\n                                constructor time (milliseconds) = 0\u003cbr\\/\u003e\\n                                open time (milliseconds) = 0\u003cbr\\/\u003e\\n                                next time (milliseconds) = 0\u003cbr\\/\u003e\\n                                close time (milliseconds) = 0\u003cbr\\/\u003e\\n                                next time in milliseconds\\/row = 0\u003c\\/p\u003e\\n\\n\u003cp\u003e                            scan information:\u003cbr\\/\u003e\\n                                Bit set of columns fetched=All\u003cbr\\/\u003e\\n                                Number of columns fetched=2\u003cbr\\/\u003e\\n                                Number of deleted rows visited=0\u003cbr\\/\u003e\\n                                Number of pages visited=1\u003cbr\\/\u003e\\n                                Number of rows qualified=1\u003cbr\\/\u003e\\n                                Number of rows visited=1\u003cbr\\/\u003e\\n                                Scan type=btree\u003cbr\\/\u003e\\n                                Tree height=-1\u003cbr\\/\u003e\\n                                start position:\u003cbr\\/\u003e\\n    &gt;= on first 1 column(s).\u003cbr\\/\u003e\\n    Ordered null semantics on the following columns:\u003cbr\\/\u003e\\n0\u003cbr\\/\u003e\\n                                stop position:\u003cbr\\/\u003e\\n    &gt; on first 1 column(s).\u003cbr\\/\u003e\\n    Ordered null semantics on the following columns:\u003cbr\\/\u003e\\n0\u003cbr\\/\u003e\\n                                qualifiers:\u003cbr\\/\u003e\\nNone\u003cbr\\/\u003e\\n                                optimizer estimated row count:            1.00\u003cbr\\/\u003e\\n                                optimizer estimated cost:          135.64\u003c\\/p\u003e\\n\\n\u003cp\u003e                    Right result set:\u003cbr\\/\u003e\\n                        Index Row to Base Row ResultSet for FILES:\u003cbr\\/\u003e\\n                        Number of opens = 1\u003cbr\\/\u003e\\n                        Rows seen = 4\u003cbr\\/\u003e\\n                        Columns accessed from heap = \u003c\\/p\u003e\\n{0, 1, 2}\\n\u003cp\u003e                            constructor time (milliseconds) = 0\u003cbr\\/\u003e\\n                            open time (milliseconds) = 0\u003cbr\\/\u003e\\n                            next time (milliseconds) = 0\u003cbr\\/\u003e\\n                            close time (milliseconds) = 0\u003cbr\\/\u003e\\n                            optimizer estimated row count:            0.22\u003cbr\\/\u003e\\n                            optimizer estimated cost:           11.17\u003c\\/p\u003e\\n\\n\u003cp\u003e                            Index Scan ResultSet for FILES using constraint SQL090803110643012 at read committed isolation level using share row locki\u003cbr\\/\u003e\\nng chosen by the optimizer\u003cbr\\/\u003e\\n                            Number of opens = 1\u003cbr\\/\u003e\\n                            Rows seen = 4\u003cbr\\/\u003e\\n                            Rows filtered = 0\u003cbr\\/\u003e\\n                            Fetch Size = 1\u003cbr\\/\u003e\\n                                constructor time (milliseconds) = 0\u003cbr\\/\u003e\\n                                open time (milliseconds) = 0\u003cbr\\/\u003e\\n                                next time (milliseconds) = 0\u003cbr\\/\u003e\\n                                close time (milliseconds) = 0\u003cbr\\/\u003e\\n                                next time in milliseconds\\/row = 0\u003c\\/p\u003e\\n\\n\u003cp\u003e                            scan information:\u003cbr\\/\u003e\\n                                Bit set of columns fetched=All\u003cbr\\/\u003e\\n                                Number of columns fetched=3\u003cbr\\/\u003e\\n                                Number of deleted rows visited=0\u003cbr\\/\u003e\\n                                Number of pages visited=1\u003cbr\\/\u003e\\n                                Number of rows qualified=4\u003cbr\\/\u003e\\n                                Number of rows visited=4\u003cbr\\/\u003e\\n                                Scan type=btree\u003cbr\\/\u003e\\n                                Tree height=1\u003cbr\\/\u003e\\n                                start position:\u003cbr\\/\u003e\\n    &gt;= on first 2 column(s).\u003cbr\\/\u003e\\n    Ordered null semantics on the following columns:\u003cbr\\/\u003e\\n0 1\u003cbr\\/\u003e\\n                                stop position:\u003cbr\\/\u003e\\n    &gt;= on first 2 column(s).\u003cbr\\/\u003e\\n    Ordered null semantics on the following columns:\u003cbr\\/\u003e\\n0 1\u003cbr\\/\u003e\\n                                qualifiers:\u003cbr\\/\u003e\\nNone\u003cbr\\/\u003e\\n                                optimizer estimated row count:            0.22\u003cbr\\/\u003e\\n                                optimizer estimated cost:           11.17\u003c\\/p\u003e\\n\\n\\n\u003cp\u003e                Right result set:\u003cbr\\/\u003e\\n                    Index Row to Base Row ResultSet for FILES:\u003cbr\\/\u003e\\n                    Number of opens = 4\u003cbr\\/\u003e\\n                    Rows seen = 16\u003cbr\\/\u003e\\n                    Columns accessed from heap = \u003c\\/p\u003e\\n{0, 2}\u003cbr\\/\u003e\\n                        constructor time (milliseconds) = 0\u003cbr\\/\u003e\\n                        open time (milliseconds) = 0\u003cbr\\/\u003e\\n                        next time (milliseconds) = 0\u003cbr\\/\u003e\\n                        close time (milliseconds) = 0\u003cbr\\/\u003e\\n                        optimizer estimated row count:            0.20\u003cbr\\/\u003e\\n                        optimizer estimated cost:            7.72\u003cbr\\/\u003e\\n\u003cbr\\/\u003e\\n                        Index Scan ResultSet for FILES using constraint SQL090803110643012 at read committed isolation level using share row locking c\u003cbr\\/\u003e\\nhosen by the optimizer\u003cbr\\/\u003e\\n                        Number of opens = 4\u003cbr\\/\u003e\\n                        Rows seen = 16\u003cbr\\/\u003e\\n                        Rows filtered = 0\u003cbr\\/\u003e\\n                        Fetch Size = 1\u003cbr\\/\u003e\\n                            constructor time (milliseconds) = 0\u003cbr\\/\u003e\\n                            open time (milliseconds) = 0\u003cbr\\/\u003e\\n                            next time (milliseconds) = 0\u003cbr\\/\u003e\\n                            close time (milliseconds) = 0\u003cbr\\/\u003e\\n                            next time in milliseconds\\/row = 0\u003cbr\\/\u003e\\n\u003cbr\\/\u003e\\n                        scan information:\u003cbr\\/\u003e\\n                            Bit set of columns fetched={0, 2}\\n\u003cp\u003e                            Number of columns fetched=2\u003cbr\\/\u003e\\n                            Number of deleted rows visited=0\u003cbr\\/\u003e\\n                            Number of pages visited=4\u003cbr\\/\u003e\\n                            Number of rows qualified=16\u003cbr\\/\u003e\\n                            Number of rows visited=16\u003cbr\\/\u003e\\n                            Scan type=btree\u003cbr\\/\u003e\\n                            Tree height=1\u003cbr\\/\u003e\\n                            start position:\u003cbr\\/\u003e\\n    &gt;= on first 1 column(s).\u003cbr\\/\u003e\\n    Ordered null semantics on the following columns:\u003cbr\\/\u003e\\n0\u003cbr\\/\u003e\\n                            stop position:\u003cbr\\/\u003e\\n    &gt; on first 1 column(s).\u003cbr\\/\u003e\\n    Ordered null semantics on the following columns:\u003cbr\\/\u003e\\n0\u003cbr\\/\u003e\\n                            qualifiers:\u003cbr\\/\u003e\\nColumn\u003cspan class=\\\"error\\\"\u003e&#91;0&#93;\u003c\\/span\u003e\u003cspan class=\\\"error\\\"\u003e&#91;0&#93;\u003c\\/span\u003e Id: 0\u003cbr\\/\u003e\\nOperator: =\u003cbr\\/\u003e\\nOrdered nulls: false\u003cbr\\/\u003e\\nUnknown return value: false\u003cbr\\/\u003e\\nNegate comparison result: false\u003c\\/p\u003e\\n\\n\u003cp\u003e                            optimizer estimated row count:            0.20\u003cbr\\/\u003e\\n                            optimizer estimated cost:            7.72\u003cbr\\/\u003e\\n            Right result set:\u003cbr\\/\u003e\\n                Index Scan ResultSet for FILECHANGES using constraint SQL090803110644463 at read committed isolation level using instantaneous share r\u003cbr\\/\u003e\\now locking chosen by the optimizer\u003cbr\\/\u003e\\n                Number of opens = 16\u003cbr\\/\u003e\\n                Rows seen = 6\u003cbr\\/\u003e\\n                Rows filtered = 0\u003cbr\\/\u003e\\n                Fetch Size = 16\u003cbr\\/\u003e\\n                    constructor time (milliseconds) = 0\u003cbr\\/\u003e\\n                    open time (milliseconds) = 0\u003cbr\\/\u003e\\n                    next time (milliseconds) = 0\u003cbr\\/\u003e\\n                    close time (milliseconds) = 0\u003cbr\\/\u003e\\n                    next time in milliseconds\\/row = 0\u003c\\/p\u003e\\n\\n\u003cp\u003e                scan information:\u003cbr\\/\u003e\\n                    Bit set of columns fetched=\u003c\\/p\u003e\\n{0, 1}\u003cbr\\/\u003e\\n                    Number of columns fetched=2\u003cbr\\/\u003e\\n                    Number of deleted rows visited=0\u003cbr\\/\u003e\\n                    Number of pages visited=16\u003cbr\\/\u003e\\n                    Number of rows qualified=6\u003cbr\\/\u003e\\n                    Number of rows visited=36\u003cbr\\/\u003e\\n                    Scan type=btree\u003cbr\\/\u003e\\n                    Tree height=1\u003cbr\\/\u003e\\n                    start position:\u003cbr\\/\u003e\\n    &gt;= on first 1 column(s).\u003cbr\\/\u003e\\n    Ordered null semantics on the following columns:\u003cbr\\/\u003e\\n0\u003cbr\\/\u003e\\n                    stop position:\u003cbr\\/\u003e\\n    &gt; on first 1 column(s).\u003cbr\\/\u003e\\n    Ordered null semantics on the following columns:\u003cbr\\/\u003e\\n0\u003cbr\\/\u003e\\n                    qualifiers:\u003cbr\\/\u003e\\nColumn\u003cspan class=\\\"error\\\"\u003e&#91;0&#93;\u003c\\/span\u003e\u003cspan class=\\\"error\\\"\u003e&#91;0&#93;\u003c\\/span\u003e Id: 0\u003cbr\\/\u003e\\nOperator: =\u003cbr\\/\u003e\\nOrdered nulls: false\u003cbr\\/\u003e\\nUnknown return value: false\u003cbr\\/\u003e\\nNegate comparison result: false\u003cbr\\/\u003e\\n\u003cbr\\/\u003e\\n                    optimizer estimated row count:            0.02\u003cbr\\/\u003e\\n                    optimizer estimated cost:            0.70\u003cbr\\/\u003e\\n        Right result set:\u003cbr\\/\u003e\\n            Index Row to Base Row ResultSet for AUTHORS:\u003cbr\\/\u003e\\n            Number of opens = 6\u003cbr\\/\u003e\\n            Rows seen = 6\u003cbr\\/\u003e\\n            Columns accessed from heap = {0, 1}\\n\u003cp\u003e                constructor time (milliseconds) = 0\u003cbr\\/\u003e\\n                open time (milliseconds) = 0\u003cbr\\/\u003e\\n                next time (milliseconds) = 0\u003cbr\\/\u003e\\n                close time (milliseconds) = 0\u003cbr\\/\u003e\\n                optimizer estimated row count:            0.01\u003cbr\\/\u003e\\n                optimizer estimated cost:            1.87\u003c\\/p\u003e\\n\\n\u003cp\u003e                Index Scan ResultSet for AUTHORS using constraint SQL090803110643392 at read committed isolation level using share row locking chosen\u003cbr\\/\u003e\\nby the optimizer\u003cbr\\/\u003e\\n                Number of opens = 6\u003cbr\\/\u003e\\n                Rows seen = 6\u003cbr\\/\u003e\\n                Rows filtered = 0\u003cbr\\/\u003e\\n                Fetch Size = 1\u003cbr\\/\u003e\\n                    constructor time (milliseconds) = 0\u003cbr\\/\u003e\\n                    open time (milliseconds) = 0\u003cbr\\/\u003e\\n                    next time (milliseconds) = 0\u003cbr\\/\u003e\\n                    close time (milliseconds) = 0\u003cbr\\/\u003e\\n                    next time in milliseconds\\/row = 0\u003c\\/p\u003e\\n\\n\u003cp\u003e                scan information:\u003cbr\\/\u003e\\n                    Bit set of columns fetched=\u003c\\/p\u003e\\n{0, 2}\\n\u003cp\u003e                    Number of columns fetched=2\u003cbr\\/\u003e\\n                    Number of deleted rows visited=0\u003cbr\\/\u003e\\n                    Number of pages visited=6\u003cbr\\/\u003e\\n                    Number of rows qualified=6\u003cbr\\/\u003e\\n                    Number of rows visited=6\u003cbr\\/\u003e\\n                    Scan type=btree\u003cbr\\/\u003e\\n                    Tree height=1\u003cbr\\/\u003e\\n                    start position:\u003cbr\\/\u003e\\n    &gt;= on first 1 column(s).\u003cbr\\/\u003e\\n    Ordered null semantics on the following columns:\u003cbr\\/\u003e\\n0\u003cbr\\/\u003e\\n                    stop position:\u003cbr\\/\u003e\\n    &gt; on first 1 column(s).\u003cbr\\/\u003e\\n    Ordered null semantics on the following columns:\u003cbr\\/\u003e\\n0\u003cbr\\/\u003e\\n                    qualifiers:\u003cbr\\/\u003e\\nColumn\u003cspan class=\\\"error\\\"\u003e&#91;0&#93;\u003c\\/span\u003e\u003cspan class=\\\"error\\\"\u003e&#91;0&#93;\u003c\\/span\u003e Id: 0\u003cbr\\/\u003e\\nOperator: =\u003cbr\\/\u003e\\nOrdered nulls: false\u003cbr\\/\u003e\\nUnknown return value: false\u003cbr\\/\u003e\\nNegate comparison result: false\u003c\\/p\u003e\\n\\n\u003cp\u003e                    optimizer estimated row count:            0.01\u003cbr\\/\u003e\\n                    optimizer estimated cost:            1.87\u003c\\/p\u003e\\n\\n\u003cp\u003e    Right result set:\u003cbr\\/\u003e\\n        Project-Restrict ResultSet (17):\u003cbr\\/\u003e\\n        Number of opens = 6\u003cbr\\/\u003e\\n        Rows seen = 6\u003cbr\\/\u003e\\n        Rows filtered = 0\u003cbr\\/\u003e\\n        restriction = true\u003cbr\\/\u003e\\n        projection = true\u003cbr\\/\u003e\\n            constructor time (milliseconds) = 0\u003cbr\\/\u003e\\n            open time (milliseconds) = 0\u003cbr\\/\u003e\\n            next time (milliseconds) = 0\u003cbr\\/\u003e\\n            close time (milliseconds) = 0\u003cbr\\/\u003e\\n            restriction time (milliseconds) = 0\u003cbr\\/\u003e\\n            projection time (milliseconds) = 0\u003cbr\\/\u003e\\n            optimizer estimated row count:            0.01\u003cbr\\/\u003e\\n            optimizer estimated cost:            0.62\u003c\\/p\u003e\\n\\n\u003cp\u003e        Source result set:\u003cbr\\/\u003e\\n            Index Row to Base Row ResultSet for CHANGESETS:\u003cbr\\/\u003e\\n            Number of opens = 6\u003cbr\\/\u003e\\n            Rows seen = 6\u003cbr\\/\u003e\\n            Columns accessed from heap = \u003c\\/p\u003e\\n{1, 3}\\n\u003cp\u003e                constructor time (milliseconds) = 0\u003cbr\\/\u003e\\n                open time (milliseconds) = 0\u003cbr\\/\u003e\\n                next time (milliseconds) = 0\u003cbr\\/\u003e\\n                close time (milliseconds) = 0\u003cbr\\/\u003e\\n                optimizer estimated row count:            0.01\u003cbr\\/\u003e\\n                optimizer estimated cost:            0.62\u003c\\/p\u003e\\n\\n\u003cp\u003e                Index Scan ResultSet for CHANGESETS using constraint SQL090803110643850 at read committed isolation level using share row locking chos\u003cbr\\/\u003e\\nen by the optimizer\u003cbr\\/\u003e\\n                Number of opens = 6\u003cbr\\/\u003e\\n                Rows seen = 6\u003cbr\\/\u003e\\n                Rows filtered = 0\u003cbr\\/\u003e\\n                Fetch Size = 1\u003cbr\\/\u003e\\n                    constructor time (milliseconds) = 0\u003cbr\\/\u003e\\n                    open time (milliseconds) = 0\u003cbr\\/\u003e\\n                    next time (milliseconds) = 0\u003cbr\\/\u003e\\n                    close time (milliseconds) = 0\u003cbr\\/\u003e\\n                    next time in milliseconds\\/row = 0\u003c\\/p\u003e\\n\\n\u003cp\u003e                scan information:\u003cbr\\/\u003e\\n                    Bit set of columns fetched=All\u003cbr\\/\u003e\\n                    Number of columns fetched=2\u003cbr\\/\u003e\\n                    Number of deleted rows visited=0\u003cbr\\/\u003e\\n                    Number of pages visited=6\u003cbr\\/\u003e\\n                    Number of rows qualified=6\u003cbr\\/\u003e\\n                    Number of rows visited=6\u003cbr\\/\u003e\\n                    Scan type=btree\u003cbr\\/\u003e\\n                    Tree height=1\u003cbr\\/\u003e\\n                    start position:\u003cbr\\/\u003e\\n    &gt;= on first 1 column(s).\u003cbr\\/\u003e\\n    Ordered null semantics on the following columns:\u003cbr\\/\u003e\\n0\u003cbr\\/\u003e\\n                    stop position:\u003cbr\\/\u003e\\n    &gt; on first 1 column(s).\u003cbr\\/\u003e\\n    Ordered null semantics on the following columns:\u003cbr\\/\u003e\\n0\u003cbr\\/\u003e\\n                    qualifiers:\u003cbr\\/\u003e\\nNone\u003cbr\\/\u003e\\n                    optimizer estimated row count:            0.01\u003cbr\\/\u003e\\n                    optimizer estimated cost:            0.62\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mikem\\\" id=\\\"commentauthor_12738479_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mikem\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mikem\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mike Matrigali\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12738479_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Aug\\/09 18:23\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-03T18:23:41+0000\'\u003e03\\/Aug\\/09 18:23\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    here is the query plan from the bad sort results query, gotten by adding derby.language.logQueryPlan=true \\nto derby.properties.  Posting now, have not read through it yet - but first thing to notice is that there \\nis not any sort node so as assumed the problem is not a sorter bug - but some sort of sort avoidance \\nplan bug: \\n2009-08-03 18:09:06.296 GMT Thread &#91;main,5,main&#93;  (XID = 259), (SESSIONID = 3), SELECT CS.ID^M \\nFROM^M \\n    CHANGESETS CS, FILECHANGES FC, REPOSITORIES R, FILES F, AUTHORS A^M \\nWHERE^M \\n    R.PATH = \'\\/var\\/tmp\\/source5923202038296723704opengrok\\/mercurial\' AND ^M \\n    F.REPOSITORY  = R.ID                                            AND ^M \\n    A.REPOSITORY  = R.ID                                            AND^M \\n    CS.REPOSITORY = R.ID                                            AND ^M \\n    CS.ID         = FC.CHANGESET                                    AND ^M \\n    F.ID          = FC.FILE                                         AND^M \\n    A.ID          = CS.AUTHOR                                       AND^M \\n    EXISTS (^M \\n        SELECT 1^M \\n        FROM FILES F2^M \\n        WHERE^M \\n            F2.ID = FC.FILE AND F2.REPOSITORY = R.ID AND^M \\n            F2.PATH LIKE \'\\/%\' ESCAPE \'#\')^M \\nORDER BY CS.ID DESC ******* Project-Restrict ResultSet (18): \\nNumber of opens = 1 \\nRows seen = 6 \\nRows filtered = 0 \\nrestriction = false \\nprojection = true \\n    constructor time (milliseconds) = 0 \\n    open time (milliseconds) = 0 \\n    next time (milliseconds) = 0 \\n    close time (milliseconds) = 0 \\n    restriction time (milliseconds) = 0 \\n    projection time (milliseconds) = 0 \\n    optimizer estimated row count:            0.01 \\n    optimizer estimated cost:          157.72 \\n\\n Source result set: \\n    Nested Loop Exists Join ResultSet: \\n    Number of opens = 1 \\n    Rows seen from the left = 6 \\n    Rows seen from the right = 6 \\n    Rows filtered = 0 \\n    Rows returned = 6 \\n        constructor time (milliseconds) = 0 \\n        open time (milliseconds) = 0 \\n        next time (milliseconds) = 0 \\n        close time (milliseconds) = 0 \\n        optimizer estimated row count:            0.01 \\n        optimizer estimated cost:          157.72 \\n\\n     Left result set: \\n        Nested Loop Join ResultSet: \\n        Number of opens = 1 \\n        Rows seen from the left = 6 \\n        Rows seen from the right = 6 \\n        Rows filtered = 0 \\n        Rows returned = 6 \\n            constructor time (milliseconds) = 0 \\n            open time (milliseconds) = 0 \\n            next time (milliseconds) = 0 \\n            close time (milliseconds) = 0 \\n            optimizer estimated row count:            0.01 \\n            optimizer estimated cost:          157.10 \\n\\n         Left result set: \\n            Nested Loop Join ResultSet: \\n            Number of opens = 1 \\n            Rows seen from the left = 16 \\n            Rows seen from the right = 6 \\n            Rows filtered = 0 \\n            Rows returned = 6 \\n                constructor time (milliseconds) = 0 \\n                open time (milliseconds) = 0 \\n                next time (milliseconds) = 0 \\n                close time (milliseconds) = 0 \\n                optimizer estimated row count:            0.02 \\n                optimizer estimated cost:          155.23 \\n\\n             Left result set: \\n                Nested Loop Join ResultSet: \\n                Number of opens = 1 \\n                Rows seen from the left = 4 \\n                Rows seen from the right = 16 \\n                Rows filtered = 0 \\n                Rows returned = 16 \\n                    constructor time (milliseconds) = 0 \\n                    open time (milliseconds) = 0 \\n                    next time (milliseconds) = 0 \\n                    close time (milliseconds) = 0 \\n                    optimizer estimated row count:            0.20 \\n                    optimizer estimated cost:          154.53 \\n\\n                 Left result set: \\n                    Nested Loop Join ResultSet: \\n                    Number of opens = 1 \\n                    Rows seen from the left = 1 \\n                    Rows seen from the right = 4 \\n                    Rows filtered = 0 \\n                    Rows returned = 4 \\n                        constructor time (milliseconds) = 0 \\n                        open time (milliseconds) = 0 \\n                        next time (milliseconds) = 0 \\n                        close time (milliseconds) = 0 \\n                        optimizer estimated row count:            0.22 \\n                        optimizer estimated cost:          146.81 \\n\\n                     Left result set: \\n                        Index Row to Base Row ResultSet for REPOSITORIES: \\n                        Number of opens = 1 \\n                        Rows seen = 1 \\n                        Columns accessed from heap =  \\n{0}\\n                             constructor time (milliseconds) = 0 \\n                            open time (milliseconds) = 0 \\n                            next time (milliseconds) = 0 \\n                            close time (milliseconds) = 0 \\n                            optimizer estimated row count:            1.00 \\n                            optimizer estimated cost:          135.64 \\n\\n                             Index Scan ResultSet for REPOSITORIES using constraint SQL090803110642671 at read committed isolation level using share ro \\nw locking chosen by the optimizer \\n                            Number of opens = 1 \\n                            Rows seen = 1 \\n                            Rows filtered = 0 \\n                            Fetch Size = 1 \\n                                constructor time (milliseconds) = 0 \\n                                open time (milliseconds) = 0 \\n                                next time (milliseconds) = 0 \\n                                close time (milliseconds) = 0 \\n                                next time in milliseconds\\/row = 0 \\n\\n                             scan information: \\n                                Bit set of columns fetched=All \\n                                Number of columns fetched=2 \\n                                Number of deleted rows visited=0 \\n                                Number of pages visited=1 \\n                                Number of rows qualified=1 \\n                                Number of rows visited=1 \\n                                Scan type=btree \\n                                Tree height=-1 \\n                                start position: \\n    &gt;= on first 1 column(s). \\n    Ordered null semantics on the following columns: \\n0 \\n                                stop position: \\n    &gt; on first 1 column(s). \\n    Ordered null semantics on the following columns: \\n0 \\n                                qualifiers: \\nNone \\n                                optimizer estimated row count:            1.00 \\n                                optimizer estimated cost:          135.64 \\n\\n                     Right result set: \\n                        Index Row to Base Row ResultSet for FILES: \\n                        Number of opens = 1 \\n                        Rows seen = 4 \\n                        Columns accessed from heap =  \\n{0, 1, 2}\\n                             constructor time (milliseconds) = 0 \\n                            open time (milliseconds) = 0 \\n                            next time (milliseconds) = 0 \\n                            close time (milliseconds) = 0 \\n                            optimizer estimated row count:            0.22 \\n                            optimizer estimated cost:           11.17 \\n\\n                             Index Scan ResultSet for FILES using constraint SQL090803110643012 at read committed isolation level using share row locki \\nng chosen by the optimizer \\n                            Number of opens = 1 \\n                            Rows seen = 4 \\n                            Rows filtered = 0 \\n                            Fetch Size = 1 \\n                                constructor time (milliseconds) = 0 \\n                                open time (milliseconds) = 0 \\n                                next time (milliseconds) = 0 \\n                                close time (milliseconds) = 0 \\n                                next time in milliseconds\\/row = 0 \\n\\n                             scan information: \\n                                Bit set of columns fetched=All \\n                                Number of columns fetched=3 \\n                                Number of deleted rows visited=0 \\n                                Number of pages visited=1 \\n                                Number of rows qualified=4 \\n                                Number of rows visited=4 \\n                                Scan type=btree \\n                                Tree height=1 \\n                                start position: \\n    &gt;= on first 2 column(s). \\n    Ordered null semantics on the following columns: \\n0 1 \\n                                stop position: \\n    &gt;= on first 2 column(s). \\n    Ordered null semantics on the following columns: \\n0 1 \\n                                qualifiers: \\nNone \\n                                optimizer estimated row count:            0.22 \\n                                optimizer estimated cost:           11.17 \\n\\n\\n                 Right result set: \\n                    Index Row to Base Row ResultSet for FILES: \\n                    Number of opens = 4 \\n                    Rows seen = 16 \\n                    Columns accessed from heap =  \\n{0, 2} \\n                        constructor time (milliseconds) = 0 \\n                        open time (milliseconds) = 0 \\n                        next time (milliseconds) = 0 \\n                        close time (milliseconds) = 0 \\n                        optimizer estimated row count:            0.20 \\n                        optimizer estimated cost:            7.72 \\n \\n                        Index Scan ResultSet for FILES using constraint SQL090803110643012 at read committed isolation level using share row locking c \\nhosen by the optimizer \\n                        Number of opens = 4 \\n                        Rows seen = 16 \\n                        Rows filtered = 0 \\n                        Fetch Size = 1 \\n                            constructor time (milliseconds) = 0 \\n                            open time (milliseconds) = 0 \\n                            next time (milliseconds) = 0 \\n                            close time (milliseconds) = 0 \\n                            next time in milliseconds\\/row = 0 \\n \\n                        scan information: \\n                            Bit set of columns fetched={0, 2}\\n                             Number of columns fetched=2 \\n                            Number of deleted rows visited=0 \\n                            Number of pages visited=4 \\n                            Number of rows qualified=16 \\n                            Number of rows visited=16 \\n                            Scan type=btree \\n                            Tree height=1 \\n                            start position: \\n    &gt;= on first 1 column(s). \\n    Ordered null semantics on the following columns: \\n0 \\n                            stop position: \\n    &gt; on first 1 column(s). \\n    Ordered null semantics on the following columns: \\n0 \\n                            qualifiers: \\nColumn &#91;0&#93;  &#91;0&#93;  Id: 0 \\nOperator: = \\nOrdered nulls: false \\nUnknown return value: false \\nNegate comparison result: false \\n\\n                             optimizer estimated row count:            0.20 \\n                            optimizer estimated cost:            7.72 \\n            Right result set: \\n                Index Scan ResultSet for FILECHANGES using constraint SQL090803110644463 at read committed isolation level using instantaneous share r \\now locking chosen by the optimizer \\n                Number of opens = 16 \\n                Rows seen = 6 \\n                Rows filtered = 0 \\n                Fetch Size = 16 \\n                    constructor time (milliseconds) = 0 \\n                    open time (milliseconds) = 0 \\n                    next time (milliseconds) = 0 \\n                    close time (milliseconds) = 0 \\n                    next time in milliseconds\\/row = 0 \\n\\n                 scan information: \\n                    Bit set of columns fetched= \\n{0, 1} \\n                    Number of columns fetched=2 \\n                    Number of deleted rows visited=0 \\n                    Number of pages visited=16 \\n                    Number of rows qualified=6 \\n                    Number of rows visited=36 \\n                    Scan type=btree \\n                    Tree height=1 \\n                    start position: \\n    &gt;= on first 1 column(s). \\n    Ordered null semantics on the following columns: \\n0 \\n                    stop position: \\n    &gt; on first 1 column(s). \\n    Ordered null semantics on the following columns: \\n0 \\n                    qualifiers: \\nColumn &#91;0&#93;  &#91;0&#93;  Id: 0 \\nOperator: = \\nOrdered nulls: false \\nUnknown return value: false \\nNegate comparison result: false \\n \\n                    optimizer estimated row count:            0.02 \\n                    optimizer estimated cost:            0.70 \\n        Right result set: \\n            Index Row to Base Row ResultSet for AUTHORS: \\n            Number of opens = 6 \\n            Rows seen = 6 \\n            Columns accessed from heap = {0, 1}\\n                 constructor time (milliseconds) = 0 \\n                open time (milliseconds) = 0 \\n                next time (milliseconds) = 0 \\n                close time (milliseconds) = 0 \\n                optimizer estimated row count:            0.01 \\n                optimizer estimated cost:            1.87 \\n\\n                 Index Scan ResultSet for AUTHORS using constraint SQL090803110643392 at read committed isolation level using share row locking chosen \\nby the optimizer \\n                Number of opens = 6 \\n                Rows seen = 6 \\n                Rows filtered = 0 \\n                Fetch Size = 1 \\n                    constructor time (milliseconds) = 0 \\n                    open time (milliseconds) = 0 \\n                    next time (milliseconds) = 0 \\n                    close time (milliseconds) = 0 \\n                    next time in milliseconds\\/row = 0 \\n\\n                 scan information: \\n                    Bit set of columns fetched= \\n{0, 2}\\n                     Number of columns fetched=2 \\n                    Number of deleted rows visited=0 \\n                    Number of pages visited=6 \\n                    Number of rows qualified=6 \\n                    Number of rows visited=6 \\n                    Scan type=btree \\n                    Tree height=1 \\n                    start position: \\n    &gt;= on first 1 column(s). \\n    Ordered null semantics on the following columns: \\n0 \\n                    stop position: \\n    &gt; on first 1 column(s). \\n    Ordered null semantics on the following columns: \\n0 \\n                    qualifiers: \\nColumn &#91;0&#93;  &#91;0&#93;  Id: 0 \\nOperator: = \\nOrdered nulls: false \\nUnknown return value: false \\nNegate comparison result: false \\n\\n                     optimizer estimated row count:            0.01 \\n                    optimizer estimated cost:            1.87 \\n\\n     Right result set: \\n        Project-Restrict ResultSet (17): \\n        Number of opens = 6 \\n        Rows seen = 6 \\n        Rows filtered = 0 \\n        restriction = true \\n        projection = true \\n            constructor time (milliseconds) = 0 \\n            open time (milliseconds) = 0 \\n            next time (milliseconds) = 0 \\n            close time (milliseconds) = 0 \\n            restriction time (milliseconds) = 0 \\n            projection time (milliseconds) = 0 \\n            optimizer estimated row count:            0.01 \\n            optimizer estimated cost:            0.62 \\n\\n         Source result set: \\n            Index Row to Base Row ResultSet for CHANGESETS: \\n            Number of opens = 6 \\n            Rows seen = 6 \\n            Columns accessed from heap =  \\n{1, 3}\\n                 constructor time (milliseconds) = 0 \\n                open time (milliseconds) = 0 \\n                next time (milliseconds) = 0 \\n                close time (milliseconds) = 0 \\n                optimizer estimated row count:            0.01 \\n                optimizer estimated cost:            0.62 \\n\\n                 Index Scan ResultSet for CHANGESETS using constraint SQL090803110643850 at read committed isolation level using share row locking chos \\nen by the optimizer \\n                Number of opens = 6 \\n                Rows seen = 6 \\n                Rows filtered = 0 \\n                Fetch Size = 1 \\n                    constructor time (milliseconds) = 0 \\n                    open time (milliseconds) = 0 \\n                    next time (milliseconds) = 0 \\n                    close time (milliseconds) = 0 \\n                    next time in milliseconds\\/row = 0 \\n\\n                 scan information: \\n                    Bit set of columns fetched=All \\n                    Number of columns fetched=2 \\n                    Number of deleted rows visited=0 \\n                    Number of pages visited=6 \\n                    Number of rows qualified=6 \\n                    Number of rows visited=6 \\n                    Scan type=btree \\n                    Tree height=1 \\n                    start position: \\n    &gt;= on first 1 column(s). \\n    Ordered null semantics on the following columns: \\n0 \\n                    stop position: \\n    &gt; on first 1 column(s). \\n    Ordered null semantics on the following columns: \\n0 \\n                    qualifiers: \\nNone \\n                    optimizer estimated row count:            0.01 \\n                    optimizer estimated cost:            0.62              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12738483\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-4331?focusedCommentId=12738483&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12738483\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mamtas\\\" id=\\\"commentauthor_12738483_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mamtas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mamtas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mamta A. Satoor\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12738483_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Aug\\/09 18:31\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-03T18:31:22+0000\'\u003e03\\/Aug\\/09 18:31\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI will start looking at this bug. It will be great if the query can be made simpler and\\/or use optimizer overrides to make it always break so the debugger does not go through many iterations through the optimizer. I will post more info as I am progress.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mamtas\\\" id=\\\"commentauthor_12738483_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mamtas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mamtas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mamta A. Satoor\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12738483_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Aug\\/09 18:31\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-03T18:31:22+0000\'\u003e03\\/Aug\\/09 18:31\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I will start looking at this bug. It will be great if the query can be made simpler and\\/or use optimizer overrides to make it always break so the debugger does not go through many iterations through the optimizer. I will post more info as I am progress.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12738536\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-4331?focusedCommentId=12738536&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12738536\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mikem\\\" id=\\\"commentauthor_12738536_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mikem\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mikem\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mike Matrigali\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12738536_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Aug\\/09 19:51\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-03T19:51:27+0000\'\u003e03\\/Aug\\/09 19:51\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI added names to all the constraints\\/primary keys to the original repro.sql script to make it easier to understand what is going on when looking at query plans.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mikem\\\" id=\\\"commentauthor_12738536_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mikem\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mikem\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mike Matrigali\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12738536_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Aug\\/09 19:51\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-03T19:51:27+0000\'\u003e03\\/Aug\\/09 19:51\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I added names to all the constraints\\/primary keys to the original repro.sql script to make it easier to understand what is going on when looking at query plans.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12738541\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-4331?focusedCommentId=12738541&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12738541\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mikem\\\" id=\\\"commentauthor_12738541_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mikem\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mikem\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mike Matrigali\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12738541_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Aug\\/09 19:55\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-03T19:55:07+0000\'\u003e03\\/Aug\\/09 19:55\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eHere is query plan for bad sort result as generated by repro2.sql\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mikem\\\" id=\\\"commentauthor_12738541_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mikem\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mikem\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mike Matrigali\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12738541_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Aug\\/09 19:55\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-03T19:55:07+0000\'\u003e03\\/Aug\\/09 19:55\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Here is query plan for bad sort result as generated by repro2.sql              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12738591\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-4331?focusedCommentId=12738591&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12738591\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mamtas\\\" id=\\\"commentauthor_12738591_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mamtas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mamtas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mamta A. Satoor\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12738591_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Aug\\/09 21:12\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-03T21:12:15+0000\'\u003e03\\/Aug\\/09 21:12\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Mamta A. Satoor - 03\\/Aug\\/09 21:19\\\"\u003eedited\u003c\\/span\u003e \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eWanted to share that if the same query is run with the optimizer ovreride of join order fixed, the query does not give incorrect results. The query plan at this time is as follows\u003cbr\\/\u003e\\nStatement Name:\u003cbr\\/\u003e\\n        null\u003cbr\\/\u003e\\nStatement Text:\u003cbr\\/\u003e\\n        SELECT CS.ID\u003cbr\\/\u003e\\nFROM  --DERBY-PROPERTIES joinOrder=FIXED\u003cbr\\/\u003e\\n    CHANGESETS CS, FILECHANGES FC, REPOSITORIES R, FILES F, AUTHORS A\u003cbr\\/\u003e\\nWHERE\u003cbr\\/\u003e\\n    R.PATH = \'\\/var\\/tmp\\/source5923202038296723704opengrok\\/mercurial\' AND\u003cbr\\/\u003e\\n    F.REPOSITORY  = R.ID                                            AND\u003cbr\\/\u003e\\n    A.REPOSITORY  = R.ID                                            AND\u003cbr\\/\u003e\\n    CS.REPOSITORY = R.ID                                            AND\u003cbr\\/\u003e\\n    CS.ID         = FC.CHANGESET                                    AND\u003cbr\\/\u003e\\n    F.ID          = FC.FILE                                         AND\u003cbr\\/\u003e\\n    A.ID          = CS.AUTHOR                                       AND\u003cbr\\/\u003e\\n    EXISTS (\u003cbr\\/\u003e\\n        SELECT 1\u003cbr\\/\u003e\\n        FROM FILES F2\u003cbr\\/\u003e\\n        WHERE\u003cbr\\/\u003e\\n            F2.ID = FC.FILE AND F2.REPOSITORY = R.ID AND\u003cbr\\/\u003e\\n            F2.PATH LIKE \'\\/%\' ESCAPE \'#\')\u003cbr\\/\u003e\\nORDER BY CS.ID DESC\u003cbr\\/\u003e\\nParse Time: 0\u003cbr\\/\u003e\\nBind Time: 0\u003cbr\\/\u003e\\nOptimize Time: 0\u003cbr\\/\u003e\\nGenerate Time: 0\u003cbr\\/\u003e\\nCompile Time: 0\u003cbr\\/\u003e\\nExecute Time: 0\u003cbr\\/\u003e\\nBegin Compilation Timestamp : null\u003cbr\\/\u003e\\nEnd Compilation Timestamp : null\u003cbr\\/\u003e\\nBegin Execution Timestamp : null\u003cbr\\/\u003e\\nEnd Execution Timestamp : null\u003cbr\\/\u003e\\nStatement Execution Plan Text:\u003cbr\\/\u003e\\nSort ResultSet:\u003cbr\\/\u003e\\nNumber of opens = 1\u003cbr\\/\u003e\\nRows input = 6\u003cbr\\/\u003e\\nRows returned = 6\u003cbr\\/\u003e\\nEliminate duplicates = false\u003cbr\\/\u003e\\nIn sorted order = false\u003cbr\\/\u003e\\nSort information:\u003cbr\\/\u003e\\n        Number of rows input=6\u003cbr\\/\u003e\\n        Number of rows output=6\u003cbr\\/\u003e\\n        Sort type=internal\u003cbr\\/\u003e\\n        constructor time (milliseconds) = 0\u003cbr\\/\u003e\\n        open time (milliseconds) = 0\u003cbr\\/\u003e\\n        next time (milliseconds) = 0\u003cbr\\/\u003e\\n        close time (milliseconds) = 0\u003cbr\\/\u003e\\n        optimizer estimated row count:            0.08\u003cbr\\/\u003e\\n        optimizer estimated cost:          553.68\u003c\\/p\u003e\\n\\n\u003cp\u003eSource result set:\u003cbr\\/\u003e\\n        Project-Restrict ResultSet (20):\u003cbr\\/\u003e\\n        Number of opens = 1\u003cbr\\/\u003e\\n        Rows seen = 6\u003cbr\\/\u003e\\n        Rows filtered = 0\u003cbr\\/\u003e\\n        restriction = false\u003cbr\\/\u003e\\n        projection = true\u003cbr\\/\u003e\\n                constructor time (milliseconds) = 0\u003cbr\\/\u003e\\n                open time (milliseconds) = 0\u003cbr\\/\u003e\\n                next time (milliseconds) = 0\u003cbr\\/\u003e\\n                close time (milliseconds) = 0\u003cbr\\/\u003e\\n                restriction time (milliseconds) = 0\u003cbr\\/\u003e\\n                projection time (milliseconds) = 0\u003cbr\\/\u003e\\n                optimizer estimated row count:            0.08\u003cbr\\/\u003e\\n                optimizer estimated cost:          553.68\u003c\\/p\u003e\\n\\n\u003cp\u003e        Source result set:\u003cbr\\/\u003e\\n                User supplied optimizer overrides for join are \u003c\\/p\u003e\\n{ joinOrder=FIXED }\u003cbr\\/\u003e\\n                Nested Loop Join ResultSet:\u003cbr\\/\u003e\\n                Number of opens = 1\u003cbr\\/\u003e\\n                Rows seen from the left = 6\u003cbr\\/\u003e\\n                Rows seen from the right = 6\u003cbr\\/\u003e\\n                Rows filtered = 0\u003cbr\\/\u003e\\n                Rows returned = 6\u003cbr\\/\u003e\\n                        constructor time (milliseconds) = 0\u003cbr\\/\u003e\\n                        open time (milliseconds) = 0\u003cbr\\/\u003e\\n                        next time (milliseconds) = 0\u003cbr\\/\u003e\\n                        close time (milliseconds) = 0\u003cbr\\/\u003e\\n                        optimizer estimated row count:            0.08\u003cbr\\/\u003e\\n                        optimizer estimated cost:          553.68\u003cbr\\/\u003e\\n\u003cbr\\/\u003e\\n                Left result set:\u003cbr\\/\u003e\\n                        User supplied optimizer overrides for join are { joinOrder=FIXED }\\n\u003cp\u003e                        Nested Loop Join ResultSet:\u003cbr\\/\u003e\\n                        Number of opens = 1\u003cbr\\/\u003e\\n                        Rows seen from the left = 6\u003cbr\\/\u003e\\n                        Rows seen from the right = 6\u003cbr\\/\u003e\\n                        Rows filtered = 0\u003cbr\\/\u003e\\n                        Rows returned = 6\u003cbr\\/\u003e\\n                                constructor time (milliseconds) = 0\u003cbr\\/\u003e\\n                                open time (milliseconds) = 0\u003cbr\\/\u003e\\n                                next time (milliseconds) = 0\u003cbr\\/\u003e\\n                                close time (milliseconds) = 0\u003cbr\\/\u003e\\n                                optimizer estimated row count:            0.36\u003cbr\\/\u003e\\n                                optimizer estimated cost:          546.94\u003c\\/p\u003e\\n\\n\u003cp\u003e                        Left result set:\u003cbr\\/\u003e\\n                                User supplied optimizer overrides for join are \u003c\\/p\u003e\\n{ joinOrder=FIXED }\u003cbr\\/\u003e\\n                                Nested Loop Exists Join ResultSet:\u003cbr\\/\u003e\\n                                Number of opens = 1\u003cbr\\/\u003e\\n                                Rows seen from the left = 6\u003cbr\\/\u003e\\n                                Rows seen from the right = 6\u003cbr\\/\u003e\\n                                Rows filtered = 0\u003cbr\\/\u003e\\n                                Rows returned = 6\u003cbr\\/\u003e\\n                                        constructor time (milliseconds) = 0\u003cbr\\/\u003e\\n                                        open time (milliseconds) = 0\u003cbr\\/\u003e\\n                                        next time (milliseconds) = 0\u003cbr\\/\u003e\\n                                        close time (milliseconds) = 0\u003cbr\\/\u003e\\n                                        optimizer estimated row count:  0.60\u003cbr\\/\u003e\\n                                        optimizer estimated cost:          475.57\u003cbr\\/\u003e\\n\u003cbr\\/\u003e\\n                                Left result set:\u003cbr\\/\u003e\\n                                        User supplied optimizer overrides for join are { joinOrder=FIXED }\\n\u003cp\u003e                                        Nested Loop Exists Join ResultSet:\u003cbr\\/\u003e\\n                                        Number of opens = 1\u003cbr\\/\u003e\\n                                        Rows seen from the left = 6\u003cbr\\/\u003e\\n                                        Rows seen from the right = 6\u003cbr\\/\u003e\\n                                        Rows filtered = 0\u003cbr\\/\u003e\\n                                        Rows returned = 6\u003cbr\\/\u003e\\n                                                constructor time (milliseconds)= 0\u003cbr\\/\u003e\\n                                                open time (milliseconds) = 0\u003cbr\\/\u003e\\n                                                next time (milliseconds) = 0\u003cbr\\/\u003e\\n                                                close time (milliseconds) = 0\u003cbr\\/\u003e\\n                                                optimizer estimated row count:          0.60\u003cbr\\/\u003e\\n                                                optimizer estimated cost:   454.07\u003c\\/p\u003e\\n\\n\u003cp\u003e                                        Left result set:\u003cbr\\/\u003e\\n                                                User supplied optimizer overrides for join are \u003c\\/p\u003e\\n{ joinOrder=FIXED }\\n\u003cp\u003e                                                Hash Join ResultSet:\u003cbr\\/\u003e\\n                                                Number of opens = 1\u003cbr\\/\u003e\\n                                                Rows seen from the left = 3\u003cbr\\/\u003e\\n                                                Rows seen from the right = 6\u003cbr\\/\u003e\\n                                                Rows filtered = 0\u003cbr\\/\u003e\\n                                                Rows returned = 6\u003cbr\\/\u003e\\n                                                        constructor time (milliseconds) = 0\u003cbr\\/\u003e\\n                                                        open time (milliseconds) = 0\u003cbr\\/\u003e\\n                                                        next time (milliseconds) = 0\u003cbr\\/\u003e\\n                                                        close time (milliseconds) = 0\u003cbr\\/\u003e\\n                                                        optimizer estimated rowcount:            0.60\u003cbr\\/\u003e\\n                                                        optimizer estimated cost:          372.68\u003c\\/p\u003e\\n\\n\u003cp\u003e                                                Left result set:\u003cbr\\/\u003e\\n                                                        Table Scan ResultSet for CHANGESETS at read committed isolation level using instantaneous share row locking chosen by the optimizer\u003cbr\\/\u003e\\n                                                        Number of opens = 1\u003cbr\\/\u003e\\n                                                        Rows seen = 3\u003cbr\\/\u003e\\n                                                        Rows filtered = 0\u003cbr\\/\u003e\\n                                                        Fetch Size = 16\u003cbr\\/\u003e\\n                                                                constructor time (milliseconds) = 0\u003cbr\\/\u003e\\n                                                                open time (milliseconds) = 0\u003cbr\\/\u003e\\n                                                                next time (milliseconds) = 0\u003cbr\\/\u003e\\n                                                                close time (milliseconds) = 0\u003cbr\\/\u003e\\n                                                                next time in milliseconds\\/row = 0\u003c\\/p\u003e\\n\\n\u003cp\u003e                                                        scan information:\u003cbr\\/\u003e\\n                                                                Bit set of columns fetched=\u003c\\/p\u003e\\n{0, 1, 3}\\n\u003cp\u003e                                                                Number of columns fetched=3\u003cbr\\/\u003e\\n                                                                Number of pagesvisited=1\u003cbr\\/\u003e\\n                                                                Number of rows qualified=3\u003cbr\\/\u003e\\n                                                                Number of rows visited=3\u003cbr\\/\u003e\\n                                                                Scan type=heap\u003cbr\\/\u003e\\n                                                                start position:\u003cbr\\/\u003e\\nnull                                                            stop position:\u003cbr\\/\u003e\\nnull                                                            qualifiers:\u003cbr\\/\u003e\\nNone\u003cbr\\/\u003e\\n                                                                optimizer estimated row count:            8.00\u003cbr\\/\u003e\\n                                                                optimizer estimated cost:          351.84\u003c\\/p\u003e\\n\\n\u003cp\u003e                                                Right result set:\u003cbr\\/\u003e\\n                                                        Hash Scan ResultSet for FILECHANGES using constraint FILECHANGES_FILE_CHANGESET at read committed isolation level using instantaneous share row locking:\u003cbr\\/\u003e\\n                                                        Number of opens = 3\u003cbr\\/\u003e\\n                                                        Hash table size = 3\u003cbr\\/\u003e\\n                                                        Hash key is column number 1\u003cbr\\/\u003e\\n                                                        Rows seen = 6\u003cbr\\/\u003e\\n                                                        Rows filtered = 0\u003cbr\\/\u003e\\n                                                                constructor time (milliseconds) = 0\u003cbr\\/\u003e\\n                                                                open time (milliseconds) = 0\u003cbr\\/\u003e\\n                                                                next time (milliseconds) = 0\u003cbr\\/\u003e\\n                                                                close time (milliseconds) = 0\u003cbr\\/\u003e\\n                                                                next time in milliseconds\\/row = 0\u003c\\/p\u003e\\n\\n\u003cp\u003e                                                        scan information:\u003cbr\\/\u003e\\n                                                                Bit set of columns fetched=\u003c\\/p\u003e\\n{0, 1}\u003cbr\\/\u003e\\n                                                                Number of columns fetched=2\u003cbr\\/\u003e\\n                                                                Number of deleted rows visited=0\u003cbr\\/\u003e\\n                                                                Number of pagesvisited=1\u003cbr\\/\u003e\\n                                                                Number of rows qualified=6\u003cbr\\/\u003e\\n                                                                Number of rows visited=6\u003cbr\\/\u003e\\n                                                                Scan type=btree\u003cbr\\/\u003e\\n                                                                Tree height=1\u003cbr\\/\u003e\\n                                                                start position:\u003cbr\\/\u003e\\n\u003cbr\\/\u003e\\n        None\u003cbr\\/\u003e\\n                                                                stop position:\u003cbr\\/\u003e\\n        None\u003cbr\\/\u003e\\n                                                                scan qualifiers:\u003cbr\\/\u003e\\n\u003cbr\\/\u003e\\nNone\u003cbr\\/\u003e\\n                                                                next qualifiers:\u003cbr\\/\u003e\\n\u003cbr\\/\u003e\\nColumn\u003cspan class=\\\"error\\\"\u003e&#91;0&#93;\u003c\\/span\u003e\u003cspan class=\\\"error\\\"\u003e&#91;0&#93;\u003c\\/span\u003e Id: 1\u003cbr\\/\u003e\\nOperator: =\u003cbr\\/\u003e\\nOrdered nulls: false\u003cbr\\/\u003e\\nUnknown return value: false\u003cbr\\/\u003e\\nNegate comparison result: false\u003cbr\\/\u003e\\n\u003cbr\\/\u003e\\n                                                                optimizer estimated row count:            0.60\u003cbr\\/\u003e\\n                                                                optimizer estimated cost:           20.84\u003cbr\\/\u003e\\n\u003cbr\\/\u003e\\n\u003cbr\\/\u003e\\n                                        Right result set:\u003cbr\\/\u003e\\n                                                Project-Restrict ResultSet (10):\u003cbr\\/\u003e\\n\u003cbr\\/\u003e\\n                                                Number of opens = 6\u003cbr\\/\u003e\\n                                                Rows seen = 6\u003cbr\\/\u003e\\n                                                Rows filtered = 0\u003cbr\\/\u003e\\n                                                restriction = true\u003cbr\\/\u003e\\n                                                projection = true\u003cbr\\/\u003e\\n                                                        constructor time (milliseconds) = 0\u003cbr\\/\u003e\\n                                                        open time (milliseconds) = 0\u003cbr\\/\u003e\\n                                                        next time (milliseconds) = 0\u003cbr\\/\u003e\\n                                                        close time (milliseconds) = 0\u003cbr\\/\u003e\\n                                                        restriction time (milliseconds) = 0\u003cbr\\/\u003e\\n                                                        projection time (milliseconds) = 0\u003cbr\\/\u003e\\n                                                        optimizer estimated rowcount:            0.60\u003cbr\\/\u003e\\n                                                        optimizer estimated cost:           81.39\u003cbr\\/\u003e\\n\u003cbr\\/\u003e\\n                                                Source result set:\u003cbr\\/\u003e\\n                                                        Index Row to Base Row ResultSet for REPOSITORIES:\u003cbr\\/\u003e\\n                                                        Number of opens = 6\u003cbr\\/\u003e\\n                                                        Rows seen = 6\u003cbr\\/\u003e\\n                                                        Columns accessed from heap = {1}\u003cbr\\/\u003e\\n                                                                constructor time (milliseconds) = 0\u003cbr\\/\u003e\\n                                                                open time (milliseconds) = 0\u003cbr\\/\u003e\\n                                                                next time (milliseconds) = 0\u003cbr\\/\u003e\\n                                                                close time (milliseconds) = 0\u003cbr\\/\u003e\\n                                                                optimizer estimated row count:            0.60\u003cbr\\/\u003e\\n                                                                optimizer estimated cost:           81.39\u003cbr\\/\u003e\\n\u003cbr\\/\u003e\\n                                                                Index Scan ResultSet for REPOSITORIES using constraint REPOSITORIES_PRIMARY_ID at read committed isolation level using share row locking chosen by the optimizer\u003cbr\\/\u003e\\n                                                                Number of opens= 6\u003cbr\\/\u003e\\n                                                                Rows seen = 6\u003cbr\\/\u003e\\n                                                                Rows filtered =0\u003cbr\\/\u003e\\n                                                                Fetch Size = 1\u003cbr\\/\u003e\\n                                                                        constructor time (milliseconds) = 0\u003cbr\\/\u003e\\n                                                                        open time (milliseconds) = 0\u003cbr\\/\u003e\\n                                                                        next time (milliseconds) = 0\u003cbr\\/\u003e\\n                                                                        close time (milliseconds) = 0\u003cbr\\/\u003e\\n                                                                        next time in milliseconds\\/row = 0\u003cbr\\/\u003e\\n\u003cbr\\/\u003e\\n                                                                scan information:\u003cbr\\/\u003e\\n                                                                        Bit set of columns fetched=All\u003cbr\\/\u003e\\n                                                                        Number of columns fetched=2\u003cbr\\/\u003e\\n                                                                        Number of deleted rows visited=0\u003cbr\\/\u003e\\n                                                                        Number of pages visited=6\u003cbr\\/\u003e\\n                                                                        Number of rows qualified=6\u003cbr\\/\u003e\\n                                                                        Number of rows visited=6\u003cbr\\/\u003e\\n                                                                        Scan type=btree\u003cbr\\/\u003e\\n                                                                        Tree height=1\u003cbr\\/\u003e\\n                                                                        start position:\u003cbr\\/\u003e\\n        &gt;= on first 1 column(s).\u003cbr\\/\u003e\\n        Ordered null semantics on the following columns:0\u003cbr\\/\u003e\\n                                                                        stop position:\u003cbr\\/\u003e\\n        &gt; on first 1 column(s).\u003cbr\\/\u003e\\n        Ordered null semantics on the following columns:0\u003cbr\\/\u003e\\n                                                                        qualifiers:\u003cbr\\/\u003e\\nNone\u003cbr\\/\u003e\\n                                                                        optimizer estimated row count:            0.60\u003cbr\\/\u003e\\n                                                                        optimizer estimated cost:           81.39\u003cbr\\/\u003e\\n\u003cbr\\/\u003e\\n\u003cbr\\/\u003e\\n\u003cbr\\/\u003e\\n                                Right result set:\u003cbr\\/\u003e\\n                                        Project-Restrict ResultSet (13):\u003cbr\\/\u003e\\n                                        Number of opens = 6\u003cbr\\/\u003e\\n                                        Rows seen = 6\u003cbr\\/\u003e\\n                                        Rows filtered = 0\u003cbr\\/\u003e\\n                                        restriction = true\u003cbr\\/\u003e\\n                                        projection = true\u003cbr\\/\u003e\\n                                                constructor time (milliseconds)= 0\u003cbr\\/\u003e\\n                                                open time (milliseconds) = 0\u003cbr\\/\u003e\\n                                                next time (milliseconds) = 0\u003cbr\\/\u003e\\n                                                close time (milliseconds) = 0\u003cbr\\/\u003e\\n                                                restriction time (milliseconds)= 0\u003cbr\\/\u003e\\n                                                projection time (milliseconds) = 0\u003cbr\\/\u003e\\n                                                optimizer estimated row count:          0.60\u003cbr\\/\u003e\\n                                                optimizer estimated cost:    21.50\u003cbr\\/\u003e\\n\u003cbr\\/\u003e\\n                                        Source result set:\u003cbr\\/\u003e\\n                                                Index Row to Base Row ResultSet for FILES:\u003cbr\\/\u003e\\n                                                Number of opens = 6\u003cbr\\/\u003e\\n                                                Rows seen = 6\u003cbr\\/\u003e\\n                                                Columns accessed from heap = {2}\u003cbr\\/\u003e\\n\u003cbr\\/\u003e\\n                                                        constructor time (milliseconds) = 0\u003cbr\\/\u003e\\n                                                        open time (milliseconds) = 0\u003cbr\\/\u003e\\n                                                        next time (milliseconds) = 0\u003cbr\\/\u003e\\n                                                        close time (milliseconds) = 0\u003cbr\\/\u003e\\n                                                        optimizer estimated rowcount:            0.60\u003cbr\\/\u003e\\n                                                        optimizer estimated cost:           21.50\u003cbr\\/\u003e\\n\u003cbr\\/\u003e\\n                                                        Index Scan ResultSet for FILES using constraint FILES_PRIMARY_ID at read committed isolation level using share row locking chosen by the optimizer\u003cbr\\/\u003e\\n                                                        Number of opens = 6\u003cbr\\/\u003e\\n                                                        Rows seen = 6\u003cbr\\/\u003e\\n                                                        Rows filtered = 0\u003cbr\\/\u003e\\n                                                        Fetch Size = 1\u003cbr\\/\u003e\\n                                                                constructor time (milliseconds) = 0\u003cbr\\/\u003e\\n                                                                open time (milliseconds) = 0\u003cbr\\/\u003e\\n                                                                next time (milliseconds) = 0\u003cbr\\/\u003e\\n                                                                close time (milliseconds) = 0\u003cbr\\/\u003e\\n                                                                next time in milliseconds\\/row = 0\u003cbr\\/\u003e\\n\u003cbr\\/\u003e\\n                                                        scan information:\u003cbr\\/\u003e\\n                                                                Bit set of columns fetched=All\u003cbr\\/\u003e\\n                                                                Number of columns fetched=2\u003cbr\\/\u003e\\n                                                                Number of deleted rows visited=0\u003cbr\\/\u003e\\n                                                                Number of pages visited=6\u003cbr\\/\u003e\\n                                                                Number of rows qualified=6\u003cbr\\/\u003e\\n                                                                Number of rows visited=6\u003cbr\\/\u003e\\n                                                                Scan type=btree\u003cbr\\/\u003e\\n                                                                Tree height=1\u003cbr\\/\u003e\\n                                                                start position:\u003cbr\\/\u003e\\n\u003cbr\\/\u003e\\n        &gt;= on first 1 column(s).\u003cbr\\/\u003e\\n        Ordered null semantics on the following columns:0\u003cbr\\/\u003e\\n                                                                stop position:        &gt; on first 1 column(s).\u003cbr\\/\u003e\\n        Ordered null semantics on the following columns:0\u003cbr\\/\u003e\\n                                                                qualifiers:None\u003cbr\\/\u003e\\n                                                                optimizer estimated row count:            0.60\u003cbr\\/\u003e\\n                                                                optimizer estimated cost:           21.50\u003cbr\\/\u003e\\n\u003cbr\\/\u003e\\n\u003cbr\\/\u003e\\n\u003cbr\\/\u003e\\n                        Right result set:\u003cbr\\/\u003e\\n                                Project-Restrict ResultSet (16):\u003cbr\\/\u003e\\n                                Number of opens = 6\u003cbr\\/\u003e\\n                                Rows seen = 6\u003cbr\\/\u003e\\n                                Rows filtered = 0\u003cbr\\/\u003e\\n                                restriction = true\u003cbr\\/\u003e\\n                                projection = true\u003cbr\\/\u003e\\n                                        constructor time (milliseconds) = 0\u003cbr\\/\u003e\\n                                        open time (milliseconds) = 0\u003cbr\\/\u003e\\n                                        next time (milliseconds) = 0\u003cbr\\/\u003e\\n                                        close time (milliseconds) = 0\u003cbr\\/\u003e\\n                                        restriction time (milliseconds) = 0\u003cbr\\/\u003e\\n                                        projection time (milliseconds) = 0\u003cbr\\/\u003e\\n                                        optimizer estimated row count:  0.36\u003cbr\\/\u003e\\n                                        optimizer estimated cost:           71.37\u003cbr\\/\u003e\\n\u003cbr\\/\u003e\\n                                Source result set:\u003cbr\\/\u003e\\n                                        Index Row to Base Row ResultSet for AUTHORS:\u003cbr\\/\u003e\\n                                        Number of opens = 6\u003cbr\\/\u003e\\n                                        Rows seen = 6\u003cbr\\/\u003e\\n                                        Columns accessed from heap = {0, 1}\\n\u003cp\u003e                                                constructor time (milliseconds)= 0\u003cbr\\/\u003e\\n                                                open time (milliseconds) = 0\u003cbr\\/\u003e\\n                                                next time (milliseconds) = 0\u003cbr\\/\u003e\\n                                                close time (milliseconds) = 0\u003cbr\\/\u003e\\n                                                optimizer estimated row count:          0.36\u003cbr\\/\u003e\\n                                                optimizer estimated cost:    71.37\u003c\\/p\u003e\\n\\n\u003cp\u003e                                                Index Scan ResultSet for AUTHORS using constraint AUTHORS_REPOSITORY_NAME at read committed isolation level using instantaneous share row locking chosen by the optimizer\u003cbr\\/\u003e\\n                                                Number of opens = 6\u003cbr\\/\u003e\\n                                                Rows seen = 6\u003cbr\\/\u003e\\n                                                Rows filtered = 0\u003cbr\\/\u003e\\n                                                Fetch Size = 16\u003cbr\\/\u003e\\n                                                        constructor time (milliseconds) = 0\u003cbr\\/\u003e\\n                                                        open time (milliseconds) = 0\u003cbr\\/\u003e\\n                                                        next time (milliseconds) = 0\u003cbr\\/\u003e\\n                                                        close time (milliseconds) = 0\u003cbr\\/\u003e\\n                                                        next time in milliseconds\\/row = 0\u003c\\/p\u003e\\n\\n\u003cp\u003e                                                scan information:\u003cbr\\/\u003e\\n                                                        Bit set of columns fetched=\u003c\\/p\u003e\\n{0, 2}\\n\u003cp\u003e                                                        Number of columns fetched=2\u003cbr\\/\u003e\\n                                                        Number of deleted rows visited=0\u003cbr\\/\u003e\\n                                                        Number of pages visited=6\u003cbr\\/\u003e\\n                                                        Number of rows qualified=6\u003cbr\\/\u003e\\n                                                        Number of rows visited=6\u003c\\/p\u003e\\n\\n\u003cp\u003e                                                        Scan type=btree\u003cbr\\/\u003e\\n                                                        Tree height=1\u003cbr\\/\u003e\\n                                                        start position:\u003cbr\\/\u003e\\n        &gt;= on first 1 column(s).\u003cbr\\/\u003e\\n        Ordered null semantics on the following columns:0\u003cbr\\/\u003e\\n                                                        stop position:\u003cbr\\/\u003e\\n        &gt; on first 1 column(s).\u003cbr\\/\u003e\\n        Ordered null semantics on the following columns:0\u003cbr\\/\u003e\\n                                                        qualifiers:\u003cbr\\/\u003e\\nColumn\u003cspan class=\\\"error\\\"\u003e&#91;0&#93;\u003c\\/span\u003e\u003cspan class=\\\"error\\\"\u003e&#91;0&#93;\u003c\\/span\u003e Id: 0\u003cbr\\/\u003e\\nOperator: =\u003cbr\\/\u003e\\nOrdered nulls: false\u003cbr\\/\u003e\\nUnknown return value: false\u003cbr\\/\u003e\\nNegate comparison result: false\u003c\\/p\u003e\\n\\n\u003cp\u003e                                                        optimizer estimated rowcount:            0.36\u003cbr\\/\u003e\\n                                                        optimizer estimated cost:           71.37\u003c\\/p\u003e\\n\\n\\n\\n\u003cp\u003e                Right result set:\u003cbr\\/\u003e\\n                        Project-Restrict ResultSet (19):\u003cbr\\/\u003e\\n                        Number of opens = 6\u003cbr\\/\u003e\\n                        Rows seen = 24\u003cbr\\/\u003e\\n                        Rows filtered = 18\u003cbr\\/\u003e\\n                        restriction = true\u003cbr\\/\u003e\\n                        projection = true\u003cbr\\/\u003e\\n                                constructor time (milliseconds) = 0\u003cbr\\/\u003e\\n                                open time (milliseconds) = 0\u003cbr\\/\u003e\\n                                next time (milliseconds) = 0\u003cbr\\/\u003e\\n                                close time (milliseconds) = 0\u003cbr\\/\u003e\\n                                restriction time (milliseconds) = 0\u003cbr\\/\u003e\\n                                projection time (milliseconds) = 0\u003cbr\\/\u003e\\n                                optimizer estimated row count:            0.08\u003cbr\\/\u003e\\n                                optimizer estimated cost:            6.73\u003c\\/p\u003e\\n\\n\u003cp\u003e                        Source result set:\u003cbr\\/\u003e\\n                                Index Row to Base Row ResultSet for FILES:\u003cbr\\/\u003e\\n                                Number of opens = 6\u003cbr\\/\u003e\\n                                Rows seen = 24\u003cbr\\/\u003e\\n                                Columns accessed from heap = \u003c\\/p\u003e\\n{0, 1, 2}\\n\u003cp\u003e                                        constructor time (milliseconds) = 0\u003cbr\\/\u003e\\n                                        open time (milliseconds) = 0\u003cbr\\/\u003e\\n                                        next time (milliseconds) = 0\u003cbr\\/\u003e\\n                                        close time (milliseconds) = 0\u003cbr\\/\u003e\\n                                        optimizer estimated row count:  0.08\u003cbr\\/\u003e\\n                                        optimizer estimated cost:            6.73\u003c\\/p\u003e\\n\\n\u003cp\u003e                                        Index Scan ResultSet for FILES using constraint FILES_REPOSITORY_PATH at read committed isolation level using instantaneous share row locking chosen by the optimizer\u003cbr\\/\u003e\\n                                        Number of opens = 6\u003cbr\\/\u003e\\n                                        Rows seen = 24\u003cbr\\/\u003e\\n                                        Rows filtered = 0\u003cbr\\/\u003e\\n                                        Fetch Size = 16\u003cbr\\/\u003e\\n                                                constructor time (milliseconds)= 0\u003cbr\\/\u003e\\n                                                open time (milliseconds) = 0\u003cbr\\/\u003e\\n                                                next time (milliseconds) = 0\u003cbr\\/\u003e\\n                                                close time (milliseconds) = 0\u003cbr\\/\u003e\\n                                                next time in milliseconds\\/row =0\u003c\\/p\u003e\\n\\n\u003cp\u003e                                        scan information:\u003cbr\\/\u003e\\n                                                Bit set of columns fetched=All\u003cbr\\/\u003e\\n                                                Number of columns fetched=3\u003cbr\\/\u003e\\n                                                Number of deleted rows visited=0\u003c\\/p\u003e\\n\\n\u003cp\u003e                                                Number of pages visited=6\u003cbr\\/\u003e\\n                                                Number of rows qualified=24\u003cbr\\/\u003e\\n                                                Number of rows visited=24\u003cbr\\/\u003e\\n                                                Scan type=btree\u003cbr\\/\u003e\\n                                                Tree height=1\u003cbr\\/\u003e\\n                                                start position:\u003cbr\\/\u003e\\n        &gt;= on first 2 column(s).\u003cbr\\/\u003e\\n        Ordered null semantics on the following columns:0 1\u003cbr\\/\u003e\\n                                                stop position:\u003cbr\\/\u003e\\n        &gt;= on first 2 column(s).\u003cbr\\/\u003e\\n        Ordered null semantics on the following columns:\u003cbr\\/\u003e\\n0 1\u003cbr\\/\u003e\\n                                                qualifiers:\u003cbr\\/\u003e\\nColumn\u003cspan class=\\\"error\\\"\u003e&#91;0&#93;\u003c\\/span\u003e\u003cspan class=\\\"error\\\"\u003e&#91;0&#93;\u003c\\/span\u003e Id: 0\u003cbr\\/\u003e\\nOperator: =\u003cbr\\/\u003e\\nOrdered nulls: false\u003cbr\\/\u003e\\nUnknown return value: false\u003cbr\\/\u003e\\nNegate comparison result: false\u003c\\/p\u003e\\n\\n\u003cp\u003e                                                optimizer estimated row count: 0.08\u003cbr\\/\u003e\\n                                                optimizer estimated cost: 6.73\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mamtas\\\" id=\\\"commentauthor_12738591_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mamtas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mamtas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mamta A. Satoor\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12738591_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Aug\\/09 21:12\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-03T21:12:15+0000\'\u003e03\\/Aug\\/09 21:12\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Mamta A. Satoor - 03\\/Aug\\/09 21:19\\\"\u003eedited\u003c\\/span\u003e                   Wanted to share that if the same query is run with the optimizer ovreride of join order fixed, the query does not give incorrect results. The query plan at this time is as follows \\nStatement Name: \\n        null \\nStatement Text: \\n        SELECT CS.ID \\nFROM  --DERBY-PROPERTIES joinOrder=FIXED \\n    CHANGESETS CS, FILECHANGES FC, REPOSITORIES R, FILES F, AUTHORS A \\nWHERE \\n    R.PATH = \'\\/var\\/tmp\\/source5923202038296723704opengrok\\/mercurial\' AND \\n    F.REPOSITORY  = R.ID                                            AND \\n    A.REPOSITORY  = R.ID                                            AND \\n    CS.REPOSITORY = R.ID                                            AND \\n    CS.ID         = FC.CHANGESET                                    AND \\n    F.ID          = FC.FILE                                         AND \\n    A.ID          = CS.AUTHOR                                       AND \\n    EXISTS ( \\n        SELECT 1 \\n        FROM FILES F2 \\n        WHERE \\n            F2.ID = FC.FILE AND F2.REPOSITORY = R.ID AND \\n            F2.PATH LIKE \'\\/%\' ESCAPE \'#\') \\nORDER BY CS.ID DESC \\nParse Time: 0 \\nBind Time: 0 \\nOptimize Time: 0 \\nGenerate Time: 0 \\nCompile Time: 0 \\nExecute Time: 0 \\nBegin Compilation Timestamp : null \\nEnd Compilation Timestamp : null \\nBegin Execution Timestamp : null \\nEnd Execution Timestamp : null \\nStatement Execution Plan Text: \\nSort ResultSet: \\nNumber of opens = 1 \\nRows input = 6 \\nRows returned = 6 \\nEliminate duplicates = false \\nIn sorted order = false \\nSort information: \\n        Number of rows input=6 \\n        Number of rows output=6 \\n        Sort type=internal \\n        constructor time (milliseconds) = 0 \\n        open time (milliseconds) = 0 \\n        next time (milliseconds) = 0 \\n        close time (milliseconds) = 0 \\n        optimizer estimated row count:            0.08 \\n        optimizer estimated cost:          553.68 \\n\\n Source result set: \\n        Project-Restrict ResultSet (20): \\n        Number of opens = 1 \\n        Rows seen = 6 \\n        Rows filtered = 0 \\n        restriction = false \\n        projection = true \\n                constructor time (milliseconds) = 0 \\n                open time (milliseconds) = 0 \\n                next time (milliseconds) = 0 \\n                close time (milliseconds) = 0 \\n                restriction time (milliseconds) = 0 \\n                projection time (milliseconds) = 0 \\n                optimizer estimated row count:            0.08 \\n                optimizer estimated cost:          553.68 \\n\\n         Source result set: \\n                User supplied optimizer overrides for join are  \\n{ joinOrder=FIXED } \\n                Nested Loop Join ResultSet: \\n                Number of opens = 1 \\n                Rows seen from the left = 6 \\n                Rows seen from the right = 6 \\n                Rows filtered = 0 \\n                Rows returned = 6 \\n                        constructor time (milliseconds) = 0 \\n                        open time (milliseconds) = 0 \\n                        next time (milliseconds) = 0 \\n                        close time (milliseconds) = 0 \\n                        optimizer estimated row count:            0.08 \\n                        optimizer estimated cost:          553.68 \\n \\n                Left result set: \\n                        User supplied optimizer overrides for join are { joinOrder=FIXED }\\n                         Nested Loop Join ResultSet: \\n                        Number of opens = 1 \\n                        Rows seen from the left = 6 \\n                        Rows seen from the right = 6 \\n                        Rows filtered = 0 \\n                        Rows returned = 6 \\n                                constructor time (milliseconds) = 0 \\n                                open time (milliseconds) = 0 \\n                                next time (milliseconds) = 0 \\n                                close time (milliseconds) = 0 \\n                                optimizer estimated row count:            0.36 \\n                                optimizer estimated cost:          546.94 \\n\\n                         Left result set: \\n                                User supplied optimizer overrides for join are  \\n{ joinOrder=FIXED } \\n                                Nested Loop Exists Join ResultSet: \\n                                Number of opens = 1 \\n                                Rows seen from the left = 6 \\n                                Rows seen from the right = 6 \\n                                Rows filtered = 0 \\n                                Rows returned = 6 \\n                                        constructor time (milliseconds) = 0 \\n                                        open time (milliseconds) = 0 \\n                                        next time (milliseconds) = 0 \\n                                        close time (milliseconds) = 0 \\n                                        optimizer estimated row count:  0.60 \\n                                        optimizer estimated cost:          475.57 \\n \\n                                Left result set: \\n                                        User supplied optimizer overrides for join are { joinOrder=FIXED }\\n                                         Nested Loop Exists Join ResultSet: \\n                                        Number of opens = 1 \\n                                        Rows seen from the left = 6 \\n                                        Rows seen from the right = 6 \\n                                        Rows filtered = 0 \\n                                        Rows returned = 6 \\n                                                constructor time (milliseconds)= 0 \\n                                                open time (milliseconds) = 0 \\n                                                next time (milliseconds) = 0 \\n                                                close time (milliseconds) = 0 \\n                                                optimizer estimated row count:          0.60 \\n                                                optimizer estimated cost:   454.07 \\n\\n                                         Left result set: \\n                                                User supplied optimizer overrides for join are  \\n{ joinOrder=FIXED }\\n                                                 Hash Join ResultSet: \\n                                                Number of opens = 1 \\n                                                Rows seen from the left = 3 \\n                                                Rows seen from the right = 6 \\n                                                Rows filtered = 0 \\n                                                Rows returned = 6 \\n                                                        constructor time (milliseconds) = 0 \\n                                                        open time (milliseconds) = 0 \\n                                                        next time (milliseconds) = 0 \\n                                                        close time (milliseconds) = 0 \\n                                                        optimizer estimated rowcount:            0.60 \\n                                                        optimizer estimated cost:          372.68 \\n\\n                                                 Left result set: \\n                                                        Table Scan ResultSet for CHANGESETS at read committed isolation level using instantaneous share row locking chosen by the optimizer \\n                                                        Number of opens = 1 \\n                                                        Rows seen = 3 \\n                                                        Rows filtered = 0 \\n                                                        Fetch Size = 16 \\n                                                                constructor time (milliseconds) = 0 \\n                                                                open time (milliseconds) = 0 \\n                                                                next time (milliseconds) = 0 \\n                                                                close time (milliseconds) = 0 \\n                                                                next time in milliseconds\\/row = 0 \\n\\n                                                         scan information: \\n                                                                Bit set of columns fetched= \\n{0, 1, 3}\\n                                                                 Number of columns fetched=3 \\n                                                                Number of pagesvisited=1 \\n                                                                Number of rows qualified=3 \\n                                                                Number of rows visited=3 \\n                                                                Scan type=heap \\n                                                                start position: \\nnull                                                            stop position: \\nnull                                                            qualifiers: \\nNone \\n                                                                optimizer estimated row count:            8.00 \\n                                                                optimizer estimated cost:          351.84 \\n\\n                                                 Right result set: \\n                                                        Hash Scan ResultSet for FILECHANGES using constraint FILECHANGES_FILE_CHANGESET at read committed isolation level using instantaneous share row locking: \\n                                                        Number of opens = 3 \\n                                                        Hash table size = 3 \\n                                                        Hash key is column number 1 \\n                                                        Rows seen = 6 \\n                                                        Rows filtered = 0 \\n                                                                constructor time (milliseconds) = 0 \\n                                                                open time (milliseconds) = 0 \\n                                                                next time (milliseconds) = 0 \\n                                                                close time (milliseconds) = 0 \\n                                                                next time in milliseconds\\/row = 0 \\n\\n                                                         scan information: \\n                                                                Bit set of columns fetched= \\n{0, 1} \\n                                                                Number of columns fetched=2 \\n                                                                Number of deleted rows visited=0 \\n                                                                Number of pagesvisited=1 \\n                                                                Number of rows qualified=6 \\n                                                                Number of rows visited=6 \\n                                                                Scan type=btree \\n                                                                Tree height=1 \\n                                                                start position: \\n \\n        None \\n                                                                stop position: \\n        None \\n                                                                scan qualifiers: \\n \\nNone \\n                                                                next qualifiers: \\n \\nColumn &#91;0&#93;  &#91;0&#93;  Id: 1 \\nOperator: = \\nOrdered nulls: false \\nUnknown return value: false \\nNegate comparison result: false \\n \\n                                                                optimizer estimated row count:            0.60 \\n                                                                optimizer estimated cost:           20.84 \\n \\n \\n                                        Right result set: \\n                                                Project-Restrict ResultSet (10): \\n \\n                                                Number of opens = 6 \\n                                                Rows seen = 6 \\n                                                Rows filtered = 0 \\n                                                restriction = true \\n                                                projection = true \\n                                                        constructor time (milliseconds) = 0 \\n                                                        open time (milliseconds) = 0 \\n                                                        next time (milliseconds) = 0 \\n                                                        close time (milliseconds) = 0 \\n                                                        restriction time (milliseconds) = 0 \\n                                                        projection time (milliseconds) = 0 \\n                                                        optimizer estimated rowcount:            0.60 \\n                                                        optimizer estimated cost:           81.39 \\n \\n                                                Source result set: \\n                                                        Index Row to Base Row ResultSet for REPOSITORIES: \\n                                                        Number of opens = 6 \\n                                                        Rows seen = 6 \\n                                                        Columns accessed from heap = {1} \\n                                                                constructor time (milliseconds) = 0 \\n                                                                open time (milliseconds) = 0 \\n                                                                next time (milliseconds) = 0 \\n                                                                close time (milliseconds) = 0 \\n                                                                optimizer estimated row count:            0.60 \\n                                                                optimizer estimated cost:           81.39 \\n \\n                                                                Index Scan ResultSet for REPOSITORIES using constraint REPOSITORIES_PRIMARY_ID at read committed isolation level using share row locking chosen by the optimizer \\n                                                                Number of opens= 6 \\n                                                                Rows seen = 6 \\n                                                                Rows filtered =0 \\n                                                                Fetch Size = 1 \\n                                                                        constructor time (milliseconds) = 0 \\n                                                                        open time (milliseconds) = 0 \\n                                                                        next time (milliseconds) = 0 \\n                                                                        close time (milliseconds) = 0 \\n                                                                        next time in milliseconds\\/row = 0 \\n \\n                                                                scan information: \\n                                                                        Bit set of columns fetched=All \\n                                                                        Number of columns fetched=2 \\n                                                                        Number of deleted rows visited=0 \\n                                                                        Number of pages visited=6 \\n                                                                        Number of rows qualified=6 \\n                                                                        Number of rows visited=6 \\n                                                                        Scan type=btree \\n                                                                        Tree height=1 \\n                                                                        start position: \\n        &gt;= on first 1 column(s). \\n        Ordered null semantics on the following columns:0 \\n                                                                        stop position: \\n        &gt; on first 1 column(s). \\n        Ordered null semantics on the following columns:0 \\n                                                                        qualifiers: \\nNone \\n                                                                        optimizer estimated row count:            0.60 \\n                                                                        optimizer estimated cost:           81.39 \\n \\n \\n \\n                                Right result set: \\n                                        Project-Restrict ResultSet (13): \\n                                        Number of opens = 6 \\n                                        Rows seen = 6 \\n                                        Rows filtered = 0 \\n                                        restriction = true \\n                                        projection = true \\n                                                constructor time (milliseconds)= 0 \\n                                                open time (milliseconds) = 0 \\n                                                next time (milliseconds) = 0 \\n                                                close time (milliseconds) = 0 \\n                                                restriction time (milliseconds)= 0 \\n                                                projection time (milliseconds) = 0 \\n                                                optimizer estimated row count:          0.60 \\n                                                optimizer estimated cost:    21.50 \\n \\n                                        Source result set: \\n                                                Index Row to Base Row ResultSet for FILES: \\n                                                Number of opens = 6 \\n                                                Rows seen = 6 \\n                                                Columns accessed from heap = {2} \\n \\n                                                        constructor time (milliseconds) = 0 \\n                                                        open time (milliseconds) = 0 \\n                                                        next time (milliseconds) = 0 \\n                                                        close time (milliseconds) = 0 \\n                                                        optimizer estimated rowcount:            0.60 \\n                                                        optimizer estimated cost:           21.50 \\n \\n                                                        Index Scan ResultSet for FILES using constraint FILES_PRIMARY_ID at read committed isolation level using share row locking chosen by the optimizer \\n                                                        Number of opens = 6 \\n                                                        Rows seen = 6 \\n                                                        Rows filtered = 0 \\n                                                        Fetch Size = 1 \\n                                                                constructor time (milliseconds) = 0 \\n                                                                open time (milliseconds) = 0 \\n                                                                next time (milliseconds) = 0 \\n                                                                close time (milliseconds) = 0 \\n                                                                next time in milliseconds\\/row = 0 \\n \\n                                                        scan information: \\n                                                                Bit set of columns fetched=All \\n                                                                Number of columns fetched=2 \\n                                                                Number of deleted rows visited=0 \\n                                                                Number of pages visited=6 \\n                                                                Number of rows qualified=6 \\n                                                                Number of rows visited=6 \\n                                                                Scan type=btree \\n                                                                Tree height=1 \\n                                                                start position: \\n \\n        &gt;= on first 1 column(s). \\n        Ordered null semantics on the following columns:0 \\n                                                                stop position:        &gt; on first 1 column(s). \\n        Ordered null semantics on the following columns:0 \\n                                                                qualifiers:None \\n                                                                optimizer estimated row count:            0.60 \\n                                                                optimizer estimated cost:           21.50 \\n \\n \\n \\n                        Right result set: \\n                                Project-Restrict ResultSet (16): \\n                                Number of opens = 6 \\n                                Rows seen = 6 \\n                                Rows filtered = 0 \\n                                restriction = true \\n                                projection = true \\n                                        constructor time (milliseconds) = 0 \\n                                        open time (milliseconds) = 0 \\n                                        next time (milliseconds) = 0 \\n                                        close time (milliseconds) = 0 \\n                                        restriction time (milliseconds) = 0 \\n                                        projection time (milliseconds) = 0 \\n                                        optimizer estimated row count:  0.36 \\n                                        optimizer estimated cost:           71.37 \\n \\n                                Source result set: \\n                                        Index Row to Base Row ResultSet for AUTHORS: \\n                                        Number of opens = 6 \\n                                        Rows seen = 6 \\n                                        Columns accessed from heap = {0, 1}\\n                                                 constructor time (milliseconds)= 0 \\n                                                open time (milliseconds) = 0 \\n                                                next time (milliseconds) = 0 \\n                                                close time (milliseconds) = 0 \\n                                                optimizer estimated row count:          0.36 \\n                                                optimizer estimated cost:    71.37 \\n\\n                                                 Index Scan ResultSet for AUTHORS using constraint AUTHORS_REPOSITORY_NAME at read committed isolation level using instantaneous share row locking chosen by the optimizer \\n                                                Number of opens = 6 \\n                                                Rows seen = 6 \\n                                                Rows filtered = 0 \\n                                                Fetch Size = 16 \\n                                                        constructor time (milliseconds) = 0 \\n                                                        open time (milliseconds) = 0 \\n                                                        next time (milliseconds) = 0 \\n                                                        close time (milliseconds) = 0 \\n                                                        next time in milliseconds\\/row = 0 \\n\\n                                                 scan information: \\n                                                        Bit set of columns fetched= \\n{0, 2}\\n                                                         Number of columns fetched=2 \\n                                                        Number of deleted rows visited=0 \\n                                                        Number of pages visited=6 \\n                                                        Number of rows qualified=6 \\n                                                        Number of rows visited=6 \\n\\n                                                         Scan type=btree \\n                                                        Tree height=1 \\n                                                        start position: \\n        &gt;= on first 1 column(s). \\n        Ordered null semantics on the following columns:0 \\n                                                        stop position: \\n        &gt; on first 1 column(s). \\n        Ordered null semantics on the following columns:0 \\n                                                        qualifiers: \\nColumn &#91;0&#93;  &#91;0&#93;  Id: 0 \\nOperator: = \\nOrdered nulls: false \\nUnknown return value: false \\nNegate comparison result: false \\n\\n                                                         optimizer estimated rowcount:            0.36 \\n                                                        optimizer estimated cost:           71.37 \\n\\n\\n\\n                 Right result set: \\n                        Project-Restrict ResultSet (19): \\n                        Number of opens = 6 \\n                        Rows seen = 24 \\n                        Rows filtered = 18 \\n                        restriction = true \\n                        projection = true \\n                                constructor time (milliseconds) = 0 \\n                                open time (milliseconds) = 0 \\n                                next time (milliseconds) = 0 \\n                                close time (milliseconds) = 0 \\n                                restriction time (milliseconds) = 0 \\n                                projection time (milliseconds) = 0 \\n                                optimizer estimated row count:            0.08 \\n                                optimizer estimated cost:            6.73 \\n\\n                         Source result set: \\n                                Index Row to Base Row ResultSet for FILES: \\n                                Number of opens = 6 \\n                                Rows seen = 24 \\n                                Columns accessed from heap =  \\n{0, 1, 2}\\n                                         constructor time (milliseconds) = 0 \\n                                        open time (milliseconds) = 0 \\n                                        next time (milliseconds) = 0 \\n                                        close time (milliseconds) = 0 \\n                                        optimizer estimated row count:  0.08 \\n                                        optimizer estimated cost:            6.73 \\n\\n                                         Index Scan ResultSet for FILES using constraint FILES_REPOSITORY_PATH at read committed isolation level using instantaneous share row locking chosen by the optimizer \\n                                        Number of opens = 6 \\n                                        Rows seen = 24 \\n                                        Rows filtered = 0 \\n                                        Fetch Size = 16 \\n                                                constructor time (milliseconds)= 0 \\n                                                open time (milliseconds) = 0 \\n                                                next time (milliseconds) = 0 \\n                                                close time (milliseconds) = 0 \\n                                                next time in milliseconds\\/row =0 \\n\\n                                         scan information: \\n                                                Bit set of columns fetched=All \\n                                                Number of columns fetched=3 \\n                                                Number of deleted rows visited=0 \\n\\n                                                 Number of pages visited=6 \\n                                                Number of rows qualified=24 \\n                                                Number of rows visited=24 \\n                                                Scan type=btree \\n                                                Tree height=1 \\n                                                start position: \\n        &gt;= on first 2 column(s). \\n        Ordered null semantics on the following columns:0 1 \\n                                                stop position: \\n        &gt;= on first 2 column(s). \\n        Ordered null semantics on the following columns: \\n0 1 \\n                                                qualifiers: \\nColumn &#91;0&#93;  &#91;0&#93;  Id: 0 \\nOperator: = \\nOrdered nulls: false \\nUnknown return value: false \\nNegate comparison result: false \\n\\n                                                 optimizer estimated row count: 0.08 \\n                                                optimizer estimated cost: 6.73              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12738603\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-4331?focusedCommentId=12738603&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12738603\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mamtas\\\" id=\\\"commentauthor_12738603_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mamtas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mamtas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mamta A. Satoor\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12738603_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Aug\\/09 21:21\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-03T21:21:13+0000\'\u003e03\\/Aug\\/09 21:21\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eBTW, just an FYI, that I am doing my research on this bug in 10.5 codeline.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mamtas\\\" id=\\\"commentauthor_12738603_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mamtas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mamtas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mamta A. Satoor\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12738603_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Aug\\/09 21:21\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-03T21:21:13+0000\'\u003e03\\/Aug\\/09 21:21\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    BTW, just an FYI, that I am doing my research on this bug in 10.5 codeline.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12738608\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-4331?focusedCommentId=12738608&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12738608\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kmarsden\\\" id=\\\"commentauthor_12738608_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kmarsden\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kmarsden\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Kathey Marsden\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12738608_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Aug\\/09 21:25\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-03T21:25:32+0000\'\u003e03\\/Aug\\/09 21:25\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eFix affect versions. updated wrong issue.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kmarsden\\\" id=\\\"commentauthor_12738608_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kmarsden\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kmarsden\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Kathey Marsden\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12738608_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Aug\\/09 21:25\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-03T21:25:32+0000\'\u003e03\\/Aug\\/09 21:25\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Fix affect versions. updated wrong issue.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12738631\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-4331?focusedCommentId=12738631&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12738631\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mamtas\\\" id=\\\"commentauthor_12738631_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mamtas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mamtas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mamta A. Satoor\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12738631_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Aug\\/09 22:03\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-03T22:03:04+0000\'\u003e03\\/Aug\\/09 22:03\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThe following updated query is still pretty involved but it consistently reproduces the wrong results and will go through very limited iteration of optimizer code because of all the optimizer overrides. Ideal will be if the following query can be made simpler with fewer number of tables.\u003cbr\\/\u003e\\nSELECT CS.ID\u003cbr\\/\u003e\\nFROM  --DERBY-PROPERTIES joinOrder=FIXED \u003cbr\\/\u003e\\n    REPOSITORIES R &#8211; DERBY-PROPERTIES constraint=REPOSITORIES_PATH \u003cbr\\/\u003e\\n, FILES F &#8211; DERBY-PROPERTIES constraint=FILES_REPOSITORY_PATH\u003cbr\\/\u003e\\n, FILECHANGES FC &#8211; DERBY-PROPERTIES constraint=FILECHANGES_FILE_CHANGESET\u003cbr\\/\u003e\\n, AUTHORS A &#8211; DERBY-PROPERTIES constraint=AUTHORS_REPOSITORY_NAME\u003cbr\\/\u003e\\n, CHANGESETS CS &#8211; DERBY-PROPERTIES constraint=CHANGESETS_PRIMARY_ID \u003cbr\\/\u003e\\nWHERE\u003cbr\\/\u003e\\n    R.PATH = \'\\/var\\/tmp\\/source5923202038296723704opengrok\\/mercurial\' AND \u003cbr\\/\u003e\\n    F.REPOSITORY  = R.ID                                            AND \u003cbr\\/\u003e\\n    A.REPOSITORY  = R.ID                                            AND\u003cbr\\/\u003e\\n    CS.REPOSITORY = R.ID                                            AND \u003cbr\\/\u003e\\n    CS.ID         = FC.CHANGESET                                    AND \u003cbr\\/\u003e\\n    F.ID          = FC.FILE                                         AND\u003cbr\\/\u003e\\n    A.ID          = CS.AUTHOR                                       AND\u003cbr\\/\u003e\\n    EXISTS (\u003cbr\\/\u003e\\n        SELECT 1\u003cbr\\/\u003e\\n        FROM FILES F2\u003cbr\\/\u003e\\n        WHERE\u003cbr\\/\u003e\\n            F2.ID = FC.FILE AND F2.REPOSITORY = R.ID AND\u003cbr\\/\u003e\\n            F2.PATH LIKE \'\\/%\' ESCAPE \'#\')\u003cbr\\/\u003e\\nORDER BY CS.ID DESC;\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mamtas\\\" id=\\\"commentauthor_12738631_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mamtas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mamtas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mamta A. Satoor\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12738631_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Aug\\/09 22:03\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-03T22:03:04+0000\'\u003e03\\/Aug\\/09 22:03\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    The following updated query is still pretty involved but it consistently reproduces the wrong results and will go through very limited iteration of optimizer code because of all the optimizer overrides. Ideal will be if the following query can be made simpler with fewer number of tables. \\nSELECT CS.ID \\nFROM  --DERBY-PROPERTIES joinOrder=FIXED  \\n    REPOSITORIES R &#8211; DERBY-PROPERTIES constraint=REPOSITORIES_PATH  \\n, FILES F &#8211; DERBY-PROPERTIES constraint=FILES_REPOSITORY_PATH \\n, FILECHANGES FC &#8211; DERBY-PROPERTIES constraint=FILECHANGES_FILE_CHANGESET \\n, AUTHORS A &#8211; DERBY-PROPERTIES constraint=AUTHORS_REPOSITORY_NAME \\n, CHANGESETS CS &#8211; DERBY-PROPERTIES constraint=CHANGESETS_PRIMARY_ID  \\nWHERE \\n    R.PATH = \'\\/var\\/tmp\\/source5923202038296723704opengrok\\/mercurial\' AND  \\n    F.REPOSITORY  = R.ID                                            AND  \\n    A.REPOSITORY  = R.ID                                            AND \\n    CS.REPOSITORY = R.ID                                            AND  \\n    CS.ID         = FC.CHANGESET                                    AND  \\n    F.ID          = FC.FILE                                         AND \\n    A.ID          = CS.AUTHOR                                       AND \\n    EXISTS ( \\n        SELECT 1 \\n        FROM FILES F2 \\n        WHERE \\n            F2.ID = FC.FILE AND F2.REPOSITORY = R.ID AND \\n            F2.PATH LIKE \'\\/%\' ESCAPE \'#\') \\nORDER BY CS.ID DESC;              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12738633\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-4331?focusedCommentId=12738633&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12738633\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mikem\\\" id=\\\"commentauthor_12738633_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mikem\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mikem\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mike Matrigali\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12738633_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Aug\\/09 22:07\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-03T22:07:06+0000\'\u003e03\\/Aug\\/09 22:07\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003ei have been looking at the query plan and have more questions than answers.  \u003c\\/p\u003e\\n\\n\u003cp\u003eOne strange thing is that the bad query plan does not use the descending\u003cbr\\/\u003e\\nindex at all.  With \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-3926\\\" title=\\\"Incorrect ORDER BY caused by index\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-3926\\\"\u003e\u003cdel\u003eDERBY-3926\u003c\\/del\u003e\u003c\\/a\u003e the usual problem was that an index that\u003cbr\\/\u003e\\nwould naturally satisfy a sort avoidance plan was used but in some part of the \u003cbr\\/\u003e\\njoin order which actually didn\'t result in the row ordering being correct.  \u003c\\/p\u003e\\n\\n\u003cp\u003eThe plan looks like it does some sort of query transformation, maybe flatten but not sure if that is right term.  The EXISTS subquery I think is making it hard to \u003cbr\\/\u003e\\ncontrol the plan with hints, but am not sure.  If anyone can figure out a rewrite that reproduces the bug without the subquery that would help also.\u003c\\/p\u003e\\n\\n\u003cp\u003eI tried the following query thinking just the existence of the subquery might be\u003cbr\\/\u003e\\nenough, but it got correct ordered results:\u003cbr\\/\u003e\\nSELECT CS.ID\u003cbr\\/\u003e\\nFROM\u003cbr\\/\u003e\\n    CHANGESETS CS, FILECHANGES FC, REPOSITORIES R, FILES F, AUTHORS A\u003cbr\\/\u003e\\nWHERE\u003cbr\\/\u003e\\n    R.PATH = \'\\/var\\/tmp\\/source5923202038296723704opengrok\\/mercurial\' AND\u003cbr\\/\u003e\\n    F.REPOSITORY  = R.ID                                            AND\u003cbr\\/\u003e\\n    A.REPOSITORY  = R.ID                                            AND\u003cbr\\/\u003e\\n    CS.REPOSITORY = R.ID                                            AND\u003cbr\\/\u003e\\n    CS.ID         = FC.CHANGESET                                    AND\u003cbr\\/\u003e\\n    F.ID          = FC.FILE                                         AND\u003cbr\\/\u003e\\n    A.ID          = CS.AUTHOR                                       AND\u003cbr\\/\u003e\\n    EXISTS (\u003cbr\\/\u003e\\n        SELECT 1\u003cbr\\/\u003e\\n        FROM FILES F2\u003cbr\\/\u003e\\n        WHERE\u003cbr\\/\u003e\\n            F2.REPOSITORY = 1)\u003cbr\\/\u003e\\nORDER BY CS.ID DESC;\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mikem\\\" id=\\\"commentauthor_12738633_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mikem\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mikem\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mike Matrigali\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12738633_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Aug\\/09 22:07\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-03T22:07:06+0000\'\u003e03\\/Aug\\/09 22:07\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    i have been looking at the query plan and have more questions than answers.   \\n\\n One strange thing is that the bad query plan does not use the descending \\nindex at all.  With   DERBY-3926   the usual problem was that an index that \\nwould naturally satisfy a sort avoidance plan was used but in some part of the  \\njoin order which actually didn\'t result in the row ordering being correct.   \\n\\n The plan looks like it does some sort of query transformation, maybe flatten but not sure if that is right term.  The EXISTS subquery I think is making it hard to  \\ncontrol the plan with hints, but am not sure.  If anyone can figure out a rewrite that reproduces the bug without the subquery that would help also. \\n\\n I tried the following query thinking just the existence of the subquery might be \\nenough, but it got correct ordered results: \\nSELECT CS.ID \\nFROM \\n    CHANGESETS CS, FILECHANGES FC, REPOSITORIES R, FILES F, AUTHORS A \\nWHERE \\n    R.PATH = \'\\/var\\/tmp\\/source5923202038296723704opengrok\\/mercurial\' AND \\n    F.REPOSITORY  = R.ID                                            AND \\n    A.REPOSITORY  = R.ID                                            AND \\n    CS.REPOSITORY = R.ID                                            AND \\n    CS.ID         = FC.CHANGESET                                    AND \\n    F.ID          = FC.FILE                                         AND \\n    A.ID          = CS.AUTHOR                                       AND \\n    EXISTS ( \\n        SELECT 1 \\n        FROM FILES F2 \\n        WHERE \\n            F2.REPOSITORY = 1) \\nORDER BY CS.ID DESC;              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12738684\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-4331?focusedCommentId=12738684&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12738684\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mikem\\\" id=\\\"commentauthor_12738684_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mikem\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mikem\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mike Matrigali\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12738684_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Aug\\/09 23:38\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-03T23:38:58+0000\'\u003e03\\/Aug\\/09 23:38\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eHere is a fixed order join query that repro\'s on trunk but does not repro on 10.5 before the 3926\u003cbr\\/\u003e\\nchanges.  I  shuffled the order of the tables in the from list to match order in the attached \u003cbr\\/\u003e\\nplan where the bug reproduced - nothing else is changed.:\u003cbr\\/\u003e\\nSELECT CS.ID\u003cbr\\/\u003e\\nFROM  --DERBY-PROPERTIES joinOrder=FIXED\u003cbr\\/\u003e\\n    REPOSITORIES R, FILES F, FILECHANGES FC, AUTHORS A, CHANGESETS CS\u003cbr\\/\u003e\\nWHERE\u003cbr\\/\u003e\\n    R.PATH = \'\\/var\\/tmp\\/source5923202038296723704opengrok\\/mercurial\' AND\u003cbr\\/\u003e\\n    F.REPOSITORY  = R.ID                                            AND\u003cbr\\/\u003e\\n    A.REPOSITORY  = R.ID                                            AND\u003cbr\\/\u003e\\n    CS.REPOSITORY = R.ID                                            AND\u003cbr\\/\u003e\\n    CS.ID         = FC.CHANGESET                                    AND\u003cbr\\/\u003e\\n    F.ID          = FC.FILE                                         AND\u003cbr\\/\u003e\\n    A.ID          = CS.AUTHOR                                       AND\u003cbr\\/\u003e\\n    EXISTS (\u003cbr\\/\u003e\\n        SELECT 1\u003cbr\\/\u003e\\n        FROM FILES F2\u003cbr\\/\u003e\\n        WHERE\u003cbr\\/\u003e\\n            F2.ID = FC.FILE AND F2.REPOSITORY = R.ID AND\u003cbr\\/\u003e\\n            F2.PATH LIKE \'\\/%\' ESCAPE \'#\')\u003cbr\\/\u003e\\nORDER BY CS.ID DESC;\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mikem\\\" id=\\\"commentauthor_12738684_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mikem\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mikem\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mike Matrigali\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12738684_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Aug\\/09 23:38\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-03T23:38:58+0000\'\u003e03\\/Aug\\/09 23:38\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Here is a fixed order join query that repro\'s on trunk but does not repro on 10.5 before the 3926 \\nchanges.  I  shuffled the order of the tables in the from list to match order in the attached  \\nplan where the bug reproduced - nothing else is changed.: \\nSELECT CS.ID \\nFROM  --DERBY-PROPERTIES joinOrder=FIXED \\n    REPOSITORIES R, FILES F, FILECHANGES FC, AUTHORS A, CHANGESETS CS \\nWHERE \\n    R.PATH = \'\\/var\\/tmp\\/source5923202038296723704opengrok\\/mercurial\' AND \\n    F.REPOSITORY  = R.ID                                            AND \\n    A.REPOSITORY  = R.ID                                            AND \\n    CS.REPOSITORY = R.ID                                            AND \\n    CS.ID         = FC.CHANGESET                                    AND \\n    F.ID          = FC.FILE                                         AND \\n    A.ID          = CS.AUTHOR                                       AND \\n    EXISTS ( \\n        SELECT 1 \\n        FROM FILES F2 \\n        WHERE \\n            F2.ID = FC.FILE AND F2.REPOSITORY = R.ID AND \\n            F2.PATH LIKE \'\\/%\' ESCAPE \'#\') \\nORDER BY CS.ID DESC;              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12738690\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-4331?focusedCommentId=12738690&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12738690\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mikem\\\" id=\\\"commentauthor_12738690_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mikem\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mikem\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mike Matrigali\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12738690_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Aug\\/09 00:00\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-04T00:00:05+0000\'\u003e04\\/Aug\\/09 00:00\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThis query also gets out of order rows in trunk but not in 10.5 before 3629 change.  It fixes the indexes used also:\u003cbr\\/\u003e\\nSELECT CS.ID\u003cbr\\/\u003e\\nFROM  --DERBY-PROPERTIES joinOrder=FIXED\u003cbr\\/\u003e\\n      REPOSITORIES R  --DERBY-PROPERTIES constraint=REPOSITORIES_PATH\u003cbr\\/\u003e\\n    , FILES        F  --DERBY-PROPERTIES constraint=FILES_REPOSITORY_PATH\u003cbr\\/\u003e\\n    , FILECHANGES  FC --DERBY-PROPERTIES constraint=FILECHANGES_FILE_CHANGESET\u003cbr\\/\u003e\\n    , AUTHORS      A  --DERBY-PROPERTIES constraint=AUTHORS_REPOSITORY_NAME\u003cbr\\/\u003e\\n    , CHANGESETS   CS --DERBY-PROPERTIES constraint=CHANGESETS_PRIMARY_ID\u003cbr\\/\u003e\\nWHERE\u003cbr\\/\u003e\\n    R.PATH = \'\\/var\\/tmp\\/source5923202038296723704opengrok\\/mercurial\' AND\u003cbr\\/\u003e\\n    F.REPOSITORY  = R.ID                                            AND\u003cbr\\/\u003e\\n    A.REPOSITORY  = R.ID                                            AND\u003cbr\\/\u003e\\n    CS.REPOSITORY = R.ID                                            AND\u003cbr\\/\u003e\\n    CS.ID         = FC.CHANGESET                                    AND\u003cbr\\/\u003e\\n    F.ID          = FC.FILE                                         AND\u003cbr\\/\u003e\\n    A.ID          = CS.AUTHOR                                       AND\u003cbr\\/\u003e\\n    EXISTS (\u003cbr\\/\u003e\\n        SELECT 1\u003cbr\\/\u003e\\n        FROM FILES F2 --DERBY-PROPERTIES constraint=FILES_REPOSITORY_PATH\u003cbr\\/\u003e\\n        WHERE\u003cbr\\/\u003e\\n            F2.ID = FC.FILE AND F2.REPOSITORY = R.ID AND\u003cbr\\/\u003e\\n            F2.PATH LIKE \'\\/%\' ESCAPE \'#\')\u003cbr\\/\u003e\\nORDER BY CS.ID DESC;\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mikem\\\" id=\\\"commentauthor_12738690_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mikem\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mikem\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mike Matrigali\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12738690_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Aug\\/09 00:00\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-04T00:00:05+0000\'\u003e04\\/Aug\\/09 00:00\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    This query also gets out of order rows in trunk but not in 10.5 before 3629 change.  It fixes the indexes used also: \\nSELECT CS.ID \\nFROM  --DERBY-PROPERTIES joinOrder=FIXED \\n      REPOSITORIES R  --DERBY-PROPERTIES constraint=REPOSITORIES_PATH \\n    , FILES        F  --DERBY-PROPERTIES constraint=FILES_REPOSITORY_PATH \\n    , FILECHANGES  FC --DERBY-PROPERTIES constraint=FILECHANGES_FILE_CHANGESET \\n    , AUTHORS      A  --DERBY-PROPERTIES constraint=AUTHORS_REPOSITORY_NAME \\n    , CHANGESETS   CS --DERBY-PROPERTIES constraint=CHANGESETS_PRIMARY_ID \\nWHERE \\n    R.PATH = \'\\/var\\/tmp\\/source5923202038296723704opengrok\\/mercurial\' AND \\n    F.REPOSITORY  = R.ID                                            AND \\n    A.REPOSITORY  = R.ID                                            AND \\n    CS.REPOSITORY = R.ID                                            AND \\n    CS.ID         = FC.CHANGESET                                    AND \\n    F.ID          = FC.FILE                                         AND \\n    A.ID          = CS.AUTHOR                                       AND \\n    EXISTS ( \\n        SELECT 1 \\n        FROM FILES F2 --DERBY-PROPERTIES constraint=FILES_REPOSITORY_PATH \\n        WHERE \\n            F2.ID = FC.FILE AND F2.REPOSITORY = R.ID AND \\n            F2.PATH LIKE \'\\/%\' ESCAPE \'#\') \\nORDER BY CS.ID DESC;              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12738717\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-4331?focusedCommentId=12738717&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12738717\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"lilywei\\\" id=\\\"commentauthor_12738717_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=lilywei\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"lilywei\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Lily Wei\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12738717_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Aug\\/09 00:56\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-04T00:56:40+0000\'\u003e04\\/Aug\\/09 00:56\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThis query is just an existence of a easier subquery that failed on trunk but gives correct order on svn 783167:\u003cbr\\/\u003e\\nij&gt; SELECT CS.ID\u003cbr\\/\u003e\\nFROM --DERBY-PROPERTIES joinOrder=FIXED\u003cbr\\/\u003e\\n      REPOSITORIES R --DERBY-PROPERTIES constraint=REPOSITORIES_PATH\u003cbr\\/\u003e\\n     , FILES F --DERBY-PROPERTIES constraint=FILES_REPOSITORY_PATH\u003cbr\\/\u003e\\n     , FILECHANGES FC --DERBY-PROPERTIES constraint=FILECHANGES_FILE_CHANGESET\u003cbr\\/\u003e\\n     , AUTHORS A --DERBY-PROPERTIES constraint=AUTHORS_REPOSITORY_NAME\u003cbr\\/\u003e\\n     , CHANGESETS CS --DERBY-PROPERTIES constraint=CHANGESETS_PRIMARY_ID\u003cbr\\/\u003e\\nWHERE\u003cbr\\/\u003e\\n R.PATH = \'\\/var\\/tmp\\/source5923202038296723704opengrok\\/mercurial\' AND\u003cbr\\/\u003e\\n F.REPOSITORY = R.ID AND\u003cbr\\/\u003e\\n A.REPOSITORY = R.ID AND\u003cbr\\/\u003e\\n CS.REPOSITORY = R.ID AND\u003cbr\\/\u003e\\n CS.ID = FC.CHANGESET AND\u003cbr\\/\u003e\\n F.ID = FC.FILE AND\u003cbr\\/\u003e\\n A.ID = CS.AUTHOR AND\u003cbr\\/\u003e\\n EXISTS (\u003cbr\\/\u003e\\n   SELECT 1\u003cbr\\/\u003e\\n    FROM FILES F2 --DERBY-PROPERTIES constraint=FILES_REPOSITORY_PATH\u003cbr\\/\u003e\\n    WHERE\u003cbr\\/\u003e\\n           F2.ID = FC.FILE\u003cbr\\/\u003e\\n           )\u003cbr\\/\u003e\\n ORDER BY CS.ID DESC;\u003cbr\\/\u003e\\nID\u003cbr\\/\u003e\\n-----------\u003cbr\\/\u003e\\n1\u003cbr\\/\u003e\\n2\u003cbr\\/\u003e\\n3\u003cbr\\/\u003e\\n2\u003cbr\\/\u003e\\n2\u003cbr\\/\u003e\\n3\u003c\\/p\u003e\\n\\n\u003cp\u003e6 rows selected\u003c\\/p\u003e\\n\\n\u003cp\u003eThanks, Lily\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"lilywei\\\" id=\\\"commentauthor_12738717_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=lilywei\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"lilywei\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Lily Wei\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12738717_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Aug\\/09 00:56\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-04T00:56:40+0000\'\u003e04\\/Aug\\/09 00:56\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    This query is just an existence of a easier subquery that failed on trunk but gives correct order on svn 783167: \\nij&gt; SELECT CS.ID \\nFROM --DERBY-PROPERTIES joinOrder=FIXED \\n      REPOSITORIES R --DERBY-PROPERTIES constraint=REPOSITORIES_PATH \\n     , FILES F --DERBY-PROPERTIES constraint=FILES_REPOSITORY_PATH \\n     , FILECHANGES FC --DERBY-PROPERTIES constraint=FILECHANGES_FILE_CHANGESET \\n     , AUTHORS A --DERBY-PROPERTIES constraint=AUTHORS_REPOSITORY_NAME \\n     , CHANGESETS CS --DERBY-PROPERTIES constraint=CHANGESETS_PRIMARY_ID \\nWHERE \\n R.PATH = \'\\/var\\/tmp\\/source5923202038296723704opengrok\\/mercurial\' AND \\n F.REPOSITORY = R.ID AND \\n A.REPOSITORY = R.ID AND \\n CS.REPOSITORY = R.ID AND \\n CS.ID = FC.CHANGESET AND \\n F.ID = FC.FILE AND \\n A.ID = CS.AUTHOR AND \\n EXISTS ( \\n   SELECT 1 \\n    FROM FILES F2 --DERBY-PROPERTIES constraint=FILES_REPOSITORY_PATH \\n    WHERE \\n           F2.ID = FC.FILE \\n           ) \\n ORDER BY CS.ID DESC; \\nID \\n----------- \\n1 \\n2 \\n3 \\n2 \\n2 \\n3 \\n\\n 6 rows selected \\n\\n Thanks, Lily              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12738785\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-4331?focusedCommentId=12738785&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12738785\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"lilywei\\\" id=\\\"commentauthor_12738785_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=lilywei\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"lilywei\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Lily Wei\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12738785_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Aug\\/09 03:19\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-04T03:19:38+0000\'\u003e04\\/Aug\\/09 03:19\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eTaking out Author table from previous query still not ordering in trunk but works 10.5 (783167)\u003cbr\\/\u003e\\nij&gt; SELECT CS.ID\u003cbr\\/\u003e\\nFROM --DERBY-PROPERTIES joinOrder=FIXED\u003cbr\\/\u003e\\n      REPOSITORIES R --DERBY-PROPERTIES constraint=REPOSITORIES_PATH\u003cbr\\/\u003e\\n     , FILES F --DERBY-PROPERTIES constraint=FILES_REPOSITORY_PATH\u003cbr\\/\u003e\\n     , FILECHANGES FC --DERBY-PROPERTIES constraint=FILECHANGES_FILE_CHANGESET\u003cbr\\/\u003e\\n     , CHANGESETS CS --DERBY-PROPERTIES constraint=CHANGESETS_PRIMARY_ID\u003cbr\\/\u003e\\nWHERE\u003cbr\\/\u003e\\n R.PATH = \'\\/var\\/tmp\\/source5923202038296723704opengrok\\/mercurial\' AND\u003cbr\\/\u003e\\n F.REPOSITORY = R.ID AND\u003cbr\\/\u003e\\n CS.REPOSITORY = R.ID AND\u003cbr\\/\u003e\\n CS.ID = FC.CHANGESET AND\u003cbr\\/\u003e\\n F.ID = FC.FILE AND\u003cbr\\/\u003e\\n EXISTS (\u003cbr\\/\u003e\\n   SELECT 1\u003cbr\\/\u003e\\n    FROM FILES F2 --DERBY-PROPERTIES constraint=FILES_REPOSITORY_PATH\u003cbr\\/\u003e\\n    WHERE\u003cbr\\/\u003e\\n           F2.ID = FC.FILE)\u003cbr\\/\u003e\\n ORDER BY CS.ID DESC;\u003cbr\\/\u003e\\nID\u003cbr\\/\u003e\\n-----------\u003cbr\\/\u003e\\n1\u003cbr\\/\u003e\\n2\u003cbr\\/\u003e\\n3\u003cbr\\/\u003e\\n2\u003cbr\\/\u003e\\n2\u003cbr\\/\u003e\\n3\u003c\\/p\u003e\\n\\n\u003cp\u003eIf take out of \'CS.ID = FC.CHANGESET\' from where cause constraint, the query will perform order by on both trunk and 10.5(783167)\u003cbr\\/\u003e\\nij&gt; SELECT CS.ID\u003cbr\\/\u003e\\nFROM --DERBY-PROPERTIES joinOrder=FIXED\u003cbr\\/\u003e\\n      REPOSITORIES R --DERBY-PROPERTIES constraint=REPOSITORIES_PATH\u003cbr\\/\u003e\\n     , FILES F --DERBY-PROPERTIES constraint=FILES_REPOSITORY_PATH\u003cbr\\/\u003e\\n     , FILECHANGES FC --DERBY-PROPERTIES constraint=FILECHANGES_FILE_CHANGESET\u003cbr\\/\u003e\\n     , CHANGESETS CS --DERBY-PROPERTIES constraint=CHANGESETS_PRIMARY_ID\u003cbr\\/\u003e\\nWHERE\u003cbr\\/\u003e\\n R.PATH = \'\\/var\\/tmp\\/source5923202038296723704opengrok\\/mercurial\' AND\u003cbr\\/\u003e\\n F.REPOSITORY = R.ID AND\u003cbr\\/\u003e\\n CS.REPOSITORY = R.ID AND\u003cbr\\/\u003e\\n F.ID = FC.FILE AND\u003cbr\\/\u003e\\n EXISTS (\u003cbr\\/\u003e\\n   SELECT 1\u003cbr\\/\u003e\\n    FROM FILES F2 --DERBY-PROPERTIES constraint=FILES_REPOSITORY_PATH\u003cbr\\/\u003e\\n    WHERE\u003cbr\\/\u003e\\n           F2.ID = FC.FILE)\u003cbr\\/\u003e\\n ORDER BY CS.ID DESC;\u003cbr\\/\u003e\\nID\u003cbr\\/\u003e\\n-----------\u003cbr\\/\u003e\\n3\u003cbr\\/\u003e\\n3\u003cbr\\/\u003e\\n3\u003cbr\\/\u003e\\n3\u003cbr\\/\u003e\\n3\u003cbr\\/\u003e\\n3\u003cbr\\/\u003e\\n2\u003cbr\\/\u003e\\n2\u003cbr\\/\u003e\\n2\u003cbr\\/\u003e\\n2\u003cbr\\/\u003e\\n2\u003cbr\\/\u003e\\n2\u003cbr\\/\u003e\\n1\u003cbr\\/\u003e\\n1\u003cbr\\/\u003e\\n1\u003cbr\\/\u003e\\n1\u003cbr\\/\u003e\\n1\u003cbr\\/\u003e\\n1\u003c\\/p\u003e\\n\\n\u003cp\u003e18 rows selected\u003c\\/p\u003e\\n\\n\u003cp\u003eI cannot really tell what is the difference between the two path. However, the value -1 for Tree height on the first query seems odd to me. \u003cbr\\/\u003e\\nThe derby.log for the first query is on notorderby4331.zip and the second query is on orderby4331.zip.\u003cbr\\/\u003e\\n(The below capture from derby.log on notorderby4331.zip)\u003cbr\\/\u003e\\n                                                User supplied optimizer overrides on REPOSITORIES are \u003c\\/p\u003e\\n{ index=SQL090803170751640 }\u003cbr\\/\u003e\\n                                                Index Scan ResultSet for REPOSITORIES using constraint REPOSITORIES_PATH at read committed isolation level using share row locking chosen by the optimizer\u003cbr\\/\u003e\\n                                                Number of opens = 1\u003cbr\\/\u003e\\n                                                Rows seen = 1\u003cbr\\/\u003e\\n                                                Rows filtered = 0\u003cbr\\/\u003e\\n                                                Fetch Size = 1\u003cbr\\/\u003e\\n                                                        constructor time (milliseconds) = 0\u003cbr\\/\u003e\\n                                                        open time (milliseconds) = 0\u003cbr\\/\u003e\\n                                                        next time (milliseconds) = 0\u003cbr\\/\u003e\\n                                                        close time (milliseconds) = 0\u003cbr\\/\u003e\\n                                                        next time in milliseconds\\/row = 0\u003cbr\\/\u003e\\n\u003cbr\\/\u003e\\n                                                scan information:\u003cbr\\/\u003e\\n                                                        Bit set of columns fetched=All\u003cbr\\/\u003e\\n                                                        Number of columns fetched=2\u003cbr\\/\u003e\\n                                                        Number of deleted rows visited=0\u003cbr\\/\u003e\\n                                                        Number of pages visited=1\u003cbr\\/\u003e\\n                                                        Number of rows qualified=1\u003cbr\\/\u003e\\n                                                        Number of rows visited=1\u003cbr\\/\u003e\\n                                                        Scan type=btree\u003cbr\\/\u003e\\n                                                        Tree height=-1               &lt;&lt;&lt;==== -1 is an odd value\u003cbr\\/\u003e\\n                                                        start position:\u003cbr\\/\u003e\\n        &gt;= on first 1 column(s).\u003cbr\\/\u003e\\n\u003cbr\\/\u003e\\n(The below capture from derby.log on orderby4331.zip)\u003cbr\\/\u003e\\n                                                        User supplied optimizer overrides on REPOSITORIES are { index=SQL090803170751640 }\\n\u003cp\u003e                                                        Index Scan ResultSet for REPOSITORIES using constraint REPOSITORIES_PATH at read committed isolation level using share row locking chosen by the optimizer\u003cbr\\/\u003e\\n                                                        Number of opens = 1\u003cbr\\/\u003e\\n                                                        Rows seen = 1\u003cbr\\/\u003e\\n                                                        Rows filtered = 0\u003cbr\\/\u003e\\n                                                        Fetch Size = 1\u003cbr\\/\u003e\\n                                                                constructor time (milliseconds) = 0\u003cbr\\/\u003e\\n                                                                open time (milliseconds) = 0\u003cbr\\/\u003e\\n                                                                next time (milliseconds) = 0\u003cbr\\/\u003e\\n                                                                close time (milliseconds) = 0\u003cbr\\/\u003e\\n                                                                next time in milliseconds\\/row = 0\u003c\\/p\u003e\\n\\n\u003cp\u003e                                                        scan information:\u003cbr\\/\u003e\\n                                                                Bit set of columns fetched=All\u003cbr\\/\u003e\\n                                                                Number of columns fetched=2\u003cbr\\/\u003e\\n                                                                Number of deleted rows visited=0\u003cbr\\/\u003e\\n                                                                Number of pages visited=1\u003cbr\\/\u003e\\n                                                                Number of rows qualified=1\u003cbr\\/\u003e\\n                                                                Number of rows visited=1\u003cbr\\/\u003e\\n                                                                Scan type=btree\u003cbr\\/\u003e\\n                                                                Tree height=1   &lt;&lt;&lt;==== not -1 value\u003cbr\\/\u003e\\n                                                                start position:\u003cbr\\/\u003e\\n        &gt;= on first 1 column(s).\u003c\\/p\u003e\\n\\n\u003cp\u003eHope this info is helpful. Thanks, Lily\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"lilywei\\\" id=\\\"commentauthor_12738785_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=lilywei\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"lilywei\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Lily Wei\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12738785_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Aug\\/09 03:19\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-04T03:19:38+0000\'\u003e04\\/Aug\\/09 03:19\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Taking out Author table from previous query still not ordering in trunk but works 10.5 (783167) \\nij&gt; SELECT CS.ID \\nFROM --DERBY-PROPERTIES joinOrder=FIXED \\n      REPOSITORIES R --DERBY-PROPERTIES constraint=REPOSITORIES_PATH \\n     , FILES F --DERBY-PROPERTIES constraint=FILES_REPOSITORY_PATH \\n     , FILECHANGES FC --DERBY-PROPERTIES constraint=FILECHANGES_FILE_CHANGESET \\n     , CHANGESETS CS --DERBY-PROPERTIES constraint=CHANGESETS_PRIMARY_ID \\nWHERE \\n R.PATH = \'\\/var\\/tmp\\/source5923202038296723704opengrok\\/mercurial\' AND \\n F.REPOSITORY = R.ID AND \\n CS.REPOSITORY = R.ID AND \\n CS.ID = FC.CHANGESET AND \\n F.ID = FC.FILE AND \\n EXISTS ( \\n   SELECT 1 \\n    FROM FILES F2 --DERBY-PROPERTIES constraint=FILES_REPOSITORY_PATH \\n    WHERE \\n           F2.ID = FC.FILE) \\n ORDER BY CS.ID DESC; \\nID \\n----------- \\n1 \\n2 \\n3 \\n2 \\n2 \\n3 \\n\\n If take out of \'CS.ID = FC.CHANGESET\' from where cause constraint, the query will perform order by on both trunk and 10.5(783167) \\nij&gt; SELECT CS.ID \\nFROM --DERBY-PROPERTIES joinOrder=FIXED \\n      REPOSITORIES R --DERBY-PROPERTIES constraint=REPOSITORIES_PATH \\n     , FILES F --DERBY-PROPERTIES constraint=FILES_REPOSITORY_PATH \\n     , FILECHANGES FC --DERBY-PROPERTIES constraint=FILECHANGES_FILE_CHANGESET \\n     , CHANGESETS CS --DERBY-PROPERTIES constraint=CHANGESETS_PRIMARY_ID \\nWHERE \\n R.PATH = \'\\/var\\/tmp\\/source5923202038296723704opengrok\\/mercurial\' AND \\n F.REPOSITORY = R.ID AND \\n CS.REPOSITORY = R.ID AND \\n F.ID = FC.FILE AND \\n EXISTS ( \\n   SELECT 1 \\n    FROM FILES F2 --DERBY-PROPERTIES constraint=FILES_REPOSITORY_PATH \\n    WHERE \\n           F2.ID = FC.FILE) \\n ORDER BY CS.ID DESC; \\nID \\n----------- \\n3 \\n3 \\n3 \\n3 \\n3 \\n3 \\n2 \\n2 \\n2 \\n2 \\n2 \\n2 \\n1 \\n1 \\n1 \\n1 \\n1 \\n1 \\n\\n 18 rows selected \\n\\n I cannot really tell what is the difference between the two path. However, the value -1 for Tree height on the first query seems odd to me.  \\nThe derby.log for the first query is on notorderby4331.zip and the second query is on orderby4331.zip. \\n(The below capture from derby.log on notorderby4331.zip) \\n                                                User supplied optimizer overrides on REPOSITORIES are  \\n{ index=SQL090803170751640 } \\n                                                Index Scan ResultSet for REPOSITORIES using constraint REPOSITORIES_PATH at read committed isolation level using share row locking chosen by the optimizer \\n                                                Number of opens = 1 \\n                                                Rows seen = 1 \\n                                                Rows filtered = 0 \\n                                                Fetch Size = 1 \\n                                                        constructor time (milliseconds) = 0 \\n                                                        open time (milliseconds) = 0 \\n                                                        next time (milliseconds) = 0 \\n                                                        close time (milliseconds) = 0 \\n                                                        next time in milliseconds\\/row = 0 \\n \\n                                                scan information: \\n                                                        Bit set of columns fetched=All \\n                                                        Number of columns fetched=2 \\n                                                        Number of deleted rows visited=0 \\n                                                        Number of pages visited=1 \\n                                                        Number of rows qualified=1 \\n                                                        Number of rows visited=1 \\n                                                        Scan type=btree \\n                                                        Tree height=-1               &lt;&lt;&lt;==== -1 is an odd value \\n                                                        start position: \\n        &gt;= on first 1 column(s). \\n \\n(The below capture from derby.log on orderby4331.zip) \\n                                                        User supplied optimizer overrides on REPOSITORIES are { index=SQL090803170751640 }\\n                                                         Index Scan ResultSet for REPOSITORIES using constraint REPOSITORIES_PATH at read committed isolation level using share row locking chosen by the optimizer \\n                                                        Number of opens = 1 \\n                                                        Rows seen = 1 \\n                                                        Rows filtered = 0 \\n                                                        Fetch Size = 1 \\n                                                                constructor time (milliseconds) = 0 \\n                                                                open time (milliseconds) = 0 \\n                                                                next time (milliseconds) = 0 \\n                                                                close time (milliseconds) = 0 \\n                                                                next time in milliseconds\\/row = 0 \\n\\n                                                         scan information: \\n                                                                Bit set of columns fetched=All \\n                                                                Number of columns fetched=2 \\n                                                                Number of deleted rows visited=0 \\n                                                                Number of pages visited=1 \\n                                                                Number of rows qualified=1 \\n                                                                Number of rows visited=1 \\n                                                                Scan type=btree \\n                                                                Tree height=1   &lt;&lt;&lt;==== not -1 value \\n                                                                start position: \\n        &gt;= on first 1 column(s). \\n\\n Hope this info is helpful. Thanks, Lily              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12738814\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-4331?focusedCommentId=12738814&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12738814\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mamtas\\\" id=\\\"commentauthor_12738814_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mamtas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mamtas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mamta A. Satoor\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12738814_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Aug\\/09 04:35\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-04T04:35:03+0000\'\u003e04\\/Aug\\/09 04:35\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThe following query also seems to give wrong results on 10.5 codeline. It has tables REPOSITORIES and AUTHORS missing compared to the original query. I will try it without the changes for \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-3926\\\" title=\\\"Incorrect ORDER BY caused by index\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-3926\\\"\u003e\u003cdel\u003eDERBY-3926\u003c\\/del\u003e\u003c\\/a\u003e to see if it passes there.\u003c\\/p\u003e\\n\\n\u003cp\u003eSELECT CS.ID\u003cbr\\/\u003e\\nFROM --DERBY-PROPERTIES joinOrder=FIXED\u003cbr\\/\u003e\\n    FILES F --DERBY-PROPERTIES constraint=FILES_REPOSITORY_PATH\u003cbr\\/\u003e\\n    , FILECHANGES FC --DERBY-PROPERTIES constraint=FILECHANGES_FILE_CHANGESET\u003cbr\\/\u003e\\n    , CHANGESETS CS --DERBY-PROPERTIES constraint=CHANGESETS_PRIMARY_ID\u003cbr\\/\u003e\\nWHERE\u003cbr\\/\u003e\\n CS.ID = FC.CHANGESET AND\u003cbr\\/\u003e\\n F.ID = FC.FILE AND\u003cbr\\/\u003e\\n EXISTS (\u003cbr\\/\u003e\\n  SELECT 1\u003cbr\\/\u003e\\n   FROM FILES F2 --DERBY-PROPERTIES constraint=FILES_REPOSITORY_PATH\u003cbr\\/\u003e\\n   WHERE\u003cbr\\/\u003e\\n          F2.ID = FC.FILE)\u003cbr\\/\u003e\\n ORDER BY CS.ID DESC;\u003cbr\\/\u003e\\nID\u003cbr\\/\u003e\\n-----------\u003cbr\\/\u003e\\n1\u003cbr\\/\u003e\\n2\u003cbr\\/\u003e\\n3\u003cbr\\/\u003e\\n2\u003cbr\\/\u003e\\n2\u003cbr\\/\u003e\\n3\u003c\\/p\u003e\\n\\n\u003cp\u003e6 rows selected\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mamtas\\\" id=\\\"commentauthor_12738814_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mamtas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mamtas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mamta A. Satoor\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12738814_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Aug\\/09 04:35\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-04T04:35:03+0000\'\u003e04\\/Aug\\/09 04:35\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    The following query also seems to give wrong results on 10.5 codeline. It has tables REPOSITORIES and AUTHORS missing compared to the original query. I will try it without the changes for   DERBY-3926   to see if it passes there. \\n\\n SELECT CS.ID \\nFROM --DERBY-PROPERTIES joinOrder=FIXED \\n    FILES F --DERBY-PROPERTIES constraint=FILES_REPOSITORY_PATH \\n    , FILECHANGES FC --DERBY-PROPERTIES constraint=FILECHANGES_FILE_CHANGESET \\n    , CHANGESETS CS --DERBY-PROPERTIES constraint=CHANGESETS_PRIMARY_ID \\nWHERE \\n CS.ID = FC.CHANGESET AND \\n F.ID = FC.FILE AND \\n EXISTS ( \\n  SELECT 1 \\n   FROM FILES F2 --DERBY-PROPERTIES constraint=FILES_REPOSITORY_PATH \\n   WHERE \\n          F2.ID = FC.FILE) \\n ORDER BY CS.ID DESC; \\nID \\n----------- \\n1 \\n2 \\n3 \\n2 \\n2 \\n3 \\n\\n 6 rows selected              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12738826\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-4331?focusedCommentId=12738826&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12738826\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mamtas\\\" id=\\\"commentauthor_12738826_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mamtas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mamtas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mamta A. Satoor\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12738826_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Aug\\/09 05:11\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-04T05:11:51+0000\'\u003e04\\/Aug\\/09 05:11\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThe above query works fine prior to \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-3926\\\" title=\\\"Incorrect ORDER BY caused by index\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-3926\\\"\u003e\u003cdel\u003eDERBY-3926\u003c\\/del\u003e\u003c\\/a\u003e change but fails with \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-3926\\\" title=\\\"Incorrect ORDER BY caused by index\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-3926\\\"\u003e\u003cdel\u003eDERBY-3926\u003c\\/del\u003e\u003c\\/a\u003e in the codeline. The results of the query above prior to \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-3926\\\" title=\\\"Incorrect ORDER BY caused by index\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-3926\\\"\u003e\u003cdel\u003eDERBY-3926\u003c\\/del\u003e\u003c\\/a\u003e changes are as follows\u003cbr\\/\u003e\\nID\u003cbr\\/\u003e\\n-----------\u003cbr\\/\u003e\\n3\u003cbr\\/\u003e\\n3\u003cbr\\/\u003e\\n2\u003cbr\\/\u003e\\n2\u003cbr\\/\u003e\\n2\u003cbr\\/\u003e\\n1\u003c\\/p\u003e\\n\\n\u003cp\u003e6 rows selected\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mamtas\\\" id=\\\"commentauthor_12738826_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mamtas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mamtas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mamta A. Satoor\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12738826_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Aug\\/09 05:11\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-04T05:11:51+0000\'\u003e04\\/Aug\\/09 05:11\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    The above query works fine prior to   DERBY-3926   change but fails with   DERBY-3926   in the codeline. The results of the query above prior to   DERBY-3926   changes are as follows \\nID \\n----------- \\n3 \\n3 \\n2 \\n2 \\n2 \\n1 \\n\\n 6 rows selected              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12738839\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-4331?focusedCommentId=12738839&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12738839\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mamtas\\\" id=\\\"commentauthor_12738839_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mamtas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mamtas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mamta A. Satoor\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12738839_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Aug\\/09 05:36\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-04T05:36:27+0000\'\u003e04\\/Aug\\/09 05:36\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eAttaching a new simpler script, createDBsimpler.txt,  to create the db which will have only the tables used by the query below\u003c\\/p\u003e\\n\\n\u003cp\u003eSELECT CS.ID \u003cbr\\/\u003e\\nFROM --DERBY-PROPERTIES joinOrder=FIXED \u003cbr\\/\u003e\\n    FILES F --DERBY-PROPERTIES constraint=FILES_REPOSITORY_PATH \u003cbr\\/\u003e\\n    , FILECHANGES FC --DERBY-PROPERTIES constraint=FILECHANGES_FILE_CHANGESET \u003cbr\\/\u003e\\n    , CHANGESETS CS --DERBY-PROPERTIES constraint=CHANGESETS_PRIMARY_ID \u003cbr\\/\u003e\\nWHERE \u003cbr\\/\u003e\\n CS.ID = FC.CHANGESET AND \u003cbr\\/\u003e\\n F.ID = FC.FILE AND \u003cbr\\/\u003e\\n EXISTS ( \u003cbr\\/\u003e\\n  SELECT 1 \u003cbr\\/\u003e\\n   FROM FILES F2 --DERBY-PROPERTIES constraint=FILES_REPOSITORY_PATH \u003cbr\\/\u003e\\n   WHERE \u003cbr\\/\u003e\\n          F2.ID = FC.FILE) \u003cbr\\/\u003e\\n ORDER BY CS.ID DESC; \u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mamtas\\\" id=\\\"commentauthor_12738839_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mamtas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mamtas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mamta A. Satoor\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12738839_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Aug\\/09 05:36\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-04T05:36:27+0000\'\u003e04\\/Aug\\/09 05:36\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Attaching a new simpler script, createDBsimpler.txt,  to create the db which will have only the tables used by the query below \\n\\n SELECT CS.ID  \\nFROM --DERBY-PROPERTIES joinOrder=FIXED  \\n    FILES F --DERBY-PROPERTIES constraint=FILES_REPOSITORY_PATH  \\n    , FILECHANGES FC --DERBY-PROPERTIES constraint=FILECHANGES_FILE_CHANGESET  \\n    , CHANGESETS CS --DERBY-PROPERTIES constraint=CHANGESETS_PRIMARY_ID  \\nWHERE  \\n CS.ID = FC.CHANGESET AND  \\n F.ID = FC.FILE AND  \\n EXISTS (  \\n  SELECT 1  \\n   FROM FILES F2 --DERBY-PROPERTIES constraint=FILES_REPOSITORY_PATH  \\n   WHERE  \\n          F2.ID = FC.FILE)  \\n ORDER BY CS.ID DESC;               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12738848\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-4331?focusedCommentId=12738848&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12738848\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mamtas\\\" id=\\\"commentauthor_12738848_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mamtas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mamtas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mamta A. Satoor\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12738848_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Aug\\/09 06:04\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-04T06:04:03+0000\'\u003e04\\/Aug\\/09 06:04\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI have simplified the db creation just a little bit more removing the unnecessary columns from the tables. The new create db script is createDBsimplerVer2.txt and the query that goes along with that db is\u003c\\/p\u003e\\n\\n\u003cp\u003eSELECT CS.ID\u003cbr\\/\u003e\\nFROM --DERBY-PROPERTIES joinOrder=FIXED\u003cbr\\/\u003e\\n    FILES F --DERBY-PROPERTIES constraint=FILES_REPOSITORY_PATH\u003cbr\\/\u003e\\n    , FILECHANGES FC --DERBY-PROPERTIES constraint=FILECHANGES_FILE_CHANGESET\u003cbr\\/\u003e\\n    , CHANGESETS CS --DERBY-PROPERTIES constraint=CHANGESETS_PRIMARY_ID\u003cbr\\/\u003e\\nWHERE\u003cbr\\/\u003e\\n CS.ID = FC.CHANGESET AND\u003cbr\\/\u003e\\n F.ID = FC.FILE AND\u003cbr\\/\u003e\\n EXISTS (\u003cbr\\/\u003e\\n  SELECT 1\u003cbr\\/\u003e\\n   FROM FILES F2 --DERBY-PROPERTIES constraint=FILES_REPOSITORY_PATH\u003cbr\\/\u003e\\n   WHERE\u003cbr\\/\u003e\\n          F2.ID = FC.FILE)\u003cbr\\/\u003e\\n ORDER BY CS.ID DESC;\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mamtas\\\" id=\\\"commentauthor_12738848_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mamtas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mamtas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mamta A. Satoor\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12738848_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Aug\\/09 06:04\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-04T06:04:03+0000\'\u003e04\\/Aug\\/09 06:04\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I have simplified the db creation just a little bit more removing the unnecessary columns from the tables. The new create db script is createDBsimplerVer2.txt and the query that goes along with that db is \\n\\n SELECT CS.ID \\nFROM --DERBY-PROPERTIES joinOrder=FIXED \\n    FILES F --DERBY-PROPERTIES constraint=FILES_REPOSITORY_PATH \\n    , FILECHANGES FC --DERBY-PROPERTIES constraint=FILECHANGES_FILE_CHANGESET \\n    , CHANGESETS CS --DERBY-PROPERTIES constraint=CHANGESETS_PRIMARY_ID \\nWHERE \\n CS.ID = FC.CHANGESET AND \\n F.ID = FC.FILE AND \\n EXISTS ( \\n  SELECT 1 \\n   FROM FILES F2 --DERBY-PROPERTIES constraint=FILES_REPOSITORY_PATH \\n   WHERE \\n          F2.ID = FC.FILE) \\n ORDER BY CS.ID DESC;              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12738862\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-4331?focusedCommentId=12738862&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12738862\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mamtas\\\" id=\\\"commentauthor_12738862_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mamtas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mamtas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mamta A. Satoor\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12738862_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Aug\\/09 06:37\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-04T06:37:59+0000\'\u003e04\\/Aug\\/09 06:37\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThe query plan for the query below is as follows\u003cbr\\/\u003e\\nSELECT CS.ID \u003cbr\\/\u003e\\nFROM --DERBY-PROPERTIES joinOrder=FIXED \u003cbr\\/\u003e\\n    FILES F --DERBY-PROPERTIES constraint=FILES_REPOSITORY_PATH \u003cbr\\/\u003e\\n    , FILECHANGES FC --DERBY-PROPERTIES constraint=FILECHANGES_FILE_CHANGESET \u003cbr\\/\u003e\\n    , CHANGESETS CS --DERBY-PROPERTIES constraint=CHANGESETS_PRIMARY_ID \u003cbr\\/\u003e\\nWHERE \u003cbr\\/\u003e\\n CS.ID = FC.CHANGESET AND \u003cbr\\/\u003e\\n F.ID = FC.FILE AND \u003cbr\\/\u003e\\n EXISTS ( \u003cbr\\/\u003e\\n  SELECT 1 \u003cbr\\/\u003e\\n   FROM FILES F2 --DERBY-PROPERTIES constraint=FILES_REPOSITORY_PATH \u003cbr\\/\u003e\\n   WHERE \u003cbr\\/\u003e\\n          F2.ID = FC.FILE) \u003cbr\\/\u003e\\n ORDER BY CS.ID DESC; \u003c\\/p\u003e\\n\\n\\n\u003cp\u003eStatement Name:\u003cbr\\/\u003e\\n        null\u003cbr\\/\u003e\\nStatement Text:\u003cbr\\/\u003e\\n        SELECT CS.ID\u003cbr\\/\u003e\\nFROM --DERBY-PROPERTIES joinOrder=FIXED\u003cbr\\/\u003e\\n    FILES F --DERBY-PROPERTIES constraint=FILES_REPOSITORY_PATH\u003cbr\\/\u003e\\n    , FILECHANGES FC --DERBY-PROPERTIES constraint=FILECHANGES_FILE_CHANGESET\u003cbr\\/\u003e\\n    , CHANGESETS CS --DERBY-PROPERTIES constraint=CHANGESETS_PRIMARY_ID\u003cbr\\/\u003e\\nWHERE\u003cbr\\/\u003e\\n CS.ID = FC.CHANGESET AND\u003cbr\\/\u003e\\n F.ID = FC.FILE AND\u003cbr\\/\u003e\\n EXISTS (\u003cbr\\/\u003e\\n  SELECT 1\u003cbr\\/\u003e\\n   FROM FILES F2 --DERBY-PROPERTIES constraint=FILES_REPOSITORY_PATH\u003cbr\\/\u003e\\n   WHERE\u003cbr\\/\u003e\\n          F2.ID = FC.FILE)\u003cbr\\/\u003e\\n ORDER BY CS.ID DESC\u003cbr\\/\u003e\\nParse Time: 0\u003cbr\\/\u003e\\nBind Time: 0\u003cbr\\/\u003e\\nOptimize Time: 0\u003cbr\\/\u003e\\nGenerate Time: 0\u003cbr\\/\u003e\\nCompile Time: 0\u003cbr\\/\u003e\\nExecute Time: 0\u003cbr\\/\u003e\\nBegin Compilation Timestamp : null\u003cbr\\/\u003e\\nEnd Compilation Timestamp : null\u003cbr\\/\u003e\\nBegin Execution Timestamp : null\u003cbr\\/\u003e\\nEnd Execution Timestamp : null\u003cbr\\/\u003e\\nStatement Execution Plan Text:\u003cbr\\/\u003e\\nProject-Restrict ResultSet (11):\u003cbr\\/\u003e\\nNumber of opens = 1\u003cbr\\/\u003e\\nRows seen = 6\u003cbr\\/\u003e\\nRows filtered = 0\u003cbr\\/\u003e\\nrestriction = false\u003cbr\\/\u003e\\nprojection = true\u003cbr\\/\u003e\\n        constructor time (milliseconds) = 0\u003cbr\\/\u003e\\n        open time (milliseconds) = 0\u003cbr\\/\u003e\\n        next time (milliseconds) = 0\u003cbr\\/\u003e\\n        close time (milliseconds) = 0\u003cbr\\/\u003e\\n        restriction time (milliseconds) = 0\u003cbr\\/\u003e\\n        projection time (milliseconds) = 0\u003cbr\\/\u003e\\n        optimizer estimated row count:            2.67\u003cbr\\/\u003e\\n        optimizer estimated cost:         2330.17\u003c\\/p\u003e\\n\\n\u003cp\u003eSource result set:\u003cbr\\/\u003e\\n        User supplied optimizer overrides for join are \u003c\\/p\u003e\\n{ joinOrder=FIXED }\u003cbr\\/\u003e\\n        Nested Loop Join ResultSet:\u003cbr\\/\u003e\\n        Number of opens = 1\u003cbr\\/\u003e\\n        Rows seen from the left = 6\u003cbr\\/\u003e\\n        Rows seen from the right = 6\u003cbr\\/\u003e\\n        Rows filtered = 0\u003cbr\\/\u003e\\n        Rows returned = 6\u003cbr\\/\u003e\\n                constructor time (milliseconds) = 0\u003cbr\\/\u003e\\n                open time (milliseconds) = 0\u003cbr\\/\u003e\\n                next time (milliseconds) = 0\u003cbr\\/\u003e\\n                close time (milliseconds) = 0\u003cbr\\/\u003e\\n                optimizer estimated row count:            2.67\u003cbr\\/\u003e\\n                optimizer estimated cost:         2330.17\u003cbr\\/\u003e\\n\u003cbr\\/\u003e\\n        Left result set:\u003cbr\\/\u003e\\n                User supplied optimizer overrides for join are { joinOrder=FIXED}\u003cbr\\/\u003e\\n                Nested Loop Exists Join ResultSet:\u003cbr\\/\u003e\\n                Number of opens = 1\u003cbr\\/\u003e\\n                Rows seen from the left = 6\u003cbr\\/\u003e\\n                Rows seen from the right = 6\u003cbr\\/\u003e\\n                Rows filtered = 0\u003cbr\\/\u003e\\n                Rows returned = 6\u003cbr\\/\u003e\\n                        constructor time (milliseconds) = 0\u003cbr\\/\u003e\\n                        open time (milliseconds) = 0\u003cbr\\/\u003e\\n                        next time (milliseconds) = 0\u003cbr\\/\u003e\\n                        close time (milliseconds) = 0\u003cbr\\/\u003e\\n                        optimizer estimated row count:            6.00\u003cbr\\/\u003e\\n                        optimizer estimated cost:          357.23\u003cbr\\/\u003e\\n\u003cbr\\/\u003e\\n                Left result set:\u003cbr\\/\u003e\\n                        User supplied optimizer overrides for join are { joinOrder=FIXED }\\n\u003cp\u003e                        Nested Loop Join ResultSet:\u003cbr\\/\u003e\\n                        Number of opens = 1\u003cbr\\/\u003e\\n                        Rows seen from the left = 4\u003cbr\\/\u003e\\n                        Rows seen from the right = 6\u003cbr\\/\u003e\\n                        Rows filtered = 0\u003cbr\\/\u003e\\n                        Rows returned = 6\u003cbr\\/\u003e\\n                                constructor time (milliseconds) = 0\u003cbr\\/\u003e\\n                                open time (milliseconds) = 0\u003cbr\\/\u003e\\n                                next time (milliseconds) = 0\u003cbr\\/\u003e\\n                                close time (milliseconds) = 0\u003cbr\\/\u003e\\n                                optimizer estimated row count:            6.00\u003cbr\\/\u003e\\n                                optimizer estimated cost:          347.80\u003c\\/p\u003e\\n\\n\u003cp\u003e                        Left result set:\u003cbr\\/\u003e\\n                                Index Row to Base Row ResultSet for FILES:\u003cbr\\/\u003e\\n                                Number of opens = 1\u003cbr\\/\u003e\\n                                Rows seen = 4\u003cbr\\/\u003e\\n                                Columns accessed from heap = \u003c\\/p\u003e\\n{0}\u003cbr\\/\u003e\\n                                        constructor time (milliseconds) = 0\u003cbr\\/\u003e\\n                                        open time (milliseconds) = 0\u003cbr\\/\u003e\\n                                        next time (milliseconds) = 0\u003cbr\\/\u003e\\n                                        close time (milliseconds) = 0\u003cbr\\/\u003e\\n                                        optimizer estimated row count:  9.00\u003cbr\\/\u003e\\n                                        optimizer estimated cost:          328.82\u003cbr\\/\u003e\\n\u003cbr\\/\u003e\\n                                        User supplied optimizer overrides on FILES are { index=SQL090803230333481 }\u003cbr\\/\u003e\\n                                        Index Scan ResultSet for FILES using constraint FILES_REPOSITORY_PATH at read committed isolation level using share row locking chosen by the optimizer\u003cbr\\/\u003e\\n                                        Number of opens = 1\u003cbr\\/\u003e\\n                                        Rows seen = 4\u003cbr\\/\u003e\\n                                        Rows filtered = 0\u003cbr\\/\u003e\\n                                        Fetch Size = 1\u003cbr\\/\u003e\\n                                                constructor time (milliseconds)= 0\u003cbr\\/\u003e\\n                                                open time (milliseconds) = 0\u003cbr\\/\u003e\\n                                                next time (milliseconds) = 0\u003cbr\\/\u003e\\n                                                close time (milliseconds) = 0\u003cbr\\/\u003e\\n                                                next time in milliseconds\\/row =0\u003cbr\\/\u003e\\n\u003cbr\\/\u003e\\n                                        scan information:\u003cbr\\/\u003e\\n                                                Bit set of columns fetched={2}\u003cbr\\/\u003e\\n                                                Number of columns fetched=1\u003cbr\\/\u003e\\n                                                Number of deleted rows visited=0\u003cbr\\/\u003e\\n\u003cbr\\/\u003e\\n                                                Number of pages visited=1\u003cbr\\/\u003e\\n                                                Number of rows qualified=4\u003cbr\\/\u003e\\n                                                Number of rows visited=4\u003cbr\\/\u003e\\n                                                Scan type=btree\u003cbr\\/\u003e\\n                                                Tree height=-1\u003cbr\\/\u003e\\n                                                start position:\u003cbr\\/\u003e\\n        None\u003cbr\\/\u003e\\n                                                stop position:\u003cbr\\/\u003e\\n        None\u003cbr\\/\u003e\\n                                                qualifiers:\u003cbr\\/\u003e\\nNone\u003cbr\\/\u003e\\n                                                optimizer estimated row count:          9.00\u003cbr\\/\u003e\\n                                                optimizer estimated cost:   328.82\u003cbr\\/\u003e\\n\u003cbr\\/\u003e\\n\u003cbr\\/\u003e\\n                        Right result set:\u003cbr\\/\u003e\\n                                User supplied optimizer overrides on FILECHANGES are { index=SQL090803230334101 }\u003cbr\\/\u003e\\n                                Index Scan ResultSet for FILECHANGES using constraint FILECHANGES_FILE_CHANGESET at read committed isolation level using instantaneous share row locking chosen by the optimizer\u003cbr\\/\u003e\\n                                Number of opens = 4\u003cbr\\/\u003e\\n                                Rows seen = 6\u003cbr\\/\u003e\\n                                Rows filtered = 0\u003cbr\\/\u003e\\n                                Fetch Size = 16\u003cbr\\/\u003e\\n                                        constructor time (milliseconds) = 0\u003cbr\\/\u003e\\n                                        open time (milliseconds) = 0\u003cbr\\/\u003e\\n                                        next time (milliseconds) = 0\u003cbr\\/\u003e\\n                                        close time (milliseconds) = 0\u003cbr\\/\u003e\\n                                        next time in milliseconds\\/row = 0\u003cbr\\/\u003e\\n\u003cbr\\/\u003e\\n                                scan information:\u003cbr\\/\u003e\\n                                        Bit set of columns fetched={0, 1}\u003cbr\\/\u003e\\n                                        Number of columns fetched=2\u003cbr\\/\u003e\\n                                        Number of deleted rows visited=0\u003cbr\\/\u003e\\n                                        Number of pages visited=4\u003cbr\\/\u003e\\n                                        Number of rows qualified=6\u003cbr\\/\u003e\\n                                        Number of rows visited=9\u003cbr\\/\u003e\\n                                        Scan type=btree\u003cbr\\/\u003e\\n                                        Tree height=1\u003cbr\\/\u003e\\n                                        start position:\u003cbr\\/\u003e\\n        &gt;= on first 1 column(s).\u003cbr\\/\u003e\\n        Ordered null semantics on the following columns:0\u003cbr\\/\u003e\\n                                        stop position:\u003cbr\\/\u003e\\n        &gt; on first 1 column(s).\u003cbr\\/\u003e\\n        Ordered null semantics on the following columns:0\u003cbr\\/\u003e\\n                                        qualifiers:None\u003cbr\\/\u003e\\n                                        optimizer estimated row count:  6.00\u003cbr\\/\u003e\\n                                        optimizer estimated cost:           18.97\u003cbr\\/\u003e\\n\u003cbr\\/\u003e\\n\u003cbr\\/\u003e\\n                Right result set:\u003cbr\\/\u003e\\n                        User supplied optimizer overrides on CHANGESETS are { index=SQL090803230333820 }\u003cbr\\/\u003e\\n                        Index Scan ResultSet for CHANGESETS using constraint CHANGESETS_PRIMARY_ID at read committed isolation level using share row locking chosen by the optimizer\u003cbr\\/\u003e\\n                        Number of opens = 6\u003cbr\\/\u003e\\n                        Rows seen = 6\u003cbr\\/\u003e\\n                        Rows filtered = 0\u003cbr\\/\u003e\\n                        Fetch Size = 1\u003cbr\\/\u003e\\n                                constructor time (milliseconds) = 0\u003cbr\\/\u003e\\n                                open time (milliseconds) = 0\u003cbr\\/\u003e\\n                                next time (milliseconds) = 0\u003cbr\\/\u003e\\n                                close time (milliseconds) = 0\u003cbr\\/\u003e\\n                                next time in milliseconds\\/row = 0\u003cbr\\/\u003e\\n\u003cbr\\/\u003e\\n                        scan information:\u003cbr\\/\u003e\\n                                Bit set of columns fetched={0}\\n\u003cp\u003e                                Number of columns fetched=1\u003cbr\\/\u003e\\n                                Number of deleted rows visited=0\u003cbr\\/\u003e\\n                                Number of pages visited=6\u003cbr\\/\u003e\\n                                Number of rows qualified=6\u003cbr\\/\u003e\\n                                Number of rows visited=6\u003cbr\\/\u003e\\n                                Scan type=btree\u003cbr\\/\u003e\\n                                Tree height=1\u003cbr\\/\u003e\\n                                start position:\u003cbr\\/\u003e\\n        &gt;= on first 1 column(s).\u003cbr\\/\u003e\\n        Ordered null semantics on the following columns:0\u003cbr\\/\u003e\\n                                stop position:\u003cbr\\/\u003e\\n        &gt; on first 1 column(s).\u003cbr\\/\u003e\\n        Ordered null semantics on the following columns:0\u003cbr\\/\u003e\\n                                qualifiers:None\u003cbr\\/\u003e\\n                                optimizer estimated row count:            6.00\u003cbr\\/\u003e\\n                                optimizer estimated cost:            9.43\u003c\\/p\u003e\\n\\n\\n\u003cp\u003e        Right result set:\u003cbr\\/\u003e\\n                Project-Restrict ResultSet (10):\u003cbr\\/\u003e\\n                Number of opens = 6\u003cbr\\/\u003e\\n                Rows seen = 24\u003cbr\\/\u003e\\n                Rows filtered = 18\u003cbr\\/\u003e\\n                restriction = true\u003cbr\\/\u003e\\n                projection = true\u003cbr\\/\u003e\\n                        constructor time (milliseconds) = 0\u003cbr\\/\u003e\\n                        open time (milliseconds) = 0\u003cbr\\/\u003e\\n                        next time (milliseconds) = 0\u003cbr\\/\u003e\\n                        close time (milliseconds) = 0\u003cbr\\/\u003e\\n                        restriction time (milliseconds) = 0\u003cbr\\/\u003e\\n                        projection time (milliseconds) = 0\u003cbr\\/\u003e\\n                        optimizer estimated row count:            2.67\u003cbr\\/\u003e\\n                        optimizer estimated cost:         1972.94\u003c\\/p\u003e\\n\\n\u003cp\u003e                Source result set:\u003cbr\\/\u003e\\n                        Index Row to Base Row ResultSet for FILES:\u003cbr\\/\u003e\\n                        Number of opens = 6\u003cbr\\/\u003e\\n                        Rows seen = 24\u003cbr\\/\u003e\\n                        Columns accessed from heap = \u003c\\/p\u003e\\n{0}\\n\u003cp\u003e                                constructor time (milliseconds) = 0\u003cbr\\/\u003e\\n                                open time (milliseconds) = 0\u003cbr\\/\u003e\\n                                next time (milliseconds) = 0\u003cbr\\/\u003e\\n                                close time (milliseconds) = 0\u003cbr\\/\u003e\\n                                optimizer estimated row count:            2.67\u003cbr\\/\u003e\\n                                optimizer estimated cost:         1972.94\u003c\\/p\u003e\\n\\n\u003cp\u003e                                User supplied optimizer overrides on FILES are \u003c\\/p\u003e\\n{ index=SQL090803230333481 }\\n\u003cp\u003e                                Index Scan ResultSet for FILES using constraint FILES_REPOSITORY_PATH at read committed isolation level using share row locking chosen by the optimizer\u003cbr\\/\u003e\\n                                Number of opens = 6\u003cbr\\/\u003e\\n                                Rows seen = 24\u003cbr\\/\u003e\\n                                Rows filtered = 0\u003cbr\\/\u003e\\n                                Fetch Size = 1\u003cbr\\/\u003e\\n                                        constructor time (milliseconds) = 0\u003cbr\\/\u003e\\n                                        open time (milliseconds) = 0\u003cbr\\/\u003e\\n                                        next time (milliseconds) = 0\u003cbr\\/\u003e\\n                                        close time (milliseconds) = 0\u003cbr\\/\u003e\\n                                        next time in milliseconds\\/row = 0\u003c\\/p\u003e\\n\\n\u003cp\u003e                                scan information:\u003cbr\\/\u003e\\n                                        Bit set of columns fetched=\u003c\\/p\u003e\\n{2}\\n\u003cp\u003e                                        Number of columns fetched=1\u003cbr\\/\u003e\\n                                        Number of deleted rows visited=0\u003cbr\\/\u003e\\n                                        Number of pages visited=6\u003cbr\\/\u003e\\n                                        Number of rows qualified=24\u003cbr\\/\u003e\\n                                        Number of rows visited=24\u003cbr\\/\u003e\\n                                        Scan type=btree\u003cbr\\/\u003e\\n                                        Tree height=1\u003cbr\\/\u003e\\n                                        start position:        None\u003cbr\\/\u003e\\n                                        stop position:        None\u003cbr\\/\u003e\\n                                        qualifiers:None\u003cbr\\/\u003e\\n                                        optimizer estimated row count:  2.67\u003cbr\\/\u003e\\n                                        optimizer estimated cost:         1972.94\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mamtas\\\" id=\\\"commentauthor_12738862_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mamtas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mamtas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mamta A. Satoor\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12738862_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Aug\\/09 06:37\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-04T06:37:59+0000\'\u003e04\\/Aug\\/09 06:37\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    The query plan for the query below is as follows \\nSELECT CS.ID  \\nFROM --DERBY-PROPERTIES joinOrder=FIXED  \\n    FILES F --DERBY-PROPERTIES constraint=FILES_REPOSITORY_PATH  \\n    , FILECHANGES FC --DERBY-PROPERTIES constraint=FILECHANGES_FILE_CHANGESET  \\n    , CHANGESETS CS --DERBY-PROPERTIES constraint=CHANGESETS_PRIMARY_ID  \\nWHERE  \\n CS.ID = FC.CHANGESET AND  \\n F.ID = FC.FILE AND  \\n EXISTS (  \\n  SELECT 1  \\n   FROM FILES F2 --DERBY-PROPERTIES constraint=FILES_REPOSITORY_PATH  \\n   WHERE  \\n          F2.ID = FC.FILE)  \\n ORDER BY CS.ID DESC;  \\n\\n\\n Statement Name: \\n        null \\nStatement Text: \\n        SELECT CS.ID \\nFROM --DERBY-PROPERTIES joinOrder=FIXED \\n    FILES F --DERBY-PROPERTIES constraint=FILES_REPOSITORY_PATH \\n    , FILECHANGES FC --DERBY-PROPERTIES constraint=FILECHANGES_FILE_CHANGESET \\n    , CHANGESETS CS --DERBY-PROPERTIES constraint=CHANGESETS_PRIMARY_ID \\nWHERE \\n CS.ID = FC.CHANGESET AND \\n F.ID = FC.FILE AND \\n EXISTS ( \\n  SELECT 1 \\n   FROM FILES F2 --DERBY-PROPERTIES constraint=FILES_REPOSITORY_PATH \\n   WHERE \\n          F2.ID = FC.FILE) \\n ORDER BY CS.ID DESC \\nParse Time: 0 \\nBind Time: 0 \\nOptimize Time: 0 \\nGenerate Time: 0 \\nCompile Time: 0 \\nExecute Time: 0 \\nBegin Compilation Timestamp : null \\nEnd Compilation Timestamp : null \\nBegin Execution Timestamp : null \\nEnd Execution Timestamp : null \\nStatement Execution Plan Text: \\nProject-Restrict ResultSet (11): \\nNumber of opens = 1 \\nRows seen = 6 \\nRows filtered = 0 \\nrestriction = false \\nprojection = true \\n        constructor time (milliseconds) = 0 \\n        open time (milliseconds) = 0 \\n        next time (milliseconds) = 0 \\n        close time (milliseconds) = 0 \\n        restriction time (milliseconds) = 0 \\n        projection time (milliseconds) = 0 \\n        optimizer estimated row count:            2.67 \\n        optimizer estimated cost:         2330.17 \\n\\n Source result set: \\n        User supplied optimizer overrides for join are  \\n{ joinOrder=FIXED } \\n        Nested Loop Join ResultSet: \\n        Number of opens = 1 \\n        Rows seen from the left = 6 \\n        Rows seen from the right = 6 \\n        Rows filtered = 0 \\n        Rows returned = 6 \\n                constructor time (milliseconds) = 0 \\n                open time (milliseconds) = 0 \\n                next time (milliseconds) = 0 \\n                close time (milliseconds) = 0 \\n                optimizer estimated row count:            2.67 \\n                optimizer estimated cost:         2330.17 \\n \\n        Left result set: \\n                User supplied optimizer overrides for join are { joinOrder=FIXED} \\n                Nested Loop Exists Join ResultSet: \\n                Number of opens = 1 \\n                Rows seen from the left = 6 \\n                Rows seen from the right = 6 \\n                Rows filtered = 0 \\n                Rows returned = 6 \\n                        constructor time (milliseconds) = 0 \\n                        open time (milliseconds) = 0 \\n                        next time (milliseconds) = 0 \\n                        close time (milliseconds) = 0 \\n                        optimizer estimated row count:            6.00 \\n                        optimizer estimated cost:          357.23 \\n \\n                Left result set: \\n                        User supplied optimizer overrides for join are { joinOrder=FIXED }\\n                         Nested Loop Join ResultSet: \\n                        Number of opens = 1 \\n                        Rows seen from the left = 4 \\n                        Rows seen from the right = 6 \\n                        Rows filtered = 0 \\n                        Rows returned = 6 \\n                                constructor time (milliseconds) = 0 \\n                                open time (milliseconds) = 0 \\n                                next time (milliseconds) = 0 \\n                                close time (milliseconds) = 0 \\n                                optimizer estimated row count:            6.00 \\n                                optimizer estimated cost:          347.80 \\n\\n                         Left result set: \\n                                Index Row to Base Row ResultSet for FILES: \\n                                Number of opens = 1 \\n                                Rows seen = 4 \\n                                Columns accessed from heap =  \\n{0} \\n                                        constructor time (milliseconds) = 0 \\n                                        open time (milliseconds) = 0 \\n                                        next time (milliseconds) = 0 \\n                                        close time (milliseconds) = 0 \\n                                        optimizer estimated row count:  9.00 \\n                                        optimizer estimated cost:          328.82 \\n \\n                                        User supplied optimizer overrides on FILES are { index=SQL090803230333481 } \\n                                        Index Scan ResultSet for FILES using constraint FILES_REPOSITORY_PATH at read committed isolation level using share row locking chosen by the optimizer \\n                                        Number of opens = 1 \\n                                        Rows seen = 4 \\n                                        Rows filtered = 0 \\n                                        Fetch Size = 1 \\n                                                constructor time (milliseconds)= 0 \\n                                                open time (milliseconds) = 0 \\n                                                next time (milliseconds) = 0 \\n                                                close time (milliseconds) = 0 \\n                                                next time in milliseconds\\/row =0 \\n \\n                                        scan information: \\n                                                Bit set of columns fetched={2} \\n                                                Number of columns fetched=1 \\n                                                Number of deleted rows visited=0 \\n \\n                                                Number of pages visited=1 \\n                                                Number of rows qualified=4 \\n                                                Number of rows visited=4 \\n                                                Scan type=btree \\n                                                Tree height=-1 \\n                                                start position: \\n        None \\n                                                stop position: \\n        None \\n                                                qualifiers: \\nNone \\n                                                optimizer estimated row count:          9.00 \\n                                                optimizer estimated cost:   328.82 \\n \\n \\n                        Right result set: \\n                                User supplied optimizer overrides on FILECHANGES are { index=SQL090803230334101 } \\n                                Index Scan ResultSet for FILECHANGES using constraint FILECHANGES_FILE_CHANGESET at read committed isolation level using instantaneous share row locking chosen by the optimizer \\n                                Number of opens = 4 \\n                                Rows seen = 6 \\n                                Rows filtered = 0 \\n                                Fetch Size = 16 \\n                                        constructor time (milliseconds) = 0 \\n                                        open time (milliseconds) = 0 \\n                                        next time (milliseconds) = 0 \\n                                        close time (milliseconds) = 0 \\n                                        next time in milliseconds\\/row = 0 \\n \\n                                scan information: \\n                                        Bit set of columns fetched={0, 1} \\n                                        Number of columns fetched=2 \\n                                        Number of deleted rows visited=0 \\n                                        Number of pages visited=4 \\n                                        Number of rows qualified=6 \\n                                        Number of rows visited=9 \\n                                        Scan type=btree \\n                                        Tree height=1 \\n                                        start position: \\n        &gt;= on first 1 column(s). \\n        Ordered null semantics on the following columns:0 \\n                                        stop position: \\n        &gt; on first 1 column(s). \\n        Ordered null semantics on the following columns:0 \\n                                        qualifiers:None \\n                                        optimizer estimated row count:  6.00 \\n                                        optimizer estimated cost:           18.97 \\n \\n \\n                Right result set: \\n                        User supplied optimizer overrides on CHANGESETS are { index=SQL090803230333820 } \\n                        Index Scan ResultSet for CHANGESETS using constraint CHANGESETS_PRIMARY_ID at read committed isolation level using share row locking chosen by the optimizer \\n                        Number of opens = 6 \\n                        Rows seen = 6 \\n                        Rows filtered = 0 \\n                        Fetch Size = 1 \\n                                constructor time (milliseconds) = 0 \\n                                open time (milliseconds) = 0 \\n                                next time (milliseconds) = 0 \\n                                close time (milliseconds) = 0 \\n                                next time in milliseconds\\/row = 0 \\n \\n                        scan information: \\n                                Bit set of columns fetched={0}\\n                                 Number of columns fetched=1 \\n                                Number of deleted rows visited=0 \\n                                Number of pages visited=6 \\n                                Number of rows qualified=6 \\n                                Number of rows visited=6 \\n                                Scan type=btree \\n                                Tree height=1 \\n                                start position: \\n        &gt;= on first 1 column(s). \\n        Ordered null semantics on the following columns:0 \\n                                stop position: \\n        &gt; on first 1 column(s). \\n        Ordered null semantics on the following columns:0 \\n                                qualifiers:None \\n                                optimizer estimated row count:            6.00 \\n                                optimizer estimated cost:            9.43 \\n\\n\\n         Right result set: \\n                Project-Restrict ResultSet (10): \\n                Number of opens = 6 \\n                Rows seen = 24 \\n                Rows filtered = 18 \\n                restriction = true \\n                projection = true \\n                        constructor time (milliseconds) = 0 \\n                        open time (milliseconds) = 0 \\n                        next time (milliseconds) = 0 \\n                        close time (milliseconds) = 0 \\n                        restriction time (milliseconds) = 0 \\n                        projection time (milliseconds) = 0 \\n                        optimizer estimated row count:            2.67 \\n                        optimizer estimated cost:         1972.94 \\n\\n                 Source result set: \\n                        Index Row to Base Row ResultSet for FILES: \\n                        Number of opens = 6 \\n                        Rows seen = 24 \\n                        Columns accessed from heap =  \\n{0}\\n                                 constructor time (milliseconds) = 0 \\n                                open time (milliseconds) = 0 \\n                                next time (milliseconds) = 0 \\n                                close time (milliseconds) = 0 \\n                                optimizer estimated row count:            2.67 \\n                                optimizer estimated cost:         1972.94 \\n\\n                                 User supplied optimizer overrides on FILES are  \\n{ index=SQL090803230333481 }\\n                                 Index Scan ResultSet for FILES using constraint FILES_REPOSITORY_PATH at read committed isolation level using share row locking chosen by the optimizer \\n                                Number of opens = 6 \\n                                Rows seen = 24 \\n                                Rows filtered = 0 \\n                                Fetch Size = 1 \\n                                        constructor time (milliseconds) = 0 \\n                                        open time (milliseconds) = 0 \\n                                        next time (milliseconds) = 0 \\n                                        close time (milliseconds) = 0 \\n                                        next time in milliseconds\\/row = 0 \\n\\n                                 scan information: \\n                                        Bit set of columns fetched= \\n{2}\\n                                         Number of columns fetched=1 \\n                                        Number of deleted rows visited=0 \\n                                        Number of pages visited=6 \\n                                        Number of rows qualified=24 \\n                                        Number of rows visited=24 \\n                                        Scan type=btree \\n                                        Tree height=1 \\n                                        start position:        None \\n                                        stop position:        None \\n                                        qualifiers:None \\n                                        optimizer estimated row count:  2.67 \\n                                        optimizer estimated cost:         1972.94              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12739234\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-4331?focusedCommentId=12739234&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12739234\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mikem\\\" id=\\\"commentauthor_12739234_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mikem\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mikem\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mike Matrigali\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12739234_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Aug\\/09 23:12\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-04T23:12:21+0000\'\u003e04\\/Aug\\/09 23:12\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI am not sure if just running update statistics will fix this problem for any set of data.  For this\u003cbr\\/\u003e\\nquery it does look like changing the order by clause to include an extra column will work around\u003cbr\\/\u003e\\nthis bug:\u003c\\/p\u003e\\n\\n\u003cp\u003eORDER BY CS.ID, CS.REPOSITORY;\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mikem\\\" id=\\\"commentauthor_12739234_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mikem\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mikem\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mike Matrigali\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12739234_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Aug\\/09 23:12\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-04T23:12:21+0000\'\u003e04\\/Aug\\/09 23:12\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I am not sure if just running update statistics will fix this problem for any set of data.  For this \\nquery it does look like changing the order by clause to include an extra column will work around \\nthis bug: \\n\\n ORDER BY CS.ID, CS.REPOSITORY;              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12739236\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-4331?focusedCommentId=12739236&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12739236\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mikem\\\" id=\\\"commentauthor_12739236_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mikem\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mikem\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mike Matrigali\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12739236_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Aug\\/09 23:13\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-04T23:13:39+0000\'\u003e04\\/Aug\\/09 23:13\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003ethe bug is not specific to the desc order by, the following query also gives wrong ordered results:\u003cbr\\/\u003e\\nij(C1)&gt; SELECT\u003cbr\\/\u003e\\n    CS.ID\u003cbr\\/\u003e\\nFROM --DERBY-PROPERTIES joinOrder=FIXED\u003cbr\\/\u003e\\n      FILES       F  --DERBY-PROPERTIES constraint=FILES_REPOSITORY_PATH\u003cbr\\/\u003e\\n    , FILECHANGES FC --DERBY-PROPERTIES constraint=FILECHANGES_FILE_CHANGESET\u003cbr\\/\u003e\\n    , CHANGESETS  CS --DERBY-PROPERTIES constraint=CHANGESETS_PRIMARY_ID\u003cbr\\/\u003e\\nWHERE\u003cbr\\/\u003e\\n    CS.ID = FC.CHANGESET AND\u003cbr\\/\u003e\\n    F.ID  = FC.FILE      AND\u003cbr\\/\u003e\\n    EXISTS (\u003cbr\\/\u003e\\n        SELECT 1\u003cbr\\/\u003e\\n            FROM FILES F2 --DERBY-PROPERTIES constraint=FILES_REPOSITORY_PATH\u003cbr\\/\u003e\\n        WHERE\u003cbr\\/\u003e\\n            F2.ID = FC.FILE)\u003cbr\\/\u003e\\n    ORDER BY CS.ID;\u003cbr\\/\u003e\\nID\u003cbr\\/\u003e\\n-----------\u003cbr\\/\u003e\\n1\u003cbr\\/\u003e\\n2\u003cbr\\/\u003e\\n3\u003cbr\\/\u003e\\n2\u003cbr\\/\u003e\\n2\u003cbr\\/\u003e\\n3\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mikem\\\" id=\\\"commentauthor_12739236_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mikem\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mikem\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mike Matrigali\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12739236_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Aug\\/09 23:13\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-04T23:13:39+0000\'\u003e04\\/Aug\\/09 23:13\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    the bug is not specific to the desc order by, the following query also gives wrong ordered results: \\nij(C1)&gt; SELECT \\n    CS.ID \\nFROM --DERBY-PROPERTIES joinOrder=FIXED \\n      FILES       F  --DERBY-PROPERTIES constraint=FILES_REPOSITORY_PATH \\n    , FILECHANGES FC --DERBY-PROPERTIES constraint=FILECHANGES_FILE_CHANGESET \\n    , CHANGESETS  CS --DERBY-PROPERTIES constraint=CHANGESETS_PRIMARY_ID \\nWHERE \\n    CS.ID = FC.CHANGESET AND \\n    F.ID  = FC.FILE      AND \\n    EXISTS ( \\n        SELECT 1 \\n            FROM FILES F2 --DERBY-PROPERTIES constraint=FILES_REPOSITORY_PATH \\n        WHERE \\n            F2.ID = FC.FILE) \\n    ORDER BY CS.ID; \\nID \\n----------- \\n1 \\n2 \\n3 \\n2 \\n2 \\n3              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12739329\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-4331?focusedCommentId=12739329&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12739329\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mamtas\\\" id=\\\"commentauthor_12739329_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mamtas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mamtas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mamta A. Satoor\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12739329_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Aug\\/09 04:15\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-05T04:15:39+0000\'\u003e05\\/Aug\\/09 04:15\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eFollowing query gets rid of EXISTS clause and still runs into the incorrect order by result. Much easier to debug.\u003c\\/p\u003e\\n\\n\u003cp\u003eSELECT CS.ID\u003cbr\\/\u003e\\nFROM --DERBY-PROPERTIES joinOrder=FIXED\u003cbr\\/\u003e\\n    FILES F --DERBY-PROPERTIES constraint=FILES_REPOSITORY_PATH\u003cbr\\/\u003e\\n    , FILECHANGES FC --DERBY-PROPERTIES constraint=FILECHANGES_FILE_CHANGESET\u003cbr\\/\u003e\\n    , CHANGESETS CS --DERBY-PROPERTIES constraint=CHANGESETS_PRIMARY_ID\u003cbr\\/\u003e\\nWHERE\u003cbr\\/\u003e\\n CS.ID = FC.CHANGESET AND\u003cbr\\/\u003e\\n F.ID = FC.FILE \u003cbr\\/\u003e\\n ORDER BY CS.ID DESC;\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mamtas\\\" id=\\\"commentauthor_12739329_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mamtas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mamtas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mamta A. Satoor\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12739329_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Aug\\/09 04:15\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-05T04:15:39+0000\'\u003e05\\/Aug\\/09 04:15\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Following query gets rid of EXISTS clause and still runs into the incorrect order by result. Much easier to debug. \\n\\n SELECT CS.ID \\nFROM --DERBY-PROPERTIES joinOrder=FIXED \\n    FILES F --DERBY-PROPERTIES constraint=FILES_REPOSITORY_PATH \\n    , FILECHANGES FC --DERBY-PROPERTIES constraint=FILECHANGES_FILE_CHANGESET \\n    , CHANGESETS CS --DERBY-PROPERTIES constraint=CHANGESETS_PRIMARY_ID \\nWHERE \\n CS.ID = FC.CHANGESET AND \\n F.ID = FC.FILE  \\n ORDER BY CS.ID DESC;              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12739672\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-4331?focusedCommentId=12739672&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12739672\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mikem\\\" id=\\\"commentauthor_12739672_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mikem\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mikem\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mike Matrigali\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12739672_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Aug\\/09 18:51\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-05T18:51:52+0000\'\u003e05\\/Aug\\/09 18:51\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI am still investigating, but as this seems time critical am posting some incomplete information.\u003c\\/p\u003e\\n\\n\u003cp\u003eI have been debugging and talking to mamta about this issue.  I now do believe part of \u003cbr\\/\u003e\\n\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-3926\\\" title=\\\"Incorrect ORDER BY caused by index\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-3926\\\"\u003e\u003cdel\u003eDERBY-3926\u003c\\/del\u003e\u003c\\/a\u003e should be backed out as the logic is incomplete, I don\'t believe the fix for this is\u003cbr\\/\u003e\\nsimple and it would be better to get all the code lines into a safer state and put off the complete\u003cbr\\/\u003e\\nfix for later.  But I believe we only need to backout part of the fix.\u003c\\/p\u003e\\n\\n\u003cp\u003eThe fix for \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-3926\\\" title=\\\"Incorrect ORDER BY caused by index\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-3926\\\"\u003e\u003cdel\u003eDERBY-3926\u003c\\/del\u003e\u003c\\/a\u003e addressed 2 issues:\u003cbr\\/\u003e\\n1) The code incorrectly assumed if a query plan resulted in for example \\\"always sorted on a\\\", \u003cbr\\/\u003e\\n     \\\"always sorted on b\\\"  where \\\"always sorted\\\" meant something like a=5, that then one could\u003cbr\\/\u003e\\n     assume the query was also just sorted on b.  This was only true if a was a single row result  \u003cbr\\/\u003e\\n     set.  I believe this code is working fine.\u003c\\/p\u003e\\n\\n\u003cp\u003e2) When the fix went in we noticed a few queries in wisconsin were not doing sort avoidance any\u003cbr\\/\u003e\\n    more .  See 23\\/Apr\\/09 01:13 PM \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-3926\\\" title=\\\"Incorrect ORDER BY caused by index\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-3926\\\"\u003e\u003cdel\u003eDERBY-3926\u003c\\/del\u003e\u003c\\/a\u003e comment by mamta.  To this end code was \u003cbr\\/\u003e\\n    added to do some tricky stuff with join equivalent analysis.  This part of the fix is localized to \u003cbr\\/\u003e\\n    a single file mamta and I have looked at it and it does not do the right work.  It does not handle\u003cbr\\/\u003e\\n    desc indexes or desc ordery by properly and can incorrectly assume that a query ordered\u003cbr\\/\u003e\\n    on a, b, c satisfies and order by c.   I have just tried just backing out this change and \u003cbr\\/\u003e\\n    all the \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-4331\\\" title=\\\"Join returns results in wrong order\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-4331\\\"\u003e\u003cdel\u003eDERBY-4331\u003c\\/del\u003e\u003c\\/a\u003e cases I tried worked, all the test cases specific for \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-3926\\\" title=\\\"Incorrect ORDER BY caused by index\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-3926\\\"\u003e\u003cdel\u003eDERBY-3926\u003c\\/del\u003e\u003c\\/a\u003e worked,\u003cbr\\/\u003e\\n   and as expected I got wisconsin diffs that I am analysing.  I have not had time to run full tests.\u003c\\/p\u003e\\n\\n\u003cp\u003eI will post a patch with just this change if anyone else wants to experiment. \u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mikem\\\" id=\\\"commentauthor_12739672_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mikem\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mikem\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mike Matrigali\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12739672_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Aug\\/09 18:51\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-05T18:51:52+0000\'\u003e05\\/Aug\\/09 18:51\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I am still investigating, but as this seems time critical am posting some incomplete information. \\n\\n I have been debugging and talking to mamta about this issue.  I now do believe part of  \\n  DERBY-3926   should be backed out as the logic is incomplete, I don\'t believe the fix for this is \\nsimple and it would be better to get all the code lines into a safer state and put off the complete \\nfix for later.  But I believe we only need to backout part of the fix. \\n\\n The fix for   DERBY-3926   addressed 2 issues: \\n1) The code incorrectly assumed if a query plan resulted in for example \\\"always sorted on a\\\",  \\n     \\\"always sorted on b\\\"  where \\\"always sorted\\\" meant something like a=5, that then one could \\n     assume the query was also just sorted on b.  This was only true if a was a single row result   \\n     set.  I believe this code is working fine. \\n\\n 2) When the fix went in we noticed a few queries in wisconsin were not doing sort avoidance any \\n    more .  See 23\\/Apr\\/09 01:13 PM   DERBY-3926   comment by mamta.  To this end code was  \\n    added to do some tricky stuff with join equivalent analysis.  This part of the fix is localized to  \\n    a single file mamta and I have looked at it and it does not do the right work.  It does not handle \\n    desc indexes or desc ordery by properly and can incorrectly assume that a query ordered \\n    on a, b, c satisfies and order by c.   I have just tried just backing out this change and  \\n    all the   DERBY-4331   cases I tried worked, all the test cases specific for   DERBY-3926   worked, \\n   and as expected I got wisconsin diffs that I am analysing.  I have not had time to run full tests. \\n\\n I will post a patch with just this change if anyone else wants to experiment.               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12739675\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-4331?focusedCommentId=12739675&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12739675\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mikem\\\" id=\\\"commentauthor_12739675_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mikem\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mikem\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mike Matrigali\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12739675_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Aug\\/09 18:58\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-05T18:58:03+0000\'\u003e05\\/Aug\\/09 18:58\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Mike Matrigali - 05\\/Aug\\/09 19:00\\\"\u003eedited\u003c\\/span\u003e \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThis is a patch file based off of trunk.\u003c\\/p\u003e\\n\\n\u003cp\u003enot fully tested patch file.  This patch just gets rid of the FromBaseTable.java changes\u003cbr\\/\u003e\\nto \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-3926\\\" title=\\\"Incorrect ORDER BY caused by index\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-3926\\\"\u003e\u003cdel\u003eDERBY-3926\u003c\\/del\u003e\u003c\\/a\u003e, it leaves every thing else.\u003c\\/p\u003e\\n\\n\u003cp\u003eSo far my testing shows:\u003cbr\\/\u003e\\npostives: fixes all run test cases of \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-3926\\\" title=\\\"Incorrect ORDER BY caused by index\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-3926\\\"\u003e\u003cdel\u003eDERBY-3926\u003c\\/del\u003e\u003c\\/a\u003e and \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-4331\\\" title=\\\"Join returns results in wrong order\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-4331\\\"\u003e\u003cdel\u003eDERBY-4331\u003c\\/del\u003e\u003c\\/a\u003e\u003cbr\\/\u003e\\nnegatives: Causes some diffs in wisconsin, probably the known cases where we \u003cbr\\/\u003e\\n                  don\'t do sort avoidance anymore - but still get correct sorting.\u003cbr\\/\u003e\\nunknown: no full test run done yet.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mikem\\\" id=\\\"commentauthor_12739675_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mikem\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mikem\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mike Matrigali\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12739675_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Aug\\/09 18:58\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-05T18:58:03+0000\'\u003e05\\/Aug\\/09 18:58\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Mike Matrigali - 05\\/Aug\\/09 19:00\\\"\u003eedited\u003c\\/span\u003e                   This is a patch file based off of trunk. \\n\\n not fully tested patch file.  This patch just gets rid of the FromBaseTable.java changes \\nto   DERBY-3926  , it leaves every thing else. \\n\\n So far my testing shows: \\npostives: fixes all run test cases of   DERBY-3926   and   DERBY-4331   \\nnegatives: Causes some diffs in wisconsin, probably the known cases where we  \\n                  don\'t do sort avoidance anymore - but still get correct sorting. \\nunknown: no full test run done yet.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12739682\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-4331?focusedCommentId=12739682&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12739682\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_12739682_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12739682_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Aug\\/09 19:16\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-05T19:16:01+0000\'\u003e05\\/Aug\\/09 19:16\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThanks, Mike. I can confirm that your derby4331_do_not_commit.diff patch produces correct results from the d3926_repro.sql script attached to \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-3926\\\" title=\\\"Incorrect ORDER BY caused by index\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-3926\\\"\u003e\u003cdel\u003eDERBY-3926\u003c\\/del\u003e\u003c\\/a\u003e repro  and from the repro2.sql script attached to this JIRA\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"rhillegas\\\" id=\\\"commentauthor_12739682_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=rhillegas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"rhillegas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Rick Hillegas\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12739682_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Aug\\/09 19:16\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-05T19:16:01+0000\'\u003e05\\/Aug\\/09 19:16\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Thanks, Mike. I can confirm that your derby4331_do_not_commit.diff patch produces correct results from the d3926_repro.sql script attached to   DERBY-3926   repro  and from the repro2.sql script attached to this JIRA              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12739698\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-4331?focusedCommentId=12739698&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12739698\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mamtas\\\" id=\\\"commentauthor_12739698_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mamtas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mamtas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mamta A. Satoor\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12739698_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Aug\\/09 19:38\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-05T19:38:02+0000\'\u003e05\\/Aug\\/09 19:38\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eMike and I have been talking about different possibilities for \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-4331\\\" title=\\\"Join returns results in wrong order\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-4331\\\"\u003e\u003cdel\u003eDERBY-4331\u003c\\/del\u003e\u003c\\/a\u003e\\/\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-3926\\\" title=\\\"Incorrect ORDER BY caused by index\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-3926\\\"\u003e\u003cdel\u003eDERBY-3926\u003c\\/del\u003e\u003c\\/a\u003e given the time critical nature of it. We decided that we will investigate the fix for \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-3926\\\" title=\\\"Incorrect ORDER BY caused by index\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-3926\\\"\u003e\u003cdel\u003eDERBY-3926\u003c\\/del\u003e\u003c\\/a\u003e to see what can be backed out and at the same time debug the reason beind \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-4331\\\" title=\\\"Join returns results in wrong order\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-4331\\\"\u003e\u003cdel\u003eDERBY-4331\u003c\\/del\u003e\u003c\\/a\u003e failure. I will write the information I have collected over last couple days on the reason behind the bug \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-4331\\\" title=\\\"Join returns results in wrong order\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-4331\\\"\u003e\u003cdel\u003eDERBY-4331\u003c\\/del\u003e\u003c\\/a\u003e and apossible fix for it but first would like to comment on Mike\'s proposal about backing out some of \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-3926\\\" title=\\\"Incorrect ORDER BY caused by index\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-3926\\\"\u003e\u003cdel\u003eDERBY-3926\u003c\\/del\u003e\u003c\\/a\u003e changes\u003c\\/p\u003e\\n\\n\u003cp\u003eI agree with the partial backout of \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-3926\\\" title=\\\"Incorrect ORDER BY caused by index\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-3926\\\"\u003e\u003cdel\u003eDERBY-3926\u003c\\/del\u003e\u003c\\/a\u003e. The code proposed for backout was written to cover additional queries so that we can avoid sorting for them if possible but from what I recall, it was not needed for fixing \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-3926\\\" title=\\\"Incorrect ORDER BY caused by index\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-3926\\\"\u003e\u003cdel\u003eDERBY-3926\u003c\\/del\u003e\u003c\\/a\u003e. So it should be safe to backout part of the change w\\/o impacting any queries negatively. It will be good to do full tests before we commit those changes though.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mamtas\\\" id=\\\"commentauthor_12739698_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mamtas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mamtas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mamta A. Satoor\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12739698_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Aug\\/09 19:38\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-05T19:38:02+0000\'\u003e05\\/Aug\\/09 19:38\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Mike and I have been talking about different possibilities for   DERBY-4331  \\/  DERBY-3926   given the time critical nature of it. We decided that we will investigate the fix for   DERBY-3926   to see what can be backed out and at the same time debug the reason beind   DERBY-4331   failure. I will write the information I have collected over last couple days on the reason behind the bug   DERBY-4331   and apossible fix for it but first would like to comment on Mike\'s proposal about backing out some of   DERBY-3926   changes \\n\\n I agree with the partial backout of   DERBY-3926  . The code proposed for backout was written to cover additional queries so that we can avoid sorting for them if possible but from what I recall, it was not needed for fixing   DERBY-3926  . So it should be safe to backout part of the change w\\/o impacting any queries negatively. It will be good to do full tests before we commit those changes though.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12739709\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-4331?focusedCommentId=12739709&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12739709\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mikem\\\" id=\\\"commentauthor_12739709_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mikem\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mikem\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mike Matrigali\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12739709_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Aug\\/09 20:03\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-05T20:03:19+0000\'\u003e05\\/Aug\\/09 20:03\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003ehere is the diff file from the wisconsin diffs.  I am working through it, but it is taking\u003cbr\\/\u003e\\ntime.  A lot of the diffs are that the new plan picks a different order which is also\u003cbr\\/\u003e\\na valid sort avoidance plan, they are the of the form where we have TABLE1 with\u003cbr\\/\u003e\\nINDEX1(id) and TABLE2 with INDEX2(id) and query of form:\u003cbr\\/\u003e\\nselect xxx\u003cbr\\/\u003e\\nwhere\u003cbr\\/\u003e\\nTABLE1.id = TABLE2.id\u003cbr\\/\u003e\\norder by TABLE1.id\u003c\\/p\u003e\\n\\n\u003cp\u003eprior to backing out equijoin stuff we would often pick INDEX2 as left most using the equijoin logic, but now without it we instead find plan using INDEX1 as left most.  No\u003cbr\\/\u003e\\nloss in performance as both provide a valid sort avoidance plan - just a lot of diffs.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mikem\\\" id=\\\"commentauthor_12739709_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mikem\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mikem\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mike Matrigali\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12739709_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Aug\\/09 20:03\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-05T20:03:19+0000\'\u003e05\\/Aug\\/09 20:03\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    here is the diff file from the wisconsin diffs.  I am working through it, but it is taking \\ntime.  A lot of the diffs are that the new plan picks a different order which is also \\na valid sort avoidance plan, they are the of the form where we have TABLE1 with \\nINDEX1(id) and TABLE2 with INDEX2(id) and query of form: \\nselect xxx \\nwhere \\nTABLE1.id = TABLE2.id \\norder by TABLE1.id \\n\\n prior to backing out equijoin stuff we would often pick INDEX2 as left most using the equijoin logic, but now without it we instead find plan using INDEX1 as left most.  No \\nloss in performance as both provide a valid sort avoidance plan - just a lot of diffs.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12739715\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-4331?focusedCommentId=12739715&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12739715\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mikem\\\" id=\\\"commentauthor_12739715_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mikem\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mikem\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mike Matrigali\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12739715_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Aug\\/09 20:14\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-05T20:14:26+0000\'\u003e05\\/Aug\\/09 20:14\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003emy plan for this fix is going to be the proposed patch along with adding the new test cases for 4331 to the test suite.  I am running full set of tests against trunk now and analysing the wisconsin diffs.\u003cbr\\/\u003e\\nI\'ve posted the wisconsin diffs which as is the case for query plan diffs are quite extensive \u003cbr\\/\u003e\\n(15k lines) - but so far nothing surprising.\u003c\\/p\u003e\\n\\n\u003cp\u003eIf all goes well I would first check into trunk and then subsequently would like to backport to 10.5 and then hopefully  a new 10.5 apache release could be made (along with whatever we are allowed to do to make it unlikely apache users will use the previous one).\u003c\\/p\u003e\\n\\n\u003cp\u003eI plan on checking in even if there are a few cases where we use to do sort avoidance and now\u003cbr\\/\u003e\\nwe don\'t.  If I do this I would file a new JIRA issue outlining these cases, which could be addressed\u003cbr\\/\u003e\\nlater.  Note these would only represent performance enhancements, the queries would be returning\u003cbr\\/\u003e\\ncorrect results.\u003c\\/p\u003e\\n\\n\u003cp\u003eI would appreciate it if anyone thinks this is a bad idea to let me know sooner than later.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mikem\\\" id=\\\"commentauthor_12739715_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mikem\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mikem\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mike Matrigali\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12739715_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Aug\\/09 20:14\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-05T20:14:26+0000\'\u003e05\\/Aug\\/09 20:14\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    my plan for this fix is going to be the proposed patch along with adding the new test cases for 4331 to the test suite.  I am running full set of tests against trunk now and analysing the wisconsin diffs. \\nI\'ve posted the wisconsin diffs which as is the case for query plan diffs are quite extensive  \\n(15k lines) - but so far nothing surprising. \\n\\n If all goes well I would first check into trunk and then subsequently would like to backport to 10.5 and then hopefully  a new 10.5 apache release could be made (along with whatever we are allowed to do to make it unlikely apache users will use the previous one). \\n\\n I plan on checking in even if there are a few cases where we use to do sort avoidance and now \\nwe don\'t.  If I do this I would file a new JIRA issue outlining these cases, which could be addressed \\nlater.  Note these would only represent performance enhancements, the queries would be returning \\ncorrect results. \\n\\n I would appreciate it if anyone thinks this is a bad idea to let me know sooner than later.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12739718\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-4331?focusedCommentId=12739718&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12739718\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kmarsden\\\" id=\\\"commentauthor_12739718_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kmarsden\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kmarsden\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Kathey Marsden\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12739718_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Aug\\/09 20:21\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-05T20:21:34+0000\'\u003e05\\/Aug\\/09 20:21\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003ePut this in two unrelated issues. Not sure if there is a problem with my browser or the driver.  I think probably the latter.  Hopefully got it right this time.\u003c\\/p\u003e\\n\\n\u003cp\u003eAs a matter of bookkeeping, if all of the wisconsin diffs are deemed acceptable and other tests and reviews pass, I think we should do the partial backout as a resolution of this issue. Then both \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-3926\\\" title=\\\"Incorrect ORDER BY caused by index\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-3926\\\"\u003e\u003cdel\u003eDERBY-3926\u003c\\/del\u003e\u003c\\/a\u003e and \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-4331\\\" title=\\\"Join returns results in wrong order\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-4331\\\"\u003e\u003cdel\u003eDERBY-4331\u003c\\/del\u003e\u003c\\/a\u003e can be resolved and a new issue opened for any follow up sort avoidance optimizations.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kmarsden\\\" id=\\\"commentauthor_12739718_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kmarsden\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kmarsden\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Kathey Marsden\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12739718_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Aug\\/09 20:21\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-05T20:21:34+0000\'\u003e05\\/Aug\\/09 20:21\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Put this in two unrelated issues. Not sure if there is a problem with my browser or the driver.  I think probably the latter.  Hopefully got it right this time. \\n\\n As a matter of bookkeeping, if all of the wisconsin diffs are deemed acceptable and other tests and reviews pass, I think we should do the partial backout as a resolution of this issue. Then both   DERBY-3926   and   DERBY-4331   can be resolved and a new issue opened for any follow up sort avoidance optimizations.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12739757\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-4331?focusedCommentId=12739757&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12739757\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mamtas\\\" id=\\\"commentauthor_12739757_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mamtas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mamtas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mamta A. Satoor\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12739757_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Aug\\/09 21:15\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-05T21:15:21+0000\'\u003e05\\/Aug\\/09 21:15\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003ei am attaching a patch for additional junits tests which were collected from this jira entry. Mike, can you please run the test on your codeline to see if works fine?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mamtas\\\" id=\\\"commentauthor_12739757_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mamtas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mamtas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mamta A. Satoor\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12739757_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Aug\\/09 21:15\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-05T21:15:21+0000\'\u003e05\\/Aug\\/09 21:15\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    i am attaching a patch for additional junits tests which were collected from this jira entry. Mike, can you please run the test on your codeline to see if works fine?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12739810\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-4331?focusedCommentId=12739810&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12739810\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mikem\\\" id=\\\"commentauthor_12739810_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mikem\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mikem\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mike Matrigali\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12739810_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Aug\\/09 23:14\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-05T23:14:29+0000\'\u003e05\\/Aug\\/09 23:14\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Mike Matrigali - 05\\/Aug\\/09 23:15\\\"\u003eedited\u003c\\/span\u003e \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eStill have not finished running tests (all of the junit tests passed, waiting on old\u003cbr\\/\u003e\\nharness tests), derby_4331_patch_2.diff is the current state of the patch.  It includes the new tests that mamta contributed (I had to make a few minor changes to get the queries to run correctly).  \u003c\\/p\u003e\\n\\n\u003cp\u003eIt also includes an update to the wisconsin tests and master.  I worked through the\u003cbr\\/\u003e\\ndiffs and there were only 2 queries that previous to this patch that produced a \u003cbr\\/\u003e\\nsort avoidance plan and that now don\'t.  I have filed \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-4339\\\" title=\\\"improve sort avoidance algorithm to include equijoin relationships\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-4339\\\"\u003eDERBY-4339\u003c\\/a\u003e to note these \u003cbr\\/\u003e\\n2 queries:\u003cbr\\/\u003e\\nselect * from --DERBY-PROPERTIES joinOrder=FIXED\u003cbr\\/\u003e\\nTENKTUP2, TENKTUP1\u003cbr\\/\u003e\\nwhere TENKTUP1.unique1 = TENKTUP2.unique1\u003cbr\\/\u003e\\nand TENKTUP2.unique1 &lt; 2500\u003cbr\\/\u003e\\norder by TENKTUP1.unique1\'; \u003cbr\\/\u003e\\nselect * from TENKTUP1, TENKTUP2\u003cbr\\/\u003e\\nwhere TENKTUP1.unique1 = TENKTUP2.unique1\u003cbr\\/\u003e\\norder by TENKTUP1.unique1 = TENKTUP2.unique1 \u003c\\/p\u003e\\n\\n\u003cp\u003eAll the other diffs were changes to the plans where the optimizer just choose \u003cbr\\/\u003e\\ndifferent ways to provide a sort avoidance plan with the available indexes.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mikem\\\" id=\\\"commentauthor_12739810_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mikem\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mikem\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mike Matrigali\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12739810_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Aug\\/09 23:14\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-05T23:14:29+0000\'\u003e05\\/Aug\\/09 23:14\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Mike Matrigali - 05\\/Aug\\/09 23:15\\\"\u003eedited\u003c\\/span\u003e                   Still have not finished running tests (all of the junit tests passed, waiting on old \\nharness tests), derby_4331_patch_2.diff is the current state of the patch.  It includes the new tests that mamta contributed (I had to make a few minor changes to get the queries to run correctly).   \\n\\n It also includes an update to the wisconsin tests and master.  I worked through the \\ndiffs and there were only 2 queries that previous to this patch that produced a  \\nsort avoidance plan and that now don\'t.  I have filed  DERBY-4339  to note these  \\n2 queries: \\nselect * from --DERBY-PROPERTIES joinOrder=FIXED \\nTENKTUP2, TENKTUP1 \\nwhere TENKTUP1.unique1 = TENKTUP2.unique1 \\nand TENKTUP2.unique1 &lt; 2500 \\norder by TENKTUP1.unique1\';  \\nselect * from TENKTUP1, TENKTUP2 \\nwhere TENKTUP1.unique1 = TENKTUP2.unique1 \\norder by TENKTUP1.unique1 = TENKTUP2.unique1  \\n\\n All the other diffs were changes to the plans where the optimizer just choose  \\ndifferent ways to provide a sort avoidance plan with the available indexes.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12739816\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-4331?focusedCommentId=12739816&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12739816\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mikem\\\" id=\\\"commentauthor_12739816_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mikem\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mikem\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mike Matrigali\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12739816_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Aug\\/09 23:19\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-05T23:19:32+0000\'\u003e05\\/Aug\\/09 23:19\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eproposed patch will stop sort avoidance on the types of queries described in \u003cbr\\/\u003e\\n\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-4339\\\" title=\\\"improve sort avoidance algorithm to include equijoin relationships\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-4339\\\"\u003eDERBY-4339\u003c\\/a\u003e\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mikem\\\" id=\\\"commentauthor_12739816_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mikem\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mikem\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mike Matrigali\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12739816_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Aug\\/09 23:19\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-05T23:19:32+0000\'\u003e05\\/Aug\\/09 23:19\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    proposed patch will stop sort avoidance on the types of queries described in  \\n DERBY-4339               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12739858\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-4331?focusedCommentId=12739858&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12739858\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"lilywei\\\" id=\\\"commentauthor_12739858_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=lilywei\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"lilywei\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Lily Wei\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12739858_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'06\\/Aug\\/09 01:28\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-06T01:28:17+0000\'\u003e06\\/Aug\\/09 01:28\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI only run tests again repro2.sql and \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-3926\\\" title=\\\"Incorrect ORDER BY caused by index\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-3926\\\"\u003e\u003cdel\u003eDERBY-3926\u003c\\/del\u003e\u003c\\/a\u003e and both result are correct. Nothing feels better when correct result returns. Thanks!!!\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"lilywei\\\" id=\\\"commentauthor_12739858_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=lilywei\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"lilywei\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Lily Wei\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12739858_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'06\\/Aug\\/09 01:28\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-06T01:28:17+0000\'\u003e06\\/Aug\\/09 01:28\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I only run tests again repro2.sql and   DERBY-3926   and both result are correct. Nothing feels better when correct result returns. Thanks!!!              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12740149\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-4331?focusedCommentId=12740149&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12740149\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mamtas\\\" id=\\\"commentauthor_12740149_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mamtas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mamtas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mamta A. Satoor\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12740149_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'06\\/Aug\\/09 16:52\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-06T16:52:12+0000\'\u003e06\\/Aug\\/09 16:52\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThe bug behind the query below is as follows\u003cbr\\/\u003e\\nSELECT CS.ID \u003cbr\\/\u003e\\nFROM --DERBY-PROPERTIES joinOrder=FIXED \u003cbr\\/\u003e\\n    FILES F --DERBY-PROPERTIES constraint=FILES_REPOSITORY_PATH \u003cbr\\/\u003e\\n    , FILECHANGES FC --DERBY-PROPERTIES constraint=FILECHANGES_FILE_CHANGESET \u003cbr\\/\u003e\\n    , CHANGESETS CS --DERBY-PROPERTIES constraint=CHANGESETS_PRIMARY_ID \u003cbr\\/\u003e\\nWHERE \u003cbr\\/\u003e\\n CS.ID = FC.CHANGESET AND \u003cbr\\/\u003e\\n F.ID = FC.FILE \u003cbr\\/\u003e\\n ORDER BY CS.ID DESC; \u003c\\/p\u003e\\n\\n\u003cp\u003eOptimizer while considering any join order collects the sorting provided by that join order. For instance, for the query above, optimizer will first start with \u003cspan class=\\\"error\\\"\u003e&#91;F, -1, -1&#93;\u003c\\/span\u003e as the join order and for this join order,  it knows that it can guarantee row ordering on FILES.REPOSITORY AND FILE.PATH. Next in the join order will be \u003cspan class=\\\"error\\\"\u003e&#91;F, FC, -1&#93;\u003c\\/span\u003e and now available sorting is F.REPOSITORY, F.PATH, FC.FILE and FC.CHANGESET. The important thing to notice here is that the sorting available at any point is in the order collected by optimizer and this piece of information was not being considered by the code removed by Mike from FromBaseTable. This behavior can be seen when optimizer is considering the join order \u003cspan class=\\\"error\\\"\u003e&#91;F, FC, CS&#93;\u003c\\/span\u003e. While considering this join order, the removed code from FromBaseTable kicks in for the predicate CS.ID=FC.CHANGESET. The removed code looks at equijoin CS.ID=FC.CHANGESET and it looks at the available ordering so far and sees FC.CHANGESET in there and incorrectly concludes that required sorting is available on CS.ID indirectly through FC.CHANGSET. It fails to take into account that FC.CHANGSET is in the 4th position in the ordering. The rows returned from \u003cspan class=\\\"error\\\"\u003e&#91;F, FC, -1&#93;\u003c\\/span\u003e are ordered F.REPOSITORY, F.PATH, FC.FILE and FC.CHANGSET and not just FC.CHANGESET. Because the code incorrectly decides that required sorting is available, it decides to avoid the sorting for the given query. \u003cbr\\/\u003e\\nThe result of the query above without Mike\'s changes are as follows\u003cbr\\/\u003e\\nID \u003cbr\\/\u003e\\n----------- \u003cbr\\/\u003e\\n1 \u003cbr\\/\u003e\\n2 \u003cbr\\/\u003e\\n3 \u003cbr\\/\u003e\\n2 \u003cbr\\/\u003e\\n2 \u003cbr\\/\u003e\\n3 \u003cbr\\/\u003e\\nAs we can see from above that FC.CHANGSET is sorted for every row selected from the outermost table F. \u003cbr\\/\u003e\\na)The first row in the result above is for the first row qualified from F\u003cbr\\/\u003e\\nb)The next 2 rows in the result above are for the second qualified row from F\u003cbr\\/\u003e\\nc) the 4th row in the result above is for the 3rd qualified row from F \u003cbr\\/\u003e\\nd)and last 2 rows in the result above are for the 4th qualified row from F. \u003c\\/p\u003e\\n\\n\u003cp\u003eIf the outermost optimizable F was only one row resultset, we could safely assume that the required ordering is provided by indexes being considered for \u003cspan class=\\\"error\\\"\u003e&#91;F, FC, -1&#93;\u003c\\/span\u003e but that is not the case. \u003c\\/p\u003e\\n\\n\u003cp\u003eIn future, if we ever decide to enhance sort avoidance code to qualify more queries for sort avoidance, we should consider the position of the sorted columns in available sorting list of columns and then decide if the query is pre-ordered on required ordering.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mamtas\\\" id=\\\"commentauthor_12740149_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mamtas\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mamtas\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mamta A. Satoor\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12740149_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'06\\/Aug\\/09 16:52\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-06T16:52:12+0000\'\u003e06\\/Aug\\/09 16:52\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    The bug behind the query below is as follows \\nSELECT CS.ID  \\nFROM --DERBY-PROPERTIES joinOrder=FIXED  \\n    FILES F --DERBY-PROPERTIES constraint=FILES_REPOSITORY_PATH  \\n    , FILECHANGES FC --DERBY-PROPERTIES constraint=FILECHANGES_FILE_CHANGESET  \\n    , CHANGESETS CS --DERBY-PROPERTIES constraint=CHANGESETS_PRIMARY_ID  \\nWHERE  \\n CS.ID = FC.CHANGESET AND  \\n F.ID = FC.FILE  \\n ORDER BY CS.ID DESC;  \\n\\n Optimizer while considering any join order collects the sorting provided by that join order. For instance, for the query above, optimizer will first start with  &#91;F, -1, -1&#93;  as the join order and for this join order,  it knows that it can guarantee row ordering on FILES.REPOSITORY AND FILE.PATH. Next in the join order will be  &#91;F, FC, -1&#93;  and now available sorting is F.REPOSITORY, F.PATH, FC.FILE and FC.CHANGESET. The important thing to notice here is that the sorting available at any point is in the order collected by optimizer and this piece of information was not being considered by the code removed by Mike from FromBaseTable. This behavior can be seen when optimizer is considering the join order  &#91;F, FC, CS&#93; . While considering this join order, the removed code from FromBaseTable kicks in for the predicate CS.ID=FC.CHANGESET. The removed code looks at equijoin CS.ID=FC.CHANGESET and it looks at the available ordering so far and sees FC.CHANGESET in there and incorrectly concludes that required sorting is available on CS.ID indirectly through FC.CHANGSET. It fails to take into account that FC.CHANGSET is in the 4th position in the ordering. The rows returned from  &#91;F, FC, -1&#93;  are ordered F.REPOSITORY, F.PATH, FC.FILE and FC.CHANGSET and not just FC.CHANGESET. Because the code incorrectly decides that required sorting is available, it decides to avoid the sorting for the given query.  \\nThe result of the query above without Mike\'s changes are as follows \\nID  \\n-----------  \\n1  \\n2  \\n3  \\n2  \\n2  \\n3  \\nAs we can see from above that FC.CHANGSET is sorted for every row selected from the outermost table F.  \\na)The first row in the result above is for the first row qualified from F \\nb)The next 2 rows in the result above are for the second qualified row from F \\nc) the 4th row in the result above is for the 3rd qualified row from F  \\nd)and last 2 rows in the result above are for the 4th qualified row from F.  \\n\\n If the outermost optimizable F was only one row resultset, we could safely assume that the required ordering is provided by indexes being considered for  &#91;F, FC, -1&#93;  but that is not the case.  \\n\\n In future, if we ever decide to enhance sort avoidance code to qualify more queries for sort avoidance, we should consider the position of the sorted columns in available sorting list of columns and then decide if the query is pre-ordered on required ordering.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12740202\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-4331?focusedCommentId=12740202&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12740202\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mikem\\\" id=\\\"commentauthor_12740202_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mikem\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mikem\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mike Matrigali\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12740202_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'06\\/Aug\\/09 18:57\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-06T18:57:20+0000\'\u003e06\\/Aug\\/09 18:57\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eupdating affects version, it is affected by a fix that has been backported all the way to 10.1 branch.\u003cbr\\/\u003e\\nAs tests pass I plan to backport all the way.  Waiting now on the end of my 10.5 tests run.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mikem\\\" id=\\\"commentauthor_12740202_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mikem\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mikem\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mike Matrigali\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12740202_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'06\\/Aug\\/09 18:57\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-06T18:57:20+0000\'\u003e06\\/Aug\\/09 18:57\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    updating affects version, it is affected by a fix that has been backported all the way to 10.1 branch. \\nAs tests pass I plan to backport all the way.  Waiting now on the end of my 10.5 tests run.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12740248\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-4331?focusedCommentId=12740248&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12740248\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mikem\\\" id=\\\"commentauthor_12740248_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mikem\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mikem\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mike Matrigali\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12740248_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'06\\/Aug\\/09 21:01\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-06T21:01:16+0000\'\u003e06\\/Aug\\/09 21:01\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI\'ve backported fix to 10.5 branch with svn checkin #801817\u003cbr\\/\u003e\\nAll tests passed for me on a 10.5 client, XP, ibm16 jvm.\u003c\\/p\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mikem\\\" id=\\\"commentauthor_12740248_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mikem\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mikem\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mike Matrigali\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12740248_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'06\\/Aug\\/09 21:01\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-06T21:01:16+0000\'\u003e06\\/Aug\\/09 21:01\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I\'ve backported fix to 10.5 branch with svn checkin #801817 \\nAll tests passed for me on a 10.5 client, XP, ibm16 jvm. \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12742432\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-4331?focusedCommentId=12742432&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12742432\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mikem\\\" id=\\\"commentauthor_12742432_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mikem\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mikem\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mike Matrigali\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12742432_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Aug\\/09 16:21\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-12T16:21:39+0000\'\u003e12\\/Aug\\/09 16:21\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003efix has been made in trunk and backported to 10.5, 10.4, 10.3, 10.2 and 10.1 branches.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mikem\\\" id=\\\"commentauthor_12742432_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mikem\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mikem\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mike Matrigali\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12742432_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Aug\\/09 16:21\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-12T16:21:39+0000\'\u003e12\\/Aug\\/09 16:21\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    fix has been made in trunk and backported to 10.5, 10.4, 10.3, 10.2 and 10.1 branches.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12745404\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-4331?focusedCommentId=12745404&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12745404\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"knutanders\\\" id=\\\"commentauthor_12745404_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=knutanders\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"knutanders\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Knut Anders Hatlen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12745404_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'20\\/Aug\\/09 11:43\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-20T11:43:31+0000\'\u003e20\\/Aug\\/09 11:43\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eUpdated fix versions to match the versions on the branches.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"knutanders\\\" id=\\\"commentauthor_12745404_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=knutanders\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"knutanders\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Knut Anders Hatlen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12745404_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'20\\/Aug\\/09 11:43\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-20T11:43:31+0000\'\u003e20\\/Aug\\/09 11:43\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Updated fix versions to match the versions on the branches.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12745406\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-4331?focusedCommentId=12745406&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12745406\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"knutanders\\\" id=\\\"commentauthor_12745406_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=knutanders\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"knutanders\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Knut Anders Hatlen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12745406_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'20\\/Aug\\/09 11:47\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-20T11:47:14+0000\'\u003e20\\/Aug\\/09 11:47\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eUpdated affects versions similarly.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"knutanders\\\" id=\\\"commentauthor_12745406_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=knutanders\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"knutanders\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Knut Anders Hatlen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12745406_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'20\\/Aug\\/09 11:47\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-20T11:47:14+0000\'\u003e20\\/Aug\\/09 11:47\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Updated affects versions similarly.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12745407\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-4331?focusedCommentId=12745407&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12745407\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"knutanders\\\" id=\\\"commentauthor_12745407_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=knutanders\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"knutanders\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Knut Anders Hatlen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12745407_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'20\\/Aug\\/09 11:49\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-20T11:49:11+0000\'\u003e20\\/Aug\\/09 11:49\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eVerified that the problem is fixed on trunk and 10.5.3.0 RC. Closing.\u003c\\/p\u003e\\n\\n\u003cp\u003eThanks for the quick fix!\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"knutanders\\\" id=\\\"commentauthor_12745407_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=knutanders\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"knutanders\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Knut Anders Hatlen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12745407_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'20\\/Aug\\/09 11:49\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-08-20T11:49:11+0000\'\u003e20\\/Aug\\/09 11:49\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Verified that the problem is fixed on trunk and 10.5.3.0 RC. Closing. \\n\\n Thanks for the quick fix!              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\"";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["scope-filter-data"]="{\"createScopeActions\":[],\"scopes\":[]}";
WRM._unparsedData["sidebar-collapsed-by-default"]="true";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:can-manage"]="false";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:with-icons"]="false";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:shortcuts"]="[]";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:project-id"]="10594";
WRM._unparsedData["sidebar-id"]="\"\u003cdiv class=\\\"aui-sidebar  projects-sidebar sidebar-pending\\\" \u003e\u003cdiv class=\\\"aui-sidebar-wrapper\\\"\u003e\u003cdiv class=\\\"aui-sidebar-body\\\"\u003e\u003cheader class=\\\"aui-page-header\\\"\u003e\u003cdiv class=\\\"aui-page-header-inner\\\"\u003e\u003cdiv class=\\\"aui-page-header-image\\\"\u003e\u003ca href=\\\"\\/jira\\/projects\\/DERBY\\/summary\\\" title=\\\"Derby\\\" class=\\\"jira-project-avatar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-large aui-avatar-project\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"\\/jira\\/secure\\/projectavatar?pid=10594&amp;avatarId=10122\\\" alt=\\\"Derby\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e\u003cimg src=\\\"data:image\\/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI\\/Pg0KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE4LjEuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPg0KPHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgdmlld0JveD0iMCAwIDMwMCAzMDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMwMCAzMDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxnIGlkPSJMYXllcl8yIj4NCgk8cGF0aCBzdHlsZT0iZmlsbDojRjc5MjMyOyIgZD0iTTE1MCwwQzY2LjY2NywwLDAsNjYuNjY3LDAsMTUwczY2LjY2NywxNTAsMTUwLDE1MHMxNTAtNjYuNjY3LDE1MC0xNTBTMjMzLjMzMywwLDE1MCwweg0KCQkgTTEzNi42NjcsMTc4LjMzM0wxMjUsMTkwbC00MS42NjctNDBMOTUsMTM4LjMzM2wzMC0zMEwxMzYuNjY3LDEyMGwtMzAsMzBMMTM2LjY2NywxNzguMzMzeiBNMjA1LDE2MS42NjdsLTMwLDMwTDE2My4zMzMsMTgwDQoJCWwzMC0zMGwtMzAtMzBMMTc1LDEwOC4zMzNMMjE2LjY2NywxNTBMMjA1LDE2MS42Njd6Ii8+DQo8L2c+DQo8Zz4NCgk8cG9seWdvbiBzdHlsZT0iZmlsbDojRkZGRkZGOyIgcG9pbnRzPSIxNzUsMTkxLjY2NyAyMDUsMTYxLjY2NyAyMTYuNjY3LDE1MCAxNzUsMTA4LjMzMyAxNjMuMzMzLDEyMCAxOTMuMzMzLDE1MCAxNjMuMzMzLDE4MCAJIi8+DQoJPHBvbHlnb24gc3R5bGU9ImZpbGw6I0ZGRkZGRjsiIHBvaW50cz0iMTI1LDEwOC4zMzMgOTUsMTM4LjMzMyA4My4zMzMsMTUwIDEyNSwxOTAgMTM2LjY2NywxNzguMzMzIDEwNi42NjcsMTUwIDEzNi42NjcsMTIwIAkiLz4NCjwvZz4NCjwvc3ZnPg0K\\\" alt=\\\"Icon indicating the project type\\\" class=\\\"jira-project-avatar-icon\\\" \\/\u003e\u003c\\/a\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-image --\u003e\u003cdiv class=\\\"aui-page-header-main\\\"\u003e\u003ch1\u003e\u003cdiv class=\\\"aui-group aui-group-split\\\"\u003e\u003cdiv class=\\\"aui-item project-title\\\"\u003e\u003ca href=\\\"\\/jira\\/projects\\/DERBY\\/summary\\\" title=\\\"Derby\\\"\u003eDerby\u003c\\/a\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/h1\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-main --\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-inner --\u003e\u003c\\/header\u003e\u003c!-- .aui-page-header --\u003e\u003cnav class=\\\"aui-navgroup aui-navgroup-vertical\\\"\u003e\u003cdiv class=\\\"aui-navgroup-inner sidebar-content-container\\\"\u003e\u003cdiv class=\\\"aui-sidebar-group aui-sidebar-group-tier-one\\\" data-id=\\\"sidebar-navigation-panel\\\"\u003e\u003cul class=\\\"aui-nav\\\"\u003e\u003cli class=\\\"aui-nav-selected\\\" \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/DERBY\\/issues\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-issue-navigator:sidebar-issue-navigator\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large icon-sidebar-issues\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Issues\\\"\u003eIssues\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003cli  \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/DERBY?selectedItem=com.atlassian.jira.jira-projects-plugin:report-page\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-plugin:report-page\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large agile-icon-report\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Reports\\\"\u003eReports\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003cli  \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/DERBY?selectedItem=com.atlassian.jira.jira-projects-plugin:components-page\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-plugin:components-page\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large icon-sidebar-components\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Components\\\"\u003eComponents\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003c\\/ul\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/nav\u003e\u003c\\/div\u003e\u003cdiv class=\\\"aui-sidebar-footer\\\"\u003e\u003ca class=\\\"aui-button aui-button-subtle aui-sidebar-toggle aui-sidebar-footer-tipsy\\\" data-tooltip=\\\"Expand sidebar ( [ )\\\" href=\\\"#\\\"\u003e\u003cspan class=\\\"aui-icon aui-icon-small\\\"\u003e\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/div\u003e\"";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:bigpipe-init/jira.webresources:bigpipe-init.js" data-wrm-key="jira.webresources:bigpipe-init" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <form id="jira_request_timing_info" class="dont-default-focus"> 
   <fieldset class="parameters hidden"> 
    <input type="hidden" title="jira.request.start.millis" value="1520239786811"> 
    <input type="hidden" title="jira.request.server.time" value="352"> 
    <input type="hidden" title="jira.request.id" value="529x94403980x4"> 
    <input type="hidden" title="jira.session.expiry.time" value="-"> 
    <input type="hidden" title="jira.session.expiry.in.mins" value="-"> 
    <input id="jiraConcurrentRequests" type="hidden" name="jira.request.concurrent.requests" value="2"> 
    <input type="hidden" title="db.reads.time.in.ms" value="37"> 
    <input type="hidden" title="db.conns.time.in.ms" value="44"> 
   </fieldset> 
  </form> 
  <!--
	                 REQUEST ID : 529x94403980x4
	          REQUEST TIMESTAMP : [05/Mar/2018:08:49:46 +0000]
	               REQUEST TIME : 0.3520
	                 ASESSIONID : -
	        CONCURRENT REQUESTS : 2

	                      db.reads : OpSnapshot{name='db.reads', invocationCount=23, elapsedTotal=37575382, elapsedMin=472220, elapsedMax=19400193, resultSetSize=0, cpuTotal=0, cpuMin=0, cpuMax=0}
	                      db.conns : OpSnapshot{name='db.conns', invocationCount=27, elapsedTotal=44925866, elapsedMin=520233, elapsedMax=19433559, resultSetSize=0, cpuTotal=0, cpuMin=0, cpuMax=0}
-->   
 </body>
</html>