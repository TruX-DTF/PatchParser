<!doctype html>
<html lang="en">
 <head> 
  <meta charset="utf-8"> 
  <meta http-equiv="X-UA-Compatible" content="IE=Edge"> 
  <meta name="application-name" content="JIRA" data-name="jira" data-version="7.6.3">
  <meta name="ajs-viewissue-use-history-api" content="false"> 
  <meta name="ajs-jira-base-url" content="https://issues.apache.org/jira"> 
  <meta name="ajs-serverRenderedViewIssue" content="true"> 
  <meta name="ajs-dev-mode" content="false"> 
  <meta name="ajs-context-path" content="/jira"> 
  <meta name="ajs-version-number" content="7.6.3"> 
  <meta name="ajs-build-number" content="76005"> 
  <meta name="ajs-is-beta" content="false"> 
  <meta name="ajs-is-rc" content="false"> 
  <meta name="ajs-is-snapshot" content="false"> 
  <meta name="ajs-is-milestone" content="false"> 
  <meta name="ajs-remote-user" content=""> 
  <meta name="ajs-remote-user-fullname" content=""> 
  <meta name="ajs-user-locale" content="en_UK"> 
  <meta name="ajs-user-locale-group-separator" content=","> 
  <meta name="ajs-app-title" content="ASF JIRA"> 
  <meta name="ajs-keyboard-shortcuts-enabled" content="true"> 
  <meta name="ajs-keyboard-accesskey-modifier" content="Ctrl+Alt"> 
  <meta name="ajs-enabled-dark-features" content="[&quot;com.atlassian.jira.agile.darkfeature.editable.detailsview&quot;,&quot;nps.survey.inline.dialog&quot;,&quot;com.atlassian.jira.agile.darkfeature.edit.closed.sprint.enabled&quot;,&quot;jira.plugin.devstatus.phasetwo&quot;,&quot;jira.frother.reporter.field&quot;,&quot;atlassian.rest.xsrf.legacy.enabled&quot;,&quot;jira.issue.status.lozenge&quot;,&quot;com.atlassian.jira.config.BIG_PIPE&quot;,&quot;com.atlassian.jira.projects.issuenavigator&quot;,&quot;com.atlassian.jira.config.PDL&quot;,&quot;jira.plugin.devstatus.phasetwo.enabled&quot;,&quot;atlassian.aui.raphael.disabled&quot;,&quot;app-switcher.new&quot;,&quot;frother.assignee.field&quot;,&quot;com.atlassian.jira.projects.ProjectCentricNavigation.Switch&quot;,&quot;sd.internal.base.off.thread.on.completion.events.enabled&quot;,&quot;jira.onboarding.cyoa&quot;,&quot;com.atlassian.jira.agile.darkfeature.kanplan.enabled&quot;,&quot;sd.slavalue.record.updated.date.enabled&quot;,&quot;com.atlassian.jira.config.ProjectConfig.MENU&quot;,&quot;com.atlassian.jira.projects.sidebar.DEFER_RESOURCES&quot;,&quot;com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions.enabled&quot;,&quot;com.atlassian.jira.agile.darkfeature.sprint.goal.enabled&quot;,&quot;jira.zdu.admin-updates-ui&quot;,&quot;jira.zdu.jmx-monitoring&quot;,&quot;sd.sla.improved.rendering.enabled&quot;,&quot;sd.canned.responses.enabled&quot;,&quot;sd.new.settings.sidebar.location.disabled&quot;,&quot;jira.zdu.cluster-upgrade-state&quot;,&quot;com.atlassian.jira.agile.darkfeature.splitissue&quot;,&quot;com.atlassian.jira.config.CoreFeatures.LICENSE_ROLES_ENABLED&quot;,&quot;com.atlassian.feedback.feedback-button-move-to-header-enable&quot;,&quot;jira.export.csv.enabled&quot;]"> 
  <meta name="ajs-in-admin-mode" content="false"> 
  <meta name="ajs-is-sysadmin" content="false"> 
  <meta name="ajs-is-admin" content="false"> 
  <meta name="ajs-outgoing-mail-enabled" content="true"> 
  <meta name="ajs-date-relativize" content="true"> 
  <meta name="ajs-date-time" content="HH:mm"> 
  <meta name="ajs-date-day" content="EEEE HH:mm"> 
  <meta name="ajs-date-dmy" content="dd/MMM/yy"> 
  <meta name="ajs-date-complete" content="dd/MMM/yy HH:mm"> 
  <script type="text/javascript">var AJS=AJS||{};AJS.debug=true;</script> 
  <meta id="atlassian-token" name="atlassian-token" content="A5KQ-2QAV-T4JA-FDED|90dc15b5b8a7e164eecf24d6a0072466f3ac1152|lout"> 
  <link rel="shortcut icon" href="/jira/s/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/_/favicon.ico"> 
  <!--[if IE]><![endif]--> 
  <script type="text/javascript">
    (function() {
        var contextPath = '/jira';
        var eventBuffer = [];

        function printDeprecatedMsg() {
            if (console && console.warn) {
                console.warn('DEPRECATED JS - contextPath global variable has been deprecated since 7.4.0. Use `wrm/context-path` module instead.');
            }
        }

        function sendEvent(analytics, postfix) {
            analytics.send({
                name: 'js.globals.contextPath.' + postfix
            });
        }

        function sendDeprecatedEvent(postfix) {
            try {
                var analytics = require('jira/analytics');
                if (eventBuffer.length) {
                    eventBuffer.forEach(function(value) {
                        sendEvent(analytics, value);
                    });
                    eventBuffer = [];
                }

                if (postfix) {
                    sendEvent(analytics, postfix);
                }
            } catch(ex) {
                eventBuffer.push(postfix);
                setTimeout(sendDeprecatedEvent, 1000);
            }
        }

        Object.defineProperty(window, 'contextPath', {
            get: function() {
                printDeprecatedMsg();
                sendDeprecatedEvent('get');
                return contextPath;
            },
            set: function(value) {
                printDeprecatedMsg();
                sendDeprecatedEvent('set');
                contextPath = value;
            }
        });
    })();

</script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["com.atlassian.plugins.atlassian-plugins-webresource-plugin:context-path.context-path"]="\"/jira\"";
WRM._unparsedData["jira.webresources:feature-flags.feature-flag-data"]="{\"enabled-feature-keys\":[\"com.atlassian.jira.agile.darkfeature.editable.detailsview\",\"nps.survey.inline.dialog\",\"com.atlassian.jira.agile.darkfeature.edit.closed.sprint.enabled\",\"jira.plugin.devstatus.phasetwo\",\"jira.frother.reporter.field\",\"atlassian.rest.xsrf.legacy.enabled\",\"jira.issue.status.lozenge\",\"com.atlassian.jira.config.BIG_PIPE\",\"com.atlassian.jira.projects.issuenavigator\",\"com.atlassian.jira.config.PDL\",\"jira.plugin.devstatus.phasetwo.enabled\",\"atlassian.aui.raphael.disabled\",\"app-switcher.new\",\"frother.assignee.field\",\"com.atlassian.jira.projects.ProjectCentricNavigation.Switch\",\"sd.internal.base.off.thread.on.completion.events.enabled\",\"jira.onboarding.cyoa\",\"com.atlassian.jira.agile.darkfeature.kanplan.enabled\",\"sd.slavalue.record.updated.date.enabled\",\"com.atlassian.jira.config.ProjectConfig.MENU\",\"com.atlassian.jira.projects.sidebar.DEFER_RESOURCES\",\"com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions.enabled\",\"com.atlassian.jira.agile.darkfeature.sprint.goal.enabled\",\"jira.zdu.admin-updates-ui\",\"jira.zdu.jmx-monitoring\",\"sd.sla.improved.rendering.enabled\",\"sd.canned.responses.enabled\",\"sd.new.settings.sidebar.location.disabled\",\"jira.zdu.cluster-upgrade-state\",\"com.atlassian.jira.agile.darkfeature.splitissue\",\"com.atlassian.jira.config.CoreFeatures.LICENSE_ROLES_ENABLED\",\"com.atlassian.feedback.feedback-button-move-to-header-enable\",\"jira.export.csv.enabled\"],\"feature-flag-states\":{\"sd.customer.profile.multi.languages\":true,\"sd.customer.portal.transitions\":true,\"sd.customer.portal.transitions.config\":true,\"sd.custom.email.stripping.rules\":false,\"sd.sla.lucene.issue.id.callback.performance\":true,\"sd.new.settings.sidebar.location\":true,\"sd.workload.report.paginator\":true,\"sd.experimental.portal.search.algorithm.default.1\":false,\"sd.customer.portal.help.center.agent.announcement\":true,\"sd.sla.improved.rendering\":false,\"sd.experimental.portal.search.algorithm.default.2\":false,\"sd.customer.feedback.validate.reporter.on.token\":true,\"sd.custom.email.notifications.utf8.csat.star\":true,\"sd.who.create.customers.by.email.setting\":true,\"com.atlassian.jira.issuetable.move.links.hidden\":true,\"jira.renderer.consider.variable.format\":true,\"sd.stats.event.tracking\":true,\"sd.password.helper.dialog\":true,\"sd.canned.responses\":false,\"sd.portal.help.center.customer.signup.secondary.email\":true,\"sd.custom.email.notifications.manage.language\":true,\"sd.use.search.by.permissions\":true,\"sd.slavalue.record.updated.date\":false,\"sd.report.custom.date.range\":false,\"sd.kb.article.helpfulness.report\":false,\"com.atlassian.jira.agile.darkfeature.sprint.goal\":false,\"sd.custom.email.notifications.styling\":true,\"sd.workinghours.new.page.bulldog.1\":false,\"sd.customer.portal.two.step.login\":false,\"sd.automation.psmq.async.executor\":true,\"sd.customer.org.list.page.lazy.search\":true,\"sd.approval.requested.when.handler\":true,\"sd.request.type.field.rest.api.filtering.bugfix\":true,\"sd.automation.then.action.auto.answer.approval\":true,\"com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions\":false,\"sla.will.only.be.paused.if.they.are.already.started\":true,\"sd.kb.comment.share.stats.collection\":true,\"com.atlassian.jira.upgrade.startup.fix.index\":true,\"sd.customer.orgs.group.participants\":true,\"sd.portal.help.center.customer.signup\":true,\"sd.sla.agent.jql.security.restricted\":true,\"sd.test.feature.flag.x\":true,\"sd.test.feature.flag.y\":false,\"sd.cluster.safe.mail.channel.shutdown\":true,\"sd.email.channel.folders\":false,\"sd.email.analytics.open\":false,\"sd.kb.project.creation.create.link.space\":true,\"sd.workinghours.new.page\":false,\"sd.confluence.anonymous.permission.fix\":true,\"com.atlassian.jira.issuetable.draggable\":true,\"sd.customer.portal.project.agent.announcement\":true,\"sd.automation.audit.log\":true,\"jira.jql.suggestrecentfields\":false,\"sd.canned.responses.check.index.startup\":false,\"sd.new.project.templates\":true,\"sd.custom.email.notifications.custom.rules.simple.ui\":false,\"sd.custom.email.notifications.cut.over\":true,\"sd.dismiss.all.misconfiguration.warnings.setting\":true,\"com.atlassian.jira.agile.darkfeature.optimistic.transitions\":true,\"sd.sla.configurations.export\":true,\"sd.canned.responses.variable.substitution\":true,\"com.atlassian.jira.agile.darkfeature.kanplan\":false,\"sd.internal.base.off.thread.on.completion.events\":false,\"sd.customer.portal.prioties.per.project.fix\":true,\"jira.instrumentation.laas\":false,\"sd.kb.self.service.report\":false,\"sla.improved.request.handling\":true,\"sd.no.schedule.async.upgrade.tasks\":true,\"sd.kb.primary.nav\":true,\"com.atlassian.jira.agile.darkfeature.edit.closed.sprint\":false,\"sd.kb.issueview.panel.phase2\":true,\"sd.email.outsider.comments\":true,\"jira.create.linked.issue\":true,\"sd.kb.issueview.panel\":true,\"jira.sal.host.connect.accessor.existing.transaction.will.create.transactions\":true,\"sd.approvals.light.weight\":false,\"sd.automation.then.webhook\":true,\"sd.respect.inline.edit.issue.off\":true,\"jira.jql.smartautoselectfirst\":false,\"sd.global.portal.search.atlassian.only.tracking\":false,\"sd.automation.if.condition.comment.primary.action\":true,\"jira.priorities.per.project\":true,\"sd.inline.noformat.renderer\":true,\"sd.customer.request.type.create.edit.screens\":true}}";
WRM._unparsedData["jira.webresources:default-comment-security-level.DefaultCommentSecurityLevelHelpLink"]="{\"extraClasses\":\"default-comment-level-help\",\"title\":\"Commenting on an Issue\",\"url\":\"https://docs.atlassian.com/jira/jcore-docs-076/Editing+and+collaborating+on+issues#Editingandcollaboratingonissues-restrictacomment\",\"isLocal\":false}";
WRM._unparsedData["jira.webresources:dateFormatProvider.allFormats"]="{\"dateFormats\":{\"meridiem\":[\"AM\",\"PM\"],\"eras\":[\"BC\",\"AD\"],\"months\":[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],\"monthsShort\":[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],\"weekdaysShort\":[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"],\"weekdays\":[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"]},\"lookAndFeelFormats\":{\"relativize\":\"true\",\"time\":\"HH:mm\",\"day\":\"EEEE HH:mm\",\"dmy\":\"dd/MMM/yy\",\"complete\":\"dd/MMM/yy HH:mm\"}}";
WRM._unparsedData["com.atlassian.jira.jira-issue-nav-components:issueviewer.features"]="{\"rteEnabled\":true}";
WRM._unparsedData["com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone.thumbnail-mime-types"]="\"image/png,image/vnd.wap.wbmp,image/x-png,image/jpeg,image/bmp,image/gif\"";
WRM._unparsedData["com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone.upload-limit"]="\"62914560\"";
WRM._unparsedData["com.atlassian.plugins.helptips.jira-help-tips:help-tip-manager.JiraHelpTipData"]="{\"anonymous\":true}";
WRM._unparsedData["com.atlassian.jira.jira-view-issue-plugin:controller-subtasks.controller.subtasks.parameters"]="{\"url\":\"/rest/api/2/issue/{issueId}/subtask/move\"}";
WRM._unparsedData["com.atlassian.analytics.analytics-client:policy-update-init.policy-update-data-provider"]="false";
WRM._unparsedData["com.atlassian.analytics.analytics-client:programmatic-analytics-init.programmatic-analytics-data-provider"]="false";
WRM._unparsedData["com.atlassian.servicedesk.servicedesk-canned-responses-plugin:canned-responses-data-provider.data"]="{\"substitutionVariables\":{\"issue.summary\":\"Issue summary\",\"issue.description\":\"Issue description\",\"issue.key\":\"Issue key\",\"issue.reporter.name\":\"Issue reporter\",\"issue.resolution\":\"Issue resolution\",\"request.url\":\"Request URL\",\"request.status\":\"Request status\"}}";
WRM._unparsedData["jira.webresources:avatar-picker.data"]="{}";
WRM._unparsedData["com.atlassian.feedback.jira-feedback-plugin:button-resources-init.data"]="{\"jira.feedback.plugin.issue.collector.core\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"jira.feedback.plugin.issue.collector.default\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"jira.feedback.plugin.issue.collector.service.desk\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector.js?locale=en-UK&collectorId=a698db21\",\"jira.feedback.plugin.issue.collector.software\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"isHeaderFeedbackButtonEnabled\":true}";
WRM._unparsedData["com.atlassian.jira.jira-header-plugin:dismissedFlags.flags"]="{\"dismissed\":[]}";
WRM._unparsedData["com.atlassian.jira.jira-header-plugin:newsletter-signup-tip-init.newsletterSignup"]="{\"signupDescription\":\"Get updates, inspiration and best practices from the team behind JIRA.\",\"formUrl\":\"https://www.atlassian.com/apis/exact-target/{0}/subscribe?mailingListId=1401671\",\"signupTitle\":\"Sign up!\",\"signupId\":\"newsletter-signup-tip\",\"showNewsletterTip\":false}";
WRM._unparsedData["com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources.ptAnalyticsData"]="{\"instanceCreatedDate\":\"2011-01-31\"}";
WRM._unparsedData["com.atlassian.servicedesk.core-ui:util-help-links.help-links"]="{\"help\":{\"email.settings\":\"https://docs.atlassian.com/jira/jsd-docs-039/Receiving+requests+by+email\",\"managing.queues\":\"https://docs.atlassian.com/jira/jsd-docs-039/Setting+up+queues+for+your+team\",\"email.setup\":\"https://docs.atlassian.com/jira/jsd-docs-039/Receiving+requests+by+email\",\"request.settings.help.bubble\":\"https://docs.atlassian.com/jira/jsd-docs-039/Managing+access+to+your+service+desk\",\"email.settings.suitablerequest\":\"https://docs.atlassian.com/jira/jsd-docs-039/Receiving+requests+by+email#Receivingrequestsbyemail-suitablerequest\",\"sla.import.help\":\"https://docs.atlassian.com/jira/jsd-docs-039/Importing+SLAs\",\"documentation.home\":\"https://docs.atlassian.com/jira/jsd-docs-039/JIRA+Service+Desk+Documentation\",\"default\":\"https://docs.atlassian.com/jira/jsd-docs-039/\",\"create.space.help\":\"https://docs.atlassian.com/jira/jsd-docs-039/Serving+customers+with+a+knowledge+base#serving-customers-with-a-knowledge-base-createpermission\",\"email.settings.troubleshooting\":\"https://docs.atlassian.com/jira/jsd-docs-039/Troubleshooting+issues+with+the+email+channel\",\"admin.notifications.config\":\"https://docs.atlassian.com/jira/jsd-docs-039/Managing+service+desk+notifications\",\"troubleshoot.requesttype\":\"https://docs.atlassian.com/jira/jsd-docs-039/Troubleshooting+issues+with+request+types\",\"approvals.configuration\":\"https://docs.atlassian.com/jira/jsd-docs-039/Configuring+JIRA+Service+Desk+approvals\",\"setting.up.reports\":\"https://docs.atlassian.com/jira/jsd-docs-039/Setting+up+service+desk+reports\",\"public.signup\":\"https://docs.atlassian.com/jira/jsd-docs-039/Configuring+public+signup\",\"knowledge.base\":\"https://docs.atlassian.com/jira/jsd-docs-039/Serving+customers+with+a+knowledge+base\",\"resolve.permission.scheme.errors\":\"https://docs.atlassian.com/jira/jsd-docs-039/Resolving+permission+scheme+errors\",\"getting.started\":\"https://docs.atlassian.com/jira/jsd-docs-039/Getting+started+with+JIRA+Service+Desk\",\"getting.started.agent\":\"https://docs.atlassian.com/jira/jsd-docs-039/Getting+started+for+service+desk+agents\",\"invite.customers\":\"https://docs.atlassian.com/jira/jsd-docs-039/Managing+access+to+your+service+desk\"},\"kb\":{\"default\":\"https://confluence.atlassian.com/display/SDKB/\",\"troubleshooting.user.management.issues\":\"https://confluence.atlassian.com/display/SDKB/Troubleshooting+issues+with+service+desk+user+management\",\"legacytransition\":\"https://confluence.atlassian.com/display/SDKB/Replacing+legacy+automatic+transitions+with+automation+rules\",\"umtroubleshoot\":\"https://confluence.atlassian.com/display/SDKB/Troubleshooting+issues+with+service+desk+user+management\"}}";
WRM._unparsedData["com.atlassian.servicedesk.core-ui:util-base-url.base-url"]="\"https://issues.apache.org/jira\"";
WRM._unparsedData["com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources.help-data"]="{\"showHelp\":true,\"editorDocumentationUrl\":[\"https://docs.atlassian.com/jira/jcore-docs-076/Visual+editing\"],\"editorDocumentationTitle\":[\"Show me documentation for the visual editor\"]}";
WRM._unparsedData["com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources.thumbnails-allowed"]="false";
WRM._unparsedData["jira.webresources:user-message-flags.adminLockout"]="{}";
WRM._unparsedData["jira.request.correlation-id"]="\"760ae84addcb91\"";
WRM._unparsedData["project-id"]="12310230";
WRM._unparsedData["project-key"]="\"SOLR\"";
WRM._unparsedData["project-name"]="\"Solr\"";
WRM._unparsedData["project-type"]="\"software\"";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:generic-filters"]="[{\"id\":\"allissues\",\"jql\":\"project = \\\"{0}\\\" ORDER BY {1}\",\"defaultOrderby\":\"created DESC\",\"label\":\"All issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[]},{\"id\":\"allopenissues\",\"jql\":\"project = \\\"{0}\\\" AND resolution = Unresolved ORDER BY {1}\",\"defaultOrderby\":\"priority DESC, updated DESC\",\"label\":\"Open issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"resolution\"]},{\"id\":\"doneissues\",\"jql\":\"project = \\\"{0}\\\" AND statusCategory = Done ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Done issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":false,\"fields\":[\"status\"]},{\"id\":\"recentlyviewed\",\"jql\":\"project = \\\"{0}\\\" AND issuekey in issueHistory() ORDER BY {1}\",\"defaultOrderby\":\"lastViewed DESC\",\"label\":\"Viewed recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"issuekey\"]},{\"id\":\"addedrecently\",\"jql\":\"project = \\\"{0}\\\" AND created \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"created DESC\",\"label\":\"Created recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"created\"]},{\"id\":\"resolvedrecently\",\"jql\":\"project = \\\"{0}\\\" AND resolutiondate \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Resolved recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":false,\"fields\":[\"resolutiondate\"]},{\"id\":\"updatedrecently\",\"jql\":\"project = \\\"{0}\\\" AND updated \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Updated recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"updated\"]}]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:default-filter-priority"]="[\"allopenissues\",\"allissues\"]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:can-manage-filters"]="false";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:project-filters"]="[]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:can-create-issues"]="false";
WRM._unparsedData["projectId"]="12310230";
WRM._unparsedData["projectKey"]="\"SOLR\"";
WRM._unparsedData["projectType"]="\"software\"";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:server-rendered"]="true";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/a8a4711bc3f2eb261d8c8fd9fbcbba8b-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/1fca1750044f2777c977e8d8cc023344/_/download/contextbatch/css/_super/batch.css" data-wrm-key="_super" data-wrm-batch-type="context" media="all"> 
  <link type="text/css" rel="stylesheet" href="/jira/s/1a6b21131945f6f49ff48336b49ca3fe-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/37a6e594cbbfd462a8a54d5aa11475c1/_/download/contextbatch/css/project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super/batch.css?agile_global_admin_condition=true&amp;hc-enabled=true&amp;is-server-instance=true&amp;jag=true&amp;jira.create.linked.issue=true&amp;nps-acknowledged=true&amp;richediton=true&amp;sd_operational=true" data-wrm-key="project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super" data-wrm-batch-type="context" media="all"> 
  <link type="text/css" rel="stylesheet" href="/jira/s/611672383f6cab00ab202241ba6f9d68-T/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/7.6.3/_/download/batch/com.atlassian.feedback.jira-feedback-plugin:button-resources-init/com.atlassian.feedback.jira-feedback-plugin:button-resources-init.css" data-wrm-key="com.atlassian.feedback.jira-feedback-plugin:button-resources-init" data-wrm-batch-type="resource" media="all"> 
  <script type="text/javascript" src="/jira/s/d8484c9183f546511a8e336a8779bcd9-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/1fca1750044f2777c977e8d8cc023344/_/download/contextbatch/js/_super/batch.js?locale=en-UK" data-wrm-key="_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d3b35d835f8f46fc3b53bb4db7f85158-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/37a6e594cbbfd462a8a54d5aa11475c1/_/download/contextbatch/js/project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super/batch.js?agile_global_admin_condition=true&amp;hc-enabled=true&amp;is-server-instance=true&amp;jag=true&amp;jira.create.linked.issue=true&amp;locale=en-UK&amp;nps-acknowledged=true&amp;richediton=true&amp;sd_operational=true" data-wrm-key="project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/71d42e74136d842a3ef4d5d136484843-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/871d45c9f322a22cb3aa9b7948a69803/_/download/contextbatch/js/atl.global,-_super/batch.js?locale=en-UK" data-wrm-key="atl.global,-_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:calendar-en/jira.webresources:calendar-en.js" data-wrm-key="jira.webresources:calendar-en" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:calendar-localisation-moment/jira.webresources:calendar-localisation-moment.js" data-wrm-key="jira.webresources:calendar-localisation-moment" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/7.6.3/_/download/batch/com.atlassian.feedback.jira-feedback-plugin:button-resources/com.atlassian.feedback.jira-feedback-plugin:button-resources.js" data-wrm-key="com.atlassian.feedback.jira-feedback-plugin:button-resources" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/95a4826c265852f4904f1e0e7300df68-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/e0de73613a1027de08f3da6a45e1d1a2/_/download/contextbatch/css/jira.global.look-and-feel,-_super/batch.css" data-wrm-key="jira.global.look-and-feel,-_super" data-wrm-batch-type="context" media="all"> 
  <script type="text/javascript" src="/jira/rest/api/1.0/shortcuts/76005/944bb39eced1b35cfc7194aa02eb5a5a/shortcuts.js?context=issuenavigation&amp;context=issueaction"></script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["com.atlassian.jira.jira-issue-nav-components:inline-edit-enabled"]="true";
WRM._unparsedData["should-display-chaperone"]="false";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/15712b600e9aecf72ffd9fd3704a0c78-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/6b22a15c7b83f87a47b1757076f43542/_/download/contextbatch/css/com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue/batch.css?jira.create.linked.issue=true&amp;richediton=true&amp;sd_operational=true" data-wrm-key="com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue" data-wrm-batch-type="context" media="all"> 
  <script type="text/javascript" src="/jira/s/5a8f0f8b8aa8f96a4f0f7e9e248d62f3-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/6b22a15c7b83f87a47b1757076f43542/_/download/contextbatch/js/com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue/batch.js?jira.create.linked.issue=true&amp;locale=en-UK&amp;richediton=true&amp;sd_operational=true" data-wrm-key="com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue" data-wrm-batch-type="context" data-initially-rendered></script> 
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge"> 
  <meta name="ajs-can-search-users" content="false"> 
  <meta name="ajs-can-edit-watchers" content="false"> 
  <meta name="ajs-default-avatar-url" content="https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10453"> 
  <meta name="ajs-issue-project-type" content="software"> 
  <meta name="ajs-issue-key" content="SOLR-6625"> 
  <meta name="ajs-server-view-issue-is-editable" content="false"> 
  <title>[SOLR-6625] Add interceptor API for outgoing calls through HttpSolrClient - ASF JIRA</title> 
  <link rel="search" type="application/opensearchdescription+xml" href="/jira/osd.jsp" title="[SOLR-6625] Add interceptor API for outgoing calls through HttpSolrClient - ASF JIRA"> 
 </head> 
 <body id="jira" class="aui-layout aui-theme-default " data-version="7.6.3"> 
  <div id="page"> 
   <header id="header" role="banner"> 
    <script>
require(["jquery", "jira/license-banner"], function ($, licenseBanner) {
    $(function () {
        licenseBanner.showLicenseBanner("");
        licenseBanner.showLicenseFlag("");
    });
});
</script> 
    <nav class="aui-header aui-dropdown2-trigger-group" role="navigation">
     <div class="aui-header-inner">
      <div class="aui-header-before">
       <a class=" aui-dropdown2-trigger app-switcher-trigger" aria-controls="app-switcher" aria-haspopup="true" role="button" tabindex="0" data-aui-trigger href="#app-switcher"><span class="aui-icon aui-icon-small aui-iconfont-appswitcher">Linked Applications</span></a>
       <div id="app-switcher" class="aui-dropdown2 aui-style-default" role="menu" aria-hidden="true" data-is-switcher="true" data-environment="{&quot;isUserAdmin&quot;:false,&quot;isAppSuggestionAvailable&quot;:false,&quot;isSiteAdminUser&quot;:false}">
        <div role="application">
         <div class="app-switcher-loading">
          Loadingâ€¦
         </div>
        </div>
       </div>
      </div>
      <div class="aui-header-primary">
       <h1 id="logo" class="aui-header-logo aui-header-logo-custom"><a href="https://issues.apache.org/jira/secure/MyJiraHome.jspa"><img src="/jira/s/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/_/jira-logo-scaled.png" alt="ASF JIRA"></a></h1>
       <ul class="aui-nav">
        <li><a href="/jira/secure/Dashboard.jspa" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="home_link" aria-haspopup="true" aria-controls="home_link-content" title="View and manage your dashboards" accesskey="d">Dashboards</a>
         <div class="aui-dropdown2 aui-style-default" id="home_link-content" data-aui-dropdown2-ajax-key="home_link"></div></li>
        <li><a href="/jira/browse/SOLR" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="browse_link" aria-haspopup="true" aria-controls="browse_link-content" title="View recent projects and browse a list of projects" accesskey="p">Projects</a>
         <div class="aui-dropdown2 aui-style-default" id="browse_link-content" data-aui-dropdown2-ajax-key="browse_link"></div></li>
        <li><a href="/jira/issues/" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="find_link" aria-haspopup="true" aria-controls="find_link-content" title="Search for issues and view recent issues" accesskey="i">Issues</a>
         <div class="aui-dropdown2 aui-style-default" id="find_link-content" data-aui-dropdown2-ajax-key="find_link"></div></li> 
       </ul>
      </div>
      <div class="aui-header-secondary">
       <ul class="aui-nav">
        <li id="quicksearch-menu"> 
         <form action="/jira/secure/QuickSearch.jspa" method="get" id="quicksearch" class="aui-quicksearch dont-default-focus ajs-dirty-warning-exempt"> 
          <input id="quickSearchInput" class="search" type="text" title="Search" placeholder="Search" name="searchString" accessKey="q"> 
          <input type="submit" class="hidden" value="Search"> 
         </form> </li> 
        <li><a class="jira-feedback-plugin" role="button" aria-haspopup="true" id="jira-header-feedback-link" href="#"><span class="aui-icon aui-icon-small jira-feedback-plugin-icon">Give feedback to Atlassian</span></a></li> 
        <li id="system-help-menu"> <a class="aui-nav-link aui-dropdown2-trigger" id="help_menu" aria-haspopup="true" aria-owns="system-help-menu-content" href="https://docs.atlassian.com/jira/jcore-docs-076/" target="$textUtils.htmlEncode($rootHelpMenuItem.params.target)" title="Help"><span class="aui-icon aui-icon-small aui-iconfont-help">Help</span></a> 
         <div id="system-help-menu-content" class="aui-dropdown2 aui-style-default"> 
          <div class="aui-dropdown2-section"> 
           <ul id="jira-help" class="aui-list-truncate"> 
            <li> <a id="view_core_help" class="aui-nav-link " title="Go to the online documentation for JIRA Core" href="https://docs.atlassian.com/jira/jcore-docs-076/" target="_blank">JIRA Core help</a> </li> 
            <li> <a id="keyshortscuthelp" class="aui-nav-link " title="Get more information about JIRA's Keyboard Shortcuts" href="/jira/secure/ViewKeyboardShortcuts!default.jspa" target="_blank">Keyboard Shortcuts</a> </li> 
            <li> <a id="view_about" class="aui-nav-link " title="Get more information about JIRA" href="/jira/secure/AboutPage.jspa">About JIRA</a> </li> 
            <li> <a id="view_credits" class="aui-nav-link " title="See who did what" href="/jira/secure/JiraCreditsPage!default.jspa" target="_blank">JIRA Credits</a> </li> 
           </ul> 
          </div> 
         </div> </li> 
        <li id="user-options"> <a class="aui-nav-link login-link" href="/jira/login.jsp?os_destination=%2Fbrowse%2FSOLR-6625">Log In</a> 
         <div id="user-options-content" class="aui-dropdown2 aui-style-default"> 
          <div class="aui-dropdown2-section"> 
          </div> 
         </div> </li> 
       </ul>
      </div>
     </div>
     <!-- .aui-header-inner-->
    </nav>
    <!-- .aui-header --> 
   </header> 
   <section id="content" role="main"> 
    <big-pipe data-id="sidebar-id" unresolved></big-pipe>
    <div class="aui-sidebar  sidebar-placeholder">
     <div class="aui-sidebar-wrapper">
      <div class="aui-sidebar-body"></div>
      <div class="aui-sidebar-footer">
       <a class="aui-button aui-button-subtle aui-sidebar-toggle aui-sidebar-footer-tipsy" data-tooltip="Expand sidebar ( [ )" href="#"><span class="aui-icon aui-icon-small"></span></a>
      </div>
     </div>
    </div>
    <script id="projects-sidebar-init">
    require(['jira/projects/sidebar/expansion-manager'], function(expansionManager) {
        var scriptTag = document.getElementById('projects-sidebar-init');
        var sidebar = AJS.sidebar('.aui-sidebar');
        expansionManager(sidebar);
        scriptTag.parentElement.removeChild(scriptTag);
    });
    </script>
    <div class="aui-page-panel">
     <div class="aui-page-panel-inner">
      <div class="issue-navigator">
       <div class="content">
        <div class="issue-view">
         <div class="navigation-tools">
          <div class="pager-container"></div>
         </div>
         <div class="issue-container">
          <div id="issue-content" class="issue-edit-form">
           <header id="stalker" class="issue-header js-stalker">
            <div class="issue-header-content">
             <header class="aui-page-header">
              <div class="aui-page-header-inner">
               <div class="aui-page-header-image">
                <span id="12310230" class="aui-avatar aui-avatar-large aui-avatar-project"><span class="aui-avatar-inner"><img id="project-avatar" alt="Uploaded image for project: 'Solr'" src="https://issues.apache.org/jira/secure/projectavatar?pid=12310230&amp;avatarId=22151"></span></span>
               </div>
               <!-- .aui-page-header-image -->
               <div class="aui-page-header-main">
                <ol class="aui-nav aui-nav-breadcrumbs">
                 <li><a id="project-name-val" href="/jira/browse/SOLR">Solr</a></li>
                 <li><a class="issue-link" data-issue-key="SOLR-6625" href="/jira/browse/SOLR-6625" id="key-val" rel="12748154">SOLR-6625</a></li>
                </ol>
                <h1 id="summary-val">Add interceptor API for outgoing calls through HttpSolrClient</h1>
               </div>
               <!-- .aui-page-header-main -->
               <div class="aui-page-header-actions">
                <div id="issue-header-pager"></div>
               </div>
               <!-- .aui-page-header-actions -->
              </div>
              <!-- .aui-page-header-inner -->
             </header>
             <!-- .aui-page-header -->
             <div class="command-bar">
              <div class="ops-cont">
               <div class="ops-menus aui-toolbar">
                <div class="toolbar-split toolbar-split-left">
                 <ul id="opsbar-ops-login-lnk_container" class="toolbar-group pluggable-ops">
                  <li class="toolbar-item"><a id="ops-login-lnk" title="Log In" class="toolbar-trigger" href="/jira/login.jsp?os_destination=%2Fbrowse%2FSOLR-6625"><span class="trigger-label">Log In</span></a></li>
                 </ul>
                 <ul id="opsbar-opsbar-operations" class="toolbar-group pluggable-ops"></ul>
                 <ul id="opsbar-opsbar-transitions" class="toolbar-group pluggable-ops"></ul>
                 <ul id="opsbar-opsbar-admin" class="toolbar-group pluggable-ops"></ul>
                </div>
                <div class="toolbar-split toolbar-split-right">
                 <ul id="opsbar-jira.issue.tools" class="toolbar-group pluggable-ops">
                  <li class="toolbar-item">
                   <div>
                    <a href="#" id="viewissue-export" aria-owns="viewissue-export_drop" aria-haspopup="true" title="Export this issue in another format" class="toolbar-trigger aui-button aui-style-default aui-dropdown2-trigger"><span class="icon icon-default aui-icon aui-icon-small aui-iconfont-export"></span> <span class="dropdown-text">Export</span></a>
                    <div id="viewissue-export_drop" class="aui-style-default aui-dropdown2">
                     <ul>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-xml/SOLR-6625/SOLR-6625.xml" id="jira.issueviews:issue-xml"><span class="trigger-label">XML</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-word/SOLR-6625/SOLR-6625.doc" id="jira.issueviews:issue-word"><span class="trigger-label">Word</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-html/SOLR-6625/SOLR-6625.html" id="jira.issueviews:issue-html"><span class="trigger-label">Printable</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/com.atlassian.jira.plugins.jira-importers-plugin:issue-json/SOLR-6625/SOLR-6625.json" id="com.atlassian.jira.plugins.jira-importers-plugin:issue-json"><span class="trigger-label">JSON</span></a></li>
                     </ul>
                    </div>
                   </div></li>
                 </ul>
                </div>
               </div>
              </div>
             </div>
            </div>
           </header>
           <div class="issue-body-content">
            <div class="aui-group issue-body">
             <div class="aui-item issue-main-column">
              <div id="details-module" class="module toggle-wrap">
               <div id="details-module_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Details</h2>
               </div>
               <div class="mod-content"> 
                <ul id="issuedetails" class="property-list two-cols"> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Type:</strong> 
                   <span id="type-val" class="value"> <img alt="" height="16" src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype" title="Improvement - An improvement or enhancement to an existing feature or task." width="16"> Improvement </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Status:</strong> 
                   <span id="status-val" class="value"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done jira-issue-status-lozenge-max-width-medium" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </span> 
                  </div> </li> 
                 <li class="item new"> 
                  <div class="wrap"> 
                   <strong class="name">Priority:</strong> 
                   <span id="priority-val" class="value"> <img alt="" height="16" src="/jira/images/icons/priorities/minor.svg" title="Minor - Minor loss of function, or other problem where easy workaround is present." width="16"> Minor </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Resolution:</strong> 
                   <span id="resolution-val" class="value resolved"> Fixed </span> 
                  </div> </li> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Affects Version/s:</strong> 
                   <span id="versions-val" class="value"> None </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Fix Version/s:</strong> 
                   <span id="fixfor-val" class="value"> <span class="shorten" id="fixVersions-field"> <a href="/jira/issues/?jql=project+%3D+SOLR+AND+fixVersion+%3D+5.3" title="5.3 Major release after 5.2">5.3</a>, <a href="/jira/issues/?jql=project+%3D+SOLR+AND+fixVersion+%3D+6.0" title="6.0 First 6.x release, Major release after 5.5">6.0</a> </span> </span> 
                  </div> </li> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Component/s:</strong> 
                   <span id="components-val" class="value"> <span class="shorten" id="components-field"> <a href="/jira/issues/?jql=project+%3D+SOLR+AND+component+%3D+SolrJ" title="SolrJ ">SolrJ</a> </span> </span> 
                  </div> </li> 
                 <li class="item full-width"> 
                  <div class="wrap" id="wrap-labels"> 
                   <strong class="name">Labels:</strong> 
                   <div class="labels-wrap value"> 
                    <span class="labels" id="labels-12748154-value">None</span> 
                   </div> 
                  </div> </li> 
                </ul> 
               </div>
              </div>
              <div id="descriptionmodule" class="module toggle-wrap">
               <div id="descriptionmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Description</h2>
               </div>
               <div class="mod-content">
                <div id="description-val" class="field-ignore-highlight"> 
                 <div class="user-content-block"> 
                  <p>Some of our setups use Solr in a SPNego/kerberos setup (we've done this by adding our own filters to the web.xml). We have an issue in that SPNego requires a negotiation step, but some HttpSolrServer requests are not repeatable, notably the PUT/POST requests. So, what happens is, HttpSolrServer sends the requests, the server responds with a negotiation request, and the request fails because the request is not repeatable. We've modified our code to send a repeatable request beforehand in these cases.</p> 
                  <p>It would be nicer if HttpSolrServer provided a pre/post callback when it was making an httpclient request. This would allow administrators to make changes to the request for authentication purposes, and would allow users to make per-request changes to the httpclient calls (i.e. modify httpclient requestconfig to modify the timeout on a per-request basis).</p> 
                 </div> 
                </div> 
               </div>
              </div>
              <div id="dnd-metadata" class="module toggle-wrap">
               <div id="dnd-metadata_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Attachments</h2>
               </div>
               <div class="mod-content">
                <div id="dnd-metadata-webpanel" data-can-attach="false" data-project-type="software" data-upload-limit="62914560" data-thumbnails-allowed="false"></div>
               </div>
              </div>
              <div id="attachmentmodule" class="module toggle-wrap">
               <div id="attachmentmodule_heading" class="mod-header">
                <ul class="ops">
                 <li class="drop">
                  <div class="aui-dd-parent">
                   <a href="#" class="icon drop-menu js-default-dropdown" title="Options"><span>Options</span></a>
                   <div class="aui-dropdown-content aui-list">
                    <ul id="attachment-sorting-options" class="aui-list-section aui-first">
                     <li class="aui-list-item"><a id="attachment-sort-key-name" href="/jira/browse/SOLR-6625?attachmentSortBy=fileName#attachmentmodule" class="aui-list-checked aui-checked aui-list-item-link" title="viewissue.subtasks.tab.show.all.name"><span>Sort By Name</span></a></li>
                     <li class="aui-list-item"><a id="attachment-sort-key-date" href="/jira/browse/SOLR-6625?attachmentSortBy=dateTime#attachmentmodule" class="aui-list-checked aui-list-item-link" title="Sort By Date"><span>Sort By Date</span></a></li>
                    </ul>
                    <ul id="attachment-sorting-order-options" class="aui-list-section aui-last">
                     <li class="aui-list-item"><a id="attachment-sort-direction-asc" href="/jira/browse/SOLR-6625?attachmentOrder=asc#attachmentmodule" class="aui-list-checked aui-checked aui-list-item-link" title="Ascending"><span>Ascending</span></a></li>
                     <li class="aui-list-item"><a id="attachment-sort-direction-desc" href="/jira/browse/SOLR-6625?attachmentOrder=desc#attachmentmodule" class="aui-list-checked aui-list-item-link" title="Descending"><span>Descending</span></a></li>
                    </ul>
                   </div>
                  </div></li>
                </ul>
                <h2 class="toggle-title">Attachments</h2>
               </div>
               <div class="mod-content">
                <ol id="file_attachments" class="item-attachments" data-sort-key="fileName" data-sort-order="asc">
                 <li class="attachment-content js-file-attachment" data-attachment-id="12747955" data-issue-id="12748154" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12747955/SOLR-6625_interceptor.patch" draggable="true" data-downloadurl="text/x-patch:SOLR-6625_interceptor.patch:https://issues.apache.org/jira/secure/attachment/12747955/SOLR-6625_interceptor.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12747955/SOLR-6625_interceptor.patch" title="Latest  30/Jul/15 09:27 - Ishan Chattopadhyaya" draggable="true" data-downloadurl="text/x-patch:SOLR-6625_interceptor.patch:https://issues.apache.org/jira/secure/attachment/12747955/SOLR-6625_interceptor.patch">SOLR-6625_interceptor.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2015-07-30T09:27:42.155Z">30/Jul/15 09:27</time>
                   </dd>
                   <dd class="attachment-size">
                    34 kB
                   </dd>
                   <dd class="attachment-author">
                    Ishan Chattopadhyaya
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12747947" data-issue-id="12748154" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12747947/SOLR-6625_interceptor.patch" draggable="true" data-downloadurl="text/x-patch:SOLR-6625_interceptor.patch:https://issues.apache.org/jira/secure/attachment/12747947/SOLR-6625_interceptor.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12747947/SOLR-6625_interceptor.patch" title=" 30/Jul/15 08:21 - Ishan Chattopadhyaya" draggable="true" data-downloadurl="text/x-patch:SOLR-6625_interceptor.patch:https://issues.apache.org/jira/secure/attachment/12747947/SOLR-6625_interceptor.patch">SOLR-6625_interceptor.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2015-07-30T08:21:15.020Z">30/Jul/15 08:21</time>
                   </dd>
                   <dd class="attachment-size">
                    41 kB
                   </dd>
                   <dd class="attachment-author">
                    Ishan Chattopadhyaya
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12747617" data-issue-id="12748154" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12747617/SOLR-6625_interceptor.patch" draggable="true" data-downloadurl="text/x-patch:SOLR-6625_interceptor.patch:https://issues.apache.org/jira/secure/attachment/12747617/SOLR-6625_interceptor.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12747617/SOLR-6625_interceptor.patch" title=" 28/Jul/15 19:54 - Ishan Chattopadhyaya" draggable="true" data-downloadurl="text/x-patch:SOLR-6625_interceptor.patch:https://issues.apache.org/jira/secure/attachment/12747617/SOLR-6625_interceptor.patch">SOLR-6625_interceptor.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2015-07-28T19:54:35.010Z">28/Jul/15 19:54</time>
                   </dd>
                   <dd class="attachment-size">
                    62 kB
                   </dd>
                   <dd class="attachment-author">
                    Ishan Chattopadhyaya
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12747610" data-issue-id="12748154" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12747610/SOLR-6625_interceptor.patch" draggable="true" data-downloadurl="text/x-patch:SOLR-6625_interceptor.patch:https://issues.apache.org/jira/secure/attachment/12747610/SOLR-6625_interceptor.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12747610/SOLR-6625_interceptor.patch" title=" 28/Jul/15 19:28 - Ishan Chattopadhyaya" draggable="true" data-downloadurl="text/x-patch:SOLR-6625_interceptor.patch:https://issues.apache.org/jira/secure/attachment/12747610/SOLR-6625_interceptor.patch">SOLR-6625_interceptor.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2015-07-28T19:28:06.830Z">28/Jul/15 19:28</time>
                   </dd>
                   <dd class="attachment-size">
                    61 kB
                   </dd>
                   <dd class="attachment-author">
                    Ishan Chattopadhyaya
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12747584" data-issue-id="12748154" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12747584/SOLR-6625_interceptor.patch" draggable="true" data-downloadurl="text/x-patch:SOLR-6625_interceptor.patch:https://issues.apache.org/jira/secure/attachment/12747584/SOLR-6625_interceptor.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12747584/SOLR-6625_interceptor.patch" title=" 28/Jul/15 17:11 - Ishan Chattopadhyaya" draggable="true" data-downloadurl="text/x-patch:SOLR-6625_interceptor.patch:https://issues.apache.org/jira/secure/attachment/12747584/SOLR-6625_interceptor.patch">SOLR-6625_interceptor.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2015-07-28T17:11:01.560Z">28/Jul/15 17:11</time>
                   </dd>
                   <dd class="attachment-size">
                    39 kB
                   </dd>
                   <dd class="attachment-author">
                    Ishan Chattopadhyaya
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12747578" data-issue-id="12748154" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12747578/SOLR-6625_interceptor.patch" draggable="true" data-downloadurl="text/x-patch:SOLR-6625_interceptor.patch:https://issues.apache.org/jira/secure/attachment/12747578/SOLR-6625_interceptor.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12747578/SOLR-6625_interceptor.patch" title=" 28/Jul/15 15:52 - Ishan Chattopadhyaya" draggable="true" data-downloadurl="text/x-patch:SOLR-6625_interceptor.patch:https://issues.apache.org/jira/secure/attachment/12747578/SOLR-6625_interceptor.patch">SOLR-6625_interceptor.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2015-07-28T15:52:02.250Z">28/Jul/15 15:52</time>
                   </dd>
                   <dd class="attachment-size">
                    39 kB
                   </dd>
                   <dd class="attachment-author">
                    Ishan Chattopadhyaya
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12728497" data-issue-id="12748154" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12728497/SOLR-6625_interceptor.patch" draggable="true" data-downloadurl="text/x-patch:SOLR-6625_interceptor.patch:https://issues.apache.org/jira/secure/attachment/12728497/SOLR-6625_interceptor.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12728497/SOLR-6625_interceptor.patch" title=" 27/Apr/15 19:57 - Ishan Chattopadhyaya" draggable="true" data-downloadurl="text/x-patch:SOLR-6625_interceptor.patch:https://issues.apache.org/jira/secure/attachment/12728497/SOLR-6625_interceptor.patch">SOLR-6625_interceptor.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2015-04-27T19:57:00.427Z">27/Apr/15 19:57</time>
                   </dd>
                   <dd class="attachment-size">
                    40 kB
                   </dd>
                   <dd class="attachment-author">
                    Ishan Chattopadhyaya
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12726927" data-issue-id="12748154" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12726927/SOLR-6625_interceptor.patch" draggable="true" data-downloadurl="text/x-patch:SOLR-6625_interceptor.patch:https://issues.apache.org/jira/secure/attachment/12726927/SOLR-6625_interceptor.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12726927/SOLR-6625_interceptor.patch" title=" 21/Apr/15 17:46 - Ishan Chattopadhyaya" draggable="true" data-downloadurl="text/x-patch:SOLR-6625_interceptor.patch:https://issues.apache.org/jira/secure/attachment/12726927/SOLR-6625_interceptor.patch">SOLR-6625_interceptor.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2015-04-21T17:46:28.649Z">21/Apr/15 17:46</time>
                   </dd>
                   <dd class="attachment-size">
                    48 kB
                   </dd>
                   <dd class="attachment-author">
                    Ishan Chattopadhyaya
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12726916" data-issue-id="12748154" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12726916/SOLR-6625_interceptor.patch" draggable="true" data-downloadurl="text/x-patch:SOLR-6625_interceptor.patch:https://issues.apache.org/jira/secure/attachment/12726916/SOLR-6625_interceptor.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12726916/SOLR-6625_interceptor.patch" title=" 21/Apr/15 16:49 - Ishan Chattopadhyaya" draggable="true" data-downloadurl="text/x-patch:SOLR-6625_interceptor.patch:https://issues.apache.org/jira/secure/attachment/12726916/SOLR-6625_interceptor.patch">SOLR-6625_interceptor.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2015-04-21T16:49:40.780Z">21/Apr/15 16:49</time>
                   </dd>
                   <dd class="attachment-size">
                    49 kB
                   </dd>
                   <dd class="attachment-author">
                    Ishan Chattopadhyaya
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12725188" data-issue-id="12748154" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12725188/SOLR-6625_interceptor.patch" draggable="true" data-downloadurl="text/x-patch:SOLR-6625_interceptor.patch:https://issues.apache.org/jira/secure/attachment/12725188/SOLR-6625_interceptor.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12725188/SOLR-6625_interceptor.patch" title=" 14/Apr/15 09:36 - Ishan Chattopadhyaya" draggable="true" data-downloadurl="text/x-patch:SOLR-6625_interceptor.patch:https://issues.apache.org/jira/secure/attachment/12725188/SOLR-6625_interceptor.patch">SOLR-6625_interceptor.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2015-04-14T09:36:27.451Z">14/Apr/15 09:36</time>
                   </dd>
                   <dd class="attachment-size">
                    8 kB
                   </dd>
                   <dd class="attachment-author">
                    Ishan Chattopadhyaya
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12694166" data-issue-id="12748154" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12694166/SOLR-6625_r1654079.patch" draggable="true" data-downloadurl="text/x-patch:SOLR-6625_r1654079.patch:https://issues.apache.org/jira/secure/attachment/12694166/SOLR-6625_r1654079.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12694166/SOLR-6625_r1654079.patch" title="Latest  23/Jan/15 15:25 - Per Steffensen" draggable="true" data-downloadurl="text/x-patch:SOLR-6625_r1654079.patch:https://issues.apache.org/jira/secure/attachment/12694166/SOLR-6625_r1654079.patch">SOLR-6625_r1654079.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2015-01-23T15:25:34.075Z">23/Jan/15 15:25</time>
                   </dd>
                   <dd class="attachment-size">
                    54 kB
                   </dd>
                   <dd class="attachment-author">
                    Per Steffensen
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12694134" data-issue-id="12748154" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12694134/SOLR-6625_r1654079.patch" draggable="true" data-downloadurl="text/x-patch:SOLR-6625_r1654079.patch:https://issues.apache.org/jira/secure/attachment/12694134/SOLR-6625_r1654079.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12694134/SOLR-6625_r1654079.patch" title=" 23/Jan/15 11:21 - Per Steffensen" draggable="true" data-downloadurl="text/x-patch:SOLR-6625_r1654079.patch:https://issues.apache.org/jira/secure/attachment/12694134/SOLR-6625_r1654079.patch">SOLR-6625_r1654079.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2015-01-23T11:21:57.672Z">23/Jan/15 11:21</time>
                   </dd>
                   <dd class="attachment-size">
                    49 kB
                   </dd>
                   <dd class="attachment-author">
                    Per Steffensen
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12747782" data-issue-id="12748154" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12747782/SOLR-6625_SolrReqPropogate.patch" draggable="true" data-downloadurl="text/plain:SOLR-6625_SolrReqPropogate.patch:https://issues.apache.org/jira/secure/attachment/12747782/SOLR-6625_SolrReqPropogate.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12747782/SOLR-6625_SolrReqPropogate.patch" title="Latest  29/Jul/15 12:35 - Noble Paul" draggable="true" data-downloadurl="text/plain:SOLR-6625_SolrReqPropogate.patch:https://issues.apache.org/jira/secure/attachment/12747782/SOLR-6625_SolrReqPropogate.patch">SOLR-6625_SolrReqPropogate.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2015-07-29T12:35:06.331Z">29/Jul/15 12:35</time>
                   </dd>
                   <dd class="attachment-size">
                    71 kB
                   </dd>
                   <dd class="attachment-author">
                    Noble Paul
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12747982" data-issue-id="12748154" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12747982/SOLR-6625.patch" draggable="true" data-downloadurl="text/plain:SOLR-6625.patch:https://issues.apache.org/jira/secure/attachment/12747982/SOLR-6625.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12747982/SOLR-6625.patch" title="Latest  30/Jul/15 13:22 - Noble Paul" draggable="true" data-downloadurl="text/plain:SOLR-6625.patch:https://issues.apache.org/jira/secure/attachment/12747982/SOLR-6625.patch">SOLR-6625.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2015-07-30T13:22:51.599Z">30/Jul/15 13:22</time>
                   </dd>
                   <dd class="attachment-size">
                    37 kB
                   </dd>
                   <dd class="attachment-author">
                    Noble Paul
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12747981" data-issue-id="12748154" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12747981/SOLR-6625.patch" draggable="true" data-downloadurl="text/plain:SOLR-6625.patch:https://issues.apache.org/jira/secure/attachment/12747981/SOLR-6625.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12747981/SOLR-6625.patch" title=" 30/Jul/15 13:04 - Noble Paul" draggable="true" data-downloadurl="text/plain:SOLR-6625.patch:https://issues.apache.org/jira/secure/attachment/12747981/SOLR-6625.patch">SOLR-6625.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2015-07-30T13:04:11.332Z">30/Jul/15 13:04</time>
                   </dd>
                   <dd class="attachment-size">
                    37 kB
                   </dd>
                   <dd class="attachment-author">
                    Noble Paul
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12685871" data-issue-id="12748154" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12685871/SOLR-6625.patch" draggable="true" data-downloadurl="text/x-diff:SOLR-6625.patch:https://issues.apache.org/jira/secure/attachment/12685871/SOLR-6625.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12685871/SOLR-6625.patch" title=" 08/Dec/14 22:39 - Gregory Chanan" draggable="true" data-downloadurl="text/x-diff:SOLR-6625.patch:https://issues.apache.org/jira/secure/attachment/12685871/SOLR-6625.patch">SOLR-6625.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2014-12-08T22:39:47.545Z">08/Dec/14 22:39</time>
                   </dd>
                   <dd class="attachment-size">
                    53 kB
                   </dd>
                   <dd class="attachment-author">
                    Gregory Chanan
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12685216" data-issue-id="12748154" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12685216/SOLR-6625.patch" draggable="true" data-downloadurl="text/x-diff:SOLR-6625.patch:https://issues.apache.org/jira/secure/attachment/12685216/SOLR-6625.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12685216/SOLR-6625.patch" title=" 05/Dec/14 01:18 - Gregory Chanan" draggable="true" data-downloadurl="text/x-diff:SOLR-6625.patch:https://issues.apache.org/jira/secure/attachment/12685216/SOLR-6625.patch">SOLR-6625.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2014-12-05T01:18:06.000Z">05/Dec/14 01:18</time>
                   </dd>
                   <dd class="attachment-size">
                    53 kB
                   </dd>
                   <dd class="attachment-author">
                    Gregory Chanan
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12685188" data-issue-id="12748154" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12685188/SOLR-6625.patch" draggable="true" data-downloadurl="text/x-diff:SOLR-6625.patch:https://issues.apache.org/jira/secure/attachment/12685188/SOLR-6625.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12685188/SOLR-6625.patch" title=" 04/Dec/14 22:49 - Gregory Chanan" draggable="true" data-downloadurl="text/x-diff:SOLR-6625.patch:https://issues.apache.org/jira/secure/attachment/12685188/SOLR-6625.patch">SOLR-6625.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2014-12-04T22:49:30.969Z">04/Dec/14 22:49</time>
                   </dd>
                   <dd class="attachment-size">
                    52 kB
                   </dd>
                   <dd class="attachment-author">
                    Gregory Chanan
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12685171" data-issue-id="12748154" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12685171/SOLR-6625.patch" draggable="true" data-downloadurl="text/x-diff:SOLR-6625.patch:https://issues.apache.org/jira/secure/attachment/12685171/SOLR-6625.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12685171/SOLR-6625.patch" title=" 04/Dec/14 21:04 - Gregory Chanan" draggable="true" data-downloadurl="text/x-diff:SOLR-6625.patch:https://issues.apache.org/jira/secure/attachment/12685171/SOLR-6625.patch">SOLR-6625.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2014-12-04T21:04:19.496Z">04/Dec/14 21:04</time>
                   </dd>
                   <dd class="attachment-size">
                    51 kB
                   </dd>
                   <dd class="attachment-author">
                    Gregory Chanan
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12682050" data-issue-id="12748154" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12682050/SOLR-6625.patch" draggable="true" data-downloadurl="text/x-diff:SOLR-6625.patch:https://issues.apache.org/jira/secure/attachment/12682050/SOLR-6625.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12682050/SOLR-6625.patch" title=" 18/Nov/14 01:29 - Gregory Chanan" draggable="true" data-downloadurl="text/x-diff:SOLR-6625.patch:https://issues.apache.org/jira/secure/attachment/12682050/SOLR-6625.patch">SOLR-6625.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2014-11-18T01:29:30.266Z">18/Nov/14 01:29</time>
                   </dd>
                   <dd class="attachment-size">
                    20 kB
                   </dd>
                   <dd class="attachment-author">
                    Gregory Chanan
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12680707" data-issue-id="12748154" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12680707/SOLR-6625.patch" draggable="true" data-downloadurl="text/x-diff:SOLR-6625.patch:https://issues.apache.org/jira/secure/attachment/12680707/SOLR-6625.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12680707/SOLR-6625.patch" title=" 11/Nov/14 00:25 - Gregory Chanan" draggable="true" data-downloadurl="text/x-diff:SOLR-6625.patch:https://issues.apache.org/jira/secure/attachment/12680707/SOLR-6625.patch">SOLR-6625.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2014-11-11T00:25:46.762Z">11/Nov/14 00:25</time>
                   </dd>
                   <dd class="attachment-size">
                    15 kB
                   </dd>
                   <dd class="attachment-author">
                    Gregory Chanan
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12748468" data-issue-id="12748154" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12748468/SOLR-6625-revert.patch" draggable="true" data-downloadurl="text/x-patch:SOLR-6625-revert.patch:https://issues.apache.org/jira/secure/attachment/12748468/SOLR-6625-revert.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12748468/SOLR-6625-revert.patch" title="Latest  03/Aug/15 15:06 - Ishan Chattopadhyaya" draggable="true" data-downloadurl="text/x-patch:SOLR-6625-revert.patch:https://issues.apache.org/jira/secure/attachment/12748468/SOLR-6625-revert.patch">SOLR-6625-revert.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2015-08-03T15:06:59.656Z">03/Aug/15 15:06</time>
                   </dd>
                   <dd class="attachment-size">
                    14 kB
                   </dd>
                   <dd class="attachment-author">
                    Ishan Chattopadhyaya
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12748039" data-issue-id="12748154" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12748039/SOLR-6625-testfailure.log" draggable="true" data-downloadurl="text/plain:SOLR-6625-testfailure.log:https://issues.apache.org/jira/secure/attachment/12748039/SOLR-6625-testfailure.log"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12748039/SOLR-6625-testfailure.log" title="Latest  30/Jul/15 18:27 - Anshum Gupta" draggable="true" data-downloadurl="text/plain:SOLR-6625-testfailure.log:https://issues.apache.org/jira/secure/attachment/12748039/SOLR-6625-testfailure.log">SOLR-6625-testfailure.log</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2015-07-30T18:27:51.904Z">30/Jul/15 18:27</time>
                   </dd>
                   <dd class="attachment-size">
                    49 kB
                   </dd>
                   <dd class="attachment-author">
                    Anshum Gupta
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12748307" data-issue-id="12748154" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12748307/SOLR-6625-testfix.patch" draggable="true" data-downloadurl="text/x-patch:SOLR-6625-testfix.patch:https://issues.apache.org/jira/secure/attachment/12748307/SOLR-6625-testfix.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12748307/SOLR-6625-testfix.patch" title="Latest  01/Aug/15 13:15 - Ishan Chattopadhyaya" draggable="true" data-downloadurl="text/x-patch:SOLR-6625-testfix.patch:https://issues.apache.org/jira/secure/attachment/12748307/SOLR-6625-testfix.patch">SOLR-6625-testfix.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2015-08-01T13:15:29.421Z">01/Aug/15 13:15</time>
                   </dd>
                   <dd class="attachment-size">
                    2 kB
                   </dd>
                   <dd class="attachment-author">
                    Ishan Chattopadhyaya
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12748306" data-issue-id="12748154" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12748306/SOLR-6625-testfix.patch" draggable="true" data-downloadurl="text/x-patch:SOLR-6625-testfix.patch:https://issues.apache.org/jira/secure/attachment/12748306/SOLR-6625-testfix.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12748306/SOLR-6625-testfix.patch" title=" 01/Aug/15 12:03 - Ishan Chattopadhyaya" draggable="true" data-downloadurl="text/x-patch:SOLR-6625-testfix.patch:https://issues.apache.org/jira/secure/attachment/12748306/SOLR-6625-testfix.patch">SOLR-6625-testfix.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2015-08-01T12:03:33.359Z">01/Aug/15 12:03</time>
                   </dd>
                   <dd class="attachment-size">
                    1 kB
                   </dd>
                   <dd class="attachment-author">
                    Ishan Chattopadhyaya
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12748060" data-issue-id="12748154" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12748060/SOLR-6625-testfix.patch" draggable="true" data-downloadurl="text/x-patch:SOLR-6625-testfix.patch:https://issues.apache.org/jira/secure/attachment/12748060/SOLR-6625-testfix.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12748060/SOLR-6625-testfix.patch" title=" 30/Jul/15 20:23 - Ishan Chattopadhyaya" draggable="true" data-downloadurl="text/x-patch:SOLR-6625-testfix.patch:https://issues.apache.org/jira/secure/attachment/12748060/SOLR-6625-testfix.patch">SOLR-6625-testfix.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2015-07-30T20:23:51.945Z">30/Jul/15 20:23</time>
                   </dd>
                   <dd class="attachment-size">
                    0.6 kB
                   </dd>
                   <dd class="attachment-author">
                    Ishan Chattopadhyaya
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12748032" data-issue-id="12748154" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12748032/SOLR-6625-testfix.patch" draggable="true" data-downloadurl="text/x-patch:SOLR-6625-testfix.patch:https://issues.apache.org/jira/secure/attachment/12748032/SOLR-6625-testfix.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12748032/SOLR-6625-testfix.patch" title=" 30/Jul/15 17:30 - Ishan Chattopadhyaya" draggable="true" data-downloadurl="text/x-patch:SOLR-6625-testfix.patch:https://issues.apache.org/jira/secure/attachment/12748032/SOLR-6625-testfix.patch">SOLR-6625-testfix.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2015-07-30T17:30:50.047Z">30/Jul/15 17:30</time>
                   </dd>
                   <dd class="attachment-size">
                    2 kB
                   </dd>
                   <dd class="attachment-author">
                    Ishan Chattopadhyaya
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12748021" data-issue-id="12748154" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12748021/SOLR-6625-testfix.patch" draggable="true" data-downloadurl="text/x-patch:SOLR-6625-testfix.patch:https://issues.apache.org/jira/secure/attachment/12748021/SOLR-6625-testfix.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12748021/SOLR-6625-testfix.patch" title=" 30/Jul/15 16:22 - Ishan Chattopadhyaya" draggable="true" data-downloadurl="text/x-patch:SOLR-6625-testfix.patch:https://issues.apache.org/jira/secure/attachment/12748021/SOLR-6625-testfix.patch">SOLR-6625-testfix.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2015-07-30T16:22:57.718Z">30/Jul/15 16:22</time>
                   </dd>
                   <dd class="attachment-size">
                    1 kB
                   </dd>
                   <dd class="attachment-author">
                    Ishan Chattopadhyaya
                   </dd>
                  </dl></li>
                </ol>
               </div>
              </div>
              <div id="linkingmodule" class="module toggle-wrap">
               <div id="linkingmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Issue Links</h2>
               </div>
               <div class="mod-content"> 
                <div class="links-container" data-default-link-icon="/jira/images/icons/generic_link_16.png"> 
                 <dl class="links-list "> 
                  <dt title="is depended upon by">
                   is depended upon by
                  </dt> 
                  <dd id="internal-12849944_10001"> 
                   <div class="link-content"> 
                    <p> <img src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype" width="16" height="16" title="Sub-task - The sub-task of the issue" alt="Sub-task - The sub-task of the issue"> <span title="SOLR-7849: Secure Inter-node communication in a  standard mechanism"> <a href="/jira/browse/SOLR-7849" data-issue-key="SOLR-7849" class="issue-link link-title resolution">SOLR-7849</a> <span class="link-summary">Secure Inter-node communication in a standard mechanism</span> </span> </p> 
                    <ul class="link-snapshot"> 
                     <li class="priority"> <img src="/jira/images/icons/priorities/major.svg" width="16" height="16" title="Major - Major loss of function." alt="Major - Major loss of function."> </li> 
                     <li class="status"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done aui-lozenge-subtle jira-issue-status-lozenge-max-width-short" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </li> 
                    </ul> 
                   </div> 
                  </dd> 
                 </dl> 
                 <dl class="links-list "> 
                  <dt title="is related to">
                   is related to
                  </dt> 
                  <dd id="internal-12783438_10030"> 
                   <div class="link-content"> 
                    <p> <img src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype" width="16" height="16" title="Sub-task - The sub-task of the issue" alt="Sub-task - The sub-task of the issue"> <span title="SOLR-7274: Pluggable authentication module in Solr"> <a href="/jira/browse/SOLR-7274" data-issue-key="SOLR-7274" class="issue-link link-title resolution">SOLR-7274</a> <span class="link-summary">Pluggable authentication module in Solr</span> </span> </p> 
                    <ul class="link-snapshot"> 
                     <li class="priority"> <img src="/jira/images/icons/priorities/major.svg" width="16" height="16" title="Major - Major loss of function." alt="Major - Major loss of function."> </li> 
                     <li class="status"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done aui-lozenge-subtle jira-issue-status-lozenge-max-width-short" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </li> 
                    </ul> 
                   </div> 
                  </dd> 
                  <dd id="internal-12632802_10030"> 
                   <div class="link-content"> 
                    <p> <img src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype" width="16" height="16" title="New Feature - A new feature of the product, which has yet to be developed." alt="New Feature - A new feature of the product, which has yet to be developed."> <span title="SOLR-4470: Support for basic http auth in internal solr requests"> <a href="/jira/browse/SOLR-4470" data-issue-key="SOLR-4470" class="issue-link link-title resolution">SOLR-4470</a> <span class="link-summary">Support for basic http auth in internal solr requests</span> </span> </p> 
                    <ul class="link-snapshot"> 
                     <li class="priority"> <img src="/jira/images/icons/priorities/major.svg" width="16" height="16" title="Major - Major loss of function." alt="Major - Major loss of function."> </li> 
                     <li class="status"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done aui-lozenge-subtle jira-issue-status-lozenge-max-width-short" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </li> 
                    </ul> 
                   </div> 
                  </dd> 
                 </dl> 
                </div> 
               </div>
              </div>
              <div id="activitymodule" class="module toggle-wrap">
               <div id="activitymodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Activity</h2>
               </div>
               <div class="mod-content"> 
                <big-pipe data-id="activity-panel-pipe-id" style="height: 70px"> 
                 <div></div> 
                </big-pipe> 
               </div>
              </div>
             </div>
             <div id="viewissuesidebar" class="aui-item issue-side-column">
              <div id="peoplemodule" class="module toggle-wrap">
               <div id="peoplemodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">People</h2>
               </div>
               <div class="mod-content"> 
                <ul class="item-details" id="peopledetails"> 
                 <li class="people-details"> 
                  <dl> 
                   <dt>
                    Assignee:
                   </dt> 
                   <dd> 
                    <span id="assignee-val" class="view-issue-field"> <span class="user-hover" id="issue_summary_assignee_noble.paul" rel="noble.paul" data-user="{&quot;avatarUrl&quot;:&quot;https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10452&quot;,&quot;displayName&quot;:&quot;Noble Paul&quot;,&quot;emailAddress&quot;:&quot;noble.paul@gmail.com&quot;,&quot;username&quot;:&quot;noble.paul&quot;}"> <span class="aui-avatar aui-avatar-small"><span class="aui-avatar-inner"><img src="https://issues.apache.org/jira/secure/useravatar?size=small&amp;avatarId=10452" alt="noble.paul"></span></span> Noble Paul </span> </span> 
                   </dd> 
                  </dl> 
                  <dl> 
                   <dt>
                    Reporter:
                   </dt> 
                   <dd> 
                    <span id="reporter-val" class="view-issue-field"> <span class="user-hover" id="issue_summary_reporter_gchanan" rel="gchanan" data-user="{&quot;avatarUrl&quot;:&quot;https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10452&quot;,&quot;displayName&quot;:&quot;Gregory Chanan&quot;,&quot;emailAddress&quot;:&quot;gregchanan@gmail.com&quot;,&quot;username&quot;:&quot;gchanan&quot;}"> <span class="aui-avatar aui-avatar-small"><span class="aui-avatar-inner"><img src="https://issues.apache.org/jira/secure/useravatar?size=small&amp;avatarId=10452" alt="gchanan"></span></span> Gregory Chanan </span> </span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
                <ul class="item-details"> 
                 <li> 
                  <dl> 
                   <dt>
                    Votes:
                   </dt> 
                   <dd> 
                    <span id="vote-data" class="aui-badge vote-state-off">1</span> 
                    <span id="vote-label" title="You have to be logged in to vote for an issue.">Vote for this issue</span> 
                   </dd> 
                  </dl> 
                  <dl> 
                   <dt>
                    Watchers:
                   </dt> 
                   <dd> 
                    <span id="watcher-data" class="aui-badge watch-state-off">12</span> 
                    <span id="watch-label" title="You have to be logged in to watch an issue.">Start watching this issue</span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
               </div>
              </div>
              <div id="datesmodule" class="module toggle-wrap">
               <div id="datesmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Dates</h2>
               </div>
               <div class="mod-content"> 
                <ul class="item-details"> 
                 <li> 
                  <dl class="dates"> 
                   <dt>
                    Created:
                   </dt> 
                   <dd class="date user-tz" title="14/Oct/14 22:27"> 
                    <span data-name="Created" id="created-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2014-10-14T22:27:29+0000">14/Oct/14 22:27</time> </span> 
                   </dd> 
                  </dl> 
                  <dl class="dates"> 
                   <dt>
                    Updated:
                   </dt> 
                   <dd class="date user-tz" title="09/May/16 18:48"> 
                    <span data-name="Updated" id="updated-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2016-05-09T18:48:56+0000">09/May/16 18:48</time> </span> 
                   </dd> 
                  </dl> 
                  <dl class="dates"> 
                   <dt>
                    Resolved:
                   </dt> 
                   <dd class="date user-tz" title="24/Aug/15 18:16"> 
                    <span data-name="Resolved" id="resolutiondate-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2015-08-24T18:16:44+0000">24/Aug/15 18:16</time> </span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
               </div>
              </div>
             </div>
            </div>
           </div>
          </div>
         </div>
        </div>
       </div>
      </div>
     </div>
     <!-- .aui-page-panel-inner -->
    </div>
    <!-- .aui-page-panel -->
    <div class="issue-navigator-init"></div> 
   </section> 
   <footer id="footer" role="contentinfo"> 
    <section class="footer-body"> 
     <ul class="atlassian-footer"> 
      <li> Atlassian JIRA <a class="seo-link" rel="nofollow" href="https://www.atlassian.com/software/jira">Project Management Software</a> <span id="footer-build-information">(v7.6.3#76005-<span title="8a4e38d34af948780dbf52044e7aafb13a7cae58" data-commit-id="8a4e38d34af948780dbf52044e7aafb13a7cae58}">sha1:8a4e38d</span>)</span> </li> 
      <li> <a id="about-link" rel="nofollow" href="/jira/secure/AboutPage.jspa/secure/AboutPage.jspa">About JIRA</a> </li> 
      <li> <a id="footer-report-problem-link" rel="nofollow" href="/jira/secure/CreateIssue!default.jspa">Report a problem</a> </li> 
     </ul> 
     <ul class="atlassian-footer"> 
      <li class="licensemessage"> Powered by a free Atlassian <a rel="nofollow" href="http://www.atlassian.com/software/jira">JIRA</a> open source license for n/a, Apache Software Foundation. Try JIRA - <a rel="nofollow" href="http://www.atlassian.com/software/jira">bug tracking software</a> for <i>your</i> team. </li> 
     </ul> 
     <div id="footer-logo">
      <a rel="nofollow" href="http://www.atlassian.com/">Atlassian</a>
     </div> 
    </section> 
    <fieldset class="hidden parameters"> 
     <input type="hidden" title="loggedInUser" value=""> 
     <input type="hidden" title="ajaxTimeout" value="The call to the JIRA server did not complete within the timeout period.  We are unsure of the result of this operation."> 
     <input type="hidden" title="JiraVersion" value="7.6.3"> 
     <input type="hidden" title="ajaxUnauthorised" value="You are not authorised to perform this operation. Please log in."> 
     <input type="hidden" title="baseURL" value="https://issues.apache.org/jira"> 
     <input type="hidden" title="ajaxCommsError" value="The JIRA server could not be contacted. This may be a temporary glitch or the server may be down. "> 
     <input type="hidden" title="ajaxServerError" value="The JIRA server was contacted but has returned an error response. We are unsure of the result of this operation."> 
     <input type="hidden" title="ajaxErrorCloseDialog" value="Close this dialog and press refresh in your browser"> 
     <input type="hidden" title="ajaxErrorDialogHeading" value="Communications Breakdown"> 
     <input type="hidden" title="dirtyMessage" value="You have entered new data on this page. If you navigate away from this page without first saving your data, the changes will be lost."> 
     <input type="hidden" title="dirtyDialogMessage" value="You have entered new data in this dialog. If you navigate away from this dialog without first saving your data, the changes will be lost. Click cancel to return to the dialog."> 
     <input type="hidden" title="keyType" value="Type"> 
     <input type="hidden" title="keyThen" value="then"> 
     <input type="hidden" title="dblClickToExpand" value="Double click to expand"> 
     <input type="hidden" title="actions" value="Actions"> 
     <input type="hidden" title="removeItem" value="Remove"> 
     <input type="hidden" title="workflow" value="Workflow"> 
     <input type="hidden" title="labelNew" value="New Label"> 
     <input type="hidden" title="issueActionsHint" value="Begin typing for available operations or press down to see all"> 
     <input type="hidden" title="closelink" value="Close"> 
     <input type="hidden" title="dotOperations" value="Operations"> 
     <input type="hidden" title="dotLoading" value="Loading..."> 
     <input type="hidden" title="frotherSuggestions" value="Suggestions"> 
     <input type="hidden" title="frotherNomatches" value="No Matches"> 
     <input type="hidden" title="multiselectVersionsError" value="{0} is not a valid version."> 
     <input type="hidden" title="multiselectComponentsError" value="{0} is not a valid component."> 
     <input type="hidden" title="multiselectGenericError" value="The value {0} is invalid."> 
    </fieldset> 
   </footer> 
  </div> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:bigpipe-js/jira.webresources:bigpipe-js.js" data-wrm-key="jira.webresources:bigpipe-js" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["activity-panel-pipe-id"]="\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n    \u003cdiv class=\\\"tabwrap tabs2\\\"\u003e\\n\\n        \u003cul id=\\\"issue-tabs\\\" class=\\\"tabs horizontal\\\"\u003e\\n                                \\n            \u003cli  data-id=\\\"all-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\" data-label=\\\"All\\\" data-href=\\\"\\/jira\\/browse\\/SOLR-6625?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"all-tabpanel\\\" href=\\\"\\/jira\\/browse\\/SOLR-6625?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\"\u003e\u003cstrong\u003eAll\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  class=\\\"active\\\" id=\\\"comment-tabpanel\\\"  data-id=\\\"comment-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel\\\" data-label=\\\"Comments\\\" data-href=\\\"\\/jira\\/browse\\/SOLR-6625?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel\\\"\u003e\\n                            \u003cstrong tabindex=\\\"0\\\"\u003eComments\u003c\\/strong\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"worklog-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\" data-label=\\\"Work Log\\\" data-href=\\\"\\/jira\\/browse\\/SOLR-6625?page=com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"worklog-tabpanel\\\" href=\\\"\\/jira\\/browse\\/SOLR-6625?page=com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\"\u003e\u003cstrong\u003eWork Log\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"changehistory-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\" data-label=\\\"History\\\" data-href=\\\"\\/jira\\/browse\\/SOLR-6625?page=com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"changehistory-tabpanel\\\" href=\\\"\\/jira\\/browse\\/SOLR-6625?page=com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\"\u003e\u003cstrong\u003eHistory\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"activity-stream-issue-tab\\\" data-key=\\\"com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\" data-label=\\\"Activity\\\" data-href=\\\"\\/jira\\/browse\\/SOLR-6625?page=com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"activity-stream-issue-tab\\\" href=\\\"\\/jira\\/browse\\/SOLR-6625?page=com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\"\u003e\u003cstrong\u003eActivity\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"transitions-summary-tabpanel\\\" data-key=\\\"com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\" data-label=\\\"Transitions\\\" data-href=\\\"\\/jira\\/browse\\/SOLR-6625?page=com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"transitions-summary-tabpanel\\\" href=\\\"\\/jira\\/browse\\/SOLR-6625?page=com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\"\u003e\u003cstrong\u003eTransitions\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                \u003c\\/ul\u003e\\n\\n                    \u003cdiv class=\\\"sortwrap\\\"\u003e\\n                                    \u003ca class=\\\"issue-activity-sort-link ajax-activity-content\\\" rel=\\\"nofollow\\\" data-tab-sort data-order=\\\"desc\\\" href=\\\"\\/jira\\/browse\\/SOLR-6625?actionOrder=desc\\\" title=\\\"Ascending order - Click to sort in descending order\\\"\u003e\\n                        \u003cspan class=\\\"aui-icon aui-icon-small aui-iconfont-up\\\"\u003eAscending order - Click to sort in descending order\u003c\\/span\u003e\\n                    \u003c\\/a\u003e\\n                            \u003c\\/div\u003e\\n            \u003c\\/div\u003e\\n    \u003cdiv class=\\\"issuePanelWrapper\\\"\u003e\\n        \u003cdiv class=\\\"issuePanelProgress\\\"\u003e\u003c\\/div\u003e\\n        \u003cdiv class=\\\"issuePanelContainer\\\" id=\\\"issue_actions_container\\\"\u003e\\n                                    \\n\\n\\n\u003cdiv id=\\\"comment-14205661\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6625?focusedCommentId=14205661&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14205661\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gchanan\\\" id=\\\"commentauthor_14205661_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gchanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gchanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Gregory Chanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14205661_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'11\\/Nov\\/14 00:25\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-11-11T00:25:46+0000\'\u003e11\\/Nov\\/14 00:25\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eHere\'s a patch with a couple of tests:\u003c\\/p\u003e\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003eVerifies that the http methods are as expected in BasicHttpSolrServer\u003c\\/li\u003e\\n\\t\u003cli\u003eAdds a test to BasicHttpSolrServer that tests modifying the URI of the request before it is sent out\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003eNOTE: this patch assumes \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-6723\\\" title=\\\"Give HttpSolrServer the ability to send OPTIONS requests\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-6723\\\"\u003eSOLR-6723\u003c\\/a\u003e is applied, because it modifies a test case from there.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gchanan\\\" id=\\\"commentauthor_14205661_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gchanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gchanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Gregory Chanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14205661_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'11\\/Nov\\/14 00:25\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-11-11T00:25:46+0000\'\u003e11\\/Nov\\/14 00:25\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Here\'s a patch with a couple of tests: \\n \\n\\t Verifies that the http methods are as expected in BasicHttpSolrServer \\n\\t Adds a test to BasicHttpSolrServer that tests modifying the URI of the request before it is sent out \\n \\n\\n\\n NOTE: this patch assumes  SOLR-6723  is applied, because it modifies a test case from there.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14207600\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6625?focusedCommentId=14207600&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14207600\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"markrmiller@gmail.com\\\" id=\\\"commentauthor_14207600_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=markrmiller%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"markrmiller@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mark Miller\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14207600_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Nov\\/14 02:49\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-11-12T02:49:38+0000\'\u003e12\\/Nov\\/14 02:49\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003e+1, looks good.\u003c\\/p\u003e\\n\\n\u003cp\u003eMight want to consider making that interface an abstract class in case we want to add postRequest with back compat or something, but nothing I\'m stuck on.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"markrmiller@gmail.com\\\" id=\\\"commentauthor_14207600_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=markrmiller%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"markrmiller@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mark Miller\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14207600_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Nov\\/14 02:49\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-11-12T02:49:38+0000\'\u003e12\\/Nov\\/14 02:49\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    +1, looks good. \\n\\n Might want to consider making that interface an abstract class in case we want to add postRequest with back compat or something, but nothing I\'m stuck on.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14207675\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6625?focusedCommentId=14207675&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14207675\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gchanan\\\" id=\\\"commentauthor_14207675_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gchanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gchanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Gregory Chanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14207675_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Nov\\/14 04:49\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-11-12T04:49:16+0000\'\u003e12\\/Nov\\/14 04:49\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cblockquote\u003e\u003cp\u003eMight want to consider making that interface an abstract class in case we want to add postRequest with back compat or something, but nothing I\'m stuck on.\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003eGood suggestion, I\'ll do that on commit.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gchanan\\\" id=\\\"commentauthor_14207675_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gchanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gchanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Gregory Chanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14207675_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Nov\\/14 04:49\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-11-12T04:49:16+0000\'\u003e12\\/Nov\\/14 04:49\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     Might want to consider making that interface an abstract class in case we want to add postRequest with back compat or something, but nothing I\'m stuck on.  \\n\\n Good suggestion, I\'ll do that on commit.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14213955\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6625?focusedCommentId=14213955&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14213955\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"steff1193\\\" id=\\\"commentauthor_14213955_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=steff1193\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"steff1193\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Per Steffensen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14213955_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'16\\/Nov\\/14 16:36\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-11-16T16:36:40+0000\'\u003e16\\/Nov\\/14 16:36\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-4470\\\" title=\\\"Support for basic http auth in internal solr requests\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-4470\\\"\u003e\u003cdel\u003eSOLR-4470\u003c\\/del\u003e\u003c\\/a\u003e supports repeatable POST request by using BufferedHttpEntity. Look at the changes in HttpSolrServer - search for credentialsButNonPreemptive in latest patch \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/attachment\\/12634740\\/SOLR-4470.patch\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttps:\\/\\/issues.apache.org\\/jira\\/secure\\/attachment\\/12634740\\/SOLR-4470.patch\u003c\\/a\u003e\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"steff1193\\\" id=\\\"commentauthor_14213955_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=steff1193\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"steff1193\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Per Steffensen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14213955_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'16\\/Nov\\/14 16:36\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-11-16T16:36:40+0000\'\u003e16\\/Nov\\/14 16:36\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                      SOLR-4470   supports repeatable POST request by using BufferedHttpEntity. Look at the changes in HttpSolrServer - search for credentialsButNonPreemptive in latest patch  https:\\/\\/issues.apache.org\\/jira\\/secure\\/attachment\\/12634740\\/SOLR-4470.patch               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14215368\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6625?focusedCommentId=14215368&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14215368\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gchanan\\\" id=\\\"commentauthor_14215368_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gchanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gchanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Gregory Chanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14215368_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Nov\\/14 23:16\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-11-17T23:16:45+0000\'\u003e17\\/Nov\\/14 23:16\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThanks for pointing that out \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=steff1193\\\" class=\\\"user-hover\\\" rel=\\\"steff1193\\\"\u003ePer Steffensen\u003c\\/a\u003e!\u003c\\/p\u003e\\n\\n\u003cp\u003eOne thing I wanted to avoid with this patch is putting authentication-type specific details in HttpSolrServer.  \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-4470\\\" title=\\\"Support for basic http auth in internal solr requests\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-4470\\\"\u003e\u003cdel\u003eSOLR-4470\u003c\\/del\u003e\u003c\\/a\u003e has a little logic there that is basic-auth specific; if we support a range of authentication types this could get complex.  Perhaps the best thing is to combine approaches here?\u003c\\/p\u003e\\n\\n\u003cp\u003ei.e. it seems from my reading of \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-4470\\\" title=\\\"Support for basic http auth in internal solr requests\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-4470\\\"\u003e\u003cdel\u003eSOLR-4470\u003c\\/del\u003e\u003c\\/a\u003e that if you were to implement the basic-auth specific code via a callback you\'d need:\u003cbr\\/\u003e\\n1) to be passed the SolrRequest (so you could check getPreemptiveAuthentication)\u003cbr\\/\u003e\\n2) the ability to return an HttpContext for the HttpSolrServer to use\u003c\\/p\u003e\\n\\n\u003cp\u003e1) certainly doesn\'t seem like a problem, and 2) we could do via the return value of preRequest or via another method in the callback, e.g applyContextForRequestPre.\u003c\\/p\u003e\\n\\n\u003cp\u003eAs for the suggestion of using a BufferedHttpEntity rather than the OPTIONS approach I describe above, that certainly may be an improvement.  I\'d have to look more into it, but in either case, it seems it can be implemented via the callback.\u003c\\/p\u003e\\n\\n\u003cp\u003eThoughts?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gchanan\\\" id=\\\"commentauthor_14215368_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gchanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gchanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Gregory Chanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14215368_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Nov\\/14 23:16\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-11-17T23:16:45+0000\'\u003e17\\/Nov\\/14 23:16\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Thanks for pointing that out  Per Steffensen ! \\n\\n One thing I wanted to avoid with this patch is putting authentication-type specific details in HttpSolrServer.    SOLR-4470   has a little logic there that is basic-auth specific; if we support a range of authentication types this could get complex.  Perhaps the best thing is to combine approaches here? \\n\\n i.e. it seems from my reading of   SOLR-4470   that if you were to implement the basic-auth specific code via a callback you\'d need: \\n1) to be passed the SolrRequest (so you could check getPreemptiveAuthentication) \\n2) the ability to return an HttpContext for the HttpSolrServer to use \\n\\n 1) certainly doesn\'t seem like a problem, and 2) we could do via the return value of preRequest or via another method in the callback, e.g applyContextForRequestPre. \\n\\n As for the suggestion of using a BufferedHttpEntity rather than the OPTIONS approach I describe above, that certainly may be an improvement.  I\'d have to look more into it, but in either case, it seems it can be implemented via the callback. \\n\\n Thoughts?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14215562\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6625?focusedCommentId=14215562&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14215562\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gchanan\\\" id=\\\"commentauthor_14215562_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gchanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gchanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Gregory Chanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14215562_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'18\\/Nov\\/14 01:29\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-11-18T01:29:30+0000\'\u003e18\\/Nov\\/14 01:29\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eHere\'s another version of the patch around what I described from the previous post.\u003c\\/p\u003e\\n\\n\u003cp\u003eChanges:\u003c\\/p\u003e\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003eIs more explicit about the when the callback fires, it\'s called preExecuteRequest now to indicate it\'s called before  HttpClient.execute\u003c\\/li\u003e\\n\\t\u003cli\u003ePasses the solrRequest via the callback now, so an implementation can call getPreemptiveAuthentication or similar as implemented in \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-4470\\\" title=\\\"Support for basic http auth in internal solr requests\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-4470\\\"\u003e\u003cdel\u003eSOLR-4470\u003c\\/del\u003e\u003c\\/a\u003e\u003c\\/li\u003e\\n\\t\u003cli\u003eCallback can return an HttpContext to use.  HttpContext implementation in HttpSolrServer is borrowed from \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-4470\\\" title=\\\"Support for basic http auth in internal solr requests\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-4470\\\"\u003e\u003cdel\u003eSOLR-4470\u003c\\/del\u003e\u003c\\/a\u003e.\u003cbr\\/\u003e\\nHttpContext seems sufficient as a return value; I was originally thinking an extensible class.  But the only execute params that take an HttpUriRequest (from \u003ca href=\\\"http:\\/\\/hc.apache.org\\/httpcomponents-client-ga\\/httpclient\\/apidocs\\/org\\/apache\\/http\\/client\\/HttpClient.html#execute%28org.apache.http.client.methods.HttpUriRequest,%20org.apache.http.client.ResponseHandler,%20org.apache.http.protocol.HttpContext%29\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/hc.apache.org\\/httpcomponents-client-ga\\/httpclient\\/apidocs\\/org\\/apache\\/http\\/client\\/HttpClient.html#execute%28org.apache.http.client.methods.HttpUriRequest,%20org.apache.http.client.ResponseHandler,%20org.apache.http.protocol.HttpContext%29\u003c\\/a\u003e) are the request, the response handler, and the context.  We can already modify the request via the callback, and solr has its own response handler functionality, so I\'m not sure of a case where we\'d need to modify HttpClient\'s responseHandler.\u003c\\/li\u003e\\n\\t\u003cli\u003eAdds a test to BasicHttpSolrServerTests that exercises providing a context by adding some cookies.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gchanan\\\" id=\\\"commentauthor_14215562_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gchanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gchanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Gregory Chanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14215562_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'18\\/Nov\\/14 01:29\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-11-18T01:29:30+0000\'\u003e18\\/Nov\\/14 01:29\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Here\'s another version of the patch around what I described from the previous post. \\n\\n Changes: \\n \\n\\t Is more explicit about the when the callback fires, it\'s called preExecuteRequest now to indicate it\'s called before  HttpClient.execute \\n\\t Passes the solrRequest via the callback now, so an implementation can call getPreemptiveAuthentication or similar as implemented in   SOLR-4470   \\n\\t Callback can return an HttpContext to use.  HttpContext implementation in HttpSolrServer is borrowed from   SOLR-4470  . \\nHttpContext seems sufficient as a return value; I was originally thinking an extensible class.  But the only execute params that take an HttpUriRequest (from  http:\\/\\/hc.apache.org\\/httpcomponents-client-ga\\/httpclient\\/apidocs\\/org\\/apache\\/http\\/client\\/HttpClient.html#execute%28org.apache.http.client.methods.HttpUriRequest,%20org.apache.http.client.ResponseHandler,%20org.apache.http.protocol.HttpContext%29 ) are the request, the response handler, and the context.  We can already modify the request via the callback, and solr has its own response handler functionality, so I\'m not sure of a case where we\'d need to modify HttpClient\'s responseHandler. \\n\\t Adds a test to BasicHttpSolrServerTests that exercises providing a context by adding some cookies. \\n \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14216313\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6625?focusedCommentId=14216313&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14216313\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"steff1193\\\" id=\\\"commentauthor_14216313_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=steff1193\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"steff1193\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Per Steffensen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14216313_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'18\\/Nov\\/14 15:39\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-11-18T15:39:06+0000\'\u003e18\\/Nov\\/14 15:39\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cblockquote\u003e\u003cp\u003eOne thing I wanted to avoid with this patch is putting authentication-type specific details in HttpSolrServer. \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-4470\\\" title=\\\"Support for basic http auth in internal solr requests\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-4470\\\"\u003e\u003cdel\u003eSOLR-4470\u003c\\/del\u003e\u003c\\/a\u003e has a little logic there that is basic-auth specific\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003eActually \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-4470\\\" title=\\\"Support for basic http auth in internal solr requests\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-4470\\\"\u003e\u003cdel\u003eSOLR-4470\u003c\\/del\u003e\u003c\\/a\u003e aims at introducing a framework for any authentication-type, and then (for now) implement basic-auth using this framework. It is prepared for adding new authentication types. See \u003ctt\u003eAuthCredentials\u003c\\/tt\u003e carrying any kind of \u003ctt\u003eAbstractAuthMethod\u003c\\/tt\u003e - currently only \u003ctt\u003eAbstractAuthMethod\u003c\\/tt\u003e-implementation is \u003ctt\u003eBasicHttpAuth\u003c\\/tt\u003e. Adding a new authentication type should basically be about adding a new \u003ctt\u003eAbstractAuthMethod\u003c\\/tt\u003e-implementation. But sorry, I do not remember to many details. But what I do know, is that we have been using \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-4470\\\" title=\\\"Support for basic http auth in internal solr requests\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-4470\\\"\u003e\u003cdel\u003eSOLR-4470\u003c\\/del\u003e\u003c\\/a\u003e solution now in production for a long time, without any problems at all.\u003c\\/p\u003e\\n\\n\u003cblockquote\u003e\u003cp\u003eAs for the suggestion of using a BufferedHttpEntity rather than the OPTIONS approach I describe above, that certainly may be an improvement.\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003eI do not know if it is an improvement compared to your approach. I just implemented in a way that worked. Supporting non-preemptive authenticating POST-requests was not the main focus of \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-4470\\\" title=\\\"Support for basic http auth in internal solr requests\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-4470\\\"\u003e\u003cdel\u003eSOLR-4470\u003c\\/del\u003e\u003c\\/a\u003e, so I just quickly did it in the way that I found it could be done - without considering performance or anything\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"steff1193\\\" id=\\\"commentauthor_14216313_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=steff1193\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"steff1193\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Per Steffensen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14216313_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'18\\/Nov\\/14 15:39\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-11-18T15:39:06+0000\'\u003e18\\/Nov\\/14 15:39\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     One thing I wanted to avoid with this patch is putting authentication-type specific details in HttpSolrServer.   SOLR-4470   has a little logic there that is basic-auth specific  \\n\\n Actually   SOLR-4470   aims at introducing a framework for any authentication-type, and then (for now) implement basic-auth using this framework. It is prepared for adding new authentication types. See  AuthCredentials  carrying any kind of  AbstractAuthMethod  - currently only  AbstractAuthMethod -implementation is  BasicHttpAuth . Adding a new authentication type should basically be about adding a new  AbstractAuthMethod -implementation. But sorry, I do not remember to many details. But what I do know, is that we have been using   SOLR-4470   solution now in production for a long time, without any problems at all. \\n\\n  As for the suggestion of using a BufferedHttpEntity rather than the OPTIONS approach I describe above, that certainly may be an improvement.  \\n\\n I do not know if it is an improvement compared to your approach. I just implemented in a way that worked. Supporting non-preemptive authenticating POST-requests was not the main focus of   SOLR-4470  , so I just quickly did it in the way that I found it could be done - without considering performance or anything              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14216585\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6625?focusedCommentId=14216585&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14216585\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gchanan\\\" id=\\\"commentauthor_14216585_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gchanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gchanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Gregory Chanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14216585_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'18\\/Nov\\/14 18:49\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-11-18T18:49:37+0000\'\u003e18\\/Nov\\/14 18:49\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cblockquote\u003e\u003cp\u003eActually \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-4470\\\" title=\\\"Support for basic http auth in internal solr requests\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-4470\\\"\u003e\u003cdel\u003eSOLR-4470\u003c\\/del\u003e\u003c\\/a\u003e aims at introducing a framework for any authentication-type, and then (for now) implement basic-auth using this framework\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003eAh, I see, I misinterpreted the \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-4470\\\" title=\\\"Support for basic http auth in internal solr requests\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-4470\\\"\u003e\u003cdel\u003eSOLR-4470\u003c\\/del\u003e\u003c\\/a\u003e code in HttpSolrServer &#8211; it uses BasicAuthCache and BasicScheme which I thought were in reference to basic auth, but they are really just default implementations.\u003c\\/p\u003e\\n\\n\u003cp\u003eWhat I\'m really arguing &#8211; and it\'s my fault I didn\'t make it clear with example code &#8211; is that the authentication type may affect how you want the http requests to look, beyond just the credentials.  For example, I\'m using an authentication filter based off of Hadoop\'s AuthenticationFilter (\u003ca href=\\\"https:\\/\\/github.com\\/apache\\/hadoop\\/blob\\/7250b0bf914a55d0fa4802834de7f1909f1b0d6b\\/hadoop-common-project\\/hadoop-auth\\/src\\/main\\/java\\/org\\/apache\\/hadoop\\/security\\/authentication\\/server\\/AuthenticationFilter.java\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttps:\\/\\/github.com\\/apache\\/hadoop\\/blob\\/7250b0bf914a55d0fa4802834de7f1909f1b0d6b\\/hadoop-common-project\\/hadoop-auth\\/src\\/main\\/java\\/org\\/apache\\/hadoop\\/security\\/authentication\\/server\\/AuthenticationFilter.java\u003c\\/a\u003e).  That filter does SPNego negotiation on the first request, but sets a cookie you can use to avoid the negotiation on subsequent requests.  So, I wouldn\'t want the the \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-4470\\\" title=\\\"Support for basic http auth in internal solr requests\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-4470\\\"\u003e\u003cdel\u003eSOLR-4470\u003c\\/del\u003e\u003c\\/a\u003e implementation where I buffer up every request; I only want to do that on the first request to the server on the connection.\u003c\\/p\u003e\\n\\n\u003cp\u003eFrom seeing the \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-4470\\\" title=\\\"Support for basic http auth in internal solr requests\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-4470\\\"\u003e\u003cdel\u003eSOLR-4470\u003c\\/del\u003e\u003c\\/a\u003e code, though, it looks like I was thinking about this incorrectly.  Instead of the HttpClientCallback being a function of the HttpSolrServer, it\'s really a function of the AuthCredentials implementation.  So, the default implementation would just be the credentialsButNonPreemptive\\/getHttpContextForRequest code you have in HttpSolrServer in \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-4470\\\" title=\\\"Support for basic http auth in internal solr requests\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-4470\\\"\u003e\u003cdel\u003eSOLR-4470\u003c\\/del\u003e\u003c\\/a\u003e, but other AuthCredentials implementations could override.  Does that sound right to you, \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=steff1193\\\" class=\\\"user-hover\\\" rel=\\\"steff1193\\\"\u003ePer Steffensen\u003c\\/a\u003e?\u003c\\/p\u003e\\n\\n\u003cblockquote\u003e\u003cp\u003eI do not know if it is an improvement compared to your approach. I just implemented in a way that worked. Supporting non-preemptive authenticating POST-requests was not the main focus of \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-4470\\\" title=\\\"Support for basic http auth in internal solr requests\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-4470\\\"\u003e\u003cdel\u003eSOLR-4470\u003c\\/del\u003e\u003c\\/a\u003e, so I just quickly did it in the way that I found it could be done - without considering performance or anything\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003eCool, I\'ll investigate in another jira.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gchanan\\\" id=\\\"commentauthor_14216585_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gchanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gchanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Gregory Chanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14216585_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'18\\/Nov\\/14 18:49\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-11-18T18:49:37+0000\'\u003e18\\/Nov\\/14 18:49\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     Actually   SOLR-4470   aims at introducing a framework for any authentication-type, and then (for now) implement basic-auth using this framework  \\n\\n Ah, I see, I misinterpreted the   SOLR-4470   code in HttpSolrServer &#8211; it uses BasicAuthCache and BasicScheme which I thought were in reference to basic auth, but they are really just default implementations. \\n\\n What I\'m really arguing &#8211; and it\'s my fault I didn\'t make it clear with example code &#8211; is that the authentication type may affect how you want the http requests to look, beyond just the credentials.  For example, I\'m using an authentication filter based off of Hadoop\'s AuthenticationFilter ( https:\\/\\/github.com\\/apache\\/hadoop\\/blob\\/7250b0bf914a55d0fa4802834de7f1909f1b0d6b\\/hadoop-common-project\\/hadoop-auth\\/src\\/main\\/java\\/org\\/apache\\/hadoop\\/security\\/authentication\\/server\\/AuthenticationFilter.java ).  That filter does SPNego negotiation on the first request, but sets a cookie you can use to avoid the negotiation on subsequent requests.  So, I wouldn\'t want the the   SOLR-4470   implementation where I buffer up every request; I only want to do that on the first request to the server on the connection. \\n\\n From seeing the   SOLR-4470   code, though, it looks like I was thinking about this incorrectly.  Instead of the HttpClientCallback being a function of the HttpSolrServer, it\'s really a function of the AuthCredentials implementation.  So, the default implementation would just be the credentialsButNonPreemptive\\/getHttpContextForRequest code you have in HttpSolrServer in   SOLR-4470  , but other AuthCredentials implementations could override.  Does that sound right to you,  Per Steffensen ? \\n\\n  I do not know if it is an improvement compared to your approach. I just implemented in a way that worked. Supporting non-preemptive authenticating POST-requests was not the main focus of   SOLR-4470  , so I just quickly did it in the way that I found it could be done - without considering performance or anything  \\n\\n Cool, I\'ll investigate in another jira.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14217346\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6625?focusedCommentId=14217346&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14217346\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gchanan\\\" id=\\\"commentauthor_14217346_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gchanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gchanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Gregory Chanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14217346_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'19\\/Nov\\/14 03:37\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-11-19T03:37:40+0000\'\u003e19\\/Nov\\/14 03:37\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eOne other note: if we buy my argument above, that each authentication implementation may want to implement an HttpClientCallback in order to perform some authentication-specific work, we need it in every place where uses HttpClient.  From scanning the source code, it looks like we\'d need to add something to ConcurrentUpdateSolrServer and SolrDispatchFilter and possibly SolrCLI.\u003c\\/p\u003e\\n\\n\u003cblockquote\u003e\u003cp\u003eInstead of the HttpClientCallback being a function of the HttpSolrServer, it\'s really a function of the AuthCredentials implementation\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003eI should mention, perhaps AuthCredentials is not a good name here if it\'s credentials + callback.  Maybe AuthenticationMethod or AuthenticationType or something.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gchanan\\\" id=\\\"commentauthor_14217346_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gchanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gchanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Gregory Chanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14217346_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'19\\/Nov\\/14 03:37\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-11-19T03:37:40+0000\'\u003e19\\/Nov\\/14 03:37\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    One other note: if we buy my argument above, that each authentication implementation may want to implement an HttpClientCallback in order to perform some authentication-specific work, we need it in every place where uses HttpClient.  From scanning the source code, it looks like we\'d need to add something to ConcurrentUpdateSolrServer and SolrDispatchFilter and possibly SolrCLI. \\n\\n  Instead of the HttpClientCallback being a function of the HttpSolrServer, it\'s really a function of the AuthCredentials implementation  \\n\\n I should mention, perhaps AuthCredentials is not a good name here if it\'s credentials + callback.  Maybe AuthenticationMethod or AuthenticationType or something.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14217591\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6625?focusedCommentId=14217591&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14217591\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"steff1193\\\" id=\\\"commentauthor_14217591_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=steff1193\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"steff1193\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Per Steffensen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14217591_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'19\\/Nov\\/14 08:16\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-11-19T08:16:36+0000\'\u003e19\\/Nov\\/14 08:16\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eSorry I do not have the time to go into details. But from quick reading, and as I remember the \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-4470\\\" title=\\\"Support for basic http auth in internal solr requests\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-4470\\\"\u003e\u003cdel\u003eSOLR-4470\u003c\\/del\u003e\u003c\\/a\u003e implementation, most\\/all of what you say sounds reasonable.\u003c\\/p\u003e\\n\\n\u003cp\u003ePlease note that \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-4470\\\" title=\\\"Support for basic http auth in internal solr requests\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-4470\\\"\u003e\u003cdel\u003eSOLR-4470\u003c\\/del\u003e\u003c\\/a\u003e hasnt been committed to the Apache Solr code-base. I provided it long time ago, and just recently \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=janhoy\\\" class=\\\"user-hover\\\" rel=\\\"janhoy\\\"\u003eJan H\\u00F8ydahl\u003c\\/a\u003e and I updated it to fit tip of trunk, and I know Jan intended to try to push it to the code-base. Do not know what happened after that.\u003c\\/p\u003e\\n\\n\u003cp\u003ePlease also note that in \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-4470\\\" title=\\\"Support for basic http auth in internal solr requests\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-4470\\\"\u003e\u003cdel\u003eSOLR-4470\u003c\\/del\u003e\u003c\\/a\u003e I tried to prepare for additional authentication types, but it is hard to make it 100% right when you do not know the nature of the actual types being implemented in the future. Essence is that \u003ctt\u003eAuthCredentials\u003c\\/tt\u003e should carry \u003cspan class=\\\"error\\\"\u003e&#91;information about&#93;\u003c\\/span\u003e the authentications to be \\\"used\\\" for the request(s). How to \\\"use\\\" them is an implementation-detail of the specific authentication type (implementing \u003ctt\u003eAbstractAuthMethod\u003c\\/tt\u003e), and it may require a little rearranging of code to implement authentication type #2. Basing it on a general callback feature sound like good idea. I believe in \\\"never design for the future\\\", but if I didnt at least try to sketch the idea in a \\\"framework\\\", there is a big risk than the next authentication type would be implemented in a completely different way. I also believe in \\\"separation of concerns\\\", so I would really like the \\\"authentication concern\\\" to be handled in one single place - \u003ctt\u003eAuthCredentials\u003c\\/tt\u003e was my attempt to make such \\\"a place\\\".\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"steff1193\\\" id=\\\"commentauthor_14217591_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=steff1193\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"steff1193\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Per Steffensen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14217591_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'19\\/Nov\\/14 08:16\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-11-19T08:16:36+0000\'\u003e19\\/Nov\\/14 08:16\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Sorry I do not have the time to go into details. But from quick reading, and as I remember the   SOLR-4470   implementation, most\\/all of what you say sounds reasonable. \\n\\n Please note that   SOLR-4470   hasnt been committed to the Apache Solr code-base. I provided it long time ago, and just recently  Jan H\\u00F8ydahl  and I updated it to fit tip of trunk, and I know Jan intended to try to push it to the code-base. Do not know what happened after that. \\n\\n Please also note that in   SOLR-4470   I tried to prepare for additional authentication types, but it is hard to make it 100% right when you do not know the nature of the actual types being implemented in the future. Essence is that  AuthCredentials  should carry  &#91;information about&#93;  the authentications to be \\\"used\\\" for the request(s). How to \\\"use\\\" them is an implementation-detail of the specific authentication type (implementing  AbstractAuthMethod ), and it may require a little rearranging of code to implement authentication type #2. Basing it on a general callback feature sound like good idea. I believe in \\\"never design for the future\\\", but if I didnt at least try to sketch the idea in a \\\"framework\\\", there is a big risk than the next authentication type would be implemented in a completely different way. I also believe in \\\"separation of concerns\\\", so I would really like the \\\"authentication concern\\\" to be handled in one single place -  AuthCredentials  was my attempt to make such \\\"a place\\\".              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14234621\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6625?focusedCommentId=14234621&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14234621\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gchanan\\\" id=\\\"commentauthor_14234621_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gchanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gchanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Gregory Chanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14234621_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Dec\\/14 21:04\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-12-04T21:04:19+0000\'\u003e04\\/Dec\\/14 21:04\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eHere\'s a new version of the patch, along the lines of what Per and I discussed above.\u003c\\/p\u003e\\n\\n\u003cp\u003eChanges from previous patch:\u003c\\/p\u003e\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003eNow works across HttpClient invocations, not just in HttpSolrServer.  So raw HttpClient calls from the SolrDispatchFilter, ConcurrentUpdateSolrServer, SolrCLI are handled as well.  There are unit tests for all the above except SolrCLI (for which I couldn\'t find a general test for)\u003c\\/li\u003e\\n\\t\u003cli\u003eCan be configured similar to the ZKCredentials.  So the server side is configured via solr.xml, client side is configured via system properties.\u003c\\/li\u003e\\n\\t\u003cli\u003eWe now pass a SolrRequest to the callback, to match the semantics of \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-4470\\\" title=\\\"Support for basic http auth in internal solr requests\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-4470\\\"\u003e\u003cdel\u003eSOLR-4470\u003c\\/del\u003e\u003c\\/a\u003e.  So it should be easy to incorporate \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-4470\\\" title=\\\"Support for basic http auth in internal solr requests\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-4470\\\"\u003e\u003cdel\u003eSOLR-4470\u003c\\/del\u003e\u003c\\/a\u003e at a later date.\u003c\\/li\u003e\\n\\t\u003cli\u003eBecause we pass a SolrRequest to the callback, for the raw httpclient calls we generate a SolrRequest that matches the underlying call.  These raw calls should probably use HttpSolrServer anyway &#8211; this is a step in that direction.  This changed required adding support for more http methods, since the forwarded requests can send HEAD and DELETE, for example.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gchanan\\\" id=\\\"commentauthor_14234621_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gchanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gchanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Gregory Chanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14234621_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Dec\\/14 21:04\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-12-04T21:04:19+0000\'\u003e04\\/Dec\\/14 21:04\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Here\'s a new version of the patch, along the lines of what Per and I discussed above. \\n\\n Changes from previous patch: \\n \\n\\t Now works across HttpClient invocations, not just in HttpSolrServer.  So raw HttpClient calls from the SolrDispatchFilter, ConcurrentUpdateSolrServer, SolrCLI are handled as well.  There are unit tests for all the above except SolrCLI (for which I couldn\'t find a general test for) \\n\\t Can be configured similar to the ZKCredentials.  So the server side is configured via solr.xml, client side is configured via system properties. \\n\\t We now pass a SolrRequest to the callback, to match the semantics of   SOLR-4470  .  So it should be easy to incorporate   SOLR-4470   at a later date. \\n\\t Because we pass a SolrRequest to the callback, for the raw httpclient calls we generate a SolrRequest that matches the underlying call.  These raw calls should probably use HttpSolrServer anyway &#8211; this is a step in that direction.  This changed required adding support for more http methods, since the forwarded requests can send HEAD and DELETE, for example. \\n \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14234749\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6625?focusedCommentId=14234749&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14234749\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gchanan\\\" id=\\\"commentauthor_14234749_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gchanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gchanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Gregory Chanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14234749_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Dec\\/14 22:49\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-12-04T22:49:30+0000\'\u003e04\\/Dec\\/14 22:49\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eMinor update, ensures the loader is passed to the UpdateShardHandler from CoreContainer.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gchanan\\\" id=\\\"commentauthor_14234749_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gchanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gchanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Gregory Chanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14234749_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Dec\\/14 22:49\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-12-04T22:49:30+0000\'\u003e04\\/Dec\\/14 22:49\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Minor update, ensures the loader is passed to the UpdateShardHandler from CoreContainer.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14234882\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6625?focusedCommentId=14234882&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14234882\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gchanan\\\" id=\\\"commentauthor_14234882_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gchanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gchanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Gregory Chanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14234882_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Dec\\/14 01:18\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-12-05T01:18:06+0000\'\u003e05\\/Dec\\/14 01:18\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eAdds a small test for the previous change, i.e. that the distributed requests actually get fed through the callback.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gchanan\\\" id=\\\"commentauthor_14234882_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gchanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gchanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Gregory Chanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14234882_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Dec\\/14 01:18\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-12-05T01:18:06+0000\'\u003e05\\/Dec\\/14 01:18\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Adds a small test for the previous change, i.e. that the distributed requests actually get fed through the callback.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14238589\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6625?focusedCommentId=14238589&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14238589\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gchanan\\\" id=\\\"commentauthor_14238589_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gchanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gchanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Gregory Chanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14238589_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Dec\\/14 22:39\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-12-08T22:39:47+0000\'\u003e08\\/Dec\\/14 22:39\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Gregory Chanan - 08\\/Dec\\/14 22:41\\\"\u003eedited\u003c\\/span\u003e \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003ePut up a review request: \u003ca href=\\\"https:\\/\\/reviews.apache.org\\/r\\/28826\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttps:\\/\\/reviews.apache.org\\/r\\/28826\u003c\\/a\u003e\u003c\\/p\u003e\\n\\n\u003cp\u003eNew patch allows the callback to throw an IOException; this allows the calling code to do something reasonable in error cases, i.e. if the callback makes an HttpRequest, the code in SolrDispatchFilter will print a good error message about it failing when trying to forward requests if it actually fails.\u003c\\/p\u003e\\n\\n\u003cp\u003eThe only part I\'m hesitant about here is the code to generate a SolrRequest if one doesn\'t exist (in SolrCLI, SolrDipsatchFilter).  This seems like a decent amount of complexity for little gain compared to just passing null.  For my case, in the SolrDispatchFilter, I need to get some information from the SolrQueryRequest or HttpServletRequest (basically, the authenticated user that\'s available in the HttpServletRequest.getAttribute or SolrQueryRequest.getContext() or SolrQueryRequest.getParams()).  But passing in either the SolrQueryRequest or HttpServletRequest doesn\'t seem like a good idea, because those are both really server-side data structures and the HttpClientRequestCallback is client side.  We could have a different interface for the server-side stuff, but that doesn\'t seem less complex than generating a new SolrRequest.  One alternative would be to pass a SolrParams or Map (i.e. SolrQueryRequest.getContext()) as another parameter, call it context, and make it clear from the documentation it is only useful on forwarded requests and can be ignored for clients.  That would allow us to remove the code for HttpHead\\/HttpDelete support in SolrRequests.\u003c\\/p\u003e\\n\\n\u003cp\u003eAnyway, that\'s my thinking right now, any feedback would be appreciated.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gchanan\\\" id=\\\"commentauthor_14238589_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gchanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gchanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Gregory Chanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14238589_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Dec\\/14 22:39\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-12-08T22:39:47+0000\'\u003e08\\/Dec\\/14 22:39\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Gregory Chanan - 08\\/Dec\\/14 22:41\\\"\u003eedited\u003c\\/span\u003e                   Put up a review request:  https:\\/\\/reviews.apache.org\\/r\\/28826  \\n\\n New patch allows the callback to throw an IOException; this allows the calling code to do something reasonable in error cases, i.e. if the callback makes an HttpRequest, the code in SolrDispatchFilter will print a good error message about it failing when trying to forward requests if it actually fails. \\n\\n The only part I\'m hesitant about here is the code to generate a SolrRequest if one doesn\'t exist (in SolrCLI, SolrDipsatchFilter).  This seems like a decent amount of complexity for little gain compared to just passing null.  For my case, in the SolrDispatchFilter, I need to get some information from the SolrQueryRequest or HttpServletRequest (basically, the authenticated user that\'s available in the HttpServletRequest.getAttribute or SolrQueryRequest.getContext() or SolrQueryRequest.getParams()).  But passing in either the SolrQueryRequest or HttpServletRequest doesn\'t seem like a good idea, because those are both really server-side data structures and the HttpClientRequestCallback is client side.  We could have a different interface for the server-side stuff, but that doesn\'t seem less complex than generating a new SolrRequest.  One alternative would be to pass a SolrParams or Map (i.e. SolrQueryRequest.getContext()) as another parameter, call it context, and make it clear from the documentation it is only useful on forwarded requests and can be ignored for clients.  That would allow us to remove the code for HttpHead\\/HttpDelete support in SolrRequests. \\n\\n Anyway, that\'s my thinking right now, any feedback would be appreciated.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14238644\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6625?focusedCommentId=14238644&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14238644\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"markrmiller@gmail.com\\\" id=\\\"commentauthor_14238644_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=markrmiller%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"markrmiller@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mark Miller\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14238644_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Dec\\/14 23:18\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-12-08T23:18:28+0000\'\u003e08\\/Dec\\/14 23:18\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI think the last option is best.\u003c\\/p\u003e\\n\\n\u003cp\u003ePerhaps we could add this info to the current context info map on the SolrRequest, and pass that context to the call back.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"markrmiller@gmail.com\\\" id=\\\"commentauthor_14238644_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=markrmiller%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"markrmiller@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mark Miller\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14238644_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Dec\\/14 23:18\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-12-08T23:18:28+0000\'\u003e08\\/Dec\\/14 23:18\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I think the last option is best. \\n\\n Perhaps we could add this info to the current context info map on the SolrRequest, and pass that context to the call back.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14238865\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6625?focusedCommentId=14238865&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14238865\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sdavids\\\" id=\\\"commentauthor_14238865_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sdavids\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sdavids\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Steve Davids\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14238865_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'09\\/Dec\\/14 02:14\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-12-09T02:14:10+0000\'\u003e09\\/Dec\\/14 02:14\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eIs there any reason why we wouldn\'t just utilize HttpClient\'s \u003ca href=\\\"http:\\/\\/hc.apache.org\\/httpcomponents-core-4.3.x\\/httpcore\\/apidocs\\/org\\/apache\\/http\\/HttpRequestInterceptor.html\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003eHttpRequestInterceptor\u003c\\/a\u003e and \u003ca href=\\\"http:\\/\\/hc.apache.org\\/httpcomponents-core-4.3.x\\/httpcore\\/apidocs\\/org\\/apache\\/http\\/HttpResponseInterceptor.html\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003eHttpResponseInterceptor\u003c\\/a\u003e? It seems as though if we could just provide an HttpClientFactory that clients can implement\\/override it should provide enough hooks to have everyone customize HttpClient to their hearts delight.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sdavids\\\" id=\\\"commentauthor_14238865_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sdavids\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sdavids\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Steve Davids\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14238865_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'09\\/Dec\\/14 02:14\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-12-09T02:14:10+0000\'\u003e09\\/Dec\\/14 02:14\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Is there any reason why we wouldn\'t just utilize HttpClient\'s  HttpRequestInterceptor  and  HttpResponseInterceptor ? It seems as though if we could just provide an HttpClientFactory that clients can implement\\/override it should provide enough hooks to have everyone customize HttpClient to their hearts delight.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14238876\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6625?focusedCommentId=14238876&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14238876\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gchanan\\\" id=\\\"commentauthor_14238876_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gchanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gchanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Gregory Chanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14238876_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'09\\/Dec\\/14 02:23\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-12-09T02:23:50+0000\'\u003e09\\/Dec\\/14 02:23\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThe reason I didn\'t take that approach is that in some cases there\'s not enough context to figure out what you need to do.  It\'s essentially equivalent to just passing the HttpRequest to the callback (and would thus be superior if that\'s all we needed), but consider the following cases:\u003cbr\\/\u003e\\n1) See \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-4470\\\" title=\\\"Support for basic http auth in internal solr requests\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-4470\\\"\u003e\u003cdel\u003eSOLR-4470\u003c\\/del\u003e\u003c\\/a\u003e.  That makes use of SolrRequest.getPreemptiveAuthentication, so you\'d need the actual SolrRequest\u003cbr\\/\u003e\\n2) See the discussion above about SolrDispatchFilter.  In that case, the client needs to get the context of the SolrQueryRequest\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gchanan\\\" id=\\\"commentauthor_14238876_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gchanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gchanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Gregory Chanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14238876_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'09\\/Dec\\/14 02:23\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-12-09T02:23:50+0000\'\u003e09\\/Dec\\/14 02:23\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    The reason I didn\'t take that approach is that in some cases there\'s not enough context to figure out what you need to do.  It\'s essentially equivalent to just passing the HttpRequest to the callback (and would thus be superior if that\'s all we needed), but consider the following cases: \\n1) See   SOLR-4470  .  That makes use of SolrRequest.getPreemptiveAuthentication, so you\'d need the actual SolrRequest \\n2) See the discussion above about SolrDispatchFilter.  In that case, the client needs to get the context of the SolrQueryRequest              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14239541\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6625?focusedCommentId=14239541&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14239541\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sdavids\\\" id=\\\"commentauthor_14239541_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sdavids\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sdavids\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Steve Davids\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14239541_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'09\\/Dec\\/14 15:29\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-12-09T15:29:39+0000\'\u003e09\\/Dec\\/14 15:29\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cblockquote\u003e\u003cp\u003eSee \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-4470\\\" title=\\\"Support for basic http auth in internal solr requests\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-4470\\\"\u003e\u003cdel\u003eSOLR-4470\u003c\\/del\u003e\u003c\\/a\u003e. That makes use of SolrRequest.getPreemptiveAuthentication, so you\'d need the actual SolrRequest\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003eI took a look at the patch but not quite sure any of that is actually necessary. Looking at the \\\"what\\\" detailed in \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-4470\\\" title=\\\"Support for basic http auth in internal solr requests\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-4470\\\"\u003e\u003cdel\u003eSOLR-4470\u003c\\/del\u003e\u003c\\/a\u003e they need to be able to lock down Solr Cloud via BasicAuth, you can easily do this via HttpClient\'s \u003ca href=\\\"http:\\/\\/hc.apache.org\\/httpcomponents-client-ga\\/httpclient\\/apidocs\\/org\\/apache\\/http\\/impl\\/auth\\/BasicScheme.html\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003eBasicScheme\u003c\\/a\u003e authentication scheme. Likewise you can see all of the various other \u003ca href=\\\"http:\\/\\/hc.apache.org\\/httpcomponents-client-ga\\/httpclient\\/apidocs\\/org\\/apache\\/http\\/auth\\/AuthScheme.html\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003eauthentication schemes\u003c\\/a\u003e HttpClient supports (SPNego included). This would seem to do the trick, except for perhaps propagating the authentication from the original request though this shouldn\'t really be a requirement since the challenge will be static in the web container that you can live with having static credentials in the solr distrib - if it changes deploy new config changes.\u003c\\/p\u003e\\n\\n\u003cp\u003eFor further information on authentication via HttpClient check out their help page here: \u003ca href=\\\"http:\\/\\/hc.apache.org\\/httpcomponents-client-ga\\/tutorial\\/html\\/authentication.html\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/hc.apache.org\\/httpcomponents-client-ga\\/tutorial\\/html\\/authentication.html\u003c\\/a\u003e\u003c\\/p\u003e\\n\\n\u003cblockquote\u003e\u003cp\u003eSee the discussion above about SolrDispatchFilter. In that case, the client needs to get the context of the SolrQueryRequest... For my case, in the SolrDispatchFilter, I need to get some information from the SolrQueryRequest or HttpServletRequest (basically, the authenticated user that\'s available in the HttpServletRequest.getAttribute or SolrQueryRequest.getContext() or SolrQueryRequest.getParams())\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003eAre you using these credentials to execute distributed requests? Or would it make sense to have a certain user hit the frontend shard, then that shard will perform the distributed request on behalf of the system\'s authentication credentials?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sdavids\\\" id=\\\"commentauthor_14239541_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sdavids\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sdavids\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Steve Davids\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14239541_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'09\\/Dec\\/14 15:29\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-12-09T15:29:39+0000\'\u003e09\\/Dec\\/14 15:29\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     See   SOLR-4470  . That makes use of SolrRequest.getPreemptiveAuthentication, so you\'d need the actual SolrRequest  \\n\\n I took a look at the patch but not quite sure any of that is actually necessary. Looking at the \\\"what\\\" detailed in   SOLR-4470   they need to be able to lock down Solr Cloud via BasicAuth, you can easily do this via HttpClient\'s  BasicScheme  authentication scheme. Likewise you can see all of the various other  authentication schemes  HttpClient supports (SPNego included). This would seem to do the trick, except for perhaps propagating the authentication from the original request though this shouldn\'t really be a requirement since the challenge will be static in the web container that you can live with having static credentials in the solr distrib - if it changes deploy new config changes. \\n\\n For further information on authentication via HttpClient check out their help page here:  http:\\/\\/hc.apache.org\\/httpcomponents-client-ga\\/tutorial\\/html\\/authentication.html  \\n\\n  See the discussion above about SolrDispatchFilter. In that case, the client needs to get the context of the SolrQueryRequest... For my case, in the SolrDispatchFilter, I need to get some information from the SolrQueryRequest or HttpServletRequest (basically, the authenticated user that\'s available in the HttpServletRequest.getAttribute or SolrQueryRequest.getContext() or SolrQueryRequest.getParams())  \\n\\n Are you using these credentials to execute distributed requests? Or would it make sense to have a certain user hit the frontend shard, then that shard will perform the distributed request on behalf of the system\'s authentication credentials?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14239957\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6625?focusedCommentId=14239957&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14239957\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gchanan\\\" id=\\\"commentauthor_14239957_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gchanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gchanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Gregory Chanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14239957_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'09\\/Dec\\/14 20:00\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-12-09T20:00:37+0000\'\u003e09\\/Dec\\/14 20:00\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cblockquote\u003e\u003cp\u003eThis would seem to do the trick, except for perhaps propagating the authentication from the original request though this shouldn\'t really be a requirement since the challenge will be static in the web container that you can live with having static credentials in the solr distrib - if it changes deploy new config changes.\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003eRight, as far as I understand it, that part is there to propagate the authentication from the original request.  Maybe \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=steff1193\\\" class=\\\"user-hover\\\" rel=\\\"steff1193\\\"\u003ePer Steffensen\u003c\\/a\u003e can chime in with the motivation there rather than always using the static credentials &#8211; I\'m guessing it is because there is some organization-specific authorization checking expecting the actual user who made the original request.\u003c\\/p\u003e\\n\\n\u003cp\u003eThis patch is based on what we do with Apache Sentry and is a little different than the \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-4470\\\" title=\\\"Support for basic http auth in internal solr requests\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-4470\\\"\u003e\u003cdel\u003eSOLR-4470\u003c\\/del\u003e\u003c\\/a\u003e approach, I\'ll explain that below.  I put the SolrRequest param in the callback because it was easy, we have evidence that other people who implemented authentication find it useful to have access to the SolrRequest, and it is compatible with \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-4470\\\" title=\\\"Support for basic http auth in internal solr requests\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-4470\\\"\u003e\u003cdel\u003eSOLR-4470\u003c\\/del\u003e\u003c\\/a\u003e.\u003c\\/p\u003e\\n\\n\u003cblockquote\u003e\u003cp\u003eLikewise you can see all of the various other authentication schemes HttpClient supports (SPNego included)\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003eYep, we are actually using HttpClient\'s SPNego support &#8211; I plan on contributing that in separate patch.  One difference is Solr doesn\'t use repeatable requests, so we need to address that  in some way (e.g. use BufferedEntity like \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-4470\\\" title=\\\"Support for basic http auth in internal solr requests\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-4470\\\"\u003e\u003cdel\u003eSOLR-4470\u003c\\/del\u003e\u003c\\/a\u003e).  That part seems like it could be implemented either via this HttpClientRequestCallback or an HttpRequestInterceptor.\u003c\\/p\u003e\\n\\n\u003cblockquote\u003e\u003cp\u003eAre you using these credentials to execute distributed requests? Or would it make sense to have a certain user hit the frontend shard, then that shard will perform the distributed request on behalf of the system\'s authentication credentials?\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003eThe later is close to correct.  In Sentry we have some request handlers that do the checking based on the authenticated user, so if you make a request to a shard and the request is not forwarded, everything works as expected.  All solr-to-solr requests are done via internal (solr) credentials; we may have used \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-4470\\\" title=\\\"Support for basic http auth in internal solr requests\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-4470\\\"\u003e\u003cdel\u003eSOLR-4470\u003c\\/del\u003e\u003c\\/a\u003e if it were available in the version we were developing against and it was tested with SPNego, but it wasn\'t and this approach is simpler.  So this means in the forwarded case, the request looks like it came from solr and thus you can\'t do proper authorization.  To get around this, we use secure impersonation (\u003ca href=\\\"http:\\/\\/hadoop.apache.org\\/docs\\/r1.2.1\\/Secure_Impersonation.html\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/hadoop.apache.org\\/docs\\/r1.2.1\\/Secure_Impersonation.html\u003c\\/a\u003e) to make the forwarded request look like it came from the original authenticated user.  That\'s what the part about including the context from the SolrQueryRequest is about above.\u003c\\/p\u003e\\n\\n\u003cp\u003eNow, you could argue that these concerns should be separated &#8211; i.e. there should be some sort of forwarded request callback for handling the authenticated user for that specific case and the HttpRequestInterceptor should handle the http concerns around BufferedEntities and such.  I\'m not totally against that, but I\'d say that the HttpClientRequestCallback is compatible with two independently developed authentication\\/authorization implementations (Sentry and \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-4470\\\" title=\\\"Support for basic http auth in internal solr requests\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-4470\\\"\u003e\u003cdel\u003eSOLR-4470\u003c\\/del\u003e\u003c\\/a\u003e), and the separated ForwardedCallback\\/HttpRequestInterceptor approach doesn\'t seem simpler.  And you can still use HttpRequestInterceptors if you want to write your own HttpClientConfigurer.\u003c\\/p\u003e\\n\\n\u003cp\u003eHopefully that addresses your questions \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=sdavids\\\" class=\\\"user-hover\\\" rel=\\\"sdavids\\\"\u003eSteve Davids\u003c\\/a\u003e, any feedback is appreciated.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gchanan\\\" id=\\\"commentauthor_14239957_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gchanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gchanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Gregory Chanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14239957_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'09\\/Dec\\/14 20:00\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-12-09T20:00:37+0000\'\u003e09\\/Dec\\/14 20:00\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     This would seem to do the trick, except for perhaps propagating the authentication from the original request though this shouldn\'t really be a requirement since the challenge will be static in the web container that you can live with having static credentials in the solr distrib - if it changes deploy new config changes.  \\n\\n Right, as far as I understand it, that part is there to propagate the authentication from the original request.  Maybe  Per Steffensen  can chime in with the motivation there rather than always using the static credentials &#8211; I\'m guessing it is because there is some organization-specific authorization checking expecting the actual user who made the original request. \\n\\n This patch is based on what we do with Apache Sentry and is a little different than the   SOLR-4470   approach, I\'ll explain that below.  I put the SolrRequest param in the callback because it was easy, we have evidence that other people who implemented authentication find it useful to have access to the SolrRequest, and it is compatible with   SOLR-4470  . \\n\\n  Likewise you can see all of the various other authentication schemes HttpClient supports (SPNego included)  \\n\\n Yep, we are actually using HttpClient\'s SPNego support &#8211; I plan on contributing that in separate patch.  One difference is Solr doesn\'t use repeatable requests, so we need to address that  in some way (e.g. use BufferedEntity like   SOLR-4470  ).  That part seems like it could be implemented either via this HttpClientRequestCallback or an HttpRequestInterceptor. \\n\\n  Are you using these credentials to execute distributed requests? Or would it make sense to have a certain user hit the frontend shard, then that shard will perform the distributed request on behalf of the system\'s authentication credentials?  \\n\\n The later is close to correct.  In Sentry we have some request handlers that do the checking based on the authenticated user, so if you make a request to a shard and the request is not forwarded, everything works as expected.  All solr-to-solr requests are done via internal (solr) credentials; we may have used   SOLR-4470   if it were available in the version we were developing against and it was tested with SPNego, but it wasn\'t and this approach is simpler.  So this means in the forwarded case, the request looks like it came from solr and thus you can\'t do proper authorization.  To get around this, we use secure impersonation ( http:\\/\\/hadoop.apache.org\\/docs\\/r1.2.1\\/Secure_Impersonation.html ) to make the forwarded request look like it came from the original authenticated user.  That\'s what the part about including the context from the SolrQueryRequest is about above. \\n\\n Now, you could argue that these concerns should be separated &#8211; i.e. there should be some sort of forwarded request callback for handling the authenticated user for that specific case and the HttpRequestInterceptor should handle the http concerns around BufferedEntities and such.  I\'m not totally against that, but I\'d say that the HttpClientRequestCallback is compatible with two independently developed authentication\\/authorization implementations (Sentry and   SOLR-4470  ), and the separated ForwardedCallback\\/HttpRequestInterceptor approach doesn\'t seem simpler.  And you can still use HttpRequestInterceptors if you want to write your own HttpClientConfigurer. \\n\\n Hopefully that addresses your questions  Steve Davids , any feedback is appreciated.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14241254\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6625?focusedCommentId=14241254&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14241254\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"steff1193\\\" id=\\\"commentauthor_14241254_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=steff1193\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"steff1193\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Per Steffensen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14241254_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'10\\/Dec\\/14 15:40\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-12-10T15:40:51+0000\'\u003e10\\/Dec\\/14 15:40\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cblockquote\u003e\u003cp\u003eMaybe Per Steffensen can chime in with the motivation there rather than always using the static credentials \\u2013 I\'m guessing it is because there is some organization-specific authorization checking expecting the actual user who made the original request.\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cul\u003e\\n\\t\u003cli\u003eEvery paranoid customers. In general we\\/they just do not want a user to be able to indirectly (through distributed sub-requests) get a response to a query he is not allowed to fire directly. There is a lot of details to it that I will spare you, but overall we are also 1) using authorization to prevent specific groups of users to do queries (directly or indirectly) that takes certain amounts of resources from the system or 2) to fetch certain fields or any information that can be derived from those fields. Ad 1) By a lot of testing we know which types of queries really takes a lot of resources out of our system, but it is hard to be sure that a query that does not seem to be such a query, does not indirectly fire such queries in distributed sub-requests. Ad 2) Just because an outer request does not specifically ask for a certain field, it is hard to know that the indirect sub-request also does not, even though in practice it is so (except for id an score)\u003c\\/li\u003e\\n\\t\u003cli\u003eDistributed audit logging\u003c\\/li\u003e\\n\\t\u003cli\u003eEtc.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003eI realize that the reasons we want the credentials from the outer request forwarded in sub-requests are very thin. I understand if this is not something that you feel is necessary to support in Apache Solr. But if it does not make the solution much more complicated you might just support it. I do not think \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-4470\\\" title=\\\"Support for basic http auth in internal solr requests\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-4470\\\"\u003e\u003cdel\u003eSOLR-4470\u003c\\/del\u003e\u003c\\/a\u003e is a complicated solution - most of it, really, is testing.\u003c\\/p\u003e\\n\\n\u003cblockquote\u003e\u003cp\u003eLikewise you can see all of the various other authentication schemes HttpClient supports (SPNego included)\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-4470\\\" title=\\\"Support for basic http auth in internal solr requests\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-4470\\\"\u003e\u003cdel\u003eSOLR-4470\u003c\\/del\u003e\u003c\\/a\u003e does not try to do itself what HttpClient can already do. The HttpClient capabilities can just be used outside or through the authentication-framework introduced in \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-4470\\\" title=\\\"Support for basic http auth in internal solr requests\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-4470\\\"\u003e\u003cdel\u003eSOLR-4470\u003c\\/del\u003e\u003c\\/a\u003e. \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-4470\\\" title=\\\"Support for basic http auth in internal solr requests\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-4470\\\"\u003e\u003cdel\u003eSOLR-4470\u003c\\/del\u003e\u003c\\/a\u003e is mostly about joggling the credentials inside Solr-nodes. When they have to be added to requests, of course use HttpClient capabilities.\u003c\\/p\u003e\\n\\n\u003cblockquote\u003e\u003cp\u003eTo get around this, we use secure impersonation\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003eInteresting!\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"steff1193\\\" id=\\\"commentauthor_14241254_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=steff1193\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"steff1193\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Per Steffensen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14241254_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'10\\/Dec\\/14 15:40\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-12-10T15:40:51+0000\'\u003e10\\/Dec\\/14 15:40\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     Maybe Per Steffensen can chime in with the motivation there rather than always using the static credentials \\u2013 I\'m guessing it is because there is some organization-specific authorization checking expecting the actual user who made the original request.  \\n\\n \\n\\t Every paranoid customers. In general we\\/they just do not want a user to be able to indirectly (through distributed sub-requests) get a response to a query he is not allowed to fire directly. There is a lot of details to it that I will spare you, but overall we are also 1) using authorization to prevent specific groups of users to do queries (directly or indirectly) that takes certain amounts of resources from the system or 2) to fetch certain fields or any information that can be derived from those fields. Ad 1) By a lot of testing we know which types of queries really takes a lot of resources out of our system, but it is hard to be sure that a query that does not seem to be such a query, does not indirectly fire such queries in distributed sub-requests. Ad 2) Just because an outer request does not specifically ask for a certain field, it is hard to know that the indirect sub-request also does not, even though in practice it is so (except for id an score) \\n\\t Distributed audit logging \\n\\t Etc. \\n \\n\\n\\n I realize that the reasons we want the credentials from the outer request forwarded in sub-requests are very thin. I understand if this is not something that you feel is necessary to support in Apache Solr. But if it does not make the solution much more complicated you might just support it. I do not think   SOLR-4470   is a complicated solution - most of it, really, is testing. \\n\\n  Likewise you can see all of the various other authentication schemes HttpClient supports (SPNego included)  \\n\\n   SOLR-4470   does not try to do itself what HttpClient can already do. The HttpClient capabilities can just be used outside or through the authentication-framework introduced in   SOLR-4470  .   SOLR-4470   is mostly about joggling the credentials inside Solr-nodes. When they have to be added to requests, of course use HttpClient capabilities. \\n\\n  To get around this, we use secure impersonation  \\n\\n Interesting!              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14244185\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6625?focusedCommentId=14244185&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14244185\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"steff1193\\\" id=\\\"commentauthor_14244185_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=steff1193\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"steff1193\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Per Steffensen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14244185_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Dec\\/14 14:32\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-12-12T14:32:19+0000\'\u003e12\\/Dec\\/14 14:32\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eHad a few hours for a look at the latest patch. Not a lot of time so I might very well have overlooked something, so please bear with me. But from what I got out of it I have the following comments\u003c\\/p\u003e\\n\\n\u003cp\u003eIt seems you can control the used callbacks in two ways\u003c\\/p\u003e\\n\u003cul\u003e\\n\\t\u003cli\u003e1) Through \u003ctt\u003esolr.xml\u003c\\/tt\u003e.\\n\\t\u003cul\u003e\\n\\t\\t\u003cli\u003eRequest that \u003ctt\u003eSolrDispatchFilter\u003c\\/tt\u003e forwards (using \u003ctt\u003eremoteQuery\u003c\\/tt\u003e)\u003c\\/li\u003e\\n\\t\\t\u003cli\u003eUpdate requests sent through \u003ctt\u003eUpdateShardHandler\u003c\\/tt\u003e - \u003ctt\u003eDistributedUpdateProcessor\u003c\\/tt\u003e, \u003ctt\u003eSnapPuller\u003c\\/tt\u003e, \u003ctt\u003ePeerSync\u003c\\/tt\u003e, \u003ctt\u003eSyncStrategy\u003c\\/tt\u003e ...\u003c\\/li\u003e\\n\\t\\t\u003cli\u003e\u003ctt\u003eOverseer\u003c\\/tt\u003e requests (through \u003ctt\u003eUpdateShardHandler\u003c\\/tt\u003e via \u003ctt\u003eZkController\u003c\\/tt\u003e)\u003c\\/li\u003e\\n\\t\u003c\\/ul\u003e\\n\\t\u003c\\/li\u003e\\n\\t\u003cli\u003e2) Through VM parameter. Used for every request sent - from Solr nodes and clients or whatever is running in the JVM sending request using \u003ctt\u003eHttpSolrServer\u003c\\/tt\u003e (or \u003ctt\u003eConcurrentUpdateSolrServer\u003c\\/tt\u003e). Believe, for the requests mentioned under 1) above, both callbacks (the one from \u003ctt\u003esolr.xml\u003c\\/tt\u003e AND the one from VM parameter) will be triggered - is that intentional? (it is fine for me)\u003cbr\\/\u003e\\nI think, that if you want to support setting the callback through \u003ctt\u003esolr.xml\u003c\\/tt\u003e it should be used for all requests sent out of a Solr node - including e.g. search requests to shards issued from \u003ctt\u003eSearchHandler\u003c\\/tt\u003e (by code inspection it seems to me that it will not currently be included here). Regarding this principle of using the \u003ctt\u003esolr.xml\u003c\\/tt\u003e-callback for ALL requests going out of a Solr node, I would really like to see some testing that makes sure this principle is fulfilled now and that it is not broken in the future (the day after \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-6625\\\" title=\\\"Add interceptor API for outgoing calls through HttpSolrClient\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-6625\\\"\u003e\u003cdel\u003eSOLR-6625\u003c\\/del\u003e\u003c\\/a\u003e is committed and forgotten about, someone adds a new place in the code sending requests going out of Solr nodes and forgets to call the callbacks). I wanted to do the same in \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-4470\\\" title=\\\"Support for basic http auth in internal solr requests\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-4470\\\"\u003e\u003cdel\u003eSOLR-4470\u003c\\/del\u003e\u003c\\/a\u003e (making sure that no requests going out of Solr nodes do not have credentials added - not it the code as it is today nor in the code as it changes in the future). I achieved it by adding a protecting layer around every Solr node ever started during testing, and assuming that the test-suite triggers every type of requests going out of Solr nodes, that will basically ensure that no one forgets to propagate credentials when extending the code in the future (those requests will fail and the test will likely fail). I would really like to see something similar here, verifying that \u003ctt\u003esolr.xml\u003c\\/tt\u003e-callback is triggered for every request going out of a Solr node.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003eMaybe you should consider the naming of \u003ctt\u003edistribCount\u003c\\/tt\u003e and \u003ctt\u003eforwardCount\u003c\\/tt\u003e in \u003ctt\u003eBasicDistributedZk2Test.HttpClientRequestCallbackCounter\u003c\\/tt\u003e. They are very confusing to me. \u003ctt\u003edistribCount\u003c\\/tt\u003e seem to count update-requests (they are kinda forwarded) and \u003ctt\u003eforwardCount\u003c\\/tt\u003e seem to count everything else including request from e.g. \u003ctt\u003eOverseer\u003c\\/tt\u003e (they are among those that can not be characterized as forwarded)\u003c\\/p\u003e\\n\\n\u003cp\u003eI know you are not keen on cleaning up while adding a new feature (I was told that we have to do cleanup in different JIRAs). Personally I am very much against that, because no one will ever make a JIRA just to clean up (at least, looking at the code-base I see that it does not happen enough). Assuming we want to do a little cleanup (in that code that is touched anyway in this JIRA) I have the following suggestions\u003c\\/p\u003e\\n\u003cul\u003e\\n\\t\u003cli\u003eChange \u003ctt\u003eConcurrentUpdateSolrServer\u003c\\/tt\u003e to use \u003ctt\u003eHttpSolrServer\u003c\\/tt\u003e or at least make them share common code. Then we do not have \\\"remember\\\" to add callback-support in both when we solve this \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-6625\\\" title=\\\"Add interceptor API for outgoing calls through HttpSolrClient\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-6625\\\"\u003e\u003cdel\u003eSOLR-6625\u003c\\/del\u003e\u003c\\/a\u003e\u003c\\/li\u003e\\n\\t\u003cli\u003eIn general we should do some \\\"Separation of Concerns\\\" here and create a single component X (e.g. \u003ctt\u003eSolrNodeOutgoingRequestSender\u003c\\/tt\u003e) concerned with sending requests out of Solr nodes. Make X use callback from \u003ctt\u003esolr.xml\u003c\\/tt\u003e.\\n\\t\u003cul\u003e\\n\\t\\t\u003cli\u003eLet \u003ctt\u003eSolrDispatchFilter\u003c\\/tt\u003e, \u003ctt\u003eUpdateShardHandler\u003c\\/tt\u003e and whatever sends requests out of Solr nodes use that component X, or something based on or using it\u003c\\/li\u003e\\n\\t\\t\u003cli\u003eIt is strange that \u003ctt\u003eOverseer\u003c\\/tt\u003e uses \u003ctt\u003eUpdateShardHandler\u003c\\/tt\u003e - \u003ctt\u003eOverseer\u003c\\/tt\u003e is not doing updates. Either rename \u003ctt\u003eUpdateShardHandler\u003c\\/tt\u003e to something that does not signal that it is only used for update-requests, or let \u003ctt\u003eOverseer\u003c\\/tt\u003e use something else based on component X\u003c\\/li\u003e\\n\\t\u003c\\/ul\u003e\\n\\t\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003eInstead of adding callback-calls numerous places in the code not knowing if some place was forgotten, polluting the code even more and leaving the same kind of problems for others doing similar things in the future, IMHO \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-6625\\\" title=\\\"Add interceptor API for outgoing calls through HttpSolrClient\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-6625\\\"\u003e\u003cdel\u003eSOLR-6625\u003c\\/del\u003e\u003c\\/a\u003e should be solved by refactoring the code so that the actual feature of \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-6625\\\" title=\\\"Add interceptor API for outgoing calls through HttpSolrClient\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-6625\\\"\u003e\u003cdel\u003eSOLR-6625\u003c\\/del\u003e\u003c\\/a\u003e is ridiculously easy to add\u003c\\/p\u003e\\n\u003cul\u003e\\n\\t\u003cli\u003eSeparating the general concern of sending request from solr-code (server or client) to one single component Y. (\u003ctt\u003eHttpSolrServer\u003c\\/tt\u003e or a class containing the code shared between it and \u003ctt\u003eConcurrentUpdateSolrServer\u003c\\/tt\u003e is fine for now). It is easy to make a test that ensures that \u003ctt\u003eHttpClient.execute\u003c\\/tt\u003e only occurs one single place in the (non-test) code\u003c\\/li\u003e\\n\\t\u003cli\u003eSeparating the concern of sending requests going out from Solr nodes to one single component X (of course using Y). Make the test-suite verify that Solr-nodes never ever send request bypassing this component Y - maybe inspired by the way it is done in \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-4470\\\" title=\\\"Support for basic http auth in internal solr requests\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-4470\\\"\u003e\u003cdel\u003eSOLR-4470\u003c\\/del\u003e\u003c\\/a\u003e (here the test is verifying that Solr-nodes never ever sends requests without adding credentials - potato potato)\u003c\\/li\u003e\\n\\t\u003cli\u003eNow it is ridiculously easy to solve \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-6625\\\" title=\\\"Add interceptor API for outgoing calls through HttpSolrClient\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-6625\\\"\u003e\u003cdel\u003eSOLR-6625\u003c\\/del\u003e\u003c\\/a\u003e (and you have used your strength cleaning up the code instead of polluting it even more): Make X capable of taking a list L of callbacks, and let it call those callbacks plus the VM-parameter based callbacks. Make sure Y passes the \u003ctt\u003esolr.xml\u003c\\/tt\u003e-callbacks in this list L when it uses X. Testing is almost superfluous, because you know that requests from solr-code are always sent using X (which calls VM-parameter callbacks) and that requests going out of Solr nodes are already sent using Y (which makes sure X calls \u003ctt\u003esolr.xml\u003c\\/tt\u003e-callbacks). Maybe we few simple tests, e.g. a test that X always uses VM-parameter callbacks, and a test that Y actually makes X use the \u003ctt\u003esolr.xml\u003c\\/tt\u003e-callbacks.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003eYes, I deliberately said callbackS. I think there should be support for a list of callbacks, so that people using this general feature will be able to do proper separation of concerns if they want to do several conceptually different things using callbacks\u003c\\/p\u003e\\n\\n\u003cp\u003eIf \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-6625\\\" title=\\\"Add interceptor API for outgoing calls through HttpSolrClient\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-6625\\\"\u003e\u003cdel\u003eSOLR-6625\u003c\\/del\u003e\u003c\\/a\u003e should be able to be used directly for a \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-4470\\\" title=\\\"Support for basic http auth in internal solr requests\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-4470\\\"\u003e\u003cdel\u003eSOLR-4470\u003c\\/del\u003e\u003c\\/a\u003e solution, we need to include the \\\"super-request\\\" (the request that indirectly triggered the request about to be fired) in the call to the callback. I understand if you do not want to deal with that now - we can deal with that later.\u003c\\/p\u003e\\n\\n\u003cp\u003eI really like the nice general feature you are making here - one vote from me! Looking very much forward to see how it ends.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"steff1193\\\" id=\\\"commentauthor_14244185_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=steff1193\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"steff1193\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Per Steffensen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14244185_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Dec\\/14 14:32\'\u003e\u003ctime class=\'livestamp\' datetime=\'2014-12-12T14:32:19+0000\'\u003e12\\/Dec\\/14 14:32\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Had a few hours for a look at the latest patch. Not a lot of time so I might very well have overlooked something, so please bear with me. But from what I got out of it I have the following comments \\n\\n It seems you can control the used callbacks in two ways \\n \\n\\t 1) Through  solr.xml .\\n\\t \\n\\t\\t Request that  SolrDispatchFilter  forwards (using  remoteQuery ) \\n\\t\\t Update requests sent through  UpdateShardHandler  -  DistributedUpdateProcessor ,  SnapPuller ,  PeerSync ,  SyncStrategy  ... \\n\\t\\t  Overseer  requests (through  UpdateShardHandler  via  ZkController ) \\n\\t \\n\\t \\n\\t 2) Through VM parameter. Used for every request sent - from Solr nodes and clients or whatever is running in the JVM sending request using  HttpSolrServer  (or  ConcurrentUpdateSolrServer ). Believe, for the requests mentioned under 1) above, both callbacks (the one from  solr.xml  AND the one from VM parameter) will be triggered - is that intentional? (it is fine for me) \\nI think, that if you want to support setting the callback through  solr.xml  it should be used for all requests sent out of a Solr node - including e.g. search requests to shards issued from  SearchHandler  (by code inspection it seems to me that it will not currently be included here). Regarding this principle of using the  solr.xml -callback for ALL requests going out of a Solr node, I would really like to see some testing that makes sure this principle is fulfilled now and that it is not broken in the future (the day after   SOLR-6625   is committed and forgotten about, someone adds a new place in the code sending requests going out of Solr nodes and forgets to call the callbacks). I wanted to do the same in   SOLR-4470   (making sure that no requests going out of Solr nodes do not have credentials added - not it the code as it is today nor in the code as it changes in the future). I achieved it by adding a protecting layer around every Solr node ever started during testing, and assuming that the test-suite triggers every type of requests going out of Solr nodes, that will basically ensure that no one forgets to propagate credentials when extending the code in the future (those requests will fail and the test will likely fail). I would really like to see something similar here, verifying that  solr.xml -callback is triggered for every request going out of a Solr node. \\n \\n\\n\\n Maybe you should consider the naming of  distribCount  and  forwardCount  in  BasicDistributedZk2Test.HttpClientRequestCallbackCounter . They are very confusing to me.  distribCount  seem to count update-requests (they are kinda forwarded) and  forwardCount  seem to count everything else including request from e.g.  Overseer  (they are among those that can not be characterized as forwarded) \\n\\n I know you are not keen on cleaning up while adding a new feature (I was told that we have to do cleanup in different JIRAs). Personally I am very much against that, because no one will ever make a JIRA just to clean up (at least, looking at the code-base I see that it does not happen enough). Assuming we want to do a little cleanup (in that code that is touched anyway in this JIRA) I have the following suggestions \\n \\n\\t Change  ConcurrentUpdateSolrServer  to use  HttpSolrServer  or at least make them share common code. Then we do not have \\\"remember\\\" to add callback-support in both when we solve this   SOLR-6625   \\n\\t In general we should do some \\\"Separation of Concerns\\\" here and create a single component X (e.g.  SolrNodeOutgoingRequestSender ) concerned with sending requests out of Solr nodes. Make X use callback from  solr.xml .\\n\\t \\n\\t\\t Let  SolrDispatchFilter ,  UpdateShardHandler  and whatever sends requests out of Solr nodes use that component X, or something based on or using it \\n\\t\\t It is strange that  Overseer  uses  UpdateShardHandler  -  Overseer  is not doing updates. Either rename  UpdateShardHandler  to something that does not signal that it is only used for update-requests, or let  Overseer  use something else based on component X \\n\\t \\n\\t \\n \\n\\n\\n Instead of adding callback-calls numerous places in the code not knowing if some place was forgotten, polluting the code even more and leaving the same kind of problems for others doing similar things in the future, IMHO   SOLR-6625   should be solved by refactoring the code so that the actual feature of   SOLR-6625   is ridiculously easy to add \\n \\n\\t Separating the general concern of sending request from solr-code (server or client) to one single component Y. ( HttpSolrServer  or a class containing the code shared between it and  ConcurrentUpdateSolrServer  is fine for now). It is easy to make a test that ensures that  HttpClient.execute  only occurs one single place in the (non-test) code \\n\\t Separating the concern of sending requests going out from Solr nodes to one single component X (of course using Y). Make the test-suite verify that Solr-nodes never ever send request bypassing this component Y - maybe inspired by the way it is done in   SOLR-4470   (here the test is verifying that Solr-nodes never ever sends requests without adding credentials - potato potato) \\n\\t Now it is ridiculously easy to solve   SOLR-6625   (and you have used your strength cleaning up the code instead of polluting it even more): Make X capable of taking a list L of callbacks, and let it call those callbacks plus the VM-parameter based callbacks. Make sure Y passes the  solr.xml -callbacks in this list L when it uses X. Testing is almost superfluous, because you know that requests from solr-code are always sent using X (which calls VM-parameter callbacks) and that requests going out of Solr nodes are already sent using Y (which makes sure X calls  solr.xml -callbacks). Maybe we few simple tests, e.g. a test that X always uses VM-parameter callbacks, and a test that Y actually makes X use the  solr.xml -callbacks. \\n \\n\\n\\n Yes, I deliberately said callbackS. I think there should be support for a list of callbacks, so that people using this general feature will be able to do proper separation of concerns if they want to do several conceptually different things using callbacks \\n\\n If   SOLR-6625   should be able to be used directly for a   SOLR-4470   solution, we need to include the \\\"super-request\\\" (the request that indirectly triggered the request about to be fired) in the call to the callback. I understand if you do not want to deal with that now - we can deal with that later. \\n\\n I really like the nice general feature you are making here - one vote from me! Looking very much forward to see how it ends.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14289100\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6625?focusedCommentId=14289100&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14289100\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"steff1193\\\" id=\\\"commentauthor_14289100_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=steff1193\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"steff1193\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Per Steffensen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14289100_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Jan\\/15 11:21\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-01-23T11:21:57+0000\'\u003e23\\/Jan\\/15 11:21\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Per Steffensen - 23\\/Jan\\/15 11:38\\\"\u003eedited\u003c\\/span\u003e \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eUpdated patch to HEAD of branch_x5. Not a completely trivial task. Did not try to make any of the changes I suggested in previous comments. Just tried to make a 1-to-1 upgrade to HEAD of branch_5x. Please someone verify that I did not miss anything.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"steff1193\\\" id=\\\"commentauthor_14289100_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=steff1193\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"steff1193\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Per Steffensen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14289100_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Jan\\/15 11:21\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-01-23T11:21:57+0000\'\u003e23\\/Jan\\/15 11:21\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Per Steffensen - 23\\/Jan\\/15 11:38\\\"\u003eedited\u003c\\/span\u003e                   Updated patch to HEAD of branch_x5. Not a completely trivial task. Did not try to make any of the changes I suggested in previous comments. Just tried to make a 1-to-1 upgrade to HEAD of branch_5x. Please someone verify that I did not miss anything.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14289383\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6625?focusedCommentId=14289383&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14289383\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"steff1193\\\" id=\\\"commentauthor_14289383_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=steff1193\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"steff1193\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Per Steffensen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14289383_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Jan\\/15 15:25\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-01-23T15:25:34+0000\'\u003e23\\/Jan\\/15 15:25\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Per Steffensen - 23\\/Jan\\/15 15:29\\\"\u003eedited\u003c\\/span\u003e \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eNew patch\u003c\\/p\u003e\\n\u003cul\u003e\\n\\t\u003cli\u003eSupport for multiple callbacks (for nicer separation of concerns) - both for sys-prop-callbacks and for solr.xml-callbacks. preExecuteRequest lets callbacks build on contexts from each other - a logical consequence of introducing support for multiple callbacks\u003c\\/li\u003e\\n\\t\u003cli\u003eSolr-nodes now use both sol.xml-callbacks AND sys-prop-callbacks\u003c\\/li\u003e\\n\\t\u003cli\u003eSolrCLI.getJson attempts-variant now actually uses the callbacks given to it (via sys-prop)\u003c\\/li\u003e\\n\\t\u003cli\u003eCleaning up some of the code-duplication. Separating more of the code related to this issue in HttpClientRequestCallbackUtil\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"steff1193\\\" id=\\\"commentauthor_14289383_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=steff1193\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"steff1193\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Per Steffensen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14289383_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Jan\\/15 15:25\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-01-23T15:25:34+0000\'\u003e23\\/Jan\\/15 15:25\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Per Steffensen - 23\\/Jan\\/15 15:29\\\"\u003eedited\u003c\\/span\u003e                   New patch \\n \\n\\t Support for multiple callbacks (for nicer separation of concerns) - both for sys-prop-callbacks and for solr.xml-callbacks. preExecuteRequest lets callbacks build on contexts from each other - a logical consequence of introducing support for multiple callbacks \\n\\t Solr-nodes now use both sol.xml-callbacks AND sys-prop-callbacks \\n\\t SolrCLI.getJson attempts-variant now actually uses the callbacks given to it (via sys-prop) \\n\\t Cleaning up some of the code-duplication. Separating more of the code related to this issue in HttpClientRequestCallbackUtil \\n \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14493839\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6625?focusedCommentId=14493839&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14493839\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ichattopadhyaya\\\" id=\\\"commentauthor_14493839_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ichattopadhyaya\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ichattopadhyaya\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ishan Chattopadhyaya\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14493839_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'14\\/Apr\\/15 09:30\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-04-14T09:30:50+0000\'\u003e14\\/Apr\\/15 09:30\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eIf I\'m not missing something, I think we don\'t need to create our own callback framework in Solr and instead leverage the HttpRequestInterceptor \\/ HttpResponseInterceptor. Please excuse my ignorance if this has been discussed above and I\'ve missed it.\u003c\\/p\u003e\\n\\n\u003cblockquote\u003e\u003cp\u003eThe reason I didn\'t take that approach is that in some cases there\'s not enough context to figure out what you need to do.\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\u003cp\u003eThe SolrRequest \\/ SolrQueryRequest object (and whatever else we want) can be passed into the interceptor\'s context. And hence, any authentication info that needs to be propagated from original request to sub-requests (internode requests) can be part of the interceptor. Please see the attached patch (\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-6625\\\" title=\\\"Add interceptor API for outgoing calls through HttpSolrClient\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-6625\\\"\u003e\u003cdel\u003eSOLR-6625\u003c\\/del\u003e\u003c\\/a\u003e_interceptor.patch). It contains a test method in the MiniSolrClusterTest which uses an request interceptor to capture the SolrRequest object.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ichattopadhyaya\\\" id=\\\"commentauthor_14493839_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ichattopadhyaya\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ichattopadhyaya\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ishan Chattopadhyaya\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14493839_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'14\\/Apr\\/15 09:30\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-04-14T09:30:50+0000\'\u003e14\\/Apr\\/15 09:30\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    If I\'m not missing something, I think we don\'t need to create our own callback framework in Solr and instead leverage the HttpRequestInterceptor \\/ HttpResponseInterceptor. Please excuse my ignorance if this has been discussed above and I\'ve missed it. \\n\\n  The reason I didn\'t take that approach is that in some cases there\'s not enough context to figure out what you need to do.  \\n The SolrRequest \\/ SolrQueryRequest object (and whatever else we want) can be passed into the interceptor\'s context. And hence, any authentication info that needs to be propagated from original request to sub-requests (internode requests) can be part of the interceptor. Please see the attached patch (  SOLR-6625  _interceptor.patch). It contains a test method in the MiniSolrClusterTest which uses an request interceptor to capture the SolrRequest object.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14495132\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6625?focusedCommentId=14495132&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14495132\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gchanan\\\" id=\\\"commentauthor_14495132_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gchanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gchanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Gregory Chanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14495132_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'14\\/Apr\\/15 23:23\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-04-14T23:23:37+0000\'\u003e14\\/Apr\\/15 23:23\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=ichattopadhyaya\\\" class=\\\"user-hover\\\" rel=\\\"ichattopadhyaya\\\"\u003eIshan Chattopadhyaya\u003c\\/a\u003e thanks for posting the patch.  As far as I can tell, this replaces our own interface\\/abstract class for callbacks with an HttpRequestInterceptor.  That seems reasonable, but there are a few issues discussed on this JIRA that don\'t seem addressed.  A somewhat comprehensive list:\u003c\\/p\u003e\\n\\n\u003cp\u003e1.  How is configuration handled?  Is it the responsibility of the authentication layer to specify the HttpRequestInterceptor to use for all requests?\u003cbr\\/\u003e\\n2.  There is some question about passing in SolrRequests (client) vs SolrQueryRequests (server).  Presumably the authentication layer needs to operate on the client side (often the authentication requirements will be the same), but what are you supposed to do with the SolrQueryRequest?  You\'ve sort of hidden it by putting it in the context, but that seems fragile; we should have our own Context that makes clear what is available, but if you pull in SolrQueryRequest, then clients need access to server data structures, which isn\'t ideal.  Perhaps the right thing to do is split up client vs server interceptors?\u003cbr\\/\u003e\\n3.  Can the request interceptor do everything our own callback can do?  There are sample tests in the patch which add cookies, modify the URL, etc. It would be good to see those tests with the new implementation\u003cbr\\/\u003e\\n4.  How do you check that we actually pass the correct information to the interceptor?  \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=steff1193\\\" class=\\\"user-hover\\\" rel=\\\"steff1193\\\"\u003ePer Steffensen\u003c\\/a\u003e described this above; what if someone adds another httpclient.execute call tomorrow and doesn\'t pass the SolrRequest object?  We\'ll never know, so relying on the HttpRequestInterceptor didn\'t really help us (it automatically dispatches but doesn\'t check that it has all the info it needs to dispatch).  It just limits us to an interface we don\'t control.  We need some way of enforcing the property that every call to httpclient has the information we need.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gchanan\\\" id=\\\"commentauthor_14495132_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gchanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gchanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Gregory Chanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14495132_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'14\\/Apr\\/15 23:23\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-04-14T23:23:37+0000\'\u003e14\\/Apr\\/15 23:23\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     Ishan Chattopadhyaya  thanks for posting the patch.  As far as I can tell, this replaces our own interface\\/abstract class for callbacks with an HttpRequestInterceptor.  That seems reasonable, but there are a few issues discussed on this JIRA that don\'t seem addressed.  A somewhat comprehensive list: \\n\\n 1.  How is configuration handled?  Is it the responsibility of the authentication layer to specify the HttpRequestInterceptor to use for all requests? \\n2.  There is some question about passing in SolrRequests (client) vs SolrQueryRequests (server).  Presumably the authentication layer needs to operate on the client side (often the authentication requirements will be the same), but what are you supposed to do with the SolrQueryRequest?  You\'ve sort of hidden it by putting it in the context, but that seems fragile; we should have our own Context that makes clear what is available, but if you pull in SolrQueryRequest, then clients need access to server data structures, which isn\'t ideal.  Perhaps the right thing to do is split up client vs server interceptors? \\n3.  Can the request interceptor do everything our own callback can do?  There are sample tests in the patch which add cookies, modify the URL, etc. It would be good to see those tests with the new implementation \\n4.  How do you check that we actually pass the correct information to the interceptor?   Per Steffensen  described this above; what if someone adds another httpclient.execute call tomorrow and doesn\'t pass the SolrRequest object?  We\'ll never know, so relying on the HttpRequestInterceptor didn\'t really help us (it automatically dispatches but doesn\'t check that it has all the info it needs to dispatch).  It just limits us to an interface we don\'t control.  We need some way of enforcing the property that every call to httpclient has the information we need.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14499977\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6625?focusedCommentId=14499977&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14499977\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"anshumg\\\" id=\\\"commentauthor_14499977_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=anshumg\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"anshumg\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Anshum Gupta\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14499977_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Apr\\/15 15:05\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-04-17T15:05:10+0000\'\u003e17\\/Apr\\/15 15:05\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThanks for the patch Ishan. I like the simplified approach but among other things that Greg pointed out, I\'m most concerned about enforcing that every call to httpclient has the complete and correct information.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"anshumg\\\" id=\\\"commentauthor_14499977_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=anshumg\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"anshumg\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Anshum Gupta\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14499977_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Apr\\/15 15:05\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-04-17T15:05:10+0000\'\u003e17\\/Apr\\/15 15:05\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Thanks for the patch Ishan. I like the simplified approach but among other things that Greg pointed out, I\'m most concerned about enforcing that every call to httpclient has the complete and correct information.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14505251\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6625?focusedCommentId=14505251&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14505251\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ichattopadhyaya\\\" id=\\\"commentauthor_14505251_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ichattopadhyaya\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ichattopadhyaya\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ishan Chattopadhyaya\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14505251_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'21\\/Apr\\/15 16:49\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-04-21T16:49:40+0000\'\u003e21\\/Apr\\/15 16:49\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Ishan Chattopadhyaya - 21\\/Apr\\/15 16:51\\\"\u003eedited\u003c\\/span\u003e \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThanks for your review, \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=gchanan\\\" class=\\\"user-hover\\\" rel=\\\"gchanan\\\"\u003eGregory Chanan\u003c\\/a\u003e and \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=anshumg\\\" class=\\\"user-hover\\\" rel=\\\"anshumg\\\"\u003eAnshum Gupta\u003c\\/a\u003e. I\'ve added another patch, for your review.\u003c\\/p\u003e\\n\\n\u003cblockquote\u003e\u003cp\u003e1. How is configuration handled? Is it the responsibility of the authentication layer to specify the HttpRequestInterceptor to use for all requests?\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003eMy thought was that the authentication (\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-7274\\\" title=\\\"Pluggable authentication module in Solr\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-7274\\\"\u003e\u003cdel\u003eSOLR-7274\u003c\\/del\u003e\u003c\\/a\u003e) and authorization (\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-7275\\\" title=\\\"Pluggable authorization module in Solr\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-7275\\\"\u003e\u003cdel\u003eSOLR-7275\u003c\\/del\u003e\u003c\\/a\u003e) plugins would add their own interceptors, e.g. to pass in original request\'s user principal or ACL to a subrequest. The work of taking these things, i.e. user principal, ACL or whatever else is generated from authc\\/authz plugins, from original user request and adding it to SolrRequest\\/SolrQueryRequest could be dealt in another issue.\u003c\\/p\u003e\\n\\n\u003cblockquote\u003e\u003cp\u003e2. There is some question about passing in SolrRequests (client) vs SolrQueryRequests (server). Presumably the authentication layer needs to operate on the client side (often the authentication requirements will be the same), but what are you supposed to do with the SolrQueryRequest? You\'ve sort of hidden it by putting it in the context, but that seems fragile; we should have our own Context that makes clear what is available, but if you pull in SolrQueryRequest, then clients need access to server data structures, which isn\'t ideal. Perhaps the right thing to do is split up client vs server interceptors?\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003eIn this new patch, I\'ve created two context objects, SolrHttpContext (client, encapsulates SolrRequest) and SolrQueryRequestContext (server, encapsulates SolrQueryRequest). Based on which of the contexts is received, an interceptor can do its thing with these request objects.\u003c\\/p\u003e\\n\\n\u003cblockquote\u003e\u003cp\u003e3. Can the request interceptor do everything our own callback can do? There are sample tests in the patch which add cookies, modify the URL, etc. It would be good to see those tests with the new implementation\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003eI\'ve added similar tests to HttpSolrClient that were in the previous patches by you and \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=steff1193\\\" class=\\\"user-hover\\\" rel=\\\"steff1193\\\"\u003ePer Steffensen\u003c\\/a\u003e.\u003c\\/p\u003e\\n\\n\u003cblockquote\u003e\u003cp\u003e4. How do you check that we actually pass the correct information to the interceptor? Per Steffensen described this above; what if someone adds another httpclient.execute call tomorrow and doesn\'t pass the SolrRequest object? We\'ll never know, so relying on the HttpRequestInterceptor didn\'t really help us (it automatically dispatches but doesn\'t check that it has all the info it needs to dispatch). It just limits us to an interface we don\'t control. We need some way of enforcing the property that every call to httpclient has the information we need.\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003eThat\'s a good point, thanks for bringing it up, since I had missed it. One of the ways I could think of enforcing this was to add an interceptor that always checks if an httpclient.execute() call puts in a SolrHttpContext object, and throws an exception if not. Another way, we can forbid calls to httpclient.execute() without a SolrHttpContext context. In this patch, I\'ve added done of these.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ichattopadhyaya\\\" id=\\\"commentauthor_14505251_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ichattopadhyaya\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ichattopadhyaya\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ishan Chattopadhyaya\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14505251_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'21\\/Apr\\/15 16:49\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-04-21T16:49:40+0000\'\u003e21\\/Apr\\/15 16:49\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Ishan Chattopadhyaya - 21\\/Apr\\/15 16:51\\\"\u003eedited\u003c\\/span\u003e                   Thanks for your review,  Gregory Chanan  and  Anshum Gupta . I\'ve added another patch, for your review. \\n\\n  1. How is configuration handled? Is it the responsibility of the authentication layer to specify the HttpRequestInterceptor to use for all requests?  \\n\\n My thought was that the authentication (  SOLR-7274  ) and authorization (  SOLR-7275  ) plugins would add their own interceptors, e.g. to pass in original request\'s user principal or ACL to a subrequest. The work of taking these things, i.e. user principal, ACL or whatever else is generated from authc\\/authz plugins, from original user request and adding it to SolrRequest\\/SolrQueryRequest could be dealt in another issue. \\n\\n  2. There is some question about passing in SolrRequests (client) vs SolrQueryRequests (server). Presumably the authentication layer needs to operate on the client side (often the authentication requirements will be the same), but what are you supposed to do with the SolrQueryRequest? You\'ve sort of hidden it by putting it in the context, but that seems fragile; we should have our own Context that makes clear what is available, but if you pull in SolrQueryRequest, then clients need access to server data structures, which isn\'t ideal. Perhaps the right thing to do is split up client vs server interceptors?  \\n\\n In this new patch, I\'ve created two context objects, SolrHttpContext (client, encapsulates SolrRequest) and SolrQueryRequestContext (server, encapsulates SolrQueryRequest). Based on which of the contexts is received, an interceptor can do its thing with these request objects. \\n\\n  3. Can the request interceptor do everything our own callback can do? There are sample tests in the patch which add cookies, modify the URL, etc. It would be good to see those tests with the new implementation  \\n\\n I\'ve added similar tests to HttpSolrClient that were in the previous patches by you and  Per Steffensen . \\n\\n  4. How do you check that we actually pass the correct information to the interceptor? Per Steffensen described this above; what if someone adds another httpclient.execute call tomorrow and doesn\'t pass the SolrRequest object? We\'ll never know, so relying on the HttpRequestInterceptor didn\'t really help us (it automatically dispatches but doesn\'t check that it has all the info it needs to dispatch). It just limits us to an interface we don\'t control. We need some way of enforcing the property that every call to httpclient has the information we need.  \\n\\n That\'s a good point, thanks for bringing it up, since I had missed it. One of the ways I could think of enforcing this was to add an interceptor that always checks if an httpclient.execute() call puts in a SolrHttpContext object, and throws an exception if not. Another way, we can forbid calls to httpclient.execute() without a SolrHttpContext context. In this patch, I\'ve added done of these.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14506964\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6625?focusedCommentId=14506964&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14506964\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"noble.paul\\\" id=\\\"commentauthor_14506964_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=noble.paul\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"noble.paul\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Noble Paul\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14506964_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'22\\/Apr\\/15 12:13\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-04-22T12:13:02+0000\'\u003e22\\/Apr\\/15 12:13\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI think there are simpler ways to achieve this than banning the execute() method altogether.\u003cbr\\/\u003e\\nWe can ban the creating of new HttpClient object and mandate the use of UpdateShardHandler.getHttpClient() . That can be arapped to set the right context. That way you don\'t have to make changes to the entire codebase\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"noble.paul\\\" id=\\\"commentauthor_14506964_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=noble.paul\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"noble.paul\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Noble Paul\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14506964_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'22\\/Apr\\/15 12:13\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-04-22T12:13:02+0000\'\u003e22\\/Apr\\/15 12:13\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I think there are simpler ways to achieve this than banning the execute() method altogether. \\nWe can ban the creating of new HttpClient object and mandate the use of UpdateShardHandler.getHttpClient() . That can be arapped to set the right context. That way you don\'t have to make changes to the entire codebase              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14514839\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6625?focusedCommentId=14514839&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14514839\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ichattopadhyaya\\\" id=\\\"commentauthor_14514839_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ichattopadhyaya\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ichattopadhyaya\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ishan Chattopadhyaya\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14514839_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'27\\/Apr\\/15 19:54\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-04-27T19:54:07+0000\'\u003e27\\/Apr\\/15 19:54\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Ishan Chattopadhyaya - 27\\/Apr\\/15 20:04\\\"\u003eedited\u003c\\/span\u003e \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI think banning creation of HttpClients can\'t solve the problem of validating that each request made through them have the request object in the context (or something that explicitly means that there was no context available to be passed in, e.g. SolrHttpContext.EMPTY_CONTEXT in the patch).  Each call via an HttpClient may need to have a different context (if any), so I don\'t think a wrapped up HttpClient can be used with the right context.\u003c\\/p\u003e\\n\\n\u003cblockquote\u003e\u003cp\u003eThat way you don\'t have to make changes to the entire codebase\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\u003cp\u003eCurrently, these httpclient.execute() calls are, in the main source, in:\u003c\\/p\u003e\\n\u003col\u003e\\n\\t\u003cli\u003eSolrDispatchFilter (remote query)\u003c\\/li\u003e\\n\\t\u003cli\u003eCUSC\u003c\\/li\u003e\\n\\t\u003cli\u003eHttpSolrClient\u003c\\/li\u003e\\n\\t\u003cli\u003eSolrCLI\u003c\\/li\u003e\\n\\t\u003cli\u003eJarRepository\u003cbr\\/\u003e\\n(latter two don\'t have a request object to send around)\u003c\\/li\u003e\\n\u003c\\/ol\u003e\\n\\n\\n\u003cp\u003eAnd then there are tons of them in the tests. I think, for the tests only, we can try what you suggest; i.e. an extended HttpClient that overrides the execute() method to pass in an empty context.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ichattopadhyaya\\\" id=\\\"commentauthor_14514839_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ichattopadhyaya\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ichattopadhyaya\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ishan Chattopadhyaya\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14514839_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'27\\/Apr\\/15 19:54\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-04-27T19:54:07+0000\'\u003e27\\/Apr\\/15 19:54\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Ishan Chattopadhyaya - 27\\/Apr\\/15 20:04\\\"\u003eedited\u003c\\/span\u003e                   I think banning creation of HttpClients can\'t solve the problem of validating that each request made through them have the request object in the context (or something that explicitly means that there was no context available to be passed in, e.g. SolrHttpContext.EMPTY_CONTEXT in the patch).  Each call via an HttpClient may need to have a different context (if any), so I don\'t think a wrapped up HttpClient can be used with the right context. \\n\\n  That way you don\'t have to make changes to the entire codebase  \\n Currently, these httpclient.execute() calls are, in the main source, in: \\n \\n\\t SolrDispatchFilter (remote query) \\n\\t CUSC \\n\\t HttpSolrClient \\n\\t SolrCLI \\n\\t JarRepository \\n(latter two don\'t have a request object to send around) \\n \\n\\n\\n And then there are tons of them in the tests. I think, for the tests only, we can try what you suggest; i.e. an extended HttpClient that overrides the execute() method to pass in an empty context.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14514847\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6625?focusedCommentId=14514847&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14514847\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ichattopadhyaya\\\" id=\\\"commentauthor_14514847_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ichattopadhyaya\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ichattopadhyaya\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ishan Chattopadhyaya\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14514847_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'27\\/Apr\\/15 19:57\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-04-27T19:57:00+0000\'\u003e27\\/Apr\\/15 19:57\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Ishan Chattopadhyaya - 27\\/Apr\\/15 19:59\\\"\u003eedited\u003c\\/span\u003e \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eHere\'s an updated patch that does what I described above.\u003cbr\\/\u003e\\n\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=gchanan\\\" class=\\\"user-hover\\\" rel=\\\"gchanan\\\"\u003eGregory Chanan\u003c\\/a\u003e, \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=anshumg\\\" class=\\\"user-hover\\\" rel=\\\"anshumg\\\"\u003eAnshum Gupta\u003c\\/a\u003e, \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=noble.paul\\\" class=\\\"user-hover\\\" rel=\\\"noble.paul\\\"\u003eNoble Paul\u003c\\/a\u003e, Can you please review?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ichattopadhyaya\\\" id=\\\"commentauthor_14514847_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ichattopadhyaya\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ichattopadhyaya\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ishan Chattopadhyaya\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14514847_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'27\\/Apr\\/15 19:57\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-04-27T19:57:00+0000\'\u003e27\\/Apr\\/15 19:57\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Ishan Chattopadhyaya - 27\\/Apr\\/15 19:59\\\"\u003eedited\u003c\\/span\u003e                   Here\'s an updated patch that does what I described above. \\n Gregory Chanan ,  Anshum Gupta ,  Noble Paul , Can you please review?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14517326\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6625?focusedCommentId=14517326&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14517326\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"noble.paul\\\" id=\\\"commentauthor_14517326_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=noble.paul\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"noble.paul\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Noble Paul\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14517326_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Apr\\/15 16:22\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-04-28T16:22:21+0000\'\u003e28\\/Apr\\/15 16:22\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eUse a ThreadLocal to pass on the Context around and ensure that no one creates HttpClient directly\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"noble.paul\\\" id=\\\"commentauthor_14517326_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=noble.paul\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"noble.paul\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Noble Paul\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14517326_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Apr\\/15 16:22\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-04-28T16:22:21+0000\'\u003e28\\/Apr\\/15 16:22\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Use a ThreadLocal to pass on the Context around and ensure that no one creates HttpClient directly              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14644568\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6625?focusedCommentId=14644568&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14644568\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ichattopadhyaya\\\" id=\\\"commentauthor_14644568_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ichattopadhyaya\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ichattopadhyaya\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ishan Chattopadhyaya\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14644568_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Jul\\/15 15:52\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-07-28T15:52:02+0000\'\u003e28\\/Jul\\/15 15:52\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eUpdated the patch to trunk. I think this is good to go, even without using a ThreadLocal. This should be useful for \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-7692\\\" title=\\\"Implement BasicAuth based impl for the new Authentication\\/Authorization APIs\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-7692\\\"\u003e\u003cdel\u003eSOLR-7692\u003c\\/del\u003e\u003c\\/a\u003e.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ichattopadhyaya\\\" id=\\\"commentauthor_14644568_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ichattopadhyaya\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ichattopadhyaya\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ishan Chattopadhyaya\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14644568_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Jul\\/15 15:52\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-07-28T15:52:02+0000\'\u003e28\\/Jul\\/15 15:52\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Updated the patch to trunk. I think this is good to go, even without using a ThreadLocal. This should be useful for   SOLR-7692  .              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14644667\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6625?focusedCommentId=14644667&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14644667\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ichattopadhyaya\\\" id=\\\"commentauthor_14644667_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ichattopadhyaya\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ichattopadhyaya\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ishan Chattopadhyaya\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14644667_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Jul\\/15 17:11\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-07-28T17:11:01+0000\'\u003e28\\/Jul\\/15 17:11\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eMinor fix, was causing a test failure.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ichattopadhyaya\\\" id=\\\"commentauthor_14644667_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ichattopadhyaya\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ichattopadhyaya\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ishan Chattopadhyaya\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14644667_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Jul\\/15 17:11\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-07-28T17:11:01+0000\'\u003e28\\/Jul\\/15 17:11\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Minor fix, was causing a test failure.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14644732\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6625?focusedCommentId=14644732&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14644732\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"anshumg\\\" id=\\\"commentauthor_14644732_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=anshumg\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"anshumg\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Anshum Gupta\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14644732_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Jul\\/15 17:42\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-07-28T17:42:25+0000\'\u003e28\\/Jul\\/15 17:42\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThanks for updating this Ishan but I wonder how this would work in case of a custom component\\/handler where the restrictions imposed by checking for context == null and forbidden APIs. It still wouldn\'t guarantee that the context is used in all cases.\u003c\\/p\u003e\\n\\n\u003cp\u003eAlso, I\'m assuming you didn\'t run precommit as there was a use of .execute() without the context in the code (mentioned below). If you did, we might be missing something even more.\u003c\\/p\u003e\\n\\n\u003cp\u003eI just did a quick review and here\'s a bit of feedback:\u003c\\/p\u003e\\n\\n\u003cul\u003e\\n\\t\u003cli\u003eSolrQueryRequestContext.java can you remove all the Solr prefixes?\u003c\\/li\u003e\\n\\t\u003cli\u003eHttpClientUtil.interceptors should be made final. Also it\'s not threadsafe.\u003c\\/li\u003e\\n\\t\u003cli\u003eAbstractFullDistribZkTestBase.createNewSolrClient(int port) have client.setSoTimeout instead of using the HttpClientUtil. Same for TestReplicationHandlerBackup, and TestRestoreCore.\u003c\\/li\u003e\\n\\t\u003cli\u003eBasicHttpSolrClientTest.changeRequestInterceptor has redundant declaration for cookieName and cookieValue.\u003c\\/li\u003e\\n\\t\u003cli\u003eHttpSolrCall.remoteQuery declares a context but doesn\'t use it in the .execute() call.\u003c\\/li\u003e\\n\\t\u003cli\u003eIn SolrJettyTestBase.SolrContextHttpClient.execute methods you don\'t need to throw ClientProtocolException as it has IOException in the throws spec already. It also has a few unused imports.\u003c\\/li\u003e\\n\\t\u003cli\u003eUnused imports have been introduced in SolrSchemalessExampleTest.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"anshumg\\\" id=\\\"commentauthor_14644732_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=anshumg\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"anshumg\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Anshum Gupta\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14644732_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Jul\\/15 17:42\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-07-28T17:42:25+0000\'\u003e28\\/Jul\\/15 17:42\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Thanks for updating this Ishan but I wonder how this would work in case of a custom component\\/handler where the restrictions imposed by checking for context == null and forbidden APIs. It still wouldn\'t guarantee that the context is used in all cases. \\n\\n Also, I\'m assuming you didn\'t run precommit as there was a use of .execute() without the context in the code (mentioned below). If you did, we might be missing something even more. \\n\\n I just did a quick review and here\'s a bit of feedback: \\n\\n \\n\\t SolrQueryRequestContext.java can you remove all the Solr prefixes? \\n\\t HttpClientUtil.interceptors should be made final. Also it\'s not threadsafe. \\n\\t AbstractFullDistribZkTestBase.createNewSolrClient(int port) have client.setSoTimeout instead of using the HttpClientUtil. Same for TestReplicationHandlerBackup, and TestRestoreCore. \\n\\t BasicHttpSolrClientTest.changeRequestInterceptor has redundant declaration for cookieName and cookieValue. \\n\\t HttpSolrCall.remoteQuery declares a context but doesn\'t use it in the .execute() call. \\n\\t In SolrJettyTestBase.SolrContextHttpClient.execute methods you don\'t need to throw ClientProtocolException as it has IOException in the throws spec already. It also has a few unused imports. \\n\\t Unused imports have been introduced in SolrSchemalessExampleTest. \\n \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14644897\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6625?focusedCommentId=14644897&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14644897\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ichattopadhyaya\\\" id=\\\"commentauthor_14644897_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ichattopadhyaya\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ichattopadhyaya\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ishan Chattopadhyaya\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14644897_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Jul\\/15 19:28\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-07-28T19:28:06+0000\'\u003e28\\/Jul\\/15 19:28\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eHi Anshum, thanks a lot for your review!\u003c\\/p\u003e\\n\\n\u003cblockquote\u003e\u003cp\u003eI wonder how this would work in case of a custom component\\/handler where the restrictions imposed by checking for context == null and forbidden APIs. It still wouldn\'t guarantee that the context is used in all cases.\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003eI think even if there is custom code (within Solr in the form of plugins, or outside Solr which uses SolrJ\\/HttpSolrClient), it would be asserted that an httpclient, created using HttpClientUtil, should always use a context. Do you suggest we do something more for the case of custom code?\u003c\\/p\u003e\\n\\n\u003cblockquote\u003e\u003cp\u003eAlso, I\'m assuming you didn\'t run precommit as there was a use of .execute() without the context in the code (mentioned below). If you did, we might be missing something even more.\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\u003cp\u003eRight, I hadn\'t even run the full tests, but caught (in my previous patch) the execute() thing in HttpSolrCall during the full tests. Now, I have run the precommit and it runs fine after fixing the execute() at a few places. \u003cimg class=\\\"emoticon\\\" src=\\\"\\/jira\\/images\\/icons\\/emoticons\\/smile.png\\\" height=\\\"16\\\" width=\\\"16\\\" align=\\\"absmiddle\\\" alt=\\\"\\\" border=\\\"0\\\"\\/\u003e\u003c\\/p\u003e\\n\\n\u003cblockquote\u003e\u003cp\u003eSolrQueryRequestContext.java can you remove all the Solr prefixes?\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\u003cp\u003eRenamed to QueryRequestContext.\u003c\\/p\u003e\\n\\n\u003cblockquote\u003e\u003cp\u003eHttpClientUtil.interceptors should be made final. Also it\'s not threadsafe.\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\u003cp\u003eMade it final. Made it a synchronized list.\u003c\\/p\u003e\\n\\n\u003cblockquote\u003e\u003cp\u003eAbstractFullDistribZkTestBase.createNewSolrClient(int port) have client.setSoTimeout instead of using the HttpClientUtil. Same for TestReplicationHandlerBackup, and TestRestoreCore.\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\u003cp\u003eThis is done because HttpSolrClient\'s httpClient was created outside of HSC, and hence the `client.setDefaultMaxConnectionsPerHost()` call would throw UnsupportedOperationException.\u003c\\/p\u003e\\n\u003cdiv class=\\\"preformatted panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"preformattedContent panelContent\\\"\u003e\\n\u003cpre\u003e  public void setDefaultMaxConnectionsPerHost(int max) {\\n    if (internalClient) {\\n      HttpClientUtil.setMaxConnectionsPerHost(httpClient, max);\\n    } else {\\n      throw new UnsupportedOperationException(\\n          \\\"Client was created outside of HttpSolrServer\\\");\\n    }\\n  }\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cblockquote\u003e\u003cp\u003eBasicHttpSolrClientTest.changeRequestInterceptor has redundant declaration for cookieName and cookieValue.\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\u003cp\u003eRemoved now.\u003c\\/p\u003e\\n\\n\u003cblockquote\u003e\u003cp\u003eHttpSolrCall.remoteQuery declares a context but doesn\'t use it in the .execute() call.\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\u003cp\u003eThis was the \\\"minor fix\\\" in the above comment\\/updated patch \u003cimg class=\\\"emoticon\\\" src=\\\"\\/jira\\/images\\/icons\\/emoticons\\/smile.png\\\" height=\\\"16\\\" width=\\\"16\\\" align=\\\"absmiddle\\\" alt=\\\"\\\" border=\\\"0\\\"\\/\u003e Fixed already.\u003c\\/p\u003e\\n\\n\u003cblockquote\u003e\u003cp\u003eIn SolrJettyTestBase.SolrContextHttpClient.execute methods you don\'t need to throw ClientProtocolException as it has IOException in the throws spec already. It also has a few unused imports.\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\u003cp\u003eRemoved the ClientProtocolException.\u003c\\/p\u003e\\n\\n\u003cblockquote\u003e\u003cp\u003eUnused imports have been introduced in SolrSchemalessExampleTest.\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\u003cp\u003eRemoved.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ichattopadhyaya\\\" id=\\\"commentauthor_14644897_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ichattopadhyaya\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ichattopadhyaya\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ishan Chattopadhyaya\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14644897_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Jul\\/15 19:28\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-07-28T19:28:06+0000\'\u003e28\\/Jul\\/15 19:28\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Hi Anshum, thanks a lot for your review! \\n\\n  I wonder how this would work in case of a custom component\\/handler where the restrictions imposed by checking for context == null and forbidden APIs. It still wouldn\'t guarantee that the context is used in all cases.  \\n\\n I think even if there is custom code (within Solr in the form of plugins, or outside Solr which uses SolrJ\\/HttpSolrClient), it would be asserted that an httpclient, created using HttpClientUtil, should always use a context. Do you suggest we do something more for the case of custom code? \\n\\n  Also, I\'m assuming you didn\'t run precommit as there was a use of .execute() without the context in the code (mentioned below). If you did, we might be missing something even more.  \\n Right, I hadn\'t even run the full tests, but caught (in my previous patch) the execute() thing in HttpSolrCall during the full tests. Now, I have run the precommit and it runs fine after fixing the execute() at a few places.   \\n\\n  SolrQueryRequestContext.java can you remove all the Solr prefixes?  \\n Renamed to QueryRequestContext. \\n\\n  HttpClientUtil.interceptors should be made final. Also it\'s not threadsafe.  \\n Made it final. Made it a synchronized list. \\n\\n  AbstractFullDistribZkTestBase.createNewSolrClient(int port) have client.setSoTimeout instead of using the HttpClientUtil. Same for TestReplicationHandlerBackup, and TestRestoreCore.  \\n This is done because HttpSolrClient\'s httpClient was created outside of HSC, and hence the `client.setDefaultMaxConnectionsPerHost()` call would throw UnsupportedOperationException. \\n  \\n   public void setDefaultMaxConnectionsPerHost(int max) {\\n    if (internalClient) {\\n      HttpClientUtil.setMaxConnectionsPerHost(httpClient, max);\\n    } else {\\n      throw new UnsupportedOperationException(\\n          \\\"Client was created outside of HttpSolrServer\\\");\\n    }\\n  }\\n \\n  \\n\\n  BasicHttpSolrClientTest.changeRequestInterceptor has redundant declaration for cookieName and cookieValue.  \\n Removed now. \\n\\n  HttpSolrCall.remoteQuery declares a context but doesn\'t use it in the .execute() call.  \\n This was the \\\"minor fix\\\" in the above comment\\/updated patch   Fixed already. \\n\\n  In SolrJettyTestBase.SolrContextHttpClient.execute methods you don\'t need to throw ClientProtocolException as it has IOException in the throws spec already. It also has a few unused imports.  \\n Removed the ClientProtocolException. \\n\\n  Unused imports have been introduced in SolrSchemalessExampleTest.  \\n Removed.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14644946\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6625?focusedCommentId=14644946&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14644946\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ichattopadhyaya\\\" id=\\\"commentauthor_14644946_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ichattopadhyaya\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ichattopadhyaya\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ishan Chattopadhyaya\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14644946_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Jul\\/15 19:54\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-07-28T19:54:35+0000\'\u003e28\\/Jul\\/15 19:54\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cblockquote\u003e\u003cp\u003eAbstractFullDistribZkTestBase.createNewSolrClient(int port) have client.setSoTimeout instead of using the HttpClientUtil\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\u003cp\u003eI see what you mean. \u003cimg class=\\\"emoticon\\\" src=\\\"\\/jira\\/images\\/icons\\/emoticons\\/wink.png\\\" height=\\\"16\\\" width=\\\"16\\\" align=\\\"absmiddle\\\" alt=\\\"\\\" border=\\\"0\\\"\\/\u003e Updated the patch!\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ichattopadhyaya\\\" id=\\\"commentauthor_14644946_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ichattopadhyaya\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ichattopadhyaya\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ishan Chattopadhyaya\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14644946_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Jul\\/15 19:54\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-07-28T19:54:35+0000\'\u003e28\\/Jul\\/15 19:54\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     AbstractFullDistribZkTestBase.createNewSolrClient(int port) have client.setSoTimeout instead of using the HttpClientUtil  \\n I see what you mean.   Updated the patch!              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14645979\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6625?focusedCommentId=14645979&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14645979\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"noble.paul\\\" id=\\\"commentauthor_14645979_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=noble.paul\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"noble.paul\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Noble Paul\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14645979_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Jul\\/15 12:35\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-07-29T12:35:06+0000\'\u003e29\\/Jul\\/15 12:35\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThis makes the SolrQueryRequest available automatically in all threads in server\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"noble.paul\\\" id=\\\"commentauthor_14645979_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=noble.paul\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"noble.paul\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Noble Paul\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14645979_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Jul\\/15 12:35\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-07-29T12:35:06+0000\'\u003e29\\/Jul\\/15 12:35\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    This makes the SolrQueryRequest available automatically in all threads in server              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14647335\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6625?focusedCommentId=14647335&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14647335\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ichattopadhyaya\\\" id=\\\"commentauthor_14647335_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ichattopadhyaya\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ichattopadhyaya\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ishan Chattopadhyaya\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14647335_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Jul\\/15 08:21\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-07-30T08:21:15+0000\'\u003e30\\/Jul\\/15 08:21\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eUpdated the patch, using the SolrRequestInfo from previous patch (thanks \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=noble.paul\\\" class=\\\"user-hover\\\" rel=\\\"noble.paul\\\"\u003eNoble Paul\u003c\\/a\u003e). Now, instead of enforcing httpclient.execute(req, context), added a SolrHttpClient (and within it SolrDefaultHttpClient and SolrSystemDefaultHttpClient) that adds the request object from the SolrRequestInfo into an overridden execute() method transparently.\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=noble.paul\\\" class=\\\"user-hover\\\" rel=\\\"noble.paul\\\"\u003eNoble Paul\u003c\\/a\u003e, in your previous patch (the SolrRequestInfo part), there are a few exceptions\\/assertions logged:\u003c\\/p\u003e\\n\u003cdiv class=\\\"preformatted panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"preformattedContent panelContent\\\"\u003e\\n\u003cpre\u003e6564 ERROR (searcherExecutor-17-thread-1-processing-x:collection1 snapshot.20150730163745674 \\/\\/tmp\\/\\/solr.handler.TestRestoreCore_21A69B2D533EDA15-001\\/\\/tempDir-002 collection1) [    x:collection1] o.a.s.c.SolrCore Previous SolrRequestInfo was not closed!  req=location=\\/tmp\\/solr.handler.TestRestoreCore_21A69B2D533EDA15-001\\/tempDir-002&amp;command=restore\\n6564 ERROR (searcherExecutor-17-thread-1-processing-x:collection1 snapshot.20150730163745674 \\/\\/tmp\\/\\/solr.handler.TestRestoreCore_21A69B2D533EDA15-001\\/\\/tempDir-002 collection1) [    x:collection1] o.a.s.c.SolrCore java.lang.AssertionError\\n    at org.apache.solr.request.SolrRequestInfo.setRequestInfo(SolrRequestInfo.java:58)\\n    at org.apache.solr.search.SolrIndexSearcher.warm(SolrIndexSearcher.java:2206)\\n    at org.apache.solr.core.SolrCore$4.call(SolrCore.java:1817)\\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\\n    at org.apache.solr.common.util.ExecutorUtil$MDCAwareThreadPoolExecutor$1.run(ExecutorUtil.java:198)\\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\\n    at java.lang.Thread.run(Thread.java:745)\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\u003cp\u003eCan you please have look at it? I\'ve included it as is in this current patch, and haven\'t looked into why this is happening, since the tests are passing anyway.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ichattopadhyaya\\\" id=\\\"commentauthor_14647335_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ichattopadhyaya\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ichattopadhyaya\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ishan Chattopadhyaya\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14647335_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Jul\\/15 08:21\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-07-30T08:21:15+0000\'\u003e30\\/Jul\\/15 08:21\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Updated the patch, using the SolrRequestInfo from previous patch (thanks  Noble Paul ). Now, instead of enforcing httpclient.execute(req, context), added a SolrHttpClient (and within it SolrDefaultHttpClient and SolrSystemDefaultHttpClient) that adds the request object from the SolrRequestInfo into an overridden execute() method transparently. \\n\\n  Noble Paul , in your previous patch (the SolrRequestInfo part), there are a few exceptions\\/assertions logged: \\n  \\n 6564 ERROR (searcherExecutor-17-thread-1-processing-x:collection1 snapshot.20150730163745674 \\/\\/tmp\\/\\/solr.handler.TestRestoreCore_21A69B2D533EDA15-001\\/\\/tempDir-002 collection1) [    x:collection1] o.a.s.c.SolrCore Previous SolrRequestInfo was not closed!  req=location=\\/tmp\\/solr.handler.TestRestoreCore_21A69B2D533EDA15-001\\/tempDir-002&amp;command=restore\\n6564 ERROR (searcherExecutor-17-thread-1-processing-x:collection1 snapshot.20150730163745674 \\/\\/tmp\\/\\/solr.handler.TestRestoreCore_21A69B2D533EDA15-001\\/\\/tempDir-002 collection1) [    x:collection1] o.a.s.c.SolrCore java.lang.AssertionError\\n    at org.apache.solr.request.SolrRequestInfo.setRequestInfo(SolrRequestInfo.java:58)\\n    at org.apache.solr.search.SolrIndexSearcher.warm(SolrIndexSearcher.java:2206)\\n    at org.apache.solr.core.SolrCore$4.call(SolrCore.java:1817)\\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\\n    at org.apache.solr.common.util.ExecutorUtil$MDCAwareThreadPoolExecutor$1.run(ExecutorUtil.java:198)\\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\\n    at java.lang.Thread.run(Thread.java:745)\\n \\n  \\n Can you please have look at it? I\'ve included it as is in this current patch, and haven\'t looked into why this is happening, since the tests are passing anyway.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14647593\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6625?focusedCommentId=14647593&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14647593\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"noble.paul\\\" id=\\\"commentauthor_14647593_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=noble.paul\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"noble.paul\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Noble Paul\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14647593_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Jul\\/15 13:04\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-07-30T13:04:11+0000\'\u003e30\\/Jul\\/15 13:04\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003efixed the test error\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"noble.paul\\\" id=\\\"commentauthor_14647593_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=noble.paul\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"noble.paul\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Noble Paul\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14647593_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Jul\\/15 13:04\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-07-30T13:04:11+0000\'\u003e30\\/Jul\\/15 13:04\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    fixed the test error              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14647678\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6625?focusedCommentId=14647678&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14647678\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_14647678_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14647678_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Jul\\/15 14:28\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-07-30T14:28:22+0000\'\u003e30\\/Jul\\/15 14:28\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eCommit 1693432 from \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=noble.paul\\\" class=\\\"user-hover\\\" rel=\\\"noble.paul\\\"\u003eNoble Paul\u003c\\/a\u003e in branch \'dev\\/trunk\'\u003cbr\\/\u003e\\n[ \u003ca href=\\\"https:\\/\\/svn.apache.org\\/r1693432\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttps:\\/\\/svn.apache.org\\/r1693432\u003c\\/a\u003e ]\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-6625\\\" title=\\\"Add interceptor API for outgoing calls through HttpSolrClient\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-6625\\\"\u003e\u003cdel\u003eSOLR-6625\u003c\\/del\u003e\u003c\\/a\u003e: Enable registering interceptors for the calls made using HttpClient and make the\u003cbr\\/\u003e\\n  request object available at the interceptor context\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_14647678_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14647678_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Jul\\/15 14:28\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-07-30T14:28:22+0000\'\u003e30\\/Jul\\/15 14:28\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Commit 1693432 from  Noble Paul  in branch \'dev\\/trunk\' \\n[  https:\\/\\/svn.apache.org\\/r1693432  ] \\n\\n   SOLR-6625  : Enable registering interceptors for the calls made using HttpClient and make the \\n  request object available at the interceptor context              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14647704\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6625?focusedCommentId=14647704&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14647704\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_14647704_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14647704_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Jul\\/15 14:39\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-07-30T14:39:24+0000\'\u003e30\\/Jul\\/15 14:39\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eCommit 1693434 from \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=noble.paul\\\" class=\\\"user-hover\\\" rel=\\\"noble.paul\\\"\u003eNoble Paul\u003c\\/a\u003e in branch \'dev\\/trunk\'\u003cbr\\/\u003e\\n[ \u003ca href=\\\"https:\\/\\/svn.apache.org\\/r1693434\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttps:\\/\\/svn.apache.org\\/r1693434\u003c\\/a\u003e ]\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-6625\\\" title=\\\"Add interceptor API for outgoing calls through HttpSolrClient\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-6625\\\"\u003e\u003cdel\u003eSOLR-6625\u003c\\/del\u003e\u003c\\/a\u003e: formatting fixed\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_14647704_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14647704_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Jul\\/15 14:39\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-07-30T14:39:24+0000\'\u003e30\\/Jul\\/15 14:39\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Commit 1693434 from  Noble Paul  in branch \'dev\\/trunk\' \\n[  https:\\/\\/svn.apache.org\\/r1693434  ] \\n\\n   SOLR-6625  : formatting fixed              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14647819\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6625?focusedCommentId=14647819&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14647819\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_14647819_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14647819_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Jul\\/15 15:33\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-07-30T15:33:52+0000\'\u003e30\\/Jul\\/15 15:33\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eCommit 1693442 from \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=noble.paul\\\" class=\\\"user-hover\\\" rel=\\\"noble.paul\\\"\u003eNoble Paul\u003c\\/a\u003e in branch \'dev\\/branches\\/branch_5x\'\u003cbr\\/\u003e\\n[ \u003ca href=\\\"https:\\/\\/svn.apache.org\\/r1693442\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttps:\\/\\/svn.apache.org\\/r1693442\u003c\\/a\u003e ]\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-6625\\\" title=\\\"Add interceptor API for outgoing calls through HttpSolrClient\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-6625\\\"\u003e\u003cdel\u003eSOLR-6625\u003c\\/del\u003e\u003c\\/a\u003e: Enable registering interceptors for the calls made using HttpClient and make the request object available at the interceptor context\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_14647819_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14647819_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Jul\\/15 15:33\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-07-30T15:33:52+0000\'\u003e30\\/Jul\\/15 15:33\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Commit 1693442 from  Noble Paul  in branch \'dev\\/branches\\/branch_5x\' \\n[  https:\\/\\/svn.apache.org\\/r1693442  ] \\n\\n   SOLR-6625  : Enable registering interceptors for the calls made using HttpClient and make the request object available at the interceptor context              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14647874\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6625?focusedCommentId=14647874&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14647874\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"steve_rowe\\\" id=\\\"commentauthor_14647874_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=steve_rowe\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"steve_rowe\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Steve Rowe\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14647874_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Jul\\/15 16:06\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-07-30T16:06:53+0000\'\u003e30\\/Jul\\/15 16:06\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI\'m seeing reproducible \u003ctt\u003eTestCloudSolrClientConnections\u003c\\/tt\u003e failures on trunk and branch_5x on my Jenkins after commits on this issue.  Here\'s the trunk one (\u003ca href=\\\"http:\\/\\/jenkins.sarowe.net\\/job\\/Lucene-Solr-tests-trunk\\/1152\\/\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/jenkins.sarowe.net\\/job\\/Lucene-Solr-tests-trunk\\/1152\\/\u003c\\/a\u003e):\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"preformatted panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"preformattedContent panelContent\\\"\u003e\\n\u003cpre\u003e   [junit4]   2&gt; NOTE: reproduce with: ant test  -Dtestcase=TestCloudSolrClientConnections -Dtests.method=testCloudClientCanConnectAfterClusterComesUp -Dtests.seed=C37B717A18417443 -Dtests.slow=true -Dtests.locale=bg_BG -Dtests.timezone=SystemV\\/HST10 -Dtests.asserts=true -Dtests.file.encoding=UTF-8\\n   [junit4] ERROR   7.12s J1 | TestCloudSolrClientConnections.testCloudClientCanConnectAfterClusterComesUp &lt;&lt;&lt;\\n   [junit4]    &gt; Throwable #1: org.apache.solr.common.SolrException: A SolrHttpContext object must be passed in as context. Context: {http.request=org.apache.http.impl.client.RequestWrapper@eddf10a, http.request-config=[expectContinueEnabled=false, proxy=null, localAddress=null, cookieSpec=null, redirectsEnabled=true, relativeRedirectsAllowed=true, maxRedirects=50, circularRedirectsAllowed=false, authenticationEnabled=true, targetPreferredAuthSchemes=null, proxyPreferredAuthSchemes=null, connectionRequestTimeout=0, connectTimeout=0, socketTimeout=0, decompressionEnabled=true], http.auth.proxy-scope=state:UNCHALLENGED;, http.auth.credentials-provider={}, http.scheme-registry=org.apache.http.conn.scheme.SchemeRegistry@4861e7d6, http.cookie-spec=best-match, http.cookie-store=[], http.connection=org.apache.http.impl.conn.ManagedClientConnectionImpl@771b321c, http.auth.target-scope=state:UNCHALLENGED;, http.cookiespec-registry=org.apache.http.cookie.CookieSpecRegistry@1b78f4d2, http.target_host=https:\\/\\/127.0.0.1:51727, http.route={s}-&gt;https:\\/\\/127.0.0.1:51727, http.cookie-origin=[(secure)127.0.0.1:51727\\/solr\\/admin\\/collections], http.authscheme-registry=org.apache.http.auth.AuthSchemeRegistry@7acc1316}\\n   [junit4]    &gt; \\tat __randomizedtesting.SeedInfo.seed([C37B717A18417443:D897F2DA4A5D5186]:0)\\n   [junit4]    &gt; \\tat org.apache.solr.client.solrj.impl.HttpClientConfigurer$1.process(HttpClientConfigurer.java:92)\\n   [junit4]    &gt; \\tat org.apache.http.protocol.ImmutableHttpProcessor.process(ImmutableHttpProcessor.java:132)\\n   [junit4]    &gt; \\tat org.apache.http.protocol.HttpRequestExecutor.preProcess(HttpRequestExecutor.java:166)\\n   [junit4]    &gt; \\tat org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:485)\\n   [junit4]    &gt; \\tat org.apache.http.impl.client.AbstractHttpClient.doExecute(AbstractHttpClient.java:882)\\n   [junit4]    &gt; \\tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:82)\\n   [junit4]    &gt; \\tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:107)\\n   [junit4]    &gt; \\tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:55)\\n   [junit4]    &gt; \\tat org.apache.solr.client.solrj.impl.HttpSolrClient.executeMethod(HttpSolrClient.java:465)\\n   [junit4]    &gt; \\tat org.apache.solr.client.solrj.impl.HttpSolrClient.request(HttpSolrClient.java:234)\\n   [junit4]    &gt; \\tat org.apache.solr.client.solrj.impl.HttpSolrClient.request(HttpSolrClient.java:226)\\n   [junit4]    &gt; \\tat org.apache.solr.client.solrj.impl.LBHttpSolrClient.doRequest(LBHttpSolrClient.java:376)\\n   [junit4]    &gt; \\tat org.apache.solr.client.solrj.impl.LBHttpSolrClient.request(LBHttpSolrClient.java:328)\\n   [junit4]    &gt; \\tat org.apache.solr.client.solrj.impl.CloudSolrClient.sendRequest(CloudSolrClient.java:1086)\\n   [junit4]    &gt; \\tat org.apache.solr.client.solrj.impl.CloudSolrClient.requestWithRetryOnStaleState(CloudSolrClient.java:856)\\n   [junit4]    &gt; \\tat org.apache.solr.client.solrj.impl.CloudSolrClient.request(CloudSolrClient.java:799)\\n   [junit4]    &gt; \\tat org.apache.solr.client.solrj.SolrClient.request(SolrClient.java:1220)\\n   [junit4]    &gt; \\tat org.apache.solr.client.solrj.impl.TestCloudSolrClientConnections.testCloudClientCanConnectAfterClusterComesUp(TestCloudSolrClientConnections.java:57)\\n   [junit4]    &gt; \\tat java.lang.Thread.run(Thread.java:745)\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003eand the branch_5x one (\u003ca href=\\\"http:\\/\\/jenkins.sarowe.net\\/job\\/Lucene-Solr-tests-5.x-Java8\\/892\\/\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/jenkins.sarowe.net\\/job\\/Lucene-Solr-tests-5.x-Java8\\/892\\/\u003c\\/a\u003e):\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"preformatted panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"preformattedContent panelContent\\\"\u003e\\n\u003cpre\u003e   [junit4]   2&gt; NOTE: reproduce with: ant test  -Dtestcase=TestCloudSolrClientConnections -Dtests.method=testCloudClientCanConnectAfterClusterComesUp -Dtests.seed=FC64970124605306 -Dtests.slow=true -Dtests.locale=ar_LY -Dtests.timezone=Asia\\/Vientiane -Dtests.asserts=true -Dtests.file.encoding=UTF-8\\n   [junit4] ERROR   1.84s J1 | TestCloudSolrClientConnections.testCloudClientCanConnectAfterClusterComesUp &lt;&lt;&lt;\\n   [junit4]    &gt; Throwable #1: org.apache.solr.client.solrj.SolrServerException: java.lang.NullPointerException\\n   [junit4]    &gt; \\tat __randomizedtesting.SeedInfo.seed([FC64970124605306:E78814A1767C76C3]:0)\\n   [junit4]    &gt; \\tat org.apache.solr.client.solrj.impl.LBHttpSolrClient.doRequest(LBHttpSolrClient.java:414)\\n   [junit4]    &gt; \\tat org.apache.solr.client.solrj.impl.LBHttpSolrClient.request(LBHttpSolrClient.java:328)\\n   [junit4]    &gt; \\tat org.apache.solr.client.solrj.impl.CloudSolrClient.sendRequest(CloudSolrClient.java:1086)\\n   [junit4]    &gt; \\tat org.apache.solr.client.solrj.impl.CloudSolrClient.requestWithRetryOnStaleState(CloudSolrClient.java:856)\\n   [junit4]    &gt; \\tat org.apache.solr.client.solrj.impl.CloudSolrClient.request(CloudSolrClient.java:799)\\n   [junit4]    &gt; \\tat org.apache.solr.client.solrj.SolrClient.request(SolrClient.java:1220)\\n   [junit4]    &gt; \\tat org.apache.solr.client.solrj.impl.TestCloudSolrClientConnections.testCloudClientCanConnectAfterClusterComesUp(TestCloudSolrClientConnections.java:57)\\n   [junit4]    &gt; \\tat java.lang.Thread.run(Thread.java:745)\\n   [junit4]    &gt; Caused by: java.lang.NullPointerException\\n   [junit4]    &gt; \\tat org.apache.solr.client.solrj.impl.BasicHttpSolrClientTest$2.process(BasicHttpSolrClientTest.java:672)\\n   [junit4]    &gt; \\tat org.apache.http.protocol.ImmutableHttpProcessor.process(ImmutableHttpProcessor.java:132)\\n   [junit4]    &gt; \\tat org.apache.http.protocol.HttpRequestExecutor.preProcess(HttpRequestExecutor.java:166)\\n   [junit4]    &gt; \\tat org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:485)\\n   [junit4]    &gt; \\tat org.apache.http.impl.client.AbstractHttpClient.doExecute(AbstractHttpClient.java:882)\\n   [junit4]    &gt; \\tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:82)\\n   [junit4]    &gt; \\tat org.apache.solr.util.SolrHttpClient$SolrSystemDefaultHttpClient.execute(SolrHttpClient.java:54)\\n   [junit4]    &gt; \\tat org.apache.solr.util.SolrHttpClient$SolrSystemDefaultHttpClient.execute(SolrHttpClient.java:45)\\n   [junit4]    &gt; \\tat org.apache.solr.client.solrj.impl.HttpSolrClient.executeMethod(HttpSolrClient.java:465)\\n   [junit4]    &gt; \\tat org.apache.solr.client.solrj.impl.HttpSolrClient.request(HttpSolrClient.java:234)\\n   [junit4]    &gt; \\tat org.apache.solr.client.solrj.impl.HttpSolrClient.request(HttpSolrClient.java:226)\\n   [junit4]    &gt; \\tat org.apache.solr.client.solrj.impl.LBHttpSolrClient.doRequest(LBHttpSolrClient.java:376)\\n   [junit4]    &gt; \\t... 45 more\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003eThe above is from Jenkins on Linux, but when I run the repro line on OS X, I get a different exception:\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"preformatted panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"preformattedContent panelContent\\\"\u003e\\n\u003cpre\u003e   [junit4]   2&gt; NOTE: reproduce with: ant test  -Dtestcase=TestCloudSolrClientConnections -Dtests.method=testCloudClientCanConnectAfterClusterComesUp -Dtests.seed=FC64970124605306 -Dtests.slow=true -Dtests.locale=ar_LY -Dtests.timezone=Asia\\/Vientiane -Dtests.asserts=true -Dtests.file.encoding=UTF-8\\n   [junit4] ERROR   5.08s | TestCloudSolrClientConnections.testCloudClientCanConnectAfterClusterComesUp &lt;&lt;&lt;\\n   [junit4]    &gt; Throwable #1: org.apache.solr.common.SolrException: A SolrHttpContext object must be passed in as context. Context: {http.request=org.apache.http.impl.client.RequestWrapper@560c17c7, http.request-config=[expectContinueEnabled=false, proxy=null, localAddress=null, cookieSpec=null, redirectsEnabled=true, relativeRedirectsAllowed=true, maxRedirects=50, circularRedirectsAllowed=false, authenticationEnabled=true, targetPreferredAuthSchemes=null, proxyPreferredAuthSchemes=null, connectionRequestTimeout=0, connectTimeout=0, socketTimeout=0, decompressionEnabled=true], http.auth.proxy-scope=state:UNCHALLENGED;, http.auth.credentials-provider={}, http.scheme-registry=org.apache.http.conn.scheme.SchemeRegistry@13917b5, http.cookie-spec=best-match, http.cookie-store=[], http.connection=org.apache.http.impl.conn.ManagedClientConnectionImpl@492e6959, http.auth.target-scope=state:UNCHALLENGED;, http.cookiespec-registry=org.apache.http.cookie.CookieSpecRegistry@39eeeeba, http.target_host=https:\\/\\/127.0.0.1:52502, http.route={s}-&gt;https:\\/\\/127.0.0.1:52502, http.cookie-origin=[(secure)127.0.0.1:52502\\/solr\\/admin\\/collections], http.authscheme-registry=org.apache.http.auth.AuthSchemeRegistry@f6a646f}\\n   [junit4]    &gt; \\tat __randomizedtesting.SeedInfo.seed([FC64970124605306:E78814A1767C76C3]:0)\\n   [junit4]    &gt; \\tat org.apache.solr.client.solrj.impl.HttpClientConfigurer$1.process(HttpClientConfigurer.java:92)\\n   [junit4]    &gt; \\tat org.apache.http.protocol.ImmutableHttpProcessor.process(ImmutableHttpProcessor.java:132)\\n   [junit4]    &gt; \\tat org.apache.http.protocol.HttpRequestExecutor.preProcess(HttpRequestExecutor.java:166)\\n   [junit4]    &gt; \\tat org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:485)\\n   [junit4]    &gt; \\tat org.apache.http.impl.client.AbstractHttpClient.doExecute(AbstractHttpClient.java:882)\\n   [junit4]    &gt; \\tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:82)\\n   [junit4]    &gt; \\tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:107)\\n   [junit4]    &gt; \\tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:55)\\n   [junit4]    &gt; \\tat org.apache.solr.client.solrj.impl.HttpSolrClient.executeMethod(HttpSolrClient.java:465)\\n   [junit4]    &gt; \\tat org.apache.solr.client.solrj.impl.HttpSolrClient.request(HttpSolrClient.java:234)\\n   [junit4]    &gt; \\tat org.apache.solr.client.solrj.impl.HttpSolrClient.request(HttpSolrClient.java:226)\\n   [junit4]    &gt; \\tat org.apache.solr.client.solrj.impl.LBHttpSolrClient.doRequest(LBHttpSolrClient.java:376)\\n   [junit4]    &gt; \\tat org.apache.solr.client.solrj.impl.LBHttpSolrClient.request(LBHttpSolrClient.java:328)\\n   [junit4]    &gt; \\tat org.apache.solr.client.solrj.impl.CloudSolrClient.sendRequest(CloudSolrClient.java:1086)\\n   [junit4]    &gt; \\tat org.apache.solr.client.solrj.impl.CloudSolrClient.requestWithRetryOnStaleState(CloudSolrClient.java:856)\\n   [junit4]    &gt; \\tat org.apache.solr.client.solrj.impl.CloudSolrClient.request(CloudSolrClient.java:799)\\n   [junit4]    &gt; \\tat org.apache.solr.client.solrj.SolrClient.request(SolrClient.java:1220)\\n   [junit4]    &gt; \\tat org.apache.solr.client.solrj.impl.TestCloudSolrClientConnections.testCloudClientCanConnectAfterClusterComesUp(TestCloudSolrClientConnections.java:57)\\n   [junit4]    &gt; \\tat java.lang.Thread.run(Thread.java:745)\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"steve_rowe\\\" id=\\\"commentauthor_14647874_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=steve_rowe\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"steve_rowe\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Steve Rowe\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14647874_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Jul\\/15 16:06\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-07-30T16:06:53+0000\'\u003e30\\/Jul\\/15 16:06\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I\'m seeing reproducible  TestCloudSolrClientConnections  failures on trunk and branch_5x on my Jenkins after commits on this issue.  Here\'s the trunk one ( http:\\/\\/jenkins.sarowe.net\\/job\\/Lucene-Solr-tests-trunk\\/1152\\/ ): \\n\\n  \\n    [junit4]   2&gt; NOTE: reproduce with: ant test  -Dtestcase=TestCloudSolrClientConnections -Dtests.method=testCloudClientCanConnectAfterClusterComesUp -Dtests.seed=C37B717A18417443 -Dtests.slow=true -Dtests.locale=bg_BG -Dtests.timezone=SystemV\\/HST10 -Dtests.asserts=true -Dtests.file.encoding=UTF-8\\n   [junit4] ERROR   7.12s J1 | TestCloudSolrClientConnections.testCloudClientCanConnectAfterClusterComesUp &lt;&lt;&lt;\\n   [junit4]    &gt; Throwable #1: org.apache.solr.common.SolrException: A SolrHttpContext object must be passed in as context. Context: {http.request=org.apache.http.impl.client.RequestWrapper@eddf10a, http.request-config=[expectContinueEnabled=false, proxy=null, localAddress=null, cookieSpec=null, redirectsEnabled=true, relativeRedirectsAllowed=true, maxRedirects=50, circularRedirectsAllowed=false, authenticationEnabled=true, targetPreferredAuthSchemes=null, proxyPreferredAuthSchemes=null, connectionRequestTimeout=0, connectTimeout=0, socketTimeout=0, decompressionEnabled=true], http.auth.proxy-scope=state:UNCHALLENGED;, http.auth.credentials-provider={}, http.scheme-registry=org.apache.http.conn.scheme.SchemeRegistry@4861e7d6, http.cookie-spec=best-match, http.cookie-store=[], http.connection=org.apache.http.impl.conn.ManagedClientConnectionImpl@771b321c, http.auth.target-scope=state:UNCHALLENGED;, http.cookiespec-registry=org.apache.http.cookie.CookieSpecRegistry@1b78f4d2, http.target_host=https:\\/\\/127.0.0.1:51727, http.route={s}-&gt;https:\\/\\/127.0.0.1:51727, http.cookie-origin=[(secure)127.0.0.1:51727\\/solr\\/admin\\/collections], http.authscheme-registry=org.apache.http.auth.AuthSchemeRegistry@7acc1316}\\n   [junit4]    &gt; \\tat __randomizedtesting.SeedInfo.seed([C37B717A18417443:D897F2DA4A5D5186]:0)\\n   [junit4]    &gt; \\tat org.apache.solr.client.solrj.impl.HttpClientConfigurer$1.process(HttpClientConfigurer.java:92)\\n   [junit4]    &gt; \\tat org.apache.http.protocol.ImmutableHttpProcessor.process(ImmutableHttpProcessor.java:132)\\n   [junit4]    &gt; \\tat org.apache.http.protocol.HttpRequestExecutor.preProcess(HttpRequestExecutor.java:166)\\n   [junit4]    &gt; \\tat org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:485)\\n   [junit4]    &gt; \\tat org.apache.http.impl.client.AbstractHttpClient.doExecute(AbstractHttpClient.java:882)\\n   [junit4]    &gt; \\tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:82)\\n   [junit4]    &gt; \\tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:107)\\n   [junit4]    &gt; \\tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:55)\\n   [junit4]    &gt; \\tat org.apache.solr.client.solrj.impl.HttpSolrClient.executeMethod(HttpSolrClient.java:465)\\n   [junit4]    &gt; \\tat org.apache.solr.client.solrj.impl.HttpSolrClient.request(HttpSolrClient.java:234)\\n   [junit4]    &gt; \\tat org.apache.solr.client.solrj.impl.HttpSolrClient.request(HttpSolrClient.java:226)\\n   [junit4]    &gt; \\tat org.apache.solr.client.solrj.impl.LBHttpSolrClient.doRequest(LBHttpSolrClient.java:376)\\n   [junit4]    &gt; \\tat org.apache.solr.client.solrj.impl.LBHttpSolrClient.request(LBHttpSolrClient.java:328)\\n   [junit4]    &gt; \\tat org.apache.solr.client.solrj.impl.CloudSolrClient.sendRequest(CloudSolrClient.java:1086)\\n   [junit4]    &gt; \\tat org.apache.solr.client.solrj.impl.CloudSolrClient.requestWithRetryOnStaleState(CloudSolrClient.java:856)\\n   [junit4]    &gt; \\tat org.apache.solr.client.solrj.impl.CloudSolrClient.request(CloudSolrClient.java:799)\\n   [junit4]    &gt; \\tat org.apache.solr.client.solrj.SolrClient.request(SolrClient.java:1220)\\n   [junit4]    &gt; \\tat org.apache.solr.client.solrj.impl.TestCloudSolrClientConnections.testCloudClientCanConnectAfterClusterComesUp(TestCloudSolrClientConnections.java:57)\\n   [junit4]    &gt; \\tat java.lang.Thread.run(Thread.java:745)\\n \\n  \\n\\n and the branch_5x one ( http:\\/\\/jenkins.sarowe.net\\/job\\/Lucene-Solr-tests-5.x-Java8\\/892\\/ ): \\n\\n  \\n    [junit4]   2&gt; NOTE: reproduce with: ant test  -Dtestcase=TestCloudSolrClientConnections -Dtests.method=testCloudClientCanConnectAfterClusterComesUp -Dtests.seed=FC64970124605306 -Dtests.slow=true -Dtests.locale=ar_LY -Dtests.timezone=Asia\\/Vientiane -Dtests.asserts=true -Dtests.file.encoding=UTF-8\\n   [junit4] ERROR   1.84s J1 | TestCloudSolrClientConnections.testCloudClientCanConnectAfterClusterComesUp &lt;&lt;&lt;\\n   [junit4]    &gt; Throwable #1: org.apache.solr.client.solrj.SolrServerException: java.lang.NullPointerException\\n   [junit4]    &gt; \\tat __randomizedtesting.SeedInfo.seed([FC64970124605306:E78814A1767C76C3]:0)\\n   [junit4]    &gt; \\tat org.apache.solr.client.solrj.impl.LBHttpSolrClient.doRequest(LBHttpSolrClient.java:414)\\n   [junit4]    &gt; \\tat org.apache.solr.client.solrj.impl.LBHttpSolrClient.request(LBHttpSolrClient.java:328)\\n   [junit4]    &gt; \\tat org.apache.solr.client.solrj.impl.CloudSolrClient.sendRequest(CloudSolrClient.java:1086)\\n   [junit4]    &gt; \\tat org.apache.solr.client.solrj.impl.CloudSolrClient.requestWithRetryOnStaleState(CloudSolrClient.java:856)\\n   [junit4]    &gt; \\tat org.apache.solr.client.solrj.impl.CloudSolrClient.request(CloudSolrClient.java:799)\\n   [junit4]    &gt; \\tat org.apache.solr.client.solrj.SolrClient.request(SolrClient.java:1220)\\n   [junit4]    &gt; \\tat org.apache.solr.client.solrj.impl.TestCloudSolrClientConnections.testCloudClientCanConnectAfterClusterComesUp(TestCloudSolrClientConnections.java:57)\\n   [junit4]    &gt; \\tat java.lang.Thread.run(Thread.java:745)\\n   [junit4]    &gt; Caused by: java.lang.NullPointerException\\n   [junit4]    &gt; \\tat org.apache.solr.client.solrj.impl.BasicHttpSolrClientTest$2.process(BasicHttpSolrClientTest.java:672)\\n   [junit4]    &gt; \\tat org.apache.http.protocol.ImmutableHttpProcessor.process(ImmutableHttpProcessor.java:132)\\n   [junit4]    &gt; \\tat org.apache.http.protocol.HttpRequestExecutor.preProcess(HttpRequestExecutor.java:166)\\n   [junit4]    &gt; \\tat org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:485)\\n   [junit4]    &gt; \\tat org.apache.http.impl.client.AbstractHttpClient.doExecute(AbstractHttpClient.java:882)\\n   [junit4]    &gt; \\tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:82)\\n   [junit4]    &gt; \\tat org.apache.solr.util.SolrHttpClient$SolrSystemDefaultHttpClient.execute(SolrHttpClient.java:54)\\n   [junit4]    &gt; \\tat org.apache.solr.util.SolrHttpClient$SolrSystemDefaultHttpClient.execute(SolrHttpClient.java:45)\\n   [junit4]    &gt; \\tat org.apache.solr.client.solrj.impl.HttpSolrClient.executeMethod(HttpSolrClient.java:465)\\n   [junit4]    &gt; \\tat org.apache.solr.client.solrj.impl.HttpSolrClient.request(HttpSolrClient.java:234)\\n   [junit4]    &gt; \\tat org.apache.solr.client.solrj.impl.HttpSolrClient.request(HttpSolrClient.java:226)\\n   [junit4]    &gt; \\tat org.apache.solr.client.solrj.impl.LBHttpSolrClient.doRequest(LBHttpSolrClient.java:376)\\n   [junit4]    &gt; \\t... 45 more\\n \\n  \\n\\n The above is from Jenkins on Linux, but when I run the repro line on OS X, I get a different exception: \\n\\n  \\n    [junit4]   2&gt; NOTE: reproduce with: ant test  -Dtestcase=TestCloudSolrClientConnections -Dtests.method=testCloudClientCanConnectAfterClusterComesUp -Dtests.seed=FC64970124605306 -Dtests.slow=true -Dtests.locale=ar_LY -Dtests.timezone=Asia\\/Vientiane -Dtests.asserts=true -Dtests.file.encoding=UTF-8\\n   [junit4] ERROR   5.08s | TestCloudSolrClientConnections.testCloudClientCanConnectAfterClusterComesUp &lt;&lt;&lt;\\n   [junit4]    &gt; Throwable #1: org.apache.solr.common.SolrException: A SolrHttpContext object must be passed in as context. Context: {http.request=org.apache.http.impl.client.RequestWrapper@560c17c7, http.request-config=[expectContinueEnabled=false, proxy=null, localAddress=null, cookieSpec=null, redirectsEnabled=true, relativeRedirectsAllowed=true, maxRedirects=50, circularRedirectsAllowed=false, authenticationEnabled=true, targetPreferredAuthSchemes=null, proxyPreferredAuthSchemes=null, connectionRequestTimeout=0, connectTimeout=0, socketTimeout=0, decompressionEnabled=true], http.auth.proxy-scope=state:UNCHALLENGED;, http.auth.credentials-provider={}, http.scheme-registry=org.apache.http.conn.scheme.SchemeRegistry@13917b5, http.cookie-spec=best-match, http.cookie-store=[], http.connection=org.apache.http.impl.conn.ManagedClientConnectionImpl@492e6959, http.auth.target-scope=state:UNCHALLENGED;, http.cookiespec-registry=org.apache.http.cookie.CookieSpecRegistry@39eeeeba, http.target_host=https:\\/\\/127.0.0.1:52502, http.route={s}-&gt;https:\\/\\/127.0.0.1:52502, http.cookie-origin=[(secure)127.0.0.1:52502\\/solr\\/admin\\/collections], http.authscheme-registry=org.apache.http.auth.AuthSchemeRegistry@f6a646f}\\n   [junit4]    &gt; \\tat __randomizedtesting.SeedInfo.seed([FC64970124605306:E78814A1767C76C3]:0)\\n   [junit4]    &gt; \\tat org.apache.solr.client.solrj.impl.HttpClientConfigurer$1.process(HttpClientConfigurer.java:92)\\n   [junit4]    &gt; \\tat org.apache.http.protocol.ImmutableHttpProcessor.process(ImmutableHttpProcessor.java:132)\\n   [junit4]    &gt; \\tat org.apache.http.protocol.HttpRequestExecutor.preProcess(HttpRequestExecutor.java:166)\\n   [junit4]    &gt; \\tat org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:485)\\n   [junit4]    &gt; \\tat org.apache.http.impl.client.AbstractHttpClient.doExecute(AbstractHttpClient.java:882)\\n   [junit4]    &gt; \\tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:82)\\n   [junit4]    &gt; \\tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:107)\\n   [junit4]    &gt; \\tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:55)\\n   [junit4]    &gt; \\tat org.apache.solr.client.solrj.impl.HttpSolrClient.executeMethod(HttpSolrClient.java:465)\\n   [junit4]    &gt; \\tat org.apache.solr.client.solrj.impl.HttpSolrClient.request(HttpSolrClient.java:234)\\n   [junit4]    &gt; \\tat org.apache.solr.client.solrj.impl.HttpSolrClient.request(HttpSolrClient.java:226)\\n   [junit4]    &gt; \\tat org.apache.solr.client.solrj.impl.LBHttpSolrClient.doRequest(LBHttpSolrClient.java:376)\\n   [junit4]    &gt; \\tat org.apache.solr.client.solrj.impl.LBHttpSolrClient.request(LBHttpSolrClient.java:328)\\n   [junit4]    &gt; \\tat org.apache.solr.client.solrj.impl.CloudSolrClient.sendRequest(CloudSolrClient.java:1086)\\n   [junit4]    &gt; \\tat org.apache.solr.client.solrj.impl.CloudSolrClient.requestWithRetryOnStaleState(CloudSolrClient.java:856)\\n   [junit4]    &gt; \\tat org.apache.solr.client.solrj.impl.CloudSolrClient.request(CloudSolrClient.java:799)\\n   [junit4]    &gt; \\tat org.apache.solr.client.solrj.SolrClient.request(SolrClient.java:1220)\\n   [junit4]    &gt; \\tat org.apache.solr.client.solrj.impl.TestCloudSolrClientConnections.testCloudClientCanConnectAfterClusterComesUp(TestCloudSolrClientConnections.java:57)\\n   [junit4]    &gt; \\tat java.lang.Thread.run(Thread.java:745)\\n \\n               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14647876\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6625?focusedCommentId=14647876&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14647876\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"noble.paul\\\" id=\\\"commentauthor_14647876_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=noble.paul\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"noble.paul\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Noble Paul\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14647876_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Jul\\/15 16:11\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-07-30T16:11:40+0000\'\u003e30\\/Jul\\/15 16:11\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eIt was all passing when I tested it. Ishan can you please take a look?\u003c\\/p\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"noble.paul\\\" id=\\\"commentauthor_14647876_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=noble.paul\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"noble.paul\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Noble Paul\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14647876_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Jul\\/15 16:11\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-07-30T16:11:40+0000\'\u003e30\\/Jul\\/15 16:11\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    It was all passing when I tested it. Ishan can you please take a look? \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14647878\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6625?focusedCommentId=14647878&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14647878\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ichattopadhyaya\\\" id=\\\"commentauthor_14647878_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ichattopadhyaya\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ichattopadhyaya\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ishan Chattopadhyaya\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14647878_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Jul\\/15 16:13\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-07-30T16:13:40+0000\'\u003e30\\/Jul\\/15 16:13\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThanks for pointing it out, Steve.\u003cbr\\/\u003e\\nSure Noble. I\'ll take a look. Tests were passing for me at trunk. Will have\u003cbr\\/\u003e\\na look at the 5x branch.\u003c\\/p\u003e\\n\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ichattopadhyaya\\\" id=\\\"commentauthor_14647878_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ichattopadhyaya\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ichattopadhyaya\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ishan Chattopadhyaya\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14647878_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Jul\\/15 16:13\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-07-30T16:13:40+0000\'\u003e30\\/Jul\\/15 16:13\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Thanks for pointing it out, Steve. \\nSure Noble. I\'ll take a look. Tests were passing for me at trunk. Will have \\na look at the 5x branch. \\n\\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14647887\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6625?focusedCommentId=14647887&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14647887\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ichattopadhyaya\\\" id=\\\"commentauthor_14647887_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ichattopadhyaya\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ichattopadhyaya\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ishan Chattopadhyaya\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14647887_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Jul\\/15 16:22\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-07-30T16:22:57+0000\'\u003e30\\/Jul\\/15 16:22\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Ishan Chattopadhyaya - 30\\/Jul\\/15 16:24\\\"\u003eedited\u003c\\/span\u003e \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eAttaching the patch to fix it. \u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ichattopadhyaya\\\" id=\\\"commentauthor_14647887_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ichattopadhyaya\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ichattopadhyaya\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ishan Chattopadhyaya\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14647887_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Jul\\/15 16:22\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-07-30T16:22:57+0000\'\u003e30\\/Jul\\/15 16:22\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Ishan Chattopadhyaya - 30\\/Jul\\/15 16:24\\\"\u003eedited\u003c\\/span\u003e                   Attaching the patch to fix it.               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14648015\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6625?focusedCommentId=14648015&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14648015\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"anshumg\\\" id=\\\"commentauthor_14648015_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=anshumg\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"anshumg\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Anshum Gupta\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14648015_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Jul\\/15 17:42\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-07-30T17:42:53+0000\'\u003e30\\/Jul\\/15 17:42\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThanks Ishan. I just reviewed the old commit to understand the new approach.\u003cbr\\/\u003e\\nI\'ll commit this.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"anshumg\\\" id=\\\"commentauthor_14648015_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=anshumg\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"anshumg\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Anshum Gupta\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14648015_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Jul\\/15 17:42\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-07-30T17:42:53+0000\'\u003e30\\/Jul\\/15 17:42\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Thanks Ishan. I just reviewed the old commit to understand the new approach. \\nI\'ll commit this.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14648079\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6625?focusedCommentId=14648079&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14648079\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"anshumg\\\" id=\\\"commentauthor_14648079_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=anshumg\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"anshumg\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Anshum Gupta\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14648079_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Jul\\/15 18:27\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-07-30T18:27:51+0000\'\u003e30\\/Jul\\/15 18:27\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI got an NPE with the patch (log attached).\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"anshumg\\\" id=\\\"commentauthor_14648079_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=anshumg\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"anshumg\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Anshum Gupta\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14648079_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Jul\\/15 18:27\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-07-30T18:27:51+0000\'\u003e30\\/Jul\\/15 18:27\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I got an NPE with the patch (log attached).              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14648128\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6625?focusedCommentId=14648128&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14648128\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ichattopadhyaya\\\" id=\\\"commentauthor_14648128_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ichattopadhyaya\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ichattopadhyaya\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ishan Chattopadhyaya\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14648128_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Jul\\/15 18:58\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-07-30T18:58:03+0000\'\u003e30\\/Jul\\/15 18:58\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI\'ve tried that seed and the test (after the last test fix patch) many times, and its passing for me always; i.e. I can\'t reproduce the NPE after applying the last patch. \u003c\\/p\u003e\\n\\n\u003cp\u003eAnyway, looking into it a bit more.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ichattopadhyaya\\\" id=\\\"commentauthor_14648128_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ichattopadhyaya\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ichattopadhyaya\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ishan Chattopadhyaya\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14648128_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Jul\\/15 18:58\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-07-30T18:58:03+0000\'\u003e30\\/Jul\\/15 18:58\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I\'ve tried that seed and the test (after the last test fix patch) many times, and its passing for me always; i.e. I can\'t reproduce the NPE after applying the last patch.  \\n\\n Anyway, looking into it a bit more.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14648129\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6625?focusedCommentId=14648129&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14648129\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"anshumg\\\" id=\\\"commentauthor_14648129_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=anshumg\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"anshumg\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Anshum Gupta\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14648129_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Jul\\/15 18:59\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-07-30T18:59:39+0000\'\u003e30\\/Jul\\/15 18:59\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI think in LBHttpSolrClient.java (L326)\u003c\\/p\u003e\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003eHttpSolrClient client = makeSolrClient(serverStr);\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003efor some reason fails to instantiate and return the SolrClient. Could be because of systemDefaultHttpClientClass being not set for HttpClientUtil.createHttpClient to construct the client.\u003c\\/p\u003e\\n\\n\u003cp\u003eNoble\\/Ishan: can you take a look? If there are a lot more test failures @ Jenkins, I suggest it\'d be better to Ignore the test while actively working on a fix.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"anshumg\\\" id=\\\"commentauthor_14648129_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=anshumg\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"anshumg\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Anshum Gupta\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14648129_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Jul\\/15 18:59\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-07-30T18:59:39+0000\'\u003e30\\/Jul\\/15 18:59\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I think in LBHttpSolrClient.java (L326) \\n  \\n HttpSolrClient client = makeSolrClient(serverStr);\\n \\n  \\n\\n for some reason fails to instantiate and return the SolrClient. Could be because of systemDefaultHttpClientClass being not set for HttpClientUtil.createHttpClient to construct the client. \\n\\n Noble\\/Ishan: can you take a look? If there are a lot more test failures @ Jenkins, I suggest it\'d be better to Ignore the test while actively working on a fix.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14648168\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6625?focusedCommentId=14648168&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14648168\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_14648168_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14648168_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Jul\\/15 19:29\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-07-30T19:29:22+0000\'\u003e30\\/Jul\\/15 19:29\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eCommit 1693483 from \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=anshumg\\\" class=\\\"user-hover\\\" rel=\\\"anshumg\\\"\u003eAnshum Gupta\u003c\\/a\u003e in branch \'dev\\/trunk\'\u003cbr\\/\u003e\\n[ \u003ca href=\\\"https:\\/\\/svn.apache.org\\/r1693483\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttps:\\/\\/svn.apache.org\\/r1693483\u003c\\/a\u003e ]\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-6625\\\" title=\\\"Add interceptor API for outgoing calls through HttpSolrClient\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-6625\\\"\u003e\u003cdel\u003eSOLR-6625\u003c\\/del\u003e\u003c\\/a\u003e: Set HttpClientImpl in SolrTestCaseJ4 for tests\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_14648168_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14648168_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Jul\\/15 19:29\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-07-30T19:29:22+0000\'\u003e30\\/Jul\\/15 19:29\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Commit 1693483 from  Anshum Gupta  in branch \'dev\\/trunk\' \\n[  https:\\/\\/svn.apache.org\\/r1693483  ] \\n\\n   SOLR-6625  : Set HttpClientImpl in SolrTestCaseJ4 for tests              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14648171\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6625?focusedCommentId=14648171&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14648171\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_14648171_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14648171_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Jul\\/15 19:30\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-07-30T19:30:22+0000\'\u003e30\\/Jul\\/15 19:30\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eCommit 1693484 from \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=anshumg\\\" class=\\\"user-hover\\\" rel=\\\"anshumg\\\"\u003eAnshum Gupta\u003c\\/a\u003e in branch \'dev\\/branches\\/branch_5x\'\u003cbr\\/\u003e\\n[ \u003ca href=\\\"https:\\/\\/svn.apache.org\\/r1693484\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttps:\\/\\/svn.apache.org\\/r1693484\u003c\\/a\u003e ]\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-6625\\\" title=\\\"Add interceptor API for outgoing calls through HttpSolrClient\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-6625\\\"\u003e\u003cdel\u003eSOLR-6625\u003c\\/del\u003e\u003c\\/a\u003e: Set HttpClientImpl in SolrTestCaseJ4 for tests(merge from trunk)\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_14648171_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14648171_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Jul\\/15 19:30\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-07-30T19:30:22+0000\'\u003e30\\/Jul\\/15 19:30\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Commit 1693484 from  Anshum Gupta  in branch \'dev\\/branches\\/branch_5x\' \\n[  https:\\/\\/svn.apache.org\\/r1693484  ] \\n\\n   SOLR-6625  : Set HttpClientImpl in SolrTestCaseJ4 for tests(merge from trunk)              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14648172\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6625?focusedCommentId=14648172&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14648172\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"anshumg\\\" id=\\\"commentauthor_14648172_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=anshumg\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"anshumg\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Anshum Gupta\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14648172_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Jul\\/15 19:30\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-07-30T19:30:57+0000\'\u003e30\\/Jul\\/15 19:30\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI\'ve committed the patch as that would be required anyways. It doesn\'t fix the NPE issue though.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"anshumg\\\" id=\\\"commentauthor_14648172_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=anshumg\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"anshumg\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Anshum Gupta\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14648172_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Jul\\/15 19:30\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-07-30T19:30:57+0000\'\u003e30\\/Jul\\/15 19:30\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I\'ve committed the patch as that would be required anyways. It doesn\'t fix the NPE issue though.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14648259\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6625?focusedCommentId=14648259&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14648259\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ichattopadhyaya\\\" id=\\\"commentauthor_14648259_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ichattopadhyaya\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ichattopadhyaya\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ishan Chattopadhyaya\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14648259_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Jul\\/15 20:23\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-07-30T20:23:51+0000\'\u003e30\\/Jul\\/15 20:23\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eRemoving the interceptors that were added during the BasicHttpSolrClientTest. This was interfering with the other tests, viz. TestSolrCloudClientConnections.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ichattopadhyaya\\\" id=\\\"commentauthor_14648259_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ichattopadhyaya\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ichattopadhyaya\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ishan Chattopadhyaya\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14648259_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Jul\\/15 20:23\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-07-30T20:23:51+0000\'\u003e30\\/Jul\\/15 20:23\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Removing the interceptors that were added during the BasicHttpSolrClientTest. This was interfering with the other tests, viz. TestSolrCloudClientConnections.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14648280\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6625?focusedCommentId=14648280&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14648280\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"anshumg\\\" id=\\\"commentauthor_14648280_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=anshumg\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"anshumg\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Anshum Gupta\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14648280_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Jul\\/15 20:40\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-07-30T20:40:19+0000\'\u003e30\\/Jul\\/15 20:40\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThat looks like it should have been interfering and would solve the problem. I\'ll commit this.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"anshumg\\\" id=\\\"commentauthor_14648280_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=anshumg\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"anshumg\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Anshum Gupta\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14648280_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Jul\\/15 20:40\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-07-30T20:40:19+0000\'\u003e30\\/Jul\\/15 20:40\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    That looks like it should have been interfering and would solve the problem. I\'ll commit this.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14648288\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6625?focusedCommentId=14648288&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14648288\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_14648288_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14648288_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Jul\\/15 20:48\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-07-30T20:48:59+0000\'\u003e30\\/Jul\\/15 20:48\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eCommit 1693497 from \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=anshumg\\\" class=\\\"user-hover\\\" rel=\\\"anshumg\\\"\u003eAnshum Gupta\u003c\\/a\u003e in branch \'dev\\/trunk\'\u003cbr\\/\u003e\\n[ \u003ca href=\\\"https:\\/\\/svn.apache.org\\/r1693497\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttps:\\/\\/svn.apache.org\\/r1693497\u003c\\/a\u003e ]\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-6625\\\" title=\\\"Add interceptor API for outgoing calls through HttpSolrClient\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-6625\\\"\u003e\u003cdel\u003eSOLR-6625\u003c\\/del\u003e\u003c\\/a\u003e: Remove RequestInterceptor at the end of the test in BasicHttpSolrClientTest. It was interfering with other tests running the same JVM.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_14648288_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14648288_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Jul\\/15 20:48\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-07-30T20:48:59+0000\'\u003e30\\/Jul\\/15 20:48\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Commit 1693497 from  Anshum Gupta  in branch \'dev\\/trunk\' \\n[  https:\\/\\/svn.apache.org\\/r1693497  ] \\n\\n   SOLR-6625  : Remove RequestInterceptor at the end of the test in BasicHttpSolrClientTest. It was interfering with other tests running the same JVM.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14648289\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6625?focusedCommentId=14648289&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14648289\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_14648289_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14648289_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Jul\\/15 20:49\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-07-30T20:49:44+0000\'\u003e30\\/Jul\\/15 20:49\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eCommit 1693498 from \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=anshumg\\\" class=\\\"user-hover\\\" rel=\\\"anshumg\\\"\u003eAnshum Gupta\u003c\\/a\u003e in branch \'dev\\/branches\\/branch_5x\'\u003cbr\\/\u003e\\n[ \u003ca href=\\\"https:\\/\\/svn.apache.org\\/r1693498\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttps:\\/\\/svn.apache.org\\/r1693498\u003c\\/a\u003e ]\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-6625\\\" title=\\\"Add interceptor API for outgoing calls through HttpSolrClient\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-6625\\\"\u003e\u003cdel\u003eSOLR-6625\u003c\\/del\u003e\u003c\\/a\u003e: Remove RequestInterceptor at the end of the test in BasicHttpSolrClientTest. It was interfering with other tests running the same JVM.(merge from trunk)\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_14648289_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14648289_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Jul\\/15 20:49\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-07-30T20:49:44+0000\'\u003e30\\/Jul\\/15 20:49\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Commit 1693498 from  Anshum Gupta  in branch \'dev\\/branches\\/branch_5x\' \\n[  https:\\/\\/svn.apache.org\\/r1693498  ] \\n\\n   SOLR-6625  : Remove RequestInterceptor at the end of the test in BasicHttpSolrClientTest. It was interfering with other tests running the same JVM.(merge from trunk)              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14648332\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6625?focusedCommentId=14648332&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14648332\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"steve_rowe\\\" id=\\\"commentauthor_14648332_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=steve_rowe\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"steve_rowe\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Steve Rowe\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14648332_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Jul\\/15 21:24\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-07-30T21:24:07+0000\'\u003e30\\/Jul\\/15 21:24\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI tried all of the seeds my Jenkins found today and none of them reproduce for me on OS X after Anshum\'s r1693498 commit.\u003c\\/p\u003e\\n\\n\u003cp\u003eHere are the ones for trunk:\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"preformatted panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"preformattedContent panelContent\\\"\u003e\\n\u003cpre\u003eant test  -Dtestcase=TestCloudSolrClientConnections -Dtests.method=testCloudClientCanConnectAfterClusterComesUp -Dtests.seed=F852018ABA4ECDFF -Dtests.slow=true -Dtests.locale=nl -Dtests.timezone=Asia\\/Gaza -Dtests.asserts=true -Dtests.file.encoding=UTF-8\\nant test  -Dtestcase=TestCloudSolrClientConnections -Dtests.method=testCloudClientCanConnectAfterClusterComesUp -Dtests.seed=36C935176479F04C -Dtests.slow=true -Dtests.locale=ar_YE -Dtests.timezone=Australia\\/Adelaide -Dtests.asserts=true -Dtests.file.encoding=UTF-8\\nant test  -Dtestcase=TestCloudSolrClientConnections -Dtests.method=testCloudClientCanConnectAfterClusterComesUp -Dtests.seed=D555CA223513ED3F -Dtests.slow=true -Dtests.locale=tr -Dtests.timezone=Antarctica\\/Syowa -Dtests.asserts=true -Dtests.file.encoding=US-ASCII\\nant test  -Dtestcase=TestCloudSolrClientConnections -Dtests.method=testCloudClientCanConnectAfterClusterComesUp -Dtests.seed=C37B717A18417443 -Dtests.slow=true -Dtests.locale=bg_BG -Dtests.timezone=SystemV\\/HST10 -Dtests.asserts=true -Dtests.file.encoding=UTF-8\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003eFor branch_5x\\/Java8:\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"preformatted panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"preformattedContent panelContent\\\"\u003e\\n\u003cpre\u003eant test  -Dtestcase=TestCloudSolrClientConnections -Dtests.method=testCloudClientCanConnectAfterClusterComesUp -Dtests.seed=FC64970124605306 -Dtests.slow=true -Dtests.locale=ar_LY -Dtests.timezone=Asia\\/Vientiane -Dtests.asserts=true -Dtests.file.encoding=UTF-8\\nant test  -Dtestcase=TestCloudSolrClientConnections -Dtests.method=testCloudClientCanConnectAfterClusterComesUp -Dtests.seed=4A4BDF1F10B61D9 -Dtests.slow=true -Dtests.locale=hu_HU -Dtests.timezone=Pacific\\/Fiji -Dtests.asserts=true -Dtests.file.encoding=US-ASCII\\nant test  -Dtestcase=TestCloudSolrClientConnections -Dtests.method=testCloudClientCanConnectAfterClusterComesUp -Dtests.seed=E4714ED097B4D0A7 -Dtests.slow=true -Dtests.locale= -Dtests.timezone=Etc\\/GMT-5 -Dtests.asserts=true -Dtests.file.encoding=ISO-8859-1\\nant test  -Dtestcase=TestCloudSolrClientConnections -Dtests.method=testCloudClientCanConnectAfterClusterComesUp -Dtests.seed=E0C2EF677FA5EC03 -Dtests.slow=true -Dtests.locale=it_CH -Dtests.timezone=America\\/New_York -Dtests.asserts=true -Dtests.file.encoding=UTF-8\\nant test  -Dtestcase=TestCloudSolrClientConnections -Dtests.method=testCloudClientCanConnectAfterClusterComesUp -Dtests.seed=7F8305E670B947FE -Dtests.slow=true -Dtests.locale=fr_CH -Dtests.timezone=Europe\\/Skopje -Dtests.asserts=true -Dtests.file.encoding=ISO-8859-1\\nant test  -Dtestcase=TestCloudSolrClientConnections -Dtests.method=testCloudClientCanConnectAfterClusterComesUp -Dtests.seed=30D63D1BAD373514 -Dtests.slow=true -Dtests.locale=it -Dtests.timezone=America\\/Iqaluit -Dtests.asserts=true -Dtests.file.encoding=US-ASCII\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003eAnd for branch_5x\\/Java7:\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"preformatted panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"preformattedContent panelContent\\\"\u003e\\n\u003cpre\u003eant test  -Dtestcase=TestCloudSolrClientConnections -Dtests.method=testCloudClientCanConnectAfterClusterComesUp -Dtests.seed=98C4B653C6DE38C9 -Dtests.slow=true -Dtests.locale=it -Dtests.timezone=America\\/Havana -Dtests.asserts=true -Dtests.file.encoding=US-ASCII\\nant test  -Dtestcase=TestCloudSolrClientConnections -Dtests.method=testCloudClientCanConnectAfterClusterComesUp -Dtests.seed=27A47BFC57FF783D -Dtests.slow=true -Dtests.locale=en_SG -Dtests.timezone=Pacific\\/Chatham -Dtests.asserts=true -Dtests.file.encoding=UTF-8\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e  \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"steve_rowe\\\" id=\\\"commentauthor_14648332_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=steve_rowe\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"steve_rowe\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Steve Rowe\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14648332_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Jul\\/15 21:24\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-07-30T21:24:07+0000\'\u003e30\\/Jul\\/15 21:24\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I tried all of the seeds my Jenkins found today and none of them reproduce for me on OS X after Anshum\'s r1693498 commit. \\n\\n Here are the ones for trunk: \\n\\n  \\n ant test  -Dtestcase=TestCloudSolrClientConnections -Dtests.method=testCloudClientCanConnectAfterClusterComesUp -Dtests.seed=F852018ABA4ECDFF -Dtests.slow=true -Dtests.locale=nl -Dtests.timezone=Asia\\/Gaza -Dtests.asserts=true -Dtests.file.encoding=UTF-8\\nant test  -Dtestcase=TestCloudSolrClientConnections -Dtests.method=testCloudClientCanConnectAfterClusterComesUp -Dtests.seed=36C935176479F04C -Dtests.slow=true -Dtests.locale=ar_YE -Dtests.timezone=Australia\\/Adelaide -Dtests.asserts=true -Dtests.file.encoding=UTF-8\\nant test  -Dtestcase=TestCloudSolrClientConnections -Dtests.method=testCloudClientCanConnectAfterClusterComesUp -Dtests.seed=D555CA223513ED3F -Dtests.slow=true -Dtests.locale=tr -Dtests.timezone=Antarctica\\/Syowa -Dtests.asserts=true -Dtests.file.encoding=US-ASCII\\nant test  -Dtestcase=TestCloudSolrClientConnections -Dtests.method=testCloudClientCanConnectAfterClusterComesUp -Dtests.seed=C37B717A18417443 -Dtests.slow=true -Dtests.locale=bg_BG -Dtests.timezone=SystemV\\/HST10 -Dtests.asserts=true -Dtests.file.encoding=UTF-8\\n \\n  \\n\\n For branch_5x\\/Java8: \\n\\n  \\n ant test  -Dtestcase=TestCloudSolrClientConnections -Dtests.method=testCloudClientCanConnectAfterClusterComesUp -Dtests.seed=FC64970124605306 -Dtests.slow=true -Dtests.locale=ar_LY -Dtests.timezone=Asia\\/Vientiane -Dtests.asserts=true -Dtests.file.encoding=UTF-8\\nant test  -Dtestcase=TestCloudSolrClientConnections -Dtests.method=testCloudClientCanConnectAfterClusterComesUp -Dtests.seed=4A4BDF1F10B61D9 -Dtests.slow=true -Dtests.locale=hu_HU -Dtests.timezone=Pacific\\/Fiji -Dtests.asserts=true -Dtests.file.encoding=US-ASCII\\nant test  -Dtestcase=TestCloudSolrClientConnections -Dtests.method=testCloudClientCanConnectAfterClusterComesUp -Dtests.seed=E4714ED097B4D0A7 -Dtests.slow=true -Dtests.locale= -Dtests.timezone=Etc\\/GMT-5 -Dtests.asserts=true -Dtests.file.encoding=ISO-8859-1\\nant test  -Dtestcase=TestCloudSolrClientConnections -Dtests.method=testCloudClientCanConnectAfterClusterComesUp -Dtests.seed=E0C2EF677FA5EC03 -Dtests.slow=true -Dtests.locale=it_CH -Dtests.timezone=America\\/New_York -Dtests.asserts=true -Dtests.file.encoding=UTF-8\\nant test  -Dtestcase=TestCloudSolrClientConnections -Dtests.method=testCloudClientCanConnectAfterClusterComesUp -Dtests.seed=7F8305E670B947FE -Dtests.slow=true -Dtests.locale=fr_CH -Dtests.timezone=Europe\\/Skopje -Dtests.asserts=true -Dtests.file.encoding=ISO-8859-1\\nant test  -Dtestcase=TestCloudSolrClientConnections -Dtests.method=testCloudClientCanConnectAfterClusterComesUp -Dtests.seed=30D63D1BAD373514 -Dtests.slow=true -Dtests.locale=it -Dtests.timezone=America\\/Iqaluit -Dtests.asserts=true -Dtests.file.encoding=US-ASCII\\n \\n  \\n\\n And for branch_5x\\/Java7: \\n\\n  \\n ant test  -Dtestcase=TestCloudSolrClientConnections -Dtests.method=testCloudClientCanConnectAfterClusterComesUp -Dtests.seed=98C4B653C6DE38C9 -Dtests.slow=true -Dtests.locale=it -Dtests.timezone=America\\/Havana -Dtests.asserts=true -Dtests.file.encoding=US-ASCII\\nant test  -Dtestcase=TestCloudSolrClientConnections -Dtests.method=testCloudClientCanConnectAfterClusterComesUp -Dtests.seed=27A47BFC57FF783D -Dtests.slow=true -Dtests.locale=en_SG -Dtests.timezone=Pacific\\/Chatham -Dtests.asserts=true -Dtests.file.encoding=UTF-8\\n \\n                \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14648345\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6625?focusedCommentId=14648345&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14648345\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"anshumg\\\" id=\\\"commentauthor_14648345_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=anshumg\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"anshumg\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Anshum Gupta\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14648345_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Jul\\/15 21:34\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-07-30T21:34:15+0000\'\u003e30\\/Jul\\/15 21:34\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThanks for confirming that Steve.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"anshumg\\\" id=\\\"commentauthor_14648345_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=anshumg\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"anshumg\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Anshum Gupta\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14648345_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Jul\\/15 21:34\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-07-30T21:34:15+0000\'\u003e30\\/Jul\\/15 21:34\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Thanks for confirming that Steve.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14650283\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6625?focusedCommentId=14650283&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14650283\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yseeley@gmail.com\\\" id=\\\"commentauthor_14650283_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yseeley%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yseeley@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yonik Seeley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14650283_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Aug\\/15 11:46\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-08-01T11:46:45+0000\'\u003e01\\/Aug\\/15 11:46\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Yonik Seeley - 01\\/Aug\\/15 11:53\\\"\u003eedited\u003c\\/span\u003e \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI haven\'t checked 5x yet, but I\'m having issues on trunk:\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e\\/opt\\/code\\/lusolr_clean2\\/solr$ bin\\/solr start\\nWaiting to see Solr listening on port 8983 [|]  \\nStarted Solr server on port 8983 (pid=69801). Happy searching!\\n\\n\\/opt\\/code\\/lusolr_clean2\\/solr$ bin\\/solr create -c demo\\nERROR: create failed due to: A SolrHttpContext object must be passed in as context. Context: {http.request=org.apache.http.impl.client.RequestWrapper@4e1d422d, http.request-config=[expectContinueEnabled=\u003cspan class=\\\"code-keyword\\\"\u003efalse\u003c\\/span\u003e, proxy=\u003cspan class=\\\"code-keyword\\\"\u003enull\u003c\\/span\u003e, localAddress=\u003cspan class=\\\"code-keyword\\\"\u003enull\u003c\\/span\u003e, cookieSpec=\u003cspan class=\\\"code-keyword\\\"\u003enull\u003c\\/span\u003e, redirectsEnabled=\u003cspan class=\\\"code-keyword\\\"\u003efalse\u003c\\/span\u003e, relativeRedirectsAllowed=\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e, maxRedirects=50, circularRedirectsAllowed=\u003cspan class=\\\"code-keyword\\\"\u003efalse\u003c\\/span\u003e, authenticationEnabled=\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e, targetPreferredAuthSchemes=\u003cspan class=\\\"code-keyword\\\"\u003enull\u003c\\/span\u003e, proxyPreferredAuthSchemes=\u003cspan class=\\\"code-keyword\\\"\u003enull\u003c\\/span\u003e, connectionRequestTimeout=0, connectTimeout=0, socketTimeout=0, decompressionEnabled=\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e], http.auth.proxy-scope=state:UNCHALLENGED;, http.auth.credentials-provider={}, http.scheme-registry=org.apache.http.conn.scheme.SchemeRegistry@66480dd7, http.cookie-spec=best-match, http.cookie-store=[], http.connection=org.apache.http.impl.conn.ManagedClientConnectionImpl@52a86356, http.auth.target-scope=state:UNCHALLENGED;, http.cookiespec-registry=org.apache.http.cookie.CookieSpecRegistry@5ce81285, http.target_host=http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/localhost:8983, http.route={}-&gt;http:\\/\\/localhost:8983, http.cookie-origin=[localhost:8983\\/solr\\/admin\\/info\\/system], http.authscheme-registry=org.apache.http.auth.AuthSchemeRegistry@78c03f1f}\u003c\\/span\u003e\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003eedit: now confirmed that I\'m having this issue on 5x as well\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"yseeley@gmail.com\\\" id=\\\"commentauthor_14650283_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=yseeley%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"yseeley@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Yonik Seeley\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14650283_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Aug\\/15 11:46\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-08-01T11:46:45+0000\'\u003e01\\/Aug\\/15 11:46\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Yonik Seeley - 01\\/Aug\\/15 11:53\\\"\u003eedited\u003c\\/span\u003e                   I haven\'t checked 5x yet, but I\'m having issues on trunk: \\n\\n  \\n \\/opt\\/code\\/lusolr_clean2\\/solr$ bin\\/solr start\\nWaiting to see Solr listening on port 8983 [|]  \\nStarted Solr server on port 8983 (pid=69801). Happy searching!\\n\\n\\/opt\\/code\\/lusolr_clean2\\/solr$ bin\\/solr create -c demo\\nERROR: create failed due to: A SolrHttpContext object must be passed in as context. Context: {http.request=org.apache.http.impl.client.RequestWrapper@4e1d422d, http.request-config=[expectContinueEnabled= false , proxy= null , localAddress= null , cookieSpec= null , redirectsEnabled= false , relativeRedirectsAllowed= true , maxRedirects=50, circularRedirectsAllowed= false , authenticationEnabled= true , targetPreferredAuthSchemes= null , proxyPreferredAuthSchemes= null , connectionRequestTimeout=0, connectTimeout=0, socketTimeout=0, decompressionEnabled= true ], http.auth.proxy-scope=state:UNCHALLENGED;, http.auth.credentials-provider={}, http.scheme-registry=org.apache.http.conn.scheme.SchemeRegistry@66480dd7, http.cookie-spec=best-match, http.cookie-store=[], http.connection=org.apache.http.impl.conn.ManagedClientConnectionImpl@52a86356, http.auth.target-scope=state:UNCHALLENGED;, http.cookiespec-registry=org.apache.http.cookie.CookieSpecRegistry@5ce81285, http.target_host=http: \\/\\/localhost:8983, http.route={}-&gt;http:\\/\\/localhost:8983, http.cookie-origin=[localhost:8983\\/solr\\/admin\\/info\\/system], http.authscheme-registry=org.apache.http.auth.AuthSchemeRegistry@78c03f1f} \\n \\n  \\n\\n edit: now confirmed that I\'m having this issue on 5x as well              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14650294\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6625?focusedCommentId=14650294&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14650294\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ichattopadhyaya\\\" id=\\\"commentauthor_14650294_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ichattopadhyaya\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ichattopadhyaya\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ishan Chattopadhyaya\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14650294_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Aug\\/15 12:03\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-08-01T12:03:33+0000\'\u003e01\\/Aug\\/15 12:03\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Ishan Chattopadhyaya - 01\\/Aug\\/15 13:08\\\"\u003eedited\u003c\\/span\u003e \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThanks for pointing out \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=yonik%40apache.org\\\" class=\\\"user-hover\\\" rel=\\\"yonik@apache.org\\\"\u003eYonik Seeley\u003c\\/a\u003e. Here\'s a patch that should fix this. With no tests catching it, I overlooked; apologies. I\'ll run the full tests and also manual tests with the bin\\/solr scripts after this patch and report back if I see any issues.\u003c\\/p\u003e\\n\\n\u003cp\u003eThe httpClient for SDF was created as a class level member, before the init() was called.\u003c\\/p\u003e\\n\\n\u003cp\u003eEdit: My setup was stuck downloading restlet; now that I\'ve copied it from another server, I realize the issue remains. Looking into it...\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ichattopadhyaya\\\" id=\\\"commentauthor_14650294_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ichattopadhyaya\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ichattopadhyaya\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ishan Chattopadhyaya\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14650294_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Aug\\/15 12:03\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-08-01T12:03:33+0000\'\u003e01\\/Aug\\/15 12:03\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Ishan Chattopadhyaya - 01\\/Aug\\/15 13:08\\\"\u003eedited\u003c\\/span\u003e                   Thanks for pointing out  Yonik Seeley . Here\'s a patch that should fix this. With no tests catching it, I overlooked; apologies. I\'ll run the full tests and also manual tests with the bin\\/solr scripts after this patch and report back if I see any issues. \\n\\n The httpClient for SDF was created as a class level member, before the init() was called. \\n\\n Edit: My setup was stuck downloading restlet; now that I\'ve copied it from another server, I realize the issue remains. Looking into it...              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14650307\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6625?focusedCommentId=14650307&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14650307\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ichattopadhyaya\\\" id=\\\"commentauthor_14650307_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ichattopadhyaya\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ichattopadhyaya\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ishan Chattopadhyaya\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14650307_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Aug\\/15 13:15\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-08-01T13:15:29+0000\'\u003e01\\/Aug\\/15 13:15\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThis patch fixes the bin\\/solr (SolrCLI) issue.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ichattopadhyaya\\\" id=\\\"commentauthor_14650307_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ichattopadhyaya\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ichattopadhyaya\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ishan Chattopadhyaya\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14650307_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Aug\\/15 13:15\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-08-01T13:15:29+0000\'\u003e01\\/Aug\\/15 13:15\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    This patch fixes the bin\\/solr (SolrCLI) issue.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14650375\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6625?focusedCommentId=14650375&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14650375\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"shalinmangar\\\" id=\\\"commentauthor_14650375_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=shalinmangar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"shalinmangar\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shalin Shekhar Mangar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14650375_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Aug\\/15 15:00\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-08-01T15:00:35+0000\'\u003e01\\/Aug\\/15 15:00\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cblockquote\u003e\u003cp\u003eHere\'s a patch that should fix this. With no tests catching it, I overlooked; apologies.\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003eCan we add a test to catch this stuff?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"shalinmangar\\\" id=\\\"commentauthor_14650375_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=shalinmangar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"shalinmangar\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shalin Shekhar Mangar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14650375_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Aug\\/15 15:00\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-08-01T15:00:35+0000\'\u003e01\\/Aug\\/15 15:00\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     Here\'s a patch that should fix this. With no tests catching it, I overlooked; apologies.  \\n\\n Can we add a test to catch this stuff?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14651961\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6625?focusedCommentId=14651961&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14651961\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ichattopadhyaya\\\" id=\\\"commentauthor_14651961_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ichattopadhyaya\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ichattopadhyaya\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ishan Chattopadhyaya\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14651961_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Aug\\/15 15:06\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-08-03T15:06:59+0000\'\u003e03\\/Aug\\/15 15:06\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Ishan Chattopadhyaya - 03\\/Aug\\/15 15:09\\\"\u003eedited\u003c\\/span\u003e \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eClose to 5.3, I am feeling unsure of what else is broken. Since \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-7692\\\" title=\\\"Implement BasicAuth based impl for the new Authentication\\/Authorization APIs\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-7692\\\"\u003e\u003cdel\u003eSOLR-7692\u003c\\/del\u003e\u003c\\/a\u003e can use the serverside request object (SolrRequestObject) directly from SolrRequestInfo, I want to revert the SolrHttpContext and the SolrHttpClient parts from this issue. We\'ll still continue to have the HttpRequestInterceptor support and the tests.\u003c\\/p\u003e\\n\\n\u003cp\u003eHere\'s a patch to do the same (\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-6625\\\" title=\\\"Add interceptor API for outgoing calls through HttpSolrClient\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-6625\\\"\u003e\u003cdel\u003eSOLR-6625\u003c\\/del\u003e\u003c\\/a\u003e-revert.patch). The tests are passing for me.\u003c\\/p\u003e\\n\\n\u003cp\u003eIf, at a later point, we need client side request object (SolrRequest), we can bring back these changes with more tests. Right now, that seems not necessary.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"ichattopadhyaya\\\" id=\\\"commentauthor_14651961_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=ichattopadhyaya\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"ichattopadhyaya\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ishan Chattopadhyaya\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14651961_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Aug\\/15 15:06\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-08-03T15:06:59+0000\'\u003e03\\/Aug\\/15 15:06\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Ishan Chattopadhyaya - 03\\/Aug\\/15 15:09\\\"\u003eedited\u003c\\/span\u003e                   Close to 5.3, I am feeling unsure of what else is broken. Since   SOLR-7692   can use the serverside request object (SolrRequestObject) directly from SolrRequestInfo, I want to revert the SolrHttpContext and the SolrHttpClient parts from this issue. We\'ll still continue to have the HttpRequestInterceptor support and the tests. \\n\\n Here\'s a patch to do the same (  SOLR-6625  -revert.patch). The tests are passing for me. \\n\\n If, at a later point, we need client side request object (SolrRequest), we can bring back these changes with more tests. Right now, that seems not necessary.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14652057\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6625?focusedCommentId=14652057&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14652057\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_14652057_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14652057_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Aug\\/15 16:23\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-08-03T16:23:02+0000\'\u003e03\\/Aug\\/15 16:23\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eCommit 1693931 from \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=noble.paul\\\" class=\\\"user-hover\\\" rel=\\\"noble.paul\\\"\u003eNoble Paul\u003c\\/a\u003e in branch \'dev\\/trunk\'\u003cbr\\/\u003e\\n[ \u003ca href=\\\"https:\\/\\/svn.apache.org\\/r1693931\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttps:\\/\\/svn.apache.org\\/r1693931\u003c\\/a\u003e ]\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-6625\\\" title=\\\"Add interceptor API for outgoing calls through HttpSolrClient\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-6625\\\"\u003e\u003cdel\u003eSOLR-6625\u003c\\/del\u003e\u003c\\/a\u003e: Remove the HttpContext which provides our request\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_14652057_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14652057_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Aug\\/15 16:23\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-08-03T16:23:02+0000\'\u003e03\\/Aug\\/15 16:23\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Commit 1693931 from  Noble Paul  in branch \'dev\\/trunk\' \\n[  https:\\/\\/svn.apache.org\\/r1693931  ] \\n\\n   SOLR-6625  : Remove the HttpContext which provides our request              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14652274\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6625?focusedCommentId=14652274&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14652274\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_14652274_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14652274_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Aug\\/15 18:58\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-08-03T18:58:01+0000\'\u003e03\\/Aug\\/15 18:58\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eCommit 1693955 from \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=noble.paul\\\" class=\\\"user-hover\\\" rel=\\\"noble.paul\\\"\u003eNoble Paul\u003c\\/a\u003e in branch \'dev\\/branches\\/branch_5x\'\u003cbr\\/\u003e\\n[ \u003ca href=\\\"https:\\/\\/svn.apache.org\\/r1693955\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttps:\\/\\/svn.apache.org\\/r1693955\u003c\\/a\u003e ]\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-6625\\\" title=\\\"Add interceptor API for outgoing calls through HttpSolrClient\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-6625\\\"\u003e\u003cdel\u003eSOLR-6625\u003c\\/del\u003e\u003c\\/a\u003e: Remove the HttpContext which provides our request\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_14652274_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14652274_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Aug\\/15 18:58\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-08-03T18:58:01+0000\'\u003e03\\/Aug\\/15 18:58\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Commit 1693955 from  Noble Paul  in branch \'dev\\/branches\\/branch_5x\' \\n[  https:\\/\\/svn.apache.org\\/r1693955  ] \\n\\n   SOLR-6625  : Remove the HttpContext which provides our request              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14709449\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6625?focusedCommentId=14709449&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14709449\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"shalinmangar\\\" id=\\\"commentauthor_14709449_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=shalinmangar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"shalinmangar\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shalin Shekhar Mangar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14709449_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'24\\/Aug\\/15 15:29\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-08-24T15:29:21+0000\'\u003e24\\/Aug\\/15 15:29\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eIs this feature complete? Can we close this issue?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"shalinmangar\\\" id=\\\"commentauthor_14709449_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=shalinmangar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"shalinmangar\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shalin Shekhar Mangar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14709449_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'24\\/Aug\\/15 15:29\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-08-24T15:29:21+0000\'\u003e24\\/Aug\\/15 15:29\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Is this feature complete? Can we close this issue?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-14713304\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-6625?focusedCommentId=14713304&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14713304\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"shalinmangar\\\" id=\\\"commentauthor_14713304_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=shalinmangar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"shalinmangar\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shalin Shekhar Mangar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14713304_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'26\\/Aug\\/15 13:06\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-08-26T13:06:22+0000\'\u003e26\\/Aug\\/15 13:06\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eBulk close for 5.3.0 release\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"shalinmangar\\\" id=\\\"commentauthor_14713304_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=shalinmangar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"shalinmangar\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Shalin Shekhar Mangar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_14713304_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'26\\/Aug\\/15 13:06\'\u003e\u003ctime class=\'livestamp\' datetime=\'2015-08-26T13:06:22+0000\'\u003e26\\/Aug\\/15 13:06\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Bulk close for 5.3.0 release              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\"";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["scope-filter-data"]="{\"createScopeActions\":[],\"scopes\":[]}";
WRM._unparsedData["sidebar-collapsed-by-default"]="true";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:can-manage"]="false";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:with-icons"]="false";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:shortcuts"]="[]";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:project-id"]="12310230";
WRM._unparsedData["sidebar-id"]="\"\u003cdiv class=\\\"aui-sidebar  projects-sidebar sidebar-pending\\\" \u003e\u003cdiv class=\\\"aui-sidebar-wrapper\\\"\u003e\u003cdiv class=\\\"aui-sidebar-body\\\"\u003e\u003cheader class=\\\"aui-page-header\\\"\u003e\u003cdiv class=\\\"aui-page-header-inner\\\"\u003e\u003cdiv class=\\\"aui-page-header-image\\\"\u003e\u003ca href=\\\"\\/jira\\/projects\\/SOLR\\/summary\\\" title=\\\"Solr\\\" class=\\\"jira-project-avatar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-large aui-avatar-project\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"\\/jira\\/secure\\/projectavatar?pid=12310230&amp;avatarId=22151\\\" alt=\\\"Solr\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e\u003cimg src=\\\"data:image\\/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI\\/Pg0KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE4LjEuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPg0KPHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgdmlld0JveD0iMCAwIDMwMCAzMDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMwMCAzMDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxnIGlkPSJMYXllcl8yIj4NCgk8cGF0aCBzdHlsZT0iZmlsbDojRjc5MjMyOyIgZD0iTTE1MCwwQzY2LjY2NywwLDAsNjYuNjY3LDAsMTUwczY2LjY2NywxNTAsMTUwLDE1MHMxNTAtNjYuNjY3LDE1MC0xNTBTMjMzLjMzMywwLDE1MCwweg0KCQkgTTEzNi42NjcsMTc4LjMzM0wxMjUsMTkwbC00MS42NjctNDBMOTUsMTM4LjMzM2wzMC0zMEwxMzYuNjY3LDEyMGwtMzAsMzBMMTM2LjY2NywxNzguMzMzeiBNMjA1LDE2MS42NjdsLTMwLDMwTDE2My4zMzMsMTgwDQoJCWwzMC0zMGwtMzAtMzBMMTc1LDEwOC4zMzNMMjE2LjY2NywxNTBMMjA1LDE2MS42Njd6Ii8+DQo8L2c+DQo8Zz4NCgk8cG9seWdvbiBzdHlsZT0iZmlsbDojRkZGRkZGOyIgcG9pbnRzPSIxNzUsMTkxLjY2NyAyMDUsMTYxLjY2NyAyMTYuNjY3LDE1MCAxNzUsMTA4LjMzMyAxNjMuMzMzLDEyMCAxOTMuMzMzLDE1MCAxNjMuMzMzLDE4MCAJIi8+DQoJPHBvbHlnb24gc3R5bGU9ImZpbGw6I0ZGRkZGRjsiIHBvaW50cz0iMTI1LDEwOC4zMzMgOTUsMTM4LjMzMyA4My4zMzMsMTUwIDEyNSwxOTAgMTM2LjY2NywxNzguMzMzIDEwNi42NjcsMTUwIDEzNi42NjcsMTIwIAkiLz4NCjwvZz4NCjwvc3ZnPg0K\\\" alt=\\\"Icon indicating the project type\\\" class=\\\"jira-project-avatar-icon\\\" \\/\u003e\u003c\\/a\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-image --\u003e\u003cdiv class=\\\"aui-page-header-main\\\"\u003e\u003ch1\u003e\u003cdiv class=\\\"aui-group aui-group-split\\\"\u003e\u003cdiv class=\\\"aui-item project-title\\\"\u003e\u003ca href=\\\"\\/jira\\/projects\\/SOLR\\/summary\\\" title=\\\"Solr\\\"\u003eSolr\u003c\\/a\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/h1\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-main --\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-inner --\u003e\u003c\\/header\u003e\u003c!-- .aui-page-header --\u003e\u003cnav class=\\\"aui-navgroup aui-navgroup-vertical\\\"\u003e\u003cdiv class=\\\"aui-navgroup-inner sidebar-content-container\\\"\u003e\u003cdiv class=\\\"aui-sidebar-group aui-sidebar-group-tier-one\\\" data-id=\\\"sidebar-navigation-panel\\\"\u003e\u003cul class=\\\"aui-nav\\\"\u003e\u003cli class=\\\"aui-nav-selected\\\" \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/SOLR\\/issues\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-issue-navigator:sidebar-issue-navigator\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large icon-sidebar-issues\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Issues\\\"\u003eIssues\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003cli  \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/SOLR?selectedItem=com.atlassian.jira.jira-projects-plugin:report-page\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-plugin:report-page\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large agile-icon-report\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Reports\\\"\u003eReports\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003cli  \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/SOLR?selectedItem=com.atlassian.jira.jira-projects-plugin:components-page\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-plugin:components-page\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large icon-sidebar-components\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Components\\\"\u003eComponents\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003c\\/ul\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/nav\u003e\u003c\\/div\u003e\u003cdiv class=\\\"aui-sidebar-footer\\\"\u003e\u003ca class=\\\"aui-button aui-button-subtle aui-sidebar-toggle aui-sidebar-footer-tipsy\\\" data-tooltip=\\\"Expand sidebar ( [ )\\\" href=\\\"#\\\"\u003e\u003cspan class=\\\"aui-icon aui-icon-small\\\"\u003e\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/div\u003e\"";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:bigpipe-init/jira.webresources:bigpipe-init.js" data-wrm-key="jira.webresources:bigpipe-init" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <form id="jira_request_timing_info" class="dont-default-focus"> 
   <fieldset class="parameters hidden"> 
    <input type="hidden" title="jira.request.start.millis" value="1516223394104"> 
    <input type="hidden" title="jira.request.server.time" value="1077"> 
    <input type="hidden" title="jira.request.id" value="1269x8416806x24"> 
    <input type="hidden" title="jira.session.expiry.time" value="-"> 
    <input type="hidden" title="jira.session.expiry.in.mins" value="-"> 
    <input id="jiraConcurrentRequests" type="hidden" name="jira.request.concurrent.requests" value="5"> 
    <input type="hidden" title="db.reads.time.in.ms" value="217"> 
    <input type="hidden" title="db.conns.time.in.ms" value="235"> 
   </fieldset> 
  </form> 
  <!--
	                 REQUEST ID : 1269x8416806x24
	          REQUEST TIMESTAMP : [17/Jan/2018:21:09:54 +0000]
	               REQUEST TIME : 1.0770
	                 ASESSIONID : -
	        CONCURRENT REQUESTS : 5

	                      db.reads : OpSnapshot{name='db.reads', invocationCount=29, elapsedTotal=217211037, elapsedMin=822392, elapsedMax=162892014, resultSetSize=0, cpuTotal=0, cpuMin=0, cpuMax=0}
	                      db.conns : OpSnapshot{name='db.conns', invocationCount=33, elapsedTotal=235320019, elapsedMin=918811, elapsedMax=164332845, resultSetSize=0, cpuTotal=0, cpuMin=0, cpuMax=0}
-->   
 </body>
</html>