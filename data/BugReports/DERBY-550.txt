<!doctype html>
<html lang="en">
 <head> 
  <meta charset="utf-8"> 
  <meta http-equiv="X-UA-Compatible" content="IE=Edge"> 
  <meta name="application-name" content="JIRA" data-name="jira" data-version="7.6.3">
  <meta name="ajs-viewissue-use-history-api" content="false"> 
  <meta name="ajs-jira-base-url" content="https://issues.apache.org/jira"> 
  <meta name="ajs-serverRenderedViewIssue" content="true"> 
  <meta name="ajs-dev-mode" content="false"> 
  <meta name="ajs-context-path" content="/jira"> 
  <meta name="ajs-version-number" content="7.6.3"> 
  <meta name="ajs-build-number" content="76005"> 
  <meta name="ajs-is-beta" content="false"> 
  <meta name="ajs-is-rc" content="false"> 
  <meta name="ajs-is-snapshot" content="false"> 
  <meta name="ajs-is-milestone" content="false"> 
  <meta name="ajs-remote-user" content=""> 
  <meta name="ajs-remote-user-fullname" content=""> 
  <meta name="ajs-user-locale" content="en_UK"> 
  <meta name="ajs-user-locale-group-separator" content=","> 
  <meta name="ajs-app-title" content="ASF JIRA"> 
  <meta name="ajs-keyboard-shortcuts-enabled" content="true"> 
  <meta name="ajs-keyboard-accesskey-modifier" content="Ctrl+Alt"> 
  <meta name="ajs-enabled-dark-features" content="[&quot;com.atlassian.jira.agile.darkfeature.editable.detailsview&quot;,&quot;nps.survey.inline.dialog&quot;,&quot;com.atlassian.jira.agile.darkfeature.edit.closed.sprint.enabled&quot;,&quot;jira.plugin.devstatus.phasetwo&quot;,&quot;jira.frother.reporter.field&quot;,&quot;atlassian.rest.xsrf.legacy.enabled&quot;,&quot;jira.issue.status.lozenge&quot;,&quot;com.atlassian.jira.config.BIG_PIPE&quot;,&quot;com.atlassian.jira.projects.issuenavigator&quot;,&quot;com.atlassian.jira.config.PDL&quot;,&quot;jira.plugin.devstatus.phasetwo.enabled&quot;,&quot;atlassian.aui.raphael.disabled&quot;,&quot;app-switcher.new&quot;,&quot;frother.assignee.field&quot;,&quot;com.atlassian.jira.projects.ProjectCentricNavigation.Switch&quot;,&quot;sd.internal.base.off.thread.on.completion.events.enabled&quot;,&quot;jira.onboarding.cyoa&quot;,&quot;com.atlassian.jira.agile.darkfeature.kanplan.enabled&quot;,&quot;sd.slavalue.record.updated.date.enabled&quot;,&quot;com.atlassian.jira.config.ProjectConfig.MENU&quot;,&quot;com.atlassian.jira.projects.sidebar.DEFER_RESOURCES&quot;,&quot;com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions.enabled&quot;,&quot;com.atlassian.jira.agile.darkfeature.sprint.goal.enabled&quot;,&quot;jira.zdu.admin-updates-ui&quot;,&quot;jira.zdu.jmx-monitoring&quot;,&quot;sd.sla.improved.rendering.enabled&quot;,&quot;sd.canned.responses.enabled&quot;,&quot;sd.new.settings.sidebar.location.disabled&quot;,&quot;jira.zdu.cluster-upgrade-state&quot;,&quot;com.atlassian.jira.agile.darkfeature.splitissue&quot;,&quot;com.atlassian.jira.config.CoreFeatures.LICENSE_ROLES_ENABLED&quot;,&quot;com.atlassian.feedback.feedback-button-move-to-header-enable&quot;,&quot;jira.export.csv.enabled&quot;]"> 
  <meta name="ajs-in-admin-mode" content="false"> 
  <meta name="ajs-is-sysadmin" content="false"> 
  <meta name="ajs-is-admin" content="false"> 
  <meta name="ajs-outgoing-mail-enabled" content="true"> 
  <meta name="ajs-date-relativize" content="true"> 
  <meta name="ajs-date-time" content="HH:mm"> 
  <meta name="ajs-date-day" content="EEEE HH:mm"> 
  <meta name="ajs-date-dmy" content="dd/MMM/yy"> 
  <meta name="ajs-date-complete" content="dd/MMM/yy HH:mm"> 
  <script type="text/javascript">var AJS=AJS||{};AJS.debug=true;</script> 
  <meta id="atlassian-token" name="atlassian-token" content="A5KQ-2QAV-T4JA-FDED|5907f8f104e05014bcbbdb7e8cab691c2da23860|lout"> 
  <link rel="shortcut icon" href="/jira/s/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/_/favicon.ico"> 
  <!--[if IE]><![endif]--> 
  <script type="text/javascript">
    (function() {
        var contextPath = '/jira';
        var eventBuffer = [];

        function printDeprecatedMsg() {
            if (console && console.warn) {
                console.warn('DEPRECATED JS - contextPath global variable has been deprecated since 7.4.0. Use `wrm/context-path` module instead.');
            }
        }

        function sendEvent(analytics, postfix) {
            analytics.send({
                name: 'js.globals.contextPath.' + postfix
            });
        }

        function sendDeprecatedEvent(postfix) {
            try {
                var analytics = require('jira/analytics');
                if (eventBuffer.length) {
                    eventBuffer.forEach(function(value) {
                        sendEvent(analytics, value);
                    });
                    eventBuffer = [];
                }

                if (postfix) {
                    sendEvent(analytics, postfix);
                }
            } catch(ex) {
                eventBuffer.push(postfix);
                setTimeout(sendDeprecatedEvent, 1000);
            }
        }

        Object.defineProperty(window, 'contextPath', {
            get: function() {
                printDeprecatedMsg();
                sendDeprecatedEvent('get');
                return contextPath;
            },
            set: function(value) {
                printDeprecatedMsg();
                sendDeprecatedEvent('set');
                contextPath = value;
            }
        });
    })();

</script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["com.atlassian.plugins.atlassian-plugins-webresource-plugin:context-path.context-path"]="\"/jira\"";
WRM._unparsedData["jira.webresources:feature-flags.feature-flag-data"]="{\"enabled-feature-keys\":[\"com.atlassian.jira.agile.darkfeature.editable.detailsview\",\"nps.survey.inline.dialog\",\"com.atlassian.jira.agile.darkfeature.edit.closed.sprint.enabled\",\"jira.plugin.devstatus.phasetwo\",\"jira.frother.reporter.field\",\"atlassian.rest.xsrf.legacy.enabled\",\"jira.issue.status.lozenge\",\"com.atlassian.jira.config.BIG_PIPE\",\"com.atlassian.jira.projects.issuenavigator\",\"com.atlassian.jira.config.PDL\",\"jira.plugin.devstatus.phasetwo.enabled\",\"atlassian.aui.raphael.disabled\",\"app-switcher.new\",\"frother.assignee.field\",\"com.atlassian.jira.projects.ProjectCentricNavigation.Switch\",\"sd.internal.base.off.thread.on.completion.events.enabled\",\"jira.onboarding.cyoa\",\"com.atlassian.jira.agile.darkfeature.kanplan.enabled\",\"sd.slavalue.record.updated.date.enabled\",\"com.atlassian.jira.config.ProjectConfig.MENU\",\"com.atlassian.jira.projects.sidebar.DEFER_RESOURCES\",\"com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions.enabled\",\"com.atlassian.jira.agile.darkfeature.sprint.goal.enabled\",\"jira.zdu.admin-updates-ui\",\"jira.zdu.jmx-monitoring\",\"sd.sla.improved.rendering.enabled\",\"sd.canned.responses.enabled\",\"sd.new.settings.sidebar.location.disabled\",\"jira.zdu.cluster-upgrade-state\",\"com.atlassian.jira.agile.darkfeature.splitissue\",\"com.atlassian.jira.config.CoreFeatures.LICENSE_ROLES_ENABLED\",\"com.atlassian.feedback.feedback-button-move-to-header-enable\",\"jira.export.csv.enabled\"],\"feature-flag-states\":{\"com.atlassian.jira.agile.darkfeature.kanplan\":false,\"sd.internal.base.off.thread.on.completion.events\":false,\"jira.instrumentation.laas\":false,\"com.atlassian.jira.agile.darkfeature.edit.closed.sprint\":false,\"com.atlassian.jira.issuetable.draggable\":true,\"jira.create.linked.issue\":true,\"com.atlassian.jira.agile.darkfeature.sprint.goal\":false,\"jira.sal.host.connect.accessor.existing.transaction.will.create.transactions\":true,\"jira.jql.suggestrecentfields\":false,\"com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions\":false,\"jira.jql.smartautoselectfirst\":false,\"com.atlassian.jira.agile.darkfeature.optimistic.transitions\":true,\"com.atlassian.jira.issuetable.move.links.hidden\":true,\"jira.priorities.per.project\":true,\"com.atlassian.jira.upgrade.startup.fix.index\":true,\"jira.renderer.consider.variable.format\":true}}";
WRM._unparsedData["jira.webresources:default-comment-security-level.DefaultCommentSecurityLevelHelpLink"]="{\"extraClasses\":\"default-comment-level-help\",\"title\":\"Commenting on an Issue\",\"url\":\"https://docs.atlassian.com/jira/jcore-docs-076/Editing+and+collaborating+on+issues#Editingandcollaboratingonissues-restrictacomment\",\"isLocal\":false}";
WRM._unparsedData["jira.webresources:dateFormatProvider.allFormats"]="{\"dateFormats\":{\"meridiem\":[\"AM\",\"PM\"],\"eras\":[\"BC\",\"AD\"],\"months\":[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],\"monthsShort\":[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],\"weekdaysShort\":[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"],\"weekdays\":[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"]},\"lookAndFeelFormats\":{\"relativize\":\"true\",\"time\":\"HH:mm\",\"day\":\"EEEE HH:mm\",\"dmy\":\"dd/MMM/yy\",\"complete\":\"dd/MMM/yy HH:mm\"}}";
WRM._unparsedData["com.atlassian.jira.jira-issue-nav-components:issueviewer.features"]="{\"rteEnabled\":true}";
WRM._unparsedData["com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone.thumbnail-mime-types"]="\"image/vnd.wap.wbmp,image/png,image/x-png,image/jpeg,image/bmp,image/gif\"";
WRM._unparsedData["com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone.upload-limit"]="\"62914560\"";
WRM._unparsedData["com.atlassian.plugins.helptips.jira-help-tips:help-tip-manager.JiraHelpTipData"]="{\"anonymous\":true}";
WRM._unparsedData["com.atlassian.jira.jira-view-issue-plugin:controller-subtasks.controller.subtasks.parameters"]="{\"url\":\"/rest/api/2/issue/{issueId}/subtask/move\"}";
WRM._unparsedData["com.atlassian.analytics.analytics-client:policy-update-init.policy-update-data-provider"]="false";
WRM._unparsedData["com.atlassian.analytics.analytics-client:programmatic-analytics-init.programmatic-analytics-data-provider"]="false";
WRM._unparsedData["jira.webresources:avatar-picker.data"]="{}";
WRM._unparsedData["com.atlassian.feedback.jira-feedback-plugin:button-resources-init.data"]="{\"jira.feedback.plugin.issue.collector.core\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"jira.feedback.plugin.issue.collector.default\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"jira.feedback.plugin.issue.collector.service.desk\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector.js?locale=en-UK&collectorId=a698db21\",\"jira.feedback.plugin.issue.collector.software\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"isHeaderFeedbackButtonEnabled\":true}";
WRM._unparsedData["com.atlassian.jira.jira-header-plugin:dismissedFlags.flags"]="{\"dismissed\":[]}";
WRM._unparsedData["com.atlassian.jira.jira-header-plugin:newsletter-signup-tip-init.newsletterSignup"]="{\"signupDescription\":\"Get updates, inspiration and best practices from the team behind JIRA.\",\"formUrl\":\"https://www.atlassian.com/apis/exact-target/{0}/subscribe?mailingListId=1401671\",\"signupTitle\":\"Sign up!\",\"signupId\":\"newsletter-signup-tip\",\"showNewsletterTip\":false}";
WRM._unparsedData["com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources.ptAnalyticsData"]="{\"instanceCreatedDate\":\"2011-01-31\"}";
WRM._unparsedData["com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources.help-data"]="{\"showHelp\":true,\"editorDocumentationUrl\":[\"https://docs.atlassian.com/jira/jcore-docs-076/Visual+editing\"],\"editorDocumentationTitle\":[\"Show me documentation for the visual editor\"]}";
WRM._unparsedData["com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources.thumbnails-allowed"]="false";
WRM._unparsedData["jira.webresources:user-message-flags.adminLockout"]="{}";
WRM._unparsedData["jira.request.correlation-id"]="\"eb3e5eac1d198e\"";
WRM._unparsedData["project-id"]="10594";
WRM._unparsedData["project-key"]="\"DERBY\"";
WRM._unparsedData["project-name"]="\"Derby\"";
WRM._unparsedData["project-type"]="\"software\"";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:generic-filters"]="[{\"id\":\"allissues\",\"jql\":\"project = \\\"{0}\\\" ORDER BY {1}\",\"defaultOrderby\":\"created DESC\",\"label\":\"All issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[]},{\"id\":\"allopenissues\",\"jql\":\"project = \\\"{0}\\\" AND resolution = Unresolved ORDER BY {1}\",\"defaultOrderby\":\"priority DESC, updated DESC\",\"label\":\"Open issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"resolution\"]},{\"id\":\"doneissues\",\"jql\":\"project = \\\"{0}\\\" AND statusCategory = Done ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Done issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":false,\"fields\":[\"status\"]},{\"id\":\"recentlyviewed\",\"jql\":\"project = \\\"{0}\\\" AND issuekey in issueHistory() ORDER BY {1}\",\"defaultOrderby\":\"lastViewed DESC\",\"label\":\"Viewed recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"issuekey\"]},{\"id\":\"addedrecently\",\"jql\":\"project = \\\"{0}\\\" AND created \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"created DESC\",\"label\":\"Created recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"created\"]},{\"id\":\"resolvedrecently\",\"jql\":\"project = \\\"{0}\\\" AND resolutiondate \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Resolved recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":false,\"fields\":[\"resolutiondate\"]},{\"id\":\"updatedrecently\",\"jql\":\"project = \\\"{0}\\\" AND updated \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Updated recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"updated\"]}]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:default-filter-priority"]="[\"allopenissues\",\"allissues\"]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:can-manage-filters"]="false";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:project-filters"]="[]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:can-create-issues"]="false";
WRM._unparsedData["projectId"]="10594";
WRM._unparsedData["projectKey"]="\"DERBY\"";
WRM._unparsedData["projectType"]="\"software\"";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:server-rendered"]="true";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/a8a4711bc3f2eb261d8c8fd9fbcbba8b-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1fca1750044f2777c977e8d8cc023344/_/download/contextbatch/css/_super/batch.css" data-wrm-key="_super" data-wrm-batch-type="context" media="all"> 
  <link type="text/css" rel="stylesheet" href="/jira/s/74ac580603ca910fff0cfdf319e54add-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/fbf45109b31165e5b7740a9d72318cea/_/download/contextbatch/css/project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super/batch.css?agile_global_admin_condition=true&amp;hc-enabled=true&amp;is-server-instance=true&amp;jag=true&amp;jira.create.linked.issue=true&amp;nps-acknowledged=true&amp;richediton=true" data-wrm-key="project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super" data-wrm-batch-type="context" media="all"> 
  <link type="text/css" rel="stylesheet" href="/jira/s/611672383f6cab00ab202241ba6f9d68-T/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/7.6.3/_/download/batch/com.atlassian.feedback.jira-feedback-plugin:button-resources-init/com.atlassian.feedback.jira-feedback-plugin:button-resources-init.css" data-wrm-key="com.atlassian.feedback.jira-feedback-plugin:button-resources-init" data-wrm-batch-type="resource" media="all"> 
  <script type="text/javascript" src="/jira/s/98ceb006e504d7924d5ffc411626c6bc-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1fca1750044f2777c977e8d8cc023344/_/download/contextbatch/js/_super/batch.js?locale=en-UK" data-wrm-key="_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/c1e4d26ea276469807c3dc0918df482c-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/fbf45109b31165e5b7740a9d72318cea/_/download/contextbatch/js/project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super/batch.js?agile_global_admin_condition=true&amp;hc-enabled=true&amp;is-server-instance=true&amp;jag=true&amp;jira.create.linked.issue=true&amp;locale=en-UK&amp;nps-acknowledged=true&amp;richediton=true" data-wrm-key="project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/6bf9253c8d533109c3b02e26794be24e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/871d45c9f322a22cb3aa9b7948a69803/_/download/contextbatch/js/atl.global,-_super/batch.js?locale=en-UK" data-wrm-key="atl.global,-_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:calendar-en/jira.webresources:calendar-en.js" data-wrm-key="jira.webresources:calendar-en" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:calendar-localisation-moment/jira.webresources:calendar-localisation-moment.js" data-wrm-key="jira.webresources:calendar-localisation-moment" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/7.6.3/_/download/batch/com.atlassian.feedback.jira-feedback-plugin:button-resources/com.atlassian.feedback.jira-feedback-plugin:button-resources.js" data-wrm-key="com.atlassian.feedback.jira-feedback-plugin:button-resources" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/ccd2e67b523185973473e8bd5735c8f9-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/e0de73613a1027de08f3da6a45e1d1a2/_/download/contextbatch/css/jira.global.look-and-feel,-_super/batch.css" data-wrm-key="jira.global.look-and-feel,-_super" data-wrm-batch-type="context" media="all"> 
  <script type="text/javascript" src="/jira/rest/api/1.0/shortcuts/76005/33e5e0166867c8c9228d44506f60b2e8/shortcuts.js?context=issuenavigation&amp;context=issueaction"></script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["com.atlassian.jira.jira-issue-nav-components:inline-edit-enabled"]="true";
WRM._unparsedData["should-display-chaperone"]="false";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/15712b600e9aecf72ffd9fd3704a0c78-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/6b22a15c7b83f87a47b1757076f43542/_/download/contextbatch/css/com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue/batch.css?jira.create.linked.issue=true&amp;richediton=true" data-wrm-key="com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue" data-wrm-batch-type="context" media="all"> 
  <script type="text/javascript" src="/jira/s/6579b6b8ba67abaa496e39b9242a18a4-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/6b22a15c7b83f87a47b1757076f43542/_/download/contextbatch/js/com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue/batch.js?jira.create.linked.issue=true&amp;locale=en-UK&amp;richediton=true" data-wrm-key="com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue" data-wrm-batch-type="context" data-initially-rendered></script> 
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge"> 
  <meta name="ajs-can-search-users" content="false"> 
  <meta name="ajs-can-edit-watchers" content="false"> 
  <meta name="ajs-default-avatar-url" content="https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10453"> 
  <meta name="ajs-issue-project-type" content="software"> 
  <meta name="ajs-issue-key" content="DERBY-550"> 
  <meta name="ajs-server-view-issue-is-editable" content="false"> 
  <title>[DERBY-550] BLOB : java.lang.OutOfMemoryError with network JDBC driver (org.apache.derby.jdbc.ClientDriver) - ASF JIRA</title> 
  <link rel="search" type="application/opensearchdescription+xml" href="/jira/osd.jsp" title="[DERBY-550] BLOB : java.lang.OutOfMemoryError with network JDBC driver (org.apache.derby.jdbc.ClientDriver) - ASF JIRA"> 
 </head> 
 <body id="jira" class="aui-layout aui-theme-default " data-version="7.6.3"> 
  <div id="page"> 
   <header id="header" role="banner"> 
    <script>
require(["jquery", "jira/license-banner"], function ($, licenseBanner) {
    $(function () {
        licenseBanner.showLicenseBanner("");
        licenseBanner.showLicenseFlag("");
    });
});
</script> 
    <nav class="aui-header aui-dropdown2-trigger-group" role="navigation">
     <div class="aui-header-inner">
      <div class="aui-header-before">
       <a class=" aui-dropdown2-trigger app-switcher-trigger" aria-controls="app-switcher" aria-haspopup="true" role="button" tabindex="0" data-aui-trigger href="#app-switcher"><span class="aui-icon aui-icon-small aui-iconfont-appswitcher">Linked Applications</span></a>
       <div id="app-switcher" class="aui-dropdown2 aui-style-default" role="menu" aria-hidden="true" data-is-switcher="true" data-environment="{&quot;isUserAdmin&quot;:false,&quot;isAppSuggestionAvailable&quot;:false,&quot;isSiteAdminUser&quot;:false}">
        <div role="application">
         <div class="app-switcher-loading">
          Loadingâ€¦
         </div>
        </div>
       </div>
      </div>
      <div class="aui-header-primary">
       <h1 id="logo" class="aui-header-logo aui-header-logo-custom"><a href="https://issues.apache.org/jira/secure/MyJiraHome.jspa"><img src="/jira/s/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/_/jira-logo-scaled.png" alt="ASF JIRA"></a></h1>
       <ul class="aui-nav">
        <li><a href="/jira/secure/Dashboard.jspa" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="home_link" aria-haspopup="true" aria-controls="home_link-content" title="View and manage your dashboards" accesskey="d">Dashboards</a>
         <div class="aui-dropdown2 aui-style-default" id="home_link-content" data-aui-dropdown2-ajax-key="home_link"></div></li>
        <li><a href="/jira/browse/DERBY" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="browse_link" aria-haspopup="true" aria-controls="browse_link-content" title="View recent projects and browse a list of projects" accesskey="p">Projects</a>
         <div class="aui-dropdown2 aui-style-default" id="browse_link-content" data-aui-dropdown2-ajax-key="browse_link"></div></li>
        <li><a href="/jira/issues/" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="find_link" aria-haspopup="true" aria-controls="find_link-content" title="Search for issues and view recent issues" accesskey="i">Issues</a>
         <div class="aui-dropdown2 aui-style-default" id="find_link-content" data-aui-dropdown2-ajax-key="find_link"></div></li> 
       </ul>
      </div>
      <div class="aui-header-secondary">
       <ul class="aui-nav">
        <li id="quicksearch-menu"> 
         <form action="/jira/secure/QuickSearch.jspa" method="get" id="quicksearch" class="aui-quicksearch dont-default-focus ajs-dirty-warning-exempt"> 
          <input id="quickSearchInput" class="search" type="text" title="Search" placeholder="Search" name="searchString" accessKey="q"> 
          <input type="submit" class="hidden" value="Search"> 
         </form> </li> 
        <li><a class="jira-feedback-plugin" role="button" aria-haspopup="true" id="jira-header-feedback-link" href="#"><span class="aui-icon aui-icon-small jira-feedback-plugin-icon">Give feedback to Atlassian</span></a></li> 
        <li id="system-help-menu"> <a class="aui-nav-link aui-dropdown2-trigger" id="help_menu" aria-haspopup="true" aria-owns="system-help-menu-content" href="https://docs.atlassian.com/jira/jcore-docs-076/" target="$textUtils.htmlEncode($rootHelpMenuItem.params.target)" title="Help"><span class="aui-icon aui-icon-small aui-iconfont-help">Help</span></a> 
         <div id="system-help-menu-content" class="aui-dropdown2 aui-style-default"> 
          <div class="aui-dropdown2-section"> 
           <ul id="jira-help" class="aui-list-truncate"> 
            <li> <a id="view_core_help" class="aui-nav-link " title="Go to the online documentation for JIRA Core" href="https://docs.atlassian.com/jira/jcore-docs-076/" target="_blank">JIRA Core help</a> </li> 
            <li> <a id="keyshortscuthelp" class="aui-nav-link " title="Get more information about JIRA's Keyboard Shortcuts" href="/jira/secure/ViewKeyboardShortcuts!default.jspa" target="_blank">Keyboard Shortcuts</a> </li> 
            <li> <a id="view_about" class="aui-nav-link " title="Get more information about JIRA" href="/jira/secure/AboutPage.jspa">About JIRA</a> </li> 
            <li> <a id="view_credits" class="aui-nav-link " title="See who did what" href="/jira/secure/JiraCreditsPage!default.jspa" target="_blank">JIRA Credits</a> </li> 
           </ul> 
          </div> 
         </div> </li> 
        <li id="user-options"> <a class="aui-nav-link login-link" href="/jira/login.jsp?os_destination=%2Fbrowse%2FDERBY-550">Log In</a> 
         <div id="user-options-content" class="aui-dropdown2 aui-style-default"> 
          <div class="aui-dropdown2-section"> 
          </div> 
         </div> </li> 
       </ul>
      </div>
     </div>
     <!-- .aui-header-inner-->
    </nav>
    <!-- .aui-header --> 
   </header> 
   <section id="content" role="main"> 
    <big-pipe data-id="sidebar-id" unresolved></big-pipe>
    <div class="aui-sidebar  sidebar-placeholder">
     <div class="aui-sidebar-wrapper">
      <div class="aui-sidebar-body"></div>
      <div class="aui-sidebar-footer">
       <a class="aui-button aui-button-subtle aui-sidebar-toggle aui-sidebar-footer-tipsy" data-tooltip="Expand sidebar ( [ )" href="#"><span class="aui-icon aui-icon-small"></span></a>
      </div>
     </div>
    </div>
    <script id="projects-sidebar-init">
    require(['jira/projects/sidebar/expansion-manager'], function(expansionManager) {
        var scriptTag = document.getElementById('projects-sidebar-init');
        var sidebar = AJS.sidebar('.aui-sidebar');
        expansionManager(sidebar);
        scriptTag.parentElement.removeChild(scriptTag);
    });
    </script>
    <div class="aui-page-panel">
     <div class="aui-page-panel-inner">
      <div class="issue-navigator">
       <div class="content">
        <div class="issue-view">
         <div class="navigation-tools">
          <div class="pager-container"></div>
         </div>
         <div class="issue-container">
          <div id="issue-content" class="issue-edit-form">
           <header id="stalker" class="issue-header js-stalker">
            <div class="issue-header-content">
             <header class="aui-page-header">
              <div class="aui-page-header-inner">
               <div class="aui-page-header-image">
                <span id="10594" class="aui-avatar aui-avatar-large aui-avatar-project"><span class="aui-avatar-inner"><img id="project-avatar" alt="Uploaded image for project: 'Derby'" src="https://issues.apache.org/jira/secure/projectavatar?pid=10594&amp;avatarId=10122"></span></span>
               </div>
               <!-- .aui-page-header-image -->
               <div class="aui-page-header-main">
                <ol class="aui-nav aui-nav-breadcrumbs">
                 <li><a id="project-name-val" href="/jira/browse/DERBY">Derby</a></li>
                 <li><a class="issue-link" data-issue-key="DERBY-550" href="/jira/browse/DERBY-550" id="key-val" rel="12314092">DERBY-550</a></li>
                </ol>
                <h1 id="summary-val">BLOB : java.lang.OutOfMemoryError with network JDBC driver (org.apache.derby.jdbc.ClientDriver)</h1>
               </div>
               <!-- .aui-page-header-main -->
               <div class="aui-page-header-actions">
                <div id="issue-header-pager"></div>
               </div>
               <!-- .aui-page-header-actions -->
              </div>
              <!-- .aui-page-header-inner -->
             </header>
             <!-- .aui-page-header -->
             <div class="command-bar">
              <div class="ops-cont">
               <div class="ops-menus aui-toolbar">
                <div class="toolbar-split toolbar-split-left">
                 <ul id="opsbar-ops-login-lnk_container" class="toolbar-group pluggable-ops">
                  <li class="toolbar-item"><a id="ops-login-lnk" title="Log In" class="toolbar-trigger" href="/jira/login.jsp?os_destination=%2Fbrowse%2FDERBY-550"><span class="trigger-label">Log In</span></a></li>
                 </ul>
                 <ul id="opsbar-opsbar-operations" class="toolbar-group pluggable-ops"></ul>
                 <ul id="opsbar-opsbar-transitions" class="toolbar-group pluggable-ops"></ul>
                 <ul id="opsbar-opsbar-admin" class="toolbar-group pluggable-ops"></ul>
                </div>
                <div class="toolbar-split toolbar-split-right">
                 <ul id="opsbar-jira.issue.tools" class="toolbar-group pluggable-ops">
                  <li class="toolbar-item">
                   <div>
                    <a href="#" id="viewissue-export" aria-owns="viewissue-export_drop" aria-haspopup="true" title="Export this issue in another format" class="toolbar-trigger aui-button aui-style-default aui-dropdown2-trigger"><span class="icon icon-default aui-icon aui-icon-small aui-iconfont-export"></span> <span class="dropdown-text">Export</span></a>
                    <div id="viewissue-export_drop" class="aui-style-default aui-dropdown2">
                     <ul>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-xml/DERBY-550/DERBY-550.xml" id="jira.issueviews:issue-xml"><span class="trigger-label">XML</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-word/DERBY-550/DERBY-550.doc" id="jira.issueviews:issue-word"><span class="trigger-label">Word</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-html/DERBY-550/DERBY-550.html" id="jira.issueviews:issue-html"><span class="trigger-label">Printable</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/com.atlassian.jira.plugins.jira-importers-plugin:issue-json/DERBY-550/DERBY-550.json" id="com.atlassian.jira.plugins.jira-importers-plugin:issue-json"><span class="trigger-label">JSON</span></a></li>
                     </ul>
                    </div>
                   </div></li>
                 </ul>
                </div>
               </div>
              </div>
             </div>
            </div>
           </header>
           <div class="issue-body-content">
            <div class="aui-group issue-body">
             <div class="aui-item issue-main-column">
              <div id="details-module" class="module toggle-wrap">
               <div id="details-module_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Details</h2>
               </div>
               <div class="mod-content"> 
                <ul id="issuedetails" class="property-list two-cols"> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Type:</strong> 
                   <span id="type-val" class="value"> <img alt="" height="16" src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype" title="Bug - A problem which impairs or prevents the functions of the product." width="16"> Bug </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Status:</strong> 
                   <span id="status-val" class="value"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done jira-issue-status-lozenge-max-width-medium" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </span> 
                  </div> </li> 
                 <li class="item new"> 
                  <div class="wrap"> 
                   <strong class="name">Priority:</strong> 
                   <span id="priority-val" class="value"> <img alt="" height="16" src="/jira/images/icons/priorities/major.svg" title="Major - Major loss of function." width="16"> Major </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Resolution:</strong> 
                   <span id="resolution-val" class="value resolved"> Fixed </span> 
                  </div> </li> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Affects Version/s:</strong> 
                   <span id="versions-val" class="value"> <span class="shorten" id="versions-field"> <span title="10.1.1.0 ">10.1.1.0</span> </span> </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Fix Version/s:</strong> 
                   <span id="fixfor-val" class="value"> <span class="shorten" id="fixVersions-field"> <a href="/jira/issues/?jql=project+%3D+DERBY+AND+fixVersion+%3D+10.3.1.4" title="10.3.1.4 ">10.3.1.4</a> </span> </span> 
                  </div> </li> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Component/s:</strong> 
                   <span id="components-val" class="value"> <span class="shorten" id="components-field"> <a href="/jira/issues/?jql=project+%3D+DERBY+AND+component+%3D+JDBC" title="JDBC ">JDBC</a>, <a href="/jira/issues/?jql=project+%3D+DERBY+AND+component+%3D+%22Network+Server%22" title="Network Server ">Network Server</a> </span> </span> 
                  </div> </li> 
                 <li class="item full-width"> 
                  <div class="wrap" id="wrap-labels"> 
                   <strong class="name">Labels:</strong> 
                   <div class="labels-wrap value"> 
                    <span class="labels" id="labels-12314092-value">None</span> 
                   </div> 
                  </div> </li> 
                 <li class="item full-width"> 
                  <div class="wrap"> 
                   <strong class="name">Environment:</strong> 
                   <div id="environment-val" class="value">
                     Any environment. 
                   </div> 
                  </div> </li> 
                </ul> 
               </div>
              </div>
              <div id="descriptionmodule" class="module toggle-wrap">
               <div id="descriptionmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Description</h2>
               </div>
               <div class="mod-content">
                <div id="description-val" class="field-ignore-highlight"> 
                 <div class="user-content-block"> 
                  <p>Using the org.apache.derby.jdbc.ClientDriver driver to access the<br> Derby database through network, the driver is writting all the file into memory (RAM) before sending<br> it to the database.</p> 
                  <p>Writting small files (smaller than 5Mo) into the database works fine,<br> but it is impossible to write big files (40Mo for example, or more), without getting the<br> exception java.lang.OutOfMemoryError.</p> 
                  <p>The org.apache.derby.jdbc.EmbeddedDriver doesn't have this problem.</p> 
                  <p>Here follows some code that creates a database, a table, and trys to write a BLOB. 2 parameters are to be changed for the code to work for you : DERBY_DBMS_PATH and FILE</p> 
                  <p>import NetNoLedge.Configuration.Configs;<br> import org.apache.derby.drda.NetworkServerControl;<br> import java.net.InetAddress;<br> import java.io.*;<br> import java.sql.*;</p> 
                  <p>/**<br> *</p> 
                  <ul> 
                   <li>@author greg<br> */<br> public class DerbyServer_JDBC_BLOB_test {</li> 
                  </ul> 
                  <p> // The unique instance of DerbyServer in the application.<br> private static DerbyServer_JDBC_BLOB_test derbyServer;</p> 
                  <p> private NetworkServerControl server;</p> 
                  <p> private static final String DERBY_JDBC_DRIVER = "org.apache.derby.jdbc.ClientDriver";<br> private static final String DERBY_DATABASE_NAME = "Test";</p> 
                  <p> // ###############################################################<br> // ############### SET HERE THE EXISTING PATH YOU WANT ################<br> // ###############################################################<br> private static final String DERBY_DBMS_PATH = "/home/greg/DatabaseTest";<br> // ###############################################################<br> // ###############################################################</p> 
                  <p> private static int derbyPort = 9157;<br> private static String userName = "user";<br> private static String userPassword = "password";</p> 
                  <p> // ###################################################################################<br> // ############# DEFINE HERE THE PATH TO THE FILE YOU WANT TO WRITE INTO THE DATABASE ###########<br> // ############# TRY A 100kb-3Mb FILE, AND AFTER A 40Mb OR BIGGER FILE #########################<br> // ###################################################################################<br> private static final File FILE = new File("/home/greg/01.jpg");<br> // ###################################################################################<br> // ###################################################################################</p> 
                  <p> /**</p> 
                  <ul> 
                   <li>&lt;p&gt;Used to test the server.<br> */<br> public static void main(String args[]) {<br> try {<br> DerbyServer_JDBC_BLOB_test.launchServer();<br> DerbyServer_JDBC_BLOB_test server = getUniqueInstance();<br> server.start();<br> System.out.println("Server started");</li> 
                  </ul> 
                  <p> // After the server has been started, launch a first connection to the database to<br> // 1) Create the database if it doesn't exist already,<br> // 2) Create the tables if they don't exist already. <br> Class.forName(DERBY_JDBC_DRIVER).newInstance();<br> Connection connection = DriverManager.getConnection ("jdbc:derby://localhost:"<ins>derbyPort</ins>"/"<ins>DERBY_DATABASE_NAME</ins>";create=true", userName, userPassword);<br> System.out.println("Network JDBC connection to Derby succeded. Database created if not created already.");</p> 
                  <p> Statement statement = connection.createStatement(ResultSet.TYPE_SCROLL_INSENSITIVE, ResultSet.CONCUR_READ_ONLY);<br> Statement statement2;</p> 
                  <p> // Create the table "file" if it doesn't already exist.<br> String [] tableNames=</p> {"file"} 
                  <p>;<br> boolean exist;<br> String currentTable;<br> ResultSet result = statement.executeQuery("SELECT TABLENAME FROM SYS.SYSTABLES");<br> for (int i=0;i&lt;tableNames.length;i++) {<br> exist=false;<br> while (result.next())</p> { if (tableNames[i].equalsIgnoreCase(result.getString(1))) exist=true; } 
                  <p> if (!exist) </p> { statement2 = connection.createStatement(); statement2.execute("CREATE TABLE file (" + "file BLOB(2G) NOT NULL)"); connection.commit(); } 
                  <p> result.beforeFirst();<br> }<br> System.out.println("Table file created if not created already");</p> 
                  <p> System.out.println("File insertion into BLOB");<br> FileInputStream inputStream = new FileInputStream(FILE);<br> PreparedStatement preparedStatement = connection.prepareStatement("INSERT INTO file(file) VALUES <img class="emoticon" src="/jira/images/icons/emoticons/help_16.png" height="16" width="16" align="absmiddle" alt="" border="0">");<br> preparedStatement.setBinaryStream(1,inputStream,(int) FILE.length());<br> preparedStatement .execute();<br> connection.commit();<br> System.out.println("File inserted into BLOB");<br> }<br> catch (Exception e) </p> { e.printStackTrace(); } 
                  <p> }</p> 
                  <p> /** Creates a new instance of MckoiServer</p> 
                  <ul> 
                   <li>Password is used at the database creation. It will be the database password once created.<br> */ <br> private DerbyServer_JDBC_BLOB_test() throws Exception {<br> System.setProperty("derby.system.home", DERBY_DBMS_PATH);</li> 
                  </ul> 
                  <p> // Set the server to request an authentification.<br> System.setProperty("derby.authentication.provider", "BUILTIN");<br> System.setProperty("derby.connection.requireAuthentication", "true");</p> 
                  <p> // Create a user that can connect to Derby.<br> System.setProperty("derby.user."+userName, userPassword);</p> 
                  <p> // Set Derby to grant full access to the created user (to all the databases).<br> System.setProperty("derby.database.fullAccessUsers", userName);</p> 
                  <p> //System.setProperty("derby.system.bootAll", "true");</p> 
                  <p> // See if the 9157 port is already taken.<br> // Change it if necessary.<br> boolean isPortFree = false;<br> while ( !isPortFree ) {<br> try </p> { java.net.ServerSocket serverTest = new java.net.ServerSocket(derbyPort); serverTest.close(); serverTest = null; isPortFree = true; } 
                  <p> catch (Exception e) </p> { System.out.println("Port already in use : "+derbyPort); derbyPort++; System.out.println("Try with port "+derbyPort); } 
                  <p> } </p> 
                  <p> server = new NetworkServerControl(InetAddress.getByName("localhost"),derbyPort);<br> }</p> 
                  <p> public static void launchServer() throws Exception </p> { derbyServer = new DerbyServer_JDBC_BLOB_test(); } 
                  <p> public static DerbyServer_JDBC_BLOB_test getUniqueInstance() </p> { return derbyServer; } 
                  <p> /**</p> 
                  <ul> 
                   <li>&lt;p&gt;Start the server.<br> */<br> public void start() 
                    <div class="error">
                     <span class="error">Unknown macro: { try { server.start(null); } catch (Exception e) { e.printStackTrace(System.err); }<br> }<br> <br> /**<br> * &lt;p&gt;Stop the server.<br> */<br> public void stop() {<br> try { server.shutdown(); }<br> catch (Exception e) { e.printStackTrace(System.err); } }</span> 
                    </div></li> 
                  </ul> 
                  <p>}</p> 
                 </div> 
                </div> 
               </div>
              </div>
              <div id="dnd-metadata" class="module toggle-wrap">
               <div id="dnd-metadata_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Attachments</h2>
               </div>
               <div class="mod-content">
                <div id="dnd-metadata-webpanel" data-can-attach="false" data-project-type="software" data-upload-limit="62914560" data-thumbnails-allowed="false"></div>
               </div>
              </div>
              <div id="attachmentmodule" class="module toggle-wrap">
               <div id="attachmentmodule_heading" class="mod-header">
                <ul class="ops">
                 <li class="drop">
                  <div class="aui-dd-parent">
                   <a href="#" class="icon drop-menu js-default-dropdown" title="Options"><span>Options</span></a>
                   <div class="aui-dropdown-content aui-list">
                    <ul id="attachment-sorting-options" class="aui-list-section aui-first">
                     <li class="aui-list-item"><a id="attachment-sort-key-name" href="/jira/browse/DERBY-550?attachmentSortBy=fileName#attachmentmodule" class="aui-list-checked aui-checked aui-list-item-link" title="viewissue.subtasks.tab.show.all.name"><span>Sort By Name</span></a></li>
                     <li class="aui-list-item"><a id="attachment-sort-key-date" href="/jira/browse/DERBY-550?attachmentSortBy=dateTime#attachmentmodule" class="aui-list-checked aui-list-item-link" title="Sort By Date"><span>Sort By Date</span></a></li>
                    </ul>
                    <ul id="attachment-sorting-order-options" class="aui-list-section aui-last">
                     <li class="aui-list-item"><a id="attachment-sort-direction-asc" href="/jira/browse/DERBY-550?attachmentOrder=asc#attachmentmodule" class="aui-list-checked aui-checked aui-list-item-link" title="Ascending"><span>Ascending</span></a></li>
                     <li class="aui-list-item"><a id="attachment-sort-direction-desc" href="/jira/browse/DERBY-550?attachmentOrder=desc#attachmentmodule" class="aui-list-checked aui-list-item-link" title="Descending"><span>Descending</span></a></li>
                    </ul>
                   </div>
                  </div></li>
                </ul>
                <h2 class="toggle-title">Attachments</h2>
               </div>
               <div class="mod-content">
                <ol id="file_attachments" class="item-attachments" data-sort-key="fileName" data-sort-order="asc">
                 <li class="attachment-content js-file-attachment" data-attachment-id="12336598" data-issue-id="12314092" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12336598/BlobOutOfMem.java" draggable="true" data-downloadurl="text/x-java:BlobOutOfMem.java:https://issues.apache.org/jira/secure/attachment/12336598/BlobOutOfMem.java"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-code" title="Java Source File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12336598/BlobOutOfMem.java" title="Latest  10/Jul/06 21:39 - Andreas Korneliussen" draggable="true" data-downloadurl="text/x-java:BlobOutOfMem.java:https://issues.apache.org/jira/secure/attachment/12336598/BlobOutOfMem.java">BlobOutOfMem.java</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2006-07-10T21:39:56.000Z">10/Jul/06 21:39</time>
                   </dd>
                   <dd class="attachment-size">
                    6 kB
                   </dd>
                   <dd class="attachment-author">
                    Andreas Korneliussen
                   </dd>
                  </dl></li>
                </ol>
               </div>
              </div>
              <div id="linkingmodule" class="module toggle-wrap">
               <div id="linkingmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Issue Links</h2>
               </div>
               <div class="mod-content"> 
                <div class="links-container" data-default-link-icon="/jira/images/icons/generic_link_16.png"> 
                 <dl class="links-list "> 
                  <dt title="is blocked by">
                   is blocked by
                  </dt> 
                  <dd id="internal-12346905_10032"> 
                   <div class="link-content"> 
                    <p> <img src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype" width="16" height="16" title="Bug - A problem which impairs or prevents the functions of the product." alt="Bug - A problem which impairs or prevents the functions of the product."> <span title="DERBY-1610: Resolve difference of type compatibility between Embedded and NetworkServer/NetworkDriver"> <a href="/jira/browse/DERBY-1610" data-issue-key="DERBY-1610" class="issue-link link-title resolution">DERBY-1610</a> <span class="link-summary">Resolve difference of type compatibility between Embedded and NetworkServer/NetworkDriver</span> </span> </p> 
                    <ul class="link-snapshot"> 
                     <li class="priority"> <img src="/jira/images/icons/priorities/major.svg" width="16" height="16" title="Major - Major loss of function." alt="Major - Major loss of function."> </li> 
                     <li class="status"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done aui-lozenge-subtle jira-issue-status-lozenge-max-width-short" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </li> 
                    </ul> 
                   </div> 
                  </dd> 
                 </dl> 
                 <dl class="links-list "> 
                  <dt title="is cloned by">
                   is cloned by
                  </dt> 
                  <dd id="internal-12333337_10020"> 
                   <div class="link-content"> 
                    <p> <img src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype" width="16" height="16" title="Improvement - An improvement or enhancement to an existing feature or task." alt="Improvement - An improvement or enhancement to an existing feature or task."> <span title="DERBY-1301:  Improve streaming of large objects for network server and client,from client to server"> <a href="/jira/browse/DERBY-1301" data-issue-key="DERBY-1301" class="issue-link link-title resolution">DERBY-1301</a> <span class="link-summary"> Improve streaming of large objects for network server and client,from client to server</span> </span> </p> 
                    <ul class="link-snapshot"> 
                     <li class="priority"> <img src="/jira/images/icons/priorities/major.svg" width="16" height="16" title="Major - Major loss of function." alt="Major - Major loss of function."> </li> 
                     <li class="status"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done aui-lozenge-subtle jira-issue-status-lozenge-max-width-short" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </li> 
                    </ul> 
                   </div> 
                  </dd> 
                  <dd id="internal-12345286_10020"> 
                   <div class="link-content"> 
                    <p> <img src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype" width="16" height="16" title="Improvement - An improvement or enhancement to an existing feature or task." alt="Improvement - An improvement or enhancement to an existing feature or task."> <span title="DERBY-1472: Avoid expanding object to memory before sending it to server."> <a href="/jira/browse/DERBY-1472" data-issue-key="DERBY-1472" class="issue-link link-title resolution">DERBY-1472</a> <span class="link-summary">Avoid expanding object to memory before sending it to server.</span> </span> </p> 
                    <ul class="link-snapshot"> 
                     <li class="priority"> <img src="/jira/images/icons/priorities/major.svg" width="16" height="16" title="Major - Major loss of function." alt="Major - Major loss of function."> </li> 
                     <li class="status"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done aui-lozenge-subtle jira-issue-status-lozenge-max-width-short" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </li> 
                    </ul> 
                   </div> 
                  </dd> 
                 </dl> 
                 <dl class="links-list "> 
                  <dt title="is related to">
                   is related to
                  </dt> 
                  <dd id="internal-32988_10030"> 
                   <div class="link-content"> 
                    <p> <img src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype" width="16" height="16" title="Improvement - An improvement or enhancement to an existing feature or task." alt="Improvement - An improvement or enhancement to an existing feature or task."> <span title="DERBY-326: Improve streaming of large objects for network server and client"> <a href="/jira/browse/DERBY-326" data-issue-key="DERBY-326" class="issue-link link-title resolution">DERBY-326</a> <span class="link-summary">Improve streaming of large objects for network server and client</span> </span> </p> 
                    <ul class="link-snapshot"> 
                     <li class="priority"> <img src="/jira/images/icons/priorities/major.svg" width="16" height="16" title="Major - Major loss of function." alt="Major - Major loss of function."> </li> 
                     <li class="status"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done aui-lozenge-subtle jira-issue-status-lozenge-max-width-short" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </li> 
                    </ul> 
                   </div> 
                  </dd> 
                 </dl> 
                 <dl class="links-list "> 
                  <dt title="relates to">
                   relates to
                  </dt> 
                  <dd id="internal-12346428_10030"> 
                   <div class="link-content"> 
                    <p> <img src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype" width="16" height="16" title="Improvement - An improvement or enhancement to an existing feature or task." alt="Improvement - An improvement or enhancement to an existing feature or task."> <span title="DERBY-1560: When receiving EXTDTA object, the client should avoid keeping the entire LOB in memory for large LOBs"> <a href="/jira/browse/DERBY-1560" data-issue-key="DERBY-1560" class="issue-link link-title resolution">DERBY-1560</a> <span class="link-summary">When receiving EXTDTA object, the client should avoid keeping the entire LOB in memory for large LOBs</span> </span> </p> 
                    <ul class="link-snapshot"> 
                     <li class="priority"> <img src="/jira/images/icons/priorities/major.svg" width="16" height="16" title="Major - Major loss of function." alt="Major - Major loss of function."> </li> 
                     <li class="status"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done aui-lozenge-subtle jira-issue-status-lozenge-max-width-short" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </li> 
                    </ul> 
                   </div> 
                  </dd> 
                  <dd id="internal-12328504_10030" class="
                                                collapsed-link                    "> 
                   <div class="link-content"> 
                    <p> <img src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype" width="16" height="16" title="Improvement - An improvement or enhancement to an existing feature or task." alt="Improvement - An improvement or enhancement to an existing feature or task."> <span title="DERBY-917: Disable largedata/LobLimits.java test  from running in network server mode"> <a href="/jira/browse/DERBY-917" data-issue-key="DERBY-917" class="issue-link link-title resolution">DERBY-917</a> <span class="link-summary">Disable largedata/LobLimits.java test from running in network server mode</span> </span> </p> 
                    <ul class="link-snapshot"> 
                     <li class="priority"> <img src="/jira/images/icons/priorities/trivial.svg" width="16" height="16" title="Trivial - Cosmetic problem like misspelt words or misaligned text." alt="Trivial - Cosmetic problem like misspelt words or misaligned text."> </li> 
                     <li class="status"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done aui-lozenge-subtle jira-issue-status-lozenge-max-width-short" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </li> 
                    </ul> 
                   </div> 
                  </dd> 
                 </dl> 
                 <div id="show-more-links"> 
                  <button class="aui-button aui-button-link" id="show-more-links-link">Show 1 more links</button> 
                  <span>(1 relates to)</span> 
                 </div> 
                </div> 
               </div>
              </div>
              <div id="view-subtasks" class="module toggle-wrap">
               <div id="view-subtasks_heading" class="mod-header">
                <ul class="ops">
                 <li class="drop">
                  <div class="aui-dd-parent">
                   <a href="#" class="icon drop-menu js-default-dropdown" title="Options"><span>Options</span></a>
                   <div class="aui-dropdown-content aui-list">
                    <ul id="subtask-view-options" class="aui-list-section aui-first aui-last">
                     <li class="aui-list-item"><a id="subtasks-show-all" href="/jira/browse/DERBY-550?subTaskView=all#issuetable" class="aui-list-checked aui-checked aui-list-item-link" title="Show All"><span>Show All</span></a></li>
                     <li class="aui-list-item"><a id="subtasks-show-open" href="/jira/browse/DERBY-550?subTaskView=unresolved#issuetable" class="aui-list-checked aui-list-item-link" title="Show Open"><span>Show Open</span></a></li>
                     <li class="aui-list-item"><a id="subtasks-bulk-operation" href="/jira/issue/bulkedit/BulkEdit1!default.jspa?reset=true&amp;searchParent=DERBY-550" class="aui-list-checked aui-list-item-link" title="Bulk operation"><span>Bulk operation</span></a></li>
                     <li class="aui-list-item"><a id="subtasks-open-issue-navigator" href="/jira/issues/?jql=parent%3DDERBY-550" class="aui-list-checked aui-list-item-link" title="Open issue navigator"><span>Open issue navigator</span></a></li>
                    </ul>
                   </div>
                  </div></li>
                </ul>
                <h2 class="toggle-title">Sub-Tasks</h2>
               </div>
               <div class="mod-content">
                <div class="mod-content intform subtask-table-container"> 
                 <issuetable-web-component> 
                  <table id="issuetable"> 
                   <tbody>
                    <tr id="issuerow12345744" rel="12345744" data-issuekey="DERBY-1497" class="issuerow"> 
                     <td class="stsequence">
                      <div rel="0" class="subtask-done">
                       1.
                      </div> </td> 
                     <td class="stsummary"><a class="issue-link" data-issue-key="DERBY-1497" href="/jira/browse/DERBY-1497">assert failure in MessageUtil, because exception thrown with too many parameters when handling OutOfMemoryError</a></td> 
                     <td class="issuetype"> <a class="issue-link" data-issue-key="DERBY-1497" href="/jira/browse/DERBY-1497"> <img src="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype" height="16" width="16" border="0" align="absmiddle" alt="Sub-task" title="Sub-task - The sub-task of the issue"> </a> </td> 
                     <td class="status"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done aui-lozenge-subtle jira-issue-status-lozenge-max-width-short" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </td> 
                     <td class="assignee"> <span class="tinylink"><a class="user-hover" rel="andreask" id="assignee_andreask" href="/jira/secure/ViewProfile.jspa?name=andreask">Andreas Korneliussen</a></span> </td> 
                    </tr> 
                    <tr id="issuerow12345746" rel="12345746" data-issuekey="DERBY-1498" class="issuerow"> 
                     <td class="stsequence">
                      <div rel="1" class="subtask-done">
                       2.
                      </div> </td> 
                     <td class="stsummary"><a class="issue-link" data-issue-key="DERBY-1498" href="/jira/browse/DERBY-1498">avoid tracing of LOB data in DRDAConnThread.readAndSetExtParams</a></td> 
                     <td class="issuetype"> <a class="issue-link" data-issue-key="DERBY-1498" href="/jira/browse/DERBY-1498"> <img src="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype" height="16" width="16" border="0" align="absmiddle" alt="Sub-task" title="Sub-task - The sub-task of the issue"> </a> </td> 
                     <td class="status"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done aui-lozenge-subtle jira-issue-status-lozenge-max-width-short" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </td> 
                     <td class="assignee"> <span class="tinylink"><a class="user-hover" rel="andreask" id="assignee_andreask" href="/jira/secure/ViewProfile.jspa?name=andreask">Andreas Korneliussen</a></span> </td> 
                    </tr> 
                    <tr id="issuerow12345860" rel="12345860" data-issuekey="DERBY-1504" class="issuerow"> 
                     <td class="stsequence">
                      <div rel="2" class="subtask-done">
                       3.
                      </div> </td> 
                     <td class="stsummary"><a class="issue-link" data-issue-key="DERBY-1504" href="/jira/browse/DERBY-1504">Fix way to measure wasteful use of memory when LOB is communicated between network server and driver</a></td> 
                     <td class="issuetype"> <a class="issue-link" data-issue-key="DERBY-1504" href="/jira/browse/DERBY-1504"> <img src="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype" height="16" width="16" border="0" align="absmiddle" alt="Sub-task" title="Sub-task - The sub-task of the issue"> </a> </td> 
                     <td class="status"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done aui-lozenge-subtle jira-issue-status-lozenge-max-width-short" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </td> 
                     <td class="assignee"> <span class="tinylink"><a class="user-hover" rel="naka" id="assignee_naka" href="/jira/secure/ViewProfile.jspa?name=naka">Tomohito Nakayama</a></span> </td> 
                    </tr> 
                    <tr id="issuerow12346037" rel="12346037" data-issuekey="DERBY-1513" class="issuerow"> 
                     <td class="stsequence">
                      <div rel="3" class="subtask-done">
                       4.
                      </div> </td> 
                     <td class="stsummary"><a class="issue-link" data-issue-key="DERBY-1513" href="/jira/browse/DERBY-1513">Trial 1 for DERBY-550</a></td> 
                     <td class="issuetype"> <a class="issue-link" data-issue-key="DERBY-1513" href="/jira/browse/DERBY-1513"> <img src="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype" height="16" width="16" border="0" align="absmiddle" alt="Sub-task" title="Sub-task - The sub-task of the issue"> </a> </td> 
                     <td class="status"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done aui-lozenge-subtle jira-issue-status-lozenge-max-width-short" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </td> 
                     <td class="assignee"> <span class="tinylink"><a class="user-hover" rel="naka" id="assignee_naka" href="/jira/secure/ViewProfile.jspa?name=naka">Tomohito Nakayama</a></span> </td> 
                    </tr> 
                    <tr id="issuerow12346249" rel="12346249" data-issuekey="DERBY-1535" class="issuerow"> 
                     <td class="stsequence">
                      <div rel="4" class="subtask-done">
                       5.
                      </div> </td> 
                     <td class="stsummary"><a class="issue-link" data-issue-key="DERBY-1535" href="/jira/browse/DERBY-1535">Trial 2 for DERBY-550, improve use of Engine from NetworkServer and reduce memory usage</a></td> 
                     <td class="issuetype"> <a class="issue-link" data-issue-key="DERBY-1535" href="/jira/browse/DERBY-1535"> <img src="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype" height="16" width="16" border="0" align="absmiddle" alt="Sub-task" title="Sub-task - The sub-task of the issue"> </a> </td> 
                     <td class="status"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done aui-lozenge-subtle jira-issue-status-lozenge-max-width-short" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </td> 
                     <td class="assignee"> <span class="tinylink"><a class="user-hover" rel="naka" id="assignee_naka" href="/jira/secure/ViewProfile.jspa?name=naka">Tomohito Nakayama</a></span> </td> 
                    </tr> 
                    <tr id="issuerow12346417" rel="12346417" data-issuekey="DERBY-1559" class="issuerow"> 
                     <td class="stsequence">
                      <div rel="5" class="subtask-done">
                       6.
                      </div> </td> 
                     <td class="stsummary"><a class="issue-link" data-issue-key="DERBY-1559" href="/jira/browse/DERBY-1559">when receiving a single EXTDTA object representing a BLOB, the server do not need to read it into memory before inserting it into the DB</a></td> 
                     <td class="issuetype"> <a class="issue-link" data-issue-key="DERBY-1559" href="/jira/browse/DERBY-1559"> <img src="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype" height="16" width="16" border="0" align="absmiddle" alt="Sub-task" title="Sub-task - The sub-task of the issue"> </a> </td> 
                     <td class="status"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done aui-lozenge-subtle jira-issue-status-lozenge-max-width-short" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </td> 
                     <td class="assignee"> <span class="tinylink"><a class="user-hover" rel="andreask" id="assignee_andreask" href="/jira/secure/ViewProfile.jspa?name=andreask">Andreas Korneliussen</a></span> </td> 
                    </tr> 
                   </tbody> 
                  </table> 
                 </issuetable-web-component> 
                 <div class="end-of-stable-message"></div> 
                </div> 
               </div>
              </div>
              <div id="activitymodule" class="module toggle-wrap">
               <div id="activitymodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Activity</h2>
               </div>
               <div class="mod-content"> 
                <big-pipe data-id="activity-panel-pipe-id" style="height: 70px"> 
                 <div></div> 
                </big-pipe> 
               </div>
              </div>
             </div>
             <div id="viewissuesidebar" class="aui-item issue-side-column">
              <div id="peoplemodule" class="module toggle-wrap">
               <div id="peoplemodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">People</h2>
               </div>
               <div class="mod-content"> 
                <ul class="item-details" id="peopledetails"> 
                 <li class="people-details"> 
                  <dl> 
                   <dt>
                    Assignee:
                   </dt> 
                   <dd> 
                    <span id="assignee-val" class="view-issue-field"> <span class="user-hover" id="issue_summary_assignee_naka" rel="naka" data-user="{&quot;avatarUrl&quot;:&quot;https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10452&quot;,&quot;displayName&quot;:&quot;Tomohito Nakayama&quot;,&quot;emailAddress&quot;:&quot;tomonaka@basil.ocn.ne.jp&quot;,&quot;username&quot;:&quot;naka&quot;}"> <span class="aui-avatar aui-avatar-small"><span class="aui-avatar-inner"><img src="https://issues.apache.org/jira/secure/useravatar?size=small&amp;avatarId=10452" alt="naka"></span></span> Tomohito Nakayama </span> </span> 
                   </dd> 
                  </dl> 
                  <dl> 
                   <dt>
                    Reporter:
                   </dt> 
                   <dd> 
                    <span id="reporter-val" class="view-issue-field"> <span class="user-hover" id="issue_summary_reporter_greg" rel="greg" data-user="{&quot;avatarUrl&quot;:&quot;https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10452&quot;,&quot;displayName&quot;:&quot;GrÃ©goire Dubois&quot;,&quot;emailAddress&quot;:&quot;gregoire.dubois@online.fr&quot;,&quot;username&quot;:&quot;greg&quot;}"> <span class="aui-avatar aui-avatar-small"><span class="aui-avatar-inner"><img src="https://issues.apache.org/jira/secure/useravatar?size=small&amp;avatarId=10452" alt="greg"></span></span> GrÃ©goire Dubois </span> </span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
                <ul class="item-details"> 
                 <li> 
                  <dl> 
                   <dt>
                    Votes:
                   </dt> 
                   <dd> 
                    <span id="vote-data" class="aui-badge vote-state-off">4</span> 
                    <span id="vote-label" title="You have to be logged in to vote for an issue.">Vote for this issue</span> 
                   </dd> 
                  </dl> 
                  <dl> 
                   <dt>
                    Watchers:
                   </dt> 
                   <dd> 
                    <span id="watcher-data" class="aui-badge watch-state-off">1</span> 
                    <span id="watch-label" title="You have to be logged in to watch an issue.">Start watching this issue</span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
               </div>
              </div>
              <div id="datesmodule" class="module toggle-wrap">
               <div id="datesmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Dates</h2>
               </div>
               <div class="mod-content"> 
                <ul class="item-details"> 
                 <li> 
                  <dl class="dates"> 
                   <dt>
                    Created:
                   </dt> 
                   <dd class="date user-tz" title="01/Sep/05 23:34"> 
                    <span data-name="Created" id="created-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2005-09-01T23:34:48+0000">01/Sep/05 23:34</time> </span> 
                   </dd> 
                  </dl> 
                  <dl class="dates"> 
                   <dt>
                    Updated:
                   </dt> 
                   <dd class="date user-tz" title="18/Feb/11 13:19"> 
                    <span data-name="Updated" id="updated-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2011-02-18T13:19:54+0000">18/Feb/11 13:19</time> </span> 
                   </dd> 
                  </dl> 
                  <dl class="dates"> 
                   <dt>
                    Resolved:
                   </dt> 
                   <dd class="date user-tz" title="18/Feb/11 13:19"> 
                    <span data-name="Resolved" id="resolutiondate-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2011-02-18T13:19:54+0000">18/Feb/11 13:19</time> </span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
               </div>
              </div>
             </div>
            </div>
           </div>
          </div>
         </div>
        </div>
       </div>
      </div>
     </div>
     <!-- .aui-page-panel-inner -->
    </div>
    <!-- .aui-page-panel -->
    <div class="issue-navigator-init"></div> 
   </section> 
   <footer id="footer" role="contentinfo"> 
    <section class="footer-body"> 
     <ul class="atlassian-footer"> 
      <li> Atlassian JIRA <a class="seo-link" rel="nofollow" href="https://www.atlassian.com/software/jira">Project Management Software</a> <span id="footer-build-information">(v7.6.3#76005-<span title="8a4e38d34af948780dbf52044e7aafb13a7cae58" data-commit-id="8a4e38d34af948780dbf52044e7aafb13a7cae58}">sha1:8a4e38d</span>)</span> </li> 
      <li> <a id="about-link" rel="nofollow" href="/jira/secure/AboutPage.jspa/secure/AboutPage.jspa">About JIRA</a> </li> 
      <li> <a id="footer-report-problem-link" rel="nofollow" href="/jira/secure/CreateIssue!default.jspa">Report a problem</a> </li> 
     </ul> 
     <ul class="atlassian-footer"> 
      <li class="licensemessage"> Powered by a free Atlassian <a rel="nofollow" href="http://www.atlassian.com/software/jira">JIRA</a> open source license for Apache Software Foundation. Try JIRA - <a rel="nofollow" href="http://www.atlassian.com/software/jira">bug tracking software</a> for <i>your</i> team. </li> 
     </ul> 
     <div id="footer-logo">
      <a rel="nofollow" href="http://www.atlassian.com/">Atlassian</a>
     </div> 
    </section> 
    <fieldset class="hidden parameters"> 
     <input type="hidden" title="loggedInUser" value=""> 
     <input type="hidden" title="ajaxTimeout" value="The call to the JIRA server did not complete within the timeout period.  We are unsure of the result of this operation."> 
     <input type="hidden" title="JiraVersion" value="7.6.3"> 
     <input type="hidden" title="ajaxUnauthorised" value="You are not authorised to perform this operation. Please log in."> 
     <input type="hidden" title="baseURL" value="https://issues.apache.org/jira"> 
     <input type="hidden" title="ajaxCommsError" value="The JIRA server could not be contacted. This may be a temporary glitch or the server may be down. "> 
     <input type="hidden" title="ajaxServerError" value="The JIRA server was contacted but has returned an error response. We are unsure of the result of this operation."> 
     <input type="hidden" title="ajaxErrorCloseDialog" value="Close this dialog and press refresh in your browser"> 
     <input type="hidden" title="ajaxErrorDialogHeading" value="Communications Breakdown"> 
     <input type="hidden" title="dirtyMessage" value="You have entered new data on this page. If you navigate away from this page without first saving your data, the changes will be lost."> 
     <input type="hidden" title="dirtyDialogMessage" value="You have entered new data in this dialog. If you navigate away from this dialog without first saving your data, the changes will be lost. Click cancel to return to the dialog."> 
     <input type="hidden" title="keyType" value="Type"> 
     <input type="hidden" title="keyThen" value="then"> 
     <input type="hidden" title="dblClickToExpand" value="Double click to expand"> 
     <input type="hidden" title="actions" value="Actions"> 
     <input type="hidden" title="removeItem" value="Remove"> 
     <input type="hidden" title="workflow" value="Workflow"> 
     <input type="hidden" title="labelNew" value="New Label"> 
     <input type="hidden" title="issueActionsHint" value="Begin typing for available operations or press down to see all"> 
     <input type="hidden" title="closelink" value="Close"> 
     <input type="hidden" title="dotOperations" value="Operations"> 
     <input type="hidden" title="dotLoading" value="Loading..."> 
     <input type="hidden" title="frotherSuggestions" value="Suggestions"> 
     <input type="hidden" title="frotherNomatches" value="No Matches"> 
     <input type="hidden" title="multiselectVersionsError" value="{0} is not a valid version."> 
     <input type="hidden" title="multiselectComponentsError" value="{0} is not a valid component."> 
     <input type="hidden" title="multiselectGenericError" value="The value {0} is invalid."> 
    </fieldset> 
   </footer> 
  </div> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:bigpipe-js/jira.webresources:bigpipe-js.js" data-wrm-key="jira.webresources:bigpipe-js" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["activity-panel-pipe-id"]="\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n    \u003cdiv class=\\\"tabwrap tabs2\\\"\u003e\\n\\n        \u003cul id=\\\"issue-tabs\\\" class=\\\"tabs horizontal\\\"\u003e\\n                                \\n            \u003cli  data-id=\\\"all-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\" data-label=\\\"All\\\" data-href=\\\"\\/jira\\/browse\\/DERBY-550?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"all-tabpanel\\\" href=\\\"\\/jira\\/browse\\/DERBY-550?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\"\u003e\u003cstrong\u003eAll\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  class=\\\"active\\\" id=\\\"comment-tabpanel\\\"  data-id=\\\"comment-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel\\\" data-label=\\\"Comments\\\" data-href=\\\"\\/jira\\/browse\\/DERBY-550?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel\\\"\u003e\\n                            \u003cstrong tabindex=\\\"0\\\"\u003eComments\u003c\\/strong\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"worklog-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\" data-label=\\\"Work Log\\\" data-href=\\\"\\/jira\\/browse\\/DERBY-550?page=com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"worklog-tabpanel\\\" href=\\\"\\/jira\\/browse\\/DERBY-550?page=com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\"\u003e\u003cstrong\u003eWork Log\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"changehistory-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\" data-label=\\\"History\\\" data-href=\\\"\\/jira\\/browse\\/DERBY-550?page=com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"changehistory-tabpanel\\\" href=\\\"\\/jira\\/browse\\/DERBY-550?page=com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\"\u003e\u003cstrong\u003eHistory\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"activity-stream-issue-tab\\\" data-key=\\\"com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\" data-label=\\\"Activity\\\" data-href=\\\"\\/jira\\/browse\\/DERBY-550?page=com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"activity-stream-issue-tab\\\" href=\\\"\\/jira\\/browse\\/DERBY-550?page=com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\"\u003e\u003cstrong\u003eActivity\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"transitions-summary-tabpanel\\\" data-key=\\\"com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\" data-label=\\\"Transitions\\\" data-href=\\\"\\/jira\\/browse\\/DERBY-550?page=com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"transitions-summary-tabpanel\\\" href=\\\"\\/jira\\/browse\\/DERBY-550?page=com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\"\u003e\u003cstrong\u003eTransitions\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                \u003c\\/ul\u003e\\n\\n                    \u003cdiv class=\\\"sortwrap\\\"\u003e\\n                                    \u003ca class=\\\"issue-activity-sort-link ajax-activity-content\\\" rel=\\\"nofollow\\\" data-tab-sort data-order=\\\"desc\\\" href=\\\"\\/jira\\/browse\\/DERBY-550?actionOrder=desc\\\" title=\\\"Ascending order - Click to sort in descending order\\\"\u003e\\n                        \u003cspan class=\\\"aui-icon aui-icon-small aui-iconfont-up\\\"\u003eAscending order - Click to sort in descending order\u003c\\/span\u003e\\n                    \u003c\\/a\u003e\\n                            \u003c\\/div\u003e\\n            \u003c\\/div\u003e\\n    \u003cdiv class=\\\"issuePanelWrapper\\\"\u003e\\n        \u003cdiv class=\\\"issuePanelProgress\\\"\u003e\u003c\\/div\u003e\\n        \u003cdiv class=\\\"issuePanelContainer\\\" id=\\\"issue_actions_container\\\"\u003e\\n                                    \\n\\n\\n\u003cdiv id=\\\"comment-12419634\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-550?focusedCommentId=12419634&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12419634\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"bryanpendleton\\\" id=\\\"commentauthor_12419634_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=bryanpendleton\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"bryanpendleton\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Bryan Pendleton\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12419634_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Jul\\/06 08:38\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-07-07T08:38:17+0000\'\u003e07\\/Jul\\/06 08:38\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI think the problem is actually on the server side, not on the client side. When I tried writing a test program to investigate this (see \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-1472\\\" title=\\\"Avoid expanding object to memory before sending it to server.\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-1472\\\"\u003e\u003cdel\u003eDERBY-1472\u003c\\/del\u003e\u003c\\/a\u003e for the program), I discovered that the client does get an OutOfMemoryError, but this exception appears to be actually occuring on the server side, not on the client side. In my experimentation, client-side memory usage was low. But there is clearly a server-side memory problem to be solved.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"bryanpendleton\\\" id=\\\"commentauthor_12419634_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=bryanpendleton\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"bryanpendleton\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Bryan Pendleton\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12419634_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Jul\\/06 08:38\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-07-07T08:38:17+0000\'\u003e07\\/Jul\\/06 08:38\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I think the problem is actually on the server side, not on the client side. When I tried writing a test program to investigate this (see   DERBY-1472   for the program), I discovered that the client does get an OutOfMemoryError, but this exception appears to be actually occuring on the server side, not on the client side. In my experimentation, client-side memory usage was low. But there is clearly a server-side memory problem to be solved.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12419714\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-550?focusedCommentId=12419714&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12419714\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"naka\\\" id=\\\"commentauthor_12419714_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=naka\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"naka\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Tomohito Nakayama\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12419714_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Jul\\/06 20:45\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-07-07T20:45:24+0000\'\u003e07\\/Jul\\/06 20:45\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI intended to resolve this issue as \\\"Cannot Reproduce\\\" as next url.\u003cbr\\/\u003e\\n\u003ca href=\\\"http:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-1472#action_12419712\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-1472#action_12419712\u003c\\/a\u003e\u003c\\/p\u003e\\n\\n\u003cp\u003eHowever, I reconsidered.\u003c\\/p\u003e\\n\\n\u003cp\u003eI won\'t resolve \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-550\\\" title=\\\"BLOB : java.lang.OutOfMemoryError with network JDBC driver (org.apache.derby.jdbc.ClientDriver)\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-550\\\"\u003e\u003cdel\u003eDERBY-550\u003c\\/del\u003e\u003c\\/a\u003e, \\\"BLOB : java.lang.OutOfMemoryError with network JDBC driver (org.apache.derby.jdbc.ClientDriver)\\\",\u003cbr\\/\u003e\\nbecause it seems to be true that OutOfMemoryError happens \\\"in server side\\\".\u003c\\/p\u003e\\n\\n\u003cp\u003eTitle of \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-550\\\" title=\\\"BLOB : java.lang.OutOfMemoryError with network JDBC driver (org.apache.derby.jdbc.ClientDriver)\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-550\\\"\u003e\u003cdel\u003eDERBY-550\u003c\\/del\u003e\u003c\\/a\u003e does not say that Error happens in client side.\u003cbr\\/\u003e\\nThen, this issue is not mistaken completely.\u003c\\/p\u003e\\n\\n\u003cp\u003eDescription of the issue \\\"writting all the file into memory (RAM) before sending \\\",  is mistaken.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"naka\\\" id=\\\"commentauthor_12419714_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=naka\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"naka\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Tomohito Nakayama\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12419714_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Jul\\/06 20:45\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-07-07T20:45:24+0000\'\u003e07\\/Jul\\/06 20:45\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I intended to resolve this issue as \\\"Cannot Reproduce\\\" as next url. \\n http:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-1472#action_12419712  \\n\\n However, I reconsidered. \\n\\n I won\'t resolve   DERBY-550  , \\\"BLOB : java.lang.OutOfMemoryError with network JDBC driver (org.apache.derby.jdbc.ClientDriver)\\\", \\nbecause it seems to be true that OutOfMemoryError happens \\\"in server side\\\". \\n\\n Title of   DERBY-550   does not say that Error happens in client side. \\nThen, this issue is not mistaken completely. \\n\\n Description of the issue \\\"writting all the file into memory (RAM) before sending \\\",  is mistaken.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12419715\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-550?focusedCommentId=12419715&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12419715\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"andreask\\\" id=\\\"commentauthor_12419715_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=andreask\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"andreask\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Andreas Korneliussen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12419715_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Jul\\/06 20:47\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-07-07T20:47:20+0000\'\u003e07\\/Jul\\/06 20:47\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI have done some tracing of this error on the server side which confirms that this is most likely a server side problem. \u003cbr\\/\u003e\\nWhen the DRDAConnThread reads parameter data, it will create a byte buffer and stream all the data of the blob into it. It happens when \u003c\\/p\u003e\\n\\n\u003cp\u003eDRDAConnThread.readAndSetExtParam calls reader.getExtData(..).\u003c\\/p\u003e\\n\\n\u003cp\u003eprivate void readAndSetExtParam( int i, DRDAStatement stmt,\u003cbr\\/\u003e\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t  int drdaType, int extLen)\u003cbr\\/\u003e\\n\\t\\t\\t\\tthrows DRDAProtocolException, SQLException\u003cbr\\/\u003e\\n\\t\\t{\u003cbr\\/\u003e\\n\\t\\t\\tPreparedStatement ps = stmt.getPreparedStatement();\u003cbr\\/\u003e\\n\\t\\t\\tdrdaType = (drdaType &amp; 0x000000ff); \\/\\/ need unsigned value\u003cbr\\/\u003e\\n\\t\\t\\tboolean checkNullability = false;\u003cbr\\/\u003e\\n\\t\\t\\tif (sqlamLevel &gt;= MGRLVL_7 &amp;&amp;\u003cbr\\/\u003e\\n\\t\\t\\t\\tFdocaConstants.isNullable(drdaType))\u003cbr\\/\u003e\\n\\t\\t\\t\\tcheckNullability = true;\u003c\\/p\u003e\\n\\n\u003cp\u003e\\t\\t\\ttry {\\t\u003cbr\\/\u003e\\n\\t\\t\\t\\tbyte[] paramBytes = reader.getExtData(checkNullability); &lt;---- here the entire LOB data gets populated in a byte array\u003c\\/p\u003e\\n\\n\u003cp\u003eLater the paramer data is set using ps.setBytes(..).\u003c\\/p\u003e\\n\\n\u003cp\u003eIn addition, if running in debug mode, all the bytes are concatenated to the tracing string here:\u003cbr\\/\u003e\\ncase  DRDAConstants.DRDA_TYPE_LOBBYTES:\u003cbr\\/\u003e\\n\\t\\t\\t\\t\\tcase  DRDAConstants.DRDA_TYPE_NLOBBYTES:\u003cbr\\/\u003e\\n\\t\\t\\t\\t\\t\\tif (SanityManager.DEBUG)\u003cbr\\/\u003e\\n\\t\\t\\t\\t\\t\\t\\ttrace(\\\"parameter value is: \\\"+paramBytes);  &lt;---- more memory usage\u003cbr\\/\u003e\\n\\t\\t\\t\\t\\t\\tps.setBytes(i+1, paramBytes);\u003cbr\\/\u003e\\n\\t\\t\\t\\t\\t\\tbreak;\u003c\\/p\u003e\\n\\n\u003cp\u003eWould it be possible, to create a server side InputStream which requests bytes from the client on demand, and that on the server side we could use ps.setBinaryStream(..) instead of ps.setBytes(..) ?\u003cbr\\/\u003e\\nThe server would then stream the bytes when doing ps.execute().  Would this work if there are multiple parameters ?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"andreask\\\" id=\\\"commentauthor_12419715_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=andreask\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"andreask\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Andreas Korneliussen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12419715_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Jul\\/06 20:47\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-07-07T20:47:20+0000\'\u003e07\\/Jul\\/06 20:47\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I have done some tracing of this error on the server side which confirms that this is most likely a server side problem.  \\nWhen the DRDAConnThread reads parameter data, it will create a byte buffer and stream all the data of the blob into it. It happens when  \\n\\n DRDAConnThread.readAndSetExtParam calls reader.getExtData(..). \\n\\n private void readAndSetExtParam( int i, DRDAStatement stmt, \\n\\t\\t\\t\\t\\t\\t\\t\\t\\t  int drdaType, int extLen) \\n\\t\\t\\t\\tthrows DRDAProtocolException, SQLException \\n\\t\\t{ \\n\\t\\t\\tPreparedStatement ps = stmt.getPreparedStatement(); \\n\\t\\t\\tdrdaType = (drdaType &amp; 0x000000ff); \\/\\/ need unsigned value \\n\\t\\t\\tboolean checkNullability = false; \\n\\t\\t\\tif (sqlamLevel &gt;= MGRLVL_7 &amp;&amp; \\n\\t\\t\\t\\tFdocaConstants.isNullable(drdaType)) \\n\\t\\t\\t\\tcheckNullability = true; \\n\\n \\t\\t\\ttry {\\t \\n\\t\\t\\t\\tbyte[] paramBytes = reader.getExtData(checkNullability); &lt;---- here the entire LOB data gets populated in a byte array \\n\\n Later the paramer data is set using ps.setBytes(..). \\n\\n In addition, if running in debug mode, all the bytes are concatenated to the tracing string here: \\ncase  DRDAConstants.DRDA_TYPE_LOBBYTES: \\n\\t\\t\\t\\t\\tcase  DRDAConstants.DRDA_TYPE_NLOBBYTES: \\n\\t\\t\\t\\t\\t\\tif (SanityManager.DEBUG) \\n\\t\\t\\t\\t\\t\\t\\ttrace(\\\"parameter value is: \\\"+paramBytes);  &lt;---- more memory usage \\n\\t\\t\\t\\t\\t\\tps.setBytes(i+1, paramBytes); \\n\\t\\t\\t\\t\\t\\tbreak; \\n\\n Would it be possible, to create a server side InputStream which requests bytes from the client on demand, and that on the server side we could use ps.setBinaryStream(..) instead of ps.setBytes(..) ? \\nThe server would then stream the bytes when doing ps.execute().  Would this work if there are multiple parameters ?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12419716\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-550?focusedCommentId=12419716&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12419716\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"naka\\\" id=\\\"commentauthor_12419716_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=naka\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"naka\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Tomohito Nakayama\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12419716_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Jul\\/06 20:51\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-07-07T20:51:32+0000\'\u003e07\\/Jul\\/06 20:51\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eBTW, I just tried to resolve this issue and \u003cbr\\/\u003e\\nassigned myself to resolve as \\\"Cannot Reproduce\\\".\u003c\\/p\u003e\\n\\n\u003cp\u003eWell.. This may be some kind of destiny ....\u003cbr\\/\u003e\\nI will work for this issue.\u003c\\/p\u003e\\n\\n\u003cp\u003e\\/\\/ Fortunately I decided to wait \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-1417\\\" title=\\\"Add new, lengthless overloads to the streaming api\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-1417\\\"\u003e\u003cdel\u003eDERBY-1417\u003c\\/del\u003e\u003c\\/a\u003e in \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-1471\\\" title=\\\"Implement layer B streaming for new methods defined in JDBC4.0\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-1471\\\"\u003e\u003cdel\u003eDERBY-1471\u003c\\/del\u003e\u003c\\/a\u003e \u003cimg class=\\\"emoticon\\\" src=\\\"\\/jira\\/images\\/icons\\/emoticons\\/smile.png\\\" height=\\\"16\\\" width=\\\"16\\\" align=\\\"absmiddle\\\" alt=\\\"\\\" border=\\\"0\\\"\\/\u003e\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"naka\\\" id=\\\"commentauthor_12419716_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=naka\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"naka\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Tomohito Nakayama\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12419716_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Jul\\/06 20:51\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-07-07T20:51:32+0000\'\u003e07\\/Jul\\/06 20:51\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    BTW, I just tried to resolve this issue and  \\nassigned myself to resolve as \\\"Cannot Reproduce\\\". \\n\\n Well.. This may be some kind of destiny .... \\nI will work for this issue. \\n\\n \\/\\/ Fortunately I decided to wait   DERBY-1417   in   DERBY-1471                  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12419724\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-550?focusedCommentId=12419724&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12419724\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"andreask\\\" id=\\\"commentauthor_12419724_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=andreask\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"andreask\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Andreas Korneliussen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12419724_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Jul\\/06 21:41\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-07-07T21:41:20+0000\'\u003e07\\/Jul\\/06 21:41\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eOne more comment: there seems to be a client-side problem when streaming data to the client.\u003cbr\\/\u003e\\nI have created a table with a 64 MB blob in embedded mode, and if I try to get the data with a scrollable resultset on the client side, it fails with OutOfMemoryError  in NetStatementReply.copyEXTDTA, which is caught in an exception handler:\u003c\\/p\u003e\\n\\n\u003cp\u003e    protected void copyEXTDTA(NetCursor netCursor) throws DisconnectException {\u003cbr\\/\u003e\\n        try {\u003cbr\\/\u003e\\n            parseLengthAndMatchCodePoint(CodePoint.EXTDTA);\u003cbr\\/\u003e\\n            byte[] data = null;\u003cbr\\/\u003e\\n            if (longValueForDecryption_ == null) \u003c\\/p\u003e\\n{\\n                data = (getData(null)).toByteArray();\\n            }\\n\u003cp\u003e else \u003c\\/p\u003e\\n{\\n                data = longValueForDecryption_;\\n                dssLength_ = 0;\\n                longValueForDecryption_ = null;\\n            }\\n\u003cp\u003e            netCursor.extdtaData_.add(data);\u003cbr\\/\u003e\\n        } catch (java.lang.OutOfMemoryError e) \u003c\\/p\u003e\\n{\\n            agent_.accumulateChainBreakingReadExceptionAndThrow(new DisconnectException(agent_,\\n                new ClientMessageId(SQLState.NET_LOB_DATA_TOO_LARGE_FOR_JVM),\\n                e));\\n        }\\n\u003cp\u003eThis again causes an assert in MessageUtil:\u003cbr\\/\u003e\\nException in thread \\\"main\\\" org.apache.derby.shared.common.sanity.AssertFailure: ASSERT FAILED Number of parameters expected for message id 58009.C.6 (0) does not match number of arguments received (1)\u003cbr\\/\u003e\\n        at org.apache.derby.shared.common.sanity.SanityManager.ASSERT(SanityManager.java:119)\u003cbr\\/\u003e\\n        at org.apache.derby.shared.common.i18n.MessageUtil.formatMessage(MessageUtil.java:233)\u003cbr\\/\u003e\\n        at org.apache.derby.shared.common.i18n.MessageUtil.getCompleteMessage(MessageUtil.java:142)\u003cbr\\/\u003e\\n        at org.apache.derby.shared.common.i18n.MessageUtil.getCompleteMessage(MessageUtil.java:182)\u003cbr\\/\u003e\\n        at org.apache.derby.shared.common.i18n.MessageUtil.getCompleteMessage(MessageUtil.java:98)\u003c\\/p\u003e\\n\\n\u003cp\u003eUsing forward-only resultset:\u003cbr\\/\u003e\\nGet this error:\u003c\\/p\u003e\\n\\n\u003cp\u003ejava.sql.SQLException: Network protocol exception: DSS chained with same id at end of same id chain parse.  The connection has been terminated.\u003cbr\\/\u003e\\n        at org.apache.derby.client.am.SQLExceptionFactory.getSQLException(SQLExceptionFactory.java:45)\u003cbr\\/\u003e\\n        at org.apache.derby.client.am.SqlException.getSQLException(SqlException.java:344)\u003cbr\\/\u003e\\n        at org.apache.derby.jdbc.ClientDriver.connect(ClientDriver.java:148)\u003cbr\\/\u003e\\n        at java.sql.DriverManager.getConnection(DriverManager.java:525)\u003cbr\\/\u003e\\n        at java.sql.DriverManager.getConnection(DriverManager.java:171)\u003cbr\\/\u003e\\n        at derbytest.BlobOutOfMem.main(BlobOutOfMem.java:59)\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"andreask\\\" id=\\\"commentauthor_12419724_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=andreask\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"andreask\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Andreas Korneliussen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12419724_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Jul\\/06 21:41\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-07-07T21:41:20+0000\'\u003e07\\/Jul\\/06 21:41\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    One more comment: there seems to be a client-side problem when streaming data to the client. \\nI have created a table with a 64 MB blob in embedded mode, and if I try to get the data with a scrollable resultset on the client side, it fails with OutOfMemoryError  in NetStatementReply.copyEXTDTA, which is caught in an exception handler: \\n\\n     protected void copyEXTDTA(NetCursor netCursor) throws DisconnectException { \\n        try { \\n            parseLengthAndMatchCodePoint(CodePoint.EXTDTA); \\n            byte[] data = null; \\n            if (longValueForDecryption_ == null)  \\n{\\n                data = (getData(null)).toByteArray();\\n            }\\n  else  \\n{\\n                data = longValueForDecryption_;\\n                dssLength_ = 0;\\n                longValueForDecryption_ = null;\\n            }\\n             netCursor.extdtaData_.add(data); \\n        } catch (java.lang.OutOfMemoryError e)  \\n{\\n            agent_.accumulateChainBreakingReadExceptionAndThrow(new DisconnectException(agent_,\\n                new ClientMessageId(SQLState.NET_LOB_DATA_TOO_LARGE_FOR_JVM),\\n                e));\\n        }\\n This again causes an assert in MessageUtil: \\nException in thread \\\"main\\\" org.apache.derby.shared.common.sanity.AssertFailure: ASSERT FAILED Number of parameters expected for message id 58009.C.6 (0) does not match number of arguments received (1) \\n        at org.apache.derby.shared.common.sanity.SanityManager.ASSERT(SanityManager.java:119) \\n        at org.apache.derby.shared.common.i18n.MessageUtil.formatMessage(MessageUtil.java:233) \\n        at org.apache.derby.shared.common.i18n.MessageUtil.getCompleteMessage(MessageUtil.java:142) \\n        at org.apache.derby.shared.common.i18n.MessageUtil.getCompleteMessage(MessageUtil.java:182) \\n        at org.apache.derby.shared.common.i18n.MessageUtil.getCompleteMessage(MessageUtil.java:98) \\n\\n Using forward-only resultset: \\nGet this error: \\n\\n java.sql.SQLException: Network protocol exception: DSS chained with same id at end of same id chain parse.  The connection has been terminated. \\n        at org.apache.derby.client.am.SQLExceptionFactory.getSQLException(SQLExceptionFactory.java:45) \\n        at org.apache.derby.client.am.SqlException.getSQLException(SqlException.java:344) \\n        at org.apache.derby.jdbc.ClientDriver.connect(ClientDriver.java:148) \\n        at java.sql.DriverManager.getConnection(DriverManager.java:525) \\n        at java.sql.DriverManager.getConnection(DriverManager.java:171) \\n        at derbytest.BlobOutOfMem.main(BlobOutOfMem.java:59)              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12420094\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-550?focusedCommentId=12420094&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12420094\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"andreask\\\" id=\\\"commentauthor_12420094_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=andreask\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"andreask\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Andreas Korneliussen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12420094_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'10\\/Jul\\/06 21:39\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-07-10T21:39:56+0000\'\u003e10\\/Jul\\/06 21:39\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eAttached is a repro.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"andreask\\\" id=\\\"commentauthor_12420094_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=andreask\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"andreask\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Andreas Korneliussen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12420094_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'10\\/Jul\\/06 21:39\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-07-10T21:39:56+0000\'\u003e10\\/Jul\\/06 21:39\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Attached is a repro.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12420591\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-550?focusedCommentId=12420591&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12420591\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"andreask\\\" id=\\\"commentauthor_12420591_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=andreask\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"andreask\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Andreas Korneliussen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12420591_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Jul\\/06 18:26\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-07-12T18:26:55+0000\'\u003e12\\/Jul\\/06 18:26\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eUnless the streaming could be fixed for 10.2 so that we avoid OutOfMemoryError on the receiver side, I would propose the following:\u003c\\/p\u003e\\n\\n\u003cp\u003eWe know the size of the LOB, and can check if it can go into memory (using the Runtime class). If it cannot go into memory, we can throw an SQLException, instead of consuming all memory in the VM until we get OutOfMemoryError.\u003c\\/p\u003e\\n\\n\u003cp\u003eBy using this approach, we achieve the following:\u003c\\/p\u003e\\n\u003cul\u003e\\n\\t\u003cli\u003eSide-effects on other connections in the VM: Although it is the LOB which is taking almost all the memory in the VM, the OutOfMemoryError may be thrown in another thread in the VM, causing side-effects on other connections or on the application itself.\u003c\\/li\u003e\\n\\t\u003cli\u003eCurrently, if the Network server goes out of memory when streaming data, the DRDAConnThread will stop. This causes hangs in the user applications.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003eIf the streaming is fixed, there is not need to do this. Does anyone plan to fix the streaming issues for 10.2 ? If not, I will make a couple of JIRA issues to do the work of avoiding OutOfMemoryError by checking size before allocating the byte arrays.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"andreask\\\" id=\\\"commentauthor_12420591_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=andreask\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"andreask\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Andreas Korneliussen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12420591_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Jul\\/06 18:26\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-07-12T18:26:55+0000\'\u003e12\\/Jul\\/06 18:26\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Unless the streaming could be fixed for 10.2 so that we avoid OutOfMemoryError on the receiver side, I would propose the following: \\n\\n We know the size of the LOB, and can check if it can go into memory (using the Runtime class). If it cannot go into memory, we can throw an SQLException, instead of consuming all memory in the VM until we get OutOfMemoryError. \\n\\n By using this approach, we achieve the following: \\n \\n\\t Side-effects on other connections in the VM: Although it is the LOB which is taking almost all the memory in the VM, the OutOfMemoryError may be thrown in another thread in the VM, causing side-effects on other connections or on the application itself. \\n\\t Currently, if the Network server goes out of memory when streaming data, the DRDAConnThread will stop. This causes hangs in the user applications. \\n \\n\\n\\n If the streaming is fixed, there is not need to do this. Does anyone plan to fix the streaming issues for 10.2 ? If not, I will make a couple of JIRA issues to do the work of avoiding OutOfMemoryError by checking size before allocating the byte arrays.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12420877\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-550?focusedCommentId=12420877&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12420877\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"bryanpendleton\\\" id=\\\"commentauthor_12420877_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=bryanpendleton\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"bryanpendleton\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Bryan Pendleton\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12420877_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'13\\/Jul\\/06 21:03\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-07-13T21:03:36+0000\'\u003e13\\/Jul\\/06 21:03\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\\n\u003cp\u003eRE: Andreas\'s observation that LOB implemtation classes would need to be reimplemented, so that they will do the streaming.\u003c\\/p\u003e\\n\\n\u003cp\u003eI\'m wondering whether this might accidentally introduce other new and undesirable behaviors.\u003c\\/p\u003e\\n\\n\u003cp\u003eThe net effect of a change like this is that the LOB data will remain in the network pipe, or be queued on the server side, until the blob is read by the client.\u003c\\/p\u003e\\n\\n\u003cp\u003eBut what if that takes a long time, or in fact never happens?\u003c\\/p\u003e\\n\\n\u003cp\u003eWe might need a way to \\\"cancel\\\" a partially-sent BLOB object which was returned by the server but which the client for whatever reason never decided to read.\u003c\\/p\u003e\\n\\n\u003cp\u003eThe current \\\"greedy\\\" algorithm seems to ensure that we minimize the risk of producer-consumer deadlocks of various sorts, at the expense of accumulating the entire data into memory.\u003c\\/p\u003e\\n\\n\u003cp\u003eI hope this makes sense. I don\'t know of an actual problem here; I just have a funny feeling that this change is going to be rather tricky to accomplish.\u003c\\/p\u003e\\n\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"bryanpendleton\\\" id=\\\"commentauthor_12420877_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=bryanpendleton\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"bryanpendleton\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Bryan Pendleton\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12420877_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'13\\/Jul\\/06 21:03\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-07-13T21:03:36+0000\'\u003e13\\/Jul\\/06 21:03\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                   \\n RE: Andreas\'s observation that LOB implemtation classes would need to be reimplemented, so that they will do the streaming. \\n\\n I\'m wondering whether this might accidentally introduce other new and undesirable behaviors. \\n\\n The net effect of a change like this is that the LOB data will remain in the network pipe, or be queued on the server side, until the blob is read by the client. \\n\\n But what if that takes a long time, or in fact never happens? \\n\\n We might need a way to \\\"cancel\\\" a partially-sent BLOB object which was returned by the server but which the client for whatever reason never decided to read. \\n\\n The current \\\"greedy\\\" algorithm seems to ensure that we minimize the risk of producer-consumer deadlocks of various sorts, at the expense of accumulating the entire data into memory. \\n\\n I hope this makes sense. I don\'t know of an actual problem here; I just have a funny feeling that this change is going to be rather tricky to accomplish. \\n\\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12420891\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-550?focusedCommentId=12420891&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12420891\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"naka\\\" id=\\\"commentauthor_12420891_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=naka\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"naka\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Tomohito Nakayama\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12420891_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'13\\/Jul\\/06 23:24\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-07-13T23:24:45+0000\'\u003e13\\/Jul\\/06 23:24\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI executed BlobOutOfMem.java with Network Server running on jdb and\u003cbr\\/\u003e\\ntried to recognize circumstance where OutOfMemoryError happens.\u003c\\/p\u003e\\n\\n\u003cp\u003eThe result was as next.\u003c\\/p\u003e\\n\\n\u003cp\u003enaka@rufelza:~\\/derby\\/test\\/20060714$ startDebugNetworkServer.ksh \u003cbr\\/\u003e\\nInitializing jdb ...\u003cbr\\/\u003e\\n&gt; catch java.lang.OutOfMemoryError\u003cbr\\/\u003e\\nDeferring all java.lang.OutOfMemoryError.\u003cbr\\/\u003e\\nIt will be set after the class is loaded.\u003cbr\\/\u003e\\n&gt; run\u003cbr\\/\u003e\\nrun org.apache.derby.drda.NetworkServerControl start -h localhost -p 1527\u003cbr\\/\u003e\\nSet uncaught java.lang.Throwable\u003cbr\\/\u003e\\nSet deferred all java.lang.OutOfMemoryError\u003cbr\\/\u003e\\nSet deferred uncaught java.lang.Throwable\u003cbr\\/\u003e\\n&gt; \u003cbr\\/\u003e\\nVM Started: Apache Derby Network Server - 10.2.0.4 alpha started and ready to accept connections on port 1527 at 2006-07-13 15:40:31.278 GMT \u003c\\/p\u003e\\n\\n\u003cp\u003eException occurred: java.lang.OutOfMemoryError (uncaught)\u003cbr\\/\u003e\\nException occurred: java.lang.OutOfMemoryError (uncaught)\\\"thread=DRDAConnThread_3\\\", java.io.ByteArrayOutputStream.&lt;init&gt;(), line=59 bci=37\u003c\\/p\u003e\\n\\n\u003cp\u003eDRDAConnThread_3\u003cspan class=\\\"error\\\"\u003e&#91;1&#93;\u003c\\/span\u003e where\u003cbr\\/\u003e\\n  \u003cspan class=\\\"error\\\"\u003e&#91;1&#93;\u003c\\/span\u003e java.io.ByteArrayOutputStream.&lt;init&gt; (ByteArrayOutputStream.java:59)\u003cbr\\/\u003e\\n  \u003cspan class=\\\"error\\\"\u003e&#91;2&#93;\u003c\\/span\u003e org.apache.derby.impl.drda.DDMReader.getExtData (DDMReader.java:958)\u003cbr\\/\u003e\\n  \u003cspan class=\\\"error\\\"\u003e&#91;3&#93;\u003c\\/span\u003e org.apache.derby.impl.drda.DDMReader.getExtData (DDMReader.java:944)\u003cbr\\/\u003e\\n  \u003cspan class=\\\"error\\\"\u003e&#91;4&#93;\u003c\\/span\u003e org.apache.derby.impl.drda.DRDAConnThread.readAndSetExtParam (DRDAConnThread.java:4,355)\u003cbr\\/\u003e\\n  \u003cspan class=\\\"error\\\"\u003e&#91;5&#93;\u003c\\/span\u003e org.apache.derby.impl.drda.DRDAConnThread.readAndSetAllExtParams (DRDAConnThread.java:4,320)\u003cbr\\/\u003e\\n  \u003cspan class=\\\"error\\\"\u003e&#91;6&#93;\u003c\\/span\u003e org.apache.derby.impl.drda.DRDAConnThread.parseEXCSQLSTTobjects (DRDAConnThread.java:3,811)\u003cbr\\/\u003e\\n  \u003cspan class=\\\"error\\\"\u003e&#91;7&#93;\u003c\\/span\u003e org.apache.derby.impl.drda.DRDAConnThread.parseEXCSQLSTT (DRDAConnThread.java:3,640)\u003cbr\\/\u003e\\n  \u003cspan class=\\\"error\\\"\u003e&#91;8&#93;\u003c\\/span\u003e org.apache.derby.impl.drda.DRDAConnThread.processCommands (DRDAConnThread.java:928)\u003cbr\\/\u003e\\n  \u003cspan class=\\\"error\\\"\u003e&#91;9&#93;\u003c\\/span\u003e org.apache.derby.impl.drda.DRDAConnThread.run (DRDAConnThread.java:254)\u003cbr\\/\u003e\\nDRDAConnThread_3\u003cspan class=\\\"error\\\"\u003e&#91;1&#93;\u003c\\/span\u003e up\u003cbr\\/\u003e\\nDRDAConnThread_3\u003cspan class=\\\"error\\\"\u003e&#91;2&#93;\u003c\\/span\u003e list\u003cbr\\/\u003e\\n954    \u003cbr\\/\u003e\\n955    \\t\u003cbr\\/\u003e\\n956    \\tif (desiredLength != -1) \u003c\\/p\u003e\\n{\\n957            \\/\\/ allocate a stream based on a known amount of data\\n958 =&gt;         baos = new ByteArrayOutputStream ((int) desiredLength);\\n959    \\t}\\n\u003cp\u003e960    \\telse {\u003cbr\\/\u003e\\n961            \\/\\/ allocate a stream to hold an unknown amount of data\u003cbr\\/\u003e\\n962            baos = new ByteArrayOutputStream ();\u003cbr\\/\u003e\\n963            \\/\\/isLengthAndNullabilityUnknown = true;\u003cbr\\/\u003e\\nDRDAConnThread_3\u003cspan class=\\\"error\\\"\u003e&#91;2&#93;\u003c\\/span\u003e up\u003cbr\\/\u003e\\nDRDAConnThread_3\u003cspan class=\\\"error\\\"\u003e&#91;3&#93;\u003c\\/span\u003e list\u003cbr\\/\u003e\\n940    \\t\u003cbr\\/\u003e\\n941    \u003cbr\\/\u003e\\n942    \\tbyte[] getExtData (boolean checkNullability) throws DRDAProtocolException\u003cbr\\/\u003e\\n943    \\t\u003c\\/p\u003e\\n{\\n944 =&gt; \\t\\treturn  getExtData(ddmScalarLen, checkNullability);\\n945    \\t}\\n\u003cp\u003e946    \u003cbr\\/\u003e\\n947    \u003cbr\\/\u003e\\n948    \\tbyte[] getExtData (long desiredLength, boolean checkNullability) throws DRDAProtocolException\u003cbr\\/\u003e\\n949      {\u003cbr\\/\u003e\\nDRDAConnThread_3\u003cspan class=\\\"error\\\"\u003e&#91;3&#93;\u003c\\/span\u003e up\u003cbr\\/\u003e\\nDRDAConnThread_3\u003cspan class=\\\"error\\\"\u003e&#91;4&#93;\u003c\\/span\u003e list\u003cbr\\/\u003e\\n4,351    \\t\\t\\t\\tFdocaConstants.isNullable(drdaType))\u003cbr\\/\u003e\\n4,352    \\t\\t\\t\\tcheckNullability = true;\u003cbr\\/\u003e\\n4,353    \\t\u003cbr\\/\u003e\\n4,354    \\t\\t\\ttry {\\t\u003cbr\\/\u003e\\n4,355 =&gt; \\t\\t\\t\\tbyte[] paramBytes = reader.getExtData(checkNullability);\u003cbr\\/\u003e\\n4,356    \\t\\t\\t\\tString paramString = null;\u003cbr\\/\u003e\\n4,357    \\t\\t\\t\\tswitch (drdaType)\u003cbr\\/\u003e\\n4,358    \\t\\t\\t\\t{\u003cbr\\/\u003e\\n4,359    \\t\\t\\t\\t\\tcase  DRDAConstants.DRDA_TYPE_LOBBYTES:\u003cbr\\/\u003e\\n4,360    \\t\\t\\t\\t\\tcase  DRDAConstants.DRDA_TYPE_NLOBBYTES:\u003cbr\\/\u003e\\nDRDAConnThread_3\u003cspan class=\\\"error\\\"\u003e&#91;4&#93;\u003c\\/span\u003e \u003c\\/p\u003e\\n\\n\u003cp\u003eI confirm this part is where Andreas mentioned in previous comment.\u003c\\/p\u003e\\n\\n\u003cp\u003eI think this is one of very suspective places.\u003cbr\\/\u003e\\nHowever I think there may be another place where memory was used in waste.\u003cbr\\/\u003e\\nBecause reports from others for memory usage told that amount of used memory was much more larger than actual  size LOB to be streamed.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"naka\\\" id=\\\"commentauthor_12420891_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=naka\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"naka\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Tomohito Nakayama\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12420891_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'13\\/Jul\\/06 23:24\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-07-13T23:24:45+0000\'\u003e13\\/Jul\\/06 23:24\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I executed BlobOutOfMem.java with Network Server running on jdb and \\ntried to recognize circumstance where OutOfMemoryError happens. \\n\\n The result was as next. \\n\\n naka@rufelza:~\\/derby\\/test\\/20060714$ startDebugNetworkServer.ksh  \\nInitializing jdb ... \\n&gt; catch java.lang.OutOfMemoryError \\nDeferring all java.lang.OutOfMemoryError. \\nIt will be set after the class is loaded. \\n&gt; run \\nrun org.apache.derby.drda.NetworkServerControl start -h localhost -p 1527 \\nSet uncaught java.lang.Throwable \\nSet deferred all java.lang.OutOfMemoryError \\nSet deferred uncaught java.lang.Throwable \\n&gt;  \\nVM Started: Apache Derby Network Server - 10.2.0.4 alpha started and ready to accept connections on port 1527 at 2006-07-13 15:40:31.278 GMT  \\n\\n Exception occurred: java.lang.OutOfMemoryError (uncaught) \\nException occurred: java.lang.OutOfMemoryError (uncaught)\\\"thread=DRDAConnThread_3\\\", java.io.ByteArrayOutputStream.&lt;init&gt;(), line=59 bci=37 \\n\\n DRDAConnThread_3 &#91;1&#93;  where \\n   &#91;1&#93;  java.io.ByteArrayOutputStream.&lt;init&gt; (ByteArrayOutputStream.java:59) \\n   &#91;2&#93;  org.apache.derby.impl.drda.DDMReader.getExtData (DDMReader.java:958) \\n   &#91;3&#93;  org.apache.derby.impl.drda.DDMReader.getExtData (DDMReader.java:944) \\n   &#91;4&#93;  org.apache.derby.impl.drda.DRDAConnThread.readAndSetExtParam (DRDAConnThread.java:4,355) \\n   &#91;5&#93;  org.apache.derby.impl.drda.DRDAConnThread.readAndSetAllExtParams (DRDAConnThread.java:4,320) \\n   &#91;6&#93;  org.apache.derby.impl.drda.DRDAConnThread.parseEXCSQLSTTobjects (DRDAConnThread.java:3,811) \\n   &#91;7&#93;  org.apache.derby.impl.drda.DRDAConnThread.parseEXCSQLSTT (DRDAConnThread.java:3,640) \\n   &#91;8&#93;  org.apache.derby.impl.drda.DRDAConnThread.processCommands (DRDAConnThread.java:928) \\n   &#91;9&#93;  org.apache.derby.impl.drda.DRDAConnThread.run (DRDAConnThread.java:254) \\nDRDAConnThread_3 &#91;1&#93;  up \\nDRDAConnThread_3 &#91;2&#93;  list \\n954     \\n955    \\t \\n956    \\tif (desiredLength != -1)  \\n{\\n957            \\/\\/ allocate a stream based on a known amount of data\\n958 =&gt;         baos = new ByteArrayOutputStream ((int) desiredLength);\\n959    \\t}\\n 960    \\telse { \\n961            \\/\\/ allocate a stream to hold an unknown amount of data \\n962            baos = new ByteArrayOutputStream (); \\n963            \\/\\/isLengthAndNullabilityUnknown = true; \\nDRDAConnThread_3 &#91;2&#93;  up \\nDRDAConnThread_3 &#91;3&#93;  list \\n940    \\t \\n941     \\n942    \\tbyte[] getExtData (boolean checkNullability) throws DRDAProtocolException \\n943    \\t \\n{\\n944 =&gt; \\t\\treturn  getExtData(ddmScalarLen, checkNullability);\\n945    \\t}\\n 946     \\n947     \\n948    \\tbyte[] getExtData (long desiredLength, boolean checkNullability) throws DRDAProtocolException \\n949      { \\nDRDAConnThread_3 &#91;3&#93;  up \\nDRDAConnThread_3 &#91;4&#93;  list \\n4,351    \\t\\t\\t\\tFdocaConstants.isNullable(drdaType)) \\n4,352    \\t\\t\\t\\tcheckNullability = true; \\n4,353    \\t \\n4,354    \\t\\t\\ttry {\\t \\n4,355 =&gt; \\t\\t\\t\\tbyte[] paramBytes = reader.getExtData(checkNullability); \\n4,356    \\t\\t\\t\\tString paramString = null; \\n4,357    \\t\\t\\t\\tswitch (drdaType) \\n4,358    \\t\\t\\t\\t{ \\n4,359    \\t\\t\\t\\t\\tcase  DRDAConstants.DRDA_TYPE_LOBBYTES: \\n4,360    \\t\\t\\t\\t\\tcase  DRDAConstants.DRDA_TYPE_NLOBBYTES: \\nDRDAConnThread_3 &#91;4&#93;   \\n\\n I confirm this part is where Andreas mentioned in previous comment. \\n\\n I think this is one of very suspective places. \\nHowever I think there may be another place where memory was used in waste. \\nBecause reports from others for memory usage told that amount of used memory was much more larger than actual  size LOB to be streamed.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12420894\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-550?focusedCommentId=12420894&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12420894\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"naka\\\" id=\\\"commentauthor_12420894_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=naka\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"naka\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Tomohito Nakayama\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12420894_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'13\\/Jul\\/06 23:41\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-07-13T23:41:31+0000\'\u003e13\\/Jul\\/06 23:41\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eConfiguring -Xmx256m option to jdb under NetworkServer, I tested again.\u003cbr\\/\u003e\\nThen,I found different stack for the error.\u003c\\/p\u003e\\n\\n\u003cp\u003eDRDAConnThread_3\u003cspan class=\\\"error\\\"\u003e&#91;1&#93;\u003c\\/span\u003e where\u003cbr\\/\u003e\\n  \u003cspan class=\\\"error\\\"\u003e&#91;1&#93;\u003c\\/span\u003e org.apache.derby.iapi.services.io.DynamicByteArrayOutputStream.&lt;init&gt; (DynamicByteArrayOutputStream.java:63)\u003cbr\\/\u003e\\n  \u003cspan class=\\\"error\\\"\u003e&#91;2&#93;\u003c\\/span\u003e org.apache.derby.impl.store.raw.data.BasePage.insertAllowOverflow (BasePage.java:821)\u003cbr\\/\u003e\\n  \u003cspan class=\\\"error\\\"\u003e&#91;3&#93;\u003c\\/span\u003e org.apache.derby.impl.store.raw.data.BasePage.insert (BasePage.java:694)\u003cbr\\/\u003e\\n  \u003cspan class=\\\"error\\\"\u003e&#91;4&#93;\u003c\\/span\u003e org.apache.derby.impl.store.access.heap.HeapController.doInsert (HeapController.java:306)\u003cbr\\/\u003e\\n  \u003cspan class=\\\"error\\\"\u003e&#91;5&#93;\u003c\\/span\u003e org.apache.derby.impl.store.access.heap.HeapController.insert (HeapController.java:573)\u003cbr\\/\u003e\\n  \u003cspan class=\\\"error\\\"\u003e&#91;6&#93;\u003c\\/span\u003e org.apache.derby.impl.sql.execute.RowChangerImpl.insertRow (RowChangerImpl.java:447)\u003cbr\\/\u003e\\n  \u003cspan class=\\\"error\\\"\u003e&#91;7&#93;\u003c\\/span\u003e org.apache.derby.impl.sql.execute.InsertResultSet.normalInsertCore (InsertResultSet.java:995)\u003cbr\\/\u003e\\n  \u003cspan class=\\\"error\\\"\u003e&#91;8&#93;\u003c\\/span\u003e org.apache.derby.impl.sql.execute.InsertResultSet.open (InsertResultSet.java:522)\u003cbr\\/\u003e\\n  \u003cspan class=\\\"error\\\"\u003e&#91;9&#93;\u003c\\/span\u003e org.apache.derby.impl.sql.GenericPreparedStatement.execute (GenericPreparedStatement.java:357)\u003cbr\\/\u003e\\n  \u003cspan class=\\\"error\\\"\u003e&#91;10&#93;\u003c\\/span\u003e org.apache.derby.impl.jdbc.EmbedStatement.executeStatement (EmbedStatement.java:1,181)\u003cbr\\/\u003e\\n  \u003cspan class=\\\"error\\\"\u003e&#91;11&#93;\u003c\\/span\u003e org.apache.derby.impl.jdbc.EmbedPreparedStatement.executeStatement (EmbedPreparedStatement.java:1,510)\u003cbr\\/\u003e\\n  \u003cspan class=\\\"error\\\"\u003e&#91;12&#93;\u003c\\/span\u003e org.apache.derby.impl.jdbc.EmbedPreparedStatement.execute (EmbedPreparedStatement.java:1,188)\u003cbr\\/\u003e\\n  \u003cspan class=\\\"error\\\"\u003e&#91;13&#93;\u003c\\/span\u003e org.apache.derby.impl.drda.DRDAStatement.execute (DRDAStatement.java:559)\u003cbr\\/\u003e\\n  \u003cspan class=\\\"error\\\"\u003e&#91;14&#93;\u003c\\/span\u003e org.apache.derby.impl.drda.DRDAConnThread.parseEXCSQLSTT (DRDAConnThread.java:3,655)\u003cbr\\/\u003e\\n  \u003cspan class=\\\"error\\\"\u003e&#91;15&#93;\u003c\\/span\u003e org.apache.derby.impl.drda.DRDAConnThread.processCommands (DRDAConnThread.java:928)\u003cbr\\/\u003e\\n  \u003cspan class=\\\"error\\\"\u003e&#91;16&#93;\u003c\\/span\u003e org.apache.derby.impl.drda.DRDAConnThread.run (DRDAConnThread.java:254)\u003cbr\\/\u003e\\nDRDAConnThread_3\u003cspan class=\\\"error\\\"\u003e&#91;1&#93;\u003c\\/span\u003e eval java.lang.Runtime.getRuntime().maxMemory()\u003cbr\\/\u003e\\n java.lang.Runtime.getRuntime().maxMemory() = 266403840\u003cbr\\/\u003e\\nDRDAConnThread_3\u003cspan class=\\\"error\\\"\u003e&#91;1&#93;\u003c\\/span\u003e \u003c\\/p\u003e\\n\\n\u003cp\u003eI think it is remarkable that error happend at code of Engine in this case.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"naka\\\" id=\\\"commentauthor_12420894_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=naka\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"naka\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Tomohito Nakayama\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12420894_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'13\\/Jul\\/06 23:41\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-07-13T23:41:31+0000\'\u003e13\\/Jul\\/06 23:41\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Configuring -Xmx256m option to jdb under NetworkServer, I tested again. \\nThen,I found different stack for the error. \\n\\n DRDAConnThread_3 &#91;1&#93;  where \\n   &#91;1&#93;  org.apache.derby.iapi.services.io.DynamicByteArrayOutputStream.&lt;init&gt; (DynamicByteArrayOutputStream.java:63) \\n   &#91;2&#93;  org.apache.derby.impl.store.raw.data.BasePage.insertAllowOverflow (BasePage.java:821) \\n   &#91;3&#93;  org.apache.derby.impl.store.raw.data.BasePage.insert (BasePage.java:694) \\n   &#91;4&#93;  org.apache.derby.impl.store.access.heap.HeapController.doInsert (HeapController.java:306) \\n   &#91;5&#93;  org.apache.derby.impl.store.access.heap.HeapController.insert (HeapController.java:573) \\n   &#91;6&#93;  org.apache.derby.impl.sql.execute.RowChangerImpl.insertRow (RowChangerImpl.java:447) \\n   &#91;7&#93;  org.apache.derby.impl.sql.execute.InsertResultSet.normalInsertCore (InsertResultSet.java:995) \\n   &#91;8&#93;  org.apache.derby.impl.sql.execute.InsertResultSet.open (InsertResultSet.java:522) \\n   &#91;9&#93;  org.apache.derby.impl.sql.GenericPreparedStatement.execute (GenericPreparedStatement.java:357) \\n   &#91;10&#93;  org.apache.derby.impl.jdbc.EmbedStatement.executeStatement (EmbedStatement.java:1,181) \\n   &#91;11&#93;  org.apache.derby.impl.jdbc.EmbedPreparedStatement.executeStatement (EmbedPreparedStatement.java:1,510) \\n   &#91;12&#93;  org.apache.derby.impl.jdbc.EmbedPreparedStatement.execute (EmbedPreparedStatement.java:1,188) \\n   &#91;13&#93;  org.apache.derby.impl.drda.DRDAStatement.execute (DRDAStatement.java:559) \\n   &#91;14&#93;  org.apache.derby.impl.drda.DRDAConnThread.parseEXCSQLSTT (DRDAConnThread.java:3,655) \\n   &#91;15&#93;  org.apache.derby.impl.drda.DRDAConnThread.processCommands (DRDAConnThread.java:928) \\n   &#91;16&#93;  org.apache.derby.impl.drda.DRDAConnThread.run (DRDAConnThread.java:254) \\nDRDAConnThread_3 &#91;1&#93;  eval java.lang.Runtime.getRuntime().maxMemory() \\n java.lang.Runtime.getRuntime().maxMemory() = 266403840 \\nDRDAConnThread_3 &#91;1&#93;   \\n\\n I think it is remarkable that error happend at code of Engine in this case.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12421270\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-550?focusedCommentId=12421270&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12421270\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"naka\\\" id=\\\"commentauthor_12421270_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=naka\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"naka\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Tomohito Nakayama\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12421270_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Jul\\/06 05:11\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-07-15T05:11:43+0000\'\u003e15\\/Jul\\/06 05:11\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI tested with -Xmx192m -Xmx128m -Xmx64m also.\u003c\\/p\u003e\\n\\n\u003cp\u003eThe results was as next\u003c\\/p\u003e\\n\\n\u003cp\u003eWith -Xmx192m :\u003cbr\\/\u003e\\nException occurred: java.lang.OutOfMemoryError (to be caught at: org.apache.derby.impl.store.raw.data.StoredPage.logRow(), line=4,209 bci=1,370)\\\"thread=DRDAConnThread_3\\\", org.apache.derby.impl.store.raw.data.MemByteHolder.&lt;init&gt;(), line=68 bci=26\u003cbr\\/\u003e\\n68    \\t\\tthis.curBuf = new byte\u003cspan class=\\\"error\\\"\u003e&#91;bufSize&#93;\u003c\\/span\u003e;\u003c\\/p\u003e\\n\\n\u003cp\u003eDRDAConnThread_3\u003cspan class=\\\"error\\\"\u003e&#91;1&#93;\u003c\\/span\u003e where\u003cbr\\/\u003e\\n  \u003cspan class=\\\"error\\\"\u003e&#91;1&#93;\u003c\\/span\u003e org.apache.derby.impl.store.raw.data.MemByteHolder.&lt;init&gt; (MemByteHolder.java:68)\u003cbr\\/\u003e\\n  \u003cspan class=\\\"error\\\"\u003e&#91;2&#93;\u003c\\/span\u003e org.apache.derby.impl.store.raw.data.StoredPage.logColumn (StoredPage.java:6,351)\u003cbr\\/\u003e\\n  \u003cspan class=\\\"error\\\"\u003e&#91;3&#93;\u003c\\/span\u003e org.apache.derby.impl.store.raw.data.StoredPage.logRow (StoredPage.java:3,965)\u003cbr\\/\u003e\\n  \u003cspan class=\\\"error\\\"\u003e&#91;4&#93;\u003c\\/span\u003e org.apache.derby.impl.store.raw.data.InsertOperation.writeOptionalDataToBuffer (InsertOperation.java:369)\u003cbr\\/\u003e\\n  \u003cspan class=\\\"error\\\"\u003e&#91;5&#93;\u003c\\/span\u003e org.apache.derby.impl.store.raw.data.InsertOperation.&lt;init&gt; (InsertOperation.java:114)\u003cbr\\/\u003e\\n  \u003cspan class=\\\"error\\\"\u003e&#91;6&#93;\u003c\\/span\u003e org.apache.derby.impl.store.raw.data.LoggableActions.actionInsert (LoggableActions.java:138)\u003cbr\\/\u003e\\n  \u003cspan class=\\\"error\\\"\u003e&#91;7&#93;\u003c\\/span\u003e org.apache.derby.impl.store.raw.data.BasePage.insertNoOverflow (BasePage.java:664)\u003cbr\\/\u003e\\n  \u003cspan class=\\\"error\\\"\u003e&#91;8&#93;\u003c\\/span\u003e org.apache.derby.impl.store.raw.data.BasePage.insertAtSlot (BasePage.java:585)\u003cbr\\/\u003e\\n  \u003cspan class=\\\"error\\\"\u003e&#91;9&#93;\u003c\\/span\u003e org.apache.derby.impl.store.raw.data.StoredPage.insertAtSlot (StoredPage.java:6,735)\u003cbr\\/\u003e\\n  \u003cspan class=\\\"error\\\"\u003e&#91;10&#93;\u003c\\/span\u003e org.apache.derby.impl.store.raw.data.BasePage.insert (BasePage.java:691)\u003cbr\\/\u003e\\n  \u003cspan class=\\\"error\\\"\u003e&#91;11&#93;\u003c\\/span\u003e org.apache.derby.impl.store.access.heap.HeapController.doInsert (HeapController.java:254)\u003cbr\\/\u003e\\n  \u003cspan class=\\\"error\\\"\u003e&#91;12&#93;\u003c\\/span\u003e org.apache.derby.impl.store.access.heap.HeapController.insert (HeapController.java:573)\u003cbr\\/\u003e\\n  \u003cspan class=\\\"error\\\"\u003e&#91;13&#93;\u003c\\/span\u003e org.apache.derby.impl.sql.execute.RowChangerImpl.insertRow (RowChangerImpl.java:447)\u003cbr\\/\u003e\\n  \u003cspan class=\\\"error\\\"\u003e&#91;14&#93;\u003c\\/span\u003e org.apache.derby.impl.sql.execute.InsertResultSet.normalInsertCore (InsertResultSet.java:995)\u003cbr\\/\u003e\\n  \u003cspan class=\\\"error\\\"\u003e&#91;15&#93;\u003c\\/span\u003e org.apache.derby.impl.sql.execute.InsertResultSet.open (InsertResultSet.java:522)\u003cbr\\/\u003e\\n  \u003cspan class=\\\"error\\\"\u003e&#91;16&#93;\u003c\\/span\u003e org.apache.derby.impl.sql.GenericPreparedStatement.execute (GenericPreparedStatement.java:357)\u003cbr\\/\u003e\\n  \u003cspan class=\\\"error\\\"\u003e&#91;17&#93;\u003c\\/span\u003e org.apache.derby.impl.jdbc.EmbedStatement.executeStatement (EmbedStatement.java:1,181)\u003cbr\\/\u003e\\n  \u003cspan class=\\\"error\\\"\u003e&#91;18&#93;\u003c\\/span\u003e org.apache.derby.impl.jdbc.EmbedPreparedStatement.executeStatement (EmbedPreparedStatement.java:1,510)\u003cbr\\/\u003e\\n  \u003cspan class=\\\"error\\\"\u003e&#91;19&#93;\u003c\\/span\u003e org.apache.derby.impl.jdbc.EmbedPreparedStatement.execute (EmbedPreparedStatement.java:1,188)\u003cbr\\/\u003e\\n  \u003cspan class=\\\"error\\\"\u003e&#91;20&#93;\u003c\\/span\u003e org.apache.derby.impl.drda.DRDAStatement.execute (DRDAStatement.java:559)\u003cbr\\/\u003e\\n  \u003cspan class=\\\"error\\\"\u003e&#91;21&#93;\u003c\\/span\u003e org.apache.derby.impl.drda.DRDAConnThread.parseEXCSQLSTT (DRDAConnThread.java:3,655)\u003cbr\\/\u003e\\n  \u003cspan class=\\\"error\\\"\u003e&#91;22&#93;\u003c\\/span\u003e org.apache.derby.impl.drda.DRDAConnThread.processCommands (DRDAConnThread.java:928)\u003cbr\\/\u003e\\n  \u003cspan class=\\\"error\\\"\u003e&#91;23&#93;\u003c\\/span\u003e org.apache.derby.impl.drda.DRDAConnThread.run (DRDAConnThread.java:254)\u003cbr\\/\u003e\\nDRDAConnThread_3\u003cspan class=\\\"error\\\"\u003e&#91;1&#93;\u003c\\/span\u003e eval java.lang.Runtime.getRuntime().maxMemory() \u003cbr\\/\u003e\\n java.lang.Runtime.getRuntime().maxMemory()  = 199819264\u003c\\/p\u003e\\n\\n\\n\u003cp\u003eWith -Xmx128m :\u003cbr\\/\u003e\\nException occurred: java.lang.OutOfMemoryError (uncaught)\u003cbr\\/\u003e\\nException occurred: java.lang.OutOfMemoryError (uncaught)\\\"thread=DRDAConnThread_3\\\", java.io.ByteArrayOutputStream.toByteArray(), line=136 bci=4\u003c\\/p\u003e\\n\\n\u003cp\u003eDRDAConnThread_3\u003cspan class=\\\"error\\\"\u003e&#91;1&#93;\u003c\\/span\u003e where\u003cbr\\/\u003e\\n  \u003cspan class=\\\"error\\\"\u003e&#91;1&#93;\u003c\\/span\u003e java.io.ByteArrayOutputStream.toByteArray (ByteArrayOutputStream.java:136)\u003cbr\\/\u003e\\n  \u003cspan class=\\\"error\\\"\u003e&#91;2&#93;\u003c\\/span\u003e org.apache.derby.impl.drda.DDMReader.getExtData (DDMReader.java:1,004)\u003cbr\\/\u003e\\n  \u003cspan class=\\\"error\\\"\u003e&#91;3&#93;\u003c\\/span\u003e org.apache.derby.impl.drda.DDMReader.getExtData (DDMReader.java:944)\u003cbr\\/\u003e\\n  \u003cspan class=\\\"error\\\"\u003e&#91;4&#93;\u003c\\/span\u003e org.apache.derby.impl.drda.DRDAConnThread.readAndSetExtParam (DRDAConnThread.java:4,355)\u003cbr\\/\u003e\\n  \u003cspan class=\\\"error\\\"\u003e&#91;5&#93;\u003c\\/span\u003e org.apache.derby.impl.drda.DRDAConnThread.readAndSetAllExtParams (DRDAConnThread.java:4,320)\u003cbr\\/\u003e\\n  \u003cspan class=\\\"error\\\"\u003e&#91;6&#93;\u003c\\/span\u003e org.apache.derby.impl.drda.DRDAConnThread.parseEXCSQLSTTobjects (DRDAConnThread.java:3,811)\u003cbr\\/\u003e\\n  \u003cspan class=\\\"error\\\"\u003e&#91;7&#93;\u003c\\/span\u003e org.apache.derby.impl.drda.DRDAConnThread.parseEXCSQLSTT (DRDAConnThread.java:3,640)\u003cbr\\/\u003e\\n  \u003cspan class=\\\"error\\\"\u003e&#91;8&#93;\u003c\\/span\u003e org.apache.derby.impl.drda.DRDAConnThread.processCommands (DRDAConnThread.java:928)\u003cbr\\/\u003e\\n  \u003cspan class=\\\"error\\\"\u003e&#91;9&#93;\u003c\\/span\u003e org.apache.derby.impl.drda.DRDAConnThread.run (DRDAConnThread.java:254)\u003cbr\\/\u003e\\nDRDAConnThread_3\u003cspan class=\\\"error\\\"\u003e&#91;1&#93;\u003c\\/span\u003e eval java.lang.Runtime.getRuntime().maxMemory() \u003cbr\\/\u003e\\n java.lang.Runtime.getRuntime().maxMemory()  = 133234688\u003c\\/p\u003e\\n\\n\u003cp\u003eWith -Xmx64m:\u003cbr\\/\u003e\\nException occurred: java.lang.OutOfMemoryError (uncaught)\u003cbr\\/\u003e\\nException occurred: java.lang.OutOfMemoryError (uncaught)\\\"thread=DRDAConnThread_3\\\", java.io.ByteArrayOutputStream.&lt;init&gt;(), line=59 bci=37\u003c\\/p\u003e\\n\\n\u003cp\u003eDRDAConnThread_3\u003cspan class=\\\"error\\\"\u003e&#91;1&#93;\u003c\\/span\u003e where\u003cbr\\/\u003e\\n  \u003cspan class=\\\"error\\\"\u003e&#91;1&#93;\u003c\\/span\u003e java.io.ByteArrayOutputStream.&lt;init&gt; (ByteArrayOutputStream.java:59)\u003cbr\\/\u003e\\n  \u003cspan class=\\\"error\\\"\u003e&#91;2&#93;\u003c\\/span\u003e org.apache.derby.impl.drda.DDMReader.getExtData (DDMReader.java:958)\u003cbr\\/\u003e\\n  \u003cspan class=\\\"error\\\"\u003e&#91;3&#93;\u003c\\/span\u003e org.apache.derby.impl.drda.DDMReader.getExtData (DDMReader.java:944)\u003cbr\\/\u003e\\n  \u003cspan class=\\\"error\\\"\u003e&#91;4&#93;\u003c\\/span\u003e org.apache.derby.impl.drda.DRDAConnThread.readAndSetExtParam (DRDAConnThread.java:4,355)\u003cbr\\/\u003e\\n  \u003cspan class=\\\"error\\\"\u003e&#91;5&#93;\u003c\\/span\u003e org.apache.derby.impl.drda.DRDAConnThread.readAndSetAllExtParams (DRDAConnThread.java:4,320)\u003cbr\\/\u003e\\n  \u003cspan class=\\\"error\\\"\u003e&#91;6&#93;\u003c\\/span\u003e org.apache.derby.impl.drda.DRDAConnThread.parseEXCSQLSTTobjects (DRDAConnThread.java:3,811)\u003cbr\\/\u003e\\n  \u003cspan class=\\\"error\\\"\u003e&#91;7&#93;\u003c\\/span\u003e org.apache.derby.impl.drda.DRDAConnThread.parseEXCSQLSTT (DRDAConnThread.java:3,640)\u003cbr\\/\u003e\\n  \u003cspan class=\\\"error\\\"\u003e&#91;8&#93;\u003c\\/span\u003e org.apache.derby.impl.drda.DRDAConnThread.processCommands (DRDAConnThread.java:928)\u003cbr\\/\u003e\\n  \u003cspan class=\\\"error\\\"\u003e&#91;9&#93;\u003c\\/span\u003e org.apache.derby.impl.drda.DRDAConnThread.run (DRDAConnThread.java:254)\u003cbr\\/\u003e\\nDRDAConnThread_3\u003cspan class=\\\"error\\\"\u003e&#91;1&#93;\u003c\\/span\u003e eval java.lang.Runtime.getRuntime().maxMemory() \u003cbr\\/\u003e\\n java.lang.Runtime.getRuntime().maxMemory()  = 66650112\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"naka\\\" id=\\\"commentauthor_12421270_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=naka\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"naka\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Tomohito Nakayama\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12421270_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Jul\\/06 05:11\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-07-15T05:11:43+0000\'\u003e15\\/Jul\\/06 05:11\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I tested with -Xmx192m -Xmx128m -Xmx64m also. \\n\\n The results was as next \\n\\n With -Xmx192m : \\nException occurred: java.lang.OutOfMemoryError (to be caught at: org.apache.derby.impl.store.raw.data.StoredPage.logRow(), line=4,209 bci=1,370)\\\"thread=DRDAConnThread_3\\\", org.apache.derby.impl.store.raw.data.MemByteHolder.&lt;init&gt;(), line=68 bci=26 \\n68    \\t\\tthis.curBuf = new byte &#91;bufSize&#93; ; \\n\\n DRDAConnThread_3 &#91;1&#93;  where \\n   &#91;1&#93;  org.apache.derby.impl.store.raw.data.MemByteHolder.&lt;init&gt; (MemByteHolder.java:68) \\n   &#91;2&#93;  org.apache.derby.impl.store.raw.data.StoredPage.logColumn (StoredPage.java:6,351) \\n   &#91;3&#93;  org.apache.derby.impl.store.raw.data.StoredPage.logRow (StoredPage.java:3,965) \\n   &#91;4&#93;  org.apache.derby.impl.store.raw.data.InsertOperation.writeOptionalDataToBuffer (InsertOperation.java:369) \\n   &#91;5&#93;  org.apache.derby.impl.store.raw.data.InsertOperation.&lt;init&gt; (InsertOperation.java:114) \\n   &#91;6&#93;  org.apache.derby.impl.store.raw.data.LoggableActions.actionInsert (LoggableActions.java:138) \\n   &#91;7&#93;  org.apache.derby.impl.store.raw.data.BasePage.insertNoOverflow (BasePage.java:664) \\n   &#91;8&#93;  org.apache.derby.impl.store.raw.data.BasePage.insertAtSlot (BasePage.java:585) \\n   &#91;9&#93;  org.apache.derby.impl.store.raw.data.StoredPage.insertAtSlot (StoredPage.java:6,735) \\n   &#91;10&#93;  org.apache.derby.impl.store.raw.data.BasePage.insert (BasePage.java:691) \\n   &#91;11&#93;  org.apache.derby.impl.store.access.heap.HeapController.doInsert (HeapController.java:254) \\n   &#91;12&#93;  org.apache.derby.impl.store.access.heap.HeapController.insert (HeapController.java:573) \\n   &#91;13&#93;  org.apache.derby.impl.sql.execute.RowChangerImpl.insertRow (RowChangerImpl.java:447) \\n   &#91;14&#93;  org.apache.derby.impl.sql.execute.InsertResultSet.normalInsertCore (InsertResultSet.java:995) \\n   &#91;15&#93;  org.apache.derby.impl.sql.execute.InsertResultSet.open (InsertResultSet.java:522) \\n   &#91;16&#93;  org.apache.derby.impl.sql.GenericPreparedStatement.execute (GenericPreparedStatement.java:357) \\n   &#91;17&#93;  org.apache.derby.impl.jdbc.EmbedStatement.executeStatement (EmbedStatement.java:1,181) \\n   &#91;18&#93;  org.apache.derby.impl.jdbc.EmbedPreparedStatement.executeStatement (EmbedPreparedStatement.java:1,510) \\n   &#91;19&#93;  org.apache.derby.impl.jdbc.EmbedPreparedStatement.execute (EmbedPreparedStatement.java:1,188) \\n   &#91;20&#93;  org.apache.derby.impl.drda.DRDAStatement.execute (DRDAStatement.java:559) \\n   &#91;21&#93;  org.apache.derby.impl.drda.DRDAConnThread.parseEXCSQLSTT (DRDAConnThread.java:3,655) \\n   &#91;22&#93;  org.apache.derby.impl.drda.DRDAConnThread.processCommands (DRDAConnThread.java:928) \\n   &#91;23&#93;  org.apache.derby.impl.drda.DRDAConnThread.run (DRDAConnThread.java:254) \\nDRDAConnThread_3 &#91;1&#93;  eval java.lang.Runtime.getRuntime().maxMemory()  \\n java.lang.Runtime.getRuntime().maxMemory()  = 199819264 \\n\\n\\n With -Xmx128m : \\nException occurred: java.lang.OutOfMemoryError (uncaught) \\nException occurred: java.lang.OutOfMemoryError (uncaught)\\\"thread=DRDAConnThread_3\\\", java.io.ByteArrayOutputStream.toByteArray(), line=136 bci=4 \\n\\n DRDAConnThread_3 &#91;1&#93;  where \\n   &#91;1&#93;  java.io.ByteArrayOutputStream.toByteArray (ByteArrayOutputStream.java:136) \\n   &#91;2&#93;  org.apache.derby.impl.drda.DDMReader.getExtData (DDMReader.java:1,004) \\n   &#91;3&#93;  org.apache.derby.impl.drda.DDMReader.getExtData (DDMReader.java:944) \\n   &#91;4&#93;  org.apache.derby.impl.drda.DRDAConnThread.readAndSetExtParam (DRDAConnThread.java:4,355) \\n   &#91;5&#93;  org.apache.derby.impl.drda.DRDAConnThread.readAndSetAllExtParams (DRDAConnThread.java:4,320) \\n   &#91;6&#93;  org.apache.derby.impl.drda.DRDAConnThread.parseEXCSQLSTTobjects (DRDAConnThread.java:3,811) \\n   &#91;7&#93;  org.apache.derby.impl.drda.DRDAConnThread.parseEXCSQLSTT (DRDAConnThread.java:3,640) \\n   &#91;8&#93;  org.apache.derby.impl.drda.DRDAConnThread.processCommands (DRDAConnThread.java:928) \\n   &#91;9&#93;  org.apache.derby.impl.drda.DRDAConnThread.run (DRDAConnThread.java:254) \\nDRDAConnThread_3 &#91;1&#93;  eval java.lang.Runtime.getRuntime().maxMemory()  \\n java.lang.Runtime.getRuntime().maxMemory()  = 133234688 \\n\\n With -Xmx64m: \\nException occurred: java.lang.OutOfMemoryError (uncaught) \\nException occurred: java.lang.OutOfMemoryError (uncaught)\\\"thread=DRDAConnThread_3\\\", java.io.ByteArrayOutputStream.&lt;init&gt;(), line=59 bci=37 \\n\\n DRDAConnThread_3 &#91;1&#93;  where \\n   &#91;1&#93;  java.io.ByteArrayOutputStream.&lt;init&gt; (ByteArrayOutputStream.java:59) \\n   &#91;2&#93;  org.apache.derby.impl.drda.DDMReader.getExtData (DDMReader.java:958) \\n   &#91;3&#93;  org.apache.derby.impl.drda.DDMReader.getExtData (DDMReader.java:944) \\n   &#91;4&#93;  org.apache.derby.impl.drda.DRDAConnThread.readAndSetExtParam (DRDAConnThread.java:4,355) \\n   &#91;5&#93;  org.apache.derby.impl.drda.DRDAConnThread.readAndSetAllExtParams (DRDAConnThread.java:4,320) \\n   &#91;6&#93;  org.apache.derby.impl.drda.DRDAConnThread.parseEXCSQLSTTobjects (DRDAConnThread.java:3,811) \\n   &#91;7&#93;  org.apache.derby.impl.drda.DRDAConnThread.parseEXCSQLSTT (DRDAConnThread.java:3,640) \\n   &#91;8&#93;  org.apache.derby.impl.drda.DRDAConnThread.processCommands (DRDAConnThread.java:928) \\n   &#91;9&#93;  org.apache.derby.impl.drda.DRDAConnThread.run (DRDAConnThread.java:254) \\nDRDAConnThread_3 &#91;1&#93;  eval java.lang.Runtime.getRuntime().maxMemory()  \\n java.lang.Runtime.getRuntime().maxMemory()  = 66650112              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12421274\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-550?focusedCommentId=12421274&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12421274\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"naka\\\" id=\\\"commentauthor_12421274_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=naka\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"naka\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Tomohito Nakayama\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12421274_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Jul\\/06 05:28\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-07-15T05:28:34+0000\'\u003e15\\/Jul\\/06 05:28\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI  noticed that there exists difference of phenomena between under -Xmx64m and under -Xmx128m.\u003c\\/p\u003e\\n\\n\u003cp\u003eFormer, under -Xmx64m, OutOfMemory happens when java.io.ByteArrayOutputStream was constructed.\u003cbr\\/\u003e\\nHowever , latter ,  -Xmx128m, OutOfMemory happens when java.io.ByteArrayOutputStream.toByteArray() was called.\u003c\\/p\u003e\\n\\n\u003cp\u003eI think this may have something to do with insufficient use of memory ....\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"naka\\\" id=\\\"commentauthor_12421274_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=naka\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"naka\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Tomohito Nakayama\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12421274_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Jul\\/06 05:28\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-07-15T05:28:34+0000\'\u003e15\\/Jul\\/06 05:28\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I  noticed that there exists difference of phenomena between under -Xmx64m and under -Xmx128m. \\n\\n Former, under -Xmx64m, OutOfMemory happens when java.io.ByteArrayOutputStream was constructed. \\nHowever , latter ,  -Xmx128m, OutOfMemory happens when java.io.ByteArrayOutputStream.toByteArray() was called. \\n\\n I think this may have something to do with insufficient use of memory ....              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12421279\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-550?focusedCommentId=12421279&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12421279\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"naka\\\" id=\\\"commentauthor_12421279_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=naka\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"naka\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Tomohito Nakayama\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12421279_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Jul\\/06 05:51\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-07-15T05:51:15+0000\'\u003e15\\/Jul\\/06 05:51\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eMy consideration is that ByteArrayOutputStream should not be used for large data, especially the size is unknown.\u003c\\/p\u003e\\n\\n\u003cp\u003eWhen program retrieve data from ByteArrayOutputStream object, it is needed to allocate another memory other than instance variable byte[]buf of ByteArrayOutputStream.\u003cbr\\/\u003e\\nBecause ByteArrayOutputStream.buf does not have same length to the data of whch  program passed to ByteArrayOutputStream object.\u003c\\/p\u003e\\n\\n\u003cp\u003eWhen the size of data is known, we can escape this problem \u003cbr\\/\u003e\\nbecause we can fix the size of the ByteArrayOutputStream.buf to the size of data at construction time of ByteArrayOutputStream instance, and we can escape allocating another memory just using ByteArrayOutputStream.buf directly.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"naka\\\" id=\\\"commentauthor_12421279_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=naka\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"naka\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Tomohito Nakayama\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12421279_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Jul\\/06 05:51\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-07-15T05:51:15+0000\'\u003e15\\/Jul\\/06 05:51\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    My consideration is that ByteArrayOutputStream should not be used for large data, especially the size is unknown. \\n\\n When program retrieve data from ByteArrayOutputStream object, it is needed to allocate another memory other than instance variable byte[]buf of ByteArrayOutputStream. \\nBecause ByteArrayOutputStream.buf does not have same length to the data of whch  program passed to ByteArrayOutputStream object. \\n\\n When the size of data is known, we can escape this problem  \\nbecause we can fix the size of the ByteArrayOutputStream.buf to the size of data at construction time of ByteArrayOutputStream instance, and we can escape allocating another memory just using ByteArrayOutputStream.buf directly.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12421280\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-550?focusedCommentId=12421280&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12421280\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"naka\\\" id=\\\"commentauthor_12421280_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=naka\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"naka\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Tomohito Nakayama\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12421280_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Jul\\/06 05:55\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-07-15T05:55:40+0000\'\u003e15\\/Jul\\/06 05:55\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eHowever, I think our program may know the length of data in this case, \u003cbr\\/\u003e\\nbecause our program fail to error at construction time of ByteArrayOutputStream ...\u003c\\/p\u003e\\n\\n\u003cp\u003eWell...\u003cbr\\/\u003e\\nI think I can create a patch to escape allocating memory again , \u003cbr\\/\u003e\\nthough it is valid only in the case received length of the data is known and correct....\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"naka\\\" id=\\\"commentauthor_12421280_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=naka\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"naka\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Tomohito Nakayama\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12421280_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Jul\\/06 05:55\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-07-15T05:55:40+0000\'\u003e15\\/Jul\\/06 05:55\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    However, I think our program may know the length of data in this case,  \\nbecause our program fail to error at construction time of ByteArrayOutputStream ... \\n\\n Well... \\nI think I can create a patch to escape allocating memory again ,  \\nthough it is valid only in the case received length of the data is known and correct....              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12421281\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-550?focusedCommentId=12421281&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12421281\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"naka\\\" id=\\\"commentauthor_12421281_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=naka\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"naka\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Tomohito Nakayama\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12421281_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Jul\\/06 06:06\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-07-15T06:06:05+0000\'\u003e15\\/Jul\\/06 06:06\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eWait a moment ....\u003cbr\\/\u003e\\nByteArrayOutputStream have writeTo method....\u003c\\/p\u003e\\n\\n\u003cp\u003eI wonder wheter we can use this method and not use byte[] type data....\u003c\\/p\u003e\\n\\n\u003cp\u003eWell....\u003cbr\\/\u003e\\nI will try. \u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"naka\\\" id=\\\"commentauthor_12421281_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=naka\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"naka\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Tomohito Nakayama\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12421281_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Jul\\/06 06:06\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-07-15T06:06:05+0000\'\u003e15\\/Jul\\/06 06:06\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Wait a moment .... \\nByteArrayOutputStream have writeTo method.... \\n\\n I wonder wheter we can use this method and not use byte[] type data.... \\n\\n Well.... \\nI will try.               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12421282\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-550?focusedCommentId=12421282&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12421282\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"naka\\\" id=\\\"commentauthor_12421282_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=naka\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"naka\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Tomohito Nakayama\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12421282_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Jul\\/06 06:18\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-07-15T06:18:18+0000\'\u003e15\\/Jul\\/06 06:18\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eIt seems to be have much amount of impact on whole code of NetworkServer to use writeTo method and not to use byte[] type data............\u003c\\/p\u003e\\n\\n\u003cp\u003eWell ......\u003cbr\\/\u003e\\nFirst, I will work to the idea of \u003ca href=\\\"http:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-550#action_12421280\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-550#action_12421280\u003c\\/a\u003e , and see the result.\u003c\\/p\u003e\\n\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"naka\\\" id=\\\"commentauthor_12421282_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=naka\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"naka\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Tomohito Nakayama\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12421282_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Jul\\/06 06:18\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-07-15T06:18:18+0000\'\u003e15\\/Jul\\/06 06:18\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    It seems to be have much amount of impact on whole code of NetworkServer to use writeTo method and not to use byte[] type data............ \\n\\n Well ...... \\nFirst, I will work to the idea of  http:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-550#action_12421280  , and see the result. \\n\\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12423067\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-550?focusedCommentId=12423067&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12423067\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"naka\\\" id=\\\"commentauthor_12423067_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=naka\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"naka\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Tomohito Nakayama\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12423067_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'24\\/Jul\\/06 12:51\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-07-24T12:51:18+0000\'\u003e24\\/Jul\\/06 12:51\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI confirmed that the BlobOutOfMem.java ran without error in next configuration, after the patch of \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-1513\\\" title=\\\"Trial 1 for DERBY-550\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-1513\\\"\u003e\u003cdel\u003eDERBY-1513\u003c\\/del\u003e\u003c\\/a\u003e and \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-1535\\\" title=\\\"Trial 2 for DERBY-550, improve use of Engine from NetworkServer and reduce memory usage\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-1535\\\"\u003e\u003cdel\u003eDERBY-1535\u003c\\/del\u003e\u003c\\/a\u003e.\u003c\\/p\u003e\\n\\n\u003cp\u003eServerSide:\u003cbr\\/\u003e\\n$JAVA_HOME\\/bin\\/java -Xmx256m org.apache.derby.drda.NetworkServerControl start -h $DERBY_SERVER_HOST -p $DERBY_SERVER_PORT\u003c\\/p\u003e\\n\\n\u003cp\u003eClientSide:\u003cbr\\/\u003e\\njava -Xms32m -Xmx256m derbytest.BlobOutOfMem\u003c\\/p\u003e\\n\\n\u003cp\u003eI think it has been improved to some extent.\u003c\\/p\u003e\\n\\n\u003cp\u003eI hope opinion from others...\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"naka\\\" id=\\\"commentauthor_12423067_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=naka\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"naka\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Tomohito Nakayama\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12423067_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'24\\/Jul\\/06 12:51\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-07-24T12:51:18+0000\'\u003e24\\/Jul\\/06 12:51\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I confirmed that the BlobOutOfMem.java ran without error in next configuration, after the patch of   DERBY-1513   and   DERBY-1535  . \\n\\n ServerSide: \\n$JAVA_HOME\\/bin\\/java -Xmx256m org.apache.derby.drda.NetworkServerControl start -h $DERBY_SERVER_HOST -p $DERBY_SERVER_PORT \\n\\n ClientSide: \\njava -Xms32m -Xmx256m derbytest.BlobOutOfMem \\n\\n I think it has been improved to some extent. \\n\\n I hope opinion from others...              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12611350\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-550?focusedCommentId=12611350&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12611350\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kmarsden\\\" id=\\\"commentauthor_12611350_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kmarsden\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kmarsden\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Kathey Marsden\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12611350_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Jul\\/08 21:11\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-07-07T21:11:50+0000\'\u003e07\\/Jul\\/08 21:11\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI wonder if this issue can be closed now that the repro passes without error according to Tomohito\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kmarsden\\\" id=\\\"commentauthor_12611350_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kmarsden\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kmarsden\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Kathey Marsden\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12611350_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Jul\\/08 21:11\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-07-07T21:11:50+0000\'\u003e07\\/Jul\\/08 21:11\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I wonder if this issue can be closed now that the repro passes without error according to Tomohito              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12611367\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-550?focusedCommentId=12611367&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12611367\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"naka\\\" id=\\\"commentauthor_12611367_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=naka\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"naka\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Tomohito Nakayama\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12611367_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Jul\\/08 21:47\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-07-07T21:47:45+0000\'\u003e07\\/Jul\\/08 21:47\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eMy understanding is that performance of memory usage was improved issues including \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-1513\\\" title=\\\"Trial 1 for DERBY-550\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-1513\\\"\u003e\u003cdel\u003eDERBY-1513\u003c\\/del\u003e\u003c\\/a\u003e, \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-1535\\\" title=\\\"Trial 2 for DERBY-550, improve use of Engine from NetworkServer and reduce memory usage\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-1535\\\"\u003e\u003cdel\u003eDERBY-1535\u003c\\/del\u003e\u003c\\/a\u003e and other issues worked at that time ....\u003cbr\\/\u003e\\nI think this issue should be closed.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"naka\\\" id=\\\"commentauthor_12611367_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=naka\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"naka\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Tomohito Nakayama\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12611367_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Jul\\/08 21:47\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-07-07T21:47:45+0000\'\u003e07\\/Jul\\/08 21:47\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    My understanding is that performance of memory usage was improved issues including   DERBY-1513  ,   DERBY-1535   and other issues worked at that time .... \\nI think this issue should be closed.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12611641\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-550?focusedCommentId=12611641&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12611641\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kristwaa\\\" id=\\\"commentauthor_12611641_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kristwaa\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kristwaa\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Kristian Waagan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12611641_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Jul\\/08 15:05\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-07-08T15:05:01+0000\'\u003e08\\/Jul\\/08 15:05\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI also tested this, and I agree with Tomohito.\u003c\\/p\u003e\\n\\n\u003cp\u003eWith regards to memory usage, the problems seem to be resolved for the scenario mentioned.\u003cbr\\/\u003e\\nHowever, I discovered multiple performance issues, some of which are rather significant. I\'ll create Jiras for these and start working on them.\u003cbr\\/\u003e\\nOne of my test runs with the 64 MB Blob showed an improvement from around 270 to 4 seconds (localhost)!\u003cbr\\/\u003e\\nThere are issues both in the embedded driver and the client driver.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kristwaa\\\" id=\\\"commentauthor_12611641_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kristwaa\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kristwaa\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Kristian Waagan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12611641_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Jul\\/08 15:05\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-07-08T15:05:01+0000\'\u003e08\\/Jul\\/08 15:05\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I also tested this, and I agree with Tomohito. \\n\\n With regards to memory usage, the problems seem to be resolved for the scenario mentioned. \\nHowever, I discovered multiple performance issues, some of which are rather significant. I\'ll create Jiras for these and start working on them. \\nOne of my test runs with the 64 MB Blob showed an improvement from around 270 to 4 seconds (localhost)! \\nThere are issues both in the embedded driver and the client driver.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12804924\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-550?focusedCommentId=12804924&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12804924\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kristwaa\\\" id=\\\"commentauthor_12804924_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kristwaa\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kristwaa\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Kristian Waagan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12804924_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'26\\/Jan\\/10 07:25\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-01-26T07:25:05+0000\'\u003e26\\/Jan\\/10 07:25\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eClosing the issue.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kristwaa\\\" id=\\\"commentauthor_12804924_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kristwaa\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kristwaa\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Kristian Waagan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12804924_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'26\\/Jan\\/10 07:25\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-01-26T07:25:05+0000\'\u003e26\\/Jan\\/10 07:25\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Closing the issue.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12996399\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-550?focusedCommentId=12996399&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12996399\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"knutanders\\\" id=\\\"commentauthor_12996399_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=knutanders\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"knutanders\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Knut Anders Hatlen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12996399_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'18\\/Feb\\/11 13:18\'\u003e\u003ctime class=\'livestamp\' datetime=\'2011-02-18T13:18:57+0000\'\u003e18\\/Feb\\/11 13:18\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eReopening to set correct fix version.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"knutanders\\\" id=\\\"commentauthor_12996399_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=knutanders\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"knutanders\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Knut Anders Hatlen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12996399_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'18\\/Feb\\/11 13:18\'\u003e\u003ctime class=\'livestamp\' datetime=\'2011-02-18T13:18:57+0000\'\u003e18\\/Feb\\/11 13:18\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Reopening to set correct fix version.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12996400\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-550?focusedCommentId=12996400&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12996400\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"knutanders\\\" id=\\\"commentauthor_12996400_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=knutanders\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"knutanders\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Knut Anders Hatlen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12996400_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'18\\/Feb\\/11 13:19\'\u003e\u003ctime class=\'livestamp\' datetime=\'2011-02-18T13:19:54+0000\'\u003e18\\/Feb\\/11 13:19\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eAll the commits for this issue went into 10.3. Closing.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"knutanders\\\" id=\\\"commentauthor_12996400_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=knutanders\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"knutanders\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Knut Anders Hatlen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12996400_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'18\\/Feb\\/11 13:19\'\u003e\u003ctime class=\'livestamp\' datetime=\'2011-02-18T13:19:54+0000\'\u003e18\\/Feb\\/11 13:19\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    All the commits for this issue went into 10.3. Closing.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\"";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["scope-filter-data"]="{\"createScopeActions\":[],\"scopes\":[]}";
WRM._unparsedData["sidebar-collapsed-by-default"]="true";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:can-manage"]="false";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:with-icons"]="false";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:shortcuts"]="[]";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:project-id"]="10594";
WRM._unparsedData["sidebar-id"]="\"\u003cdiv class=\\\"aui-sidebar  projects-sidebar sidebar-pending\\\" \u003e\u003cdiv class=\\\"aui-sidebar-wrapper\\\"\u003e\u003cdiv class=\\\"aui-sidebar-body\\\"\u003e\u003cheader class=\\\"aui-page-header\\\"\u003e\u003cdiv class=\\\"aui-page-header-inner\\\"\u003e\u003cdiv class=\\\"aui-page-header-image\\\"\u003e\u003ca href=\\\"\\/jira\\/projects\\/DERBY\\/summary\\\" title=\\\"Derby\\\" class=\\\"jira-project-avatar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-large aui-avatar-project\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"\\/jira\\/secure\\/projectavatar?pid=10594&amp;avatarId=10122\\\" alt=\\\"Derby\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e\u003cimg src=\\\"data:image\\/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI\\/Pg0KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE4LjEuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPg0KPHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgdmlld0JveD0iMCAwIDMwMCAzMDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMwMCAzMDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxnIGlkPSJMYXllcl8yIj4NCgk8cGF0aCBzdHlsZT0iZmlsbDojRjc5MjMyOyIgZD0iTTE1MCwwQzY2LjY2NywwLDAsNjYuNjY3LDAsMTUwczY2LjY2NywxNTAsMTUwLDE1MHMxNTAtNjYuNjY3LDE1MC0xNTBTMjMzLjMzMywwLDE1MCwweg0KCQkgTTEzNi42NjcsMTc4LjMzM0wxMjUsMTkwbC00MS42NjctNDBMOTUsMTM4LjMzM2wzMC0zMEwxMzYuNjY3LDEyMGwtMzAsMzBMMTM2LjY2NywxNzguMzMzeiBNMjA1LDE2MS42NjdsLTMwLDMwTDE2My4zMzMsMTgwDQoJCWwzMC0zMGwtMzAtMzBMMTc1LDEwOC4zMzNMMjE2LjY2NywxNTBMMjA1LDE2MS42Njd6Ii8+DQo8L2c+DQo8Zz4NCgk8cG9seWdvbiBzdHlsZT0iZmlsbDojRkZGRkZGOyIgcG9pbnRzPSIxNzUsMTkxLjY2NyAyMDUsMTYxLjY2NyAyMTYuNjY3LDE1MCAxNzUsMTA4LjMzMyAxNjMuMzMzLDEyMCAxOTMuMzMzLDE1MCAxNjMuMzMzLDE4MCAJIi8+DQoJPHBvbHlnb24gc3R5bGU9ImZpbGw6I0ZGRkZGRjsiIHBvaW50cz0iMTI1LDEwOC4zMzMgOTUsMTM4LjMzMyA4My4zMzMsMTUwIDEyNSwxOTAgMTM2LjY2NywxNzguMzMzIDEwNi42NjcsMTUwIDEzNi42NjcsMTIwIAkiLz4NCjwvZz4NCjwvc3ZnPg0K\\\" alt=\\\"Icon indicating the project type\\\" class=\\\"jira-project-avatar-icon\\\" \\/\u003e\u003c\\/a\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-image --\u003e\u003cdiv class=\\\"aui-page-header-main\\\"\u003e\u003ch1\u003e\u003cdiv class=\\\"aui-group aui-group-split\\\"\u003e\u003cdiv class=\\\"aui-item project-title\\\"\u003e\u003ca href=\\\"\\/jira\\/projects\\/DERBY\\/summary\\\" title=\\\"Derby\\\"\u003eDerby\u003c\\/a\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/h1\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-main --\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-inner --\u003e\u003c\\/header\u003e\u003c!-- .aui-page-header --\u003e\u003cnav class=\\\"aui-navgroup aui-navgroup-vertical\\\"\u003e\u003cdiv class=\\\"aui-navgroup-inner sidebar-content-container\\\"\u003e\u003cdiv class=\\\"aui-sidebar-group aui-sidebar-group-tier-one\\\" data-id=\\\"sidebar-navigation-panel\\\"\u003e\u003cul class=\\\"aui-nav\\\"\u003e\u003cli class=\\\"aui-nav-selected\\\" \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/DERBY\\/issues\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-issue-navigator:sidebar-issue-navigator\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large icon-sidebar-issues\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Issues\\\"\u003eIssues\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003cli  \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/DERBY?selectedItem=com.atlassian.jira.jira-projects-plugin:report-page\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-plugin:report-page\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large agile-icon-report\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Reports\\\"\u003eReports\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003cli  \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/DERBY?selectedItem=com.atlassian.jira.jira-projects-plugin:components-page\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-plugin:components-page\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large icon-sidebar-components\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Components\\\"\u003eComponents\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003c\\/ul\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/nav\u003e\u003c\\/div\u003e\u003cdiv class=\\\"aui-sidebar-footer\\\"\u003e\u003ca class=\\\"aui-button aui-button-subtle aui-sidebar-toggle aui-sidebar-footer-tipsy\\\" data-tooltip=\\\"Expand sidebar ( [ )\\\" href=\\\"#\\\"\u003e\u003cspan class=\\\"aui-icon aui-icon-small\\\"\u003e\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/div\u003e\"";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:bigpipe-init/jira.webresources:bigpipe-init.js" data-wrm-key="jira.webresources:bigpipe-init" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <form id="jira_request_timing_info" class="dont-default-focus"> 
   <fieldset class="parameters hidden"> 
    <input type="hidden" title="jira.request.start.millis" value="1520237916807"> 
    <input type="hidden" title="jira.request.server.time" value="290"> 
    <input type="hidden" title="jira.request.id" value="498x94340700x3"> 
    <input type="hidden" title="jira.session.expiry.time" value="-"> 
    <input type="hidden" title="jira.session.expiry.in.mins" value="-"> 
    <input id="jiraConcurrentRequests" type="hidden" name="jira.request.concurrent.requests" value="3"> 
    <input type="hidden" title="db.reads.time.in.ms" value="51"> 
    <input type="hidden" title="db.conns.time.in.ms" value="59"> 
   </fieldset> 
  </form> 
  <!--
	                 REQUEST ID : 498x94340700x3
	          REQUEST TIMESTAMP : [05/Mar/2018:08:18:36 +0000]
	               REQUEST TIME : 0.2900
	                 ASESSIONID : -
	        CONCURRENT REQUESTS : 3

	                      db.reads : OpSnapshot{name='db.reads', invocationCount=39, elapsedTotal=51353797, elapsedMin=516999, elapsedMax=14343068, resultSetSize=0, cpuTotal=0, cpuMin=0, cpuMax=0}
	                      db.conns : OpSnapshot{name='db.conns', invocationCount=43, elapsedTotal=59524990, elapsedMin=546867, elapsedMax=14427671, resultSetSize=0, cpuTotal=0, cpuMin=0, cpuMax=0}
-->   
 </body>
</html>