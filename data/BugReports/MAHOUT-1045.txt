<!doctype html>
<html lang="en">
 <head> 
  <meta charset="utf-8"> 
  <meta http-equiv="X-UA-Compatible" content="IE=Edge"> 
  <meta name="application-name" content="JIRA" data-name="jira" data-version="7.6.3">
  <meta name="ajs-viewissue-use-history-api" content="false"> 
  <meta name="ajs-jira-base-url" content="https://issues.apache.org/jira"> 
  <meta name="ajs-serverRenderedViewIssue" content="true"> 
  <meta name="ajs-dev-mode" content="false"> 
  <meta name="ajs-context-path" content="/jira"> 
  <meta name="ajs-version-number" content="7.6.3"> 
  <meta name="ajs-build-number" content="76005"> 
  <meta name="ajs-is-beta" content="false"> 
  <meta name="ajs-is-rc" content="false"> 
  <meta name="ajs-is-snapshot" content="false"> 
  <meta name="ajs-is-milestone" content="false"> 
  <meta name="ajs-remote-user" content=""> 
  <meta name="ajs-remote-user-fullname" content=""> 
  <meta name="ajs-user-locale" content="en_UK"> 
  <meta name="ajs-user-locale-group-separator" content=","> 
  <meta name="ajs-app-title" content="ASF JIRA"> 
  <meta name="ajs-keyboard-shortcuts-enabled" content="true"> 
  <meta name="ajs-keyboard-accesskey-modifier" content="Ctrl+Alt"> 
  <meta name="ajs-enabled-dark-features" content="[&quot;com.atlassian.jira.agile.darkfeature.editable.detailsview&quot;,&quot;nps.survey.inline.dialog&quot;,&quot;com.atlassian.jira.agile.darkfeature.edit.closed.sprint.enabled&quot;,&quot;jira.plugin.devstatus.phasetwo&quot;,&quot;jira.frother.reporter.field&quot;,&quot;atlassian.rest.xsrf.legacy.enabled&quot;,&quot;jira.issue.status.lozenge&quot;,&quot;com.atlassian.jira.config.BIG_PIPE&quot;,&quot;com.atlassian.jira.projects.issuenavigator&quot;,&quot;com.atlassian.jira.config.PDL&quot;,&quot;jira.plugin.devstatus.phasetwo.enabled&quot;,&quot;atlassian.aui.raphael.disabled&quot;,&quot;app-switcher.new&quot;,&quot;frother.assignee.field&quot;,&quot;com.atlassian.jira.projects.ProjectCentricNavigation.Switch&quot;,&quot;sd.internal.base.off.thread.on.completion.events.enabled&quot;,&quot;jira.onboarding.cyoa&quot;,&quot;com.atlassian.jira.agile.darkfeature.kanplan.enabled&quot;,&quot;sd.slavalue.record.updated.date.enabled&quot;,&quot;com.atlassian.jira.config.ProjectConfig.MENU&quot;,&quot;com.atlassian.jira.projects.sidebar.DEFER_RESOURCES&quot;,&quot;com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions.enabled&quot;,&quot;com.atlassian.jira.agile.darkfeature.sprint.goal.enabled&quot;,&quot;jira.zdu.admin-updates-ui&quot;,&quot;jira.zdu.jmx-monitoring&quot;,&quot;sd.sla.improved.rendering.enabled&quot;,&quot;sd.canned.responses.enabled&quot;,&quot;sd.new.settings.sidebar.location.disabled&quot;,&quot;jira.zdu.cluster-upgrade-state&quot;,&quot;com.atlassian.jira.agile.darkfeature.splitissue&quot;,&quot;com.atlassian.jira.config.CoreFeatures.LICENSE_ROLES_ENABLED&quot;,&quot;com.atlassian.feedback.feedback-button-move-to-header-enable&quot;,&quot;jira.export.csv.enabled&quot;]"> 
  <meta name="ajs-in-admin-mode" content="false"> 
  <meta name="ajs-is-sysadmin" content="false"> 
  <meta name="ajs-is-admin" content="false"> 
  <meta name="ajs-outgoing-mail-enabled" content="true"> 
  <meta name="ajs-date-relativize" content="true"> 
  <meta name="ajs-date-time" content="HH:mm"> 
  <meta name="ajs-date-day" content="EEEE HH:mm"> 
  <meta name="ajs-date-dmy" content="dd/MMM/yy"> 
  <meta name="ajs-date-complete" content="dd/MMM/yy HH:mm"> 
  <script type="text/javascript">var AJS=AJS||{};AJS.debug=true;</script> 
  <meta id="atlassian-token" name="atlassian-token" content="A5KQ-2QAV-T4JA-FDED|ddb7f7c1bc24c3242f213352295b279e08fcad2a|lout"> 
  <link rel="shortcut icon" href="/jira/s/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/_/favicon.ico"> 
  <!--[if IE]><![endif]--> 
  <script type="text/javascript">
    (function() {
        var contextPath = '/jira';
        var eventBuffer = [];

        function printDeprecatedMsg() {
            if (console && console.warn) {
                console.warn('DEPRECATED JS - contextPath global variable has been deprecated since 7.4.0. Use `wrm/context-path` module instead.');
            }
        }

        function sendEvent(analytics, postfix) {
            analytics.send({
                name: 'js.globals.contextPath.' + postfix
            });
        }

        function sendDeprecatedEvent(postfix) {
            try {
                var analytics = require('jira/analytics');
                if (eventBuffer.length) {
                    eventBuffer.forEach(function(value) {
                        sendEvent(analytics, value);
                    });
                    eventBuffer = [];
                }

                if (postfix) {
                    sendEvent(analytics, postfix);
                }
            } catch(ex) {
                eventBuffer.push(postfix);
                setTimeout(sendDeprecatedEvent, 1000);
            }
        }

        Object.defineProperty(window, 'contextPath', {
            get: function() {
                printDeprecatedMsg();
                sendDeprecatedEvent('get');
                return contextPath;
            },
            set: function(value) {
                printDeprecatedMsg();
                sendDeprecatedEvent('set');
                contextPath = value;
            }
        });
    })();

</script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["com.atlassian.plugins.atlassian-plugins-webresource-plugin:context-path.context-path"]="\"/jira\"";
WRM._unparsedData["jira.webresources:feature-flags.feature-flag-data"]="{\"enabled-feature-keys\":[\"com.atlassian.jira.agile.darkfeature.editable.detailsview\",\"nps.survey.inline.dialog\",\"com.atlassian.jira.agile.darkfeature.edit.closed.sprint.enabled\",\"jira.plugin.devstatus.phasetwo\",\"jira.frother.reporter.field\",\"atlassian.rest.xsrf.legacy.enabled\",\"jira.issue.status.lozenge\",\"com.atlassian.jira.config.BIG_PIPE\",\"com.atlassian.jira.projects.issuenavigator\",\"com.atlassian.jira.config.PDL\",\"jira.plugin.devstatus.phasetwo.enabled\",\"atlassian.aui.raphael.disabled\",\"app-switcher.new\",\"frother.assignee.field\",\"com.atlassian.jira.projects.ProjectCentricNavigation.Switch\",\"sd.internal.base.off.thread.on.completion.events.enabled\",\"jira.onboarding.cyoa\",\"com.atlassian.jira.agile.darkfeature.kanplan.enabled\",\"sd.slavalue.record.updated.date.enabled\",\"com.atlassian.jira.config.ProjectConfig.MENU\",\"com.atlassian.jira.projects.sidebar.DEFER_RESOURCES\",\"com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions.enabled\",\"com.atlassian.jira.agile.darkfeature.sprint.goal.enabled\",\"jira.zdu.admin-updates-ui\",\"jira.zdu.jmx-monitoring\",\"sd.sla.improved.rendering.enabled\",\"sd.canned.responses.enabled\",\"sd.new.settings.sidebar.location.disabled\",\"jira.zdu.cluster-upgrade-state\",\"com.atlassian.jira.agile.darkfeature.splitissue\",\"com.atlassian.jira.config.CoreFeatures.LICENSE_ROLES_ENABLED\",\"com.atlassian.feedback.feedback-button-move-to-header-enable\",\"jira.export.csv.enabled\"],\"feature-flag-states\":{\"sd.customer.profile.multi.languages\":true,\"sd.customer.portal.transitions\":true,\"sd.customer.portal.transitions.config\":true,\"sd.custom.email.stripping.rules\":false,\"sd.sla.lucene.issue.id.callback.performance\":true,\"sd.new.settings.sidebar.location\":true,\"sd.workload.report.paginator\":true,\"sd.experimental.portal.search.algorithm.default.1\":false,\"sd.customer.portal.help.center.agent.announcement\":true,\"sd.sla.improved.rendering\":false,\"sd.experimental.portal.search.algorithm.default.2\":false,\"sd.customer.feedback.validate.reporter.on.token\":true,\"sd.custom.email.notifications.utf8.csat.star\":true,\"sd.who.create.customers.by.email.setting\":true,\"com.atlassian.jira.issuetable.move.links.hidden\":true,\"jira.renderer.consider.variable.format\":true,\"sd.stats.event.tracking\":true,\"sd.password.helper.dialog\":true,\"sd.canned.responses\":false,\"sd.portal.help.center.customer.signup.secondary.email\":true,\"sd.custom.email.notifications.manage.language\":true,\"sd.use.search.by.permissions\":true,\"sd.slavalue.record.updated.date\":false,\"sd.report.custom.date.range\":false,\"sd.kb.article.helpfulness.report\":false,\"com.atlassian.jira.agile.darkfeature.sprint.goal\":false,\"sd.custom.email.notifications.styling\":true,\"sd.workinghours.new.page.bulldog.1\":false,\"sd.customer.portal.two.step.login\":false,\"sd.automation.psmq.async.executor\":true,\"sd.customer.org.list.page.lazy.search\":true,\"sd.approval.requested.when.handler\":true,\"sd.request.type.field.rest.api.filtering.bugfix\":true,\"sd.automation.then.action.auto.answer.approval\":true,\"com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions\":false,\"sla.will.only.be.paused.if.they.are.already.started\":true,\"sd.kb.comment.share.stats.collection\":true,\"com.atlassian.jira.upgrade.startup.fix.index\":true,\"sd.customer.orgs.group.participants\":true,\"sd.portal.help.center.customer.signup\":true,\"sd.sla.agent.jql.security.restricted\":true,\"sd.test.feature.flag.x\":true,\"sd.test.feature.flag.y\":false,\"sd.cluster.safe.mail.channel.shutdown\":true,\"sd.email.channel.folders\":false,\"sd.email.analytics.open\":false,\"sd.kb.project.creation.create.link.space\":true,\"sd.workinghours.new.page\":false,\"sd.confluence.anonymous.permission.fix\":true,\"com.atlassian.jira.issuetable.draggable\":true,\"sd.customer.portal.project.agent.announcement\":true,\"sd.automation.audit.log\":true,\"jira.jql.suggestrecentfields\":false,\"sd.canned.responses.check.index.startup\":false,\"sd.new.project.templates\":true,\"sd.custom.email.notifications.custom.rules.simple.ui\":false,\"sd.custom.email.notifications.cut.over\":true,\"sd.dismiss.all.misconfiguration.warnings.setting\":true,\"com.atlassian.jira.agile.darkfeature.optimistic.transitions\":true,\"sd.sla.configurations.export\":true,\"sd.canned.responses.variable.substitution\":true,\"com.atlassian.jira.agile.darkfeature.kanplan\":false,\"sd.internal.base.off.thread.on.completion.events\":false,\"sd.customer.portal.prioties.per.project.fix\":true,\"jira.instrumentation.laas\":false,\"sd.kb.self.service.report\":false,\"sla.improved.request.handling\":true,\"sd.no.schedule.async.upgrade.tasks\":true,\"sd.kb.primary.nav\":true,\"com.atlassian.jira.agile.darkfeature.edit.closed.sprint\":false,\"sd.kb.issueview.panel.phase2\":true,\"sd.email.outsider.comments\":true,\"jira.create.linked.issue\":true,\"sd.kb.issueview.panel\":true,\"jira.sal.host.connect.accessor.existing.transaction.will.create.transactions\":true,\"sd.approvals.light.weight\":false,\"sd.automation.then.webhook\":true,\"sd.respect.inline.edit.issue.off\":true,\"jira.jql.smartautoselectfirst\":false,\"sd.global.portal.search.atlassian.only.tracking\":false,\"sd.automation.if.condition.comment.primary.action\":true,\"jira.priorities.per.project\":true,\"sd.inline.noformat.renderer\":true,\"sd.customer.request.type.create.edit.screens\":true}}";
WRM._unparsedData["jira.webresources:default-comment-security-level.DefaultCommentSecurityLevelHelpLink"]="{\"extraClasses\":\"default-comment-level-help\",\"title\":\"Commenting on an Issue\",\"url\":\"https://docs.atlassian.com/jira/jcore-docs-076/Editing+and+collaborating+on+issues#Editingandcollaboratingonissues-restrictacomment\",\"isLocal\":false}";
WRM._unparsedData["jira.webresources:dateFormatProvider.allFormats"]="{\"dateFormats\":{\"meridiem\":[\"AM\",\"PM\"],\"eras\":[\"BC\",\"AD\"],\"months\":[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],\"monthsShort\":[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],\"weekdaysShort\":[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"],\"weekdays\":[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"]},\"lookAndFeelFormats\":{\"relativize\":\"true\",\"time\":\"HH:mm\",\"day\":\"EEEE HH:mm\",\"dmy\":\"dd/MMM/yy\",\"complete\":\"dd/MMM/yy HH:mm\"}}";
WRM._unparsedData["com.atlassian.jira.jira-issue-nav-components:issueviewer.features"]="{\"rteEnabled\":true}";
WRM._unparsedData["com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone.thumbnail-mime-types"]="\"image/png,image/vnd.wap.wbmp,image/x-png,image/jpeg,image/bmp,image/gif\"";
WRM._unparsedData["com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone.upload-limit"]="\"62914560\"";
WRM._unparsedData["com.atlassian.plugins.helptips.jira-help-tips:help-tip-manager.JiraHelpTipData"]="{\"anonymous\":true}";
WRM._unparsedData["com.atlassian.jira.jira-view-issue-plugin:controller-subtasks.controller.subtasks.parameters"]="{\"url\":\"/rest/api/2/issue/{issueId}/subtask/move\"}";
WRM._unparsedData["com.atlassian.analytics.analytics-client:policy-update-init.policy-update-data-provider"]="false";
WRM._unparsedData["com.atlassian.analytics.analytics-client:programmatic-analytics-init.programmatic-analytics-data-provider"]="false";
WRM._unparsedData["com.atlassian.servicedesk.servicedesk-canned-responses-plugin:canned-responses-data-provider.data"]="{\"substitutionVariables\":{\"issue.summary\":\"Issue summary\",\"issue.description\":\"Issue description\",\"issue.key\":\"Issue key\",\"issue.reporter.name\":\"Issue reporter\",\"issue.resolution\":\"Issue resolution\",\"request.url\":\"Request URL\",\"request.status\":\"Request status\"}}";
WRM._unparsedData["jira.webresources:avatar-picker.data"]="{}";
WRM._unparsedData["com.atlassian.feedback.jira-feedback-plugin:button-resources-init.data"]="{\"jira.feedback.plugin.issue.collector.core\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"jira.feedback.plugin.issue.collector.default\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"jira.feedback.plugin.issue.collector.service.desk\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector.js?locale=en-UK&collectorId=a698db21\",\"jira.feedback.plugin.issue.collector.software\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"isHeaderFeedbackButtonEnabled\":true}";
WRM._unparsedData["com.atlassian.jira.jira-header-plugin:dismissedFlags.flags"]="{\"dismissed\":[]}";
WRM._unparsedData["com.atlassian.jira.jira-header-plugin:newsletter-signup-tip-init.newsletterSignup"]="{\"signupDescription\":\"Get updates, inspiration and best practices from the team behind JIRA.\",\"formUrl\":\"https://www.atlassian.com/apis/exact-target/{0}/subscribe?mailingListId=1401671\",\"signupTitle\":\"Sign up!\",\"signupId\":\"newsletter-signup-tip\",\"showNewsletterTip\":false}";
WRM._unparsedData["com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources.ptAnalyticsData"]="{\"instanceCreatedDate\":\"2011-01-31\"}";
WRM._unparsedData["com.atlassian.servicedesk.core-ui:util-help-links.help-links"]="{\"help\":{\"email.settings\":\"https://docs.atlassian.com/jira/jsd-docs-039/Receiving+requests+by+email\",\"managing.queues\":\"https://docs.atlassian.com/jira/jsd-docs-039/Setting+up+queues+for+your+team\",\"email.setup\":\"https://docs.atlassian.com/jira/jsd-docs-039/Receiving+requests+by+email\",\"request.settings.help.bubble\":\"https://docs.atlassian.com/jira/jsd-docs-039/Managing+access+to+your+service+desk\",\"email.settings.suitablerequest\":\"https://docs.atlassian.com/jira/jsd-docs-039/Receiving+requests+by+email#Receivingrequestsbyemail-suitablerequest\",\"sla.import.help\":\"https://docs.atlassian.com/jira/jsd-docs-039/Importing+SLAs\",\"documentation.home\":\"https://docs.atlassian.com/jira/jsd-docs-039/JIRA+Service+Desk+Documentation\",\"default\":\"https://docs.atlassian.com/jira/jsd-docs-039/\",\"create.space.help\":\"https://docs.atlassian.com/jira/jsd-docs-039/Serving+customers+with+a+knowledge+base#serving-customers-with-a-knowledge-base-createpermission\",\"email.settings.troubleshooting\":\"https://docs.atlassian.com/jira/jsd-docs-039/Troubleshooting+issues+with+the+email+channel\",\"admin.notifications.config\":\"https://docs.atlassian.com/jira/jsd-docs-039/Managing+service+desk+notifications\",\"troubleshoot.requesttype\":\"https://docs.atlassian.com/jira/jsd-docs-039/Troubleshooting+issues+with+request+types\",\"approvals.configuration\":\"https://docs.atlassian.com/jira/jsd-docs-039/Configuring+JIRA+Service+Desk+approvals\",\"setting.up.reports\":\"https://docs.atlassian.com/jira/jsd-docs-039/Setting+up+service+desk+reports\",\"public.signup\":\"https://docs.atlassian.com/jira/jsd-docs-039/Configuring+public+signup\",\"knowledge.base\":\"https://docs.atlassian.com/jira/jsd-docs-039/Serving+customers+with+a+knowledge+base\",\"resolve.permission.scheme.errors\":\"https://docs.atlassian.com/jira/jsd-docs-039/Resolving+permission+scheme+errors\",\"getting.started\":\"https://docs.atlassian.com/jira/jsd-docs-039/Getting+started+with+JIRA+Service+Desk\",\"getting.started.agent\":\"https://docs.atlassian.com/jira/jsd-docs-039/Getting+started+for+service+desk+agents\",\"invite.customers\":\"https://docs.atlassian.com/jira/jsd-docs-039/Managing+access+to+your+service+desk\"},\"kb\":{\"default\":\"https://confluence.atlassian.com/display/SDKB/\",\"troubleshooting.user.management.issues\":\"https://confluence.atlassian.com/display/SDKB/Troubleshooting+issues+with+service+desk+user+management\",\"legacytransition\":\"https://confluence.atlassian.com/display/SDKB/Replacing+legacy+automatic+transitions+with+automation+rules\",\"umtroubleshoot\":\"https://confluence.atlassian.com/display/SDKB/Troubleshooting+issues+with+service+desk+user+management\"}}";
WRM._unparsedData["com.atlassian.servicedesk.core-ui:util-base-url.base-url"]="\"https://issues.apache.org/jira\"";
WRM._unparsedData["com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources.help-data"]="{\"showHelp\":true,\"editorDocumentationUrl\":[\"https://docs.atlassian.com/jira/jcore-docs-076/Visual+editing\"],\"editorDocumentationTitle\":[\"Show me documentation for the visual editor\"]}";
WRM._unparsedData["com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources.thumbnails-allowed"]="false";
WRM._unparsedData["jira.webresources:user-message-flags.adminLockout"]="{}";
WRM._unparsedData["jira.request.correlation-id"]="\"1141116363f18c\"";
WRM._unparsedData["project-id"]="12310751";
WRM._unparsedData["project-key"]="\"MAHOUT\"";
WRM._unparsedData["project-name"]="\"Mahout\"";
WRM._unparsedData["project-type"]="\"software\"";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:generic-filters"]="[{\"id\":\"allissues\",\"jql\":\"project = \\\"{0}\\\" ORDER BY {1}\",\"defaultOrderby\":\"created DESC\",\"label\":\"All issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[]},{\"id\":\"allopenissues\",\"jql\":\"project = \\\"{0}\\\" AND resolution = Unresolved ORDER BY {1}\",\"defaultOrderby\":\"priority DESC, updated DESC\",\"label\":\"Open issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"resolution\"]},{\"id\":\"doneissues\",\"jql\":\"project = \\\"{0}\\\" AND statusCategory = Done ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Done issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":false,\"fields\":[\"status\"]},{\"id\":\"recentlyviewed\",\"jql\":\"project = \\\"{0}\\\" AND issuekey in issueHistory() ORDER BY {1}\",\"defaultOrderby\":\"lastViewed DESC\",\"label\":\"Viewed recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"issuekey\"]},{\"id\":\"addedrecently\",\"jql\":\"project = \\\"{0}\\\" AND created \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"created DESC\",\"label\":\"Created recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"created\"]},{\"id\":\"resolvedrecently\",\"jql\":\"project = \\\"{0}\\\" AND resolutiondate \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Resolved recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":false,\"fields\":[\"resolutiondate\"]},{\"id\":\"updatedrecently\",\"jql\":\"project = \\\"{0}\\\" AND updated \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Updated recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"updated\"]}]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:default-filter-priority"]="[\"allopenissues\",\"allissues\"]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:can-manage-filters"]="false";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:project-filters"]="[]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:can-create-issues"]="false";
WRM._unparsedData["projectId"]="12310751";
WRM._unparsedData["projectKey"]="\"MAHOUT\"";
WRM._unparsedData["projectType"]="\"software\"";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:server-rendered"]="true";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/a8a4711bc3f2eb261d8c8fd9fbcbba8b-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/1fca1750044f2777c977e8d8cc023344/_/download/contextbatch/css/_super/batch.css" data-wrm-key="_super" data-wrm-batch-type="context" media="all"> 
  <link type="text/css" rel="stylesheet" href="/jira/s/1a6b21131945f6f49ff48336b49ca3fe-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/37a6e594cbbfd462a8a54d5aa11475c1/_/download/contextbatch/css/project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super/batch.css?agile_global_admin_condition=true&amp;hc-enabled=true&amp;is-server-instance=true&amp;jag=true&amp;jira.create.linked.issue=true&amp;nps-acknowledged=true&amp;richediton=true&amp;sd_operational=true" data-wrm-key="project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super" data-wrm-batch-type="context" media="all"> 
  <link type="text/css" rel="stylesheet" href="/jira/s/611672383f6cab00ab202241ba6f9d68-T/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/7.6.3/_/download/batch/com.atlassian.feedback.jira-feedback-plugin:button-resources-init/com.atlassian.feedback.jira-feedback-plugin:button-resources-init.css" data-wrm-key="com.atlassian.feedback.jira-feedback-plugin:button-resources-init" data-wrm-batch-type="resource" media="all"> 
  <script type="text/javascript" src="/jira/s/d8484c9183f546511a8e336a8779bcd9-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/1fca1750044f2777c977e8d8cc023344/_/download/contextbatch/js/_super/batch.js?locale=en-UK" data-wrm-key="_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d3b35d835f8f46fc3b53bb4db7f85158-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/37a6e594cbbfd462a8a54d5aa11475c1/_/download/contextbatch/js/project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super/batch.js?agile_global_admin_condition=true&amp;hc-enabled=true&amp;is-server-instance=true&amp;jag=true&amp;jira.create.linked.issue=true&amp;locale=en-UK&amp;nps-acknowledged=true&amp;richediton=true&amp;sd_operational=true" data-wrm-key="project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/71d42e74136d842a3ef4d5d136484843-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/871d45c9f322a22cb3aa9b7948a69803/_/download/contextbatch/js/atl.global,-_super/batch.js?locale=en-UK" data-wrm-key="atl.global,-_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:calendar-en/jira.webresources:calendar-en.js" data-wrm-key="jira.webresources:calendar-en" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:calendar-localisation-moment/jira.webresources:calendar-localisation-moment.js" data-wrm-key="jira.webresources:calendar-localisation-moment" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/7.6.3/_/download/batch/com.atlassian.feedback.jira-feedback-plugin:button-resources/com.atlassian.feedback.jira-feedback-plugin:button-resources.js" data-wrm-key="com.atlassian.feedback.jira-feedback-plugin:button-resources" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/95a4826c265852f4904f1e0e7300df68-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/e0de73613a1027de08f3da6a45e1d1a2/_/download/contextbatch/css/jira.global.look-and-feel,-_super/batch.css" data-wrm-key="jira.global.look-and-feel,-_super" data-wrm-batch-type="context" media="all"> 
  <script type="text/javascript" src="/jira/rest/api/1.0/shortcuts/76005/944bb39eced1b35cfc7194aa02eb5a5a/shortcuts.js?context=issuenavigation&amp;context=issueaction"></script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["com.atlassian.jira.jira-issue-nav-components:inline-edit-enabled"]="true";
WRM._unparsedData["should-display-chaperone"]="false";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/15712b600e9aecf72ffd9fd3704a0c78-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/6b22a15c7b83f87a47b1757076f43542/_/download/contextbatch/css/com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue/batch.css?jira.create.linked.issue=true&amp;richediton=true&amp;sd_operational=true" data-wrm-key="com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue" data-wrm-batch-type="context" media="all"> 
  <script type="text/javascript" src="/jira/s/5a8f0f8b8aa8f96a4f0f7e9e248d62f3-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/6b22a15c7b83f87a47b1757076f43542/_/download/contextbatch/js/com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue/batch.js?jira.create.linked.issue=true&amp;locale=en-UK&amp;richediton=true&amp;sd_operational=true" data-wrm-key="com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue" data-wrm-batch-type="context" data-initially-rendered></script> 
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge"> 
  <meta name="ajs-can-search-users" content="false"> 
  <meta name="ajs-can-edit-watchers" content="false"> 
  <meta name="ajs-default-avatar-url" content="https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10453"> 
  <meta name="ajs-issue-project-type" content="software"> 
  <meta name="ajs-issue-key" content="MAHOUT-1045"> 
  <meta name="ajs-server-view-issue-is-editable" content="false"> 
  <title>[MAHOUT-1045] Cluster evaluators returning bad results - ASF JIRA</title> 
  <link rel="search" type="application/opensearchdescription+xml" href="/jira/osd.jsp" title="[MAHOUT-1045] Cluster evaluators returning bad results - ASF JIRA"> 
 </head> 
 <body id="jira" class="aui-layout aui-theme-default " data-version="7.6.3"> 
  <div id="page"> 
   <header id="header" role="banner"> 
    <script>
require(["jquery", "jira/license-banner"], function ($, licenseBanner) {
    $(function () {
        licenseBanner.showLicenseBanner("");
        licenseBanner.showLicenseFlag("");
    });
});
</script> 
    <nav class="aui-header aui-dropdown2-trigger-group" role="navigation">
     <div class="aui-header-inner">
      <div class="aui-header-before">
       <a class=" aui-dropdown2-trigger app-switcher-trigger" aria-controls="app-switcher" aria-haspopup="true" role="button" tabindex="0" data-aui-trigger href="#app-switcher"><span class="aui-icon aui-icon-small aui-iconfont-appswitcher">Linked Applications</span></a>
       <div id="app-switcher" class="aui-dropdown2 aui-style-default" role="menu" aria-hidden="true" data-is-switcher="true" data-environment="{&quot;isUserAdmin&quot;:false,&quot;isAppSuggestionAvailable&quot;:false,&quot;isSiteAdminUser&quot;:false}">
        <div role="application">
         <div class="app-switcher-loading">
          Loadingâ€¦
         </div>
        </div>
       </div>
      </div>
      <div class="aui-header-primary">
       <h1 id="logo" class="aui-header-logo aui-header-logo-custom"><a href="https://issues.apache.org/jira/secure/MyJiraHome.jspa"><img src="/jira/s/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/_/jira-logo-scaled.png" alt="ASF JIRA"></a></h1>
       <ul class="aui-nav">
        <li><a href="/jira/secure/Dashboard.jspa" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="home_link" aria-haspopup="true" aria-controls="home_link-content" title="View and manage your dashboards" accesskey="d">Dashboards</a>
         <div class="aui-dropdown2 aui-style-default" id="home_link-content" data-aui-dropdown2-ajax-key="home_link"></div></li>
        <li><a href="/jira/browse/MAHOUT" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="browse_link" aria-haspopup="true" aria-controls="browse_link-content" title="View recent projects and browse a list of projects" accesskey="p">Projects</a>
         <div class="aui-dropdown2 aui-style-default" id="browse_link-content" data-aui-dropdown2-ajax-key="browse_link"></div></li>
        <li><a href="/jira/issues/" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="find_link" aria-haspopup="true" aria-controls="find_link-content" title="Search for issues and view recent issues" accesskey="i">Issues</a>
         <div class="aui-dropdown2 aui-style-default" id="find_link-content" data-aui-dropdown2-ajax-key="find_link"></div></li> 
       </ul>
      </div>
      <div class="aui-header-secondary">
       <ul class="aui-nav">
        <li id="quicksearch-menu"> 
         <form action="/jira/secure/QuickSearch.jspa" method="get" id="quicksearch" class="aui-quicksearch dont-default-focus ajs-dirty-warning-exempt"> 
          <input id="quickSearchInput" class="search" type="text" title="Search" placeholder="Search" name="searchString" accessKey="q"> 
          <input type="submit" class="hidden" value="Search"> 
         </form> </li> 
        <li><a class="jira-feedback-plugin" role="button" aria-haspopup="true" id="jira-header-feedback-link" href="#"><span class="aui-icon aui-icon-small jira-feedback-plugin-icon">Give feedback to Atlassian</span></a></li> 
        <li id="system-help-menu"> <a class="aui-nav-link aui-dropdown2-trigger" id="help_menu" aria-haspopup="true" aria-owns="system-help-menu-content" href="https://docs.atlassian.com/jira/jcore-docs-076/" target="$textUtils.htmlEncode($rootHelpMenuItem.params.target)" title="Help"><span class="aui-icon aui-icon-small aui-iconfont-help">Help</span></a> 
         <div id="system-help-menu-content" class="aui-dropdown2 aui-style-default"> 
          <div class="aui-dropdown2-section"> 
           <ul id="jira-help" class="aui-list-truncate"> 
            <li> <a id="view_core_help" class="aui-nav-link " title="Go to the online documentation for JIRA Core" href="https://docs.atlassian.com/jira/jcore-docs-076/" target="_blank">JIRA Core help</a> </li> 
            <li> <a id="keyshortscuthelp" class="aui-nav-link " title="Get more information about JIRA's Keyboard Shortcuts" href="/jira/secure/ViewKeyboardShortcuts!default.jspa" target="_blank">Keyboard Shortcuts</a> </li> 
            <li> <a id="view_about" class="aui-nav-link " title="Get more information about JIRA" href="/jira/secure/AboutPage.jspa">About JIRA</a> </li> 
            <li> <a id="view_credits" class="aui-nav-link " title="See who did what" href="/jira/secure/JiraCreditsPage!default.jspa" target="_blank">JIRA Credits</a> </li> 
           </ul> 
          </div> 
         </div> </li> 
        <li id="user-options"> <a class="aui-nav-link login-link" href="/jira/login.jsp?os_destination=%2Fbrowse%2FMAHOUT-1045">Log In</a> 
         <div id="user-options-content" class="aui-dropdown2 aui-style-default"> 
          <div class="aui-dropdown2-section"> 
          </div> 
         </div> </li> 
       </ul>
      </div>
     </div>
     <!-- .aui-header-inner-->
    </nav>
    <!-- .aui-header --> 
   </header> 
   <section id="content" role="main"> 
    <big-pipe data-id="sidebar-id" unresolved></big-pipe>
    <div class="aui-sidebar  sidebar-placeholder">
     <div class="aui-sidebar-wrapper">
      <div class="aui-sidebar-body"></div>
      <div class="aui-sidebar-footer">
       <a class="aui-button aui-button-subtle aui-sidebar-toggle aui-sidebar-footer-tipsy" data-tooltip="Expand sidebar ( [ )" href="#"><span class="aui-icon aui-icon-small"></span></a>
      </div>
     </div>
    </div>
    <script id="projects-sidebar-init">
    require(['jira/projects/sidebar/expansion-manager'], function(expansionManager) {
        var scriptTag = document.getElementById('projects-sidebar-init');
        var sidebar = AJS.sidebar('.aui-sidebar');
        expansionManager(sidebar);
        scriptTag.parentElement.removeChild(scriptTag);
    });
    </script>
    <div class="aui-page-panel">
     <div class="aui-page-panel-inner">
      <div class="issue-navigator">
       <div class="content">
        <div class="issue-view">
         <div class="navigation-tools">
          <div class="pager-container"></div>
         </div>
         <div class="issue-container">
          <div id="issue-content" class="issue-edit-form">
           <header id="stalker" class="issue-header js-stalker">
            <div class="issue-header-content">
             <header class="aui-page-header">
              <div class="aui-page-header-inner">
               <div class="aui-page-header-image">
                <span id="12310751" class="aui-avatar aui-avatar-large aui-avatar-project"><span class="aui-avatar-inner"><img id="project-avatar" alt="Uploaded image for project: 'Mahout'" src="https://issues.apache.org/jira/secure/projectavatar?pid=12310751&amp;avatarId=10103"></span></span>
               </div>
               <!-- .aui-page-header-image -->
               <div class="aui-page-header-main">
                <ol class="aui-nav aui-nav-breadcrumbs">
                 <li><a id="project-name-val" href="/jira/browse/MAHOUT">Mahout</a></li>
                 <li><a class="issue-link" data-issue-key="MAHOUT-1045" href="/jira/browse/MAHOUT-1045" id="key-val" rel="12598444">MAHOUT-1045</a></li>
                </ol>
                <h1 id="summary-val">Cluster evaluators returning bad results</h1>
               </div>
               <!-- .aui-page-header-main -->
               <div class="aui-page-header-actions">
                <div id="issue-header-pager"></div>
               </div>
               <!-- .aui-page-header-actions -->
              </div>
              <!-- .aui-page-header-inner -->
             </header>
             <!-- .aui-page-header -->
             <div class="command-bar">
              <div class="ops-cont">
               <div class="ops-menus aui-toolbar">
                <div class="toolbar-split toolbar-split-left">
                 <ul id="opsbar-ops-login-lnk_container" class="toolbar-group pluggable-ops">
                  <li class="toolbar-item"><a id="ops-login-lnk" title="Log In" class="toolbar-trigger" href="/jira/login.jsp?os_destination=%2Fbrowse%2FMAHOUT-1045"><span class="trigger-label">Log In</span></a></li>
                 </ul>
                 <ul id="opsbar-opsbar-operations" class="toolbar-group pluggable-ops"></ul>
                 <ul id="opsbar-opsbar-transitions" class="toolbar-group pluggable-ops"></ul>
                 <ul id="opsbar-opsbar-admin" class="toolbar-group pluggable-ops"></ul>
                </div>
                <div class="toolbar-split toolbar-split-right">
                 <ul id="opsbar-jira.issue.tools" class="toolbar-group pluggable-ops">
                  <li class="toolbar-item">
                   <div>
                    <a href="#" id="viewissue-export" aria-owns="viewissue-export_drop" aria-haspopup="true" title="Export this issue in another format" class="toolbar-trigger aui-button aui-style-default aui-dropdown2-trigger"><span class="icon icon-default aui-icon aui-icon-small aui-iconfont-export"></span> <span class="dropdown-text">Export</span></a>
                    <div id="viewissue-export_drop" class="aui-style-default aui-dropdown2">
                     <ul>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-xml/MAHOUT-1045/MAHOUT-1045.xml" id="jira.issueviews:issue-xml"><span class="trigger-label">XML</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-word/MAHOUT-1045/MAHOUT-1045.doc" id="jira.issueviews:issue-word"><span class="trigger-label">Word</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-html/MAHOUT-1045/MAHOUT-1045.html" id="jira.issueviews:issue-html"><span class="trigger-label">Printable</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/com.atlassian.jira.plugins.jira-importers-plugin:issue-json/MAHOUT-1045/MAHOUT-1045.json" id="com.atlassian.jira.plugins.jira-importers-plugin:issue-json"><span class="trigger-label">JSON</span></a></li>
                     </ul>
                    </div>
                   </div></li>
                 </ul>
                </div>
               </div>
              </div>
             </div>
            </div>
           </header>
           <div class="issue-body-content">
            <div class="aui-group issue-body">
             <div class="aui-item issue-main-column">
              <div id="details-module" class="module toggle-wrap">
               <div id="details-module_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Details</h2>
               </div>
               <div class="mod-content"> 
                <ul id="issuedetails" class="property-list two-cols"> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Type:</strong> 
                   <span id="type-val" class="value"> <img alt="" height="16" src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype" title="Bug - A problem which impairs or prevents the functions of the product." width="16"> Bug </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Status:</strong> 
                   <span id="status-val" class="value"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done jira-issue-status-lozenge-max-width-medium" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </span> 
                  </div> </li> 
                 <li class="item new"> 
                  <div class="wrap"> 
                   <strong class="name">Priority:</strong> 
                   <span id="priority-val" class="value"> <img alt="" height="16" src="/jira/images/icons/priorities/major.svg" title="Major - Major loss of function." width="16"> Major </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Resolution:</strong> 
                   <span id="resolution-val" class="value resolved"> Fixed </span> 
                  </div> </li> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Affects Version/s:</strong> 
                   <span id="versions-val" class="value"> <span class="shorten" id="versions-field"> <span title="0.6 ">0.6</span>, <span title="0.7 Primarily a cleanup and refactoring release. Some new functionality which has been previously completed and tested may be introduced.">0.7</span>, <span title="0.8 The release will stabilize core components, improve performances and adds new streaming algorithms. Unmaintained code is getting killed as part of this">0.8</span> </span> </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Fix Version/s:</strong> 
                   <span id="fixfor-val" class="value"> <span class="shorten" id="fixVersions-field"> <a href="/jira/issues/?jql=project+%3D+MAHOUT+AND+fixVersion+%3D+0.8" title="0.8 The release will stabilize core components, improve performances and adds new streaming algorithms. Unmaintained code is getting killed as part of this">0.8</a> </span> </span> 
                  </div> </li> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Component/s:</strong> 
                   <span id="components-val" class="value"> <span class="shorten" id="components-field"> <a href="/jira/issues/?jql=project+%3D+MAHOUT+AND+component+%3D+Clustering" title="Clustering Bugs related to any of the clustering packages">Clustering</a> </span> </span> 
                  </div> </li> 
                 <li class="item full-width"> 
                  <div class="wrap" id="wrap-labels"> 
                   <strong class="name">Labels:</strong> 
                   <div class="labels-wrap value"> 
                    <span class="labels" id="labels-12598444-value">None</span> 
                   </div> 
                  </div> </li> 
                 <li class="item full-width"> 
                  <div class="wrap"> 
                   <strong class="name">Environment:</strong> 
                   <div id="environment-val" class="value"> 
                    <p>Several environments and data sets</p> 
                   </div> 
                  </div> </li> 
                </ul> 
               </div>
              </div>
              <div id="descriptionmodule" class="module toggle-wrap">
               <div id="descriptionmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Description</h2>
               </div>
               <div class="mod-content">
                <div id="description-val" class="field-ignore-highlight"> 
                 <div class="user-content-block"> 
                  <p>With real world crawl data the Intra-cluster density from ClusterEvaluator is almost always NaN. The CDbw inter-cluster density is almost always 0. I have also seen several cases where CDbw fails to return any results but have not tracked down why yet.</p> 
                  <p>I have sent a link to an 8G data set that reproduces these errors to Jeff Eastman.</p> 
                 </div> 
                </div> 
               </div>
              </div>
              <div id="dnd-metadata" class="module toggle-wrap">
               <div id="dnd-metadata_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Attachments</h2>
               </div>
               <div class="mod-content">
                <div id="dnd-metadata-webpanel" data-can-attach="false" data-project-type="software" data-upload-limit="62914560" data-thumbnails-allowed="false"></div>
               </div>
              </div>
              <div id="attachmentmodule" class="module toggle-wrap">
               <div id="attachmentmodule_heading" class="mod-header">
                <ul class="ops">
                 <li class="drop">
                  <div class="aui-dd-parent">
                   <a href="#" class="icon drop-menu js-default-dropdown" title="Options"><span>Options</span></a>
                   <div class="aui-dropdown-content aui-list">
                    <ul id="attachment-sorting-options" class="aui-list-section aui-first">
                     <li class="aui-list-item"><a id="attachment-sort-key-name" href="/jira/browse/MAHOUT-1045?attachmentSortBy=fileName#attachmentmodule" class="aui-list-checked aui-checked aui-list-item-link" title="viewissue.subtasks.tab.show.all.name"><span>Sort By Name</span></a></li>
                     <li class="aui-list-item"><a id="attachment-sort-key-date" href="/jira/browse/MAHOUT-1045?attachmentSortBy=dateTime#attachmentmodule" class="aui-list-checked aui-list-item-link" title="Sort By Date"><span>Sort By Date</span></a></li>
                    </ul>
                    <ul id="attachment-sorting-order-options" class="aui-list-section aui-last">
                     <li class="aui-list-item"><a id="attachment-sort-direction-asc" href="/jira/browse/MAHOUT-1045?attachmentOrder=asc#attachmentmodule" class="aui-list-checked aui-checked aui-list-item-link" title="Ascending"><span>Ascending</span></a></li>
                     <li class="aui-list-item"><a id="attachment-sort-direction-desc" href="/jira/browse/MAHOUT-1045?attachmentOrder=desc#attachmentmodule" class="aui-list-checked aui-list-item-link" title="Descending"><span>Descending</span></a></li>
                    </ul>
                   </div>
                  </div></li>
                </ul>
                <h2 class="toggle-title">Attachments</h2>
               </div>
               <div class="mod-content">
                <ol id="file_attachments" class="item-attachments" data-sort-key="fileName" data-sort-order="asc">
                 <li class="attachment-content js-file-attachment" data-attachment-id="12536574" data-issue-id="12598444" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12536574/first-time-density-nan.txt" draggable="true" data-downloadurl="text/plain:first-time-density-nan.txt:https://issues.apache.org/jira/secure/attachment/12536574/first-time-density-nan.txt"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12536574/first-time-density-nan.txt" title="Latest  15/Jul/12 19:57 - Pat Ferrel" draggable="true" data-downloadurl="text/plain:first-time-density-nan.txt:https://issues.apache.org/jira/secure/attachment/12536574/first-time-density-nan.txt">first-time-density-nan.txt</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2012-07-15T19:57:32.627Z">15/Jul/12 19:57</time>
                   </dd>
                   <dd class="attachment-size">
                    2 kB
                   </dd>
                   <dd class="attachment-author">
                    Pat Ferrel
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12537459" data-issue-id="12598444" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12537459/MAHOUT-1045.patch" draggable="true" data-downloadurl="text/plain:MAHOUT-1045.patch:https://issues.apache.org/jira/secure/attachment/12537459/MAHOUT-1045.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12537459/MAHOUT-1045.patch" title="Latest  21/Jul/12 15:52 - Jeff Eastman" draggable="true" data-downloadurl="text/plain:MAHOUT-1045.patch:https://issues.apache.org/jira/secure/attachment/12537459/MAHOUT-1045.patch">MAHOUT-1045.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2012-07-21T15:52:34.859Z">21/Jul/12 15:52</time>
                   </dd>
                   <dd class="attachment-size">
                    32 kB
                   </dd>
                   <dd class="attachment-author">
                    Jeff Eastman
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12537234" data-issue-id="12598444" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12537234/MAHOUT-1045.patch" draggable="true" data-downloadurl="text/plain:MAHOUT-1045.patch:https://issues.apache.org/jira/secure/attachment/12537234/MAHOUT-1045.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12537234/MAHOUT-1045.patch" title=" 19/Jul/12 19:42 - Jeff Eastman" draggable="true" data-downloadurl="text/plain:MAHOUT-1045.patch:https://issues.apache.org/jira/secure/attachment/12537234/MAHOUT-1045.patch">MAHOUT-1045.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2012-07-19T19:42:43.445Z">19/Jul/12 19:42</time>
                   </dd>
                   <dd class="attachment-size">
                    21 kB
                   </dd>
                   <dd class="attachment-author">
                    Jeff Eastman
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12536667" data-issue-id="12598444" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12536667/MAHOUT-1045.patch" draggable="true" data-downloadurl="text/plain:MAHOUT-1045.patch:https://issues.apache.org/jira/secure/attachment/12536667/MAHOUT-1045.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12536667/MAHOUT-1045.patch" title=" 16/Jul/12 17:30 - Jeff Eastman" draggable="true" data-downloadurl="text/plain:MAHOUT-1045.patch:https://issues.apache.org/jira/secure/attachment/12536667/MAHOUT-1045.patch">MAHOUT-1045.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2012-07-16T17:30:50.559Z">16/Jul/12 17:30</time>
                   </dd>
                   <dd class="attachment-size">
                    21 kB
                   </dd>
                   <dd class="attachment-author">
                    Jeff Eastman
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12536573" data-issue-id="12598444" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12536573/MAHOUT-1045.patch" draggable="true" data-downloadurl="text/plain:MAHOUT-1045.patch:https://issues.apache.org/jira/secure/attachment/12536573/MAHOUT-1045.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12536573/MAHOUT-1045.patch" title=" 15/Jul/12 19:40 - Jeff Eastman" draggable="true" data-downloadurl="text/plain:MAHOUT-1045.patch:https://issues.apache.org/jira/secure/attachment/12536573/MAHOUT-1045.patch">MAHOUT-1045.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2012-07-15T19:40:25.038Z">15/Jul/12 19:40</time>
                   </dd>
                   <dd class="attachment-size">
                    19 kB
                   </dd>
                   <dd class="attachment-author">
                    Jeff Eastman
                   </dd>
                  </dl></li>
                </ol>
               </div>
              </div>
              <div id="activitymodule" class="module toggle-wrap">
               <div id="activitymodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Activity</h2>
               </div>
               <div class="mod-content"> 
                <big-pipe data-id="activity-panel-pipe-id" style="height: 70px"> 
                 <div></div> 
                </big-pipe> 
               </div>
              </div>
             </div>
             <div id="viewissuesidebar" class="aui-item issue-side-column">
              <div id="peoplemodule" class="module toggle-wrap">
               <div id="peoplemodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">People</h2>
               </div>
               <div class="mod-content"> 
                <ul class="item-details" id="peopledetails"> 
                 <li class="people-details"> 
                  <dl> 
                   <dt>
                    Assignee:
                   </dt> 
                   <dd> 
                    <span id="assignee-val" class="view-issue-field"> <span class="aui-avatar aui-avatar-small"><span class="aui-avatar-inner"><img src="https://issues.apache.org/jira/secure/useravatar?size=small&amp;avatarId=10453"></span></span> Unassigned </span> 
                   </dd> 
                  </dl> 
                  <dl> 
                   <dt>
                    Reporter:
                   </dt> 
                   <dd> 
                    <span id="reporter-val" class="view-issue-field"> <span class="user-hover" id="issue_summary_reporter_pferrel" rel="pferrel" data-user="{&quot;avatarUrl&quot;:&quot;https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10452&quot;,&quot;displayName&quot;:&quot;Pat Ferrel&quot;,&quot;emailAddress&quot;:&quot;pat@occamsmachete.com&quot;,&quot;username&quot;:&quot;pferrel&quot;}"> <span class="aui-avatar aui-avatar-small"><span class="aui-avatar-inner"><img src="https://issues.apache.org/jira/secure/useravatar?size=small&amp;avatarId=10452" alt="pferrel"></span></span> Pat Ferrel </span> </span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
                <ul class="item-details"> 
                 <li> 
                  <dl> 
                   <dt>
                    Votes:
                   </dt> 
                   <dd> 
                    <span id="vote-data" class="aui-badge vote-state-off">0</span> 
                    <span id="vote-label" title="You have to be logged in to vote for an issue.">Vote for this issue</span> 
                   </dd> 
                  </dl> 
                  <dl> 
                   <dt>
                    Watchers:
                   </dt> 
                   <dd> 
                    <span id="watcher-data" class="aui-badge watch-state-off">6</span> 
                    <span id="watch-label" title="You have to be logged in to watch an issue.">Start watching this issue</span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
               </div>
              </div>
              <div id="datesmodule" class="module toggle-wrap">
               <div id="datesmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Dates</h2>
               </div>
               <div class="mod-content"> 
                <ul class="item-details"> 
                 <li> 
                  <dl class="dates"> 
                   <dt>
                    Created:
                   </dt> 
                   <dd class="date user-tz" title="11/Jul/12 20:17"> 
                    <span data-name="Created" id="created-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2012-07-11T20:17:21+0000">11/Jul/12 20:17</time> </span> 
                   </dd> 
                  </dl> 
                  <dl class="dates"> 
                   <dt>
                    Updated:
                   </dt> 
                   <dd class="date user-tz" title="03/Feb/14 08:05"> 
                    <span data-name="Updated" id="updated-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2014-02-03T08:05:53+0000">03/Feb/14 08:05</time> </span> 
                   </dd> 
                  </dl> 
                  <dl class="dates"> 
                   <dt>
                    Resolved:
                   </dt> 
                   <dd class="date user-tz" title="01/Jun/13 17:36"> 
                    <span data-name="Resolved" id="resolutiondate-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2013-06-01T17:36:12+0000">01/Jun/13 17:36</time> </span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
               </div>
              </div>
             </div>
            </div>
           </div>
          </div>
         </div>
        </div>
       </div>
      </div>
     </div>
     <!-- .aui-page-panel-inner -->
    </div>
    <!-- .aui-page-panel -->
    <div class="issue-navigator-init"></div> 
   </section> 
   <footer id="footer" role="contentinfo"> 
    <section class="footer-body"> 
     <ul class="atlassian-footer"> 
      <li> Atlassian JIRA <a class="seo-link" rel="nofollow" href="https://www.atlassian.com/software/jira">Project Management Software</a> <span id="footer-build-information">(v7.6.3#76005-<span title="8a4e38d34af948780dbf52044e7aafb13a7cae58" data-commit-id="8a4e38d34af948780dbf52044e7aafb13a7cae58}">sha1:8a4e38d</span>)</span> </li> 
      <li> <a id="about-link" rel="nofollow" href="/jira/secure/AboutPage.jspa/secure/AboutPage.jspa">About JIRA</a> </li> 
      <li> <a id="footer-report-problem-link" rel="nofollow" href="/jira/secure/CreateIssue!default.jspa">Report a problem</a> </li> 
     </ul> 
     <ul class="atlassian-footer"> 
      <li class="licensemessage"> Powered by a free Atlassian <a rel="nofollow" href="http://www.atlassian.com/software/jira">JIRA</a> open source license for n/a, Apache Software Foundation. Try JIRA - <a rel="nofollow" href="http://www.atlassian.com/software/jira">bug tracking software</a> for <i>your</i> team. </li> 
     </ul> 
     <div id="footer-logo">
      <a rel="nofollow" href="http://www.atlassian.com/">Atlassian</a>
     </div> 
    </section> 
    <fieldset class="hidden parameters"> 
     <input type="hidden" title="loggedInUser" value=""> 
     <input type="hidden" title="ajaxTimeout" value="The call to the JIRA server did not complete within the timeout period.  We are unsure of the result of this operation."> 
     <input type="hidden" title="JiraVersion" value="7.6.3"> 
     <input type="hidden" title="ajaxUnauthorised" value="You are not authorised to perform this operation. Please log in."> 
     <input type="hidden" title="baseURL" value="https://issues.apache.org/jira"> 
     <input type="hidden" title="ajaxCommsError" value="The JIRA server could not be contacted. This may be a temporary glitch or the server may be down. "> 
     <input type="hidden" title="ajaxServerError" value="The JIRA server was contacted but has returned an error response. We are unsure of the result of this operation."> 
     <input type="hidden" title="ajaxErrorCloseDialog" value="Close this dialog and press refresh in your browser"> 
     <input type="hidden" title="ajaxErrorDialogHeading" value="Communications Breakdown"> 
     <input type="hidden" title="dirtyMessage" value="You have entered new data on this page. If you navigate away from this page without first saving your data, the changes will be lost."> 
     <input type="hidden" title="dirtyDialogMessage" value="You have entered new data in this dialog. If you navigate away from this dialog without first saving your data, the changes will be lost. Click cancel to return to the dialog."> 
     <input type="hidden" title="keyType" value="Type"> 
     <input type="hidden" title="keyThen" value="then"> 
     <input type="hidden" title="dblClickToExpand" value="Double click to expand"> 
     <input type="hidden" title="actions" value="Actions"> 
     <input type="hidden" title="removeItem" value="Remove"> 
     <input type="hidden" title="workflow" value="Workflow"> 
     <input type="hidden" title="labelNew" value="New Label"> 
     <input type="hidden" title="issueActionsHint" value="Begin typing for available operations or press down to see all"> 
     <input type="hidden" title="closelink" value="Close"> 
     <input type="hidden" title="dotOperations" value="Operations"> 
     <input type="hidden" title="dotLoading" value="Loading..."> 
     <input type="hidden" title="frotherSuggestions" value="Suggestions"> 
     <input type="hidden" title="frotherNomatches" value="No Matches"> 
     <input type="hidden" title="multiselectVersionsError" value="{0} is not a valid version."> 
     <input type="hidden" title="multiselectComponentsError" value="{0} is not a valid component."> 
     <input type="hidden" title="multiselectGenericError" value="The value {0} is invalid."> 
    </fieldset> 
   </footer> 
  </div> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:bigpipe-js/jira.webresources:bigpipe-js.js" data-wrm-key="jira.webresources:bigpipe-js" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["activity-panel-pipe-id"]="\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n    \u003cdiv class=\\\"tabwrap tabs2\\\"\u003e\\n\\n        \u003cul id=\\\"issue-tabs\\\" class=\\\"tabs horizontal\\\"\u003e\\n                                \\n            \u003cli  data-id=\\\"all-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\" data-label=\\\"All\\\" data-href=\\\"\\/jira\\/browse\\/MAHOUT-1045?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"all-tabpanel\\\" href=\\\"\\/jira\\/browse\\/MAHOUT-1045?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\"\u003e\u003cstrong\u003eAll\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  class=\\\"active\\\" id=\\\"comment-tabpanel\\\"  data-id=\\\"comment-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel\\\" data-label=\\\"Comments\\\" data-href=\\\"\\/jira\\/browse\\/MAHOUT-1045?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel\\\"\u003e\\n                            \u003cstrong tabindex=\\\"0\\\"\u003eComments\u003c\\/strong\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"worklog-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\" data-label=\\\"Work Log\\\" data-href=\\\"\\/jira\\/browse\\/MAHOUT-1045?page=com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"worklog-tabpanel\\\" href=\\\"\\/jira\\/browse\\/MAHOUT-1045?page=com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\"\u003e\u003cstrong\u003eWork Log\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"changehistory-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\" data-label=\\\"History\\\" data-href=\\\"\\/jira\\/browse\\/MAHOUT-1045?page=com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"changehistory-tabpanel\\\" href=\\\"\\/jira\\/browse\\/MAHOUT-1045?page=com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\"\u003e\u003cstrong\u003eHistory\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"activity-stream-issue-tab\\\" data-key=\\\"com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\" data-label=\\\"Activity\\\" data-href=\\\"\\/jira\\/browse\\/MAHOUT-1045?page=com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"activity-stream-issue-tab\\\" href=\\\"\\/jira\\/browse\\/MAHOUT-1045?page=com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\"\u003e\u003cstrong\u003eActivity\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"transitions-summary-tabpanel\\\" data-key=\\\"com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\" data-label=\\\"Transitions\\\" data-href=\\\"\\/jira\\/browse\\/MAHOUT-1045?page=com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"transitions-summary-tabpanel\\\" href=\\\"\\/jira\\/browse\\/MAHOUT-1045?page=com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\"\u003e\u003cstrong\u003eTransitions\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                \u003c\\/ul\u003e\\n\\n                    \u003cdiv class=\\\"sortwrap\\\"\u003e\\n                                    \u003ca class=\\\"issue-activity-sort-link ajax-activity-content\\\" rel=\\\"nofollow\\\" data-tab-sort data-order=\\\"desc\\\" href=\\\"\\/jira\\/browse\\/MAHOUT-1045?actionOrder=desc\\\" title=\\\"Ascending order - Click to sort in descending order\\\"\u003e\\n                        \u003cspan class=\\\"aui-icon aui-icon-small aui-iconfont-up\\\"\u003eAscending order - Click to sort in descending order\u003c\\/span\u003e\\n                    \u003c\\/a\u003e\\n                            \u003c\\/div\u003e\\n            \u003c\\/div\u003e\\n    \u003cdiv class=\\\"issuePanelWrapper\\\"\u003e\\n        \u003cdiv class=\\\"issuePanelProgress\\\"\u003e\u003c\\/div\u003e\\n        \u003cdiv class=\\\"issuePanelContainer\\\" id=\\\"issue_actions_container\\\"\u003e\\n                                    \\n\\n\\n\u003cdiv id=\\\"comment-13414123\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-1045?focusedCommentId=13414123&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13414123\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"pferrel\\\" id=\\\"commentauthor_13414123_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=pferrel\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"pferrel\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Pat Ferrel\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13414123_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'13\\/Jul\\/12 22:55\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-13T22:55:37+0000\'\u003e13\\/Jul\\/12 22:55\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eFrom the inputs to the ClusterEvaluator class I\'ll try uploading the stuff below as an attachment to this issue:\u003c\\/p\u003e\\n\\n\u003cp\u003e    conf.set(RepresentativePointsDriver.DISTANCE_MEASURE_KEY, dm.getClass().getName());\u003cbr\\/\u003e\\n    ---&gt; org.apache.mahout.common.distance.CosineDistanceMeasure\u003cbr\\/\u003e\\n    I guess you can just make a note of this\u003c\\/p\u003e\\n\\n\u003cp\u003e    conf.set(RepresentativePointsDriver.STATE_IN_KEY, \\\"tmp\\/representative\\/representativePoints-\\\" + numIters);\u003cbr\\/\u003e\\n    ---&gt; representativePoints-5\\/*\u003c\\/p\u003e\\n\\n\u003cp\u003e    ClusterEvaluator ce = new ClusterEvaluator(conf, finalClusters);\u003cbr\\/\u003e\\n    ---&gt; clusters-27-final\\/*\u003cbr\\/\u003e\\n    The final clusters dir of the k = 500 run.\u003c\\/p\u003e\\n\\n\u003cp\u003eit\'s an 22M tar.gz\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"pferrel\\\" id=\\\"commentauthor_13414123_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=pferrel\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"pferrel\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Pat Ferrel\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13414123_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'13\\/Jul\\/12 22:55\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-13T22:55:37+0000\'\u003e13\\/Jul\\/12 22:55\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    From the inputs to the ClusterEvaluator class I\'ll try uploading the stuff below as an attachment to this issue: \\n\\n     conf.set(RepresentativePointsDriver.DISTANCE_MEASURE_KEY, dm.getClass().getName()); \\n    ---&gt; org.apache.mahout.common.distance.CosineDistanceMeasure \\n    I guess you can just make a note of this \\n\\n     conf.set(RepresentativePointsDriver.STATE_IN_KEY, \\\"tmp\\/representative\\/representativePoints-\\\" + numIters); \\n    ---&gt; representativePoints-5\\/* \\n\\n     ClusterEvaluator ce = new ClusterEvaluator(conf, finalClusters); \\n    ---&gt; clusters-27-final\\/* \\n    The final clusters dir of the k = 500 run. \\n\\n it\'s an 22M tar.gz              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13414147\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-1045?focusedCommentId=13414147&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13414147\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"pferrel\\\" id=\\\"commentauthor_13414147_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=pferrel\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"pferrel\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Pat Ferrel\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13414147_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'13\\/Jul\\/12 23:27\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-13T23:27:10+0000\'\u003e13\\/Jul\\/12 23:27\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eCan\'t upload more than 10M so here is a webdav URL\u003cbr\\/\u003e\\n\u003ca href=\\\"http:\\/\\/cloud.occamsmachete.com\\/public.php?service=files&amp;token=ceae2302d5ef6a55737b5e48aaafe45a3eddc389&amp;file=\\/cluster-eval.tar.gz\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/cloud.occamsmachete.com\\/public.php?service=files&amp;token=ceae2302d5ef6a55737b5e48aaafe45a3eddc389&amp;file=\\/cluster-eval.tar.gz\u003c\\/a\u003e\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"pferrel\\\" id=\\\"commentauthor_13414147_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=pferrel\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"pferrel\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Pat Ferrel\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13414147_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'13\\/Jul\\/12 23:27\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-13T23:27:10+0000\'\u003e13\\/Jul\\/12 23:27\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Can\'t upload more than 10M so here is a webdav URL \\n http:\\/\\/cloud.occamsmachete.com\\/public.php?service=files&amp;token=ceae2302d5ef6a55737b5e48aaafe45a3eddc389&amp;file=\\/cluster-eval.tar.gz               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13414149\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-1045?focusedCommentId=13414149&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13414149\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"pferrel\\\" id=\\\"commentauthor_13414149_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=pferrel\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"pferrel\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Pat Ferrel\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13414149_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'13\\/Jul\\/12 23:30\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-13T23:30:25+0000\'\u003e13\\/Jul\\/12 23:30\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eRunning the cluster evaluators on this data shows a lot of pruned clusters, 48 where k = 500. The ClusterEvaluator has NaN for several individual clusters too.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"pferrel\\\" id=\\\"commentauthor_13414149_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=pferrel\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"pferrel\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Pat Ferrel\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13414149_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'13\\/Jul\\/12 23:30\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-13T23:30:25+0000\'\u003e13\\/Jul\\/12 23:30\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Running the cluster evaluators on this data shows a lot of pruned clusters, 48 where k = 500. The ClusterEvaluator has NaN for several individual clusters too.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13414431\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-1045?focusedCommentId=13414431&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13414431\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"pferrel\\\" id=\\\"commentauthor_13414431_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=pferrel\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"pferrel\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Pat Ferrel\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13414431_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'14\\/Jul\\/12 15:28\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-14T15:28:56+0000\'\u003e14\\/Jul\\/12 15:28\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Pat Ferrel - 14\\/Jul\\/12 15:36\\\"\u003eedited\u003c\\/span\u003e \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI checked the data set linked above by only running the evaluators on it. I got results listed below. The values are almost identical to the first evaluator values I got so we have the right data isolated. I assume the small differences are due to different representative points?\u003c\\/p\u003e\\n\\n\u003cp\u003eInter-Cluster Density: 0.9289881620012391\u003cbr\\/\u003e\\nIntra-Cluster Density: NaN\u003cbr\\/\u003e\\nCDbw Inter-Cluster Density: 0.0\u003cbr\\/\u003e\\nCDbw Intra-Cluster Density: 1050.0723680608382\u003cbr\\/\u003e\\nCDbw Separation: 187792.32137017616\u003c\\/p\u003e\\n\\n\u003cp\u003eI\'ll start looking at the NaN and 0 values when I get time, no idea if the other values are correct but eliminating the obvious errors seems like a good place to start.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"pferrel\\\" id=\\\"commentauthor_13414431_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=pferrel\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"pferrel\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Pat Ferrel\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13414431_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'14\\/Jul\\/12 15:28\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-14T15:28:56+0000\'\u003e14\\/Jul\\/12 15:28\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Pat Ferrel - 14\\/Jul\\/12 15:36\\\"\u003eedited\u003c\\/span\u003e                   I checked the data set linked above by only running the evaluators on it. I got results listed below. The values are almost identical to the first evaluator values I got so we have the right data isolated. I assume the small differences are due to different representative points? \\n\\n Inter-Cluster Density: 0.9289881620012391 \\nIntra-Cluster Density: NaN \\nCDbw Inter-Cluster Density: 0.0 \\nCDbw Intra-Cluster Density: 1050.0723680608382 \\nCDbw Separation: 187792.32137017616 \\n\\n I\'ll start looking at the NaN and 0 values when I get time, no idea if the other values are correct but eliminating the obvious errors seems like a good place to start.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13414652\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-1045?focusedCommentId=13414652&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13414652\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jeastman\\\" id=\\\"commentauthor_13414652_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jeastman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jeastman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Jeff Eastman\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13414652_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Jul\\/12 14:58\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-15T14:58:30+0000\'\u003e15\\/Jul\\/12 14:58\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eOk, I can duplicate your results, but (whew) the 500 clusters really takes a while to compute CDbw inter-cluster density (it\'s n^2 on clusters) and it does it twice. First optimization would be to cache it so the separation calculation can be done more quickly. I will dig into the ClusterEvaluator NaN first. Stay tuned.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jeastman\\\" id=\\\"commentauthor_13414652_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jeastman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jeastman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Jeff Eastman\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13414652_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Jul\\/12 14:58\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-15T14:58:30+0000\'\u003e15\\/Jul\\/12 14:58\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Ok, I can duplicate your results, but (whew) the 500 clusters really takes a while to compute CDbw inter-cluster density (it\'s n^2 on clusters) and it does it twice. First optimization would be to cache it so the separation calculation can be done more quickly. I will dig into the ClusterEvaluator NaN first. Stay tuned.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13414664\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-1045?focusedCommentId=13414664&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13414664\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jeastman\\\" id=\\\"commentauthor_13414664_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jeastman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jeastman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Jeff Eastman\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13414664_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Jul\\/12 15:22\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-15T15:22:48+0000\'\u003e15\\/Jul\\/12 15:22\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eInitial results indicate you have some very, very dense clusters that have max distance from the cluster center and min distance both == 0. This makes the intra-density NaN for that cluster and, since the overall density is an average of the per-cluster intra-density, that too is NaN. I\'ve checked one of those clusters and the invalidCluster() calculation indicates at least one of the representative points for the cluster is not identical to the cluster center. This should yield a non-zero distance, even for CosineDistanceMeasure, but this does not seem to be the case. Continuing...\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jeastman\\\" id=\\\"commentauthor_13414664_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jeastman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jeastman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Jeff Eastman\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13414664_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Jul\\/12 15:22\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-15T15:22:48+0000\'\u003e15\\/Jul\\/12 15:22\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Initial results indicate you have some very, very dense clusters that have max distance from the cluster center and min distance both == 0. This makes the intra-density NaN for that cluster and, since the overall density is an average of the per-cluster intra-density, that too is NaN. I\'ve checked one of those clusters and the invalidCluster() calculation indicates at least one of the representative points for the cluster is not identical to the cluster center. This should yield a non-zero distance, even for CosineDistanceMeasure, but this does not seem to be the case. Continuing...              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13414675\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-1045?focusedCommentId=13414675&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13414675\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jeastman\\\" id=\\\"commentauthor_13414675_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jeastman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jeastman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Jeff Eastman\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13414675_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Jul\\/12 15:42\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-15T15:42:53+0000\'\u003e15\\/Jul\\/12 15:42\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI tried changing the initialization of the max loop variable from 0 to Double.MIN_VALUE (see below) and now it produces a legal value (0.656) for average Intra-Cluster Density. Is this useful? Does it look like a reasonable change?\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e  \u003cspan class=\\\"code-keyword\\\"\u003epublic\u003c\\/span\u003e \u003cspan class=\\\"code-object\\\"\u003edouble\u003c\\/span\u003e intraClusterDensity() {\\n    pruneInvalidClusters();\\n    \u003cspan class=\\\"code-object\\\"\u003edouble\u003c\\/span\u003e avgDensity = 0;\\n    \u003cspan class=\\\"code-keyword\\\"\u003efor\u003c\\/span\u003e (Cluster cluster : clusters) {\\n      \u003cspan class=\\\"code-object\\\"\u003eint\u003c\\/span\u003e count = 0;\\n      \u003cspan class=\\\"code-object\\\"\u003edouble\u003c\\/span\u003e max = \u003cspan class=\\\"code-object\\\"\u003eDouble\u003c\\/span\u003e.MIN_VALUE;\\n      \u003cspan class=\\\"code-object\\\"\u003edouble\u003c\\/span\u003e min = \u003cspan class=\\\"code-object\\\"\u003eDouble\u003c\\/span\u003e.MAX_VALUE;\\n      \u003cspan class=\\\"code-object\\\"\u003edouble\u003c\\/span\u003e sum = 0;\\n      List&lt;VectorWritable&gt; repPoints = representativePoints.get(cluster.getId());\\n      \u003cspan class=\\\"code-keyword\\\"\u003efor\u003c\\/span\u003e (\u003cspan class=\\\"code-object\\\"\u003eint\u003c\\/span\u003e i = 0; i &lt; repPoints.size(); i++) {\\n        \u003cspan class=\\\"code-keyword\\\"\u003efor\u003c\\/span\u003e (\u003cspan class=\\\"code-object\\\"\u003eint\u003c\\/span\u003e j = i + 1; j &lt; repPoints.size(); j++) {\\n          \u003cspan class=\\\"code-object\\\"\u003edouble\u003c\\/span\u003e d = measure.distance(repPoints.get(i).get(), repPoints.get(j).get());\\n          min = \u003cspan class=\\\"code-object\\\"\u003eMath\u003c\\/span\u003e.min(d, min);\\n          max = \u003cspan class=\\\"code-object\\\"\u003eMath\u003c\\/span\u003e.max(d, max);\\n          sum += d;\\n          count++;\\n        }\\n      }\\n      \u003cspan class=\\\"code-object\\\"\u003edouble\u003c\\/span\u003e denom = max - min;\\n      \u003cspan class=\\\"code-object\\\"\u003edouble\u003c\\/span\u003e density = (sum \\/ count - min) \\/ denom;\\n      avgDensity += density;\\n      log.info(\u003cspan class=\\\"code-quote\\\"\u003e\\\"Intra-Cluster Density[{}] = {}\\\"\u003c\\/span\u003e, cluster.getId(), density);\\n    }\\n    avgDensity = clusters.isEmpty() ? 0 : avgDensity \\/ clusters.size();\\n    log.info(\u003cspan class=\\\"code-quote\\\"\u003e\\\"Intra-Cluster Density = {}\\\"\u003c\\/span\u003e, avgDensity);\\n    \u003cspan class=\\\"code-keyword\\\"\u003ereturn\u003c\\/span\u003e avgDensity;   \\n  }\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jeastman\\\" id=\\\"commentauthor_13414675_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jeastman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jeastman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Jeff Eastman\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13414675_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Jul\\/12 15:42\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-15T15:42:53+0000\'\u003e15\\/Jul\\/12 15:42\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I tried changing the initialization of the max loop variable from 0 to Double.MIN_VALUE (see below) and now it produces a legal value (0.656) for average Intra-Cluster Density. Is this useful? Does it look like a reasonable change? \\n\\n  \\n    public   double  intraClusterDensity() {\\n    pruneInvalidClusters();\\n     double  avgDensity = 0;\\n     for  (Cluster cluster : clusters) {\\n       int  count = 0;\\n       double  max =  Double .MIN_VALUE;\\n       double  min =  Double .MAX_VALUE;\\n       double  sum = 0;\\n      List&lt;VectorWritable&gt; repPoints = representativePoints.get(cluster.getId());\\n       for  ( int  i = 0; i &lt; repPoints.size(); i++) {\\n         for  ( int  j = i + 1; j &lt; repPoints.size(); j++) {\\n           double  d = measure.distance(repPoints.get(i).get(), repPoints.get(j).get());\\n          min =  Math .min(d, min);\\n          max =  Math .max(d, max);\\n          sum += d;\\n          count++;\\n        }\\n      }\\n       double  denom = max - min;\\n       double  density = (sum \\/ count - min) \\/ denom;\\n      avgDensity += density;\\n      log.info( \\\"Intra-Cluster Density[{}] = {}\\\" , cluster.getId(), density);\\n    }\\n    avgDensity = clusters.isEmpty() ? 0 : avgDensity \\/ clusters.size();\\n    log.info( \\\"Intra-Cluster Density = {}\\\" , avgDensity);\\n     return  avgDensity;   \\n  }\\n \\n               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13414679\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-1045?focusedCommentId=13414679&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13414679\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jeastman\\\" id=\\\"commentauthor_13414679_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jeastman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jeastman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Jeff Eastman\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13414679_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Jul\\/12 15:51\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-15T15:51:19+0000\'\u003e15\\/Jul\\/12 15:51\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI also recall wondering about the density calculation when I wrote it. The intra-cluster density uses a similar normalization in the book and, well, I really cannot defend either of them. Here it is just for conversation:\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e  \u003cspan class=\\\"code-keyword\\\"\u003epublic\u003c\\/span\u003e \u003cspan class=\\\"code-object\\\"\u003edouble\u003c\\/span\u003e interClusterDensity() {\\n    pruneInvalidClusters();\\n    \u003cspan class=\\\"code-object\\\"\u003edouble\u003c\\/span\u003e max = 0;\\n    \u003cspan class=\\\"code-object\\\"\u003edouble\u003c\\/span\u003e min = \u003cspan class=\\\"code-object\\\"\u003eDouble\u003c\\/span\u003e.MAX_VALUE;\\n    \u003cspan class=\\\"code-object\\\"\u003edouble\u003c\\/span\u003e sum = 0;\\n    \u003cspan class=\\\"code-object\\\"\u003eint\u003c\\/span\u003e count = 0;\\n    \u003cspan class=\\\"code-keyword\\\"\u003efor\u003c\\/span\u003e (\u003cspan class=\\\"code-object\\\"\u003eint\u003c\\/span\u003e i = 0; i &lt; clusters.size(); i++) {\\n      Cluster clusterI = clusters.get(i);\\n      \u003cspan class=\\\"code-keyword\\\"\u003efor\u003c\\/span\u003e (\u003cspan class=\\\"code-object\\\"\u003eint\u003c\\/span\u003e j = i + 1; j &lt; clusters.size(); j++) {\\n        Cluster clusterJ = clusters.get(j);\\n        \u003cspan class=\\\"code-object\\\"\u003edouble\u003c\\/span\u003e d = measure.distance(clusterI.getCenter(), clusterJ.getCenter());\\n        min = \u003cspan class=\\\"code-object\\\"\u003eMath\u003c\\/span\u003e.min(d, min);\\n        max = \u003cspan class=\\\"code-object\\\"\u003eMath\u003c\\/span\u003e.max(d, max);\\n        sum += d;\\n        count++;\\n      }\\n    }\\n    \u003cspan class=\\\"code-object\\\"\u003edouble\u003c\\/span\u003e density = (sum \\/ count - min) \\/ (max - min);\\n    log.info(\u003cspan class=\\\"code-quote\\\"\u003e\\\"Inter-Cluster Density = {}\\\"\u003c\\/span\u003e, density);\\n    \u003cspan class=\\\"code-keyword\\\"\u003ereturn\u003c\\/span\u003e density;\\n  }\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jeastman\\\" id=\\\"commentauthor_13414679_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jeastman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jeastman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Jeff Eastman\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13414679_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Jul\\/12 15:51\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-15T15:51:19+0000\'\u003e15\\/Jul\\/12 15:51\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I also recall wondering about the density calculation when I wrote it. The intra-cluster density uses a similar normalization in the book and, well, I really cannot defend either of them. Here it is just for conversation: \\n\\n  \\n    public   double  interClusterDensity() {\\n    pruneInvalidClusters();\\n     double  max = 0;\\n     double  min =  Double .MAX_VALUE;\\n     double  sum = 0;\\n     int  count = 0;\\n     for  ( int  i = 0; i &lt; clusters.size(); i++) {\\n      Cluster clusterI = clusters.get(i);\\n       for  ( int  j = i + 1; j &lt; clusters.size(); j++) {\\n        Cluster clusterJ = clusters.get(j);\\n         double  d = measure.distance(clusterI.getCenter(), clusterJ.getCenter());\\n        min =  Math .min(d, min);\\n        max =  Math .max(d, max);\\n        sum += d;\\n        count++;\\n      }\\n    }\\n     double  density = (sum \\/ count - min) \\/ (max - min);\\n    log.info( \\\"Inter-Cluster Density = {}\\\" , density);\\n     return  density;\\n  }\\n \\n               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13414697\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-1045?focusedCommentId=13414697&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13414697\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"pferrel\\\" id=\\\"commentauthor_13414697_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=pferrel\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"pferrel\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Pat Ferrel\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13414697_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Jul\\/12 16:39\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-15T16:39:59+0000\'\u003e15\\/Jul\\/12 16:39\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eAs to the very dense clusters; from visual inspection I bet those are a set of identical pages. I have done nothing to filter them since they have different URLs and for my particular use the URL makes them different. I noticed this looking at the results so it is just a guess. For other people doing crawls I suspect it will happen fairly often. \u003c\\/p\u003e\\n\\n\u003cp\u003eAs to the change made to the initialization from the absolute 0 to Double.MIN_VALUE I claim ignorance of the java Double implementation (years waisted in other programming languages). However given the special nature of NaN, 0, positive and negative infinity, and the need to correct for rounding errors in large scale calculations my intuition says it is the right thing to do, BTW I will be much more careful myself in the future. When this is over I\'d suggest a code review from a Java math expert, don\'t rely on me obviously.\u003c\\/p\u003e\\n\\n\u003cp\u003eAs to whether the value returned looks good; I am not sure what to expect since I haven\'t seen a lot of values from that calc but I\'ll plug in your code to recreate the evaluator table (the one with several values of k) and we\'ll see what it looks like.\u003c\\/p\u003e\\n\\n\u003cp\u003eYou reference \\\"the book\\\" in the question about normalization. I\'ve been meaning to ask where the ClusterEvaluator work came from? \u003c\\/p\u003e\\n\\n\u003cp\u003eI\'ve got a fire drill on another project but will get back on this asap.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"pferrel\\\" id=\\\"commentauthor_13414697_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=pferrel\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"pferrel\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Pat Ferrel\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13414697_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Jul\\/12 16:39\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-15T16:39:59+0000\'\u003e15\\/Jul\\/12 16:39\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    As to the very dense clusters; from visual inspection I bet those are a set of identical pages. I have done nothing to filter them since they have different URLs and for my particular use the URL makes them different. I noticed this looking at the results so it is just a guess. For other people doing crawls I suspect it will happen fairly often.  \\n\\n As to the change made to the initialization from the absolute 0 to Double.MIN_VALUE I claim ignorance of the java Double implementation (years waisted in other programming languages). However given the special nature of NaN, 0, positive and negative infinity, and the need to correct for rounding errors in large scale calculations my intuition says it is the right thing to do, BTW I will be much more careful myself in the future. When this is over I\'d suggest a code review from a Java math expert, don\'t rely on me obviously. \\n\\n As to whether the value returned looks good; I am not sure what to expect since I haven\'t seen a lot of values from that calc but I\'ll plug in your code to recreate the evaluator table (the one with several values of k) and we\'ll see what it looks like. \\n\\n You reference \\\"the book\\\" in the question about normalization. I\'ve been meaning to ask where the ClusterEvaluator work came from?  \\n\\n I\'ve got a fire drill on another project but will get back on this asap.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13414702\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-1045?focusedCommentId=13414702&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13414702\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"pferrel\\\" id=\\\"commentauthor_13414702_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=pferrel\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"pferrel\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Pat Ferrel\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13414702_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Jul\\/12 16:53\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-15T16:53:57+0000\'\u003e15\\/Jul\\/12 16:53\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThinking about how the evaluators are tested; it seems that there are several cases that will occur often in real world data that might not be seen in synthetic data. First is ultra dense clusters because of identical docs\\/items. Another is empty vectors. With dimensional reduction in it\'s various forms you can easily get empty vectors and depending on how the clusterer works you may get a cluster around the origin or one of empty vectors. Anyway back to the fire drill.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"pferrel\\\" id=\\\"commentauthor_13414702_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=pferrel\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"pferrel\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Pat Ferrel\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13414702_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Jul\\/12 16:53\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-15T16:53:57+0000\'\u003e15\\/Jul\\/12 16:53\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Thinking about how the evaluators are tested; it seems that there are several cases that will occur often in real world data that might not be seen in synthetic data. First is ultra dense clusters because of identical docs\\/items. Another is empty vectors. With dimensional reduction in it\'s various forms you can easily get empty vectors and depending on how the clusterer works you may get a cluster around the origin or one of empty vectors. Anyway back to the fire drill.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13414707\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-1045?focusedCommentId=13414707&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13414707\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"srowen\\\" id=\\\"commentauthor_13414707_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=srowen\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"srowen\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sean Owen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13414707_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Jul\\/12 17:14\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-15T17:14:43+0000\'\u003e15\\/Jul\\/12 17:14\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eNota Bene: Double.MIN_VALUE is \u003cb\u003enot\u003c\\/b\u003e the smallest double value. It\'s the smallest \u003cb\u003epositive\u003c\\/b\u003e double value. Initialize max variables of this type to Double.NEGATIVE_INFINITY and min variables to Double.POSITIVE_INFINITY.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"srowen\\\" id=\\\"commentauthor_13414707_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=srowen\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"srowen\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sean Owen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13414707_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Jul\\/12 17:14\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-15T17:14:43+0000\'\u003e15\\/Jul\\/12 17:14\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Nota Bene: Double.MIN_VALUE is  not  the smallest double value. It\'s the smallest  positive  double value. Initialize max variables of this type to Double.NEGATIVE_INFINITY and min variables to Double.POSITIVE_INFINITY.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13414709\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-1045?focusedCommentId=13414709&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13414709\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"pferrel\\\" id=\\\"commentauthor_13414709_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=pferrel\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"pferrel\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Pat Ferrel\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13414709_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Jul\\/12 17:18\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-15T17:18:31+0000\'\u003e15\\/Jul\\/12 17:18\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eBack, I\'ll change the init code and rerun the evals for all ks. \u003c\\/p\u003e\\n\\n\u003cp\u003eI notice that the INFO output for the individual cluster intra-cluster density is written here. Is it hard to also send it to the output file? I realize the ClusterEvaluator is meant to be used without the clusterdump driver so just asking.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"pferrel\\\" id=\\\"commentauthor_13414709_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=pferrel\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"pferrel\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Pat Ferrel\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13414709_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Jul\\/12 17:18\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-15T17:18:31+0000\'\u003e15\\/Jul\\/12 17:18\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Back, I\'ll change the init code and rerun the evals for all ks.  \\n\\n I notice that the INFO output for the individual cluster intra-cluster density is written here. Is it hard to also send it to the output file? I realize the ClusterEvaluator is meant to be used without the clusterdump driver so just asking.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13414751\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-1045?focusedCommentId=13414751&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13414751\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jeastman\\\" id=\\\"commentauthor_13414751_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jeastman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jeastman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Jeff Eastman\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13414751_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Jul\\/12 19:33\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-15T19:33:47+0000\'\u003e15\\/Jul\\/12 19:33\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003eIt\'s easy enough to create a method that accumulates a map of intra-densities and another that takes their average. I will do this and post a patch so you can try it.\u003c\\/li\u003e\\n\\t\u003cli\u003eIt is certainly possible to write the densities to a file too.\u003c\\/li\u003e\\n\\t\u003cli\u003eThe invalidClusters() pruning is supposed to catch all clusters where the representative points are all identical to the cluster center. This can be caused by the RepresentativePointsDriver if there are no points assigned to the cluster in the clustering step (empty clusters can occur in kmeans and others).\u003c\\/li\u003e\\n\\t\u003cli\u003eThanks Sean. Changing to NEGATIVE and POSITIVE_INFINITY causes the NaN problem to reoccur. I\'m going to dig into why those clusters are not getting pruned.\u003c\\/li\u003e\\n\\t\u003cli\u003e\\\"The Book\\\" is \\\"Mahout in Action\\\" p 146. BTW, it uses 0 and Double.MAX_VALUE (-;\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jeastman\\\" id=\\\"commentauthor_13414751_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jeastman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jeastman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Jeff Eastman\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13414751_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Jul\\/12 19:33\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-15T19:33:47+0000\'\u003e15\\/Jul\\/12 19:33\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    \\n\\t It\'s easy enough to create a method that accumulates a map of intra-densities and another that takes their average. I will do this and post a patch so you can try it. \\n\\t It is certainly possible to write the densities to a file too. \\n\\t The invalidClusters() pruning is supposed to catch all clusters where the representative points are all identical to the cluster center. This can be caused by the RepresentativePointsDriver if there are no points assigned to the cluster in the clustering step (empty clusters can occur in kmeans and others). \\n\\t Thanks Sean. Changing to NEGATIVE and POSITIVE_INFINITY causes the NaN problem to reoccur. I\'m going to dig into why those clusters are not getting pruned. \\n\\t \\\"The Book\\\" is \\\"Mahout in Action\\\" p 146. BTW, it uses 0 and Double.MAX_VALUE (-; \\n \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13414753\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-1045?focusedCommentId=13414753&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13414753\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jeastman\\\" id=\\\"commentauthor_13414753_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jeastman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jeastman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Jeff Eastman\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13414753_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Jul\\/12 19:40\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-15T19:40:25+0000\'\u003e15\\/Jul\\/12 19:40\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eWorking patch that includes a unit test for debugging this issue.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jeastman\\\" id=\\\"commentauthor_13414753_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jeastman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jeastman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Jeff Eastman\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13414753_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Jul\\/12 19:40\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-15T19:40:25+0000\'\u003e15\\/Jul\\/12 19:40\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Working patch that includes a unit test for debugging this issue.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13414757\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-1045?focusedCommentId=13414757&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13414757\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"pferrel\\\" id=\\\"commentauthor_13414757_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=pferrel\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"pferrel\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Pat Ferrel\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13414757_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Jul\\/12 19:55\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-15T19:55:58+0000\'\u003e15\\/Jul\\/12 19:55\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Pat Ferrel - 15\\/Jul\\/12 20:06\\\"\u003eedited\u003c\\/span\u003e \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI changed the init values in inter and intra-cluster methods and iterated through intra-cluster calc until the first time you get a density = NaN. The breakpoint is on this line.\u003c\\/p\u003e\\n\\n\u003cp\u003e      log.info(\\\"Intra-Cluster Density\u003cspan class=\\\"error\\\"\u003e&#91;{}&#93;\u003c\\/span\u003e = {}\\\", cluster.getId(), density);\u003c\\/p\u003e\\n\\n\u003cp\u003eI\'ve attached the debug output. It will mean more to you than me but one odd thing is that the cluster radius vector has weights of NaN on some keys?\u003c\\/p\u003e\\n\\n\u003cp\u003eThe way the average is calculated once a NaN comes along the average will stay NaN. It look likes once the radius is wonked the distance measure returns 0 and so density = NaN. All of which seems to indicate that any NaN for any cluster will mess up the calc.\u003c\\/p\u003e\\n\\n\u003cp\u003eSomething wrong in the radius calculation or is that a red herring?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"pferrel\\\" id=\\\"commentauthor_13414757_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=pferrel\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"pferrel\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Pat Ferrel\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13414757_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Jul\\/12 19:55\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-15T19:55:58+0000\'\u003e15\\/Jul\\/12 19:55\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Pat Ferrel - 15\\/Jul\\/12 20:06\\\"\u003eedited\u003c\\/span\u003e                   I changed the init values in inter and intra-cluster methods and iterated through intra-cluster calc until the first time you get a density = NaN. The breakpoint is on this line. \\n\\n       log.info(\\\"Intra-Cluster Density &#91;{}&#93;  = {}\\\", cluster.getId(), density); \\n\\n I\'ve attached the debug output. It will mean more to you than me but one odd thing is that the cluster radius vector has weights of NaN on some keys? \\n\\n The way the average is calculated once a NaN comes along the average will stay NaN. It look likes once the radius is wonked the distance measure returns 0 and so density = NaN. All of which seems to indicate that any NaN for any cluster will mess up the calc. \\n\\n Something wrong in the radius calculation or is that a red herring?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13414761\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-1045?focusedCommentId=13414761&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13414761\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jeastman\\\" id=\\\"commentauthor_13414761_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jeastman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jeastman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Jeff Eastman\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13414761_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Jul\\/12 20:12\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-15T20:12:01+0000\'\u003e15\\/Jul\\/12 20:12\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eHey Pat,\u003cbr\\/\u003e\\nYou are probably the first real user here. What would be the most useful output formats for these measures? A triangular matrix of the inter- densities and a vector of the intra- densities, written to files? I think the averages are not working so well, not yet anyway, and it might be better to just output raw values.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jeastman\\\" id=\\\"commentauthor_13414761_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jeastman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jeastman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Jeff Eastman\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13414761_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Jul\\/12 20:12\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-15T20:12:01+0000\'\u003e15\\/Jul\\/12 20:12\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Hey Pat, \\nYou are probably the first real user here. What would be the most useful output formats for these measures? A triangular matrix of the inter- densities and a vector of the intra- densities, written to files? I think the averages are not working so well, not yet anyway, and it might be better to just output raw values.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13414768\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-1045?focusedCommentId=13414768&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13414768\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"srowen\\\" id=\\\"commentauthor_13414768_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=srowen\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"srowen\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sean Owen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13414768_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Jul\\/12 20:37\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-15T20:37:36+0000\'\u003e15\\/Jul\\/12 20:37\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThe fix may or may not be right to use POSITIVE_INFINITY; it may just be a part of the puzzle. If switching from 0 to a really small positive value helps, then I\'d imagine that means NaN is creeping in somewhere as a divide by 0. And that could happen if max never is different from 0 and ends up making a denominator 0? That might also explain why using POSITIVE_INFINITY does the same, as you may end up with infinity\\/infinity somewhere. Sounds like some loop expects there to be at least one iteration to make for valid max\\/min values, but there isn\'t one loop.  Is count 0?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"srowen\\\" id=\\\"commentauthor_13414768_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=srowen\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"srowen\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sean Owen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13414768_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Jul\\/12 20:37\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-15T20:37:36+0000\'\u003e15\\/Jul\\/12 20:37\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    The fix may or may not be right to use POSITIVE_INFINITY; it may just be a part of the puzzle. If switching from 0 to a really small positive value helps, then I\'d imagine that means NaN is creeping in somewhere as a divide by 0. And that could happen if max never is different from 0 and ends up making a denominator 0? That might also explain why using POSITIVE_INFINITY does the same, as you may end up with infinity\\/infinity somewhere. Sounds like some loop expects there to be at least one iteration to make for valid max\\/min values, but there isn\'t one loop.  Is count 0?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13414774\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-1045?focusedCommentId=13414774&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13414774\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jeastman\\\" id=\\\"commentauthor_13414774_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jeastman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jeastman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Jeff Eastman\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13414774_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Jul\\/12 21:18\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-15T21:18:04+0000\'\u003e15\\/Jul\\/12 21:18\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI also get the first NaN with cluster 33465. It has 6 representative points:\u003c\\/p\u003e\\n\\n\u003cp\u003e5 identical vectors like this:\u003c\\/p\u003e\\n{3077:0.09790894164219517,4973:0.1884642719752401,6340:0.11433534252102742,7096:0.26375115412812483,7729:0.1579332024718107,8266:0.2592449794079855,9311:0.10461220497464459,11472:0.06164575325915021,13427:0.1747753834897376,13438:0.06393054441982463,14399:0.16359365494209394,14692:0.06929109554243788,15186:0.17966648450303982,15780:0.046454420041688316,15791:0.0731677731970443,21692:0.2244867856209188,22814:0.16150377853136402,23483:0.130108231430041,25323:0.08123791103459937,31633:0.266528727390838,32172:0.17767387631551967,32522:0.08487072539355776,33136:0.1370203379603993,33815:0.2873453848941226,39598:0.07758306663660308,48009:0.1279477350859634,50625:0.24661162653957963,52392:0.1555548032973563,53378:0.08022117855049148,54994:0.11022622928504641,59960:0.10656817176360436,60167:0.112475120915112,60808:0.19365247390752108,61246:0.12696983521304098,62779:0.15779491042479035,68657:0.12754867891049163,68768:0.15258151446035362,70703:0.1207780185942059,70936:0.0663956144057571,71349:0.07686518411114775,71912:0.10194260052056149,73137:0.20056701730214407,75223:0.06801198254209008}\\n\\n\u003cp\u003eand one (the cluster center) like this:\u003c\\/p\u003e\\n{13438:0.06393054441982461,6340:0.11433534252102741,33815:0.2873453848941226,39598:0.07758306663660308,54994:0.11022622928504643,11472:0.06164575325915022,4973:0.1884642719752401,13427:0.17477538348973762,23483:0.130108231430041,7729:0.15793320247181072,8266:0.2592449794079856,50625:0.24661162653957966,48009:0.12794773508596344,14399:0.16359365494209396,73137:0.20056701730214407,53378:0.08022117855049148,7096:0.26375115412812483,59960:0.10656817176360435,52392:0.1555548032973563,15186:0.17966648450303982,9311:0.1046122049746446,3077:0.09790894164219519,25323:0.08123791103459939,32172:0.17767387631551967,71349:0.07686518411114775,15791:0.0731677731970443,32522:0.08487072539355776,21692:0.22448678562091878,62779:0.15779491042479035,60167:0.11247512091511201,22814:0.16150377853136402,33136:0.13702033796039934,15780:0.046454420041688316,68657:0.12754867891049163,31633:0.26652872739083794,68768:0.15258151446035365,60808:0.1936524739075211,75223:0.06801198254209008,61246:0.12696983521304098,70703:0.1207780185942059,14692:0.06929109554243788,70936:0.0663956144057571,71912:0.10194260052056149}\\n\\n\u003cp\u003eSomehow, the CosineDistanceMeasure computes the distance between these two as 0. Seems like it should be more like 1, but I don\'t know why. The lengthSquaredV1 = 1.0000000000000002 = lengthSquaredV2 = dotProduct.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jeastman\\\" id=\\\"commentauthor_13414774_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jeastman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jeastman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Jeff Eastman\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13414774_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Jul\\/12 21:18\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-15T21:18:04+0000\'\u003e15\\/Jul\\/12 21:18\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I also get the first NaN with cluster 33465. It has 6 representative points: \\n\\n 5 identical vectors like this: \\n{3077:0.09790894164219517,4973:0.1884642719752401,6340:0.11433534252102742,7096:0.26375115412812483,7729:0.1579332024718107,8266:0.2592449794079855,9311:0.10461220497464459,11472:0.06164575325915021,13427:0.1747753834897376,13438:0.06393054441982463,14399:0.16359365494209394,14692:0.06929109554243788,15186:0.17966648450303982,15780:0.046454420041688316,15791:0.0731677731970443,21692:0.2244867856209188,22814:0.16150377853136402,23483:0.130108231430041,25323:0.08123791103459937,31633:0.266528727390838,32172:0.17767387631551967,32522:0.08487072539355776,33136:0.1370203379603993,33815:0.2873453848941226,39598:0.07758306663660308,48009:0.1279477350859634,50625:0.24661162653957963,52392:0.1555548032973563,53378:0.08022117855049148,54994:0.11022622928504641,59960:0.10656817176360436,60167:0.112475120915112,60808:0.19365247390752108,61246:0.12696983521304098,62779:0.15779491042479035,68657:0.12754867891049163,68768:0.15258151446035362,70703:0.1207780185942059,70936:0.0663956144057571,71349:0.07686518411114775,71912:0.10194260052056149,73137:0.20056701730214407,75223:0.06801198254209008}\\n\\n and one (the cluster center) like this: \\n{13438:0.06393054441982461,6340:0.11433534252102741,33815:0.2873453848941226,39598:0.07758306663660308,54994:0.11022622928504643,11472:0.06164575325915022,4973:0.1884642719752401,13427:0.17477538348973762,23483:0.130108231430041,7729:0.15793320247181072,8266:0.2592449794079856,50625:0.24661162653957966,48009:0.12794773508596344,14399:0.16359365494209396,73137:0.20056701730214407,53378:0.08022117855049148,7096:0.26375115412812483,59960:0.10656817176360435,52392:0.1555548032973563,15186:0.17966648450303982,9311:0.1046122049746446,3077:0.09790894164219519,25323:0.08123791103459939,32172:0.17767387631551967,71349:0.07686518411114775,15791:0.0731677731970443,32522:0.08487072539355776,21692:0.22448678562091878,62779:0.15779491042479035,60167:0.11247512091511201,22814:0.16150377853136402,33136:0.13702033796039934,15780:0.046454420041688316,68657:0.12754867891049163,31633:0.26652872739083794,68768:0.15258151446035365,60808:0.1936524739075211,75223:0.06801198254209008,61246:0.12696983521304098,70703:0.1207780185942059,14692:0.06929109554243788,70936:0.0663956144057571,71912:0.10194260052056149}\\n\\n Somehow, the CosineDistanceMeasure computes the distance between these two as 0. Seems like it should be more like 1, but I don\'t know why. The lengthSquaredV1 = 1.0000000000000002 = lengthSquaredV2 = dotProduct.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13414776\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-1045?focusedCommentId=13414776&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13414776\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jeastman\\\" id=\\\"commentauthor_13414776_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jeastman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jeastman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Jeff Eastman\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13414776_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Jul\\/12 21:23\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-15T21:23:28+0000\'\u003e15\\/Jul\\/12 21:23\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThe NaN in the radius is a red herring. This computation only uses the representative points computed for the cluster. In this case, the cluster center is ok as are the other identical rep points. Why those points ever got assigned to that cluster is also a mystery, but given that cosine distance seems to think they are identical I am not too surprised.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jeastman\\\" id=\\\"commentauthor_13414776_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jeastman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jeastman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Jeff Eastman\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13414776_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Jul\\/12 21:23\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-15T21:23:28+0000\'\u003e15\\/Jul\\/12 21:23\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    The NaN in the radius is a red herring. This computation only uses the representative points computed for the cluster. In this case, the cluster center is ok as are the other identical rep points. Why those points ever got assigned to that cluster is also a mystery, but given that cosine distance seems to think they are identical I am not too surprised.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13414785\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-1045?focusedCommentId=13414785&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13414785\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jeastman\\\" id=\\\"commentauthor_13414785_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jeastman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jeastman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Jeff Eastman\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13414785_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Jul\\/12 21:48\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-15T21:48:32+0000\'\u003e15\\/Jul\\/12 21:48\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eWell, the dot product is correct. There are 43 common elements between the two vectors: Their distance is indeed 0. What is happening is that, since there are representative points that are not \u003cb\u003eequal to\u003c\\/b\u003e the cluster center, the invalidCluster filter is letting them into the intra-cluster calculation. The fact that they are all 0-distance from the center is not taken into account by the filter and thus the max &amp; min values are - correctly - zero too. This results in the divide by zero and NaN is a correct intra-density. \u003c\\/p\u003e\\n\\n\u003cp\u003eOnce a NaN intra-cluster density is computed, it forces the rest of the average density calculation to return NaN too. I don\'t know what to do at this point.\u003c\\/p\u003e\\n\\n\u003cp\u003eI\'m betting this kind of pattern is at work in the CDbw calculation too.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jeastman\\\" id=\\\"commentauthor_13414785_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jeastman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jeastman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Jeff Eastman\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13414785_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Jul\\/12 21:48\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-15T21:48:32+0000\'\u003e15\\/Jul\\/12 21:48\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Well, the dot product is correct. There are 43 common elements between the two vectors: Their distance is indeed 0. What is happening is that, since there are representative points that are not  equal to  the cluster center, the invalidCluster filter is letting them into the intra-cluster calculation. The fact that they are all 0-distance from the center is not taken into account by the filter and thus the max &amp; min values are - correctly - zero too. This results in the divide by zero and NaN is a correct intra-density.  \\n\\n Once a NaN intra-cluster density is computed, it forces the rest of the average density calculation to return NaN too. I don\'t know what to do at this point. \\n\\n I\'m betting this kind of pattern is at work in the CDbw calculation too.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13414791\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-1045?focusedCommentId=13414791&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13414791\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"pferrel\\\" id=\\\"commentauthor_13414791_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=pferrel\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"pferrel\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Pat Ferrel\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13414791_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Jul\\/12 21:58\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-15T21:58:22+0000\'\u003e15\\/Jul\\/12 21:58\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Pat Ferrel - 16\\/Jul\\/12 00:02\\\"\u003eedited\u003c\\/span\u003e \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eAs to the output per cluster, your description sounds ideal. \u003c\\/p\u003e\\n\\n\u003cp\u003eThe reason for intra-cluster density is to help judge which clusters are really clumps and which are left-overs or non-clusters. If the distribution of points in a cluster indicates a \\\"fuzzy\\\" collection it might not be a very high quality cluster. \u003c\\/p\u003e\\n\\n\u003cp\u003eAs to inter-cluster densities as a quality measure I\'d probably calculate an average to judge a cluster\'s separation from others in general.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"pferrel\\\" id=\\\"commentauthor_13414791_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=pferrel\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"pferrel\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Pat Ferrel\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13414791_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Jul\\/12 21:58\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-15T21:58:22+0000\'\u003e15\\/Jul\\/12 21:58\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Pat Ferrel - 16\\/Jul\\/12 00:02\\\"\u003eedited\u003c\\/span\u003e                   As to the output per cluster, your description sounds ideal.  \\n\\n The reason for intra-cluster density is to help judge which clusters are really clumps and which are left-overs or non-clusters. If the distribution of points in a cluster indicates a \\\"fuzzy\\\" collection it might not be a very high quality cluster.  \\n\\n As to inter-cluster densities as a quality measure I\'d probably calculate an average to judge a cluster\'s separation from others in general.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13414795\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-1045?focusedCommentId=13414795&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13414795\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"pferrel\\\" id=\\\"commentauthor_13414795_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=pferrel\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"pferrel\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Pat Ferrel\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13414795_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Jul\\/12 22:24\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-15T22:24:23+0000\'\u003e15\\/Jul\\/12 22:24\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI think your conclusion about one NaN leading to average = NaN is correct. Sean and I suspected as much above. I described several things you can get in the real world that cause trouble, clusters with many identical points and points with no dimensions.\u003c\\/p\u003e\\n\\n\u003cp\u003eLooking at 33465 this seems to be the case. I would suggest that these clusters either have bad representative points or are not valid clusters for inclusion in the average intra-cluster density. if they have a centroid with dimensions they would still be useful for inter-cluster density but just because one has a NaN intra-cluster density doesn\'t mean the whole intra-cluster density average should be horked. Why not just remove them from consideration?\u003c\\/p\u003e\\n\\n\u003cp\u003eIt seems to me this is the case of a bunch of docs that have the same content forming a cluster. This will happen all the time in real world crawls as I said above. But maybe an infinite density should be considered a fringe case and removed from the average. \u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"pferrel\\\" id=\\\"commentauthor_13414795_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=pferrel\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"pferrel\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Pat Ferrel\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13414795_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Jul\\/12 22:24\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-15T22:24:23+0000\'\u003e15\\/Jul\\/12 22:24\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I think your conclusion about one NaN leading to average = NaN is correct. Sean and I suspected as much above. I described several things you can get in the real world that cause trouble, clusters with many identical points and points with no dimensions. \\n\\n Looking at 33465 this seems to be the case. I would suggest that these clusters either have bad representative points or are not valid clusters for inclusion in the average intra-cluster density. if they have a centroid with dimensions they would still be useful for inter-cluster density but just because one has a NaN intra-cluster density doesn\'t mean the whole intra-cluster density average should be horked. Why not just remove them from consideration? \\n\\n It seems to me this is the case of a bunch of docs that have the same content forming a cluster. This will happen all the time in real world crawls as I said above. But maybe an infinite density should be considered a fringe case and removed from the average.               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13415238\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-1045?focusedCommentId=13415238&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13415238\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jeastman\\\" id=\\\"commentauthor_13415238_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jeastman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jeastman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Jeff Eastman\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13415238_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'16\\/Jul\\/12 15:54\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-16T15:54:39+0000\'\u003e16\\/Jul\\/12 15:54\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eCluster 33465 looks to be suspect. Its representative points contain the same document name repeated 5 times and the cluster center vector, which is identical to the repeated document vector. This would occur if the clusteredPoints for the cluster contained only the single document and is a related case to clusters having none. The representative points calculation will emit duplicates like this if there are less points in the cluster than the number of representative points requested.\u003c\\/p\u003e\\n\\n\u003cp\u003eThis cluster should be pruned by invalidCluster() but it is not because the document vector values differ from the cluster center vector by a very insignificant value: (e.g. 0.09790894164219519 vs 0.09790894164219517). This filter should probably use an epsilon comparison rather than Vector.equals(), which considers these small differences to be significant.\u003c\\/p\u003e\\n\\n\u003cp\u003eAll of this makes me wonder if the pruning process should be scrapped, and NaN values simply not included in the averages. I\'m going to follow this line of thought and will report back later.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jeastman\\\" id=\\\"commentauthor_13415238_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jeastman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jeastman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Jeff Eastman\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13415238_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'16\\/Jul\\/12 15:54\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-16T15:54:39+0000\'\u003e16\\/Jul\\/12 15:54\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Cluster 33465 looks to be suspect. Its representative points contain the same document name repeated 5 times and the cluster center vector, which is identical to the repeated document vector. This would occur if the clusteredPoints for the cluster contained only the single document and is a related case to clusters having none. The representative points calculation will emit duplicates like this if there are less points in the cluster than the number of representative points requested. \\n\\n This cluster should be pruned by invalidCluster() but it is not because the document vector values differ from the cluster center vector by a very insignificant value: (e.g. 0.09790894164219519 vs 0.09790894164219517). This filter should probably use an epsilon comparison rather than Vector.equals(), which considers these small differences to be significant. \\n\\n All of this makes me wonder if the pruning process should be scrapped, and NaN values simply not included in the averages. I\'m going to follow this line of thought and will report back later.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13415359\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-1045?focusedCommentId=13415359&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13415359\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"pferrel\\\" id=\\\"commentauthor_13415359_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=pferrel\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"pferrel\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Pat Ferrel\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13415359_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'16\\/Jul\\/12 16:30\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-16T16:30:29+0000\'\u003e16\\/Jul\\/12 16:30\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThe evaluator code does no error checking and so assumes all input is valid. My style would be to put checks for edge conditions in the evaluators. Like make sure the denominator is never 0, etc. This might hide some deeper problems though. \u003c\\/p\u003e\\n\\n\u003cp\u003eI assume what you are saying about the same doc name means the same item was chosen five times? I strongly suspect that there will be cases where an identical weighted vector will have n different names so you can\'t get away with checking for uniqueness of representative points alone, you will still have the problem of a singularity (borrowing a physics term) cluster. The clustering algorithm may even accidentally make the centroid the same as the rest of the points and I suspect that would cause different problems. I think these cases are all fairly likely to come up in large crawls.\u003c\\/p\u003e\\n\\n\u003cp\u003eNot sure what else the pruning process is for but in this case I\'d toss the cluster from the intra-cluster evaluation but not necessarily the inter-cluster density eval (though it might break some math there too). Which leans us towards scapping the pruning for evaluation because it removes the cluster from both calculations and maybe others too? \u003c\\/p\u003e\\n\\n\u003cp\u003eIf pruning is supposed to catch all undesirable conditions for all evaluations it seems like a lot of coupling with the evaluation algorithms and therefore fragile with respect to changes in algorithm and data conditions.\u003c\\/p\u003e\\n\\n\u003cp\u003eSo I guess I agree with your last statement.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"pferrel\\\" id=\\\"commentauthor_13415359_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=pferrel\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"pferrel\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Pat Ferrel\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13415359_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'16\\/Jul\\/12 16:30\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-16T16:30:29+0000\'\u003e16\\/Jul\\/12 16:30\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    The evaluator code does no error checking and so assumes all input is valid. My style would be to put checks for edge conditions in the evaluators. Like make sure the denominator is never 0, etc. This might hide some deeper problems though.  \\n\\n I assume what you are saying about the same doc name means the same item was chosen five times? I strongly suspect that there will be cases where an identical weighted vector will have n different names so you can\'t get away with checking for uniqueness of representative points alone, you will still have the problem of a singularity (borrowing a physics term) cluster. The clustering algorithm may even accidentally make the centroid the same as the rest of the points and I suspect that would cause different problems. I think these cases are all fairly likely to come up in large crawls. \\n\\n Not sure what else the pruning process is for but in this case I\'d toss the cluster from the intra-cluster evaluation but not necessarily the inter-cluster density eval (though it might break some math there too). Which leans us towards scapping the pruning for evaluation because it removes the cluster from both calculations and maybe others too?  \\n\\n If pruning is supposed to catch all undesirable conditions for all evaluations it seems like a lot of coupling with the evaluation algorithms and therefore fragile with respect to changes in algorithm and data conditions. \\n\\n So I guess I agree with your last statement.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13415371\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-1045?focusedCommentId=13415371&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13415371\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jeastman\\\" id=\\\"commentauthor_13415371_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jeastman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jeastman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Jeff Eastman\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13415371_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'16\\/Jul\\/12 16:46\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-16T16:46:53+0000\'\u003e16\\/Jul\\/12 16:46\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eYes, the pruning process was supposed to catch all of the irregular situations that might come up but it was clearly inadequate here. I\'ve removed it in favor of calculating a sparse vector of &lt;clusterId, double&gt; for all the intra-densities and then omitting any NaN values from the average. It seems to work.\u003c\\/p\u003e\\n\\n\u003cp\u003eRemoving the pruning from the inter-cluster calculation allows clusters with less elements to be included in the computation but does not introduce NaN values because the cluster centers are only used for this average. I\'m going to add a method that returns a sparse matrix &lt;clusterId, clusterId, double&gt; of all the inter-cluster distances and then compute the average using these values.\u003c\\/p\u003e\\n\\n\u003cp\u003eThese two changes should pave the way to a CLI invocation that actually writes these structures to files so you can do whatever additional analysis you want.\u003c\\/p\u003e\\n\\n\u003cp\u003eI will post the revised patch in a bit.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jeastman\\\" id=\\\"commentauthor_13415371_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jeastman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jeastman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Jeff Eastman\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13415371_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'16\\/Jul\\/12 16:46\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-16T16:46:53+0000\'\u003e16\\/Jul\\/12 16:46\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Yes, the pruning process was supposed to catch all of the irregular situations that might come up but it was clearly inadequate here. I\'ve removed it in favor of calculating a sparse vector of &lt;clusterId, double&gt; for all the intra-densities and then omitting any NaN values from the average. It seems to work. \\n\\n Removing the pruning from the inter-cluster calculation allows clusters with less elements to be included in the computation but does not introduce NaN values because the cluster centers are only used for this average. I\'m going to add a method that returns a sparse matrix &lt;clusterId, clusterId, double&gt; of all the inter-cluster distances and then compute the average using these values. \\n\\n These two changes should pave the way to a CLI invocation that actually writes these structures to files so you can do whatever additional analysis you want. \\n\\n I will post the revised patch in a bit.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13415418\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-1045?focusedCommentId=13415418&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13415418\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jeastman\\\" id=\\\"commentauthor_13415418_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jeastman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jeastman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Jeff Eastman\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13415418_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'16\\/Jul\\/12 17:30\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-16T17:30:50+0000\'\u003e16\\/Jul\\/12 17:30\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThis patch removes the pruning and introduces intermediate methods that return structures of inter-cluster and intra-cluster distances for later file output enhancements.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jeastman\\\" id=\\\"commentauthor_13415418_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jeastman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jeastman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Jeff Eastman\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13415418_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'16\\/Jul\\/12 17:30\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-16T17:30:50+0000\'\u003e16\\/Jul\\/12 17:30\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    This patch removes the pruning and introduces intermediate methods that return structures of inter-cluster and intra-cluster distances for later file output enhancements.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13415813\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-1045?focusedCommentId=13415813&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13415813\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"pferrel\\\" id=\\\"commentauthor_13415813_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=pferrel\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"pferrel\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Pat Ferrel\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13415813_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Jul\\/12 00:29\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-17T00:29:43+0000\'\u003e17\\/Jul\\/12 00:29\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Pat Ferrel - 17\\/Jul\\/12 00:30\\\"\u003eedited\u003c\\/span\u003e \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI get \u003c\\/p\u003e\\n\\n\u003cp\u003eInter-Cluster Density: 0.9464271269766443\u003cbr\\/\u003e\\nIntra-Cluster Density: 0.593190786304747\u003cbr\\/\u003e\\nCDbw Inter-Cluster Density: 0.0\u003cbr\\/\u003e\\nCDbw Intra-Cluster Density: 1050.0723680608382\u003cbr\\/\u003e\\nCDbw Separation: 187792.32137017616\u003c\\/p\u003e\\n\\n\u003cp\u003eWith lots of NaN\'s for clusters. I finally got the data into my UI so I can see why we are getting NaN\'s. Lots of clusters where the pages are nearly or exactly identical. The NaN\'s are a red flag and for most applications I expect they will be of use in making clustering output have a gooey cream center--yum.\u003c\\/p\u003e\\n\\n\u003cp\u003eI think this line may be wrong. You want to divide by the number of valid\\/non-NaN clusters don\'t you?\u003c\\/p\u003e\\n\\n\u003cp\u003e    avgDensity = clusters.isEmpty() ? 0 : avgDensity \\/ clusters.size();\u003c\\/p\u003e\\n\\n\u003cp\u003eThe Intra-Cluster Density: 0.593190786304747 looks skewed low if you look at the per cluster output. \u003c\\/p\u003e\\n\\n\u003cp\u003eThe actual effect of the singularity clusters is that they are super dense, which leads one to wonder if this shouldn\'t be reflected in the average somehow.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"pferrel\\\" id=\\\"commentauthor_13415813_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=pferrel\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"pferrel\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Pat Ferrel\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13415813_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Jul\\/12 00:29\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-17T00:29:43+0000\'\u003e17\\/Jul\\/12 00:29\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Pat Ferrel - 17\\/Jul\\/12 00:30\\\"\u003eedited\u003c\\/span\u003e                   I get  \\n\\n Inter-Cluster Density: 0.9464271269766443 \\nIntra-Cluster Density: 0.593190786304747 \\nCDbw Inter-Cluster Density: 0.0 \\nCDbw Intra-Cluster Density: 1050.0723680608382 \\nCDbw Separation: 187792.32137017616 \\n\\n With lots of NaN\'s for clusters. I finally got the data into my UI so I can see why we are getting NaN\'s. Lots of clusters where the pages are nearly or exactly identical. The NaN\'s are a red flag and for most applications I expect they will be of use in making clustering output have a gooey cream center--yum. \\n\\n I think this line may be wrong. You want to divide by the number of valid\\/non-NaN clusters don\'t you? \\n\\n     avgDensity = clusters.isEmpty() ? 0 : avgDensity \\/ clusters.size(); \\n\\n The Intra-Cluster Density: 0.593190786304747 looks skewed low if you look at the per cluster output.  \\n\\n The actual effect of the singularity clusters is that they are super dense, which leads one to wonder if this shouldn\'t be reflected in the average somehow.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13417663\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-1045?focusedCommentId=13417663&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13417663\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jeastman\\\" id=\\\"commentauthor_13417663_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jeastman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jeastman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Jeff Eastman\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13417663_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'18\\/Jul\\/12 20:47\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-18T20:47:05+0000\'\u003e18\\/Jul\\/12 20:47\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eGood points. I will count the number of non-NaN clusters and divide by that. Your other point also deserves thought, though adding near-infinite density to the running sum will definitely skew the results. \u003c\\/p\u003e\\n\\n\u003cp\u003eI\'m going to look into CDbw next...\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jeastman\\\" id=\\\"commentauthor_13417663_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jeastman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jeastman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Jeff Eastman\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13417663_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'18\\/Jul\\/12 20:47\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-18T20:47:05+0000\'\u003e18\\/Jul\\/12 20:47\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Good points. I will count the number of non-NaN clusters and divide by that. Your other point also deserves thought, though adding near-infinite density to the running sum will definitely skew the results.  \\n\\n I\'m going to look into CDbw next...              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13417668\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-1045?focusedCommentId=13417668&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13417668\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"pferrel\\\" id=\\\"commentauthor_13417668_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=pferrel\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"pferrel\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Pat Ferrel\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13417668_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'18\\/Jul\\/12 20:54\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-18T20:54:28+0000\'\u003e18\\/Jul\\/12 20:54\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eAdding singularity clusters into the average would make more sense if they weren\'t anomalies. For instance if the singularity was caused by dimensional reduction instead of identical pages with different URLs. So it seems like we are splitting hairs at this point. I am not aware of a statistical technique for adding them back in, so unless someone else does I wouldn\'t know how.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"pferrel\\\" id=\\\"commentauthor_13417668_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=pferrel\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"pferrel\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Pat Ferrel\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13417668_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'18\\/Jul\\/12 20:54\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-18T20:54:28+0000\'\u003e18\\/Jul\\/12 20:54\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Adding singularity clusters into the average would make more sense if they weren\'t anomalies. For instance if the singularity was caused by dimensional reduction instead of identical pages with different URLs. So it seems like we are splitting hairs at this point. I am not aware of a statistical technique for adding them back in, so unless someone else does I wouldn\'t know how.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13417688\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-1045?focusedCommentId=13417688&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13417688\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"pferrel\\\" id=\\\"commentauthor_13417688_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=pferrel\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"pferrel\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Pat Ferrel\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13417688_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'18\\/Jul\\/12 21:14\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-18T21:14:50+0000\'\u003e18\\/Jul\\/12 21:14\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eBTW It would be nice have access to the evaluator measures for each cluster so keeping them in a collection (for example densities) is very helpful. How will I get access to those? I think you talked about adding them to the output file. I hate to ask for too much but is it possible to add them to the data in the CE instance?\u003c\\/p\u003e\\n\\n\u003cp\u003ece.intraClusterDensities() could return the collection perhaps?\u003c\\/p\u003e\\n\\n\u003cp\u003eSame for CDbw instance?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"pferrel\\\" id=\\\"commentauthor_13417688_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=pferrel\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"pferrel\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Pat Ferrel\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13417688_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'18\\/Jul\\/12 21:14\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-18T21:14:50+0000\'\u003e18\\/Jul\\/12 21:14\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    BTW It would be nice have access to the evaluator measures for each cluster so keeping them in a collection (for example densities) is very helpful. How will I get access to those? I think you talked about adding them to the output file. I hate to ask for too much but is it possible to add them to the data in the CE instance? \\n\\n ce.intraClusterDensities() could return the collection perhaps? \\n\\n Same for CDbw instance?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13418610\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-1045?focusedCommentId=13418610&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13418610\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jeastman\\\" id=\\\"commentauthor_13418610_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jeastman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jeastman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Jeff Eastman\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13418610_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'19\\/Jul\\/12 19:42\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-19T19:42:43+0000\'\u003e19\\/Jul\\/12 19:42\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThis patch adjusts the average intra-cluster density to ignore NaN values by counting the good ones for the average. It also has two methods:\u003c\\/p\u003e\\n\\n\u003cp\u003e  public Map&lt;Integer, Vector&gt; interClusterDistances() {\u003cbr\\/\u003e\\n  public Vector intraClusterDensities() {\u003c\\/p\u003e\\n\\n\u003cp\u003ethat provide Java access to these intermediate values before averages are calculated.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jeastman\\\" id=\\\"commentauthor_13418610_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jeastman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jeastman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Jeff Eastman\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13418610_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'19\\/Jul\\/12 19:42\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-19T19:42:43+0000\'\u003e19\\/Jul\\/12 19:42\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    This patch adjusts the average intra-cluster density to ignore NaN values by counting the good ones for the average. It also has two methods: \\n\\n   public Map&lt;Integer, Vector&gt; interClusterDistances() { \\n  public Vector intraClusterDensities() { \\n\\n that provide Java access to these intermediate values before averages are calculated.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13419865\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-1045?focusedCommentId=13419865&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13419865\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jeastman\\\" id=\\\"commentauthor_13419865_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jeastman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jeastman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Jeff Eastman\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13419865_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'21\\/Jul\\/12 15:52\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-21T15:52:34+0000\'\u003e21\\/Jul\\/12 15:52\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Jeff Eastman - 21\\/Jul\\/12 15:57\\\"\u003eedited\u003c\\/span\u003e \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThis patch adds similar CDbw methods to return per-cluster densities and adds some significant performance improvements by caching values that were computed twice before. It also adds a unit test that evaluates against Pat\'s database. I changed the inter-cluster density calculation to return the average - like the document says but does not show in eqn 1 - and to ignore the NaN values that are present in this dataset. Probably needs some more testing too.\u003c\\/p\u003e\\n\\n\u003cp\u003eI\'m still not sure how to deal with the NaN values, as they appear to be valid but infinitely dense clusters that all contain vectors identical to the cluster center. \u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jeastman\\\" id=\\\"commentauthor_13419865_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jeastman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jeastman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Jeff Eastman\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13419865_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'21\\/Jul\\/12 15:52\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-21T15:52:34+0000\'\u003e21\\/Jul\\/12 15:52\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Jeff Eastman - 21\\/Jul\\/12 15:57\\\"\u003eedited\u003c\\/span\u003e                   This patch adds similar CDbw methods to return per-cluster densities and adds some significant performance improvements by caching values that were computed twice before. It also adds a unit test that evaluates against Pat\'s database. I changed the inter-cluster density calculation to return the average - like the document says but does not show in eqn 1 - and to ignore the NaN values that are present in this dataset. Probably needs some more testing too. \\n\\n I\'m still not sure how to deal with the NaN values, as they appear to be valid but infinitely dense clusters that all contain vectors identical to the cluster center.               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13419878\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-1045?focusedCommentId=13419878&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13419878\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"pferrel\\\" id=\\\"commentauthor_13419878_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=pferrel\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"pferrel\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Pat Ferrel\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13419878_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'21\\/Jul\\/12 17:07\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-21T17:07:58+0000\'\u003e21\\/Jul\\/12 17:07\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI get the following values for the evaluators. It looks like the ClusterEvaluator is working. However i still get a 0 for CDbw Inter-Cluster Density? I assume the fix for that is not included? I\'ll test this on some other cluster collections once you give the sign.\u003c\\/p\u003e\\n\\n\\n\u003cp\u003e12\\/07\\/21 09:59:55 INFO evaluation.ClusterEvaluator: Average Intra-Cluster Density = 0.6665065014660079\u003c\\/p\u003e\\n\\n\u003cp\u003eInter-Cluster Density: 0.9464271269766251\u003cbr\\/\u003e\\nIntra-Cluster Density: 0.6665065014660079\u003cbr\\/\u003e\\nCDbw Inter-Cluster Density: 0.0\u003cbr\\/\u003e\\nCDbw Intra-Cluster Density: 1664.748876193994\u003cbr\\/\u003e\\nCDbw Separation: 115780.90501251115\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"pferrel\\\" id=\\\"commentauthor_13419878_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=pferrel\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"pferrel\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Pat Ferrel\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13419878_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'21\\/Jul\\/12 17:07\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-21T17:07:58+0000\'\u003e21\\/Jul\\/12 17:07\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I get the following values for the evaluators. It looks like the ClusterEvaluator is working. However i still get a 0 for CDbw Inter-Cluster Density? I assume the fix for that is not included? I\'ll test this on some other cluster collections once you give the sign. \\n\\n\\n 12\\/07\\/21 09:59:55 INFO evaluation.ClusterEvaluator: Average Intra-Cluster Density = 0.6665065014660079 \\n\\n Inter-Cluster Density: 0.9464271269766251 \\nIntra-Cluster Density: 0.6665065014660079 \\nCDbw Inter-Cluster Density: 0.0 \\nCDbw Intra-Cluster Density: 1664.748876193994 \\nCDbw Separation: 115780.90501251115              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13419914\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-1045?focusedCommentId=13419914&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13419914\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jeastman\\\" id=\\\"commentauthor_13419914_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jeastman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jeastman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Jeff Eastman\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13419914_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'21\\/Jul\\/12 19:16\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-21T19:16:49+0000\'\u003e21\\/Jul\\/12 19:16\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI thought there was a problem there too (and I spent a bunch of time debugging it) but consider: Their definition of inter-cluster density is the average density of representative points within one standard deviation of a midpoint half way between the closest representative points of each cluster. All of those seem to be 0 in this dataset. It might be that sampling more representative points would change that but I\'m not sure at all.\u003c\\/p\u003e\\n\\n\u003cp\u003eI will be interested in what you find with some other cluster collections.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jeastman\\\" id=\\\"commentauthor_13419914_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jeastman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jeastman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Jeff Eastman\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13419914_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'21\\/Jul\\/12 19:16\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-21T19:16:49+0000\'\u003e21\\/Jul\\/12 19:16\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I thought there was a problem there too (and I spent a bunch of time debugging it) but consider: Their definition of inter-cluster density is the average density of representative points within one standard deviation of a midpoint half way between the closest representative points of each cluster. All of those seem to be 0 in this dataset. It might be that sampling more representative points would change that but I\'m not sure at all. \\n\\n I will be interested in what you find with some other cluster collections.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13419931\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-1045?focusedCommentId=13419931&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13419931\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"pferrel\\\" id=\\\"commentauthor_13419931_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=pferrel\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"pferrel\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Pat Ferrel\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13419931_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'21\\/Jul\\/12 20:38\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-21T20:38:30+0000\'\u003e21\\/Jul\\/12 20:38\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eBTW the CDbw values have changed. Is this a side effect of ignoring NaN clusters? Expected?\u003c\\/p\u003e\\n\\n\u003cp\u003eI see that the CDbw Validity Index is calculated (and available in java) it\'s also trivial to recreate from the output values but wondered why it is not output?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"pferrel\\\" id=\\\"commentauthor_13419931_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=pferrel\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"pferrel\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Pat Ferrel\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13419931_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'21\\/Jul\\/12 20:38\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-21T20:38:30+0000\'\u003e21\\/Jul\\/12 20:38\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    BTW the CDbw values have changed. Is this a side effect of ignoring NaN clusters? Expected? \\n\\n I see that the CDbw Validity Index is calculated (and available in java) it\'s also trivial to recreate from the output values but wondered why it is not output?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13419936\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-1045?focusedCommentId=13419936&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13419936\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jeastman\\\" id=\\\"commentauthor_13419936_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jeastman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jeastman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Jeff Eastman\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13419936_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'21\\/Jul\\/12 20:49\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-21T20:49:08+0000\'\u003e21\\/Jul\\/12 20:49\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI would imagine that is a consequence of ignoring NaN, but I also changed the inter-cluster density to be an average of the individual densities (as the text in the book describes it) though the equation (1) does not normalize it by the count. This seems more consistent with the other metrics we compute but it might be wrong. The inter-cluster density is also used in the separation. Of course, zero \\/ count is still zero so it is moot right now. I\'m going to try this on the other test cases and see how that looks.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jeastman\\\" id=\\\"commentauthor_13419936_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jeastman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jeastman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Jeff Eastman\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13419936_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'21\\/Jul\\/12 20:49\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-21T20:49:08+0000\'\u003e21\\/Jul\\/12 20:49\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I would imagine that is a consequence of ignoring NaN, but I also changed the inter-cluster density to be an average of the individual densities (as the text in the book describes it) though the equation (1) does not normalize it by the count. This seems more consistent with the other metrics we compute but it might be wrong. The inter-cluster density is also used in the separation. Of course, zero \\/ count is still zero so it is moot right now. I\'m going to try this on the other test cases and see how that looks.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13419937\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-1045?focusedCommentId=13419937&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13419937\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"pferrel\\\" id=\\\"commentauthor_13419937_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=pferrel\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"pferrel\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Pat Ferrel\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13419937_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'21\\/Jul\\/12 20:50\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-21T20:50:24+0000\'\u003e21\\/Jul\\/12 20:50\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eAs to the CDbw Inter-Cluster Density: 0.0\u003c\\/p\u003e\\n\\n\u003cp\u003eWhen I was reading the paper it came from I was struck with a couple observations. First the data seemed somewhat contrived and the clustering algorithms were quirky in that they seemed to have been designed or chosen to solve problems in the data set examined. Since I\'m planning to put some weight on the values I\'ll do a search to see how often the paper has been sited. Unless you have already done that.\u003c\\/p\u003e\\n\\n\u003cp\u003eIn any case I see what you mean about its calculation and since it does not even enter the validity index calc will consider the issue closed.\u003c\\/p\u003e\\n\\n\u003cp\u003eI\'ll run this on the same data set with the same values for k and compare the new results with the previous ones. Back in a bit...\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"pferrel\\\" id=\\\"commentauthor_13419937_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=pferrel\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"pferrel\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Pat Ferrel\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13419937_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'21\\/Jul\\/12 20:50\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-21T20:50:24+0000\'\u003e21\\/Jul\\/12 20:50\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    As to the CDbw Inter-Cluster Density: 0.0 \\n\\n When I was reading the paper it came from I was struck with a couple observations. First the data seemed somewhat contrived and the clustering algorithms were quirky in that they seemed to have been designed or chosen to solve problems in the data set examined. Since I\'m planning to put some weight on the values I\'ll do a search to see how often the paper has been sited. Unless you have already done that. \\n\\n In any case I see what you mean about its calculation and since it does not even enter the validity index calc will consider the issue closed. \\n\\n I\'ll run this on the same data set with the same values for k and compare the new results with the previous ones. Back in a bit...              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13425091\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-1045?focusedCommentId=13425091&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13425091\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"pferrel\\\" id=\\\"commentauthor_13425091_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=pferrel\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"pferrel\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Pat Ferrel\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13425091_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Jul\\/12 18:24\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-30T18:24:02+0000\'\u003e30\\/Jul\\/12 18:24\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI\'ve had a chance to run this on several data sets and see no problems. Below are the results I get for a couple sets. For two completely different crawls I see a steadily increasing CDbw validity index as k increases. This doesn\'t tell me much. I was hoping to get an indication of an optimal k for a given data set but doesn\'t seem to do that.  I may need to try much smaller increments, although that isn\'t very practical.\u003c\\/p\u003e\\n\\n\u003cp\u003eIf the data has some clumps at a given scale and other clumps at another scale (which may well be the case) then using the per cluster measures and linking different scales together may give better results. The per cluster value for intra-cluster density does vary around a mean in what seems to be a normal or log normal distribution. So tossing clusters based on a sigma test might be a good idea. \u003c\\/p\u003e\\n\\n\u003cp\u003eI vote to close this bug. \u003c\\/p\u003e\\n\\n\u003cp\u003eI also vote to have the per cluster data and new scaled inter-cluster density put into the ClusterDumpDriver\'s output file instead of leaving them in the logger output.\u003c\\/p\u003e\\n\\n\u003cp\u003e--------------------------------------\u003c\\/p\u003e\\n\\n\\n\u003cp\u003eCluster Eval for small crawl for 34487 pages 76156 terms\\t\\t\\t\\t\\t\\t\\t\\t\u003c\\/p\u003e\\n\\n\u003cp\u003eclusters\\tCDbw Inter-Cluster Density\\tCDbw Intra-Cluster Density\\tCDbw Separation\\tCDbw Validity Index\\tclusters\\taverage Inter-cluster Density\\tAverage Intra-cluster Density\\tScaled Inter-cluster density\u003cbr\\/\u003e\\n500\\t0\\t1050.07236806084\\t187792.321370176\\t1.97E+08\\t500\\t0.928988162001239\\t0.666506501466008\\t0.946427126976625\u003cbr\\/\u003e\\n1000\\t0\\t2224.68724332853\\t463618.902327256\\t1.03E+09\\t1000\\t0.945889416532285\\t0.643526550057345\\t0.945889416532285\u003cbr\\/\u003e\\n2000\\t0\\t3129.61404306957\\t1863976.83410554\\t5.83E+09\\t2000\\t0.947064274614474\\t0.616175031765541\\t0.947064274614474\u003c\\/p\u003e\\n\\n\\n\\n\\n\u003cp\u003eCluster Eval for small crawl for 9686 docs and 27305 terms\\t\\t\\t\\t\\t\\t\\t\u003c\\/p\u003e\\n\\n\u003cp\u003eclusters\\tCDbw Inter-Cluster Density\\tCDbw Intra-Cluster Density\\tCDbw Separation\\tCDbw Validity Index\\tclusters\\taverage Inter-cluster Density\\tAverage Intra-cluster Density\u003cbr\\/\u003e\\n300\\t0\\t1377.66044402807\\t37674.9918329275\\t5.19E+07\\t300\\t0.953138888958119\\t0.662978461499837\u003cbr\\/\u003e\\n400\\t0\\t1317.72330604304\\t70756.173673846\\t9.32E+07\\t400\\t0.949625717325956\\t0.653041070121705\u003cbr\\/\u003e\\n500\\t0\\t1386.28300980349\\t112213.199968639\\t1.56E+08\\t500\\t0.952490341799314\\t0.639917990128385\u003cbr\\/\u003e\\n1000\\t0\\t2485.55318093317\\t466293.691473308\\t1.16E+09\\t1000\\t0.953935715416424\\t0.587833106832454\u003cbr\\/\u003e\\n2000\\t0\\t4930.2878999304\\t1892114.62345989\\t9.33E+09\\t2000\\t0.954298464279533\\t0.55663214080861\u003cbr\\/\u003e\\n3000\\t\\t\\t\\t0.00E+00\\t3000\\t0.955378051490676\\t0.537693888785647\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"pferrel\\\" id=\\\"commentauthor_13425091_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=pferrel\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"pferrel\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Pat Ferrel\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13425091_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Jul\\/12 18:24\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-30T18:24:02+0000\'\u003e30\\/Jul\\/12 18:24\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I\'ve had a chance to run this on several data sets and see no problems. Below are the results I get for a couple sets. For two completely different crawls I see a steadily increasing CDbw validity index as k increases. This doesn\'t tell me much. I was hoping to get an indication of an optimal k for a given data set but doesn\'t seem to do that.  I may need to try much smaller increments, although that isn\'t very practical. \\n\\n If the data has some clumps at a given scale and other clumps at another scale (which may well be the case) then using the per cluster measures and linking different scales together may give better results. The per cluster value for intra-cluster density does vary around a mean in what seems to be a normal or log normal distribution. So tossing clusters based on a sigma test might be a good idea.  \\n\\n I vote to close this bug.  \\n\\n I also vote to have the per cluster data and new scaled inter-cluster density put into the ClusterDumpDriver\'s output file instead of leaving them in the logger output. \\n\\n -------------------------------------- \\n\\n\\n Cluster Eval for small crawl for 34487 pages 76156 terms\\t\\t\\t\\t\\t\\t\\t\\t \\n\\n clusters\\tCDbw Inter-Cluster Density\\tCDbw Intra-Cluster Density\\tCDbw Separation\\tCDbw Validity Index\\tclusters\\taverage Inter-cluster Density\\tAverage Intra-cluster Density\\tScaled Inter-cluster density \\n500\\t0\\t1050.07236806084\\t187792.321370176\\t1.97E+08\\t500\\t0.928988162001239\\t0.666506501466008\\t0.946427126976625 \\n1000\\t0\\t2224.68724332853\\t463618.902327256\\t1.03E+09\\t1000\\t0.945889416532285\\t0.643526550057345\\t0.945889416532285 \\n2000\\t0\\t3129.61404306957\\t1863976.83410554\\t5.83E+09\\t2000\\t0.947064274614474\\t0.616175031765541\\t0.947064274614474 \\n\\n\\n\\n\\n Cluster Eval for small crawl for 9686 docs and 27305 terms\\t\\t\\t\\t\\t\\t\\t \\n\\n clusters\\tCDbw Inter-Cluster Density\\tCDbw Intra-Cluster Density\\tCDbw Separation\\tCDbw Validity Index\\tclusters\\taverage Inter-cluster Density\\tAverage Intra-cluster Density \\n300\\t0\\t1377.66044402807\\t37674.9918329275\\t5.19E+07\\t300\\t0.953138888958119\\t0.662978461499837 \\n400\\t0\\t1317.72330604304\\t70756.173673846\\t9.32E+07\\t400\\t0.949625717325956\\t0.653041070121705 \\n500\\t0\\t1386.28300980349\\t112213.199968639\\t1.56E+08\\t500\\t0.952490341799314\\t0.639917990128385 \\n1000\\t0\\t2485.55318093317\\t466293.691473308\\t1.16E+09\\t1000\\t0.953935715416424\\t0.587833106832454 \\n2000\\t0\\t4930.2878999304\\t1892114.62345989\\t9.33E+09\\t2000\\t0.954298464279533\\t0.55663214080861 \\n3000\\t\\t\\t\\t0.00E+00\\t3000\\t0.955378051490676\\t0.537693888785647              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13425131\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-1045?focusedCommentId=13425131&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13425131\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jeastman\\\" id=\\\"commentauthor_13425131_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jeastman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jeastman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Jeff Eastman\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13425131_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Jul\\/12 18:56\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-30T18:56:37+0000\'\u003e30\\/Jul\\/12 18:56\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eGood news. I will try to get this patch finished off and into trunk in the next few days.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jeastman\\\" id=\\\"commentauthor_13425131_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jeastman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jeastman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Jeff Eastman\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13425131_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Jul\\/12 18:56\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-07-30T18:56:37+0000\'\u003e30\\/Jul\\/12 18:56\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Good news. I will try to get this patch finished off and into trunk in the next few days.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13431999\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-1045?focusedCommentId=13431999&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13431999\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"hudson\\\" id=\\\"commentauthor_13431999_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=hudson\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"hudson\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Hudson\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13431999_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'09\\/Aug\\/12 17:20\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-08-09T17:20:08+0000\'\u003e09\\/Aug\\/12 17:20\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eIntegrated in Mahout-Quality #1614 (See \u003ca href=\\\"https:\\/\\/builds.apache.org\\/job\\/Mahout-Quality\\/1614\\/\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttps:\\/\\/builds.apache.org\\/job\\/Mahout-Quality\\/1614\\/\u003c\\/a\u003e)\u003cbr\\/\u003e\\n    \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/MAHOUT-1045\\\" title=\\\"Cluster evaluators returning bad results\\\" class=\\\"issue-link\\\" data-issue-key=\\\"MAHOUT-1045\\\"\u003e\u003cdel\u003eMAHOUT-1045\u003c\\/del\u003e\u003c\\/a\u003e: committing patch with changes to unit tests. CDbw numbers still need user testing but ClusterEvaluater results are improved. All tests run (Revision 1371250)\u003c\\/p\u003e\\n\\n\u003cp\u003e     Result = SUCCESS\u003cbr\\/\u003e\\njeastman : \u003ca href=\\\"http:\\/\\/svn.apache.org\\/viewcvs.cgi\\/?root=Apache-SVN&amp;view=rev&amp;rev=1371250\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/svn.apache.org\\/viewcvs.cgi\\/?root=Apache-SVN&amp;view=rev&amp;rev=1371250\u003c\\/a\u003e\u003cbr\\/\u003e\\nFiles : \u003c\\/p\u003e\\n\u003cul\u003e\\n\\t\u003cli\u003e\\/mahout\\/trunk\\/integration\\/src\\/main\\/java\\/org\\/apache\\/mahout\\/clustering\\/cdbw\\/CDbwEvaluator.java\u003c\\/li\u003e\\n\\t\u003cli\u003e\\/mahout\\/trunk\\/integration\\/src\\/main\\/java\\/org\\/apache\\/mahout\\/clustering\\/evaluation\\/ClusterEvaluator.java\u003c\\/li\u003e\\n\\t\u003cli\u003e\\/mahout\\/trunk\\/integration\\/src\\/test\\/java\\/org\\/apache\\/mahout\\/clustering\\/MAHOUT1045Test.java\u003c\\/li\u003e\\n\\t\u003cli\u003e\\/mahout\\/trunk\\/integration\\/src\\/test\\/java\\/org\\/apache\\/mahout\\/clustering\\/TestClusterEvaluator.java\u003c\\/li\u003e\\n\\t\u003cli\u003e\\/mahout\\/trunk\\/integration\\/src\\/test\\/java\\/org\\/apache\\/mahout\\/clustering\\/cdbw\\/TestCDbwEvaluator.java\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"hudson\\\" id=\\\"commentauthor_13431999_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=hudson\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"hudson\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Hudson\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13431999_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'09\\/Aug\\/12 17:20\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-08-09T17:20:08+0000\'\u003e09\\/Aug\\/12 17:20\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Integrated in Mahout-Quality #1614 (See  https:\\/\\/builds.apache.org\\/job\\/Mahout-Quality\\/1614\\/ ) \\n      MAHOUT-1045  : committing patch with changes to unit tests. CDbw numbers still need user testing but ClusterEvaluater results are improved. All tests run (Revision 1371250) \\n\\n      Result = SUCCESS \\njeastman :  http:\\/\\/svn.apache.org\\/viewcvs.cgi\\/?root=Apache-SVN&amp;view=rev&amp;rev=1371250  \\nFiles :  \\n \\n\\t \\/mahout\\/trunk\\/integration\\/src\\/main\\/java\\/org\\/apache\\/mahout\\/clustering\\/cdbw\\/CDbwEvaluator.java \\n\\t \\/mahout\\/trunk\\/integration\\/src\\/main\\/java\\/org\\/apache\\/mahout\\/clustering\\/evaluation\\/ClusterEvaluator.java \\n\\t \\/mahout\\/trunk\\/integration\\/src\\/test\\/java\\/org\\/apache\\/mahout\\/clustering\\/MAHOUT1045Test.java \\n\\t \\/mahout\\/trunk\\/integration\\/src\\/test\\/java\\/org\\/apache\\/mahout\\/clustering\\/TestClusterEvaluator.java \\n\\t \\/mahout\\/trunk\\/integration\\/src\\/test\\/java\\/org\\/apache\\/mahout\\/clustering\\/cdbw\\/TestCDbwEvaluator.java \\n \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13437564\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-1045?focusedCommentId=13437564&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13437564\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"apurtell\\\" id=\\\"commentauthor_13437564_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=apurtell\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"apurtell\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Andrew Purtell\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13437564_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'19\\/Aug\\/12 18:39\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-08-19T18:39:16+0000\'\u003e19\\/Aug\\/12 18:39\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThe integration tests checked in with this patch appear to want an absolute path hardcoded to the developer\'s home directory:\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"preformatted panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"preformattedContent panelContent\\\"\u003e\\n\u003cpre\u003emvn -Dhadoop.version=2.0.0-alpha clean install\\n[...]\\nTests in error: \\n  testClusterEvaluator(org.apache.mahout.clustering.MAHOUT1045Test): \\/Users\\/jeff\\/Desktop\\/jeff\\/kmeans-clusters\\/clusters-27-final\\n  testCDbwEvaluator(org.apache.mahout.clustering.MAHOUT1045Test): \\/Users\\/jeff\\/Desktop\\/jeff\\/kmeans-clusters\\/clusters-27-final\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"apurtell\\\" id=\\\"commentauthor_13437564_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=apurtell\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"apurtell\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Andrew Purtell\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13437564_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'19\\/Aug\\/12 18:39\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-08-19T18:39:16+0000\'\u003e19\\/Aug\\/12 18:39\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    The integration tests checked in with this patch appear to want an absolute path hardcoded to the developer\'s home directory: \\n\\n  \\n mvn -Dhadoop.version=2.0.0-alpha clean install\\n[...]\\nTests in error: \\n  testClusterEvaluator(org.apache.mahout.clustering.MAHOUT1045Test): \\/Users\\/jeff\\/Desktop\\/jeff\\/kmeans-clusters\\/clusters-27-final\\n  testCDbwEvaluator(org.apache.mahout.clustering.MAHOUT1045Test): \\/Users\\/jeff\\/Desktop\\/jeff\\/kmeans-clusters\\/clusters-27-final\\n \\n  \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13437570\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-1045?focusedCommentId=13437570&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13437570\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jeastman\\\" id=\\\"commentauthor_13437570_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jeastman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jeastman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Jeff Eastman\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13437570_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'19\\/Aug\\/12 20:02\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-08-19T20:02:30+0000\'\u003e19\\/Aug\\/12 20:02\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eGood catch Andrew, that test was not intended to be committed to trunk. I\'ve just deleted it.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jeastman\\\" id=\\\"commentauthor_13437570_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jeastman\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jeastman\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Jeff Eastman\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13437570_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'19\\/Aug\\/12 20:02\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-08-19T20:02:30+0000\'\u003e19\\/Aug\\/12 20:02\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Good catch Andrew, that test was not intended to be committed to trunk. I\'ve just deleted it.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13437592\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-1045?focusedCommentId=13437592&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13437592\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"hudson\\\" id=\\\"commentauthor_13437592_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=hudson\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"hudson\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Hudson\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13437592_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'19\\/Aug\\/12 21:56\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-08-19T21:56:11+0000\'\u003e19\\/Aug\\/12 21:56\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eIntegrated in Mahout-Quality #1628 (See \u003ca href=\\\"https:\\/\\/builds.apache.org\\/job\\/Mahout-Quality\\/1628\\/\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttps:\\/\\/builds.apache.org\\/job\\/Mahout-Quality\\/1628\\/\u003c\\/a\u003e)\u003cbr\\/\u003e\\n    \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/MAHOUT-1045\\\" title=\\\"Cluster evaluators returning bad results\\\" class=\\\"issue-link\\\" data-issue-key=\\\"MAHOUT-1045\\\"\u003e\u003cdel\u003eMAHOUT-1045\u003c\\/del\u003e\u003c\\/a\u003e: Removing test that should not have been committed (Revision 1374834)\u003c\\/p\u003e\\n\\n\u003cp\u003e     Result = SUCCESS\u003cbr\\/\u003e\\njeastman : \u003ca href=\\\"http:\\/\\/svn.apache.org\\/viewcvs.cgi\\/?root=Apache-SVN&amp;view=rev&amp;rev=1374834\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/svn.apache.org\\/viewcvs.cgi\\/?root=Apache-SVN&amp;view=rev&amp;rev=1374834\u003c\\/a\u003e\u003cbr\\/\u003e\\nFiles : \u003c\\/p\u003e\\n\u003cul\u003e\\n\\t\u003cli\u003e\\/mahout\\/trunk\\/integration\\/src\\/test\\/java\\/org\\/apache\\/mahout\\/clustering\\/MAHOUT1045Test.java\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"hudson\\\" id=\\\"commentauthor_13437592_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=hudson\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"hudson\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Hudson\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13437592_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'19\\/Aug\\/12 21:56\'\u003e\u003ctime class=\'livestamp\' datetime=\'2012-08-19T21:56:11+0000\'\u003e19\\/Aug\\/12 21:56\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Integrated in Mahout-Quality #1628 (See  https:\\/\\/builds.apache.org\\/job\\/Mahout-Quality\\/1628\\/ ) \\n      MAHOUT-1045  : Removing test that should not have been committed (Revision 1374834) \\n\\n      Result = SUCCESS \\njeastman :  http:\\/\\/svn.apache.org\\/viewcvs.cgi\\/?root=Apache-SVN&amp;view=rev&amp;rev=1374834  \\nFiles :  \\n \\n\\t \\/mahout\\/trunk\\/integration\\/src\\/test\\/java\\/org\\/apache\\/mahout\\/clustering\\/MAHOUT1045Test.java \\n \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13672171\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/MAHOUT-1045?focusedCommentId=13672171&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13672171\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gsingers\\\" id=\\\"commentauthor_13672171_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gsingers\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gsingers\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Grant Ingersoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13672171_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Jun\\/13 17:36\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-06-01T17:36:13+0000\'\u003e01\\/Jun\\/13 17:36\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eLooks in and passing\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"gsingers\\\" id=\\\"commentauthor_13672171_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=gsingers\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"gsingers\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Grant Ingersoll\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13672171_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Jun\\/13 17:36\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-06-01T17:36:13+0000\'\u003e01\\/Jun\\/13 17:36\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Looks in and passing              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\"";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["scope-filter-data"]="{\"createScopeActions\":[],\"scopes\":[]}";
WRM._unparsedData["sidebar-collapsed-by-default"]="true";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:can-manage"]="false";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:with-icons"]="false";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:shortcuts"]="[]";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:project-id"]="12310751";
WRM._unparsedData["sidebar-id"]="\"\u003cdiv class=\\\"aui-sidebar  projects-sidebar sidebar-pending\\\" \u003e\u003cdiv class=\\\"aui-sidebar-wrapper\\\"\u003e\u003cdiv class=\\\"aui-sidebar-body\\\"\u003e\u003cheader class=\\\"aui-page-header\\\"\u003e\u003cdiv class=\\\"aui-page-header-inner\\\"\u003e\u003cdiv class=\\\"aui-page-header-image\\\"\u003e\u003ca href=\\\"\\/jira\\/projects\\/MAHOUT\\/summary\\\" title=\\\"Mahout\\\" class=\\\"jira-project-avatar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-large aui-avatar-project\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"\\/jira\\/secure\\/projectavatar?pid=12310751&amp;avatarId=10103\\\" alt=\\\"Mahout\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e\u003cimg src=\\\"data:image\\/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI\\/Pg0KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE4LjEuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPg0KPHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgdmlld0JveD0iMCAwIDMwMCAzMDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMwMCAzMDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxnIGlkPSJMYXllcl8yIj4NCgk8cGF0aCBzdHlsZT0iZmlsbDojRjc5MjMyOyIgZD0iTTE1MCwwQzY2LjY2NywwLDAsNjYuNjY3LDAsMTUwczY2LjY2NywxNTAsMTUwLDE1MHMxNTAtNjYuNjY3LDE1MC0xNTBTMjMzLjMzMywwLDE1MCwweg0KCQkgTTEzNi42NjcsMTc4LjMzM0wxMjUsMTkwbC00MS42NjctNDBMOTUsMTM4LjMzM2wzMC0zMEwxMzYuNjY3LDEyMGwtMzAsMzBMMTM2LjY2NywxNzguMzMzeiBNMjA1LDE2MS42NjdsLTMwLDMwTDE2My4zMzMsMTgwDQoJCWwzMC0zMGwtMzAtMzBMMTc1LDEwOC4zMzNMMjE2LjY2NywxNTBMMjA1LDE2MS42Njd6Ii8+DQo8L2c+DQo8Zz4NCgk8cG9seWdvbiBzdHlsZT0iZmlsbDojRkZGRkZGOyIgcG9pbnRzPSIxNzUsMTkxLjY2NyAyMDUsMTYxLjY2NyAyMTYuNjY3LDE1MCAxNzUsMTA4LjMzMyAxNjMuMzMzLDEyMCAxOTMuMzMzLDE1MCAxNjMuMzMzLDE4MCAJIi8+DQoJPHBvbHlnb24gc3R5bGU9ImZpbGw6I0ZGRkZGRjsiIHBvaW50cz0iMTI1LDEwOC4zMzMgOTUsMTM4LjMzMyA4My4zMzMsMTUwIDEyNSwxOTAgMTM2LjY2NywxNzguMzMzIDEwNi42NjcsMTUwIDEzNi42NjcsMTIwIAkiLz4NCjwvZz4NCjwvc3ZnPg0K\\\" alt=\\\"Icon indicating the project type\\\" class=\\\"jira-project-avatar-icon\\\" \\/\u003e\u003c\\/a\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-image --\u003e\u003cdiv class=\\\"aui-page-header-main\\\"\u003e\u003ch1\u003e\u003cdiv class=\\\"aui-group aui-group-split\\\"\u003e\u003cdiv class=\\\"aui-item project-title\\\"\u003e\u003ca href=\\\"\\/jira\\/projects\\/MAHOUT\\/summary\\\" title=\\\"Mahout\\\"\u003eMahout\u003c\\/a\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/h1\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-main --\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-inner --\u003e\u003c\\/header\u003e\u003c!-- .aui-page-header --\u003e\u003cnav class=\\\"aui-navgroup aui-navgroup-vertical\\\"\u003e\u003cdiv class=\\\"aui-navgroup-inner sidebar-content-container\\\"\u003e\u003cdiv class=\\\"aui-sidebar-group aui-sidebar-group-tier-one\\\" data-id=\\\"sidebar-navigation-panel\\\"\u003e\u003cul class=\\\"aui-nav\\\"\u003e\u003cli class=\\\"aui-nav-selected\\\" \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/MAHOUT\\/issues\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-issue-navigator:sidebar-issue-navigator\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large icon-sidebar-issues\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Issues\\\"\u003eIssues\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003cli  \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/MAHOUT?selectedItem=com.atlassian.jira.jira-projects-plugin:report-page\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-plugin:report-page\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large agile-icon-report\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Reports\\\"\u003eReports\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003cli  \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/MAHOUT?selectedItem=com.atlassian.jira.jira-projects-plugin:components-page\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-plugin:components-page\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large icon-sidebar-components\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Components\\\"\u003eComponents\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003c\\/ul\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/nav\u003e\u003c\\/div\u003e\u003cdiv class=\\\"aui-sidebar-footer\\\"\u003e\u003ca class=\\\"aui-button aui-button-subtle aui-sidebar-toggle aui-sidebar-footer-tipsy\\\" data-tooltip=\\\"Expand sidebar ( [ )\\\" href=\\\"#\\\"\u003e\u003cspan class=\\\"aui-icon aui-icon-small\\\"\u003e\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/div\u003e\"";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:bigpipe-init/jira.webresources:bigpipe-init.js" data-wrm-key="jira.webresources:bigpipe-init" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <form id="jira_request_timing_info" class="dont-default-focus"> 
   <fieldset class="parameters hidden"> 
    <input type="hidden" title="jira.request.start.millis" value="1516196004336"> 
    <input type="hidden" title="jira.request.server.time" value="268"> 
    <input type="hidden" title="jira.request.id" value="813x7394703x6"> 
    <input type="hidden" title="jira.session.expiry.time" value="-"> 
    <input type="hidden" title="jira.session.expiry.in.mins" value="-"> 
    <input id="jiraConcurrentRequests" type="hidden" name="jira.request.concurrent.requests" value="6"> 
    <input type="hidden" title="db.reads.time.in.ms" value="55"> 
    <input type="hidden" title="db.conns.time.in.ms" value="62"> 
   </fieldset> 
  </form> 
  <!--
	                 REQUEST ID : 813x7394703x6
	          REQUEST TIMESTAMP : [17/Jan/2018:13:33:24 +0000]
	               REQUEST TIME : 0.2680
	                 ASESSIONID : -
	        CONCURRENT REQUESTS : 6

	                      db.reads : OpSnapshot{name='db.reads', invocationCount=17, elapsedTotal=55308681, elapsedMin=627566, elapsedMax=21135697, resultSetSize=0, cpuTotal=0, cpuMin=0, cpuMax=0}
	                      db.conns : OpSnapshot{name='db.conns', invocationCount=21, elapsedTotal=62053908, elapsedMin=475765, elapsedMax=21168295, resultSetSize=0, cpuTotal=0, cpuMin=0, cpuMax=0}
-->   
 </body>
</html>