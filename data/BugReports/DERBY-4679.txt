<!doctype html>
<html lang="en">
 <head> 
  <meta charset="utf-8"> 
  <meta http-equiv="X-UA-Compatible" content="IE=Edge"> 
  <meta name="application-name" content="JIRA" data-name="jira" data-version="7.6.3">
  <meta name="ajs-viewissue-use-history-api" content="false"> 
  <meta name="ajs-jira-base-url" content="https://issues.apache.org/jira"> 
  <meta name="ajs-serverRenderedViewIssue" content="true"> 
  <meta name="ajs-dev-mode" content="false"> 
  <meta name="ajs-context-path" content="/jira"> 
  <meta name="ajs-version-number" content="7.6.3"> 
  <meta name="ajs-build-number" content="76005"> 
  <meta name="ajs-is-beta" content="false"> 
  <meta name="ajs-is-rc" content="false"> 
  <meta name="ajs-is-snapshot" content="false"> 
  <meta name="ajs-is-milestone" content="false"> 
  <meta name="ajs-remote-user" content=""> 
  <meta name="ajs-remote-user-fullname" content=""> 
  <meta name="ajs-user-locale" content="en_UK"> 
  <meta name="ajs-user-locale-group-separator" content=","> 
  <meta name="ajs-app-title" content="ASF JIRA"> 
  <meta name="ajs-keyboard-shortcuts-enabled" content="true"> 
  <meta name="ajs-keyboard-accesskey-modifier" content="Ctrl+Alt"> 
  <meta name="ajs-enabled-dark-features" content="[&quot;com.atlassian.jira.agile.darkfeature.editable.detailsview&quot;,&quot;nps.survey.inline.dialog&quot;,&quot;com.atlassian.jira.agile.darkfeature.edit.closed.sprint.enabled&quot;,&quot;jira.plugin.devstatus.phasetwo&quot;,&quot;jira.frother.reporter.field&quot;,&quot;atlassian.rest.xsrf.legacy.enabled&quot;,&quot;jira.issue.status.lozenge&quot;,&quot;com.atlassian.jira.config.BIG_PIPE&quot;,&quot;com.atlassian.jira.projects.issuenavigator&quot;,&quot;com.atlassian.jira.config.PDL&quot;,&quot;jira.plugin.devstatus.phasetwo.enabled&quot;,&quot;atlassian.aui.raphael.disabled&quot;,&quot;app-switcher.new&quot;,&quot;frother.assignee.field&quot;,&quot;com.atlassian.jira.projects.ProjectCentricNavigation.Switch&quot;,&quot;sd.internal.base.off.thread.on.completion.events.enabled&quot;,&quot;jira.onboarding.cyoa&quot;,&quot;com.atlassian.jira.agile.darkfeature.kanplan.enabled&quot;,&quot;sd.slavalue.record.updated.date.enabled&quot;,&quot;com.atlassian.jira.config.ProjectConfig.MENU&quot;,&quot;com.atlassian.jira.projects.sidebar.DEFER_RESOURCES&quot;,&quot;com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions.enabled&quot;,&quot;com.atlassian.jira.agile.darkfeature.sprint.goal.enabled&quot;,&quot;jira.zdu.admin-updates-ui&quot;,&quot;jira.zdu.jmx-monitoring&quot;,&quot;sd.sla.improved.rendering.enabled&quot;,&quot;sd.canned.responses.enabled&quot;,&quot;sd.new.settings.sidebar.location.disabled&quot;,&quot;jira.zdu.cluster-upgrade-state&quot;,&quot;com.atlassian.jira.agile.darkfeature.splitissue&quot;,&quot;com.atlassian.jira.config.CoreFeatures.LICENSE_ROLES_ENABLED&quot;,&quot;com.atlassian.feedback.feedback-button-move-to-header-enable&quot;,&quot;jira.export.csv.enabled&quot;]"> 
  <meta name="ajs-in-admin-mode" content="false"> 
  <meta name="ajs-is-sysadmin" content="false"> 
  <meta name="ajs-is-admin" content="false"> 
  <meta name="ajs-outgoing-mail-enabled" content="true"> 
  <meta name="ajs-date-relativize" content="true"> 
  <meta name="ajs-date-time" content="HH:mm"> 
  <meta name="ajs-date-day" content="EEEE HH:mm"> 
  <meta name="ajs-date-dmy" content="dd/MMM/yy"> 
  <meta name="ajs-date-complete" content="dd/MMM/yy HH:mm"> 
  <script type="text/javascript">var AJS=AJS||{};AJS.debug=true;</script> 
  <meta id="atlassian-token" name="atlassian-token" content="A5KQ-2QAV-T4JA-FDED|6db617d8f707a84758cf95c2dd9e52f040cc97c3|lout"> 
  <link rel="shortcut icon" href="/jira/s/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/_/favicon.ico"> 
  <!--[if IE]><![endif]--> 
  <script type="text/javascript">
    (function() {
        var contextPath = '/jira';
        var eventBuffer = [];

        function printDeprecatedMsg() {
            if (console && console.warn) {
                console.warn('DEPRECATED JS - contextPath global variable has been deprecated since 7.4.0. Use `wrm/context-path` module instead.');
            }
        }

        function sendEvent(analytics, postfix) {
            analytics.send({
                name: 'js.globals.contextPath.' + postfix
            });
        }

        function sendDeprecatedEvent(postfix) {
            try {
                var analytics = require('jira/analytics');
                if (eventBuffer.length) {
                    eventBuffer.forEach(function(value) {
                        sendEvent(analytics, value);
                    });
                    eventBuffer = [];
                }

                if (postfix) {
                    sendEvent(analytics, postfix);
                }
            } catch(ex) {
                eventBuffer.push(postfix);
                setTimeout(sendDeprecatedEvent, 1000);
            }
        }

        Object.defineProperty(window, 'contextPath', {
            get: function() {
                printDeprecatedMsg();
                sendDeprecatedEvent('get');
                return contextPath;
            },
            set: function(value) {
                printDeprecatedMsg();
                sendDeprecatedEvent('set');
                contextPath = value;
            }
        });
    })();

</script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["com.atlassian.plugins.atlassian-plugins-webresource-plugin:context-path.context-path"]="\"/jira\"";
WRM._unparsedData["jira.webresources:feature-flags.feature-flag-data"]="{\"enabled-feature-keys\":[\"com.atlassian.jira.agile.darkfeature.editable.detailsview\",\"nps.survey.inline.dialog\",\"com.atlassian.jira.agile.darkfeature.edit.closed.sprint.enabled\",\"jira.plugin.devstatus.phasetwo\",\"jira.frother.reporter.field\",\"atlassian.rest.xsrf.legacy.enabled\",\"jira.issue.status.lozenge\",\"com.atlassian.jira.config.BIG_PIPE\",\"com.atlassian.jira.projects.issuenavigator\",\"com.atlassian.jira.config.PDL\",\"jira.plugin.devstatus.phasetwo.enabled\",\"atlassian.aui.raphael.disabled\",\"app-switcher.new\",\"frother.assignee.field\",\"com.atlassian.jira.projects.ProjectCentricNavigation.Switch\",\"sd.internal.base.off.thread.on.completion.events.enabled\",\"jira.onboarding.cyoa\",\"com.atlassian.jira.agile.darkfeature.kanplan.enabled\",\"sd.slavalue.record.updated.date.enabled\",\"com.atlassian.jira.config.ProjectConfig.MENU\",\"com.atlassian.jira.projects.sidebar.DEFER_RESOURCES\",\"com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions.enabled\",\"com.atlassian.jira.agile.darkfeature.sprint.goal.enabled\",\"jira.zdu.admin-updates-ui\",\"jira.zdu.jmx-monitoring\",\"sd.sla.improved.rendering.enabled\",\"sd.canned.responses.enabled\",\"sd.new.settings.sidebar.location.disabled\",\"jira.zdu.cluster-upgrade-state\",\"com.atlassian.jira.agile.darkfeature.splitissue\",\"com.atlassian.jira.config.CoreFeatures.LICENSE_ROLES_ENABLED\",\"com.atlassian.feedback.feedback-button-move-to-header-enable\",\"jira.export.csv.enabled\"],\"feature-flag-states\":{\"com.atlassian.jira.agile.darkfeature.kanplan\":false,\"sd.internal.base.off.thread.on.completion.events\":false,\"jira.instrumentation.laas\":false,\"com.atlassian.jira.agile.darkfeature.edit.closed.sprint\":false,\"com.atlassian.jira.issuetable.draggable\":true,\"jira.create.linked.issue\":true,\"com.atlassian.jira.agile.darkfeature.sprint.goal\":false,\"jira.sal.host.connect.accessor.existing.transaction.will.create.transactions\":true,\"jira.jql.suggestrecentfields\":false,\"com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions\":false,\"jira.jql.smartautoselectfirst\":false,\"com.atlassian.jira.agile.darkfeature.optimistic.transitions\":true,\"com.atlassian.jira.issuetable.move.links.hidden\":true,\"jira.priorities.per.project\":true,\"com.atlassian.jira.upgrade.startup.fix.index\":true,\"jira.renderer.consider.variable.format\":true}}";
WRM._unparsedData["jira.webresources:default-comment-security-level.DefaultCommentSecurityLevelHelpLink"]="{\"extraClasses\":\"default-comment-level-help\",\"title\":\"Commenting on an Issue\",\"url\":\"https://docs.atlassian.com/jira/jcore-docs-076/Editing+and+collaborating+on+issues#Editingandcollaboratingonissues-restrictacomment\",\"isLocal\":false}";
WRM._unparsedData["jira.webresources:dateFormatProvider.allFormats"]="{\"dateFormats\":{\"meridiem\":[\"AM\",\"PM\"],\"eras\":[\"BC\",\"AD\"],\"months\":[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],\"monthsShort\":[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],\"weekdaysShort\":[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"],\"weekdays\":[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"]},\"lookAndFeelFormats\":{\"relativize\":\"true\",\"time\":\"HH:mm\",\"day\":\"EEEE HH:mm\",\"dmy\":\"dd/MMM/yy\",\"complete\":\"dd/MMM/yy HH:mm\"}}";
WRM._unparsedData["com.atlassian.jira.jira-issue-nav-components:issueviewer.features"]="{\"rteEnabled\":true}";
WRM._unparsedData["com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone.thumbnail-mime-types"]="\"image/vnd.wap.wbmp,image/png,image/x-png,image/jpeg,image/bmp,image/gif\"";
WRM._unparsedData["com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone.upload-limit"]="\"62914560\"";
WRM._unparsedData["com.atlassian.plugins.helptips.jira-help-tips:help-tip-manager.JiraHelpTipData"]="{\"anonymous\":true}";
WRM._unparsedData["com.atlassian.jira.jira-view-issue-plugin:controller-subtasks.controller.subtasks.parameters"]="{\"url\":\"/rest/api/2/issue/{issueId}/subtask/move\"}";
WRM._unparsedData["com.atlassian.analytics.analytics-client:policy-update-init.policy-update-data-provider"]="false";
WRM._unparsedData["com.atlassian.analytics.analytics-client:programmatic-analytics-init.programmatic-analytics-data-provider"]="false";
WRM._unparsedData["jira.webresources:avatar-picker.data"]="{}";
WRM._unparsedData["com.atlassian.feedback.jira-feedback-plugin:button-resources-init.data"]="{\"jira.feedback.plugin.issue.collector.core\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"jira.feedback.plugin.issue.collector.default\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"jira.feedback.plugin.issue.collector.service.desk\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector.js?locale=en-UK&collectorId=a698db21\",\"jira.feedback.plugin.issue.collector.software\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"isHeaderFeedbackButtonEnabled\":true}";
WRM._unparsedData["com.atlassian.jira.jira-header-plugin:dismissedFlags.flags"]="{\"dismissed\":[]}";
WRM._unparsedData["com.atlassian.jira.jira-header-plugin:newsletter-signup-tip-init.newsletterSignup"]="{\"signupDescription\":\"Get updates, inspiration and best practices from the team behind JIRA.\",\"formUrl\":\"https://www.atlassian.com/apis/exact-target/{0}/subscribe?mailingListId=1401671\",\"signupTitle\":\"Sign up!\",\"signupId\":\"newsletter-signup-tip\",\"showNewsletterTip\":false}";
WRM._unparsedData["com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources.ptAnalyticsData"]="{\"instanceCreatedDate\":\"2011-01-31\"}";
WRM._unparsedData["com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources.help-data"]="{\"showHelp\":true,\"editorDocumentationUrl\":[\"https://docs.atlassian.com/jira/jcore-docs-076/Visual+editing\"],\"editorDocumentationTitle\":[\"Show me documentation for the visual editor\"]}";
WRM._unparsedData["com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources.thumbnails-allowed"]="false";
WRM._unparsedData["jira.webresources:user-message-flags.adminLockout"]="{}";
WRM._unparsedData["jira.request.correlation-id"]="\"7f849045cf3e05\"";
WRM._unparsedData["project-id"]="10594";
WRM._unparsedData["project-key"]="\"DERBY\"";
WRM._unparsedData["project-name"]="\"Derby\"";
WRM._unparsedData["project-type"]="\"software\"";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:generic-filters"]="[{\"id\":\"allissues\",\"jql\":\"project = \\\"{0}\\\" ORDER BY {1}\",\"defaultOrderby\":\"created DESC\",\"label\":\"All issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[]},{\"id\":\"allopenissues\",\"jql\":\"project = \\\"{0}\\\" AND resolution = Unresolved ORDER BY {1}\",\"defaultOrderby\":\"priority DESC, updated DESC\",\"label\":\"Open issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"resolution\"]},{\"id\":\"doneissues\",\"jql\":\"project = \\\"{0}\\\" AND statusCategory = Done ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Done issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":false,\"fields\":[\"status\"]},{\"id\":\"recentlyviewed\",\"jql\":\"project = \\\"{0}\\\" AND issuekey in issueHistory() ORDER BY {1}\",\"defaultOrderby\":\"lastViewed DESC\",\"label\":\"Viewed recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"issuekey\"]},{\"id\":\"addedrecently\",\"jql\":\"project = \\\"{0}\\\" AND created \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"created DESC\",\"label\":\"Created recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"created\"]},{\"id\":\"resolvedrecently\",\"jql\":\"project = \\\"{0}\\\" AND resolutiondate \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Resolved recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":false,\"fields\":[\"resolutiondate\"]},{\"id\":\"updatedrecently\",\"jql\":\"project = \\\"{0}\\\" AND updated \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Updated recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"updated\"]}]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:default-filter-priority"]="[\"allopenissues\",\"allissues\"]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:can-manage-filters"]="false";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:project-filters"]="[]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:can-create-issues"]="false";
WRM._unparsedData["projectId"]="10594";
WRM._unparsedData["projectKey"]="\"DERBY\"";
WRM._unparsedData["projectType"]="\"software\"";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:server-rendered"]="true";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/a8a4711bc3f2eb261d8c8fd9fbcbba8b-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1fca1750044f2777c977e8d8cc023344/_/download/contextbatch/css/_super/batch.css" data-wrm-key="_super" data-wrm-batch-type="context" media="all"> 
  <link type="text/css" rel="stylesheet" href="/jira/s/74ac580603ca910fff0cfdf319e54add-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/fbf45109b31165e5b7740a9d72318cea/_/download/contextbatch/css/project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super/batch.css?agile_global_admin_condition=true&amp;hc-enabled=true&amp;is-server-instance=true&amp;jag=true&amp;jira.create.linked.issue=true&amp;nps-acknowledged=true&amp;richediton=true" data-wrm-key="project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super" data-wrm-batch-type="context" media="all"> 
  <link type="text/css" rel="stylesheet" href="/jira/s/611672383f6cab00ab202241ba6f9d68-T/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/7.6.3/_/download/batch/com.atlassian.feedback.jira-feedback-plugin:button-resources-init/com.atlassian.feedback.jira-feedback-plugin:button-resources-init.css" data-wrm-key="com.atlassian.feedback.jira-feedback-plugin:button-resources-init" data-wrm-batch-type="resource" media="all"> 
  <script type="text/javascript" src="/jira/s/98ceb006e504d7924d5ffc411626c6bc-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1fca1750044f2777c977e8d8cc023344/_/download/contextbatch/js/_super/batch.js?locale=en-UK" data-wrm-key="_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/c1e4d26ea276469807c3dc0918df482c-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/fbf45109b31165e5b7740a9d72318cea/_/download/contextbatch/js/project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super/batch.js?agile_global_admin_condition=true&amp;hc-enabled=true&amp;is-server-instance=true&amp;jag=true&amp;jira.create.linked.issue=true&amp;locale=en-UK&amp;nps-acknowledged=true&amp;richediton=true" data-wrm-key="project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/6bf9253c8d533109c3b02e26794be24e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/871d45c9f322a22cb3aa9b7948a69803/_/download/contextbatch/js/atl.global,-_super/batch.js?locale=en-UK" data-wrm-key="atl.global,-_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:calendar-en/jira.webresources:calendar-en.js" data-wrm-key="jira.webresources:calendar-en" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:calendar-localisation-moment/jira.webresources:calendar-localisation-moment.js" data-wrm-key="jira.webresources:calendar-localisation-moment" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/7.6.3/_/download/batch/com.atlassian.feedback.jira-feedback-plugin:button-resources/com.atlassian.feedback.jira-feedback-plugin:button-resources.js" data-wrm-key="com.atlassian.feedback.jira-feedback-plugin:button-resources" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/ccd2e67b523185973473e8bd5735c8f9-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/e0de73613a1027de08f3da6a45e1d1a2/_/download/contextbatch/css/jira.global.look-and-feel,-_super/batch.css" data-wrm-key="jira.global.look-and-feel,-_super" data-wrm-batch-type="context" media="all"> 
  <script type="text/javascript" src="/jira/rest/api/1.0/shortcuts/76005/33e5e0166867c8c9228d44506f60b2e8/shortcuts.js?context=issuenavigation&amp;context=issueaction"></script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["com.atlassian.jira.jira-issue-nav-components:inline-edit-enabled"]="true";
WRM._unparsedData["should-display-chaperone"]="false";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/15712b600e9aecf72ffd9fd3704a0c78-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/6b22a15c7b83f87a47b1757076f43542/_/download/contextbatch/css/com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue/batch.css?jira.create.linked.issue=true&amp;richediton=true" data-wrm-key="com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue" data-wrm-batch-type="context" media="all"> 
  <script type="text/javascript" src="/jira/s/6579b6b8ba67abaa496e39b9242a18a4-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/6b22a15c7b83f87a47b1757076f43542/_/download/contextbatch/js/com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue/batch.js?jira.create.linked.issue=true&amp;locale=en-UK&amp;richediton=true" data-wrm-key="com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue" data-wrm-batch-type="context" data-initially-rendered></script> 
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge"> 
  <meta name="ajs-can-search-users" content="false"> 
  <meta name="ajs-can-edit-watchers" content="false"> 
  <meta name="ajs-default-avatar-url" content="https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10453"> 
  <meta name="ajs-issue-project-type" content="software"> 
  <meta name="ajs-issue-key" content="DERBY-4679"> 
  <meta name="ajs-server-view-issue-is-editable" content="false"> 
  <title>[DERBY-4679] Several left outer joins causes unstable query with incorrect results - ASF JIRA</title> 
  <link rel="search" type="application/opensearchdescription+xml" href="/jira/osd.jsp" title="[DERBY-4679] Several left outer joins causes unstable query with incorrect results - ASF JIRA"> 
 </head> 
 <body id="jira" class="aui-layout aui-theme-default " data-version="7.6.3"> 
  <div id="page"> 
   <header id="header" role="banner"> 
    <script>
require(["jquery", "jira/license-banner"], function ($, licenseBanner) {
    $(function () {
        licenseBanner.showLicenseBanner("");
        licenseBanner.showLicenseFlag("");
    });
});
</script> 
    <nav class="aui-header aui-dropdown2-trigger-group" role="navigation">
     <div class="aui-header-inner">
      <div class="aui-header-before">
       <a class=" aui-dropdown2-trigger app-switcher-trigger" aria-controls="app-switcher" aria-haspopup="true" role="button" tabindex="0" data-aui-trigger href="#app-switcher"><span class="aui-icon aui-icon-small aui-iconfont-appswitcher">Linked Applications</span></a>
       <div id="app-switcher" class="aui-dropdown2 aui-style-default" role="menu" aria-hidden="true" data-is-switcher="true" data-environment="{&quot;isUserAdmin&quot;:false,&quot;isAppSuggestionAvailable&quot;:false,&quot;isSiteAdminUser&quot;:false}">
        <div role="application">
         <div class="app-switcher-loading">
          Loadingâ€¦
         </div>
        </div>
       </div>
      </div>
      <div class="aui-header-primary">
       <h1 id="logo" class="aui-header-logo aui-header-logo-custom"><a href="https://issues.apache.org/jira/secure/MyJiraHome.jspa"><img src="/jira/s/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/_/jira-logo-scaled.png" alt="ASF JIRA"></a></h1>
       <ul class="aui-nav">
        <li><a href="/jira/secure/Dashboard.jspa" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="home_link" aria-haspopup="true" aria-controls="home_link-content" title="View and manage your dashboards" accesskey="d">Dashboards</a>
         <div class="aui-dropdown2 aui-style-default" id="home_link-content" data-aui-dropdown2-ajax-key="home_link"></div></li>
        <li><a href="/jira/browse/DERBY" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="browse_link" aria-haspopup="true" aria-controls="browse_link-content" title="View recent projects and browse a list of projects" accesskey="p">Projects</a>
         <div class="aui-dropdown2 aui-style-default" id="browse_link-content" data-aui-dropdown2-ajax-key="browse_link"></div></li>
        <li><a href="/jira/issues/" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="find_link" aria-haspopup="true" aria-controls="find_link-content" title="Search for issues and view recent issues" accesskey="i">Issues</a>
         <div class="aui-dropdown2 aui-style-default" id="find_link-content" data-aui-dropdown2-ajax-key="find_link"></div></li> 
       </ul>
      </div>
      <div class="aui-header-secondary">
       <ul class="aui-nav">
        <li id="quicksearch-menu"> 
         <form action="/jira/secure/QuickSearch.jspa" method="get" id="quicksearch" class="aui-quicksearch dont-default-focus ajs-dirty-warning-exempt"> 
          <input id="quickSearchInput" class="search" type="text" title="Search" placeholder="Search" name="searchString" accessKey="q"> 
          <input type="submit" class="hidden" value="Search"> 
         </form> </li> 
        <li><a class="jira-feedback-plugin" role="button" aria-haspopup="true" id="jira-header-feedback-link" href="#"><span class="aui-icon aui-icon-small jira-feedback-plugin-icon">Give feedback to Atlassian</span></a></li> 
        <li id="system-help-menu"> <a class="aui-nav-link aui-dropdown2-trigger" id="help_menu" aria-haspopup="true" aria-owns="system-help-menu-content" href="https://docs.atlassian.com/jira/jcore-docs-076/" target="$textUtils.htmlEncode($rootHelpMenuItem.params.target)" title="Help"><span class="aui-icon aui-icon-small aui-iconfont-help">Help</span></a> 
         <div id="system-help-menu-content" class="aui-dropdown2 aui-style-default"> 
          <div class="aui-dropdown2-section"> 
           <ul id="jira-help" class="aui-list-truncate"> 
            <li> <a id="view_core_help" class="aui-nav-link " title="Go to the online documentation for JIRA Core" href="https://docs.atlassian.com/jira/jcore-docs-076/" target="_blank">JIRA Core help</a> </li> 
            <li> <a id="keyshortscuthelp" class="aui-nav-link " title="Get more information about JIRA's Keyboard Shortcuts" href="/jira/secure/ViewKeyboardShortcuts!default.jspa" target="_blank">Keyboard Shortcuts</a> </li> 
            <li> <a id="view_about" class="aui-nav-link " title="Get more information about JIRA" href="/jira/secure/AboutPage.jspa">About JIRA</a> </li> 
            <li> <a id="view_credits" class="aui-nav-link " title="See who did what" href="/jira/secure/JiraCreditsPage!default.jspa" target="_blank">JIRA Credits</a> </li> 
           </ul> 
          </div> 
         </div> </li> 
        <li id="user-options"> <a class="aui-nav-link login-link" href="/jira/login.jsp?os_destination=%2Fbrowse%2FDERBY-4679">Log In</a> 
         <div id="user-options-content" class="aui-dropdown2 aui-style-default"> 
          <div class="aui-dropdown2-section"> 
          </div> 
         </div> </li> 
       </ul>
      </div>
     </div>
     <!-- .aui-header-inner-->
    </nav>
    <!-- .aui-header --> 
   </header> 
   <section id="content" role="main"> 
    <big-pipe data-id="sidebar-id" unresolved></big-pipe>
    <div class="aui-sidebar  sidebar-placeholder">
     <div class="aui-sidebar-wrapper">
      <div class="aui-sidebar-body"></div>
      <div class="aui-sidebar-footer">
       <a class="aui-button aui-button-subtle aui-sidebar-toggle aui-sidebar-footer-tipsy" data-tooltip="Expand sidebar ( [ )" href="#"><span class="aui-icon aui-icon-small"></span></a>
      </div>
     </div>
    </div>
    <script id="projects-sidebar-init">
    require(['jira/projects/sidebar/expansion-manager'], function(expansionManager) {
        var scriptTag = document.getElementById('projects-sidebar-init');
        var sidebar = AJS.sidebar('.aui-sidebar');
        expansionManager(sidebar);
        scriptTag.parentElement.removeChild(scriptTag);
    });
    </script>
    <div class="aui-page-panel">
     <div class="aui-page-panel-inner">
      <div class="issue-navigator">
       <div class="content">
        <div class="issue-view">
         <div class="navigation-tools">
          <div class="pager-container"></div>
         </div>
         <div class="issue-container">
          <div id="issue-content" class="issue-edit-form">
           <header id="stalker" class="issue-header js-stalker">
            <div class="issue-header-content">
             <header class="aui-page-header">
              <div class="aui-page-header-inner">
               <div class="aui-page-header-image">
                <span id="10594" class="aui-avatar aui-avatar-large aui-avatar-project"><span class="aui-avatar-inner"><img id="project-avatar" alt="Uploaded image for project: 'Derby'" src="https://issues.apache.org/jira/secure/projectavatar?pid=10594&amp;avatarId=10122"></span></span>
               </div>
               <!-- .aui-page-header-image -->
               <div class="aui-page-header-main">
                <ol class="aui-nav aui-nav-breadcrumbs">
                 <li><a id="project-name-val" href="/jira/browse/DERBY">Derby</a></li>
                 <li><a class="issue-link" data-issue-key="DERBY-4679" href="/jira/browse/DERBY-4679" id="key-val" rel="12465506">DERBY-4679</a></li>
                </ol>
                <h1 id="summary-val">Several left outer joins causes unstable query with incorrect results</h1>
               </div>
               <!-- .aui-page-header-main -->
               <div class="aui-page-header-actions">
                <div id="issue-header-pager"></div>
               </div>
               <!-- .aui-page-header-actions -->
              </div>
              <!-- .aui-page-header-inner -->
             </header>
             <!-- .aui-page-header -->
             <div class="command-bar">
              <div class="ops-cont">
               <div class="ops-menus aui-toolbar">
                <div class="toolbar-split toolbar-split-left">
                 <ul id="opsbar-ops-login-lnk_container" class="toolbar-group pluggable-ops">
                  <li class="toolbar-item"><a id="ops-login-lnk" title="Log In" class="toolbar-trigger" href="/jira/login.jsp?os_destination=%2Fbrowse%2FDERBY-4679"><span class="trigger-label">Log In</span></a></li>
                 </ul>
                 <ul id="opsbar-opsbar-operations" class="toolbar-group pluggable-ops"></ul>
                 <ul id="opsbar-opsbar-transitions" class="toolbar-group pluggable-ops"></ul>
                 <ul id="opsbar-opsbar-admin" class="toolbar-group pluggable-ops"></ul>
                </div>
                <div class="toolbar-split toolbar-split-right">
                 <ul id="opsbar-jira.issue.tools" class="toolbar-group pluggable-ops">
                  <li class="toolbar-item">
                   <div>
                    <a href="#" id="viewissue-export" aria-owns="viewissue-export_drop" aria-haspopup="true" title="Export this issue in another format" class="toolbar-trigger aui-button aui-style-default aui-dropdown2-trigger"><span class="icon icon-default aui-icon aui-icon-small aui-iconfont-export"></span> <span class="dropdown-text">Export</span></a>
                    <div id="viewissue-export_drop" class="aui-style-default aui-dropdown2">
                     <ul>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-xml/DERBY-4679/DERBY-4679.xml" id="jira.issueviews:issue-xml"><span class="trigger-label">XML</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-word/DERBY-4679/DERBY-4679.doc" id="jira.issueviews:issue-word"><span class="trigger-label">Word</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-html/DERBY-4679/DERBY-4679.html" id="jira.issueviews:issue-html"><span class="trigger-label">Printable</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/com.atlassian.jira.plugins.jira-importers-plugin:issue-json/DERBY-4679/DERBY-4679.json" id="com.atlassian.jira.plugins.jira-importers-plugin:issue-json"><span class="trigger-label">JSON</span></a></li>
                     </ul>
                    </div>
                   </div></li>
                 </ul>
                </div>
               </div>
              </div>
             </div>
            </div>
           </header>
           <div class="issue-body-content">
            <div class="aui-group issue-body">
             <div class="aui-item issue-main-column">
              <div id="details-module" class="module toggle-wrap">
               <div id="details-module_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Details</h2>
               </div>
               <div class="mod-content"> 
                <ul id="issuedetails" class="property-list two-cols"> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Type:</strong> 
                   <span id="type-val" class="value"> <img alt="" height="16" src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype" title="Bug - A problem which impairs or prevents the functions of the product." width="16"> Bug </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Status:</strong> 
                   <span id="status-val" class="value"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done jira-issue-status-lozenge-max-width-medium" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </span> 
                  </div> </li> 
                 <li class="item new"> 
                  <div class="wrap"> 
                   <strong class="name">Priority:</strong> 
                   <span id="priority-val" class="value"> <img alt="" height="16" src="/jira/images/icons/priorities/major.svg" title="Major - Major loss of function." width="16"> Major </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Resolution:</strong> 
                   <span id="resolution-val" class="value resolved"> Fixed </span> 
                  </div> </li> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Affects Version/s:</strong> 
                   <span id="versions-val" class="value"> <span class="shorten" id="versions-field"> <span title="10.0.2.1 snapshot">10.0.2.1</span>, <span title="10.1.1.0 ">10.1.1.0</span>, <span title="10.1.2.1 ">10.1.2.1</span>, <span title="10.1.3.1 ">10.1.3.1</span>, <span title="10.2.1.6 ">10.2.1.6</span>, <span title="10.2.2.0 ">10.2.2.0</span>, <span title="10.3.1.4 ">10.3.1.4</span>, <span title="10.3.2.1 ">10.3.2.1</span>, <span title="10.3.3.0 ">10.3.3.0</span>, <span title="10.4.1.3 ">10.4.1.3</span>, <span title="10.4.2.0 ">10.4.2.0</span>, <span title="10.5.1.1 build: 764942, 14/Apr/09. Voted release: 28/Apr/09. Announced: 1/May/09">10.5.1.1</span>, <span title="10.5.2.0 10.5.2 Release July 30 2009 (794445) Now deprecated">10.5.2.0</span>, <span title="10.5.3.0 Next release after 10.5.2.0 release candidate #1">10.5.3.0</span>, <span title="10.6.1.0 Feature release">10.6.1.0</span> </span> </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Fix Version/s:</strong> 
                   <span id="fixfor-val" class="value"> <span class="shorten" id="fixVersions-field"> <a href="/jira/issues/?jql=project+%3D+DERBY+AND+fixVersion+%3D+10.5.3.2" title="10.5.3.2 Head of 10.5 branch - version bump for DERBY-4835">10.5.3.2</a>, <a href="/jira/issues/?jql=project+%3D+DERBY+AND+fixVersion+%3D+10.6.2.1" title="10.6.2.1 Derby 10.6.2.1 Release">10.6.2.1</a>, <a href="/jira/issues/?jql=project+%3D+DERBY+AND+fixVersion+%3D+10.7.1.1" title="10.7.1.1 First release on the 10.7 branch.">10.7.1.1</a> </span> </span> 
                  </div> </li> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Component/s:</strong> 
                   <span id="components-val" class="value"> <span class="shorten" id="components-field"> <a href="/jira/issues/?jql=project+%3D+DERBY+AND+component+%3D+SQL" title="SQL ">SQL</a> </span> </span> 
                  </div> </li> 
                 <li class="item full-width"> 
                  <div class="wrap" id="wrap-labels"> 
                   <strong class="name">Labels:</strong> 
                   <div class="labels-wrap value"> 
                    <span class="labels" id="labels-12465506-value">None</span> 
                   </div> 
                  </div> </li> 
                 <li class="item full-width"> 
                  <div class="wrap"> 
                   <strong class="name">Environment:</strong> 
                   <div id="environment-val" class="value"> 
                    <div id="field-environment" class="twixi-block twixi-block-inverted collapsed "> 
                     <div class="twixi-wrap verbose"> 
                      <a href="#" class="twixi "><span class="icon-default aui-icon aui-icon-small aui-iconfont-expanded"><span>Hide</span></span></a> 
                      <div class="flooded">
                        ------------------ Java Information ------------------
                       <br> Java Version: 1.5.0
                       <br> Java Vendor: IBM Corporation
                       <br> Java home: C:\jazz-rtc-2.0.0.2\client\eclipse\jdk\jre
                       <br> Java classpath: C:\Progra~1\Derby\Derby10.5.3/lib/derby.jar;C:\Progra~1\Derby\Derby10.5.3/lib/derbynet.jar;C:\Progra~1\Derby\Derby10.5.3/lib/derbyclient.jar;C:\Progra~1\Derby\Derby10.5.3/lib/derbytools.jar
                       <br> OS name: Windows XP
                       <br> OS architecture: x86
                       <br> OS version: 5.1 build 2600 Service Pack 3
                       <br> Java user name: dirichar
                       <br> Java user home: C:\Documents and Settings\dirichar
                       <br> Java user dir: C:\Program Files\Derby\Derby10.5.3\bin
                       <br> java.specification.name: Java Platform API Specification
                       <br> java.specification.version: 1.5
                       <br> --------- Derby Information --------
                       <br> JRE - JDBC: J2SE 5.0 - JDBC 3.0
                       <br> [C:\Program Files\Derby\Derby10.5.3\lib\derby.jar] 10.5.3.0 - (802917)
                       <br> [C:\Program Files\Derby\Derby10.5.3\lib\derbytools.jar] 10.5.3.0 - (802917)
                       <br> [C:\Program Files\Derby\Derby10.5.3\lib\derbynet.jar] 10.5.3.0 - (802917)
                       <br> [C:\Program Files\Derby\Derby10.5.3\lib\derbyclient.jar] 10.5.3.0 - (802917)
                       <br> ------------------------------------------------------
                       <br> ----------------- Locale Information -----------------
                       <br> Current Locale : [English/United States [en_US]]
                       <br> Found support for locale: [cs]
                       <br> version: 10.5.3.0 - (802917)
                       <br> Found support for locale: [de_DE]
                       <br> version: 10.5.3.0 - (802917)
                       <br> Found support for locale: [es]
                       <br> version: 10.5.3.0 - (802917)
                       <br> Found support for locale: [fr]
                       <br> version: 10.5.3.0 - (802917)
                       <br> Found support for locale: [hu]
                       <br> version: 10.5.3.0 - (802917)
                       <br> Found support for locale: [it]
                       <br> version: 10.5.3.0 - (802917)
                       <br> Found support for locale: [ja_JP]
                       <br> version: 10.5.3.0 - (802917)
                       <br> Found support for locale: [ko_KR]
                       <br> version: 10.5.3.0 - (802917)
                       <br> Found support for locale: [pl]
                       <br> version: 10.5.3.0 - (802917)
                       <br> Found support for locale: [pt_BR]
                       <br> version: 10.5.3.0 - (802917)
                       <br> Found support for locale: [ru]
                       <br> version: 10.5.3.0 - (802917)
                       <br> Found support for locale: [zh_CN]
                       <br> version: 10.5.3.0 - (802917)
                       <br> Found support for locale: [zh_TW]
                       <br> version: 10.5.3.0 - (802917)
                       <br> ------------------------------------------------------
                       <br> 
                      </div> 
                     </div> 
                     <div class="twixi-wrap concise"> 
                      <a href="#" class="twixi "><span class="icon-default aui-icon aui-icon-small aui-iconfont-collapsed"><span>Show</span></span></a> 
                      <div class="flooded">
                        ------------------ Java Information ------------------ Java Version: 1.5.0 Java Vendor: IBM Corporation Java home: C:\jazz-rtc-2.0.0.2\client\eclipse\jdk\jre Java classpath: C:\Progra~1\Derby\Derby10.5.3/lib/derby.jar;C:\Progra~1\Derby\Derby10.5.3/lib/derbynet.jar;C:\Progra~1\Derby\Derby10.5.3/lib/derbyclient.jar;C:\Progra~1\Derby\Derby10.5.3/lib/derbytools.jar OS name: Windows XP OS architecture: x86 OS version: 5.1 build 2600 Service Pack 3 Java user name: dirichar Java user home: C:\Documents and Settings\dirichar Java user dir: C:\Program Files\Derby\Derby10.5.3\bin java.specification.name: Java Platform API Specification java.specification.version: 1.5 --------- Derby Information -------- JRE - JDBC: J2SE 5.0 - JDBC 3.0 [C:\Program Files\Derby\Derby10.5.3\lib\derby.jar] 10.5.3.0 - (802917) [C:\Program Files\Derby\Derby10.5.3\lib\derbytools.jar] 10.5.3.0 - (802917) [C:\Program Files\Derby\Derby10.5.3\lib\derbynet.jar] 10.5.3.0 - (802917) [C:\Program Files\Derby\Derby10.5.3\lib\derbyclient.jar] 10.5.3.0 - (802917) ------------------------------------------------------ ----------------- Locale Information ----------------- Current Locale : [English/United States [en_US]] Found support for locale: [cs] version: 10.5.3.0 - (802917) Found support for locale: [de_DE] version: 10.5.3.0 - (802917) Found support for locale: [es] version: 10.5.3.0 - (802917) Found support for locale: [fr] version: 10.5.3.0 - (802917) Found support for locale: [hu] version: 10.5.3.0 - (802917) Found support for locale: [it] version: 10.5.3.0 - (802917) Found support for locale: [ja_JP] version: 10.5.3.0 - (802917) Found support for locale: [ko_KR] version: 10.5.3.0 - (802917) Found support for locale: [pl] version: 10.5.3.0 - (802917) Found support for locale: [pt_BR] version: 10.5.3.0 - (802917) Found support for locale: [ru] version: 10.5.3.0 - (802917) Found support for locale: [zh_CN] version: 10.5.3.0 - (802917) Found support for locale: [zh_TW] version: 10.5.3.0 - (802917) ------------------------------------------------------ 
                      </div> 
                     </div> 
                    </div> 
                   </div> 
                  </div> </li> 
                </ul> 
                <div id="customfieldmodule"> 
                 <div class="aui-tabs horizontal-tabs" id="customfield-tabs"> 
                  <div id="customfield-panel-1" class="tabs-pane active-pane"> 
                   <ul class="property-list"> 
                    <li id="rowForcustomfield_12310090" class="item"> 
                     <div class="wrap"> 
                      <strong title="Issue &amp; fix info" class="name">Issue &amp; fix info:</strong> 
                      <div id="customfield_12310090-val" class="value type-multicheckboxes" data-fieldtype="multicheckboxes" data-fieldtypecompletekey="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes"> 
                       <div class="shorten" id="customfield_12310090-field"> 
                        <span>Repro attached</span> 
                       </div> 
                      </div> 
                     </div> </li> 
                    <li id="rowForcustomfield_12310200" class="item"> 
                     <div class="wrap"> 
                      <strong title="Bug behavior facts" class="name">Bug behavior facts:</strong> 
                      <div id="customfield_12310200-val" class="value type-multicheckboxes" data-fieldtype="multicheckboxes" data-fieldtypecompletekey="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes"> 
                       <div class="shorten" id="customfield_12310200-field"> 
                        <span>Deviation from standard</span>, 
                        <span>Seen in production</span>, 
                        <span>Wrong query result</span> 
                       </div> 
                      </div> 
                     </div> </li> 
                   </ul> 
                  </div> 
                 </div>
                </div> 
               </div>
              </div>
              <div id="descriptionmodule" class="module toggle-wrap">
               <div id="descriptionmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Description</h2>
               </div>
               <div class="mod-content">
                <div id="description-val" class="field-ignore-highlight"> 
                 <div class="user-content-block"> 
                  <p>select distinct <br> t1.ITEM_ID, <br> t1.STATE_ID, <br> t1.JZ_DISCRIMINATOR <br> from (<br> select * <br> from <br> LM.ABSTRACT_INSTANCE z1 <br> where <br> z1.JZ_DISCRIMINATOR = 238<br> ) t1 left outer join <br> LM.LAB_RESOURCE_OPERATINGSYSTEM j1 on (t1.ITEM_ID = j1.JZ_PARENT_ID) left outer join <br> LM.ABSTRACT_INSTANCE t2 on (j1.ITEM_ID = t2.ITEM_ID) left outer join <br> LM.OPERATING_SYSTEM_SOFTWARE_INSTALL j2 on (t2.ITEM_ID = j2.JZ_PARENT_ID) left outer join <br> LM.ABSTRACT_INSTANCE t3 on (j2.ITEM_ID = t3.ITEM_ID) left outer join <br> LM.FAMILY t5 on (t2.FAMILY_ITEM_ID = t5.ITEM_ID) left outer join <br> LM.FAMILY t7 on (t1.FAMILY_ITEM_ID = t7.ITEM_ID) <br> where (<br> t3.FAMILY_ITEM_ID in('_5VetVWTeEd-Q8aOqWJPEIQ') and <br> (t5.ROOT_ITEM_ID = '_5ZDlwWTeEd-Q8aOqWJPEIQ') and <br> (t7.ROOT_ITEM_ID = '_5nN9mmTeEd-Q8aOqWJPEIQ') and <br> (t1.VISIBILITY = 0)<br> )</p> 
                  <p>The above query returns no results despite the fact that the database contains results that match the query. <br> Slight modifications to the query that shouldn't change the outcome cause it to return the expected results. For example: changing <br> "t3.FAMILY_ITEM_ID in('_5VetVWTeEd-Q8aOqWJPEIQ')" <br> to <br> "t3.FAMILY_ITEM_ID in('_5VetVWTeEd-Q8aOqWJPEIQ', 'blah')" <br> or <br> "t3.FAMILY_ITEM_ID = '_5VetVWTeEd-Q8aOqWJPEIQ'"</p> 
                  <p>or removing <br> "(t5.ROOT_ITEM_ID = '_5ZDlwWTeEd-Q8aOqWJPEIQ') and "<br> despite the fact that the results show that t5.ROOT_ITEM_ID is equal to the string above.</p> 
                  <p>Note that there is no error message associated with the incorrect query, it just returns zero rows.</p> 
                  <p>The query below doesn't use join statements and works as expected.</p> 
                  <p>select distinct <br> t1.item_id, <br> t1.state_id, <br> t1.jz_discriminator<br> from (<br> select * <br> from <br> lm.abstract_instance z1 <br> where <br> z1.jz_discriminator = 238<br> ) t1,<br> lm.lab_resource_operatingsystem j1,<br> lm.abstract_instance t3,<br> lm.operating_system_software_install j2,<br> lm.abstract_instance t2,<br> lm.family t5,<br> lm.family t7<br> where<br> t1.item_id = j1.jz_parent_id and<br> j1.item_id = t2.item_id and<br> t2.item_id = j2.jz_parent_id and<br> j2.item_id = t3.item_id and<br> t2.family_item_id = t5.item_id and<br> t1.family_item_id = t7.item_id and<br> t3.family_item_id in ('_5VetVWTeEd-Q8aOqWJPEIQ') and<br> t5.root_item_id = '_5ZDlwWTeEd-Q8aOqWJPEIQ' and<br> t7.root_item_id = '_5nN9mmTeEd-Q8aOqWJPEIQ' and<br> t1.visibility = 0;</p> 
                 </div> 
                </div> 
               </div>
              </div>
              <div id="dnd-metadata" class="module toggle-wrap">
               <div id="dnd-metadata_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Attachments</h2>
               </div>
               <div class="mod-content">
                <div id="dnd-metadata-webpanel" data-can-attach="false" data-project-type="software" data-upload-limit="62914560" data-thumbnails-allowed="false"></div>
               </div>
              </div>
              <div id="attachmentmodule" class="module toggle-wrap">
               <div id="attachmentmodule_heading" class="mod-header">
                <ul class="ops">
                 <li class="drop">
                  <div class="aui-dd-parent">
                   <a href="#" class="icon drop-menu js-default-dropdown" title="Options"><span>Options</span></a>
                   <div class="aui-dropdown-content aui-list">
                    <ul id="attachment-sorting-options" class="aui-list-section aui-first">
                     <li class="aui-list-item"><a id="attachment-sort-key-name" href="/jira/browse/DERBY-4679?attachmentSortBy=fileName#attachmentmodule" class="aui-list-checked aui-checked aui-list-item-link" title="viewissue.subtasks.tab.show.all.name"><span>Sort By Name</span></a></li>
                     <li class="aui-list-item"><a id="attachment-sort-key-date" href="/jira/browse/DERBY-4679?attachmentSortBy=dateTime#attachmentmodule" class="aui-list-checked aui-list-item-link" title="Sort By Date"><span>Sort By Date</span></a></li>
                    </ul>
                    <ul id="attachment-sorting-order-options" class="aui-list-section aui-last">
                     <li class="aui-list-item"><a id="attachment-sort-direction-asc" href="/jira/browse/DERBY-4679?attachmentOrder=asc#attachmentmodule" class="aui-list-checked aui-checked aui-list-item-link" title="Ascending"><span>Ascending</span></a></li>
                     <li class="aui-list-item"><a id="attachment-sort-direction-desc" href="/jira/browse/DERBY-4679?attachmentOrder=desc#attachmentmodule" class="aui-list-checked aui-list-item-link" title="Descending"><span>Descending</span></a></li>
                    </ul>
                   </div>
                  </div></li>
                </ul>
                <h2 class="toggle-title">Attachments</h2>
               </div>
               <div class="mod-content">
                <ol id="file_attachments" class="item-attachments" data-sort-key="fileName" data-sort-order="asc">
                 <li class="attachment-content js-file-attachment" data-attachment-id="12445654" data-issue-id="12465506" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12445654/db.sql" draggable="true" data-downloadurl="application/octet-stream:db.sql:https://issues.apache.org/jira/secure/attachment/12445654/db.sql"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12445654/db.sql" title="Latest  27/May/10 14:17 - David Richards" draggable="true" data-downloadurl="application/octet-stream:db.sql:https://issues.apache.org/jira/secure/attachment/12445654/db.sql">db.sql</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2010-05-27T14:17:05.946Z">27/May/10 14:17</time>
                   </dd>
                   <dd class="attachment-size">
                    4 kB
                   </dd>
                   <dd class="attachment-author">
                    David Richards
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12448083" data-issue-id="12465506" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12448083/derby-4679-2a.diff" draggable="true" data-downloadurl="text/x-patch:derby-4679-2a.diff:https://issues.apache.org/jira/secure/attachment/12448083/derby-4679-2a.diff"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12448083/derby-4679-2a.diff" title="Latest  25/Jun/10 19:00 - Dag H. Wanvik" draggable="true" data-downloadurl="text/x-patch:derby-4679-2a.diff:https://issues.apache.org/jira/secure/attachment/12448083/derby-4679-2a.diff">derby-4679-2a.diff</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2010-06-25T19:00:05.625Z">25/Jun/10 19:00</time>
                   </dd>
                   <dd class="attachment-size">
                    14 kB
                   </dd>
                   <dd class="attachment-author">
                    Dag H. Wanvik
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12448084" data-issue-id="12465506" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12448084/derby-4679-2a.stat" draggable="true" data-downloadurl="application/octet-stream:derby-4679-2a.stat:https://issues.apache.org/jira/secure/attachment/12448084/derby-4679-2a.stat"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12448084/derby-4679-2a.stat" title="Latest  25/Jun/10 19:00 - Dag H. Wanvik" draggable="true" data-downloadurl="application/octet-stream:derby-4679-2a.stat:https://issues.apache.org/jira/secure/attachment/12448084/derby-4679-2a.stat">derby-4679-2a.stat</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2010-06-25T19:00:05.680Z">25/Jun/10 19:00</time>
                   </dd>
                   <dd class="attachment-size">
                    0.2 kB
                   </dd>
                   <dd class="attachment-author">
                    Dag H. Wanvik
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12446387" data-issue-id="12465506" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12446387/derby-4679a.diff" draggable="true" data-downloadurl="text/x-patch:derby-4679a.diff:https://issues.apache.org/jira/secure/attachment/12446387/derby-4679a.diff"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12446387/derby-4679a.diff" title="Latest  05/Jun/10 00:34 - Dag H. Wanvik" draggable="true" data-downloadurl="text/x-patch:derby-4679a.diff:https://issues.apache.org/jira/secure/attachment/12446387/derby-4679a.diff">derby-4679a.diff</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2010-06-05T00:34:00.921Z">05/Jun/10 00:34</time>
                   </dd>
                   <dd class="attachment-size">
                    12 kB
                   </dd>
                   <dd class="attachment-author">
                    Dag H. Wanvik
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12446388" data-issue-id="12465506" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12446388/derby-4679a.stat" draggable="true" data-downloadurl="application/octet-stream:derby-4679a.stat:https://issues.apache.org/jira/secure/attachment/12446388/derby-4679a.stat"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12446388/derby-4679a.stat" title="Latest  05/Jun/10 00:34 - Dag H. Wanvik" draggable="true" data-downloadurl="application/octet-stream:derby-4679a.stat:https://issues.apache.org/jira/secure/attachment/12446388/derby-4679a.stat">derby-4679a.stat</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2010-06-05T00:34:00.976Z">05/Jun/10 00:34</time>
                   </dd>
                   <dd class="attachment-size">
                    0.3 kB
                   </dd>
                   <dd class="attachment-author">
                    Dag H. Wanvik
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12446415" data-issue-id="12465506" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12446415/derby-4679b.diff" draggable="true" data-downloadurl="text/x-patch:derby-4679b.diff:https://issues.apache.org/jira/secure/attachment/12446415/derby-4679b.diff"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12446415/derby-4679b.diff" title="Latest  05/Jun/10 20:19 - Dag H. Wanvik" draggable="true" data-downloadurl="text/x-patch:derby-4679b.diff:https://issues.apache.org/jira/secure/attachment/12446415/derby-4679b.diff">derby-4679b.diff</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2010-06-05T20:19:15.266Z">05/Jun/10 20:19</time>
                   </dd>
                   <dd class="attachment-size">
                    12 kB
                   </dd>
                   <dd class="attachment-author">
                    Dag H. Wanvik
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12446416" data-issue-id="12465506" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12446416/derby-4679b.stat" draggable="true" data-downloadurl="application/octet-stream:derby-4679b.stat:https://issues.apache.org/jira/secure/attachment/12446416/derby-4679b.stat"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12446416/derby-4679b.stat" title="Latest  05/Jun/10 20:19 - Dag H. Wanvik" draggable="true" data-downloadurl="application/octet-stream:derby-4679b.stat:https://issues.apache.org/jira/secure/attachment/12446416/derby-4679b.stat">derby-4679b.stat</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2010-06-05T20:19:15.353Z">05/Jun/10 20:19</time>
                   </dd>
                   <dd class="attachment-size">
                    0.3 kB
                   </dd>
                   <dd class="attachment-author">
                    Dag H. Wanvik
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12447363" data-issue-id="12465506" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12447363/derby-4679-followup.diff" draggable="true" data-downloadurl="text/x-patch:derby-4679-followup.diff:https://issues.apache.org/jira/secure/attachment/12447363/derby-4679-followup.diff"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12447363/derby-4679-followup.diff" title="Latest  17/Jun/10 16:49 - Dag H. Wanvik" draggable="true" data-downloadurl="text/x-patch:derby-4679-followup.diff:https://issues.apache.org/jira/secure/attachment/12447363/derby-4679-followup.diff">derby-4679-followup.diff</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2010-06-17T16:49:57.340Z">17/Jun/10 16:49</time>
                   </dd>
                   <dd class="attachment-size">
                    4 kB
                   </dd>
                   <dd class="attachment-author">
                    Dag H. Wanvik
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12447364" data-issue-id="12465506" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12447364/derby-4679-followup.stat" draggable="true" data-downloadurl="application/octet-stream:derby-4679-followup.stat:https://issues.apache.org/jira/secure/attachment/12447364/derby-4679-followup.stat"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12447364/derby-4679-followup.stat" title="Latest  17/Jun/10 16:49 - Dag H. Wanvik" draggable="true" data-downloadurl="application/octet-stream:derby-4679-followup.stat:https://issues.apache.org/jira/secure/attachment/12447364/derby-4679-followup.stat">derby-4679-followup.stat</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2010-06-17T16:49:57.395Z">17/Jun/10 16:49</time>
                   </dd>
                   <dd class="attachment-size">
                    0.1 kB
                   </dd>
                   <dd class="attachment-author">
                    Dag H. Wanvik
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12446258" data-issue-id="12465506" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12446258/drawing.txt" draggable="true" data-downloadurl="text/plain:drawing.txt:https://issues.apache.org/jira/secure/attachment/12446258/drawing.txt"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12446258/drawing.txt" title="Latest  03/Jun/10 15:55 - Dag H. Wanvik" draggable="true" data-downloadurl="text/plain:drawing.txt:https://issues.apache.org/jira/secure/attachment/12446258/drawing.txt">drawing.txt</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2010-06-03T15:55:26.008Z">03/Jun/10 15:55</time>
                   </dd>
                   <dd class="attachment-size">
                    7 kB
                   </dd>
                   <dd class="attachment-author">
                    Dag H. Wanvik
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12446174" data-issue-id="12465506" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12446174/drawing.txt" draggable="true" data-downloadurl="text/plain:drawing.txt:https://issues.apache.org/jira/secure/attachment/12446174/drawing.txt"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12446174/drawing.txt" title=" 02/Jun/10 20:45 - Dag H. Wanvik" draggable="true" data-downloadurl="text/plain:drawing.txt:https://issues.apache.org/jira/secure/attachment/12446174/drawing.txt">drawing.txt</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2010-06-02T20:45:36.478Z">02/Jun/10 20:45</time>
                   </dd>
                   <dd class="attachment-size">
                    7 kB
                   </dd>
                   <dd class="attachment-author">
                    Dag H. Wanvik
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12445845" data-issue-id="12465506" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12445845/equal-after-preprocess.log" draggable="true" data-downloadurl="text/plain:equal-after-preprocess.log:https://issues.apache.org/jira/secure/attachment/12445845/equal-after-preprocess.log"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12445845/equal-after-preprocess.log" title="Latest  29/May/10 13:51 - Dag H. Wanvik" draggable="true" data-downloadurl="text/plain:equal-after-preprocess.log:https://issues.apache.org/jira/secure/attachment/12445845/equal-after-preprocess.log">equal-after-preprocess.log</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2010-05-29T13:51:50.380Z">29/May/10 13:51</time>
                   </dd>
                   <dd class="attachment-size">
                    189 kB
                   </dd>
                   <dd class="attachment-author">
                    Dag H. Wanvik
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12446069" data-issue-id="12465506" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12446069/Foo.java" draggable="true" data-downloadurl="text/x-java:Foo.java:https://issues.apache.org/jira/secure/attachment/12446069/Foo.java"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-code" title="Java Source File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12446069/Foo.java" title="Latest  01/Jun/10 21:41 - Dag H. Wanvik" draggable="true" data-downloadurl="text/x-java:Foo.java:https://issues.apache.org/jira/secure/attachment/12446069/Foo.java">Foo.java</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2010-06-01T21:41:21.713Z">01/Jun/10 21:41</time>
                   </dd>
                   <dd class="attachment-size">
                    2 kB
                   </dd>
                   <dd class="attachment-author">
                    Dag H. Wanvik
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12445843" data-issue-id="12465506" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12445843/in-after-preprocess.log" draggable="true" data-downloadurl="text/plain:in-after-preprocess.log:https://issues.apache.org/jira/secure/attachment/12445843/in-after-preprocess.log"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12445843/in-after-preprocess.log" title="Latest  29/May/10 13:51 - Dag H. Wanvik" draggable="true" data-downloadurl="text/plain:in-after-preprocess.log:https://issues.apache.org/jira/secure/attachment/12445843/in-after-preprocess.log">in-after-preprocess.log</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2010-05-29T13:51:50.122Z">29/May/10 13:51</time>
                   </dd>
                   <dd class="attachment-size">
                    242 kB
                   </dd>
                   <dd class="attachment-author">
                    Dag H. Wanvik
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12445844" data-issue-id="12465506" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12445844/ins-after-preprocess.log" draggable="true" data-downloadurl="text/plain:ins-after-preprocess.log:https://issues.apache.org/jira/secure/attachment/12445844/ins-after-preprocess.log"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12445844/ins-after-preprocess.log" title="Latest  29/May/10 13:51 - Dag H. Wanvik" draggable="true" data-downloadurl="text/plain:ins-after-preprocess.log:https://issues.apache.org/jira/secure/attachment/12445844/ins-after-preprocess.log">ins-after-preprocess.log</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2010-05-29T13:51:50.243Z">29/May/10 13:51</time>
                   </dd>
                   <dd class="attachment-size">
                    244 kB
                   </dd>
                   <dd class="attachment-author">
                    Dag H. Wanvik
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12445655" data-issue-id="12465506" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12445655/sample.sql" draggable="true" data-downloadurl="application/octet-stream:sample.sql:https://issues.apache.org/jira/secure/attachment/12445655/sample.sql"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12445655/sample.sql" title="Latest  27/May/10 14:17 - David Richards" draggable="true" data-downloadurl="application/octet-stream:sample.sql:https://issues.apache.org/jira/secure/attachment/12445655/sample.sql">sample.sql</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2010-05-27T14:17:06.011Z">27/May/10 14:17</time>
                   </dd>
                   <dd class="attachment-size">
                    3 kB
                   </dd>
                   <dd class="attachment-author">
                    David Richards
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12446068" data-issue-id="12465506" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12446068/show.diff" draggable="true" data-downloadurl="text/x-patch:show.diff:https://issues.apache.org/jira/secure/attachment/12446068/show.diff"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12446068/show.diff" title="Latest  01/Jun/10 21:41 - Dag H. Wanvik" draggable="true" data-downloadurl="text/x-patch:show.diff:https://issues.apache.org/jira/secure/attachment/12446068/show.diff">show.diff</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2010-06-01T21:41:21.657Z">01/Jun/10 21:41</time>
                   </dd>
                   <dd class="attachment-size">
                    5 kB
                   </dd>
                   <dd class="attachment-author">
                    Dag H. Wanvik
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12445841" data-issue-id="12465506" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12445841/trace-equal.log" draggable="true" data-downloadurl="text/plain:trace-equal.log:https://issues.apache.org/jira/secure/attachment/12445841/trace-equal.log"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12445841/trace-equal.log" title="Latest  29/May/10 13:30 - Dag H. Wanvik" draggable="true" data-downloadurl="text/plain:trace-equal.log:https://issues.apache.org/jira/secure/attachment/12445841/trace-equal.log">trace-equal.log</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2010-05-29T13:30:39.125Z">29/May/10 13:30</time>
                   </dd>
                   <dd class="attachment-size">
                    3 kB
                   </dd>
                   <dd class="attachment-author">
                    Dag H. Wanvik
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12445840" data-issue-id="12465506" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12445840/trace-exec-plan.log" draggable="true" data-downloadurl="text/plain:trace-exec-plan.log:https://issues.apache.org/jira/secure/attachment/12445840/trace-exec-plan.log"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12445840/trace-exec-plan.log" title="Latest  29/May/10 13:30 - Dag H. Wanvik" draggable="true" data-downloadurl="text/plain:trace-exec-plan.log:https://issues.apache.org/jira/secure/attachment/12445840/trace-exec-plan.log">trace-exec-plan.log</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2010-05-29T13:30:39.040Z">29/May/10 13:30</time>
                   </dd>
                   <dd class="attachment-size">
                    15 kB
                   </dd>
                   <dd class="attachment-author">
                    Dag H. Wanvik
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12445842" data-issue-id="12465506" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12445842/trace-in.log" draggable="true" data-downloadurl="text/plain:trace-in.log:https://issues.apache.org/jira/secure/attachment/12445842/trace-in.log"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12445842/trace-in.log" title="Latest  29/May/10 13:30 - Dag H. Wanvik" draggable="true" data-downloadurl="text/plain:trace-in.log:https://issues.apache.org/jira/secure/attachment/12445842/trace-in.log">trace-in.log</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2010-05-29T13:30:39.175Z">29/May/10 13:30</time>
                   </dd>
                   <dd class="attachment-size">
                    1 kB
                   </dd>
                   <dd class="attachment-author">
                    Dag H. Wanvik
                   </dd>
                  </dl></li>
                </ol>
               </div>
              </div>
              <div id="linkingmodule" class="module toggle-wrap">
               <div id="linkingmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Issue Links</h2>
               </div>
               <div class="mod-content"> 
                <div class="links-container" data-default-link-icon="/jira/images/icons/generic_link_16.png"> 
                 <dl class="links-list "> 
                  <dt title="is related to">
                   is related to
                  </dt> 
                  <dd id="internal-12366604_10030"> 
                   <div class="link-content"> 
                    <p> <img src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype" width="16" height="16" title="Bug - A problem which impairs or prevents the functions of the product." alt="Bug - A problem which impairs or prevents the functions of the product."> <span title="DERBY-2526: Wrong results with queries that use the JOIN ... ON syntax to join with views or other non-base table expressions."> <a href="/jira/browse/DERBY-2526" data-issue-key="DERBY-2526" class="issue-link link-title resolution">DERBY-2526</a> <span class="link-summary">Wrong results with queries that use the JOIN ... ON syntax to join with views or other non-base table expressions.</span> </span> </p> 
                    <ul class="link-snapshot"> 
                     <li class="priority"> <img src="/jira/images/icons/priorities/major.svg" width="16" height="16" title="Major - Major loss of function." alt="Major - Major loss of function."> </li> 
                     <li class="status"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done aui-lozenge-subtle jira-issue-status-lozenge-max-width-short" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </li> 
                    </ul> 
                   </div> 
                  </dd> 
                 </dl> 
                 <dl class="links-list "> 
                  <dt title="is required by">
                   is required by
                  </dt> 
                  <dd id="internal-12497378_12310040"> 
                   <div class="link-content"> 
                    <p> <img src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21148&amp;avatarType=issuetype" width="16" height="16" title="Task - A task that needs to be done." alt="Task - A task that needs to be done."> <span title="DERBY-4994: 10.5 backport effort issue (2011)"> <a href="/jira/browse/DERBY-4994" data-issue-key="DERBY-4994" class="issue-link link-title resolution">DERBY-4994</a> <span class="link-summary">10.5 backport effort issue (2011)</span> </span> </p> 
                    <ul class="link-snapshot"> 
                     <li class="priority"> <img src="/jira/images/icons/priorities/major.svg" width="16" height="16" title="Major - Major loss of function." alt="Major - Major loss of function."> </li> 
                     <li class="status"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done aui-lozenge-subtle jira-issue-status-lozenge-max-width-short" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </li> 
                    </ul> 
                   </div> 
                  </dd> 
                 </dl> 
                 <dl class="links-list "> 
                  <dt title="relates to">
                   relates to
                  </dt> 
                  <dd id="internal-12608438_10030"> 
                   <div class="link-content"> 
                    <p> <img src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype" width="16" height="16" title="Bug - A problem which impairs or prevents the functions of the product." alt="Bug - A problem which impairs or prevents the functions of the product."> <span title="DERBY-5933: SQL sorting error"> <a href="/jira/browse/DERBY-5933" data-issue-key="DERBY-5933" class="issue-link link-title resolution">DERBY-5933</a> <span class="link-summary">SQL sorting error</span> </span> </p> 
                    <ul class="link-snapshot"> 
                     <li class="priority"> <img src="/jira/images/icons/priorities/major.svg" width="16" height="16" title="Major - Major loss of function." alt="Major - Major loss of function."> </li> 
                     <li class="status"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done aui-lozenge-subtle jira-issue-status-lozenge-max-width-short" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </li> 
                    </ul> 
                   </div> 
                  </dd> 
                  <dd id="internal-12466382_10030"> 
                   <div class="link-content"> 
                    <p> <img src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype" width="16" height="16" title="Improvement - An improvement or enhancement to an existing feature or task." alt="Improvement - An improvement or enhancement to an existing feature or task."> <span title="DERBY-4695: Internal assignment of tablenumer, columnnumber looks wrong in query tree, although no ill effects are seen."> <a href="/jira/browse/DERBY-4695" data-issue-key="DERBY-4695" class="issue-link link-title resolution">DERBY-4695</a> <span class="link-summary">Internal assignment of tablenumer, columnnumber looks wrong in query tree, although no ill effects are seen.</span> </span> </p> 
                    <ul class="link-snapshot"> 
                     <li class="priority"> <img src="/jira/images/icons/priorities/minor.svg" width="16" height="16" title="Minor - Minor loss of function, or other problem where easy workaround is present." alt="Minor - Minor loss of function, or other problem where easy workaround is present."> </li> 
                     <li class="status"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done aui-lozenge-subtle jira-issue-status-lozenge-max-width-short" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </li> 
                    </ul> 
                   </div> 
                  </dd> 
                 </dl> 
                </div> 
               </div>
              </div>
              <div id="activitymodule" class="module toggle-wrap">
               <div id="activitymodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Activity</h2>
               </div>
               <div class="mod-content"> 
                <big-pipe data-id="activity-panel-pipe-id" style="height: 70px"> 
                 <div></div> 
                </big-pipe> 
               </div>
              </div>
             </div>
             <div id="viewissuesidebar" class="aui-item issue-side-column">
              <div id="peoplemodule" class="module toggle-wrap">
               <div id="peoplemodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">People</h2>
               </div>
               <div class="mod-content"> 
                <ul class="item-details" id="peopledetails"> 
                 <li class="people-details"> 
                  <dl> 
                   <dt>
                    Assignee:
                   </dt> 
                   <dd> 
                    <span id="assignee-val" class="view-issue-field"> <span class="user-hover" id="issue_summary_assignee_dagw" rel="dagw" data-user="{&quot;avatarUrl&quot;:&quot;https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10452&quot;,&quot;displayName&quot;:&quot;Dag H. Wanvik&quot;,&quot;emailAddress&quot;:&quot;dag.wanvik@oracle.com&quot;,&quot;username&quot;:&quot;dagw&quot;}"> <span class="aui-avatar aui-avatar-small"><span class="aui-avatar-inner"><img src="https://issues.apache.org/jira/secure/useravatar?size=small&amp;avatarId=10452" alt="dagw"></span></span> Dag H. Wanvik </span> </span> 
                   </dd> 
                  </dl> 
                  <dl> 
                   <dt>
                    Reporter:
                   </dt> 
                   <dd> 
                    <span id="reporter-val" class="view-issue-field"> <span class="user-hover" id="issue_summary_reporter_dirichar" rel="dirichar" data-user="{&quot;avatarUrl&quot;:&quot;https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10452&quot;,&quot;displayName&quot;:&quot;David Richards&quot;,&quot;emailAddress&quot;:&quot;dirichar@us.ibm.com&quot;,&quot;username&quot;:&quot;dirichar&quot;}"> <span class="aui-avatar aui-avatar-small"><span class="aui-avatar-inner"><img src="https://issues.apache.org/jira/secure/useravatar?size=small&amp;avatarId=10452" alt="dirichar"></span></span> David Richards </span> </span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
                <ul class="item-details"> 
                 <li> 
                  <dl> 
                   <dt>
                    Votes:
                   </dt> 
                   <dd> 
                    <span id="vote-data" class="aui-badge vote-state-off">0</span> 
                    <span id="vote-label" title="You have to be logged in to vote for an issue.">Vote for this issue</span> 
                   </dd> 
                  </dl> 
                  <dl> 
                   <dt>
                    Watchers:
                   </dt> 
                   <dd> 
                    <span id="watcher-data" class="aui-badge watch-state-off">1</span> 
                    <span id="watch-label" title="You have to be logged in to watch an issue.">Start watching this issue</span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
               </div>
              </div>
              <div id="datesmodule" class="module toggle-wrap">
               <div id="datesmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Dates</h2>
               </div>
               <div class="mod-content"> 
                <ul class="item-details"> 
                 <li> 
                  <dl class="dates"> 
                   <dt>
                    Created:
                   </dt> 
                   <dd class="date user-tz" title="26/May/10 20:57"> 
                    <span data-name="Created" id="created-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2010-05-26T20:57:45+0000">26/May/10 20:57</time> </span> 
                   </dd> 
                  </dl> 
                  <dl class="dates"> 
                   <dt>
                    Updated:
                   </dt> 
                   <dd class="date user-tz" title="15/Nov/13 08:15"> 
                    <span data-name="Updated" id="updated-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2013-11-15T08:15:13+0000">15/Nov/13 08:15</time> </span> 
                   </dd> 
                  </dl> 
                  <dl class="dates"> 
                   <dt>
                    Resolved:
                   </dt> 
                   <dd class="date user-tz" title="16/Feb/11 05:35"> 
                    <span data-name="Resolved" id="resolutiondate-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2011-02-16T05:35:05+0000">16/Feb/11 05:35</time> </span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
               </div>
              </div>
             </div>
            </div>
           </div>
          </div>
         </div>
        </div>
       </div>
      </div>
     </div>
     <!-- .aui-page-panel-inner -->
    </div>
    <!-- .aui-page-panel -->
    <div class="issue-navigator-init"></div> 
   </section> 
   <footer id="footer" role="contentinfo"> 
    <section class="footer-body"> 
     <ul class="atlassian-footer"> 
      <li> Atlassian JIRA <a class="seo-link" rel="nofollow" href="https://www.atlassian.com/software/jira">Project Management Software</a> <span id="footer-build-information">(v7.6.3#76005-<span title="8a4e38d34af948780dbf52044e7aafb13a7cae58" data-commit-id="8a4e38d34af948780dbf52044e7aafb13a7cae58}">sha1:8a4e38d</span>)</span> </li> 
      <li> <a id="about-link" rel="nofollow" href="/jira/secure/AboutPage.jspa/secure/AboutPage.jspa">About JIRA</a> </li> 
      <li> <a id="footer-report-problem-link" rel="nofollow" href="/jira/secure/CreateIssue!default.jspa">Report a problem</a> </li> 
     </ul> 
     <ul class="atlassian-footer"> 
      <li class="licensemessage"> Powered by a free Atlassian <a rel="nofollow" href="http://www.atlassian.com/software/jira">JIRA</a> open source license for Apache Software Foundation. Try JIRA - <a rel="nofollow" href="http://www.atlassian.com/software/jira">bug tracking software</a> for <i>your</i> team. </li> 
     </ul> 
     <div id="footer-logo">
      <a rel="nofollow" href="http://www.atlassian.com/">Atlassian</a>
     </div> 
    </section> 
    <fieldset class="hidden parameters"> 
     <input type="hidden" title="loggedInUser" value=""> 
     <input type="hidden" title="ajaxTimeout" value="The call to the JIRA server did not complete within the timeout period.  We are unsure of the result of this operation."> 
     <input type="hidden" title="JiraVersion" value="7.6.3"> 
     <input type="hidden" title="ajaxUnauthorised" value="You are not authorised to perform this operation. Please log in."> 
     <input type="hidden" title="baseURL" value="https://issues.apache.org/jira"> 
     <input type="hidden" title="ajaxCommsError" value="The JIRA server could not be contacted. This may be a temporary glitch or the server may be down. "> 
     <input type="hidden" title="ajaxServerError" value="The JIRA server was contacted but has returned an error response. We are unsure of the result of this operation."> 
     <input type="hidden" title="ajaxErrorCloseDialog" value="Close this dialog and press refresh in your browser"> 
     <input type="hidden" title="ajaxErrorDialogHeading" value="Communications Breakdown"> 
     <input type="hidden" title="dirtyMessage" value="You have entered new data on this page. If you navigate away from this page without first saving your data, the changes will be lost."> 
     <input type="hidden" title="dirtyDialogMessage" value="You have entered new data in this dialog. If you navigate away from this dialog without first saving your data, the changes will be lost. Click cancel to return to the dialog."> 
     <input type="hidden" title="keyType" value="Type"> 
     <input type="hidden" title="keyThen" value="then"> 
     <input type="hidden" title="dblClickToExpand" value="Double click to expand"> 
     <input type="hidden" title="actions" value="Actions"> 
     <input type="hidden" title="removeItem" value="Remove"> 
     <input type="hidden" title="workflow" value="Workflow"> 
     <input type="hidden" title="labelNew" value="New Label"> 
     <input type="hidden" title="issueActionsHint" value="Begin typing for available operations or press down to see all"> 
     <input type="hidden" title="closelink" value="Close"> 
     <input type="hidden" title="dotOperations" value="Operations"> 
     <input type="hidden" title="dotLoading" value="Loading..."> 
     <input type="hidden" title="frotherSuggestions" value="Suggestions"> 
     <input type="hidden" title="frotherNomatches" value="No Matches"> 
     <input type="hidden" title="multiselectVersionsError" value="{0} is not a valid version."> 
     <input type="hidden" title="multiselectComponentsError" value="{0} is not a valid component."> 
     <input type="hidden" title="multiselectGenericError" value="The value {0} is invalid."> 
    </fieldset> 
   </footer> 
  </div> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:bigpipe-js/jira.webresources:bigpipe-js.js" data-wrm-key="jira.webresources:bigpipe-js" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["activity-panel-pipe-id"]="\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n    \u003cdiv class=\\\"tabwrap tabs2\\\"\u003e\\n\\n        \u003cul id=\\\"issue-tabs\\\" class=\\\"tabs horizontal\\\"\u003e\\n                                \\n            \u003cli  data-id=\\\"all-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\" data-label=\\\"All\\\" data-href=\\\"\\/jira\\/browse\\/DERBY-4679?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"all-tabpanel\\\" href=\\\"\\/jira\\/browse\\/DERBY-4679?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\"\u003e\u003cstrong\u003eAll\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  class=\\\"active\\\" id=\\\"comment-tabpanel\\\"  data-id=\\\"comment-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel\\\" data-label=\\\"Comments\\\" data-href=\\\"\\/jira\\/browse\\/DERBY-4679?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel\\\"\u003e\\n                            \u003cstrong tabindex=\\\"0\\\"\u003eComments\u003c\\/strong\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"worklog-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\" data-label=\\\"Work Log\\\" data-href=\\\"\\/jira\\/browse\\/DERBY-4679?page=com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"worklog-tabpanel\\\" href=\\\"\\/jira\\/browse\\/DERBY-4679?page=com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\"\u003e\u003cstrong\u003eWork Log\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"changehistory-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\" data-label=\\\"History\\\" data-href=\\\"\\/jira\\/browse\\/DERBY-4679?page=com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"changehistory-tabpanel\\\" href=\\\"\\/jira\\/browse\\/DERBY-4679?page=com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\"\u003e\u003cstrong\u003eHistory\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"activity-stream-issue-tab\\\" data-key=\\\"com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\" data-label=\\\"Activity\\\" data-href=\\\"\\/jira\\/browse\\/DERBY-4679?page=com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"activity-stream-issue-tab\\\" href=\\\"\\/jira\\/browse\\/DERBY-4679?page=com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\"\u003e\u003cstrong\u003eActivity\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"transitions-summary-tabpanel\\\" data-key=\\\"com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\" data-label=\\\"Transitions\\\" data-href=\\\"\\/jira\\/browse\\/DERBY-4679?page=com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"transitions-summary-tabpanel\\\" href=\\\"\\/jira\\/browse\\/DERBY-4679?page=com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\"\u003e\u003cstrong\u003eTransitions\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                \u003c\\/ul\u003e\\n\\n                    \u003cdiv class=\\\"sortwrap\\\"\u003e\\n                                    \u003ca class=\\\"issue-activity-sort-link ajax-activity-content\\\" rel=\\\"nofollow\\\" data-tab-sort data-order=\\\"desc\\\" href=\\\"\\/jira\\/browse\\/DERBY-4679?actionOrder=desc\\\" title=\\\"Ascending order - Click to sort in descending order\\\"\u003e\\n                        \u003cspan class=\\\"aui-icon aui-icon-small aui-iconfont-up\\\"\u003eAscending order - Click to sort in descending order\u003c\\/span\u003e\\n                    \u003c\\/a\u003e\\n                            \u003c\\/div\u003e\\n            \u003c\\/div\u003e\\n    \u003cdiv class=\\\"issuePanelWrapper\\\"\u003e\\n        \u003cdiv class=\\\"issuePanelProgress\\\"\u003e\u003c\\/div\u003e\\n        \u003cdiv class=\\\"issuePanelContainer\\\" id=\\\"issue_actions_container\\\"\u003e\\n                                    \\n\\n\\n\u003cdiv id=\\\"comment-12872179\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-4679?focusedCommentId=12872179&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12872179\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"knutanders\\\" id=\\\"commentauthor_12872179_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=knutanders\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"knutanders\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Knut Anders Hatlen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12872179_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'27\\/May\\/10 11:10\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-05-27T11:10:35+0000\'\u003e27\\/May\\/10 11:10\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eHi David,\u003c\\/p\u003e\\n\\n\u003cp\u003eIt would be helpful if you could post the schema for the tables involved in the query, including all constraints and indexes defined on them. Preferably also with enough rows to reproduce the problem.\u003cbr\\/\u003e\\n(The dblook utility could be used to extract schema information. See \u003ca href=\\\"http:\\/\\/db.apache.org\\/derby\\/docs\\/10.6\\/tools\\/ctoolsdblook.html\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/db.apache.org\\/derby\\/docs\\/10.6\\/tools\\/ctoolsdblook.html\u003c\\/a\u003e.)\u003c\\/p\u003e\\n\\n\u003cp\u003eThere\'s at least one wrong query result bug affecting joins (\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-4372\\\" title=\\\"Wrong result for simple join when index is created\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-4372\\\"\u003e\u003cdel\u003eDERBY-4372\u003c\\/del\u003e\u003c\\/a\u003e) in 10.5.3.0 that has been fixed in the recently released 10.6.1.0, so it might be worthwhile to check if the bug is still present in the latest version of Derby.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"knutanders\\\" id=\\\"commentauthor_12872179_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=knutanders\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"knutanders\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Knut Anders Hatlen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12872179_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'27\\/May\\/10 11:10\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-05-27T11:10:35+0000\'\u003e27\\/May\\/10 11:10\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Hi David, \\n\\n It would be helpful if you could post the schema for the tables involved in the query, including all constraints and indexes defined on them. Preferably also with enough rows to reproduce the problem. \\n(The dblook utility could be used to extract schema information. See  http:\\/\\/db.apache.org\\/derby\\/docs\\/10.6\\/tools\\/ctoolsdblook.html .) \\n\\n There\'s at least one wrong query result bug affecting joins (  DERBY-4372  ) in 10.5.3.0 that has been fixed in the recently released 10.6.1.0, so it might be worthwhile to check if the bug is still present in the latest version of Derby.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12872227\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-4679?focusedCommentId=12872227&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12872227\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dirichar\\\" id=\\\"commentauthor_12872227_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dirichar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dirichar\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e David Richards\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12872227_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'27\\/May\\/10 14:20\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-05-27T14:20:34+0000\'\u003e27\\/May\\/10 14:20\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI\'ve attached the output of dblook as db.sql and a simplified creation script as sample.sql that includes the relevant tables and columns with sample data.  I also verified that the bug still occurs in 10.6.1.0\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dirichar\\\" id=\\\"commentauthor_12872227_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dirichar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dirichar\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e David Richards\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12872227_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'27\\/May\\/10 14:20\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-05-27T14:20:34+0000\'\u003e27\\/May\\/10 14:20\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I\'ve attached the output of dblook as db.sql and a simplified creation script as sample.sql that includes the relevant tables and columns with sample data.  I also verified that the bug still occurs in 10.6.1.0              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12872352\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-4679?focusedCommentId=12872352&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12872352\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"knutanders\\\" id=\\\"commentauthor_12872352_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=knutanders\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"knutanders\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Knut Anders Hatlen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12872352_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'27\\/May\\/10 20:27\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-05-27T20:27:22+0000\'\u003e27\\/May\\/10 20:27\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThanks David. I\'m able to reproduce it with the scripts you attached.\u003c\\/p\u003e\\n\\n\u003cp\u003eI\'m a little puzzled by the fact that rewriting \\\"t3.FAMILY_ITEM_ID in(\'_5VetVWTeEd-Q8aOqWJPEIQ\')\\\" to \\\"t3.FAMILY_ITEM_ID = \'_5VetVWTeEd-Q8aOqWJPEIQ\'\\\" changes the result, since Derby actually does that internally before the statement is compiled.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"knutanders\\\" id=\\\"commentauthor_12872352_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=knutanders\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"knutanders\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Knut Anders Hatlen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12872352_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'27\\/May\\/10 20:27\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-05-27T20:27:22+0000\'\u003e27\\/May\\/10 20:27\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Thanks David. I\'m able to reproduce it with the scripts you attached. \\n\\n I\'m a little puzzled by the fact that rewriting \\\"t3.FAMILY_ITEM_ID in(\'_5VetVWTeEd-Q8aOqWJPEIQ\')\\\" to \\\"t3.FAMILY_ITEM_ID = \'_5VetVWTeEd-Q8aOqWJPEIQ\'\\\" changes the result, since Derby actually does that internally before the statement is compiled.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12873119\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-4679?focusedCommentId=12873119&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12873119\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dagw\\\" id=\\\"commentauthor_12873119_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dagw\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dagw\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dag H. Wanvik\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12873119_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/May\\/10 19:19\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-05-28T19:19:54+0000\'\u003e28\\/May\\/10 19:19\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Dag H. Wanvik - 29\\/May\\/10 16:35\\\"\u003eedited\u003c\\/span\u003e \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eWith this modified query (inner join t3)\u003c\\/p\u003e\\n\\n\u003cp\u003eselect distinct t1.ITEM_ID, t1.state_id, t1.JZ_DISCRIMINATOR from \u003cbr\\/\u003e\\n   (select * from LM.ABSTRACT_INSTANCE z1 where z1.JZ_DISCRIMINATOR = 238) t1 left outer join \u003cbr\\/\u003e\\n    LM.LAB_RESOURCE_OPERATINGSYSTEM j1 on (t1.ITEM_ID = j1.JZ_PARENT_ID) left outer join \u003cbr\\/\u003e\\n    LM.ABSTRACT_INSTANCE t2 on (j1.ITEM_ID = t2.ITEM_ID) left outer join \u003cbr\\/\u003e\\n    LM.OPERATING_SYSTEM_SOFTWARE_INSTALL j2 on (t2.ITEM_ID = j2.JZ_PARENT_ID) inner join\u003cbr\\/\u003e\\n    LM.ABSTRACT_INSTANCE t3 on (j2.ITEM_ID = t3.ITEM_ID) left outer join\u003cbr\\/\u003e\\n    LM.FAMILY t5 on (t2.FAMILY_ITEM_ID = t5.ITEM_ID) left outer join\u003cbr\\/\u003e\\n    LM.FAMILY t7 on (t1.FAMILY_ITEM_ID = t7.ITEM_ID) where \u003cbr\\/\u003e\\n        (t3.FAMILY_ITEM_ID in(\'_5VetVWTeEd-Q8aOqWJPEIQ\') and \u003cbr\\/\u003e\\n        (t5.ROOT_ITEM_ID = \'_5ZDlwWTeEd-Q8aOqWJPEIQ\') and \u003cbr\\/\u003e\\n        (t7.ROOT_ITEM_ID = \'_5nN9mmTeEd-Q8aOqWJPEIQ\'));\u003c\\/p\u003e\\n\\n\u003cp\u003ethe query works also with the IN formulation.  With the equality\u003cbr\\/\u003e\\nformulation, which was seen to work, the left outer join is\u003cbr\\/\u003e\\ninternally rewritten to inner join. Since the single value IN is rewritten to\u003cbr\\/\u003e\\nequality, Derby could have done that rewrite internally also for that\u003cbr\\/\u003e\\ncase, and the problem would presumably have gone away. I don\'t this\u003cbr\\/\u003e\\nthis is (necessarily) the root problem, though.\u003c\\/p\u003e\\n\\n\u003cp\u003eWith multiple values in the IN clause, this rewrite of the JOIN does\u003cbr\\/\u003e\\nnot happen, however, but that formulation also works. I tried to\u003cbr\\/\u003e\\ndisable temporarily the rewrite to equality  for the single value case\u003cbr\\/\u003e\\n(InListOperatorNode#preprocess), so as to use the multi-probing\u003cbr\\/\u003e\\nstrategy, but the query still fails. (edited: actually it works, finger trouble, see next comment)\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dagw\\\" id=\\\"commentauthor_12873119_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dagw\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dagw\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dag H. Wanvik\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12873119_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/May\\/10 19:19\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-05-28T19:19:54+0000\'\u003e28\\/May\\/10 19:19\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Dag H. Wanvik - 29\\/May\\/10 16:35\\\"\u003eedited\u003c\\/span\u003e                   With this modified query (inner join t3) \\n\\n select distinct t1.ITEM_ID, t1.state_id, t1.JZ_DISCRIMINATOR from  \\n   (select * from LM.ABSTRACT_INSTANCE z1 where z1.JZ_DISCRIMINATOR = 238) t1 left outer join  \\n    LM.LAB_RESOURCE_OPERATINGSYSTEM j1 on (t1.ITEM_ID = j1.JZ_PARENT_ID) left outer join  \\n    LM.ABSTRACT_INSTANCE t2 on (j1.ITEM_ID = t2.ITEM_ID) left outer join  \\n    LM.OPERATING_SYSTEM_SOFTWARE_INSTALL j2 on (t2.ITEM_ID = j2.JZ_PARENT_ID) inner join \\n    LM.ABSTRACT_INSTANCE t3 on (j2.ITEM_ID = t3.ITEM_ID) left outer join \\n    LM.FAMILY t5 on (t2.FAMILY_ITEM_ID = t5.ITEM_ID) left outer join \\n    LM.FAMILY t7 on (t1.FAMILY_ITEM_ID = t7.ITEM_ID) where  \\n        (t3.FAMILY_ITEM_ID in(\'_5VetVWTeEd-Q8aOqWJPEIQ\') and  \\n        (t5.ROOT_ITEM_ID = \'_5ZDlwWTeEd-Q8aOqWJPEIQ\') and  \\n        (t7.ROOT_ITEM_ID = \'_5nN9mmTeEd-Q8aOqWJPEIQ\')); \\n\\n the query works also with the IN formulation.  With the equality \\nformulation, which was seen to work, the left outer join is \\ninternally rewritten to inner join. Since the single value IN is rewritten to \\nequality, Derby could have done that rewrite internally also for that \\ncase, and the problem would presumably have gone away. I don\'t this \\nthis is (necessarily) the root problem, though. \\n\\n With multiple values in the IN clause, this rewrite of the JOIN does \\nnot happen, however, but that formulation also works. I tried to \\ndisable temporarily the rewrite to equality  for the single value case \\n(InListOperatorNode#preprocess), so as to use the multi-probing \\nstrategy, but the query still fails. (edited: actually it works, finger trouble, see next comment)              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12873127\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-4679?focusedCommentId=12873127&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12873127\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dagw\\\" id=\\\"commentauthor_12873127_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dagw\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dagw\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dag H. Wanvik\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12873127_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/May\\/10 19:44\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-05-28T19:44:23+0000\'\u003e28\\/May\\/10 19:44\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eAs far as trying the multi-probing case, I was foiled  by the check for same min and max value, which also short circuits to equality (InListOperatorNode, ca line 282). By also commenting out that section, thus forcing the probing strategy, the query worked.\u003cbr\\/\u003e\\nSo, it\'s the transformation to equality in this context which makes it fail somehow.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dagw\\\" id=\\\"commentauthor_12873127_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dagw\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dagw\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dag H. Wanvik\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12873127_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/May\\/10 19:44\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-05-28T19:44:23+0000\'\u003e28\\/May\\/10 19:44\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    As far as trying the multi-probing case, I was foiled  by the check for same min and max value, which also short circuits to equality (InListOperatorNode, ca line 282). By also commenting out that section, thus forcing the probing strategy, the query worked. \\nSo, it\'s the transformation to equality in this context which makes it fail somehow.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12873140\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-4679?focusedCommentId=12873140&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12873140\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dagw\\\" id=\\\"commentauthor_12873140_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dagw\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dagw\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dag H. Wanvik\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12873140_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/May\\/10 20:28\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-05-28T20:28:21+0000\'\u003e28\\/May\\/10 20:28\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eSee this all the way back to 10.0, so not a regression.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dagw\\\" id=\\\"commentauthor_12873140_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dagw\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dagw\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dag H. Wanvik\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12873140_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/May\\/10 20:28\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-05-28T20:28:21+0000\'\u003e28\\/May\\/10 20:28\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    See this all the way back to 10.0, so not a regression.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12873283\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-4679?focusedCommentId=12873283&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12873283\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dagw\\\" id=\\\"commentauthor_12873283_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dagw\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dagw\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dag H. Wanvik\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12873283_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/May\\/10 13:28\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-05-29T13:28:59+0000\'\u003e29\\/May\\/10 13:28\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Dag H. Wanvik - 29\\/May\\/10 16:20\\\"\u003eedited\u003c\\/span\u003e \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI enabled the calls of traceScanParameters in TableScanResultSet for the IN formulation and the equal formulation, uploaded as\u003cbr\\/\u003e\\ntrace-equal.log and trace-in.log. As can be seen, for the IN case, there are two qualifiers being applied to the table FAMILY,\u003cbr\\/\u003e\\nwhereas in the equal case there is only one, column id 1 (ITEM_ID), which is reasonable. In the IN case, there is also pushed down a qualifier on\u003cbr\\/\u003e\\ncolumn id 0 (STATE_ID) which seems wrong. Presumably this is why no rows qualify from FAMILY and hence leads to now rows in all result sets (see enclosed\u003cbr\\/\u003e\\nexecution plan, trace-exec-plan.log).\u003c\\/p\u003e\\n\\n\u003cp\u003e&#8211; Edited: The columns mentioned above for FAMILY should be 0: ITEM_ID, 1:ROOT_ITEM_ID. Later investigation shows that the qualifier on column 0 is wrong, see below. (STATE_ID is in another table, sorry for the confusion).\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dagw\\\" id=\\\"commentauthor_12873283_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dagw\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dagw\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dag H. Wanvik\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12873283_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/May\\/10 13:28\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-05-29T13:28:59+0000\'\u003e29\\/May\\/10 13:28\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Dag H. Wanvik - 29\\/May\\/10 16:20\\\"\u003eedited\u003c\\/span\u003e                   I enabled the calls of traceScanParameters in TableScanResultSet for the IN formulation and the equal formulation, uploaded as \\ntrace-equal.log and trace-in.log. As can be seen, for the IN case, there are two qualifiers being applied to the table FAMILY, \\nwhereas in the equal case there is only one, column id 1 (ITEM_ID), which is reasonable. In the IN case, there is also pushed down a qualifier on \\ncolumn id 0 (STATE_ID) which seems wrong. Presumably this is why no rows qualify from FAMILY and hence leads to now rows in all result sets (see enclosed \\nexecution plan, trace-exec-plan.log). \\n\\n &#8211; Edited: The columns mentioned above for FAMILY should be 0: ITEM_ID, 1:ROOT_ITEM_ID. Later investigation shows that the qualifier on column 0 is wrong, see below. (STATE_ID is in another table, sorry for the confusion).              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12873284\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-4679?focusedCommentId=12873284&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12873284\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dagw\\\" id=\\\"commentauthor_12873284_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dagw\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dagw\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dag H. Wanvik\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12873284_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/May\\/10 13:51\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-05-29T13:51:50+0000\'\u003e29\\/May\\/10 13:51\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eUploading the AST dump just after DMLStatementNode#optimizeStatement has called preprocess:\u003c\\/p\u003e\\n\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003ein-after-preprocess.log (wrong result)\u003c\\/li\u003e\\n\\t\u003cli\u003eins-after-preprocess.log (correct result)\u003c\\/li\u003e\\n\\t\u003cli\u003eequal-after-preprocess.log (correct result)\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003eI have normalized the node hash numbers for ease of comparison to be ascending integers.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dagw\\\" id=\\\"commentauthor_12873284_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dagw\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dagw\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dag H. Wanvik\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12873284_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/May\\/10 13:51\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-05-29T13:51:50+0000\'\u003e29\\/May\\/10 13:51\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Uploading the AST dump just after DMLStatementNode#optimizeStatement has called preprocess: \\n\\n \\n\\t in-after-preprocess.log (wrong result) \\n\\t ins-after-preprocess.log (correct result) \\n\\t equal-after-preprocess.log (correct result) \\n \\n\\n\\n I have normalized the node hash numbers for ease of comparison to be ascending integers.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12873298\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-4679?focusedCommentId=12873298&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12873298\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dagw\\\" id=\\\"commentauthor_12873298_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dagw\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dagw\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dag H. Wanvik\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12873298_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/May\\/10 16:10\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-05-29T16:10:59+0000\'\u003e29\\/May\\/10 16:10\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eLooking at in-after-preprocess.log, line 4551, I see a restriction predicate on T7 (LM.FAMILY):\u003c\\/p\u003e\\n\\n\u003cp\u003eT7.ITEM_ID = CharConstantNode@331\u003cspan class=\\\"error\\\"\u003e&#91;&#39;_5VetVWTeEd-Q8aOqWJPEIQ&#39;&#93;\u003c\\/span\u003e.\u003c\\/p\u003e\\n\\n\u003cp\u003eThis is wrong, because this constant is only ever used in the query against table T3 (LM.ABSTRACT_INSTANCE),\u003cbr\\/\u003e\\nand then against column FAMILY_ITEM_ID. This is the cause of the wrong qualifier which leads to 0 rows from FAMILY as seen.\u003c\\/p\u003e\\n\\n\u003cp\u003eOn the other hand, in ins-after-preprocess (correct result), we see two predicates in the final where clause (because the last two joins have been flattened, 4\u003cbr\\/\u003e\\nhalfouterjoinnodes remain:\u003c\\/p\u003e\\n\\n\u003cp\u003ea) t1.FAMILY_ITEM_ID = T7.ITEM_ID\u003cbr\\/\u003e\\nb) t2.FAMILY_ITEM_ID = T5.ITEM_ID\u003c\\/p\u003e\\n\\n\u003cp\u003eFor the single IN case (erroneous), we also have only 4 remaining halfouterjoinnodes, but the b) predicate in the final where clause is missing.\u003c\\/p\u003e\\n\\n\u003cp\u003eIn the equal-after-preprocess.log we see only three halfouterjoinnodes, since 3 joins have been flattened, and the final where predicate contains\u003cbr\\/\u003e\\na) and b) plus a new\u003c\\/p\u003e\\n\\n\u003cp\u003ec) J2.ITEM_ID = T3.ITEM_ID\u003c\\/p\u003e\\n\\n\u003cp\u003ewhich corresponds to the third but the last join, which have been flattened because of the equality. \u003cbr\\/\u003e\\nIn the erroneous case, the left outer join was not converted to an inner join since it did not contain an = operator at the time of LOJ-&gt;IJ conversion, so flattening did not happen\u003cbr\\/\u003e\\nand we are left with 4 halfouterjoinnodes. That is less than optimal, but should still work.\u003c\\/p\u003e\\n\\n\u003cp\u003eSomehow the preprocessing (all is fine after bind) of the simple IN case has gone wrong.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dagw\\\" id=\\\"commentauthor_12873298_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dagw\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dagw\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dag H. Wanvik\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12873298_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/May\\/10 16:10\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-05-29T16:10:59+0000\'\u003e29\\/May\\/10 16:10\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Looking at in-after-preprocess.log, line 4551, I see a restriction predicate on T7 (LM.FAMILY): \\n\\n T7.ITEM_ID = CharConstantNode@331 &#91;&#39;_5VetVWTeEd-Q8aOqWJPEIQ&#39;&#93; . \\n\\n This is wrong, because this constant is only ever used in the query against table T3 (LM.ABSTRACT_INSTANCE), \\nand then against column FAMILY_ITEM_ID. This is the cause of the wrong qualifier which leads to 0 rows from FAMILY as seen. \\n\\n On the other hand, in ins-after-preprocess (correct result), we see two predicates in the final where clause (because the last two joins have been flattened, 4 \\nhalfouterjoinnodes remain: \\n\\n a) t1.FAMILY_ITEM_ID = T7.ITEM_ID \\nb) t2.FAMILY_ITEM_ID = T5.ITEM_ID \\n\\n For the single IN case (erroneous), we also have only 4 remaining halfouterjoinnodes, but the b) predicate in the final where clause is missing. \\n\\n In the equal-after-preprocess.log we see only three halfouterjoinnodes, since 3 joins have been flattened, and the final where predicate contains \\na) and b) plus a new \\n\\n c) J2.ITEM_ID = T3.ITEM_ID \\n\\n which corresponds to the third but the last join, which have been flattened because of the equality.  \\nIn the erroneous case, the left outer join was not converted to an inner join since it did not contain an = operator at the time of LOJ-&gt;IJ conversion, so flattening did not happen \\nand we are left with 4 halfouterjoinnodes. That is less than optimal, but should still work. \\n\\n Somehow the preprocessing (all is fine after bind) of the simple IN case has gone wrong.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12873687\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-4679?focusedCommentId=12873687&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12873687\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dagw\\\" id=\\\"commentauthor_12873687_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dagw\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dagw\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dag H. Wanvik\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12873687_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'31\\/May\\/10 15:32\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-05-31T15:32:38+0000\'\u003e31\\/May\\/10 15:32\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eTwo data points: \u003c\\/p\u003e\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003eDisabling LOJ reordeable has no effect, so it is probably not related to \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-4471\\\" title=\\\"Left outer join reassociation rewrite gives wrong result\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-4471\\\"\u003e\u003cdel\u003eDERBY-4471\u003c\\/del\u003e\u003c\\/a\u003e\u003c\\/li\u003e\\n\\t\u003cli\u003eDisabling the call to transforOuterJoins in FromList#preprocess makes the query work\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dagw\\\" id=\\\"commentauthor_12873687_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dagw\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dagw\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dag H. Wanvik\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12873687_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'31\\/May\\/10 15:32\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-05-31T15:32:38+0000\'\u003e31\\/May\\/10 15:32\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Two data points:  \\n \\n\\t Disabling LOJ reordeable has no effect, so it is probably not related to   DERBY-4471   \\n\\t Disabling the call to transforOuterJoins in FromList#preprocess makes the query work \\n \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12873694\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-4679?focusedCommentId=12873694&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12873694\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dagw\\\" id=\\\"commentauthor_12873694_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dagw\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dagw\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dag H. Wanvik\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12873694_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'31\\/May\\/10 16:14\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-05-31T16:14:25+0000\'\u003e31\\/May\\/10 16:14\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Dag H. Wanvik - 31\\/May\\/10 21:32\\\"\u003eedited\u003c\\/span\u003e \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eWhile keeping the call to transforOuterJoins in FromList#preprocess disabled, I manage to get this version of the query to fail as well. The predicate on t3.FAMILY_ITEM_ID uses explicit equality here, but it not lead to rewrite to inner join of the LOJ with t3 in this case since I disabled transforOuterJoins.\u003c\\/p\u003e\\n\\n\u003cp\u003e\\\"select distinct t1.ITEM_ID, t1.state_id, t1.JZ_DISCRIMINATOR from \u003cbr\\/\u003e\\n (((((((select * from LM.ABSTRACT_INSTANCE z1 where z1.JZ_DISCRIMINATOR = 238) t1  \u003cbr\\/\u003e\\n        left outer join LM.LAB_RESOURCE_OPERATINGSYSTEM j1 on (t1.ITEM_ID = j1.JZ_PARENT_ID))  \u003cbr\\/\u003e\\n       left outer join LM.ABSTRACT_INSTANCE t2 on (j1.ITEM_ID = t2.ITEM_ID))  \u003cbr\\/\u003e\\n      left outer join LM.OPERATING_SYSTEM_SOFTWARE_INSTALL j2 on (t2.ITEM_ID = j2.JZ_PARENT_ID)) \u003cbr\\/\u003e\\n     left outer join LM.ABSTRACT_INSTANCE t3 on (j2.ITEM_ID = t3.ITEM_ID))  \u003cbr\\/\u003e\\n    inner join LM.FAMILY t5 on (t2.FAMILY_ITEM_ID = t5.ITEM_ID))  \u003cbr\\/\u003e\\n   inner join LM.FAMILY t7 on (t1.FAMILY_ITEM_ID = t7.ITEM_ID))  \u003cbr\\/\u003e\\n  where (t3.FAMILY_ITEM_ID =\'_5VetVWTeEd-Q8aOqWJPEIQ\' and  &lt;------------ explicit \\\"=\\\"  also fails when LOJ -&gt; IJ is disabled\u003cbr\\/\u003e\\n        (t5.ROOT_ITEM_ID = \'_5ZDlwWTeEd-Q8aOqWJPEIQ\') and  \u003cbr\\/\u003e\\n        (t7.ROOT_ITEM_ID =\'_5nN9mmTeEd-Q8aOqWJPEIQ\'))\\\"\u003c\\/p\u003e\\n\\n\u003cp\u003eThe LOJ-&gt;IJ rewrite is not logically required and the bug is now seen to be present without the LOJ-&gt;IJ rewriting happeing.\u003c\\/p\u003e\\n\\n\u003cp\u003eIn the above query, we have four remaining LOJs. This is also what resulted in the original case after IN is transformed to \'=\\\", since that happens too late for LOJ-&gt;IJ to kick in for that case. It does happen for the two last joins, as manually replicated in the above experiment.\u003c\\/p\u003e\\n\\n\u003cp\u003eI see that the reason the predicate \\\"= _5VetVWTeEd-Q8aOqWJPEIQ\\\" ends up on T7.ITEM_ID is because of the transitive closure computation in PredicatList#searchClauseTransitiveClosure. \u003c\\/p\u003e\\n\\n\u003cp\u003eCould it be that the precondition for that is wrong here: a predicate on t3 which has not been flattened is applied transitively to the T7, which has been?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dagw\\\" id=\\\"commentauthor_12873694_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dagw\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dagw\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dag H. Wanvik\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12873694_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'31\\/May\\/10 16:14\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-05-31T16:14:25+0000\'\u003e31\\/May\\/10 16:14\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Dag H. Wanvik - 31\\/May\\/10 21:32\\\"\u003eedited\u003c\\/span\u003e                   While keeping the call to transforOuterJoins in FromList#preprocess disabled, I manage to get this version of the query to fail as well. The predicate on t3.FAMILY_ITEM_ID uses explicit equality here, but it not lead to rewrite to inner join of the LOJ with t3 in this case since I disabled transforOuterJoins. \\n\\n \\\"select distinct t1.ITEM_ID, t1.state_id, t1.JZ_DISCRIMINATOR from  \\n (((((((select * from LM.ABSTRACT_INSTANCE z1 where z1.JZ_DISCRIMINATOR = 238) t1   \\n        left outer join LM.LAB_RESOURCE_OPERATINGSYSTEM j1 on (t1.ITEM_ID = j1.JZ_PARENT_ID))   \\n       left outer join LM.ABSTRACT_INSTANCE t2 on (j1.ITEM_ID = t2.ITEM_ID))   \\n      left outer join LM.OPERATING_SYSTEM_SOFTWARE_INSTALL j2 on (t2.ITEM_ID = j2.JZ_PARENT_ID))  \\n     left outer join LM.ABSTRACT_INSTANCE t3 on (j2.ITEM_ID = t3.ITEM_ID))   \\n    inner join LM.FAMILY t5 on (t2.FAMILY_ITEM_ID = t5.ITEM_ID))   \\n   inner join LM.FAMILY t7 on (t1.FAMILY_ITEM_ID = t7.ITEM_ID))   \\n  where (t3.FAMILY_ITEM_ID =\'_5VetVWTeEd-Q8aOqWJPEIQ\' and  &lt;------------ explicit \\\"=\\\"  also fails when LOJ -&gt; IJ is disabled \\n        (t5.ROOT_ITEM_ID = \'_5ZDlwWTeEd-Q8aOqWJPEIQ\') and   \\n        (t7.ROOT_ITEM_ID =\'_5nN9mmTeEd-Q8aOqWJPEIQ\'))\\\" \\n\\n The LOJ-&gt;IJ rewrite is not logically required and the bug is now seen to be present without the LOJ-&gt;IJ rewriting happeing. \\n\\n In the above query, we have four remaining LOJs. This is also what resulted in the original case after IN is transformed to \'=\\\", since that happens too late for LOJ-&gt;IJ to kick in for that case. It does happen for the two last joins, as manually replicated in the above experiment. \\n\\n I see that the reason the predicate \\\"= _5VetVWTeEd-Q8aOqWJPEIQ\\\" ends up on T7.ITEM_ID is because of the transitive closure computation in PredicatList#searchClauseTransitiveClosure.  \\n\\n Could it be that the precondition for that is wrong here: a predicate on t3 which has not been flattened is applied transitively to the T7, which has been?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12873761\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-4679?focusedCommentId=12873761&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12873761\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dagw\\\" id=\\\"commentauthor_12873761_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dagw\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dagw\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dag H. Wanvik\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12873761_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'31\\/May\\/10 19:24\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-05-31T19:24:42+0000\'\u003e31\\/May\\/10 19:24\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI am starting to convince myself it is plain wrong to apply the transitive closure to predicates on tables not from the outer equi-joins, cf\u003cbr\\/\u003e\\nthe explanation in the Sybase manual:\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"http:\\/\\/infocenter.sybase.com\\/help\\/index.jsp?topic=\\/com.sybase.infocenter.dc00743.1502\\/html\\/queryprocessing\\/queryprocessing8.htm\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/infocenter.sybase.com\\/help\\/index.jsp?topic=\\/com.sybase.infocenter.dc00743.1502\\/html\\/queryprocessing\\/queryprocessing8.htm\u003c\\/a\u003e\u003c\\/p\u003e\\n\\n\u003cp\u003e(quote):\u003cbr\\/\u003e\\n (predicate) Transitive closure is used only for normal equi-joins, as shown. join transitive closure is not performed for:\u003c\\/p\u003e\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003eNon-equi-joins; for example, t1.c1 &gt; t2.c2\u003c\\/li\u003e\\n\\t\u003cli\u003eOuter joins; for example, t1.c11 *= t2.c2, or left join or right join  (&lt;------------ NOTE! -Dag\'s emphasis)\u003c\\/li\u003e\\n\\t\u003cli\u003eJoins across subquery boundaries\u003c\\/li\u003e\\n\\t\u003cli\u003eJoins used to check referential integrity or the with check option on views\u003cbr\\/\u003e\\n(quote end)\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003eas well as the Derby docs which explains its rationale here:\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"http:\\/\\/db.apache.org\\/derby\\/docs\\/10.6\\/tuning\\/rtuntransform866587.html\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/db.apache.org\\/derby\\/docs\\/10.6\\/tuning\\/rtuntransform866587.html\u003c\\/a\u003e\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dagw\\\" id=\\\"commentauthor_12873761_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dagw\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dagw\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dag H. Wanvik\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12873761_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'31\\/May\\/10 19:24\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-05-31T19:24:42+0000\'\u003e31\\/May\\/10 19:24\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I am starting to convince myself it is plain wrong to apply the transitive closure to predicates on tables not from the outer equi-joins, cf \\nthe explanation in the Sybase manual: \\n\\n  http:\\/\\/infocenter.sybase.com\\/help\\/index.jsp?topic=\\/com.sybase.infocenter.dc00743.1502\\/html\\/queryprocessing\\/queryprocessing8.htm  \\n\\n (quote): \\n (predicate) Transitive closure is used only for normal equi-joins, as shown. join transitive closure is not performed for: \\n \\n\\t Non-equi-joins; for example, t1.c1 &gt; t2.c2 \\n\\t Outer joins; for example, t1.c11 *= t2.c2, or left join or right join  (&lt;------------ NOTE! -Dag\'s emphasis) \\n\\t Joins across subquery boundaries \\n\\t Joins used to check referential integrity or the with check option on views \\n(quote end) \\n \\n\\n\\n as well as the Derby docs which explains its rationale here: \\n\\n  http:\\/\\/db.apache.org\\/derby\\/docs\\/10.6\\/tuning\\/rtuntransform866587.html               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12873801\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-4679?focusedCommentId=12873801&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12873801\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dagw\\\" id=\\\"commentauthor_12873801_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dagw\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dagw\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dag H. Wanvik\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12873801_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'31\\/May\\/10 22:02\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-05-31T22:02:15+0000\'\u003e31\\/May\\/10 22:02\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Dag H. Wanvik - 31\\/May\\/10 22:04\\\"\u003eedited\u003c\\/span\u003e \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI see that in the table number for t3 in the predicate \\\"t3.FAMILY_ITEM_ID =\'_5VetVWTeEd-Q8aOqWJPEIQ\'\\\" is 9.\u003cbr\\/\u003e\\nHowever, so is also the table number for t1 in the equi-join clause \\\"t1.FAMILY_ITEM_ID = t7.ITEM_ID)\\\".\u003c\\/p\u003e\\n\\n\u003cp\u003eThis is the immediate reason why the bad predicate is added by the searchClauseTransitiveClosure logic, t3 is assumed to be the same as t1.\u003c\\/p\u003e\\n\\n\u003cp\u003et1 and t3 both have the same underlying base table, i.e. LM.ABSTRACT_INSTANCE.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dagw\\\" id=\\\"commentauthor_12873801_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dagw\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dagw\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dag H. Wanvik\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12873801_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'31\\/May\\/10 22:02\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-05-31T22:02:15+0000\'\u003e31\\/May\\/10 22:02\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Dag H. Wanvik - 31\\/May\\/10 22:04\\\"\u003eedited\u003c\\/span\u003e                   I see that in the table number for t3 in the predicate \\\"t3.FAMILY_ITEM_ID =\'_5VetVWTeEd-Q8aOqWJPEIQ\'\\\" is 9. \\nHowever, so is also the table number for t1 in the equi-join clause \\\"t1.FAMILY_ITEM_ID = t7.ITEM_ID)\\\". \\n\\n This is the immediate reason why the bad predicate is added by the searchClauseTransitiveClosure logic, t3 is assumed to be the same as t1. \\n\\n t1 and t3 both have the same underlying base table, i.e. LM.ABSTRACT_INSTANCE.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12874256\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-4679?focusedCommentId=12874256&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12874256\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dagw\\\" id=\\\"commentauthor_12874256_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dagw\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dagw\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dag H. Wanvik\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12874256_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Jun\\/10 21:42\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-06-01T21:42:45+0000\'\u003e01\\/Jun\\/10 21:42\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI now believe this is a bug related to \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-2526\\\" title=\\\"Wrong results with queries that use the JOIN ... ON syntax to join with views or other non-base table expressions.\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-2526\\\"\u003e\u003cdel\u003eDERBY-2526\u003c\\/del\u003e\u003c\\/a\u003e and \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-3023\\\" title=\\\"Different result rows depending on the sequence of INNER JOIN and OUTER JOIN\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-3023\\\"\u003e\u003cdel\u003eDERBY-3023\u003c\\/del\u003e\u003c\\/a\u003e.\u003cbr\\/\u003e\\nWhen equi-joins are flattened (JoinNode#flatten), the column references are remapped, cf. calls to\u003cbr\\/\u003e\\nremapColumnReferencesToExpressions.\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-2526\\\" title=\\\"Wrong results with queries that use the JOIN ... ON syntax to join with views or other non-base table expressions.\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-2526\\\"\u003e\u003cdel\u003eDERBY-2526\u003c\\/del\u003e\u003c\\/a\u003e uncovered a weakness in this remapping in that only table\u003cbr\\/\u003e\\nnumber were updated, not column numbers. The fix to \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-2526\\\" title=\\\"Wrong results with queries that use the JOIN ... ON syntax to join with views or other non-base table expressions.\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-2526\\\"\u003e\u003cdel\u003eDERBY-2526\u003c\\/del\u003e\u003c\\/a\u003e\u003cbr\\/\u003e\\ncontains this line in\u003cbr\\/\u003e\\nColumnReference#remapColumnReferencesToExpressions:\u003c\\/p\u003e\\n\\n\u003cp\u003e   ResultColumn ftRC =\u003cbr\\/\u003e\\n       ft.getResultColumns().getResultColumn(columnName);\u003c\\/p\u003e\\n\\n\u003cp\u003eUnfortunately, in this query, using the columnName will not uniquely\u003cbr\\/\u003e\\nidentify the correct result column, since the multi-way\'s concatenated\u003cbr\\/\u003e\\nlist of result columns (cf. the write-up attached to \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-2526\\\" title=\\\"Wrong results with queries that use the JOIN ... ON syntax to join with views or other non-base table expressions.\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-2526\\\"\u003e\u003cdel\u003eDERBY-2526\u003c\\/del\u003e\u003c\\/a\u003e:\u003cbr\\/\u003e\\n\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/attachment\\/12358291\\/d2526_v1.html\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttps:\\/\\/issues.apache.org\\/jira\\/secure\\/attachment\\/12358291\\/d2526_v1.html\u003c\\/a\u003e)\u003cbr\\/\u003e\\ncontains several columns with the same names, resulting from the fact\u003cbr\\/\u003e\\nthat the query contains self-joins on ABSTRACT_INSTANCE): z1\\/t1, t2\u003cbr\\/\u003e\\nand t3.\u003c\\/p\u003e\\n\\n\u003cp\u003eTo see this happening, apply the patch show.diff and run the attached\u003cbr\\/\u003e\\nprogram Foo.java.  I believe this causes one or more of remappings to\u003cbr\\/\u003e\\ngo awry. The immediate problem is that the remapping of\u003cbr\\/\u003e\\nt3.FAMILY_ITEM_ID chooses the first occurence of FAMILY_ITEM_ID and\u003cbr\\/\u003e\\nands up with the occurence for z1\\/t1, which leads to the fatal mixup.\u003c\\/p\u003e\\n\\n\\n\u003cp\u003eOutput seen:\u003c\\/p\u003e\\n\\n\u003chr \\/\u003e\\n\u003cp\u003emap before: T1.ITEM_ID \u003cspan class=\\\"error\\\"\u003e&#91;null&#93;\u003c\\/span\u003e (tablenum, colnum) = (0, 2) VCid=2\u003cbr\\/\u003e\\nFound 6 columns of the name ITEM_ID\u003cbr\\/\u003e\\nmap after: T1.ITEM_ID \u003cspan class=\\\"error\\\"\u003e&#91;null&#93;\u003c\\/span\u003e (tablenum, colnum) = (11, 2) VCid=2 map from VirtualColumnId\u003cbr\\/\u003e\\nmap before: T1.STATE_ID \u003cspan class=\\\"error\\\"\u003e&#91;null&#93;\u003c\\/span\u003e (tablenum, colnum) = (0, 4) VCid=4\u003cbr\\/\u003e\\nFound 3 columns of the name STATE_ID\u003cbr\\/\u003e\\nmap after: T1.STATE_ID \u003cspan class=\\\"error\\\"\u003e&#91;null&#93;\u003c\\/span\u003e (tablenum, colnum) = (11, 4) VCid=4 map from VirtualColumnId\u003cbr\\/\u003e\\nmap before: T1.JZ_DISCRIMINATOR \u003cspan class=\\\"error\\\"\u003e&#91;null&#93;\u003c\\/span\u003e (tablenum, colnum) = (0, 1) VCid=1\u003cbr\\/\u003e\\nFound 3 columns of the name JZ_DISCRIMINATOR\u003cbr\\/\u003e\\nmap after: T1.JZ_DISCRIMINATOR \u003cspan class=\\\"error\\\"\u003e&#91;null&#93;\u003c\\/span\u003e (tablenum, colnum) = (11, 1) VCid=1 map from VirtualColumnId\u003cbr\\/\u003e\\nmap before: T3.FAMILY_ITEM_ID \u003cspan class=\\\"error\\\"\u003e&#91;null&#93;\u003c\\/span\u003e (tablenum, colnum) = (8, 3) VCid=17\u003cbr\\/\u003e\\nFound 3 columns of the name FAMILY_ITEM_ID\u003cbr\\/\u003e\\nmap after: T3.FAMILY_ITEM_ID \u003cspan class=\\\"error\\\"\u003e&#91;null&#93;\u003c\\/span\u003e (tablenum, colnum) = (11, 3) VCid=17 map from VirtualColumnId\u003cbr\\/\u003e\\nmap before: T5.ROOT_ITEM_ID \u003cspan class=\\\"error\\\"\u003e&#91;null&#93;\u003c\\/span\u003e (tablenum, colnum) = (10, 2) VCid=21\u003cbr\\/\u003e\\nmap after: T5.ROOT_ITEM_ID \u003cspan class=\\\"error\\\"\u003e&#91;null&#93;\u003c\\/span\u003e (tablenum, colnum) = (11, 21) VCid=21 map from VirtualColumnId\u003cbr\\/\u003e\\nmap before: T7.ROOT_ITEM_ID \u003cspan class=\\\"error\\\"\u003e&#91;T7&#93;\u003c\\/span\u003e (tablenum, colnum) = (12, 2) VCid=23\u003cbr\\/\u003e\\nmap after: T7.ROOT_ITEM_ID \u003cspan class=\\\"error\\\"\u003e&#91;T7&#93;\u003c\\/span\u003e (tablenum, colnum) = (12, 2) VCid=23 map from ColumnPosition\u003cbr\\/\u003e\\nmap before: T1.VISIBILITY \u003cspan class=\\\"error\\\"\u003e&#91;null&#93;\u003c\\/span\u003e (tablenum, colnum) = (0, 5) VCid=5\u003cbr\\/\u003e\\nFound 3 columns of the name VISIBILITY\u003cbr\\/\u003e\\nmap after: T1.VISIBILITY \u003cspan class=\\\"error\\\"\u003e&#91;null&#93;\u003c\\/span\u003e (tablenum, colnum) = (11, 5) VCid=5 map from VirtualColumnId\u003c\\/p\u003e\\n\u003chr \\/\u003e\\n\u003cp\u003emap before: T1.ITEM_ID \u003cspan class=\\\"error\\\"\u003e&#91;null&#93;\u003c\\/span\u003e (tablenum, colnum) = (11, 2) VCid=2\u003cbr\\/\u003e\\nFound 5 columns of the name ITEM_ID\u003cbr\\/\u003e\\nmap after: T1.ITEM_ID \u003cspan class=\\\"error\\\"\u003e&#91;null&#93;\u003c\\/span\u003e (tablenum, colnum) = (9, 2) VCid=2 map from VirtualColumnId\u003cbr\\/\u003e\\nmap before: T1.STATE_ID \u003cspan class=\\\"error\\\"\u003e&#91;null&#93;\u003c\\/span\u003e (tablenum, colnum) = (11, 4) VCid=4\u003cbr\\/\u003e\\nmap after: T1.STATE_ID \u003cspan class=\\\"error\\\"\u003e&#91;null&#93;\u003c\\/span\u003e (tablenum, colnum) = (9, 4) VCid=4 map from VirtualColumnId\u003cbr\\/\u003e\\nmap before: T1.JZ_DISCRIMINATOR \u003cspan class=\\\"error\\\"\u003e&#91;null&#93;\u003c\\/span\u003e (tablenum, colnum) = (11, 1) VCid=1\u003cbr\\/\u003e\\nmap after: T1.JZ_DISCRIMINATOR \u003cspan class=\\\"error\\\"\u003e&#91;null&#93;\u003c\\/span\u003e (tablenum, colnum) = (9, 1) VCid=1 map from VirtualColumnId\u003cbr\\/\u003e\\nmap before: T3.FAMILY_ITEM_ID \u003cspan class=\\\"error\\\"\u003e&#91;null&#93;\u003c\\/span\u003e (tablenum, colnum) = (11, 3) VCid=17\u003cbr\\/\u003e\\nFound 3 columns of the name FAMILY_ITEM_ID\u003cbr\\/\u003e\\nmap after: T3.FAMILY_ITEM_ID \u003cspan class=\\\"error\\\"\u003e&#91;null&#93;\u003c\\/span\u003e (tablenum, colnum) = (9, 3) VCid=17 map from VirtualColumnId\u003cbr\\/\u003e\\nmap before: T5.ROOT_ITEM_ID \u003cspan class=\\\"error\\\"\u003e&#91;T5&#93;\u003c\\/span\u003e (tablenum, colnum) = (11, 21) VCid=21\u003cbr\\/\u003e\\nmap after: T5.ROOT_ITEM_ID \u003cspan class=\\\"error\\\"\u003e&#91;T5&#93;\u003c\\/span\u003e (tablenum, colnum) = (10, 2) VCid=21 map from ColumnPosition\u003cbr\\/\u003e\\nmap before: T1.VISIBILITY \u003cspan class=\\\"error\\\"\u003e&#91;null&#93;\u003c\\/span\u003e (tablenum, colnum) = (11, 5) VCid=5\u003cbr\\/\u003e\\nmap after: T1.VISIBILITY \u003cspan class=\\\"error\\\"\u003e&#91;null&#93;\u003c\\/span\u003e (tablenum, colnum) = (9, 5) VCid=5 map from VirtualColumnId\u003cbr\\/\u003e\\nmap before: T1.FAMILY_ITEM_ID \u003cspan class=\\\"error\\\"\u003e&#91;null&#93;\u003c\\/span\u003e (tablenum, colnum) = (0, 3) VCid=3\u003cbr\\/\u003e\\nFound 3 columns of the name FAMILY_ITEM_ID\u003cbr\\/\u003e\\nmap after: T1.FAMILY_ITEM_ID \u003cspan class=\\\"error\\\"\u003e&#91;null&#93;\u003c\\/span\u003e (tablenum, colnum) = (9, 3) VCid=3 map from VirtualColumnId\u003c\\/p\u003e\\n\u003chr \\/\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dagw\\\" id=\\\"commentauthor_12874256_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dagw\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dagw\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dag H. Wanvik\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12874256_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Jun\\/10 21:42\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-06-01T21:42:45+0000\'\u003e01\\/Jun\\/10 21:42\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I now believe this is a bug related to   DERBY-2526   and   DERBY-3023  . \\nWhen equi-joins are flattened (JoinNode#flatten), the column references are remapped, cf. calls to \\nremapColumnReferencesToExpressions. \\n\\n   DERBY-2526   uncovered a weakness in this remapping in that only table \\nnumber were updated, not column numbers. The fix to   DERBY-2526   \\ncontains this line in \\nColumnReference#remapColumnReferencesToExpressions: \\n\\n    ResultColumn ftRC = \\n       ft.getResultColumns().getResultColumn(columnName); \\n\\n Unfortunately, in this query, using the columnName will not uniquely \\nidentify the correct result column, since the multi-way\'s concatenated \\nlist of result columns (cf. the write-up attached to   DERBY-2526  : \\n https:\\/\\/issues.apache.org\\/jira\\/secure\\/attachment\\/12358291\\/d2526_v1.html ) \\ncontains several columns with the same names, resulting from the fact \\nthat the query contains self-joins on ABSTRACT_INSTANCE): z1\\/t1, t2 \\nand t3. \\n\\n To see this happening, apply the patch show.diff and run the attached \\nprogram Foo.java.  I believe this causes one or more of remappings to \\ngo awry. The immediate problem is that the remapping of \\nt3.FAMILY_ITEM_ID chooses the first occurence of FAMILY_ITEM_ID and \\nands up with the occurence for z1\\/t1, which leads to the fatal mixup. \\n\\n\\n Output seen: \\n\\n \\n map before: T1.ITEM_ID  &#91;null&#93;  (tablenum, colnum) = (0, 2) VCid=2 \\nFound 6 columns of the name ITEM_ID \\nmap after: T1.ITEM_ID  &#91;null&#93;  (tablenum, colnum) = (11, 2) VCid=2 map from VirtualColumnId \\nmap before: T1.STATE_ID  &#91;null&#93;  (tablenum, colnum) = (0, 4) VCid=4 \\nFound 3 columns of the name STATE_ID \\nmap after: T1.STATE_ID  &#91;null&#93;  (tablenum, colnum) = (11, 4) VCid=4 map from VirtualColumnId \\nmap before: T1.JZ_DISCRIMINATOR  &#91;null&#93;  (tablenum, colnum) = (0, 1) VCid=1 \\nFound 3 columns of the name JZ_DISCRIMINATOR \\nmap after: T1.JZ_DISCRIMINATOR  &#91;null&#93;  (tablenum, colnum) = (11, 1) VCid=1 map from VirtualColumnId \\nmap before: T3.FAMILY_ITEM_ID  &#91;null&#93;  (tablenum, colnum) = (8, 3) VCid=17 \\nFound 3 columns of the name FAMILY_ITEM_ID \\nmap after: T3.FAMILY_ITEM_ID  &#91;null&#93;  (tablenum, colnum) = (11, 3) VCid=17 map from VirtualColumnId \\nmap before: T5.ROOT_ITEM_ID  &#91;null&#93;  (tablenum, colnum) = (10, 2) VCid=21 \\nmap after: T5.ROOT_ITEM_ID  &#91;null&#93;  (tablenum, colnum) = (11, 21) VCid=21 map from VirtualColumnId \\nmap before: T7.ROOT_ITEM_ID  &#91;T7&#93;  (tablenum, colnum) = (12, 2) VCid=23 \\nmap after: T7.ROOT_ITEM_ID  &#91;T7&#93;  (tablenum, colnum) = (12, 2) VCid=23 map from ColumnPosition \\nmap before: T1.VISIBILITY  &#91;null&#93;  (tablenum, colnum) = (0, 5) VCid=5 \\nFound 3 columns of the name VISIBILITY \\nmap after: T1.VISIBILITY  &#91;null&#93;  (tablenum, colnum) = (11, 5) VCid=5 map from VirtualColumnId \\n \\n map before: T1.ITEM_ID  &#91;null&#93;  (tablenum, colnum) = (11, 2) VCid=2 \\nFound 5 columns of the name ITEM_ID \\nmap after: T1.ITEM_ID  &#91;null&#93;  (tablenum, colnum) = (9, 2) VCid=2 map from VirtualColumnId \\nmap before: T1.STATE_ID  &#91;null&#93;  (tablenum, colnum) = (11, 4) VCid=4 \\nmap after: T1.STATE_ID  &#91;null&#93;  (tablenum, colnum) = (9, 4) VCid=4 map from VirtualColumnId \\nmap before: T1.JZ_DISCRIMINATOR  &#91;null&#93;  (tablenum, colnum) = (11, 1) VCid=1 \\nmap after: T1.JZ_DISCRIMINATOR  &#91;null&#93;  (tablenum, colnum) = (9, 1) VCid=1 map from VirtualColumnId \\nmap before: T3.FAMILY_ITEM_ID  &#91;null&#93;  (tablenum, colnum) = (11, 3) VCid=17 \\nFound 3 columns of the name FAMILY_ITEM_ID \\nmap after: T3.FAMILY_ITEM_ID  &#91;null&#93;  (tablenum, colnum) = (9, 3) VCid=17 map from VirtualColumnId \\nmap before: T5.ROOT_ITEM_ID  &#91;T5&#93;  (tablenum, colnum) = (11, 21) VCid=21 \\nmap after: T5.ROOT_ITEM_ID  &#91;T5&#93;  (tablenum, colnum) = (10, 2) VCid=21 map from ColumnPosition \\nmap before: T1.VISIBILITY  &#91;null&#93;  (tablenum, colnum) = (11, 5) VCid=5 \\nmap after: T1.VISIBILITY  &#91;null&#93;  (tablenum, colnum) = (9, 5) VCid=5 map from VirtualColumnId \\nmap before: T1.FAMILY_ITEM_ID  &#91;null&#93;  (tablenum, colnum) = (0, 3) VCid=3 \\nFound 3 columns of the name FAMILY_ITEM_ID \\nmap after: T1.FAMILY_ITEM_ID  &#91;null&#93;  (tablenum, colnum) = (9, 3) VCid=3 map from VirtualColumnId \\n              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12874258\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-4679?focusedCommentId=12874258&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12874258\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dagw\\\" id=\\\"commentauthor_12874258_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dagw\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dagw\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dag H. Wanvik\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12874258_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Jun\\/10 21:51\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-06-01T21:51:02+0000\'\u003e01\\/Jun\\/10 21:51\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eJust for the record, the fix to \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-2526\\\" title=\\\"Wrong results with queries that use the JOIN ... ON syntax to join with views or other non-base table expressions.\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-2526\\\"\u003e\u003cdel\u003eDERBY-2526\u003c\\/del\u003e\u003c\\/a\u003e didn\'t \u003cb\u003ecause\u003c\\/b\u003e this problem, it\'s just that the solution is not sufficient for this case.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dagw\\\" id=\\\"commentauthor_12874258_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dagw\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dagw\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dag H. Wanvik\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12874258_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'01\\/Jun\\/10 21:51\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-06-01T21:51:02+0000\'\u003e01\\/Jun\\/10 21:51\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Just for the record, the fix to   DERBY-2526   didn\'t  cause  this problem, it\'s just that the solution is not sufficient for this case.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12874791\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-4679?focusedCommentId=12874791&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12874791\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dagw\\\" id=\\\"commentauthor_12874791_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dagw\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dagw\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dag H. Wanvik\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12874791_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'02\\/Jun\\/10 20:45\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-06-02T20:45:36+0000\'\u003e02\\/Jun\\/10 20:45\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eUploading drawing.txt of the query tree at three instances in time, decorated with\u003cbr\\/\u003e\\n(tablenumber, column number) for join predicates and search predicates:\u003c\\/p\u003e\\n\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003ebefore flattening\u003c\\/li\u003e\\n\\t\u003cli\u003eafter flattening of IJ with T7\u003c\\/li\u003e\\n\\t\u003cli\u003eafter flattening of IJ with T5\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003eThis shows in yet another way how \\\"t3.FAMILY_ITEM_ID\\\" gets the wrong column number during the flattening process. \u003c\\/p\u003e\\n\\n\u003cp\u003eI still don\'t have a suggestion for how to fix this problem, since the old approach seems broken: Somehow, the correct result column should be identified using \u003cb\u003eboth\u003c\\/b\u003e the table alias \u003cb\u003eand\u003c\\/b\u003e the column name involved. Maybe looking into the matching result columns searching for its alias could work to disambiguate the result column search, if we are always able to find it.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dagw\\\" id=\\\"commentauthor_12874791_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dagw\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dagw\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dag H. Wanvik\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12874791_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'02\\/Jun\\/10 20:45\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-06-02T20:45:36+0000\'\u003e02\\/Jun\\/10 20:45\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Uploading drawing.txt of the query tree at three instances in time, decorated with \\n(tablenumber, column number) for join predicates and search predicates: \\n\\n \\n\\t before flattening \\n\\t after flattening of IJ with T7 \\n\\t after flattening of IJ with T5 \\n \\n\\n\\n This shows in yet another way how \\\"t3.FAMILY_ITEM_ID\\\" gets the wrong column number during the flattening process.  \\n\\n I still don\'t have a suggestion for how to fix this problem, since the old approach seems broken: Somehow, the correct result column should be identified using  both  the table alias  and  the column name involved. Maybe looking into the matching result columns searching for its alias could work to disambiguate the result column search, if we are always able to find it.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12875163\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-4679?focusedCommentId=12875163&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12875163\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dagw\\\" id=\\\"commentauthor_12875163_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dagw\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dagw\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dag H. Wanvik\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12875163_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Jun\\/10 15:52\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-06-03T15:52:28+0000\'\u003e03\\/Jun\\/10 15:52\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Dag H. Wanvik - 03\\/Jun\\/10 15:56\\\"\u003eedited\u003c\\/span\u003e \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eIn updated drawing.txt, the search predicate which has a wrong column number is given as:\u003c\\/p\u003e\\n\\n\u003cp\u003e  t3.FAMILY_ITEM_ID =\'_5VetVWTeEd-Q8aOqWJPEIQ\'= (9,3) still wrong, should be (9,13)\u003c\\/p\u003e\\n\\n\u003cp\u003eBy manually tweaking it, the query ran successfully.\u003cbr\\/\u003e\\nSo, getting the column re-binding right would fix the problem.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dagw\\\" id=\\\"commentauthor_12875163_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dagw\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dagw\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dag H. Wanvik\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12875163_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Jun\\/10 15:52\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-06-03T15:52:28+0000\'\u003e03\\/Jun\\/10 15:52\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Dag H. Wanvik - 03\\/Jun\\/10 15:56\\\"\u003eedited\u003c\\/span\u003e                   In updated drawing.txt, the search predicate which has a wrong column number is given as: \\n\\n   t3.FAMILY_ITEM_ID =\'_5VetVWTeEd-Q8aOqWJPEIQ\'= (9,3) still wrong, should be (9,13) \\n\\n By manually tweaking it, the query ran successfully. \\nSo, getting the column re-binding right would fix the problem.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12875465\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-4679?focusedCommentId=12875465&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12875465\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"bryanpendleton\\\" id=\\\"commentauthor_12875465_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=bryanpendleton\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"bryanpendleton\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Bryan Pendleton\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12875465_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Jun\\/10 04:29\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-06-04T04:29:57+0000\'\u003e04\\/Jun\\/10 04:29\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003e&gt; The immediate problem is that the remapping of \u003cbr\\/\u003e\\n&gt; t3.FAMILY_ITEM_ID chooses the first occurence of FAMILY_ITEM_ID and \u003cbr\\/\u003e\\n&gt; ands up with the occurence for z1\\/t1, which leads to the fatal mixup. \u003c\\/p\u003e\\n\\n\u003cp\u003eYour analysis makes sense to me. Thanks for taking the time to prepare\u003cbr\\/\u003e\\nthe clear writeups and supporting materials. \u003c\\/p\u003e\\n\\n\u003cp\u003e&gt;  using the columnName will not uniquely \u003cbr\\/\u003e\\n&gt; identify the correct result column, since the multi-way\'s concatenated \u003cbr\\/\u003e\\n&gt; list of result columns contains several columns with the same names,\u003c\\/p\u003e\\n\\n\u003cp\u003eIt seems like the \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-2526\\\" title=\\\"Wrong results with queries that use the JOIN ... ON syntax to join with views or other non-base table expressions.\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-2526\\\"\u003e\u003cdel\u003eDERBY-2526\u003c\\/del\u003e\u003c\\/a\u003e fix did not expect this to occur, and that\'s where\u003cbr\\/\u003e\\nthe problem lies.\u003c\\/p\u003e\\n\\n\u003cp\u003eCan we widen the interface to the getResultColumn() API so that we can\u003cbr\\/\u003e\\ntell it specifically which table number we want the desired column to reside in?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"bryanpendleton\\\" id=\\\"commentauthor_12875465_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=bryanpendleton\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"bryanpendleton\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Bryan Pendleton\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12875465_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Jun\\/10 04:29\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-06-04T04:29:57+0000\'\u003e04\\/Jun\\/10 04:29\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    &gt; The immediate problem is that the remapping of  \\n&gt; t3.FAMILY_ITEM_ID chooses the first occurence of FAMILY_ITEM_ID and  \\n&gt; ands up with the occurence for z1\\/t1, which leads to the fatal mixup.  \\n\\n Your analysis makes sense to me. Thanks for taking the time to prepare \\nthe clear writeups and supporting materials.  \\n\\n &gt;  using the columnName will not uniquely  \\n&gt; identify the correct result column, since the multi-way\'s concatenated  \\n&gt; list of result columns contains several columns with the same names, \\n\\n It seems like the   DERBY-2526   fix did not expect this to occur, and that\'s where \\nthe problem lies. \\n\\n Can we widen the interface to the getResultColumn() API so that we can \\ntell it specifically which table number we want the desired column to reside in?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12875590\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-4679?focusedCommentId=12875590&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12875590\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dagw\\\" id=\\\"commentauthor_12875590_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dagw\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dagw\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dag H. Wanvik\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12875590_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Jun\\/10 13:20\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-06-04T13:20:13+0000\'\u003e04\\/Jun\\/10 13:20\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThanks for your comments, Bryan! Yes, I agree with you proposal that the API could be adjusted here.\u003cbr\\/\u003e\\nI am currently working with an experiment to extend that API method with the desired table&amp;column number instead of the string.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dagw\\\" id=\\\"commentauthor_12875590_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dagw\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dagw\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dag H. Wanvik\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12875590_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Jun\\/10 13:20\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-06-04T13:20:13+0000\'\u003e04\\/Jun\\/10 13:20\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Thanks for your comments, Bryan! Yes, I agree with you proposal that the API could be adjusted here. \\nI am currently working with an experiment to extend that API method with the desired table&amp;column number instead of the string.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12875810\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-4679?focusedCommentId=12875810&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12875810\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dagw\\\" id=\\\"commentauthor_12875810_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dagw\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dagw\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dag H. Wanvik\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12875810_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Jun\\/10 00:34\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-06-05T00:34:01+0000\'\u003e05\\/Jun\\/10 00:34\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eAttaching a patch which makes the query work basically using the approach suggested.\u003cbr\\/\u003e\\nIt turns out to be slightly more involved than that, cf the code comments, in that\u003c\\/p\u003e\\n\\n\u003cp\u003e  a) we fall back on the column name approach when the CR refers to a base table\u003cbr\\/\u003e\\n  b) we have to save the original (tn, cn) pair between flattenings to make the new approach work for multiple join flattenings. \u003c\\/p\u003e\\n\\n\u003cp\u003eThe repro showcases the need for both the above modifications to the basic approach.\u003c\\/p\u003e\\n\\n\u003cp\u003eIt also adds the test case to JoinTest in a new fixture. Regressions ran ok.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dagw\\\" id=\\\"commentauthor_12875810_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dagw\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dagw\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dag H. Wanvik\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12875810_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Jun\\/10 00:34\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-06-05T00:34:01+0000\'\u003e05\\/Jun\\/10 00:34\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Attaching a patch which makes the query work basically using the approach suggested. \\nIt turns out to be slightly more involved than that, cf the code comments, in that \\n\\n   a) we fall back on the column name approach when the CR refers to a base table \\n  b) we have to save the original (tn, cn) pair between flattenings to make the new approach work for multiple join flattenings.  \\n\\n The repro showcases the need for both the above modifications to the basic approach. \\n\\n It also adds the test case to JoinTest in a new fixture. Regressions ran ok.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12875820\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-4679?focusedCommentId=12875820&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12875820\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"bryanpendleton\\\" id=\\\"commentauthor_12875820_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=bryanpendleton\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"bryanpendleton\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Bryan Pendleton\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12875820_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Jun\\/10 01:20\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-06-05T01:20:25+0000\'\u003e05\\/Jun\\/10 01:20\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eHi Dag, thanks for the patch!\u003c\\/p\u003e\\n\\n\u003cp\u003eI see what you mean, that it\'s a slightly involved patch, but I haven\'t thought\u003cbr\\/\u003e\\nof any ways to simplify this; it\'s a slightly involved problem after all \u003cimg class=\\\"emoticon\\\" src=\\\"\\/jira\\/images\\/icons\\/emoticons\\/smile.png\\\" height=\\\"16\\\" width=\\\"16\\\" align=\\\"absmiddle\\\" alt=\\\"\\\" border=\\\"0\\\"\\/\u003e\u003c\\/p\u003e\\n\\n\u003cp\u003eThe patch may have a few tab-versus-space issues, in particular the\u003cbr\\/\u003e\\nblock comment around line 860 of ColumnReference.java seemed to\u003cbr\\/\u003e\\nhave whitespace-only modifications.\u003c\\/p\u003e\\n\\n\u003cp\u003eIt might be nice to add an additional sentence or two to the method\u003cbr\\/\u003e\\ncomments for the new getResultColumn method in ResultColumnList\u003cbr\\/\u003e\\nto indicate that access by the (table-number,column-number) pair is\u003cbr\\/\u003e\\nused by the optimizer when it is flattening queries, and has to use\u003cbr\\/\u003e\\nthis information to uniquely distinguish the column in situations where\u003cbr\\/\u003e\\nthe same table may appear multiple times in the queries with\u003cbr\\/\u003e\\nseparate correlation names.\u003c\\/p\u003e\\n\\n\u003cp\u003eIt might be nice to add a comment to the new test case in JoinTest.java,\u003cbr\\/\u003e\\nperhaps something along the lines of:\u003c\\/p\u003e\\n\\n\u003cp\u003e   Verify that when transitive closure generates new criteria into\u003cbr\\/\u003e\\n   the query, it isn\'t confused by situations where the same column name\u003cbr\\/\u003e\\n   appears in a result column list multiple times due to \u003cbr\\/\u003e\\n   flattening of sub-queries.\u003c\\/p\u003e\\n\\n\u003cp\u003eObviously the full details will be available in the Jira entry, but it is nice\u003cbr\\/\u003e\\nsometimes to have a brief description of the test\'s purpose in the test itself.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"bryanpendleton\\\" id=\\\"commentauthor_12875820_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=bryanpendleton\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"bryanpendleton\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Bryan Pendleton\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12875820_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Jun\\/10 01:20\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-06-05T01:20:25+0000\'\u003e05\\/Jun\\/10 01:20\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Hi Dag, thanks for the patch! \\n\\n I see what you mean, that it\'s a slightly involved patch, but I haven\'t thought \\nof any ways to simplify this; it\'s a slightly involved problem after all   \\n\\n The patch may have a few tab-versus-space issues, in particular the \\nblock comment around line 860 of ColumnReference.java seemed to \\nhave whitespace-only modifications. \\n\\n It might be nice to add an additional sentence or two to the method \\ncomments for the new getResultColumn method in ResultColumnList \\nto indicate that access by the (table-number,column-number) pair is \\nused by the optimizer when it is flattening queries, and has to use \\nthis information to uniquely distinguish the column in situations where \\nthe same table may appear multiple times in the queries with \\nseparate correlation names. \\n\\n It might be nice to add a comment to the new test case in JoinTest.java, \\nperhaps something along the lines of: \\n\\n    Verify that when transitive closure generates new criteria into \\n   the query, it isn\'t confused by situations where the same column name \\n   appears in a result column list multiple times due to  \\n   flattening of sub-queries. \\n\\n Obviously the full details will be available in the Jira entry, but it is nice \\nsometimes to have a brief description of the test\'s purpose in the test itself.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12875830\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-4679?focusedCommentId=12875830&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12875830\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dagw\\\" id=\\\"commentauthor_12875830_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dagw\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dagw\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dag H. Wanvik\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12875830_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Jun\\/10 01:40\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-06-05T01:40:53+0000\'\u003e05\\/Jun\\/10 01:40\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThanks, Bryan! Yes, these are good improvement suggestions!\u003c\\/p\u003e\\n\\n\u003cp\u003eAs for the whitespace changes around line 860, I am aware of those,\u003cbr\\/\u003e\\nI was vacillating back and forth on that in order to make the diff look at readable as possible, \u003cbr\\/\u003e\\nbut in the end, I also prefer to keeps the diffs minimal, so I\'ll reverse that change.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dagw\\\" id=\\\"commentauthor_12875830_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dagw\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dagw\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dag H. Wanvik\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12875830_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Jun\\/10 01:40\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-06-05T01:40:53+0000\'\u003e05\\/Jun\\/10 01:40\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Thanks, Bryan! Yes, these are good improvement suggestions! \\n\\n As for the whitespace changes around line 860, I am aware of those, \\nI was vacillating back and forth on that in order to make the diff look at readable as possible,  \\nbut in the end, I also prefer to keeps the diffs minimal, so I\'ll reverse that change.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12875931\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-4679?focusedCommentId=12875931&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12875931\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dagw\\\" id=\\\"commentauthor_12875931_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dagw\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dagw\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dag H. Wanvik\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12875931_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Jun\\/10 20:19\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-06-05T20:19:15+0000\'\u003e05\\/Jun\\/10 20:19\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eUploading derby-4679b, which improves on the comments as suggested by Bryan,\u003cbr\\/\u003e\\nand also simplified the logic slightly in ColumnReference change. Regressions ran ok.\u003c\\/p\u003e\\n\\n\u003cp\u003eI forgot to mention that the patch also contains a small improvement to the dumping of query trees that I found missing during debugging: let printSubNodes also print sourceResultSet (we no longer need to worry about circularities since nodes are only printed once).\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dagw\\\" id=\\\"commentauthor_12875931_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dagw\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dagw\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dag H. Wanvik\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12875931_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Jun\\/10 20:19\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-06-05T20:19:15+0000\'\u003e05\\/Jun\\/10 20:19\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Uploading derby-4679b, which improves on the comments as suggested by Bryan, \\nand also simplified the logic slightly in ColumnReference change. Regressions ran ok. \\n\\n I forgot to mention that the patch also contains a small improvement to the dumping of query trees that I found missing during debugging: let printSubNodes also print sourceResultSet (we no longer need to worry about circularities since nodes are only printed once).              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12875962\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-4679?focusedCommentId=12875962&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12875962\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"bryanpendleton\\\" id=\\\"commentauthor_12875962_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=bryanpendleton\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"bryanpendleton\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Bryan Pendleton\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12875962_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Jun\\/10 22:49\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-06-05T22:49:37+0000\'\u003e05\\/Jun\\/10 22:49\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThanks for the updated patch, the new comments are very helpful.\u003cbr\\/\u003e\\nI have no further suggestions to offer; I think that your patch improves\u003cbr\\/\u003e\\nthe system (making more queries run correctly) and I think you should\u003cbr\\/\u003e\\nmove forward with it.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"bryanpendleton\\\" id=\\\"commentauthor_12875962_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=bryanpendleton\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"bryanpendleton\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Bryan Pendleton\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12875962_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'05\\/Jun\\/10 22:49\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-06-05T22:49:37+0000\'\u003e05\\/Jun\\/10 22:49\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Thanks for the updated patch, the new comments are very helpful. \\nI have no further suggestions to offer; I think that your patch improves \\nthe system (making more queries run correctly) and I think you should \\nmove forward with it.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12876252\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-4679?focusedCommentId=12876252&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12876252\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dagw\\\" id=\\\"commentauthor_12876252_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dagw\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dagw\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dag H. Wanvik\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12876252_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Jun\\/10 14:20\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-06-07T14:20:25+0000\'\u003e07\\/Jun\\/10 14:20\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Dag H. Wanvik - 07\\/Jun\\/10 14:37\\\"\u003eedited\u003c\\/span\u003e \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThanks, Bryan, for having another look!\u003cbr\\/\u003e\\nCommitted patch derby-4679b as svn 952237 to solve this issue. Not resolving yet, planning to backport to 10.6 branch.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dagw\\\" id=\\\"commentauthor_12876252_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dagw\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dagw\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dag H. Wanvik\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12876252_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Jun\\/10 14:20\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-06-07T14:20:25+0000\'\u003e07\\/Jun\\/10 14:20\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Dag H. Wanvik - 07\\/Jun\\/10 14:37\\\"\u003eedited\u003c\\/span\u003e                   Thanks, Bryan, for having another look! \\nCommitted patch derby-4679b as svn 952237 to solve this issue. Not resolving yet, planning to backport to 10.6 branch.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12879104\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-4679?focusedCommentId=12879104&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12879104\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dagw\\\" id=\\\"commentauthor_12879104_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dagw\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dagw\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dag H. Wanvik\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12879104_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Jun\\/10 20:06\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-06-15T20:06:14+0000\'\u003e15\\/Jun\\/10 20:06\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eDue to the findings in \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-4695\\\" title=\\\"Internal assignment of tablenumer, columnnumber looks wrong in query tree, although no ill effects are seen.\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-4695\\\"\u003e\u003cdel\u003eDERBY-4695\u003c\\/del\u003e\u003c\\/a\u003e, I will hold off back-porting this until that issue is fixed as well.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dagw\\\" id=\\\"commentauthor_12879104_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dagw\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dagw\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dag H. Wanvik\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12879104_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Jun\\/10 20:06\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-06-15T20:06:14+0000\'\u003e15\\/Jun\\/10 20:06\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Due to the findings in   DERBY-4695  , I will hold off back-porting this until that issue is fixed as well.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12879839\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-4679?focusedCommentId=12879839&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12879839\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dagw\\\" id=\\\"commentauthor_12879839_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dagw\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dagw\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dag H. Wanvik\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12879839_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Jun\\/10 16:49\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-06-17T16:49:57+0000\'\u003e17\\/Jun\\/10 16:49\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eUploading a follow-up patch for this issue, which:\u003c\\/p\u003e\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003eadds a sanity check that a found RC has the expected column name (due to the issues seen in \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-4695\\\" title=\\\"Internal assignment of tablenumer, columnnumber looks wrong in query tree, although no ill effects are seen.\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-4695\\\"\u003e\u003cdel\u003eDERBY-4695\u003c\\/del\u003e\u003c\\/a\u003e). A wrong (tn, cn) pair might in theory lead us to bind to the wrong result column. In Sane mode, this situation will throw an assert, in insane, we will fall back on the old method of binding using the column name. This makes it safer to back-port this issue fix to the 10.6 branch.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003eIf\\/when we manage to resolve DERB-4695, we can remove the code added in this follow-up patch.\u003cbr\\/\u003e\\nRegressions ran ok.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dagw\\\" id=\\\"commentauthor_12879839_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dagw\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dagw\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dag H. Wanvik\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12879839_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Jun\\/10 16:49\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-06-17T16:49:57+0000\'\u003e17\\/Jun\\/10 16:49\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Uploading a follow-up patch for this issue, which: \\n \\n\\t adds a sanity check that a found RC has the expected column name (due to the issues seen in   DERBY-4695  ). A wrong (tn, cn) pair might in theory lead us to bind to the wrong result column. In Sane mode, this situation will throw an assert, in insane, we will fall back on the old method of binding using the column name. This makes it safer to back-port this issue fix to the 10.6 branch. \\n \\n\\n\\n If\\/when we manage to resolve DERB-4695, we can remove the code added in this follow-up patch. \\nRegressions ran ok.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12879934\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-4679?focusedCommentId=12879934&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12879934\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dagw\\\" id=\\\"commentauthor_12879934_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dagw\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dagw\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dag H. Wanvik\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12879934_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Jun\\/10 21:19\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-06-17T21:19:04+0000\'\u003e17\\/Jun\\/10 21:19\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Dag H. Wanvik - 23\\/Jun\\/10 18:26\\\"\u003eedited\u003c\\/span\u003e \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI did some more research to understand the limitations of the approach\u003cbr\\/\u003e\\ntaken by the fix in this issue, i.e. locating the result column based\u003cbr\\/\u003e\\non the (tablenumber, columnnumber) pair. It turns out it fails to work\u003cbr\\/\u003e\\nalso when the column reference is to a subquery, which can be\u003cbr\\/\u003e\\nflattened before we get the the join flattening, so the table number\u003cbr\\/\u003e\\nof the CR is no longer to be found, and we fall back on the \\\"buggy\\\" approach of\u003cbr\\/\u003e\\nlooking for the column name described above.\u003c\\/p\u003e\\n\\n\u003cp\u003eA slight reformulation of the original problem query makes the bug\u003cbr\\/\u003e\\nreappear:\u003c\\/p\u003e\\n\\n\u003cp\u003e    \\\"select distinct t1.ITEM_ID, t1.state_id, t1.JZ_DISCRIMINATOR from \\\" +\u003cbr\\/\u003e\\n    \\\"((((((select * from ABSTRACT_INSTANCE z1 where z1.JZ_DISCRIMINATOR = 238) t1 \\\" +\u003cbr\\/\u003e\\n    \\\"      left outer join LAB_RESOURCE_OPERATINGSYSTEM j1 on (t1.ITEM_ID = j1.JZ_PARENT_ID)) \\\" +\u003cbr\\/\u003e\\n    \\\"     left outer join ABSTRACT_INSTANCE t2 on (j1.ITEM_ID = t2.ITEM_ID)) \\\" +\u003cbr\\/\u003e\\n    \\\"    left outer join OPERATING_SYSTEM_SOFTWARE_INSTALL j2 on (t2.ITEM_ID = j2.JZ_PARENT_ID))\\\" +\u003cbr\\/\u003e\\n    \\\"   left outer join (select * from ABSTRACT_INSTANCE) tCorr on (j2.ITEM_ID = tCorr.ITEM_ID) \\\" +\u003cbr\\/\u003e\\n    \\\"  inner join FAMILY t5 on (t2.FAMILY_ITEM_ID = t5.ITEM_ID)) \\\" +\u003cbr\\/\u003e\\n    \\\" inner join FAMILY t7 on (t1.FAMILY_ITEM_ID = t7.ITEM_ID)) \\\" +\u003cbr\\/\u003e\\n    \\\"where (tCorr.FAMILY_ITEM_ID IN(\'_5VetVWTeEd-Q8aOqWJPEIQ\') and \\\" +\u003cbr\\/\u003e\\n    \\\"      (t5.ROOT_ITEM_ID = \'_5ZDlwWTeEd-Q8aOqWJPEIQ\') and \\\" +\u003cbr\\/\u003e\\n    \\\"      (t7.ROOT_ITEM_ID =\'_5nN9mmTeEd-Q8aOqWJPEIQ\') and \\\" +\u003cbr\\/\u003e\\n    \\\"      (t1.VISIBILITY = 0))\\\");\u003c\\/p\u003e\\n\\n\u003cp\u003eNote that now, instead of t3, we now have a subquery, tCorr.\u003c\\/p\u003e\\n\\n\u003cp\u003eHowever, during my research on \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-4695\\\" title=\\\"Internal assignment of tablenumer, columnnumber looks wrong in query tree, although no ill effects are seen.\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-4695\\\"\u003e\u003cdel\u003eDERBY-4695\u003c\\/del\u003e\u003c\\/a\u003e, I reported that skipping\u003cbr\\/\u003e\\nthe 2nd bind block in JoinNode (unless we have an OUTER JOIN), made\u003cbr\\/\u003e\\nthe observed numbering inconsistency go away.\u003c\\/p\u003e\\n\\n\u003cp\u003eWell, it turns out that skipping the second bind for inner joins makes\u003cbr\\/\u003e\\nthe above query variant work, too, as well as the original problem\u003cbr\\/\u003e\\nquery in this issue, \u003cb\u003ewithout\u003c\\/b\u003e the fix I have already committed for\u003cbr\\/\u003e\\nthis issue!\u003c\\/p\u003e\\n\\n\u003cp\u003eIt could be that this is the root problem. Since it also solves the\u003cbr\\/\u003e\\nabove variant, and removes the wrong numbering seen, it seems a better\u003cbr\\/\u003e\\nfix anyway, if regressions tests still hold up. We\'ll see that soon.\u003c\\/p\u003e\\n\\n\u003cp\u003e[Edit: 2010-06-24: \u003c\\/p\u003e\\n\\n\u003cp\u003eIt is not the root cause, because the second bind is needed, cf\u003cbr\\/\u003e\\nconclusions in \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-4695\\\" title=\\\"Internal assignment of tablenumer, columnnumber looks wrong in query tree, although no ill effects are seen.\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-4695\\\"\u003e\u003cdel\u003eDERBY-4695\u003c\\/del\u003e\u003c\\/a\u003e. The second binding is somewhat\u003cbr\\/\u003e\\nbroken\\/problematic, though, for two reasons:\u003c\\/p\u003e\\n\\n\u003cp\u003e        a) it sometimes leads to wrong column number (see \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-4695\\\" title=\\\"Internal assignment of tablenumer, columnnumber looks wrong in query tree, although no ill effects are seen.\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-4695\\\"\u003e\u003cdel\u003eDERBY-4695\u003c\\/del\u003e\u003c\\/a\u003e).\u003c\\/p\u003e\\n\\n\u003cp\u003e        b) we can\'t rebind correctly when subqueries are flattened\u003cbr\\/\u003e\\n        (cf. the above query variant) because the node (and the table\u003cbr\\/\u003e\\n        number) of the column reference representing the subquery\u003cbr\\/\u003e\\n        column is gone, so the approach taken here (i.e. to match the\u003cbr\\/\u003e\\n        result column using table number and column number of the CR)\u003cbr\\/\u003e\\n        fails to locate a matching result column, forcing us back to\u003cbr\\/\u003e\\n        the old approach, which fails due to column names not being\u003cbr\\/\u003e\\n        unique.\u003cbr\\/\u003e\\n]\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dagw\\\" id=\\\"commentauthor_12879934_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dagw\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dagw\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dag H. Wanvik\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12879934_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Jun\\/10 21:19\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-06-17T21:19:04+0000\'\u003e17\\/Jun\\/10 21:19\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Dag H. Wanvik - 23\\/Jun\\/10 18:26\\\"\u003eedited\u003c\\/span\u003e                   I did some more research to understand the limitations of the approach \\ntaken by the fix in this issue, i.e. locating the result column based \\non the (tablenumber, columnnumber) pair. It turns out it fails to work \\nalso when the column reference is to a subquery, which can be \\nflattened before we get the the join flattening, so the table number \\nof the CR is no longer to be found, and we fall back on the \\\"buggy\\\" approach of \\nlooking for the column name described above. \\n\\n A slight reformulation of the original problem query makes the bug \\nreappear: \\n\\n     \\\"select distinct t1.ITEM_ID, t1.state_id, t1.JZ_DISCRIMINATOR from \\\" + \\n    \\\"((((((select * from ABSTRACT_INSTANCE z1 where z1.JZ_DISCRIMINATOR = 238) t1 \\\" + \\n    \\\"      left outer join LAB_RESOURCE_OPERATINGSYSTEM j1 on (t1.ITEM_ID = j1.JZ_PARENT_ID)) \\\" + \\n    \\\"     left outer join ABSTRACT_INSTANCE t2 on (j1.ITEM_ID = t2.ITEM_ID)) \\\" + \\n    \\\"    left outer join OPERATING_SYSTEM_SOFTWARE_INSTALL j2 on (t2.ITEM_ID = j2.JZ_PARENT_ID))\\\" + \\n    \\\"   left outer join (select * from ABSTRACT_INSTANCE) tCorr on (j2.ITEM_ID = tCorr.ITEM_ID) \\\" + \\n    \\\"  inner join FAMILY t5 on (t2.FAMILY_ITEM_ID = t5.ITEM_ID)) \\\" + \\n    \\\" inner join FAMILY t7 on (t1.FAMILY_ITEM_ID = t7.ITEM_ID)) \\\" + \\n    \\\"where (tCorr.FAMILY_ITEM_ID IN(\'_5VetVWTeEd-Q8aOqWJPEIQ\') and \\\" + \\n    \\\"      (t5.ROOT_ITEM_ID = \'_5ZDlwWTeEd-Q8aOqWJPEIQ\') and \\\" + \\n    \\\"      (t7.ROOT_ITEM_ID =\'_5nN9mmTeEd-Q8aOqWJPEIQ\') and \\\" + \\n    \\\"      (t1.VISIBILITY = 0))\\\"); \\n\\n Note that now, instead of t3, we now have a subquery, tCorr. \\n\\n However, during my research on   DERBY-4695  , I reported that skipping \\nthe 2nd bind block in JoinNode (unless we have an OUTER JOIN), made \\nthe observed numbering inconsistency go away. \\n\\n Well, it turns out that skipping the second bind for inner joins makes \\nthe above query variant work, too, as well as the original problem \\nquery in this issue,  without  the fix I have already committed for \\nthis issue! \\n\\n It could be that this is the root problem. Since it also solves the \\nabove variant, and removes the wrong numbering seen, it seems a better \\nfix anyway, if regressions tests still hold up. We\'ll see that soon. \\n\\n [Edit: 2010-06-24:  \\n\\n It is not the root cause, because the second bind is needed, cf \\nconclusions in   DERBY-4695  . The second binding is somewhat \\nbroken\\/problematic, though, for two reasons: \\n\\n         a) it sometimes leads to wrong column number (see   DERBY-4695  ). \\n\\n         b) we can\'t rebind correctly when subqueries are flattened \\n        (cf. the above query variant) because the node (and the table \\n        number) of the column reference representing the subquery \\n        column is gone, so the approach taken here (i.e. to match the \\n        result column using table number and column number of the CR) \\n        fails to locate a matching result column, forcing us back to \\n        the old approach, which fails due to column names not being \\n        unique. \\n]              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12880204\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-4679?focusedCommentId=12880204&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12880204\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dagw\\\" id=\\\"commentauthor_12880204_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dagw\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dagw\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dag H. Wanvik\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12880204_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'18\\/Jun\\/10 13:48\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-06-18T13:48:11+0000\'\u003e18\\/Jun\\/10 13:48\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eSadly, this approach also breaks others queries: they all seem to be characterized by\u003cbr\\/\u003e\\na mix of inner and outer joins. \u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dagw\\\" id=\\\"commentauthor_12880204_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dagw\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dagw\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dag H. Wanvik\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12880204_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'18\\/Jun\\/10 13:48\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-06-18T13:48:11+0000\'\u003e18\\/Jun\\/10 13:48\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Sadly, this approach also breaks others queries: they all seem to be characterized by \\na mix of inner and outer joins.               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12881724\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-4679?focusedCommentId=12881724&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12881724\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dagw\\\" id=\\\"commentauthor_12881724_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dagw\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dagw\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dag H. Wanvik\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12881724_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Jun\\/10 16:05\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-06-23T16:05:54+0000\'\u003e23\\/Jun\\/10 16:05\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Dag H. Wanvik - 23\\/Jun\\/10 16:12\\\"\u003eedited\u003c\\/span\u003e \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eHaving understood the reason for the inconsistency seen in \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-4695\\\" title=\\\"Internal assignment of tablenumer, columnnumber looks wrong in query tree, although no ill effects are seen.\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-4695\\\"\u003e\u003cdel\u003eDERBY-4695\u003c\\/del\u003e\u003c\\/a\u003e, I think I can\u003cbr\\/\u003e\\nconclude that the current patch, with the addition of the follow-up patch should be\u003cbr\\/\u003e\\nsafe in the sense of not causing regressions. Therefore, I now intend to commit\u003cbr\\/\u003e\\nthe follow-up patch and back-port both present patches to the 10.6 branch.\u003c\\/p\u003e\\n\\n\u003cp\u003eFurther investigations are necessary to find a way to handle to subquery variant query show above.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dagw\\\" id=\\\"commentauthor_12881724_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dagw\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dagw\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dag H. Wanvik\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12881724_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Jun\\/10 16:05\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-06-23T16:05:54+0000\'\u003e23\\/Jun\\/10 16:05\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Dag H. Wanvik - 23\\/Jun\\/10 16:12\\\"\u003eedited\u003c\\/span\u003e                   Having understood the reason for the inconsistency seen in   DERBY-4695  , I think I can \\nconclude that the current patch, with the addition of the follow-up patch should be \\nsafe in the sense of not causing regressions. Therefore, I now intend to commit \\nthe follow-up patch and back-port both present patches to the 10.6 branch. \\n\\n Further investigations are necessary to find a way to handle to subquery variant query show above.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12881728\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-4679?focusedCommentId=12881728&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12881728\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dagw\\\" id=\\\"commentauthor_12881728_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dagw\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dagw\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dag H. Wanvik\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12881728_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Jun\\/10 16:19\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-06-23T16:19:25+0000\'\u003e23\\/Jun\\/10 16:19\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eCommitted derby-4679-followup as svn 957260.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dagw\\\" id=\\\"commentauthor_12881728_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dagw\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dagw\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dag H. Wanvik\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12881728_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Jun\\/10 16:19\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-06-23T16:19:25+0000\'\u003e23\\/Jun\\/10 16:19\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Committed derby-4679-followup as svn 957260.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12881800\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-4679?focusedCommentId=12881800&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12881800\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dagw\\\" id=\\\"commentauthor_12881800_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dagw\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dagw\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dag H. Wanvik\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12881800_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Jun\\/10 18:14\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-06-23T18:14:57+0000\'\u003e23\\/Jun\\/10 18:14\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eBack-ported patches to 10.6 branch as svn  957287.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dagw\\\" id=\\\"commentauthor_12881800_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dagw\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dagw\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dag H. Wanvik\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12881800_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Jun\\/10 18:14\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-06-23T18:14:57+0000\'\u003e23\\/Jun\\/10 18:14\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Back-ported patches to 10.6 branch as svn  957287.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12882683\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-4679?focusedCommentId=12882683&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12882683\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dagw\\\" id=\\\"commentauthor_12882683_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dagw\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dagw\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dag H. Wanvik\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12882683_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Jun\\/10 19:00\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-06-25T19:00:05+0000\'\u003e25\\/Jun\\/10 19:00\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eUploading another follow-up patch for this issue, which also handles of the\u003cbr\\/\u003e\\na CR to a subquery join participant being rebound after flattening, see detailed comments in the code.\u003cbr\\/\u003e\\nExtra test cases are added to JoinTest#testDerby_4679. Regressions ran ok.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dagw\\\" id=\\\"commentauthor_12882683_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dagw\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dagw\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dag H. Wanvik\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12882683_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Jun\\/10 19:00\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-06-25T19:00:05+0000\'\u003e25\\/Jun\\/10 19:00\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Uploading another follow-up patch for this issue, which also handles of the \\na CR to a subquery join participant being rebound after flattening, see detailed comments in the code. \\nExtra test cases are added to JoinTest#testDerby_4679. Regressions ran ok.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12883202\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-4679?focusedCommentId=12883202&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12883202\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dagw\\\" id=\\\"commentauthor_12883202_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dagw\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dagw\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dag H. Wanvik\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12883202_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Jun\\/10 16:12\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-06-28T16:12:47+0000\'\u003e28\\/Jun\\/10 16:12\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eCommitted derby-4679-2 as svn 958618.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dagw\\\" id=\\\"commentauthor_12883202_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dagw\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dagw\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dag H. Wanvik\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12883202_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Jun\\/10 16:12\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-06-28T16:12:47+0000\'\u003e28\\/Jun\\/10 16:12\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Committed derby-4679-2 as svn 958618.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12883207\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-4679?focusedCommentId=12883207&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12883207\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dagw\\\" id=\\\"commentauthor_12883207_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dagw\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dagw\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dag H. Wanvik\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12883207_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Jun\\/10 16:23\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-06-28T16:23:15+0000\'\u003e28\\/Jun\\/10 16:23\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eBack-ported to 10.6 as svn 958621, resolving.\u003c\\/p\u003e\\n\\n\u003cp\u003eDavid, if you think this issue has been adequately addressed, feel free to close the issue.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dagw\\\" id=\\\"commentauthor_12883207_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dagw\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dagw\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Dag H. Wanvik\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12883207_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Jun\\/10 16:23\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-06-28T16:23:15+0000\'\u003e28\\/Jun\\/10 16:23\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Back-ported to 10.6 as svn 958621, resolving. \\n\\n David, if you think this issue has been adequately addressed, feel free to close the issue.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12891574\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-4679?focusedCommentId=12891574&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12891574\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dirichar\\\" id=\\\"commentauthor_12891574_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dirichar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dirichar\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e David Richards\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12891574_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Jul\\/10 12:53\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-07-23T12:53:20+0000\'\u003e23\\/Jul\\/10 12:53\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI couldn\'t find any information on the derby pages about planned releases.  Can someone link me to or provide the information about when the versions with this fix in (10.6.1.1, 10.7.0.0) will be officially released?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"dirichar\\\" id=\\\"commentauthor_12891574_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=dirichar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"dirichar\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e David Richards\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12891574_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Jul\\/10 12:53\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-07-23T12:53:20+0000\'\u003e23\\/Jul\\/10 12:53\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I couldn\'t find any information on the derby pages about planned releases.  Can someone link me to or provide the information about when the versions with this fix in (10.6.1.1, 10.7.0.0) will be officially released?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12893967\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-4679?focusedCommentId=12893967&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12893967\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kristwaa\\\" id=\\\"commentauthor_12893967_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kristwaa\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kristwaa\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Kristian Waagan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12893967_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Jul\\/10 08:45\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-07-30T08:45:23+0000\'\u003e30\\/Jul\\/10 08:45\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI don\'t think anyone has stepped up to act as the release manager yet.\u003cbr\\/\u003e\\nThe currently empty pages with information about potential upcoming releases are:\u003cbr\\/\u003e\\n\u003ca href=\\\"http:\\/\\/wiki.apache.org\\/db-derby\\/DerbyTenSixTwoRelease\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/wiki.apache.org\\/db-derby\\/DerbyTenSixTwoRelease\u003c\\/a\u003e\u003cbr\\/\u003e\\n\u003ca href=\\\"http:\\/\\/wiki.apache.org\\/db-derby\\/DerbyTenSevenOneRelease\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/wiki.apache.org\\/db-derby\\/DerbyTenSevenOneRelease\u003c\\/a\u003e\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kristwaa\\\" id=\\\"commentauthor_12893967_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kristwaa\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kristwaa\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Kristian Waagan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12893967_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Jul\\/10 08:45\'\u003e\u003ctime class=\'livestamp\' datetime=\'2010-07-30T08:45:23+0000\'\u003e30\\/Jul\\/10 08:45\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I don\'t think anyone has stepped up to act as the release manager yet. \\nThe currently empty pages with information about potential upcoming releases are: \\n http:\\/\\/wiki.apache.org\\/db-derby\\/DerbyTenSixTwoRelease  \\n http:\\/\\/wiki.apache.org\\/db-derby\\/DerbyTenSevenOneRelease               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12989884\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-4679?focusedCommentId=12989884&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12989884\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kmarsden\\\" id=\\\"commentauthor_12989884_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kmarsden\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kmarsden\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Kathey Marsden\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12989884_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'02\\/Feb\\/11 23:40\'\u003e\u003ctime class=\'livestamp\' datetime=\'2011-02-02T23:40:19+0000\'\u003e02\\/Feb\\/11 23:40\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eReopen for backport.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kmarsden\\\" id=\\\"commentauthor_12989884_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kmarsden\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kmarsden\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Kathey Marsden\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12989884_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'02\\/Feb\\/11 23:40\'\u003e\u003ctime class=\'livestamp\' datetime=\'2011-02-02T23:40:19+0000\'\u003e02\\/Feb\\/11 23:40\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Reopen for backport.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12995055\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-4679?focusedCommentId=12995055&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12995055\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kmarsden\\\" id=\\\"commentauthor_12995055_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kmarsden\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kmarsden\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Kathey Marsden\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12995055_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Feb\\/11 23:17\'\u003e\u003ctime class=\'livestamp\' datetime=\'2011-02-15T23:17:13+0000\'\u003e15\\/Feb\\/11 23:17\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eAssign to myself temporarily for backport\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kmarsden\\\" id=\\\"commentauthor_12995055_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kmarsden\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kmarsden\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Kathey Marsden\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12995055_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Feb\\/11 23:17\'\u003e\u003ctime class=\'livestamp\' datetime=\'2011-02-15T23:17:13+0000\'\u003e15\\/Feb\\/11 23:17\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Assign to myself temporarily for backport              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12995175\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-4679?focusedCommentId=12995175&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12995175\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kmarsden\\\" id=\\\"commentauthor_12995175_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kmarsden\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kmarsden\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Kathey Marsden\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12995175_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'16\\/Feb\\/11 05:35\'\u003e\u003ctime class=\'livestamp\' datetime=\'2011-02-16T05:35:05+0000\'\u003e16\\/Feb\\/11 05:35\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eResolving now that fix has been backported to 10.5\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kmarsden\\\" id=\\\"commentauthor_12995175_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kmarsden\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kmarsden\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Kathey Marsden\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12995175_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'16\\/Feb\\/11 05:35\'\u003e\u003ctime class=\'livestamp\' datetime=\'2011-02-16T05:35:05+0000\'\u003e16\\/Feb\\/11 05:35\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Resolving now that fix has been backported to 10.5              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-13823427\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-4679?focusedCommentId=13823427&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13823427\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"knutanders\\\" id=\\\"commentauthor_13823427_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=knutanders\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"knutanders\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Knut Anders Hatlen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13823427_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Nov\\/13 08:15\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-11-15T08:15:13+0000\'\u003e15\\/Nov\\/13 08:15\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003e\u003cspan class=\\\"error\\\"\u003e&#91;bulk update: close all resolved issues that haven&#39;t had any activity the last year&#93;\u003c\\/span\u003e\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"knutanders\\\" id=\\\"commentauthor_13823427_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=knutanders\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"knutanders\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Knut Anders Hatlen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_13823427_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Nov\\/13 08:15\'\u003e\u003ctime class=\'livestamp\' datetime=\'2013-11-15T08:15:13+0000\'\u003e15\\/Nov\\/13 08:15\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     &#91;bulk update: close all resolved issues that haven&#39;t had any activity the last year&#93;               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\"";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["scope-filter-data"]="{\"createScopeActions\":[],\"scopes\":[]}";
WRM._unparsedData["sidebar-collapsed-by-default"]="true";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:can-manage"]="false";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:with-icons"]="false";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:shortcuts"]="[]";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:project-id"]="10594";
WRM._unparsedData["sidebar-id"]="\"\u003cdiv class=\\\"aui-sidebar  projects-sidebar sidebar-pending\\\" \u003e\u003cdiv class=\\\"aui-sidebar-wrapper\\\"\u003e\u003cdiv class=\\\"aui-sidebar-body\\\"\u003e\u003cheader class=\\\"aui-page-header\\\"\u003e\u003cdiv class=\\\"aui-page-header-inner\\\"\u003e\u003cdiv class=\\\"aui-page-header-image\\\"\u003e\u003ca href=\\\"\\/jira\\/projects\\/DERBY\\/summary\\\" title=\\\"Derby\\\" class=\\\"jira-project-avatar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-large aui-avatar-project\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"\\/jira\\/secure\\/projectavatar?pid=10594&amp;avatarId=10122\\\" alt=\\\"Derby\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e\u003cimg src=\\\"data:image\\/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI\\/Pg0KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE4LjEuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPg0KPHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgdmlld0JveD0iMCAwIDMwMCAzMDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMwMCAzMDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxnIGlkPSJMYXllcl8yIj4NCgk8cGF0aCBzdHlsZT0iZmlsbDojRjc5MjMyOyIgZD0iTTE1MCwwQzY2LjY2NywwLDAsNjYuNjY3LDAsMTUwczY2LjY2NywxNTAsMTUwLDE1MHMxNTAtNjYuNjY3LDE1MC0xNTBTMjMzLjMzMywwLDE1MCwweg0KCQkgTTEzNi42NjcsMTc4LjMzM0wxMjUsMTkwbC00MS42NjctNDBMOTUsMTM4LjMzM2wzMC0zMEwxMzYuNjY3LDEyMGwtMzAsMzBMMTM2LjY2NywxNzguMzMzeiBNMjA1LDE2MS42NjdsLTMwLDMwTDE2My4zMzMsMTgwDQoJCWwzMC0zMGwtMzAtMzBMMTc1LDEwOC4zMzNMMjE2LjY2NywxNTBMMjA1LDE2MS42Njd6Ii8+DQo8L2c+DQo8Zz4NCgk8cG9seWdvbiBzdHlsZT0iZmlsbDojRkZGRkZGOyIgcG9pbnRzPSIxNzUsMTkxLjY2NyAyMDUsMTYxLjY2NyAyMTYuNjY3LDE1MCAxNzUsMTA4LjMzMyAxNjMuMzMzLDEyMCAxOTMuMzMzLDE1MCAxNjMuMzMzLDE4MCAJIi8+DQoJPHBvbHlnb24gc3R5bGU9ImZpbGw6I0ZGRkZGRjsiIHBvaW50cz0iMTI1LDEwOC4zMzMgOTUsMTM4LjMzMyA4My4zMzMsMTUwIDEyNSwxOTAgMTM2LjY2NywxNzguMzMzIDEwNi42NjcsMTUwIDEzNi42NjcsMTIwIAkiLz4NCjwvZz4NCjwvc3ZnPg0K\\\" alt=\\\"Icon indicating the project type\\\" class=\\\"jira-project-avatar-icon\\\" \\/\u003e\u003c\\/a\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-image --\u003e\u003cdiv class=\\\"aui-page-header-main\\\"\u003e\u003ch1\u003e\u003cdiv class=\\\"aui-group aui-group-split\\\"\u003e\u003cdiv class=\\\"aui-item project-title\\\"\u003e\u003ca href=\\\"\\/jira\\/projects\\/DERBY\\/summary\\\" title=\\\"Derby\\\"\u003eDerby\u003c\\/a\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/h1\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-main --\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-inner --\u003e\u003c\\/header\u003e\u003c!-- .aui-page-header --\u003e\u003cnav class=\\\"aui-navgroup aui-navgroup-vertical\\\"\u003e\u003cdiv class=\\\"aui-navgroup-inner sidebar-content-container\\\"\u003e\u003cdiv class=\\\"aui-sidebar-group aui-sidebar-group-tier-one\\\" data-id=\\\"sidebar-navigation-panel\\\"\u003e\u003cul class=\\\"aui-nav\\\"\u003e\u003cli class=\\\"aui-nav-selected\\\" \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/DERBY\\/issues\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-issue-navigator:sidebar-issue-navigator\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large icon-sidebar-issues\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Issues\\\"\u003eIssues\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003cli  \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/DERBY?selectedItem=com.atlassian.jira.jira-projects-plugin:report-page\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-plugin:report-page\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large agile-icon-report\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Reports\\\"\u003eReports\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003cli  \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/DERBY?selectedItem=com.atlassian.jira.jira-projects-plugin:components-page\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-plugin:components-page\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large icon-sidebar-components\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Components\\\"\u003eComponents\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003c\\/ul\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/nav\u003e\u003c\\/div\u003e\u003cdiv class=\\\"aui-sidebar-footer\\\"\u003e\u003ca class=\\\"aui-button aui-button-subtle aui-sidebar-toggle aui-sidebar-footer-tipsy\\\" data-tooltip=\\\"Expand sidebar ( [ )\\\" href=\\\"#\\\"\u003e\u003cspan class=\\\"aui-icon aui-icon-small\\\"\u003e\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/div\u003e\"";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:bigpipe-init/jira.webresources:bigpipe-init.js" data-wrm-key="jira.webresources:bigpipe-init" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <form id="jira_request_timing_info" class="dont-default-focus"> 
   <fieldset class="parameters hidden"> 
    <input type="hidden" title="jira.request.start.millis" value="1520239960523"> 
    <input type="hidden" title="jira.request.server.time" value="271"> 
    <input type="hidden" title="jira.request.id" value="532x94409160x4"> 
    <input type="hidden" title="jira.session.expiry.time" value="-"> 
    <input type="hidden" title="jira.session.expiry.in.mins" value="-"> 
    <input id="jiraConcurrentRequests" type="hidden" name="jira.request.concurrent.requests" value="4"> 
    <input type="hidden" title="db.reads.time.in.ms" value="39"> 
    <input type="hidden" title="db.conns.time.in.ms" value="47"> 
   </fieldset> 
  </form> 
  <!--
	                 REQUEST ID : 532x94409160x4
	          REQUEST TIMESTAMP : [05/Mar/2018:08:52:40 +0000]
	               REQUEST TIME : 0.2710
	                 ASESSIONID : -
	        CONCURRENT REQUESTS : 4

	                      db.reads : OpSnapshot{name='db.reads', invocationCount=32, elapsedTotal=39929333, elapsedMin=415124, elapsedMax=8124340, resultSetSize=0, cpuTotal=0, cpuMin=0, cpuMax=0}
	                      db.conns : OpSnapshot{name='db.conns', invocationCount=37, elapsedTotal=47395217, elapsedMin=443759, elapsedMax=8154218, resultSetSize=0, cpuTotal=0, cpuMin=0, cpuMax=0}
-->   
 </body>
</html>