<!doctype html>
<html lang="en">
 <head> 
  <meta charset="utf-8"> 
  <meta http-equiv="X-UA-Compatible" content="IE=Edge"> 
  <meta name="application-name" content="JIRA" data-name="jira" data-version="7.6.3">
  <meta name="ajs-viewissue-use-history-api" content="false"> 
  <meta name="ajs-jira-base-url" content="https://issues.apache.org/jira"> 
  <meta name="ajs-serverRenderedViewIssue" content="true"> 
  <meta name="ajs-dev-mode" content="false"> 
  <meta name="ajs-context-path" content="/jira"> 
  <meta name="ajs-version-number" content="7.6.3"> 
  <meta name="ajs-build-number" content="76005"> 
  <meta name="ajs-is-beta" content="false"> 
  <meta name="ajs-is-rc" content="false"> 
  <meta name="ajs-is-snapshot" content="false"> 
  <meta name="ajs-is-milestone" content="false"> 
  <meta name="ajs-remote-user" content=""> 
  <meta name="ajs-remote-user-fullname" content=""> 
  <meta name="ajs-user-locale" content="en_UK"> 
  <meta name="ajs-user-locale-group-separator" content=","> 
  <meta name="ajs-app-title" content="ASF JIRA"> 
  <meta name="ajs-keyboard-shortcuts-enabled" content="true"> 
  <meta name="ajs-keyboard-accesskey-modifier" content="Ctrl+Alt"> 
  <meta name="ajs-enabled-dark-features" content="[&quot;com.atlassian.jira.agile.darkfeature.editable.detailsview&quot;,&quot;nps.survey.inline.dialog&quot;,&quot;com.atlassian.jira.agile.darkfeature.edit.closed.sprint.enabled&quot;,&quot;jira.plugin.devstatus.phasetwo&quot;,&quot;jira.frother.reporter.field&quot;,&quot;atlassian.rest.xsrf.legacy.enabled&quot;,&quot;jira.issue.status.lozenge&quot;,&quot;com.atlassian.jira.config.BIG_PIPE&quot;,&quot;com.atlassian.jira.projects.issuenavigator&quot;,&quot;com.atlassian.jira.config.PDL&quot;,&quot;jira.plugin.devstatus.phasetwo.enabled&quot;,&quot;atlassian.aui.raphael.disabled&quot;,&quot;app-switcher.new&quot;,&quot;frother.assignee.field&quot;,&quot;com.atlassian.jira.projects.ProjectCentricNavigation.Switch&quot;,&quot;sd.internal.base.off.thread.on.completion.events.enabled&quot;,&quot;jira.onboarding.cyoa&quot;,&quot;com.atlassian.jira.agile.darkfeature.kanplan.enabled&quot;,&quot;sd.slavalue.record.updated.date.enabled&quot;,&quot;com.atlassian.jira.config.ProjectConfig.MENU&quot;,&quot;com.atlassian.jira.projects.sidebar.DEFER_RESOURCES&quot;,&quot;com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions.enabled&quot;,&quot;com.atlassian.jira.agile.darkfeature.sprint.goal.enabled&quot;,&quot;jira.zdu.admin-updates-ui&quot;,&quot;jira.zdu.jmx-monitoring&quot;,&quot;sd.sla.improved.rendering.enabled&quot;,&quot;sd.canned.responses.enabled&quot;,&quot;sd.new.settings.sidebar.location.disabled&quot;,&quot;jira.zdu.cluster-upgrade-state&quot;,&quot;com.atlassian.jira.agile.darkfeature.splitissue&quot;,&quot;com.atlassian.jira.config.CoreFeatures.LICENSE_ROLES_ENABLED&quot;,&quot;com.atlassian.feedback.feedback-button-move-to-header-enable&quot;,&quot;jira.export.csv.enabled&quot;]"> 
  <meta name="ajs-in-admin-mode" content="false"> 
  <meta name="ajs-is-sysadmin" content="false"> 
  <meta name="ajs-is-admin" content="false"> 
  <meta name="ajs-outgoing-mail-enabled" content="true"> 
  <meta name="ajs-date-relativize" content="true"> 
  <meta name="ajs-date-time" content="HH:mm"> 
  <meta name="ajs-date-day" content="EEEE HH:mm"> 
  <meta name="ajs-date-dmy" content="dd/MMM/yy"> 
  <meta name="ajs-date-complete" content="dd/MMM/yy HH:mm"> 
  <script type="text/javascript">var AJS=AJS||{};AJS.debug=true;</script> 
  <meta id="atlassian-token" name="atlassian-token" content="A5KQ-2QAV-T4JA-FDED|5f209aa424ec4d54fd5d74e6249ecf4665776f4e|lout"> 
  <link rel="shortcut icon" href="/jira/s/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/_/favicon.ico"> 
  <!--[if IE]><![endif]--> 
  <script type="text/javascript">
    (function() {
        var contextPath = '/jira';
        var eventBuffer = [];

        function printDeprecatedMsg() {
            if (console && console.warn) {
                console.warn('DEPRECATED JS - contextPath global variable has been deprecated since 7.4.0. Use `wrm/context-path` module instead.');
            }
        }

        function sendEvent(analytics, postfix) {
            analytics.send({
                name: 'js.globals.contextPath.' + postfix
            });
        }

        function sendDeprecatedEvent(postfix) {
            try {
                var analytics = require('jira/analytics');
                if (eventBuffer.length) {
                    eventBuffer.forEach(function(value) {
                        sendEvent(analytics, value);
                    });
                    eventBuffer = [];
                }

                if (postfix) {
                    sendEvent(analytics, postfix);
                }
            } catch(ex) {
                eventBuffer.push(postfix);
                setTimeout(sendDeprecatedEvent, 1000);
            }
        }

        Object.defineProperty(window, 'contextPath', {
            get: function() {
                printDeprecatedMsg();
                sendDeprecatedEvent('get');
                return contextPath;
            },
            set: function(value) {
                printDeprecatedMsg();
                sendDeprecatedEvent('set');
                contextPath = value;
            }
        });
    })();

</script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["com.atlassian.plugins.atlassian-plugins-webresource-plugin:context-path.context-path"]="\"/jira\"";
WRM._unparsedData["jira.webresources:feature-flags.feature-flag-data"]="{\"enabled-feature-keys\":[\"com.atlassian.jira.agile.darkfeature.editable.detailsview\",\"nps.survey.inline.dialog\",\"com.atlassian.jira.agile.darkfeature.edit.closed.sprint.enabled\",\"jira.plugin.devstatus.phasetwo\",\"jira.frother.reporter.field\",\"atlassian.rest.xsrf.legacy.enabled\",\"jira.issue.status.lozenge\",\"com.atlassian.jira.config.BIG_PIPE\",\"com.atlassian.jira.projects.issuenavigator\",\"com.atlassian.jira.config.PDL\",\"jira.plugin.devstatus.phasetwo.enabled\",\"atlassian.aui.raphael.disabled\",\"app-switcher.new\",\"frother.assignee.field\",\"com.atlassian.jira.projects.ProjectCentricNavigation.Switch\",\"sd.internal.base.off.thread.on.completion.events.enabled\",\"jira.onboarding.cyoa\",\"com.atlassian.jira.agile.darkfeature.kanplan.enabled\",\"sd.slavalue.record.updated.date.enabled\",\"com.atlassian.jira.config.ProjectConfig.MENU\",\"com.atlassian.jira.projects.sidebar.DEFER_RESOURCES\",\"com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions.enabled\",\"com.atlassian.jira.agile.darkfeature.sprint.goal.enabled\",\"jira.zdu.admin-updates-ui\",\"jira.zdu.jmx-monitoring\",\"sd.sla.improved.rendering.enabled\",\"sd.canned.responses.enabled\",\"sd.new.settings.sidebar.location.disabled\",\"jira.zdu.cluster-upgrade-state\",\"com.atlassian.jira.agile.darkfeature.splitissue\",\"com.atlassian.jira.config.CoreFeatures.LICENSE_ROLES_ENABLED\",\"com.atlassian.feedback.feedback-button-move-to-header-enable\",\"jira.export.csv.enabled\"],\"feature-flag-states\":{\"com.atlassian.jira.agile.darkfeature.kanplan\":false,\"sd.internal.base.off.thread.on.completion.events\":false,\"jira.instrumentation.laas\":false,\"com.atlassian.jira.agile.darkfeature.edit.closed.sprint\":false,\"com.atlassian.jira.issuetable.draggable\":true,\"jira.create.linked.issue\":true,\"com.atlassian.jira.agile.darkfeature.sprint.goal\":false,\"jira.sal.host.connect.accessor.existing.transaction.will.create.transactions\":true,\"jira.jql.suggestrecentfields\":false,\"com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions\":false,\"jira.jql.smartautoselectfirst\":false,\"com.atlassian.jira.agile.darkfeature.optimistic.transitions\":true,\"com.atlassian.jira.issuetable.move.links.hidden\":true,\"jira.priorities.per.project\":true,\"com.atlassian.jira.upgrade.startup.fix.index\":true,\"jira.renderer.consider.variable.format\":true}}";
WRM._unparsedData["jira.webresources:default-comment-security-level.DefaultCommentSecurityLevelHelpLink"]="{\"extraClasses\":\"default-comment-level-help\",\"title\":\"Commenting on an Issue\",\"url\":\"https://docs.atlassian.com/jira/jcore-docs-076/Editing+and+collaborating+on+issues#Editingandcollaboratingonissues-restrictacomment\",\"isLocal\":false}";
WRM._unparsedData["jira.webresources:dateFormatProvider.allFormats"]="{\"dateFormats\":{\"meridiem\":[\"AM\",\"PM\"],\"eras\":[\"BC\",\"AD\"],\"months\":[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],\"monthsShort\":[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],\"weekdaysShort\":[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"],\"weekdays\":[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"]},\"lookAndFeelFormats\":{\"relativize\":\"true\",\"time\":\"HH:mm\",\"day\":\"EEEE HH:mm\",\"dmy\":\"dd/MMM/yy\",\"complete\":\"dd/MMM/yy HH:mm\"}}";
WRM._unparsedData["com.atlassian.jira.jira-issue-nav-components:issueviewer.features"]="{\"rteEnabled\":true}";
WRM._unparsedData["com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone.thumbnail-mime-types"]="\"image/vnd.wap.wbmp,image/png,image/x-png,image/jpeg,image/bmp,image/gif\"";
WRM._unparsedData["com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone.upload-limit"]="\"62914560\"";
WRM._unparsedData["com.atlassian.plugins.helptips.jira-help-tips:help-tip-manager.JiraHelpTipData"]="{\"anonymous\":true}";
WRM._unparsedData["com.atlassian.jira.jira-view-issue-plugin:controller-subtasks.controller.subtasks.parameters"]="{\"url\":\"/rest/api/2/issue/{issueId}/subtask/move\"}";
WRM._unparsedData["com.atlassian.analytics.analytics-client:policy-update-init.policy-update-data-provider"]="false";
WRM._unparsedData["com.atlassian.analytics.analytics-client:programmatic-analytics-init.programmatic-analytics-data-provider"]="false";
WRM._unparsedData["jira.webresources:avatar-picker.data"]="{}";
WRM._unparsedData["com.atlassian.feedback.jira-feedback-plugin:button-resources-init.data"]="{\"jira.feedback.plugin.issue.collector.core\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"jira.feedback.plugin.issue.collector.default\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"jira.feedback.plugin.issue.collector.service.desk\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector.js?locale=en-UK&collectorId=a698db21\",\"jira.feedback.plugin.issue.collector.software\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"isHeaderFeedbackButtonEnabled\":true}";
WRM._unparsedData["com.atlassian.jira.jira-header-plugin:dismissedFlags.flags"]="{\"dismissed\":[]}";
WRM._unparsedData["com.atlassian.jira.jira-header-plugin:newsletter-signup-tip-init.newsletterSignup"]="{\"signupDescription\":\"Get updates, inspiration and best practices from the team behind JIRA.\",\"formUrl\":\"https://www.atlassian.com/apis/exact-target/{0}/subscribe?mailingListId=1401671\",\"signupTitle\":\"Sign up!\",\"signupId\":\"newsletter-signup-tip\",\"showNewsletterTip\":false}";
WRM._unparsedData["com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources.ptAnalyticsData"]="{\"instanceCreatedDate\":\"2011-01-31\"}";
WRM._unparsedData["com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources.help-data"]="{\"showHelp\":true,\"editorDocumentationUrl\":[\"https://docs.atlassian.com/jira/jcore-docs-076/Visual+editing\"],\"editorDocumentationTitle\":[\"Show me documentation for the visual editor\"]}";
WRM._unparsedData["com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources.thumbnails-allowed"]="false";
WRM._unparsedData["jira.webresources:user-message-flags.adminLockout"]="{}";
WRM._unparsedData["jira.request.correlation-id"]="\"7a08db970075a6\"";
WRM._unparsedData["project-id"]="10594";
WRM._unparsedData["project-key"]="\"DERBY\"";
WRM._unparsedData["project-name"]="\"Derby\"";
WRM._unparsedData["project-type"]="\"software\"";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:generic-filters"]="[{\"id\":\"allissues\",\"jql\":\"project = \\\"{0}\\\" ORDER BY {1}\",\"defaultOrderby\":\"created DESC\",\"label\":\"All issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[]},{\"id\":\"allopenissues\",\"jql\":\"project = \\\"{0}\\\" AND resolution = Unresolved ORDER BY {1}\",\"defaultOrderby\":\"priority DESC, updated DESC\",\"label\":\"Open issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"resolution\"]},{\"id\":\"doneissues\",\"jql\":\"project = \\\"{0}\\\" AND statusCategory = Done ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Done issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":false,\"fields\":[\"status\"]},{\"id\":\"recentlyviewed\",\"jql\":\"project = \\\"{0}\\\" AND issuekey in issueHistory() ORDER BY {1}\",\"defaultOrderby\":\"lastViewed DESC\",\"label\":\"Viewed recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"issuekey\"]},{\"id\":\"addedrecently\",\"jql\":\"project = \\\"{0}\\\" AND created \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"created DESC\",\"label\":\"Created recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"created\"]},{\"id\":\"resolvedrecently\",\"jql\":\"project = \\\"{0}\\\" AND resolutiondate \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Resolved recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":false,\"fields\":[\"resolutiondate\"]},{\"id\":\"updatedrecently\",\"jql\":\"project = \\\"{0}\\\" AND updated \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Updated recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"updated\"]}]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:default-filter-priority"]="[\"allopenissues\",\"allissues\"]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:can-manage-filters"]="false";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:project-filters"]="[]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:can-create-issues"]="false";
WRM._unparsedData["projectId"]="10594";
WRM._unparsedData["projectKey"]="\"DERBY\"";
WRM._unparsedData["projectType"]="\"software\"";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:server-rendered"]="true";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/a8a4711bc3f2eb261d8c8fd9fbcbba8b-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1fca1750044f2777c977e8d8cc023344/_/download/contextbatch/css/_super/batch.css" data-wrm-key="_super" data-wrm-batch-type="context" media="all"> 
  <link type="text/css" rel="stylesheet" href="/jira/s/74ac580603ca910fff0cfdf319e54add-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/fbf45109b31165e5b7740a9d72318cea/_/download/contextbatch/css/project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super/batch.css?agile_global_admin_condition=true&amp;hc-enabled=true&amp;is-server-instance=true&amp;jag=true&amp;jira.create.linked.issue=true&amp;nps-acknowledged=true&amp;richediton=true" data-wrm-key="project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super" data-wrm-batch-type="context" media="all"> 
  <link type="text/css" rel="stylesheet" href="/jira/s/611672383f6cab00ab202241ba6f9d68-T/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/7.6.3/_/download/batch/com.atlassian.feedback.jira-feedback-plugin:button-resources-init/com.atlassian.feedback.jira-feedback-plugin:button-resources-init.css" data-wrm-key="com.atlassian.feedback.jira-feedback-plugin:button-resources-init" data-wrm-batch-type="resource" media="all"> 
  <script type="text/javascript" src="/jira/s/98ceb006e504d7924d5ffc411626c6bc-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1fca1750044f2777c977e8d8cc023344/_/download/contextbatch/js/_super/batch.js?locale=en-UK" data-wrm-key="_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/c1e4d26ea276469807c3dc0918df482c-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/fbf45109b31165e5b7740a9d72318cea/_/download/contextbatch/js/project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super/batch.js?agile_global_admin_condition=true&amp;hc-enabled=true&amp;is-server-instance=true&amp;jag=true&amp;jira.create.linked.issue=true&amp;locale=en-UK&amp;nps-acknowledged=true&amp;richediton=true" data-wrm-key="project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/6bf9253c8d533109c3b02e26794be24e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/871d45c9f322a22cb3aa9b7948a69803/_/download/contextbatch/js/atl.global,-_super/batch.js?locale=en-UK" data-wrm-key="atl.global,-_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:calendar-en/jira.webresources:calendar-en.js" data-wrm-key="jira.webresources:calendar-en" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:calendar-localisation-moment/jira.webresources:calendar-localisation-moment.js" data-wrm-key="jira.webresources:calendar-localisation-moment" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/7.6.3/_/download/batch/com.atlassian.feedback.jira-feedback-plugin:button-resources/com.atlassian.feedback.jira-feedback-plugin:button-resources.js" data-wrm-key="com.atlassian.feedback.jira-feedback-plugin:button-resources" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/ccd2e67b523185973473e8bd5735c8f9-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/e0de73613a1027de08f3da6a45e1d1a2/_/download/contextbatch/css/jira.global.look-and-feel,-_super/batch.css" data-wrm-key="jira.global.look-and-feel,-_super" data-wrm-batch-type="context" media="all"> 
  <script type="text/javascript" src="/jira/rest/api/1.0/shortcuts/76005/33e5e0166867c8c9228d44506f60b2e8/shortcuts.js?context=issuenavigation&amp;context=issueaction"></script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["com.atlassian.jira.jira-issue-nav-components:inline-edit-enabled"]="true";
WRM._unparsedData["should-display-chaperone"]="false";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/15712b600e9aecf72ffd9fd3704a0c78-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/6b22a15c7b83f87a47b1757076f43542/_/download/contextbatch/css/com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue/batch.css?jira.create.linked.issue=true&amp;richediton=true" data-wrm-key="com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue" data-wrm-batch-type="context" media="all"> 
  <script type="text/javascript" src="/jira/s/6579b6b8ba67abaa496e39b9242a18a4-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/6b22a15c7b83f87a47b1757076f43542/_/download/contextbatch/js/com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue/batch.js?jira.create.linked.issue=true&amp;locale=en-UK&amp;richediton=true" data-wrm-key="com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue" data-wrm-batch-type="context" data-initially-rendered></script> 
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge"> 
  <meta name="ajs-can-search-users" content="false"> 
  <meta name="ajs-can-edit-watchers" content="false"> 
  <meta name="ajs-default-avatar-url" content="https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10453"> 
  <meta name="ajs-issue-project-type" content="software"> 
  <meta name="ajs-issue-key" content="DERBY-3358"> 
  <meta name="ajs-server-view-issue-is-editable" content="false"> 
  <title>[DERBY-3358] After an incorrect(unsuccesfull) startMaster comand, further correct startMaster attempts also fail. - ASF JIRA</title> 
  <link rel="search" type="application/opensearchdescription+xml" href="/jira/osd.jsp" title="[DERBY-3358] After an incorrect(unsuccesfull) startMaster comand, further correct startMaster attempts also fail. - ASF JIRA"> 
 </head> 
 <body id="jira" class="aui-layout aui-theme-default " data-version="7.6.3"> 
  <div id="page"> 
   <header id="header" role="banner"> 
    <script>
require(["jquery", "jira/license-banner"], function ($, licenseBanner) {
    $(function () {
        licenseBanner.showLicenseBanner("");
        licenseBanner.showLicenseFlag("");
    });
});
</script> 
    <nav class="aui-header aui-dropdown2-trigger-group" role="navigation">
     <div class="aui-header-inner">
      <div class="aui-header-before">
       <a class=" aui-dropdown2-trigger app-switcher-trigger" aria-controls="app-switcher" aria-haspopup="true" role="button" tabindex="0" data-aui-trigger href="#app-switcher"><span class="aui-icon aui-icon-small aui-iconfont-appswitcher">Linked Applications</span></a>
       <div id="app-switcher" class="aui-dropdown2 aui-style-default" role="menu" aria-hidden="true" data-is-switcher="true" data-environment="{&quot;isUserAdmin&quot;:false,&quot;isAppSuggestionAvailable&quot;:false,&quot;isSiteAdminUser&quot;:false}">
        <div role="application">
         <div class="app-switcher-loading">
          Loadingâ€¦
         </div>
        </div>
       </div>
      </div>
      <div class="aui-header-primary">
       <h1 id="logo" class="aui-header-logo aui-header-logo-custom"><a href="https://issues.apache.org/jira/secure/MyJiraHome.jspa"><img src="/jira/s/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/_/jira-logo-scaled.png" alt="ASF JIRA"></a></h1>
       <ul class="aui-nav">
        <li><a href="/jira/secure/Dashboard.jspa" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="home_link" aria-haspopup="true" aria-controls="home_link-content" title="View and manage your dashboards" accesskey="d">Dashboards</a>
         <div class="aui-dropdown2 aui-style-default" id="home_link-content" data-aui-dropdown2-ajax-key="home_link"></div></li>
        <li><a href="/jira/browse/DERBY" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="browse_link" aria-haspopup="true" aria-controls="browse_link-content" title="View recent projects and browse a list of projects" accesskey="p">Projects</a>
         <div class="aui-dropdown2 aui-style-default" id="browse_link-content" data-aui-dropdown2-ajax-key="browse_link"></div></li>
        <li><a href="/jira/issues/" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="find_link" aria-haspopup="true" aria-controls="find_link-content" title="Search for issues and view recent issues" accesskey="i">Issues</a>
         <div class="aui-dropdown2 aui-style-default" id="find_link-content" data-aui-dropdown2-ajax-key="find_link"></div></li> 
       </ul>
      </div>
      <div class="aui-header-secondary">
       <ul class="aui-nav">
        <li id="quicksearch-menu"> 
         <form action="/jira/secure/QuickSearch.jspa" method="get" id="quicksearch" class="aui-quicksearch dont-default-focus ajs-dirty-warning-exempt"> 
          <input id="quickSearchInput" class="search" type="text" title="Search" placeholder="Search" name="searchString" accessKey="q"> 
          <input type="submit" class="hidden" value="Search"> 
         </form> </li> 
        <li><a class="jira-feedback-plugin" role="button" aria-haspopup="true" id="jira-header-feedback-link" href="#"><span class="aui-icon aui-icon-small jira-feedback-plugin-icon">Give feedback to Atlassian</span></a></li> 
        <li id="system-help-menu"> <a class="aui-nav-link aui-dropdown2-trigger" id="help_menu" aria-haspopup="true" aria-owns="system-help-menu-content" href="https://docs.atlassian.com/jira/jcore-docs-076/" target="$textUtils.htmlEncode($rootHelpMenuItem.params.target)" title="Help"><span class="aui-icon aui-icon-small aui-iconfont-help">Help</span></a> 
         <div id="system-help-menu-content" class="aui-dropdown2 aui-style-default"> 
          <div class="aui-dropdown2-section"> 
           <ul id="jira-help" class="aui-list-truncate"> 
            <li> <a id="view_core_help" class="aui-nav-link " title="Go to the online documentation for JIRA Core" href="https://docs.atlassian.com/jira/jcore-docs-076/" target="_blank">JIRA Core help</a> </li> 
            <li> <a id="keyshortscuthelp" class="aui-nav-link " title="Get more information about JIRA's Keyboard Shortcuts" href="/jira/secure/ViewKeyboardShortcuts!default.jspa" target="_blank">Keyboard Shortcuts</a> </li> 
            <li> <a id="view_about" class="aui-nav-link " title="Get more information about JIRA" href="/jira/secure/AboutPage.jspa">About JIRA</a> </li> 
            <li> <a id="view_credits" class="aui-nav-link " title="See who did what" href="/jira/secure/JiraCreditsPage!default.jspa" target="_blank">JIRA Credits</a> </li> 
           </ul> 
          </div> 
         </div> </li> 
        <li id="user-options"> <a class="aui-nav-link login-link" href="/jira/login.jsp?os_destination=%2Fbrowse%2FDERBY-3358">Log In</a> 
         <div id="user-options-content" class="aui-dropdown2 aui-style-default"> 
          <div class="aui-dropdown2-section"> 
          </div> 
         </div> </li> 
       </ul>
      </div>
     </div>
     <!-- .aui-header-inner-->
    </nav>
    <!-- .aui-header --> 
   </header> 
   <section id="content" role="main"> 
    <big-pipe data-id="sidebar-id" unresolved></big-pipe>
    <div class="aui-sidebar  sidebar-placeholder">
     <div class="aui-sidebar-wrapper">
      <div class="aui-sidebar-body"></div>
      <div class="aui-sidebar-footer">
       <a class="aui-button aui-button-subtle aui-sidebar-toggle aui-sidebar-footer-tipsy" data-tooltip="Expand sidebar ( [ )" href="#"><span class="aui-icon aui-icon-small"></span></a>
      </div>
     </div>
    </div>
    <script id="projects-sidebar-init">
    require(['jira/projects/sidebar/expansion-manager'], function(expansionManager) {
        var scriptTag = document.getElementById('projects-sidebar-init');
        var sidebar = AJS.sidebar('.aui-sidebar');
        expansionManager(sidebar);
        scriptTag.parentElement.removeChild(scriptTag);
    });
    </script>
    <div class="aui-page-panel">
     <div class="aui-page-panel-inner">
      <div class="issue-navigator">
       <div class="content">
        <div class="issue-view">
         <div class="navigation-tools">
          <div class="pager-container"></div>
         </div>
         <div class="issue-container">
          <div id="issue-content" class="issue-edit-form">
           <header id="stalker" class="issue-header js-stalker">
            <div class="issue-header-content">
             <header class="aui-page-header">
              <div class="aui-page-header-inner">
               <div class="aui-page-header-image">
                <span id="10594" class="aui-avatar aui-avatar-large aui-avatar-project"><span class="aui-avatar-inner"><img id="project-avatar" alt="Uploaded image for project: 'Derby'" src="https://issues.apache.org/jira/secure/projectavatar?pid=10594&amp;avatarId=10122"></span></span>
               </div>
               <!-- .aui-page-header-image -->
               <div class="aui-page-header-main">
                <ol class="aui-nav aui-nav-breadcrumbs">
                 <li><a id="project-name-val" href="/jira/browse/DERBY">Derby</a></li>
                 <li><a class="issue-link" data-issue-key="DERBY-3358" href="/jira/browse/DERBY-3358" id="key-val" rel="12387364">DERBY-3358</a></li>
                </ol>
                <h1 id="summary-val">After an incorrect(unsuccesfull) startMaster comand, further correct startMaster attempts also fail.</h1>
               </div>
               <!-- .aui-page-header-main -->
               <div class="aui-page-header-actions">
                <div id="issue-header-pager"></div>
               </div>
               <!-- .aui-page-header-actions -->
              </div>
              <!-- .aui-page-header-inner -->
             </header>
             <!-- .aui-page-header -->
             <div class="command-bar">
              <div class="ops-cont">
               <div class="ops-menus aui-toolbar">
                <div class="toolbar-split toolbar-split-left">
                 <ul id="opsbar-ops-login-lnk_container" class="toolbar-group pluggable-ops">
                  <li class="toolbar-item"><a id="ops-login-lnk" title="Log In" class="toolbar-trigger" href="/jira/login.jsp?os_destination=%2Fbrowse%2FDERBY-3358"><span class="trigger-label">Log In</span></a></li>
                 </ul>
                 <ul id="opsbar-opsbar-operations" class="toolbar-group pluggable-ops"></ul>
                 <ul id="opsbar-opsbar-transitions" class="toolbar-group pluggable-ops"></ul>
                 <ul id="opsbar-opsbar-admin" class="toolbar-group pluggable-ops"></ul>
                </div>
                <div class="toolbar-split toolbar-split-right">
                 <ul id="opsbar-jira.issue.tools" class="toolbar-group pluggable-ops">
                  <li class="toolbar-item">
                   <div>
                    <a href="#" id="viewissue-export" aria-owns="viewissue-export_drop" aria-haspopup="true" title="Export this issue in another format" class="toolbar-trigger aui-button aui-style-default aui-dropdown2-trigger"><span class="icon icon-default aui-icon aui-icon-small aui-iconfont-export"></span> <span class="dropdown-text">Export</span></a>
                    <div id="viewissue-export_drop" class="aui-style-default aui-dropdown2">
                     <ul>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-xml/DERBY-3358/DERBY-3358.xml" id="jira.issueviews:issue-xml"><span class="trigger-label">XML</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-word/DERBY-3358/DERBY-3358.doc" id="jira.issueviews:issue-word"><span class="trigger-label">Word</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-html/DERBY-3358/DERBY-3358.html" id="jira.issueviews:issue-html"><span class="trigger-label">Printable</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/com.atlassian.jira.plugins.jira-importers-plugin:issue-json/DERBY-3358/DERBY-3358.json" id="com.atlassian.jira.plugins.jira-importers-plugin:issue-json"><span class="trigger-label">JSON</span></a></li>
                     </ul>
                    </div>
                   </div></li>
                 </ul>
                </div>
               </div>
              </div>
             </div>
            </div>
           </header>
           <div class="issue-body-content">
            <div class="aui-group issue-body">
             <div class="aui-item issue-main-column">
              <div id="details-module" class="module toggle-wrap">
               <div id="details-module_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Details</h2>
               </div>
               <div class="mod-content"> 
                <ul id="issuedetails" class="property-list two-cols"> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Type:</strong> 
                   <span id="type-val" class="value"> <img alt="" height="16" src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype" title="Bug - A problem which impairs or prevents the functions of the product." width="16"> Bug </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Status:</strong> 
                   <span id="status-val" class="value"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done jira-issue-status-lozenge-max-width-medium" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </span> 
                  </div> </li> 
                 <li class="item new"> 
                  <div class="wrap"> 
                   <strong class="name">Priority:</strong> 
                   <span id="priority-val" class="value"> <img alt="" height="16" src="/jira/images/icons/priorities/major.svg" title="Major - Major loss of function." width="16"> Major </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Resolution:</strong> 
                   <span id="resolution-val" class="value resolved"> Fixed </span> 
                  </div> </li> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Affects Version/s:</strong> 
                   <span id="versions-val" class="value"> <span class="shorten" id="versions-field"> <span title="10.4.1.3 ">10.4.1.3</span> </span> </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Fix Version/s:</strong> 
                   <span id="fixfor-val" class="value"> <span class="shorten" id="fixVersions-field"> <a href="/jira/issues/?jql=project+%3D+DERBY+AND+fixVersion+%3D+10.4.1.3" title="10.4.1.3 ">10.4.1.3</a> </span> </span> 
                  </div> </li> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Component/s:</strong> 
                   <span id="components-val" class="value"> <span class="shorten" id="components-field"> <a href="/jira/issues/?jql=project+%3D+DERBY+AND+component+%3D+Replication" title="Replication ">Replication</a> </span> </span> 
                  </div> </li> 
                 <li class="item full-width"> 
                  <div class="wrap" id="wrap-labels"> 
                   <strong class="name">Labels:</strong> 
                   <div class="labels-wrap value"> 
                    <span class="labels" id="labels-12387364-value">None</span> 
                   </div> 
                  </div> </li> 
                 <li class="item full-width"> 
                  <div class="wrap"> 
                   <strong class="name">Environment:</strong> 
                   <div id="environment-val" class="value">
                     Trunk (615841) + patch 
                    <a href="/jira/browse/DERBY-3205" title="Replication: Add connection url command options for starting, stopping slave and for failover" class="issue-link" data-issue-key="DERBY-3205">
                     <strike>
                      DERBY-3205
                     </strike></a>/stopSlave_v1b 
                   </div> 
                  </div> </li> 
                </ul> 
               </div>
              </div>
              <div id="descriptionmodule" class="module toggle-wrap">
               <div id="descriptionmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Description</h2>
               </div>
               <div class="mod-content">
                <div id="description-val" class="field-ignore-highlight"> 
                 <div class="user-content-block"> 
                  <p>Slave and master servers started.</p> 
                  <p>startSlave:<br> CONNECT 'jdbc:derby://atum11:9999/test;startSlave=true;slaveHost=atum11;slavePort=8989';<br> ERROR XRE08: DERBY SQL error: SQLCODE: -1, SQLSTATE: XRE08, SQLERRMC: Replication slave mode started successfully for database 'test'. Connection refused because the database is in replication slave mode. </p> 
                  <p>startMaster without specifying slavePort - will use default?<br> CONNECT 'jdbc:derby://atum11:8888/test;startMaster=true;slaveHost=atum11';<br> ERROR XRE04: DERBY SQL error: SQLCODE: -1, SQLSTATE: XRE04, SQLERRMC: nullXRE04<br> master derby.log:<br> 2008-01-29 10:02:53.097 GMT:<br> Booting Derby version The Apache Software Foundation - Apache Derby - 10.4.0.0 alpha - (615841M): instance c013800d-0117-c4fb-9156-000003bf6570<br> on database directory /export/home/tmp/os136789/Replication_common_Trunk/master/test </p> 
                  <p>Database Class Loader started - derby.database.classpath=''<br> 2008-01-29 10:02:53.256 GMT Thread<span class="error">[DRDAConnThread_2,5,main]</span> (XID = 419), (SESSIONID = 0), (DATABASE = test), (DRDAID = </p> {1}), Cleanup action starting
                  <br> java.sql.SQLException: Could not establish a connection to the peer of the replicated database 'null'.
                  <br> .
                  <br> .
                  <br> Cleanup action completed
                  <br> 2008-01-29 10:02:53.260 GMT Thread
                  <span class="error">[DRDAConnThread_2,5,main]</span> (DATABASE = test), (DRDAID = {1} 
                  <p>), Could not establish a connection to the peer of the replicated database 'null'.</p> 
                  <p>startMaster specyfying slavePort:<br> CONNECT 'jdbc:derby://atum11:8888/test;startMaster=true;slaveHost=atum11;slavePort=8989';<br> ERROR XRE04: DERBY SQL error: SQLCODE: -1, SQLSTATE: XRE04, SQLERRMC: nullXRE04<br> master derby.log:<br> 2008-01-29 10:03:38.201 GMT Thread<span class="error">[DRDAConnThread_2,5,main]</span> (XID = 420), (SESSIONID = 1), (DATABASE = test), (DRDAID = </p> {2}), Cleanup action starting
                  <br> java.sql.SQLException: Could not establish a connection to the peer of the replicated database 'null'.
                  <br> .
                  <br> .
                  <br> Cleanup action completed
                  <br> 2008-01-29 10:03:38.205 GMT Thread
                  <span class="error">[DRDAConnThread_2,5,main]</span> (DATABASE = test), (DRDAID = {2} 
                  <p>), Could not establish a connection to the peer of the replicated database 'null'.</p> 
                  <p>Additional observation/comment:<br> ----------------------------------------<br> It would be helpful for debugging if slaveHost and slavePort were written in error messages and into derby.log.</p> 
                 </div> 
                </div> 
               </div>
              </div>
              <div id="dnd-metadata" class="module toggle-wrap">
               <div id="dnd-metadata_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Attachments</h2>
               </div>
               <div class="mod-content">
                <div id="dnd-metadata-webpanel" data-can-attach="false" data-project-type="software" data-upload-limit="62914560" data-thumbnails-allowed="false"></div>
               </div>
              </div>
              <div id="attachmentmodule" class="module toggle-wrap">
               <div id="attachmentmodule_heading" class="mod-header">
                <ul class="ops">
                 <li class="drop">
                  <div class="aui-dd-parent">
                   <a href="#" class="icon drop-menu js-default-dropdown" title="Options"><span>Options</span></a>
                   <div class="aui-dropdown-content aui-list">
                    <ul id="attachment-sorting-options" class="aui-list-section aui-first">
                     <li class="aui-list-item"><a id="attachment-sort-key-name" href="/jira/browse/DERBY-3358?attachmentSortBy=fileName#attachmentmodule" class="aui-list-checked aui-checked aui-list-item-link" title="viewissue.subtasks.tab.show.all.name"><span>Sort By Name</span></a></li>
                     <li class="aui-list-item"><a id="attachment-sort-key-date" href="/jira/browse/DERBY-3358?attachmentSortBy=dateTime#attachmentmodule" class="aui-list-checked aui-list-item-link" title="Sort By Date"><span>Sort By Date</span></a></li>
                    </ul>
                    <ul id="attachment-sorting-order-options" class="aui-list-section aui-last">
                     <li class="aui-list-item"><a id="attachment-sort-direction-asc" href="/jira/browse/DERBY-3358?attachmentOrder=asc#attachmentmodule" class="aui-list-checked aui-checked aui-list-item-link" title="Ascending"><span>Ascending</span></a></li>
                     <li class="aui-list-item"><a id="attachment-sort-direction-desc" href="/jira/browse/DERBY-3358?attachmentOrder=desc#attachmentmodule" class="aui-list-checked aui-list-item-link" title="Descending"><span>Descending</span></a></li>
                    </ul>
                   </div>
                  </div></li>
                </ul>
                <h2 class="toggle-title">Attachments</h2>
               </div>
               <div class="mod-content">
                <ol id="file_attachments" class="item-attachments" data-sort-key="fileName" data-sort-order="asc">
                 <li class="attachment-content js-file-attachment" data-attachment-id="12376686" data-issue-id="12387364" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12376686/Derby3358_v2.diff" draggable="true" data-downloadurl="text/x-patch:Derby3358_v2.diff:https://issues.apache.org/jira/secure/attachment/12376686/Derby3358_v2.diff"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12376686/Derby3358_v2.diff" title="Latest  28/Feb/08 03:03 - V.Narayanan" draggable="true" data-downloadurl="text/x-patch:Derby3358_v2.diff:https://issues.apache.org/jira/secure/attachment/12376686/Derby3358_v2.diff">Derby3358_v2.diff</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2008-02-28T03:03:24.404Z">28/Feb/08 03:03</time>
                   </dd>
                   <dd class="attachment-size">
                    12 kB
                   </dd>
                   <dd class="attachment-author">
                    V.Narayanan
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12376687" data-issue-id="12387364" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12376687/Derby3358_v2.stat" draggable="true" data-downloadurl="application/octet-stream:Derby3358_v2.stat:https://issues.apache.org/jira/secure/attachment/12376687/Derby3358_v2.stat"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12376687/Derby3358_v2.stat" title="Latest  28/Feb/08 03:03 - V.Narayanan" draggable="true" data-downloadurl="application/octet-stream:Derby3358_v2.stat:https://issues.apache.org/jira/secure/attachment/12376687/Derby3358_v2.stat">Derby3358_v2.stat</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2008-02-28T03:03:24.426Z">28/Feb/08 03:03</time>
                   </dd>
                   <dd class="attachment-size">
                    0.4 kB
                   </dd>
                   <dd class="attachment-author">
                    V.Narayanan
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12377223" data-issue-id="12387364" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12377223/Derby3358_v3.diff" draggable="true" data-downloadurl="text/x-patch:Derby3358_v3.diff:https://issues.apache.org/jira/secure/attachment/12377223/Derby3358_v3.diff"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12377223/Derby3358_v3.diff" title="Latest  06/Mar/08 04:00 - V.Narayanan" draggable="true" data-downloadurl="text/x-patch:Derby3358_v3.diff:https://issues.apache.org/jira/secure/attachment/12377223/Derby3358_v3.diff">Derby3358_v3.diff</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2008-03-06T04:00:44.057Z">06/Mar/08 04:00</time>
                   </dd>
                   <dd class="attachment-size">
                    11 kB
                   </dd>
                   <dd class="attachment-author">
                    V.Narayanan
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12377224" data-issue-id="12387364" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12377224/Derby3358_v3.stat" draggable="true" data-downloadurl="application/octet-stream:Derby3358_v3.stat:https://issues.apache.org/jira/secure/attachment/12377224/Derby3358_v3.stat"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12377224/Derby3358_v3.stat" title="Latest  06/Mar/08 04:00 - V.Narayanan" draggable="true" data-downloadurl="application/octet-stream:Derby3358_v3.stat:https://issues.apache.org/jira/secure/attachment/12377224/Derby3358_v3.stat">Derby3358_v3.stat</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2008-03-06T04:00:44.073Z">06/Mar/08 04:00</time>
                   </dd>
                   <dd class="attachment-size">
                    0.4 kB
                   </dd>
                   <dd class="attachment-author">
                    V.Narayanan
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12377236" data-issue-id="12387364" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12377236/Derby3358_v4.diff" draggable="true" data-downloadurl="text/x-patch:Derby3358_v4.diff:https://issues.apache.org/jira/secure/attachment/12377236/Derby3358_v4.diff"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12377236/Derby3358_v4.diff" title="Latest  06/Mar/08 09:23 - V.Narayanan" draggable="true" data-downloadurl="text/x-patch:Derby3358_v4.diff:https://issues.apache.org/jira/secure/attachment/12377236/Derby3358_v4.diff">Derby3358_v4.diff</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2008-03-06T09:23:06.438Z">06/Mar/08 09:23</time>
                   </dd>
                   <dd class="attachment-size">
                    13 kB
                   </dd>
                   <dd class="attachment-author">
                    V.Narayanan
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12377237" data-issue-id="12387364" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12377237/Derby3358_v4.stat" draggable="true" data-downloadurl="application/octet-stream:Derby3358_v4.stat:https://issues.apache.org/jira/secure/attachment/12377237/Derby3358_v4.stat"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12377237/Derby3358_v4.stat" title="Latest  06/Mar/08 09:23 - V.Narayanan" draggable="true" data-downloadurl="application/octet-stream:Derby3358_v4.stat:https://issues.apache.org/jira/secure/attachment/12377237/Derby3358_v4.stat">Derby3358_v4.stat</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2008-03-06T09:23:06.490Z">06/Mar/08 09:23</time>
                   </dd>
                   <dd class="attachment-size">
                    0.4 kB
                   </dd>
                   <dd class="attachment-author">
                    V.Narayanan
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12377264" data-issue-id="12387364" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12377264/Derby3358_v5.diff" draggable="true" data-downloadurl="text/x-patch:Derby3358_v5.diff:https://issues.apache.org/jira/secure/attachment/12377264/Derby3358_v5.diff"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12377264/Derby3358_v5.diff" title="Latest  06/Mar/08 16:30 - V.Narayanan" draggable="true" data-downloadurl="text/x-patch:Derby3358_v5.diff:https://issues.apache.org/jira/secure/attachment/12377264/Derby3358_v5.diff">Derby3358_v5.diff</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2008-03-06T16:30:42.570Z">06/Mar/08 16:30</time>
                   </dd>
                   <dd class="attachment-size">
                    0.7 kB
                   </dd>
                   <dd class="attachment-author">
                    V.Narayanan
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12377265" data-issue-id="12387364" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12377265/Derby3358_v5.stat" draggable="true" data-downloadurl="application/octet-stream:Derby3358_v5.stat:https://issues.apache.org/jira/secure/attachment/12377265/Derby3358_v5.stat"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12377265/Derby3358_v5.stat" title="Latest  06/Mar/08 16:30 - V.Narayanan" draggable="true" data-downloadurl="application/octet-stream:Derby3358_v5.stat:https://issues.apache.org/jira/secure/attachment/12377265/Derby3358_v5.stat">Derby3358_v5.stat</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2008-03-06T16:30:42.612Z">06/Mar/08 16:30</time>
                   </dd>
                   <dd class="attachment-size">
                    0.1 kB
                   </dd>
                   <dd class="attachment-author">
                    V.Narayanan
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12377328" data-issue-id="12387364" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12377328/Derby3358_v6.diff" draggable="true" data-downloadurl="text/x-patch:Derby3358_v6.diff:https://issues.apache.org/jira/secure/attachment/12377328/Derby3358_v6.diff"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12377328/Derby3358_v6.diff" title="Latest  07/Mar/08 10:04 - V.Narayanan" draggable="true" data-downloadurl="text/x-patch:Derby3358_v6.diff:https://issues.apache.org/jira/secure/attachment/12377328/Derby3358_v6.diff">Derby3358_v6.diff</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2008-03-07T10:04:02.520Z">07/Mar/08 10:04</time>
                   </dd>
                   <dd class="attachment-size">
                    0.9 kB
                   </dd>
                   <dd class="attachment-author">
                    V.Narayanan
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12377329" data-issue-id="12387364" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12377329/Derby3358_v6.stat" draggable="true" data-downloadurl="application/octet-stream:Derby3358_v6.stat:https://issues.apache.org/jira/secure/attachment/12377329/Derby3358_v6.stat"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12377329/Derby3358_v6.stat" title="Latest  07/Mar/08 10:04 - V.Narayanan" draggable="true" data-downloadurl="application/octet-stream:Derby3358_v6.stat:https://issues.apache.org/jira/secure/attachment/12377329/Derby3358_v6.stat">Derby3358_v6.stat</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2008-03-07T10:04:02.552Z">07/Mar/08 10:04</time>
                   </dd>
                   <dd class="attachment-size">
                    0.1 kB
                   </dd>
                   <dd class="attachment-author">
                    V.Narayanan
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12376390" data-issue-id="12387364" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12376390/Derby3358.diff" draggable="true" data-downloadurl="text/x-patch:Derby3358.diff:https://issues.apache.org/jira/secure/attachment/12376390/Derby3358.diff"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12376390/Derby3358.diff" title="Latest  25/Feb/08 09:53 - V.Narayanan" draggable="true" data-downloadurl="text/x-patch:Derby3358.diff:https://issues.apache.org/jira/secure/attachment/12376390/Derby3358.diff">Derby3358.diff</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2008-02-25T09:53:50.272Z">25/Feb/08 09:53</time>
                   </dd>
                   <dd class="attachment-size">
                    14 kB
                   </dd>
                   <dd class="attachment-author">
                    V.Narayanan
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12376391" data-issue-id="12387364" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12376391/Derby3358.stat" draggable="true" data-downloadurl="application/octet-stream:Derby3358.stat:https://issues.apache.org/jira/secure/attachment/12376391/Derby3358.stat"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12376391/Derby3358.stat" title="Latest  25/Feb/08 09:53 - V.Narayanan" draggable="true" data-downloadurl="application/octet-stream:Derby3358.stat:https://issues.apache.org/jira/secure/attachment/12376391/Derby3358.stat">Derby3358.stat</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2008-02-25T09:53:50.316Z">25/Feb/08 09:53</time>
                   </dd>
                   <dd class="attachment-size">
                    0.4 kB
                   </dd>
                   <dd class="attachment-author">
                    V.Narayanan
                   </dd>
                  </dl></li>
                </ol>
               </div>
              </div>
              <div id="linkingmodule" class="module toggle-wrap">
               <div id="linkingmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Issue Links</h2>
               </div>
               <div class="mod-content"> 
                <div class="links-container" data-default-link-icon="/jira/images/icons/generic_link_16.png"> 
                 <dl class="links-list "> 
                  <dt title="is depended upon by">
                   is depended upon by
                  </dt> 
                  <dd id="internal-12390029_10001"> 
                   <div class="link-content"> 
                    <p> <img src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype" width="16" height="16" title="Bug - A problem which impairs or prevents the functions of the product." alt="Bug - A problem which impairs or prevents the functions of the product."> <span title="DERBY-3489: Error message XRE04 does not include the right port number."> <a href="/jira/browse/DERBY-3489" data-issue-key="DERBY-3489" class="issue-link link-title resolution">DERBY-3489</a> <span class="link-summary">Error message XRE04 does not include the right port number.</span> </span> </p> 
                    <ul class="link-snapshot"> 
                     <li class="priority"> <img src="/jira/images/icons/priorities/major.svg" width="16" height="16" title="Major - Major loss of function." alt="Major - Major loss of function."> </li> 
                     <li class="status"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done aui-lozenge-subtle jira-issue-status-lozenge-max-width-short" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </li> 
                    </ul> 
                   </div> 
                  </dd> 
                 </dl> 
                </div> 
               </div>
              </div>
              <div id="activitymodule" class="module toggle-wrap">
               <div id="activitymodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Activity</h2>
               </div>
               <div class="mod-content"> 
                <big-pipe data-id="activity-panel-pipe-id" style="height: 70px"> 
                 <div></div> 
                </big-pipe> 
               </div>
              </div>
             </div>
             <div id="viewissuesidebar" class="aui-item issue-side-column">
              <div id="peoplemodule" class="module toggle-wrap">
               <div id="peoplemodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">People</h2>
               </div>
               <div class="mod-content"> 
                <ul class="item-details" id="peopledetails"> 
                 <li class="people-details"> 
                  <dl> 
                   <dt>
                    Assignee:
                   </dt> 
                   <dd> 
                    <span id="assignee-val" class="view-issue-field"> <span class="user-hover" id="issue_summary_assignee_narayanan" rel="narayanan" data-user="{&quot;avatarUrl&quot;:&quot;https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10452&quot;,&quot;displayName&quot;:&quot;V.Narayanan&quot;,&quot;emailAddress&quot;:&quot;v.narayanan@sun.com-disabled&quot;,&quot;username&quot;:&quot;narayanan&quot;}"> <span class="aui-avatar aui-avatar-small"><span class="aui-avatar-inner"><img src="https://issues.apache.org/jira/secure/useravatar?size=small&amp;avatarId=10452" alt="narayanan"></span></span> V.Narayanan </span> </span> 
                   </dd> 
                  </dl> 
                  <dl> 
                   <dt>
                    Reporter:
                   </dt> 
                   <dd> 
                    <span id="reporter-val" class="view-issue-field"> <span class="user-hover" id="issue_summary_reporter_olesolberg" rel="olesolberg" data-user="{&quot;avatarUrl&quot;:&quot;https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10452&quot;,&quot;displayName&quot;:&quot;Ole Solberg&quot;,&quot;emailAddress&quot;:&quot;Ole.Solberg@Sun.COM&quot;,&quot;username&quot;:&quot;olesolberg&quot;}"> <span class="aui-avatar aui-avatar-small"><span class="aui-avatar-inner"><img src="https://issues.apache.org/jira/secure/useravatar?size=small&amp;avatarId=10452" alt="olesolberg"></span></span> Ole Solberg </span> </span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
                <ul class="item-details"> 
                 <li> 
                  <dl> 
                   <dt>
                    Votes:
                   </dt> 
                   <dd> 
                    <span id="vote-data" class="aui-badge vote-state-off">0</span> 
                    <span id="vote-label" title="You have to be logged in to vote for an issue.">Vote for this issue</span> 
                   </dd> 
                  </dl> 
                  <dl> 
                   <dt>
                    Watchers:
                   </dt> 
                   <dd> 
                    <span id="watcher-data" class="aui-badge watch-state-off">0</span> 
                    <span id="watch-label" title="You have to be logged in to watch an issue.">Start watching this issue</span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
               </div>
              </div>
              <div id="datesmodule" class="module toggle-wrap">
               <div id="datesmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Dates</h2>
               </div>
               <div class="mod-content"> 
                <ul class="item-details"> 
                 <li> 
                  <dl class="dates"> 
                   <dt>
                    Created:
                   </dt> 
                   <dd class="date user-tz" title="29/Jan/08 10:19"> 
                    <span data-name="Created" id="created-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2008-01-29T10:19:21+0000">29/Jan/08 10:19</time> </span> 
                   </dd> 
                  </dl> 
                  <dl class="dates"> 
                   <dt>
                    Updated:
                   </dt> 
                   <dd class="date user-tz" title="02/May/13 02:29"> 
                    <span data-name="Updated" id="updated-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2013-05-02T02:29:13+0000">02/May/13 02:29</time> </span> 
                   </dd> 
                  </dl> 
                  <dl class="dates"> 
                   <dt>
                    Resolved:
                   </dt> 
                   <dd class="date user-tz" title="07/Apr/08 08:51"> 
                    <span data-name="Resolved" id="resolutiondate-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2008-04-07T08:51:43+0000">07/Apr/08 08:51</time> </span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
               </div>
              </div>
             </div>
            </div>
           </div>
          </div>
         </div>
        </div>
       </div>
      </div>
     </div>
     <!-- .aui-page-panel-inner -->
    </div>
    <!-- .aui-page-panel -->
    <div class="issue-navigator-init"></div> 
   </section> 
   <footer id="footer" role="contentinfo"> 
    <section class="footer-body"> 
     <ul class="atlassian-footer"> 
      <li> Atlassian JIRA <a class="seo-link" rel="nofollow" href="https://www.atlassian.com/software/jira">Project Management Software</a> <span id="footer-build-information">(v7.6.3#76005-<span title="8a4e38d34af948780dbf52044e7aafb13a7cae58" data-commit-id="8a4e38d34af948780dbf52044e7aafb13a7cae58}">sha1:8a4e38d</span>)</span> </li> 
      <li> <a id="about-link" rel="nofollow" href="/jira/secure/AboutPage.jspa/secure/AboutPage.jspa">About JIRA</a> </li> 
      <li> <a id="footer-report-problem-link" rel="nofollow" href="/jira/secure/CreateIssue!default.jspa">Report a problem</a> </li> 
     </ul> 
     <ul class="atlassian-footer"> 
      <li class="licensemessage"> Powered by a free Atlassian <a rel="nofollow" href="http://www.atlassian.com/software/jira">JIRA</a> open source license for Apache Software Foundation. Try JIRA - <a rel="nofollow" href="http://www.atlassian.com/software/jira">bug tracking software</a> for <i>your</i> team. </li> 
     </ul> 
     <div id="footer-logo">
      <a rel="nofollow" href="http://www.atlassian.com/">Atlassian</a>
     </div> 
    </section> 
    <fieldset class="hidden parameters"> 
     <input type="hidden" title="loggedInUser" value=""> 
     <input type="hidden" title="ajaxTimeout" value="The call to the JIRA server did not complete within the timeout period.  We are unsure of the result of this operation."> 
     <input type="hidden" title="JiraVersion" value="7.6.3"> 
     <input type="hidden" title="ajaxUnauthorised" value="You are not authorised to perform this operation. Please log in."> 
     <input type="hidden" title="baseURL" value="https://issues.apache.org/jira"> 
     <input type="hidden" title="ajaxCommsError" value="The JIRA server could not be contacted. This may be a temporary glitch or the server may be down. "> 
     <input type="hidden" title="ajaxServerError" value="The JIRA server was contacted but has returned an error response. We are unsure of the result of this operation."> 
     <input type="hidden" title="ajaxErrorCloseDialog" value="Close this dialog and press refresh in your browser"> 
     <input type="hidden" title="ajaxErrorDialogHeading" value="Communications Breakdown"> 
     <input type="hidden" title="dirtyMessage" value="You have entered new data on this page. If you navigate away from this page without first saving your data, the changes will be lost."> 
     <input type="hidden" title="dirtyDialogMessage" value="You have entered new data in this dialog. If you navigate away from this dialog without first saving your data, the changes will be lost. Click cancel to return to the dialog."> 
     <input type="hidden" title="keyType" value="Type"> 
     <input type="hidden" title="keyThen" value="then"> 
     <input type="hidden" title="dblClickToExpand" value="Double click to expand"> 
     <input type="hidden" title="actions" value="Actions"> 
     <input type="hidden" title="removeItem" value="Remove"> 
     <input type="hidden" title="workflow" value="Workflow"> 
     <input type="hidden" title="labelNew" value="New Label"> 
     <input type="hidden" title="issueActionsHint" value="Begin typing for available operations or press down to see all"> 
     <input type="hidden" title="closelink" value="Close"> 
     <input type="hidden" title="dotOperations" value="Operations"> 
     <input type="hidden" title="dotLoading" value="Loading..."> 
     <input type="hidden" title="frotherSuggestions" value="Suggestions"> 
     <input type="hidden" title="frotherNomatches" value="No Matches"> 
     <input type="hidden" title="multiselectVersionsError" value="{0} is not a valid version."> 
     <input type="hidden" title="multiselectComponentsError" value="{0} is not a valid component."> 
     <input type="hidden" title="multiselectGenericError" value="The value {0} is invalid."> 
    </fieldset> 
   </footer> 
  </div> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:bigpipe-js/jira.webresources:bigpipe-js.js" data-wrm-key="jira.webresources:bigpipe-js" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["activity-panel-pipe-id"]="\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n    \u003cdiv class=\\\"tabwrap tabs2\\\"\u003e\\n\\n        \u003cul id=\\\"issue-tabs\\\" class=\\\"tabs horizontal\\\"\u003e\\n                                \\n            \u003cli  data-id=\\\"all-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\" data-label=\\\"All\\\" data-href=\\\"\\/jira\\/browse\\/DERBY-3358?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"all-tabpanel\\\" href=\\\"\\/jira\\/browse\\/DERBY-3358?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\"\u003e\u003cstrong\u003eAll\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  class=\\\"active\\\" id=\\\"comment-tabpanel\\\"  data-id=\\\"comment-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel\\\" data-label=\\\"Comments\\\" data-href=\\\"\\/jira\\/browse\\/DERBY-3358?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel\\\"\u003e\\n                            \u003cstrong tabindex=\\\"0\\\"\u003eComments\u003c\\/strong\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"worklog-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\" data-label=\\\"Work Log\\\" data-href=\\\"\\/jira\\/browse\\/DERBY-3358?page=com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"worklog-tabpanel\\\" href=\\\"\\/jira\\/browse\\/DERBY-3358?page=com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\"\u003e\u003cstrong\u003eWork Log\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"changehistory-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\" data-label=\\\"History\\\" data-href=\\\"\\/jira\\/browse\\/DERBY-3358?page=com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"changehistory-tabpanel\\\" href=\\\"\\/jira\\/browse\\/DERBY-3358?page=com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\"\u003e\u003cstrong\u003eHistory\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"activity-stream-issue-tab\\\" data-key=\\\"com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\" data-label=\\\"Activity\\\" data-href=\\\"\\/jira\\/browse\\/DERBY-3358?page=com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"activity-stream-issue-tab\\\" href=\\\"\\/jira\\/browse\\/DERBY-3358?page=com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\"\u003e\u003cstrong\u003eActivity\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"transitions-summary-tabpanel\\\" data-key=\\\"com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\" data-label=\\\"Transitions\\\" data-href=\\\"\\/jira\\/browse\\/DERBY-3358?page=com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"transitions-summary-tabpanel\\\" href=\\\"\\/jira\\/browse\\/DERBY-3358?page=com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\"\u003e\u003cstrong\u003eTransitions\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                \u003c\\/ul\u003e\\n\\n                    \u003cdiv class=\\\"sortwrap\\\"\u003e\\n                                    \u003ca class=\\\"issue-activity-sort-link ajax-activity-content\\\" rel=\\\"nofollow\\\" data-tab-sort data-order=\\\"desc\\\" href=\\\"\\/jira\\/browse\\/DERBY-3358?actionOrder=desc\\\" title=\\\"Ascending order - Click to sort in descending order\\\"\u003e\\n                        \u003cspan class=\\\"aui-icon aui-icon-small aui-iconfont-up\\\"\u003eAscending order - Click to sort in descending order\u003c\\/span\u003e\\n                    \u003c\\/a\u003e\\n                            \u003c\\/div\u003e\\n            \u003c\\/div\u003e\\n    \u003cdiv class=\\\"issuePanelWrapper\\\"\u003e\\n        \u003cdiv class=\\\"issuePanelProgress\\\"\u003e\u003c\\/div\u003e\\n        \u003cdiv class=\\\"issuePanelContainer\\\" id=\\\"issue_actions_container\\\"\u003e\\n                                    \\n\\n\\n\u003cdiv id=\\\"comment-12563456\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3358?focusedCommentId=12563456&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12563456\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jorgenlo\\\" id=\\\"commentauthor_12563456_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jorgenlo\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jorgenlo\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e J\\u00F8rgen L\\u00F8land\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12563456_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Jan\\/08 10:34\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-01-29T10:34:44+0000\'\u003e29\\/Jan\\/08 10:34\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI think this is caused by not unplugging the Socket in MasterController when the master replication functionality is turned off.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jorgenlo\\\" id=\\\"commentauthor_12563456_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jorgenlo\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jorgenlo\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e J\\u00F8rgen L\\u00F8land\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12563456_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Jan\\/08 10:34\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-01-29T10:34:44+0000\'\u003e29\\/Jan\\/08 10:34\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I think this is caused by not unplugging the Socket in MasterController when the master replication functionality is turned off.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12563458\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3358?focusedCommentId=12563458&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12563458\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"olesolberg\\\" id=\\\"commentauthor_12563458_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=olesolberg\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"olesolberg\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ole Solberg\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12563458_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Jan\\/08 10:36\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-01-29T10:36:27+0000\'\u003e29\\/Jan\\/08 10:36\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eIf in this state we do a stopMaster command a NPE is thrown:\u003c\\/p\u003e\\n\\n\u003cp\u003eCONNECT \'jdbc:derby:\\/\\/atum11:8888\\/test;stopMaster=true\';\u003cbr\\/\u003e\\nERROR XJ001: DERBY SQL error: SQLCODE: -1, SQLSTATE: XJ001, SQLERRMC: java.lang.NullPointerExceptionXJ001.U\u003c\\/p\u003e\\n\\n\u003cp\u003emaster derby.log:\u003cbr\\/\u003e\\n2008-01-29 10:24:07.228 GMT Thread\u003cspan class=\\\"error\\\"\u003e&#91;DRDAConnThread_4,5,main&#93;\u003c\\/span\u003e (XID = 423), (SESSIONID = 4), (DATABASE = test), (DRDAID = \u003c\\/p\u003e\\n{6}), Cleanup action starting\u003cbr\\/\u003e\\njava.lang.NullPointerException\u003cbr\\/\u003e\\n\\tat org.apache.derby.impl.services.replication.master.MasterController.stopMaster(MasterController.java:213)\u003cbr\\/\u003e\\n\\tat org.apache.derby.impl.store.raw.RawStore.stopReplicationMaster(RawStore.java:526)\u003cbr\\/\u003e\\n\\tat org.apache.derby.impl.store.access.RAMAccessManager.stopReplicationMaster(RAMAccessManager.java:938)\u003cbr\\/\u003e\\n\\tat org.apache.derby.impl.db.BasicDatabase.stopReplicationMaster(BasicDatabase.java:388)\u003cbr\\/\u003e\\n\\tat org.apache.derby.impl.jdbc.EmbedConnection.handleStopReplicationMaster(EmbedConnection.java:683)\u003cbr\\/\u003e\\n\\tat org.apache.derby.impl.jdbc.EmbedConnection.&lt;init&gt;(EmbedConnection.java:344)\u003cbr\\/\u003e\\n\\tat org.apache.derby.impl.jdbc.EmbedConnection30.&lt;init&gt;(EmbedConnection30.java:73)\u003cbr\\/\u003e\\n\\tat org.apache.derby.impl.jdbc.EmbedConnection40.&lt;init&gt;(EmbedConnection40.java:54)\u003cbr\\/\u003e\\n\\tat org.apache.derby.jdbc.Driver40.getNewEmbedConnection(Driver40.java:68)\u003cbr\\/\u003e\\n\\tat org.apache.derby.jdbc.InternalDriver.connect(InternalDriver.java:211)\u003cbr\\/\u003e\\n\\tat org.apache.derby.jdbc.AutoloadedDriver.connect(AutoloadedDriver.java:119)\u003cbr\\/\u003e\\n\\tat org.apache.derby.impl.drda.Database.makeConnection(Database.java:234)\u003cbr\\/\u003e\\n\\tat org.apache.derby.impl.drda.DRDAConnThread.getConnFromDatabaseName(DRDAConnThread.java:1346)\u003cbr\\/\u003e\\n\\tat org.apache.derby.impl.drda.DRDAConnThread.verifyUserIdPassword(DRDAConnThread.java:1296)\u003cbr\\/\u003e\\n\\tat org.apache.derby.impl.drda.DRDAConnThread.parseSECCHK(DRDAConnThread.java:3033)\u003cbr\\/\u003e\\n\\tat org.apache.derby.impl.drda.DRDAConnThread.parseDRDAConnection(DRDAConnThread.java:1090)\u003cbr\\/\u003e\\n\\tat org.apache.derby.impl.drda.DRDAConnThread.processCommands(DRDAConnThread.java:932)\u003cbr\\/\u003e\\n\\tat org.apache.derby.impl.drda.DRDAConnThread.run(DRDAConnThread.java:277)\u003cbr\\/\u003e\\nCleanup action completed\u003cbr\\/\u003e\\n2008-01-29 10:24:07.228 GMT Thread\u003cspan class=\\\"error\\\"\u003e&#91;DRDAConnThread_4,5,main&#93;\u003c\\/span\u003e Cleanup action starting\u003cbr\\/\u003e\\njava.lang.NullPointerException\u003cbr\\/\u003e\\n\\tat org.apache.derby.impl.services.replication.master.MasterController.stopMaster(MasterController.java:213)\u003cbr\\/\u003e\\n\\tat org.apache.derby.impl.store.raw.RawStore.stopReplicationMaster(RawStore.java:526)\u003cbr\\/\u003e\\n\\tat org.apache.derby.impl.store.access.RAMAccessManager.stopReplicationMaster(RAMAccessManager.java:938)\u003cbr\\/\u003e\\n\\tat org.apache.derby.impl.db.BasicDatabase.stopReplicationMaster(BasicDatabase.java:388)\u003cbr\\/\u003e\\n\\tat org.apache.derby.impl.jdbc.EmbedConnection.handleStopReplicationMaster(EmbedConnection.java:683)\u003cbr\\/\u003e\\n\\tat org.apache.derby.impl.jdbc.EmbedConnection.&lt;init&gt;(EmbedConnection.java:344)\u003cbr\\/\u003e\\n\\tat org.apache.derby.impl.jdbc.EmbedConnection30.&lt;init&gt;(EmbedConnection30.java:73)\u003cbr\\/\u003e\\n\\tat org.apache.derby.impl.jdbc.EmbedConnection40.&lt;init&gt;(EmbedConnection40.java:54)\u003cbr\\/\u003e\\n\\tat org.apache.derby.jdbc.Driver40.getNewEmbedConnection(Driver40.java:68)\u003cbr\\/\u003e\\n\\tat org.apache.derby.jdbc.InternalDriver.connect(InternalDriver.java:211)\u003cbr\\/\u003e\\n\\tat org.apache.derby.jdbc.AutoloadedDriver.connect(AutoloadedDriver.java:119)\u003cbr\\/\u003e\\n\\tat org.apache.derby.impl.drda.Database.makeConnection(Database.java:234)\u003cbr\\/\u003e\\n\\tat org.apache.derby.impl.drda.DRDAConnThread.getConnFromDatabaseName(DRDAConnThread.java:1346)\u003cbr\\/\u003e\\n\\tat org.apache.derby.impl.drda.DRDAConnThread.verifyUserIdPassword(DRDAConnThread.java:1296)\u003cbr\\/\u003e\\n\\tat org.apache.derby.impl.drda.DRDAConnThread.parseSECCHK(DRDAConnThread.java:3033)\u003cbr\\/\u003e\\n\\tat org.apache.derby.impl.drda.DRDAConnThread.parseDRDAConnection(DRDAConnThread.java:1090)\u003cbr\\/\u003e\\n\\tat org.apache.derby.impl.drda.DRDAConnThread.processCommands(DRDAConnThread.java:932)\u003cbr\\/\u003e\\n\\tat org.apache.derby.impl.drda.DRDAConnThread.run(DRDAConnThread.java:277)\u003cbr\\/\u003e\\nCleanup action completed\u003cbr\\/\u003e\\n2008-01-29 10:24:07.231 GMT Thread\u003cspan class=\\\"error\\\"\u003e&#91;DRDAConnThread_4,5,main&#93;\u003c\\/span\u003e (DATABASE = test), (DRDAID = {6}\\n\u003cp\u003e), Java exception: \': java.lang.NullPointerException\'.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"olesolberg\\\" id=\\\"commentauthor_12563458_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=olesolberg\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"olesolberg\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Ole Solberg\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12563458_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Jan\\/08 10:36\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-01-29T10:36:27+0000\'\u003e29\\/Jan\\/08 10:36\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    If in this state we do a stopMaster command a NPE is thrown: \\n\\n CONNECT \'jdbc:derby:\\/\\/atum11:8888\\/test;stopMaster=true\'; \\nERROR XJ001: DERBY SQL error: SQLCODE: -1, SQLSTATE: XJ001, SQLERRMC: java.lang.NullPointerExceptionXJ001.U \\n\\n master derby.log: \\n2008-01-29 10:24:07.228 GMT Thread &#91;DRDAConnThread_4,5,main&#93;  (XID = 423), (SESSIONID = 4), (DATABASE = test), (DRDAID =  \\n{6}), Cleanup action starting \\njava.lang.NullPointerException \\n\\tat org.apache.derby.impl.services.replication.master.MasterController.stopMaster(MasterController.java:213) \\n\\tat org.apache.derby.impl.store.raw.RawStore.stopReplicationMaster(RawStore.java:526) \\n\\tat org.apache.derby.impl.store.access.RAMAccessManager.stopReplicationMaster(RAMAccessManager.java:938) \\n\\tat org.apache.derby.impl.db.BasicDatabase.stopReplicationMaster(BasicDatabase.java:388) \\n\\tat org.apache.derby.impl.jdbc.EmbedConnection.handleStopReplicationMaster(EmbedConnection.java:683) \\n\\tat org.apache.derby.impl.jdbc.EmbedConnection.&lt;init&gt;(EmbedConnection.java:344) \\n\\tat org.apache.derby.impl.jdbc.EmbedConnection30.&lt;init&gt;(EmbedConnection30.java:73) \\n\\tat org.apache.derby.impl.jdbc.EmbedConnection40.&lt;init&gt;(EmbedConnection40.java:54) \\n\\tat org.apache.derby.jdbc.Driver40.getNewEmbedConnection(Driver40.java:68) \\n\\tat org.apache.derby.jdbc.InternalDriver.connect(InternalDriver.java:211) \\n\\tat org.apache.derby.jdbc.AutoloadedDriver.connect(AutoloadedDriver.java:119) \\n\\tat org.apache.derby.impl.drda.Database.makeConnection(Database.java:234) \\n\\tat org.apache.derby.impl.drda.DRDAConnThread.getConnFromDatabaseName(DRDAConnThread.java:1346) \\n\\tat org.apache.derby.impl.drda.DRDAConnThread.verifyUserIdPassword(DRDAConnThread.java:1296) \\n\\tat org.apache.derby.impl.drda.DRDAConnThread.parseSECCHK(DRDAConnThread.java:3033) \\n\\tat org.apache.derby.impl.drda.DRDAConnThread.parseDRDAConnection(DRDAConnThread.java:1090) \\n\\tat org.apache.derby.impl.drda.DRDAConnThread.processCommands(DRDAConnThread.java:932) \\n\\tat org.apache.derby.impl.drda.DRDAConnThread.run(DRDAConnThread.java:277) \\nCleanup action completed \\n2008-01-29 10:24:07.228 GMT Thread &#91;DRDAConnThread_4,5,main&#93;  Cleanup action starting \\njava.lang.NullPointerException \\n\\tat org.apache.derby.impl.services.replication.master.MasterController.stopMaster(MasterController.java:213) \\n\\tat org.apache.derby.impl.store.raw.RawStore.stopReplicationMaster(RawStore.java:526) \\n\\tat org.apache.derby.impl.store.access.RAMAccessManager.stopReplicationMaster(RAMAccessManager.java:938) \\n\\tat org.apache.derby.impl.db.BasicDatabase.stopReplicationMaster(BasicDatabase.java:388) \\n\\tat org.apache.derby.impl.jdbc.EmbedConnection.handleStopReplicationMaster(EmbedConnection.java:683) \\n\\tat org.apache.derby.impl.jdbc.EmbedConnection.&lt;init&gt;(EmbedConnection.java:344) \\n\\tat org.apache.derby.impl.jdbc.EmbedConnection30.&lt;init&gt;(EmbedConnection30.java:73) \\n\\tat org.apache.derby.impl.jdbc.EmbedConnection40.&lt;init&gt;(EmbedConnection40.java:54) \\n\\tat org.apache.derby.jdbc.Driver40.getNewEmbedConnection(Driver40.java:68) \\n\\tat org.apache.derby.jdbc.InternalDriver.connect(InternalDriver.java:211) \\n\\tat org.apache.derby.jdbc.AutoloadedDriver.connect(AutoloadedDriver.java:119) \\n\\tat org.apache.derby.impl.drda.Database.makeConnection(Database.java:234) \\n\\tat org.apache.derby.impl.drda.DRDAConnThread.getConnFromDatabaseName(DRDAConnThread.java:1346) \\n\\tat org.apache.derby.impl.drda.DRDAConnThread.verifyUserIdPassword(DRDAConnThread.java:1296) \\n\\tat org.apache.derby.impl.drda.DRDAConnThread.parseSECCHK(DRDAConnThread.java:3033) \\n\\tat org.apache.derby.impl.drda.DRDAConnThread.parseDRDAConnection(DRDAConnThread.java:1090) \\n\\tat org.apache.derby.impl.drda.DRDAConnThread.processCommands(DRDAConnThread.java:932) \\n\\tat org.apache.derby.impl.drda.DRDAConnThread.run(DRDAConnThread.java:277) \\nCleanup action completed \\n2008-01-29 10:24:07.231 GMT Thread &#91;DRDAConnThread_4,5,main&#93;  (DATABASE = test), (DRDAID = {6}\\n ), Java exception: \': java.lang.NullPointerException\'.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12566992\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3358?focusedCommentId=12566992&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12566992\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12566992_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12566992_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Feb\\/08 11:33\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-02-08T11:33:55+0000\'\u003e08\\/Feb\\/08 11:33\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThe boot method of the service module is called only once upon boot time. On all other times\u003cbr\\/\u003e\\nthis method will not be called. We pass the host name and the port number in a properties\u003cbr\\/\u003e\\nobject where the attributes replicationMode, slavehost, slaveport, dbname are initialized.\u003cbr\\/\u003e\\n(I confirmed this by printing the slavehost and the slaveport in the boot method and noticed that\u003cbr\\/\u003e\\nthis gets printed only once during the initial initialization).\u003c\\/p\u003e\\n\\n\u003cp\u003eThe first time startMaster happens with the wrong port number these attributes are intialized\u003cbr\\/\u003e\\nand do not get initialized on subsequent calls to startMaster since the boot method is never\u003cbr\\/\u003e\\ncalled. Hence we keep trying with the first initialized values resulting in the connection\u003cbr\\/\u003e\\nproblems.\u003c\\/p\u003e\\n\\n\u003cp\u003eA simple solution would be to move initialization of the attributes to the call to startMaster.\u003c\\/p\u003e\\n\\n\u003cp\u003eI think a similar thing would need to be done for the other replication commands as well.\u003c\\/p\u003e\\n\\n\u003cp\u003eI am not an expert in the Module and Monitor part of the codebase. I am hoping that people who\u003cbr\\/\u003e\\nare familiar with this area could pls tell me if my analysis is correct and if the fix proposed\u003cbr\\/\u003e\\nwould be the right one to go with.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12566992_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12566992_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Feb\\/08 11:33\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-02-08T11:33:55+0000\'\u003e08\\/Feb\\/08 11:33\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    The boot method of the service module is called only once upon boot time. On all other times \\nthis method will not be called. We pass the host name and the port number in a properties \\nobject where the attributes replicationMode, slavehost, slaveport, dbname are initialized. \\n(I confirmed this by printing the slavehost and the slaveport in the boot method and noticed that \\nthis gets printed only once during the initial initialization). \\n\\n The first time startMaster happens with the wrong port number these attributes are intialized \\nand do not get initialized on subsequent calls to startMaster since the boot method is never \\ncalled. Hence we keep trying with the first initialized values resulting in the connection \\nproblems. \\n\\n A simple solution would be to move initialization of the attributes to the call to startMaster. \\n\\n I think a similar thing would need to be done for the other replication commands as well. \\n\\n I am not an expert in the Module and Monitor part of the codebase. I am hoping that people who \\nare familiar with this area could pls tell me if my analysis is correct and if the fix proposed \\nwould be the right one to go with.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12567023\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3358?focusedCommentId=12567023&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12567023\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jorgenlo\\\" id=\\\"commentauthor_12567023_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jorgenlo\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jorgenlo\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e J\\u00F8rgen L\\u00F8land\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12567023_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Feb\\/08 12:51\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-02-08T12:51:36+0000\'\u003e08\\/Feb\\/08 12:51\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI don\'t think the problem is best solved by moving code from MasterController#boot to MC#startMaster, but rather to unboot the MasterFactory if startMaster fails by throwing an exception. \u003c\\/p\u003e\\n\\n\u003cp\u003eWhile experimenting with this I found another closely related bug though: after a successful startMaster, a new startMaster connection attempt will hang. Instead of a hang, it should throw an exception.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jorgenlo\\\" id=\\\"commentauthor_12567023_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jorgenlo\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jorgenlo\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e J\\u00F8rgen L\\u00F8land\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12567023_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Feb\\/08 12:51\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-02-08T12:51:36+0000\'\u003e08\\/Feb\\/08 12:51\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I don\'t think the problem is best solved by moving code from MasterController#boot to MC#startMaster, but rather to unboot the MasterFactory if startMaster fails by throwing an exception.  \\n\\n While experimenting with this I found another closely related bug though: after a successful startMaster, a new startMaster connection attempt will hang. Instead of a hang, it should throw an exception.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12567026\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3358?focusedCommentId=12567026&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12567026\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jorgenlo\\\" id=\\\"commentauthor_12567026_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jorgenlo\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jorgenlo\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e J\\u00F8rgen L\\u00F8land\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12567026_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Feb\\/08 12:57\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-02-08T12:57:11+0000\'\u003e08\\/Feb\\/08 12:57\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eHang in master server if startMaster command is given twice already reported by  Ole Solberg: \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-3374\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttps:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-3374\u003c\\/a\u003e\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jorgenlo\\\" id=\\\"commentauthor_12567026_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jorgenlo\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jorgenlo\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e J\\u00F8rgen L\\u00F8land\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12567026_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Feb\\/08 12:57\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-02-08T12:57:11+0000\'\u003e08\\/Feb\\/08 12:57\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Hang in master server if startMaster command is given twice already reported by  Ole Solberg:  https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-3374               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12568058\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3358?focusedCommentId=12568058&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12568058\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12568058_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12568058_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Feb\\/08 11:29\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-02-12T11:29:22+0000\'\u003e12\\/Feb\\/08 11:29\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003e&gt;I don\'t think the problem is best solved by moving code from MasterController#boot \u003cbr\\/\u003e\\n&gt;to MC#startMaster, but rather to unboot the MasterFactory if startMaster fails by \u003cbr\\/\u003e\\n&gt;throwing an exception.\u003c\\/p\u003e\\n\\n\u003cp\u003eA module can be stopped. I guess that is what you meant by unbooted here. The\u003cbr\\/\u003e\\njavadoc for the stop method says this\u003c\\/p\u003e\\n\\n\u003cp\u003e\\\"The module may be found via a findModule() method until some time after\u003cbr\\/\u003e\\n this method returns. Therefore the factory must be prepared to reject requests\u003cbr\\/\u003e\\n to it once it has been stopped. In addition other modules may cache a reference\u003cbr\\/\u003e\\n to the module and make requests of it after it has been stopped, these requests\u003cbr\\/\u003e\\n should be rejected as well.\\\"\u003c\\/p\u003e\\n\\n\u003cp\u003eBasically you would not be clearing the startup parameters or making the findServiceModule\u003cbr\\/\u003e\\nreturn a null or invalid value by stopping(unbooting). It is upto to the logic within the\u003cbr\\/\u003e\\nMasterController to handle this.\u003c\\/p\u003e\\n\\n\u003cp\u003eI still do not think hostName and portNumber ought to be startup parameters for the MasterController\u003cbr\\/\u003e\\nmodule.\u003c\\/p\u003e\\n\\n\u003cp\u003eI think they are parameters for the master start (replication start) functionality and ought to form\u003cbr\\/\u003e\\npart of the paramters of the startMasterController method.\u003c\\/p\u003e\\n\\n\u003cp\u003eSuppose the other functionality provided stop, failover required specific paramters to be passed\u003cbr\\/\u003e\\nwe would need to pass them while calling these methods, what would happen if one of these parameters\u003cbr\\/\u003e\\nhad been wrong? I think the same case applies to startMaster as well. \u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12568058_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12568058_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Feb\\/08 11:29\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-02-12T11:29:22+0000\'\u003e12\\/Feb\\/08 11:29\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    &gt;I don\'t think the problem is best solved by moving code from MasterController#boot  \\n&gt;to MC#startMaster, but rather to unboot the MasterFactory if startMaster fails by  \\n&gt;throwing an exception. \\n\\n A module can be stopped. I guess that is what you meant by unbooted here. The \\njavadoc for the stop method says this \\n\\n \\\"The module may be found via a findModule() method until some time after \\n this method returns. Therefore the factory must be prepared to reject requests \\n to it once it has been stopped. In addition other modules may cache a reference \\n to the module and make requests of it after it has been stopped, these requests \\n should be rejected as well.\\\" \\n\\n Basically you would not be clearing the startup parameters or making the findServiceModule \\nreturn a null or invalid value by stopping(unbooting). It is upto to the logic within the \\nMasterController to handle this. \\n\\n I still do not think hostName and portNumber ought to be startup parameters for the MasterController \\nmodule. \\n\\n I think they are parameters for the master start (replication start) functionality and ought to form \\npart of the paramters of the startMasterController method. \\n\\n Suppose the other functionality provided stop, failover required specific paramters to be passed \\nwe would need to pass them while calling these methods, what would happen if one of these parameters \\nhad been wrong? I think the same case applies to startMaster as well.               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12568063\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3358?focusedCommentId=12568063&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12568063\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jorgenlo\\\" id=\\\"commentauthor_12568063_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jorgenlo\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jorgenlo\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e J\\u00F8rgen L\\u00F8land\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12568063_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Feb\\/08 11:54\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-02-12T11:54:02+0000\'\u003e12\\/Feb\\/08 11:54\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eNo, what I mean with \\\"unboot\\\" is to remove the module from the monitor. The monitor should in turn be calling MasterFactory#stop.\u003c\\/p\u003e\\n\\n\u003cp\u003eUnless we remove the module from the monitor, there will always be a reference to this object even when replication is not running. Hence, gc cannot remove the object from memory. I think that qualifies as a memory leak.\u003c\\/p\u003e\\n\\n\u003cp\u003eI have no idea how to unboot a module. I have the same problem with removing the SlaveFactory after a successful failover. I experimented a little bit with Monitor.getMonitor().shutdown(slaveFac) in SlaveDatabase, but it seems to shutdown the entire database. This is, of course, unacceptable.\u003c\\/p\u003e\\n\\n\u003cp\u003eI see this text in the Monitor class javadoc:\u003c\\/p\u003e\\n\\n\u003cp\u003e\\\"Optionally -  an individual module within a service may be shutdown, this will in turn shutdown any modules it started if those module are not in use by other modules within the service. This would be handled by the monitor, not the module itself. \\\"\u003c\\/p\u003e\\n\\n\u003cp\u003eHowever, I can\'t see that this functionality has been implemented.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jorgenlo\\\" id=\\\"commentauthor_12568063_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jorgenlo\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jorgenlo\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e J\\u00F8rgen L\\u00F8land\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12568063_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Feb\\/08 11:54\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-02-12T11:54:02+0000\'\u003e12\\/Feb\\/08 11:54\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    No, what I mean with \\\"unboot\\\" is to remove the module from the monitor. The monitor should in turn be calling MasterFactory#stop. \\n\\n Unless we remove the module from the monitor, there will always be a reference to this object even when replication is not running. Hence, gc cannot remove the object from memory. I think that qualifies as a memory leak. \\n\\n I have no idea how to unboot a module. I have the same problem with removing the SlaveFactory after a successful failover. I experimented a little bit with Monitor.getMonitor().shutdown(slaveFac) in SlaveDatabase, but it seems to shutdown the entire database. This is, of course, unacceptable. \\n\\n I see this text in the Monitor class javadoc: \\n\\n \\\"Optionally -  an individual module within a service may be shutdown, this will in turn shutdown any modules it started if those module are not in use by other modules within the service. This would be handled by the monitor, not the module itself. \\\" \\n\\n However, I can\'t see that this functionality has been implemented.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12568107\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3358?focusedCommentId=12568107&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12568107\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12568107_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12568107_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Feb\\/08 13:30\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-02-12T13:30:37+0000\'\u003e12\\/Feb\\/08 13:30\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003e&gt;However, I can\'t see that this functionality has been implemented.\u003c\\/p\u003e\\n\\n\u003cp\u003ei did not either and that is why I thought that you had thought about stop.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12568107_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12568107_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Feb\\/08 13:30\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-02-12T13:30:37+0000\'\u003e12\\/Feb\\/08 13:30\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    &gt;However, I can\'t see that this functionality has been implemented. \\n\\n i did not either and that is why I thought that you had thought about stop.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12571983\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3358?focusedCommentId=12571983&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12571983\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12571983_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12571983_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'24\\/Feb\\/08 23:24\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-02-24T23:24:20+0000\'\u003e24\\/Feb\\/08 23:24\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThere seems to be no satisfactory solution to unbooting a module.\u003c\\/p\u003e\\n\\n\u003cp\u003eHence I am going ahead with the workaround suggested by me earlier.\u003c\\/p\u003e\\n\\n\u003cp\u003ePlease find below the workaround implementation explained in more detail.\u003c\\/p\u003e\\n\\n\u003cp\u003eImplementation description\u003cbr\\/\u003e\\n---------------------------\u003c\\/p\u003e\\n\\n\u003cp\u003eThe properties object that is passed to the boot method can no longer\u003cbr\\/\u003e\\nbe used to initialize the MasterController startup parameters. This needs\u003cbr\\/\u003e\\nto be moved to the startMaster method.\u003c\\/p\u003e\\n\\n\u003cp\u003eA successful startup should be recorded by a boolean variable (active).\u003c\\/p\u003e\\n\\n\u003cp\u003eEach of the methods (other than startMaster) in the MasterController that form the interface to this module\u003c\\/p\u003e\\n\\n\u003cul\u003e\\n\\t\u003cli\u003estopMaster\u003c\\/li\u003e\\n\\t\u003cli\u003estartFailover\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003eshould check for the boolean variable active. If it is false they should throw an exception stating that\u003cbr\\/\u003e\\nthe master module is not active.\u003c\\/p\u003e\\n\\n\u003cp\u003eactive should be set to false in \u003c\\/p\u003e\\n\\n\u003cul\u003e\\n\\t\u003cli\u003estopMaster and\u003c\\/li\u003e\\n\\t\u003cli\u003ewhen startMaster fails.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003eA few observations\u003cbr\\/\u003e\\n------------------\u003c\\/p\u003e\\n\\n\u003cp\u003estopMaster is called from printStackAndStopMaster. printStackAndStopMaster is specifically a method\u003cbr\\/\u003e\\nthat logs log shipper exceptions. So doing a logShipper.flushBuffer() in stopMaster does not seem logical.\u003cbr\\/\u003e\\nI will wait till later today to raise a separate JIRA for this. I do not want to fix this issue as part of this JIRA.\u003c\\/p\u003e\\n\\n\u003cp\u003eA possible fix for the above would be to separate the flushBuffer and the stopMaster operations.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12571983_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12571983_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'24\\/Feb\\/08 23:24\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-02-24T23:24:20+0000\'\u003e24\\/Feb\\/08 23:24\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    There seems to be no satisfactory solution to unbooting a module. \\n\\n Hence I am going ahead with the workaround suggested by me earlier. \\n\\n Please find below the workaround implementation explained in more detail. \\n\\n Implementation description \\n--------------------------- \\n\\n The properties object that is passed to the boot method can no longer \\nbe used to initialize the MasterController startup parameters. This needs \\nto be moved to the startMaster method. \\n\\n A successful startup should be recorded by a boolean variable (active). \\n\\n Each of the methods (other than startMaster) in the MasterController that form the interface to this module \\n\\n \\n\\t stopMaster \\n\\t startFailover \\n \\n\\n\\n should check for the boolean variable active. If it is false they should throw an exception stating that \\nthe master module is not active. \\n\\n active should be set to false in  \\n\\n \\n\\t stopMaster and \\n\\t when startMaster fails. \\n \\n\\n\\n A few observations \\n------------------ \\n\\n stopMaster is called from printStackAndStopMaster. printStackAndStopMaster is specifically a method \\nthat logs log shipper exceptions. So doing a logShipper.flushBuffer() in stopMaster does not seem logical. \\nI will wait till later today to raise a separate JIRA for this. I do not want to fix this issue as part of this JIRA. \\n\\n A possible fix for the above would be to separate the flushBuffer and the stopMaster operations.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12572038\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3358?focusedCommentId=12572038&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12572038\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12572038_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12572038_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Feb\\/08 09:53\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-02-25T09:53:50+0000\'\u003e25\\/Feb\\/08 09:53\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003ePlease find below a file by file explanation of the changes for this patch\u003c\\/p\u003e\\n\\n\u003cp\u003eM      java\\/engine\\/org\\/apache\\/derby\\/impl\\/services\\/replication\\/master\\/MasterController.java\u003c\\/p\u003e\\n\\n\u003cul\u003e\\n\\t\u003cli\u003eAdded a variable boolean that indicates whether the master controller is currently running or has\u003cbr\\/\u003e\\n  been stopped. I thought I could manage with the earlier boolean variable stopMasterController but\u003cbr\\/\u003e\\n  decided against it because it seemed more tied with the stopMaster operation.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cul\u003e\\n\\t\u003cli\u003emoved start up parameter initialization from boot to startMaster method. This makes the canSupport\u003cbr\\/\u003e\\n  method also a place holder that returns true always.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cul\u003e\\n\\t\u003cli\u003echanged the startMaster, stopMaster and the startFailover methods to take into account the boolean\u003cbr\\/\u003e\\n  active.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cul\u003e\\n\\t\u003cli\u003ereplaced the earlier uses of stopMasterController with active.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003eM      java\\/engine\\/org\\/apache\\/derby\\/impl\\/store\\/raw\\/RawStore.java\u003c\\/p\u003e\\n\\n\u003cul\u003e\\n\\t\u003cli\u003eThe replication properties that are part of the bootServiceModule call no longer contain the\u003cbr\\/\u003e\\n  startup parameters. These have instead been moved to the startMaster method.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cul\u003e\\n\\t\u003cli\u003eThe replicationProps are empty and not null because a null passed to a bootServiceModule call\u003cbr\\/\u003e\\n  results in a NullPointerException.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003eM      java\\/engine\\/org\\/apache\\/derby\\/iapi\\/services\\/replication\\/master\\/MasterFactory.java\u003c\\/p\u003e\\n\\n\u003cul\u003e\\n\\t\u003cli\u003eChanged the startMaster declaration to now accept the startup parameters as the method arguments.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003eM      java\\/engine\\/org\\/apache\\/derby\\/loc\\/messages.xml\u003cbr\\/\u003e\\nM      java\\/shared\\/org\\/apache\\/derby\\/shared\\/common\\/reference\\/SQLState.java\u003c\\/p\u003e\\n\\n\u003cul\u003e\\n\\t\u003cli\u003eAdded two new messages for the cases when the master has already been booted and when the given\u003cbr\\/\u003e\\n  replication mode is not supported.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003e--------------------------------------------------------------------------------------------------\u003c\\/p\u003e\\n\\n\u003cp\u003eI tried running a repro where I connected multiple times with the wrong port number to the slave and finally attempted\u003cbr\\/\u003e\\na right connection. It works OK for me.\u003c\\/p\u003e\\n\\n\u003cp\u003eij&gt; connect \'jdbc:derby:\\/\\/localhost:1527\\/replicationdb\';\u003cbr\\/\u003e\\nij&gt; connect \'jdbc:derby:\\/\\/localhost:1527\\/replicationdb;startMaster=true;slaveHost=localhost;slavePort=8002\';\u003cbr\\/\u003e\\nERROR XJ001: DERBY SQL error: SQLCODE: -1, SQLSTATE: XJ001, SQLERRMC: java.lang.NullPointerExceptionXJ001.U\u003cbr\\/\u003e\\nij&gt; connect \'jdbc:derby:\\/\\/localhost:1527\\/replicationdb;startMaster=true;slaveHost=localhost;slavePort=8003\';\u003cbr\\/\u003e\\nERROR XJ001: DERBY SQL error: SQLCODE: -1, SQLSTATE: XJ001, SQLERRMC: java.lang.NullPointerExceptionXJ001.U\u003cbr\\/\u003e\\nij&gt; connect \'jdbc:derby:\\/\\/localhost:1527\\/replicationdb;startMaster=true;slaveHost=localhost;slavePort=8004\';\u003cbr\\/\u003e\\nERROR XJ001: DERBY SQL error: SQLCODE: -1, SQLSTATE: XJ001, SQLERRMC: java.lang.NullPointerExceptionXJ001.U\u003cbr\\/\u003e\\nij&gt;  connect \'jdbc:derby:\\/\\/localhost:1527\\/replicationdb;startMaster=true;slaveHost=localhost;slavePort=8001\';\u003cbr\\/\u003e\\nij(CONNECTION1)&gt; select * from employee;\u003cbr\\/\u003e\\nEMPNO      |NAME                          \u003cbr\\/\u003e\\n------------------------------------------\u003cbr\\/\u003e\\n1          |narayanan                     \u003cbr\\/\u003e\\n2          |satya                         \u003cbr\\/\u003e\\n3          |sanjay                        \u003cbr\\/\u003e\\n4          |Anurag                        \u003c\\/p\u003e\\n\\n\u003cp\u003e4 rows selected\u003cbr\\/\u003e\\nij(CONNECTION1)&gt; drop table employee;\u003cbr\\/\u003e\\n0 rows inserted\\/updated\\/deleted\u003cbr\\/\u003e\\nij(CONNECTION1)&gt; create table test(i int primary key, name varchar(40));\u003cbr\\/\u003e\\n0 rows inserted\\/updated\\/deleted\u003cbr\\/\u003e\\nij(CONNECTION1)&gt; insert into test values(1,\'N\');\u003cbr\\/\u003e\\n1 row inserted\\/updated\\/deleted\u003cbr\\/\u003e\\nij(CONNECTION1)&gt; insert into test values(2,\'A\');\u003cbr\\/\u003e\\n1 row inserted\\/updated\\/deleted\u003cbr\\/\u003e\\nij(CONNECTION1)&gt; insert into test values(3,\'R\');\u003cbr\\/\u003e\\n1 row inserted\\/updated\\/deleted\u003cbr\\/\u003e\\nij(CONNECTION1)&gt; select * from test;\u003cbr\\/\u003e\\nI          |NAME                                    \u003cbr\\/\u003e\\n----------------------------------------------------\u003cbr\\/\u003e\\n1          |N                                       \u003cbr\\/\u003e\\n2          |A                                       \u003cbr\\/\u003e\\n3          |R                                       \u003c\\/p\u003e\\n\\n\u003cp\u003e3 rows selected\u003cbr\\/\u003e\\nij(CONNECTION1)&gt; connect \'jdbc:derby:\\/\\/localhost:1527\\/replicationdb;failover=true\';\u003cbr\\/\u003e\\nERROR XRE20: DERBY SQL error: SQLCODE: -1, SQLSTATE: XRE20, SQLERRMC: Failover performed successfully for database \'replicationdb\', the database has been shutdown.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12572038_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12572038_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Feb\\/08 09:53\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-02-25T09:53:50+0000\'\u003e25\\/Feb\\/08 09:53\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Please find below a file by file explanation of the changes for this patch \\n\\n M      java\\/engine\\/org\\/apache\\/derby\\/impl\\/services\\/replication\\/master\\/MasterController.java \\n\\n \\n\\t Added a variable boolean that indicates whether the master controller is currently running or has \\n  been stopped. I thought I could manage with the earlier boolean variable stopMasterController but \\n  decided against it because it seemed more tied with the stopMaster operation. \\n \\n\\n\\n \\n\\t moved start up parameter initialization from boot to startMaster method. This makes the canSupport \\n  method also a place holder that returns true always. \\n \\n\\n\\n \\n\\t changed the startMaster, stopMaster and the startFailover methods to take into account the boolean \\n  active. \\n \\n\\n\\n \\n\\t replaced the earlier uses of stopMasterController with active. \\n \\n\\n\\n M      java\\/engine\\/org\\/apache\\/derby\\/impl\\/store\\/raw\\/RawStore.java \\n\\n \\n\\t The replication properties that are part of the bootServiceModule call no longer contain the \\n  startup parameters. These have instead been moved to the startMaster method. \\n \\n\\n\\n \\n\\t The replicationProps are empty and not null because a null passed to a bootServiceModule call \\n  results in a NullPointerException. \\n \\n\\n\\n M      java\\/engine\\/org\\/apache\\/derby\\/iapi\\/services\\/replication\\/master\\/MasterFactory.java \\n\\n \\n\\t Changed the startMaster declaration to now accept the startup parameters as the method arguments. \\n \\n\\n\\n M      java\\/engine\\/org\\/apache\\/derby\\/loc\\/messages.xml \\nM      java\\/shared\\/org\\/apache\\/derby\\/shared\\/common\\/reference\\/SQLState.java \\n\\n \\n\\t Added two new messages for the cases when the master has already been booted and when the given \\n  replication mode is not supported. \\n \\n\\n\\n -------------------------------------------------------------------------------------------------- \\n\\n I tried running a repro where I connected multiple times with the wrong port number to the slave and finally attempted \\na right connection. It works OK for me. \\n\\n ij&gt; connect \'jdbc:derby:\\/\\/localhost:1527\\/replicationdb\'; \\nij&gt; connect \'jdbc:derby:\\/\\/localhost:1527\\/replicationdb;startMaster=true;slaveHost=localhost;slavePort=8002\'; \\nERROR XJ001: DERBY SQL error: SQLCODE: -1, SQLSTATE: XJ001, SQLERRMC: java.lang.NullPointerExceptionXJ001.U \\nij&gt; connect \'jdbc:derby:\\/\\/localhost:1527\\/replicationdb;startMaster=true;slaveHost=localhost;slavePort=8003\'; \\nERROR XJ001: DERBY SQL error: SQLCODE: -1, SQLSTATE: XJ001, SQLERRMC: java.lang.NullPointerExceptionXJ001.U \\nij&gt; connect \'jdbc:derby:\\/\\/localhost:1527\\/replicationdb;startMaster=true;slaveHost=localhost;slavePort=8004\'; \\nERROR XJ001: DERBY SQL error: SQLCODE: -1, SQLSTATE: XJ001, SQLERRMC: java.lang.NullPointerExceptionXJ001.U \\nij&gt;  connect \'jdbc:derby:\\/\\/localhost:1527\\/replicationdb;startMaster=true;slaveHost=localhost;slavePort=8001\'; \\nij(CONNECTION1)&gt; select * from employee; \\nEMPNO      |NAME                           \\n------------------------------------------ \\n1          |narayanan                      \\n2          |satya                          \\n3          |sanjay                         \\n4          |Anurag                         \\n\\n 4 rows selected \\nij(CONNECTION1)&gt; drop table employee; \\n0 rows inserted\\/updated\\/deleted \\nij(CONNECTION1)&gt; create table test(i int primary key, name varchar(40)); \\n0 rows inserted\\/updated\\/deleted \\nij(CONNECTION1)&gt; insert into test values(1,\'N\'); \\n1 row inserted\\/updated\\/deleted \\nij(CONNECTION1)&gt; insert into test values(2,\'A\'); \\n1 row inserted\\/updated\\/deleted \\nij(CONNECTION1)&gt; insert into test values(3,\'R\'); \\n1 row inserted\\/updated\\/deleted \\nij(CONNECTION1)&gt; select * from test; \\nI          |NAME                                     \\n---------------------------------------------------- \\n1          |N                                        \\n2          |A                                        \\n3          |R                                        \\n\\n 3 rows selected \\nij(CONNECTION1)&gt; connect \'jdbc:derby:\\/\\/localhost:1527\\/replicationdb;failover=true\'; \\nERROR XRE20: DERBY SQL error: SQLCODE: -1, SQLSTATE: XRE20, SQLERRMC: Failover performed successfully for database \'replicationdb\', the database has been shutdown.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12572441\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3358?focusedCommentId=12572441&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12572441\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"oysteing\\\" id=\\\"commentauthor_12572441_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=oysteing\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"oysteing\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e \\u00D8ystein Gr\\u00F8vlen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12572441_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'26\\/Feb\\/08 11:57\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-02-26T11:57:25+0000\'\u003e26\\/Feb\\/08 11:57\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThanks, for your patch Narayanan.  I tried testing the patch, but the\u003cbr\\/\u003e\\nbug reported in \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-3454\\\" title=\\\"&#39;java.lang.NullPointerException&#39; is thrown when starting a master db before a slave one\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-3454\\\"\u003e\u003cdel\u003eDERBY-3454\u003c\\/del\u003e\u003c\\/a\u003e seems to get in the way.  Her are my\u003cbr\\/\u003e\\ncomments: \u003c\\/p\u003e\\n\\n\u003cp\u003e1. MasterController:\u003c\\/p\u003e\\n\\n\u003cp\u003e   a. boot():  An explanation of why boot is empty would be good.\u003c\\/p\u003e\\n\\n\u003cp\u003e   b. canSupport(): I do not see that it is necessary to change this\u003cbr\\/\u003e\\n      implementation.  This implementation implemenation still only\u003cbr\\/\u003e\\n      supports asynchronous replication.\u003c\\/p\u003e\\n\\n\u003cp\u003e   c. I feel the comments regarding the testing of active in\u003cbr\\/\u003e\\n      startMaster, stopMaster, and startFailover is a bit confusing.\u003cbr\\/\u003e\\n      It seems to be more a documentation of the change that is made\u003cbr\\/\u003e\\n      than of the resulting code, and I fear that it may confuse\u003cbr\\/\u003e\\n      people who do not know the history of the code.  Also, I am not\u003cbr\\/\u003e\\n      sure your use of \'idempotent\' makes sense.\u003c\\/p\u003e\\n\\n\u003cp\u003e   d. startMaster(): Why not merge the to tests that give\u003cbr\\/\u003e\\n      REPLICATION_MODE_NOT_SUPPORTED in the same if statement?\u003c\\/p\u003e\\n\\n\u003cp\u003e2. RawStore:\u003c\\/p\u003e\\n\\n\u003cp\u003e   a. It seems unecessary that RawStore#startReplicationMaster convert\u003cbr\\/\u003e\\n      port number to String, and that MasterController#startMaster\u003cbr\\/\u003e\\n      needs to convert it back to int.\u003c\\/p\u003e\\n\\n\u003cp\u003e3. Messages\u003c\\/p\u003e\\n\\n\u003cp\u003e   a. To be similar to the existing messages, I suggest leaving \'the\'\u003cbr\\/\u003e\\n      in \'... has already been booted for the database ...\'\u003c\\/p\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"oysteing\\\" id=\\\"commentauthor_12572441_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=oysteing\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"oysteing\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e \\u00D8ystein Gr\\u00F8vlen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12572441_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'26\\/Feb\\/08 11:57\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-02-26T11:57:25+0000\'\u003e26\\/Feb\\/08 11:57\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Thanks, for your patch Narayanan.  I tried testing the patch, but the \\nbug reported in   DERBY-3454   seems to get in the way.  Her are my \\ncomments:  \\n\\n 1. MasterController: \\n\\n    a. boot():  An explanation of why boot is empty would be good. \\n\\n    b. canSupport(): I do not see that it is necessary to change this \\n      implementation.  This implementation implemenation still only \\n      supports asynchronous replication. \\n\\n    c. I feel the comments regarding the testing of active in \\n      startMaster, stopMaster, and startFailover is a bit confusing. \\n      It seems to be more a documentation of the change that is made \\n      than of the resulting code, and I fear that it may confuse \\n      people who do not know the history of the code.  Also, I am not \\n      sure your use of \'idempotent\' makes sense. \\n\\n    d. startMaster(): Why not merge the to tests that give \\n      REPLICATION_MODE_NOT_SUPPORTED in the same if statement? \\n\\n 2. RawStore: \\n\\n    a. It seems unecessary that RawStore#startReplicationMaster convert \\n      port number to String, and that MasterController#startMaster \\n      needs to convert it back to int. \\n\\n 3. Messages \\n\\n    a. To be similar to the existing messages, I suggest leaving \'the\' \\n      in \'... has already been booted for the database ...\' \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12572796\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3358?focusedCommentId=12572796&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12572796\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12572796_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12572796_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'27\\/Feb\\/08 05:47\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-02-27T05:47:33+0000\'\u003e27\\/Feb\\/08 05:47\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eOystein says\u003c\\/p\u003e\\n\\n\u003cp\u003e&gt; Also, I am not sure your use of \'idempotent\' makes sense.\u003c\\/p\u003e\\n\\n\u003cp\u003eComments in the patch\u003c\\/p\u003e\\n\\n\u003cp\u003e&gt; This makes the stopMaster\u003cbr\\/\u003e\\n&gt; \\/\\/operation idempotent, will keep returning successfully when\u003cbr\\/\u003e\\n&gt; \\/\\/repeatedly called on an already started replication instance.\u003c\\/p\u003e\\n\\n\u003cp\u003eA link I found on the web\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"http:\\/\\/nostalgia.wikipedia.org\\/wiki\\/Idempotent\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/nostalgia.wikipedia.org\\/wiki\\/Idempotent\u003c\\/a\u003e\u003c\\/p\u003e\\n\\n\u003cp\u003eThe link says\u003c\\/p\u003e\\n\\n\u003cp\u003e&gt;In computing, the term idempotent refers to something \u003cbr\\/\u003e\\n&gt;which has the same  effect if used multiple times as it does \u003cbr\\/\u003e\\n&gt;if used only once.\u003c\\/p\u003e\\n\\n\u003cp\u003eI find the usage of idempotent appropriate in the context of the stopMaster\u003cbr\\/\u003e\\nmethod. I do not think it is mis-placed. But I have no problems removing the\u003cbr\\/\u003e\\nword and replacing it with a simpler sentence.\u003c\\/p\u003e\\n\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12572796_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12572796_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'27\\/Feb\\/08 05:47\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-02-27T05:47:33+0000\'\u003e27\\/Feb\\/08 05:47\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Oystein says \\n\\n &gt; Also, I am not sure your use of \'idempotent\' makes sense. \\n\\n Comments in the patch \\n\\n &gt; This makes the stopMaster \\n&gt; \\/\\/operation idempotent, will keep returning successfully when \\n&gt; \\/\\/repeatedly called on an already started replication instance. \\n\\n A link I found on the web \\n\\n  http:\\/\\/nostalgia.wikipedia.org\\/wiki\\/Idempotent  \\n\\n The link says \\n\\n &gt;In computing, the term idempotent refers to something  \\n&gt;which has the same  effect if used multiple times as it does  \\n&gt;if used only once. \\n\\n I find the usage of idempotent appropriate in the context of the stopMaster \\nmethod. I do not think it is mis-placed. But I have no problems removing the \\nword and replacing it with a simpler sentence. \\n\\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12572798\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3358?focusedCommentId=12572798&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12572798\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12572798_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12572798_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'27\\/Feb\\/08 06:03\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-02-27T06:03:52+0000\'\u003e27\\/Feb\\/08 06:03\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003e&gt;I feel the comments regarding the testing of active in\u003cbr\\/\u003e\\n&gt;startMaster, stopMaster, and startFailover is a bit confusing.\u003cbr\\/\u003e\\n&gt;It seems to be more a documentation of the change that is made\u003cbr\\/\u003e\\n&gt;than of the resulting code, and I fear that it may confuse\u003cbr\\/\u003e\\n&gt;people who do not know the history of the code.\u003c\\/p\u003e\\n\\n\u003cp\u003eGeneral view (my thinking when I wrote the comments)\u003c\\/p\u003e\\n\\n\u003cp\u003eI wrote the comments from the point of view of a person who\u003cbr\\/\u003e\\nwould try to understand this code while single stepping using\u003cbr\\/\u003e\\nan IDE.\u003c\\/p\u003e\\n\\n\u003cp\u003eI have also tried to explain why I tried to write the methods the\u003cbr\\/\u003e\\nway I have in the individual methods.\u003c\\/p\u003e\\n\\n\u003cp\u003eI would really appreciate it if you could give an example for just\u003cbr\\/\u003e\\none method, re-wording the comments in a way you think is right\u003cbr\\/\u003e\\nso that I can follow the same on the other methods. \u003c\\/p\u003e\\n\\n\u003cp\u003ecomments in startMaster\u003c\\/p\u003e\\n\\n\u003cp\u003e&gt;\\/\\/Check if the master has already been started. It is wrong to attempt \u003cbr\\/\u003e\\n&gt;\\/\\/startMaster on a already running master since the start parameters\u003cbr\\/\u003e\\n&gt;\\/\\/can vary with each start and the question of idempotence is not\u003cbr\\/\u003e\\n&gt;\\/\\/applicable here (unlike stopMaster).\u003c\\/p\u003e\\n\\n\u003cp\u003eI was trying to say that taking a connection with the startMaster\u003cbr\\/\u003e\\nattribute repeatedly should throw an exception. Can you please give\u003cbr\\/\u003e\\nan example as to what would be an appropriating re-wording here?\u003cbr\\/\u003e\\nWas the problem with the usage of the word idempotent? Was the mention\u003cbr\\/\u003e\\nof the start parameters a implementation specific thing that should\u003cbr\\/\u003e\\nbe avoided?\u003c\\/p\u003e\\n\\n\u003cp\u003ecomments in stopMaster\u003c\\/p\u003e\\n\\n\u003cp\u003e&gt;\\/\\/This can happen only if the replication master module was\u003cbr\\/\u003e\\n&gt;\\/\\/loaded previously and was later stopped. If replication was\u003cbr\\/\u003e\\n&gt;\\/\\/never loaded an exception would be thrown because the master\u003cbr\\/\u003e\\n&gt;\\/\\/factory module will not be found. This makes the stopMaster\u003cbr\\/\u003e\\n&gt;\\/\\/operation idempotent, will keep returning successfully when\u003cbr\\/\u003e\\n&gt;\\/\\/repeatedly called on an already started replication instance.\u003c\\/p\u003e\\n\\n\u003cp\u003eThis comment explains what would happen if a bootServiceModule\u003cbr\\/\u003e\\nwas called and was later stopped by calling a stopMaster or the\u003cbr\\/\u003e\\nboot itself fails. active becomes false.\u003c\\/p\u003e\\n\\n\u003cp\u003eI can remove this comment if you think it is inappropriate but\u003cbr\\/\u003e\\nI think it serves to explain why I made the method return harmlessly\u003cbr\\/\u003e\\nwhen it is called repeatedly\u003c\\/p\u003e\\n\\n\u003cp\u003estartFailover\u003c\\/p\u003e\\n\\n\u003cp\u003e&gt;\\/\\/It is not correct to stop the master and then attempt a failover.\u003cbr\\/\u003e\\n&gt;\\/\\/The control would come here because the master module is already\u003cbr\\/\u003e\\n&gt;\\/\\/loaded and a findService for the master module will not fail. But\u003cbr\\/\u003e\\n&gt;\\/\\/since this module has been stopped failover does not suceed.\u003c\\/p\u003e\\n\\n\u003cp\u003eI guess you are suggesting that usage of words like findService which is\u003cbr\\/\u003e\\ncode specific is not right?\u003c\\/p\u003e\\n\\n\u003cp\u003eBut I thought anyone who would follow the code while sigle-stepping using\u003cbr\\/\u003e\\nan IDE would find this useful because it would explain when the control\u003cbr\\/\u003e\\nwould come here\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12572798_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12572798_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'27\\/Feb\\/08 06:03\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-02-27T06:03:52+0000\'\u003e27\\/Feb\\/08 06:03\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    &gt;I feel the comments regarding the testing of active in \\n&gt;startMaster, stopMaster, and startFailover is a bit confusing. \\n&gt;It seems to be more a documentation of the change that is made \\n&gt;than of the resulting code, and I fear that it may confuse \\n&gt;people who do not know the history of the code. \\n\\n General view (my thinking when I wrote the comments) \\n\\n I wrote the comments from the point of view of a person who \\nwould try to understand this code while single stepping using \\nan IDE. \\n\\n I have also tried to explain why I tried to write the methods the \\nway I have in the individual methods. \\n\\n I would really appreciate it if you could give an example for just \\none method, re-wording the comments in a way you think is right \\nso that I can follow the same on the other methods.  \\n\\n comments in startMaster \\n\\n &gt;\\/\\/Check if the master has already been started. It is wrong to attempt  \\n&gt;\\/\\/startMaster on a already running master since the start parameters \\n&gt;\\/\\/can vary with each start and the question of idempotence is not \\n&gt;\\/\\/applicable here (unlike stopMaster). \\n\\n I was trying to say that taking a connection with the startMaster \\nattribute repeatedly should throw an exception. Can you please give \\nan example as to what would be an appropriating re-wording here? \\nWas the problem with the usage of the word idempotent? Was the mention \\nof the start parameters a implementation specific thing that should \\nbe avoided? \\n\\n comments in stopMaster \\n\\n &gt;\\/\\/This can happen only if the replication master module was \\n&gt;\\/\\/loaded previously and was later stopped. If replication was \\n&gt;\\/\\/never loaded an exception would be thrown because the master \\n&gt;\\/\\/factory module will not be found. This makes the stopMaster \\n&gt;\\/\\/operation idempotent, will keep returning successfully when \\n&gt;\\/\\/repeatedly called on an already started replication instance. \\n\\n This comment explains what would happen if a bootServiceModule \\nwas called and was later stopped by calling a stopMaster or the \\nboot itself fails. active becomes false. \\n\\n I can remove this comment if you think it is inappropriate but \\nI think it serves to explain why I made the method return harmlessly \\nwhen it is called repeatedly \\n\\n startFailover \\n\\n &gt;\\/\\/It is not correct to stop the master and then attempt a failover. \\n&gt;\\/\\/The control would come here because the master module is already \\n&gt;\\/\\/loaded and a findService for the master module will not fail. But \\n&gt;\\/\\/since this module has been stopped failover does not suceed. \\n\\n I guess you are suggesting that usage of words like findService which is \\ncode specific is not right? \\n\\n But I thought anyone who would follow the code while sigle-stepping using \\nan IDE would find this useful because it would explain when the control \\nwould come here              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12572800\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3358?focusedCommentId=12572800&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12572800\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12572800_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12572800_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'27\\/Feb\\/08 06:10\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-02-27T06:10:07+0000\'\u003e27\\/Feb\\/08 06:10\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003e&gt;boot():  An explanation of why boot is empty would be good.\u003c\\/p\u003e\\n\\n\u003cp\u003e&gt;It seems to be more a documentation of the change that is made\u003cbr\\/\u003e\\n&gt;than of the resulting code, and I fear that it may confuse\u003cbr\\/\u003e\\n&gt;people who do not know the history of the code\u003c\\/p\u003e\\n\\n\u003cp\u003eIn order to explain why the boot method is empty I would need to\u003cbr\\/\u003e\\nexplain why the change was made (i.e.) mention that the boot\u003cbr\\/\u003e\\nmethod is loaded only once and because of that the boot time\u003cbr\\/\u003e\\nparameters once wrong would result in repeated startMaster attempts\u003cbr\\/\u003e\\nfailing.\u003c\\/p\u003e\\n\\n\u003cp\u003eI would in doing the above be contradicting the comment change\u003cbr\\/\u003e\\nrequested in the latter part of the comment I have pasted.\u003c\\/p\u003e\\n\\n\u003cp\u003eOr again I am making a mistake of not wording the comments correctly.\u003cbr\\/\u003e\\nCan you please help me with your view of what you think would be a \u003cbr\\/\u003e\\nright wording of the comments here?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12572800_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12572800_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'27\\/Feb\\/08 06:10\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-02-27T06:10:07+0000\'\u003e27\\/Feb\\/08 06:10\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    &gt;boot():  An explanation of why boot is empty would be good. \\n\\n &gt;It seems to be more a documentation of the change that is made \\n&gt;than of the resulting code, and I fear that it may confuse \\n&gt;people who do not know the history of the code \\n\\n In order to explain why the boot method is empty I would need to \\nexplain why the change was made (i.e.) mention that the boot \\nmethod is loaded only once and because of that the boot time \\nparameters once wrong would result in repeated startMaster attempts \\nfailing. \\n\\n I would in doing the above be contradicting the comment change \\nrequested in the latter part of the comment I have pasted. \\n\\n Or again I am making a mistake of not wording the comments correctly. \\nCan you please help me with your view of what you think would be a  \\nright wording of the comments here?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12573137\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3358?focusedCommentId=12573137&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12573137\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12573137_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12573137_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Feb\\/08 03:03\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-02-28T03:03:24+0000\'\u003e28\\/Feb\\/08 03:03\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eIn the attached patch I have addressed all the comments except\u003cbr\\/\u003e\\nthe following\u003c\\/p\u003e\\n\\n\u003cp\u003e&gt;d. startMaster(): Why not merge the to tests that give\u003cbr\\/\u003e\\n&gt;REPLICATION_MODE_NOT_SUPPORTED in the same if statement? \u003c\\/p\u003e\\n\\n\u003cp\u003eI have moved this test to canSupport as suggested. So I did not\u003cbr\\/\u003e\\nneed to do this change.\u003c\\/p\u003e\\n\\n\u003cp\u003eI added the comments to the boot method, but am not sure\u003cbr\\/\u003e\\nif it matches your expectation. If it does not pls do mention and\u003cbr\\/\u003e\\nI shall submit a new patch.\u003c\\/p\u003e\\n\\n\u003cp\u003eI have not changed the comments to active in startMaster, stopMaster and\u003cbr\\/\u003e\\nstartFailover. Here again I am not sure about the nature of the modification\u003cbr\\/\u003e\\nyou expected me to do. I request for more help from you here on the\u003cbr\\/\u003e\\nstyle of the comments that would be expected. I shall submit a new\u003cbr\\/\u003e\\npatch with the suggested modification.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12573137_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12573137_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Feb\\/08 03:03\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-02-28T03:03:24+0000\'\u003e28\\/Feb\\/08 03:03\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    In the attached patch I have addressed all the comments except \\nthe following \\n\\n &gt;d. startMaster(): Why not merge the to tests that give \\n&gt;REPLICATION_MODE_NOT_SUPPORTED in the same if statement?  \\n\\n I have moved this test to canSupport as suggested. So I did not \\nneed to do this change. \\n\\n I added the comments to the boot method, but am not sure \\nif it matches your expectation. If it does not pls do mention and \\nI shall submit a new patch. \\n\\n I have not changed the comments to active in startMaster, stopMaster and \\nstartFailover. Here again I am not sure about the nature of the modification \\nyou expected me to do. I request for more help from you here on the \\nstyle of the comments that would be expected. I shall submit a new \\npatch with the suggested modification.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12573145\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3358?focusedCommentId=12573145&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12573145\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12573145_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12573145_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Feb\\/08 04:21\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-02-28T04:21:29+0000\'\u003e28\\/Feb\\/08 04:21\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003e&gt;Thanks, for your patch Narayanan. I tried testing the patch, but the\u003cbr\\/\u003e\\n&gt;bug reported in \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-3454\\\" title=\\\"&#39;java.lang.NullPointerException&#39; is thrown when starting a master db before a slave one\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-3454\\\"\u003e\u003cdel\u003eDERBY-3454\u003c\\/del\u003e\u003c\\/a\u003e seems to get in the way.\u003c\\/p\u003e\\n\\n\u003cp\u003eYou are correct. Every wrong connection attempt keeps throwing a\u003cbr\\/\u003e\\nNPE. But when the correct port is mentioned the connection succeeds.\u003cbr\\/\u003e\\nIf the earlier bug, reported in this patch, had existed it would not have\u003cbr\\/\u003e\\nsucceeded, but would have continued with the NPE\'s.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12573145_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12573145_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Feb\\/08 04:21\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-02-28T04:21:29+0000\'\u003e28\\/Feb\\/08 04:21\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    &gt;Thanks, for your patch Narayanan. I tried testing the patch, but the \\n&gt;bug reported in   DERBY-3454   seems to get in the way. \\n\\n You are correct. Every wrong connection attempt keeps throwing a \\nNPE. But when the correct port is mentioned the connection succeeds. \\nIf the earlier bug, reported in this patch, had existed it would not have \\nsucceeded, but would have continued with the NPE\'s.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12574489\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3358?focusedCommentId=12574489&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12574489\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"oysteing\\\" id=\\\"commentauthor_12574489_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=oysteing\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"oysteing\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e \\u00D8ystein Gr\\u00F8vlen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12574489_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Mar\\/08 13:15\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-03-03T13:15:30+0000\'\u003e03\\/Mar\\/08 13:15\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eNaraynan, sorry for the late response to your questions to the\u003cbr\\/\u003e\\ncomments I made on your code comments.  I will try to clarify:\u003c\\/p\u003e\\n\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003estartMaster: You say: \\\"It is wrong to attempt startMaster on a\u003cbr\\/\u003e\\n   already running master since the start parameters can vary with\u003cbr\\/\u003e\\n   each start and the question of idempotence is not applicable here\u003cbr\\/\u003e\\n   (unlike stopMaster).\\\"  In my opinion, attempting startMaster on an\u003cbr\\/\u003e\\n   already running master, should give an exception, not because\u003cbr\\/\u003e\\n   parameters may vary, but because you by definition cannot start an\u003cbr\\/\u003e\\n   already started master.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003estopMaster: It seems I have misunderstood what the code actually\u003cbr\\/\u003e\\n   does here.  I thought that stopMaster when replication was not on,\u003cbr\\/\u003e\\n   would be flagged as an error, and in my opinion that would be the\u003cbr\\/\u003e\\n   right thing to do.  Anyhow, your implementation does not make\u003cbr\\/\u003e\\n   stopMaster fully idempotent since you will write another\u003cbr\\/\u003e\\n   REPLICATION_MASTER_STOPPED message to derby.log.  I do not think\u003cbr\\/\u003e\\n   that is a good idea since it will make it more difficult to tell\u003cbr\\/\u003e\\n   when the replication was actually stopped.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003estartFailover:  Comment is ok, but should be placed inside if\u003cbr\\/\u003e\\n   statement.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"oysteing\\\" id=\\\"commentauthor_12574489_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=oysteing\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"oysteing\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e \\u00D8ystein Gr\\u00F8vlen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12574489_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Mar\\/08 13:15\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-03-03T13:15:30+0000\'\u003e03\\/Mar\\/08 13:15\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Naraynan, sorry for the late response to your questions to the \\ncomments I made on your code comments.  I will try to clarify: \\n\\n \\n\\t startMaster: You say: \\\"It is wrong to attempt startMaster on a \\n   already running master since the start parameters can vary with \\n   each start and the question of idempotence is not applicable here \\n   (unlike stopMaster).\\\"  In my opinion, attempting startMaster on an \\n   already running master, should give an exception, not because \\n   parameters may vary, but because you by definition cannot start an \\n   already started master. \\n \\n\\n\\n \\n\\t stopMaster: It seems I have misunderstood what the code actually \\n   does here.  I thought that stopMaster when replication was not on, \\n   would be flagged as an error, and in my opinion that would be the \\n   right thing to do.  Anyhow, your implementation does not make \\n   stopMaster fully idempotent since you will write another \\n   REPLICATION_MASTER_STOPPED message to derby.log.  I do not think \\n   that is a good idea since it will make it more difficult to tell \\n   when the replication was actually stopped. \\n \\n\\n\\n \\n\\t startFailover:  Comment is ok, but should be placed inside if \\n   statement. \\n \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12574492\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3358?focusedCommentId=12574492&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12574492\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"oysteing\\\" id=\\\"commentauthor_12574492_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=oysteing\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"oysteing\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e \\u00D8ystein Gr\\u00F8vlen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12574492_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Mar\\/08 13:26\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-03-03T13:26:14+0000\'\u003e03\\/Mar\\/08 13:26\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eIn addition to my previous post, I have the following comments to the\u003cbr\\/\u003e\\nv2 patch:\u003c\\/p\u003e\\n\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003eIt seems you have not addressed by 3a comment.  I guess that may be\u003cbr\\/\u003e\\n   my fault since I wrote \\\"leaving \'the\'\\\" when I meant \\\"leaving out\u003cbr\\/\u003e\\n   \'the\'\\\".\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003eMasterFactory: It seems the comment \\/* Property values *\\/ have been\u003cbr\\/\u003e\\n   moved.  I guess that was not intentional.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"oysteing\\\" id=\\\"commentauthor_12574492_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=oysteing\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"oysteing\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e \\u00D8ystein Gr\\u00F8vlen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12574492_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Mar\\/08 13:26\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-03-03T13:26:14+0000\'\u003e03\\/Mar\\/08 13:26\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    In addition to my previous post, I have the following comments to the \\nv2 patch: \\n\\n \\n\\t It seems you have not addressed by 3a comment.  I guess that may be \\n   my fault since I wrote \\\"leaving \'the\'\\\" when I meant \\\"leaving out \\n   \'the\'\\\". \\n \\n\\n\\n \\n\\t MasterFactory: It seems the comment \\/* Property values *\\/ have been \\n   moved.  I guess that was not intentional. \\n \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12575552\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3358?focusedCommentId=12575552&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12575552\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12575552_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12575552_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'06\\/Mar\\/08 04:00\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-03-06T04:00:44+0000\'\u003e06\\/Mar\\/08 04:00\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThank you for the comments Oystein\u003c\\/p\u003e\\n\\n\u003cp\u003e&gt;- startMaster: \u003cspan class=\\\"error\\\"\u003e&#91;comment snipped&#93;\u003c\\/span\u003e\u003c\\/p\u003e\\n\\n\u003cp\u003eChanged the comment to\u003c\\/p\u003e\\n\\n\u003cp\u003e\\/\\/It is wrong to attempt startMaster on a already\u003cbr\\/\u003e\\n\\/\\/started master.\u003c\\/p\u003e\\n\\n\u003cp\u003eand moved it inside if.\u003c\\/p\u003e\\n\\n\u003cp\u003e&gt;- stopMaster: \u003cspan class=\\\"error\\\"\u003e&#91;comment snipped&#93;\u003c\\/span\u003e\u003c\\/p\u003e\\n\\n\u003cp\u003eIf the master is not active I now throw an exception\u003c\\/p\u003e\\n\\n\u003cp\u003ethrow StandardException.newException\u003cbr\\/\u003e\\n                    (SQLState.REPLICATION_NOT_IN_MASTER_MODE);\u003c\\/p\u003e\\n\\n\u003cp\u003e&gt;- startFailover: Comment is ok, but should be placed inside if\u003cbr\\/\u003e\\n&gt;  statement. \u003c\\/p\u003e\\n\\n\u003cp\u003efixed!\u003c\\/p\u003e\\n\\n\u003cp\u003e&gt;- It seems you have not addressed by 3a comment. I guess that may be\u003cbr\\/\u003e\\n&gt;  my fault since I wrote \\\"leaving \'the\'\\\" when I meant \\\"leaving out\u003cbr\\/\u003e\\n&gt;  \'the\'\\\". \u003c\\/p\u003e\\n\\n\u003cp\u003eXRE11, XRE06, XRE04 also seem to be using the article \'the\'.\u003c\\/p\u003e\\n\\n\u003cp\u003eJust to learn more about the use of \'the\' I nosed into the\u003cbr\\/\u003e\\nWren and Martin in the rack nearby and found out that \'the\'\u003cbr\\/\u003e\\nis a definite article that is used to point out some particular\u003cbr\\/\u003e\\nperson or thing.\u003c\\/p\u003e\\n\\n\u003cp\u003eSo in our case we are pointing out a particular specific database!\u003c\\/p\u003e\\n\\n\u003cp\u003eBut I agree that the general consensus is leaving out the\u003cbr\\/\u003e\\narticle and also that exceptions messages rarely follow grammatical\u003cbr\\/\u003e\\nrules ( :-D ) but\u003c\\/p\u003e\\n\\n\u003cp\u003eplace more emphasis on clarity in summarizing exception cause and in\u003cbr\\/\u003e\\nconformance with messages in the same family!\u003c\\/p\u003e\\n\\n\u003cp\u003efixed it!\u003c\\/p\u003e\\n\\n\u003cp\u003e&gt;- MasterFactory: It seems the comment \\/* Property values *\\/ have been\u003cbr\\/\u003e\\n&gt;  moved. I guess that was not intentional. \u003c\\/p\u003e\\n\\n\u003cp\u003eSorry, mea culpa, fixed it!\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12575552_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12575552_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'06\\/Mar\\/08 04:00\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-03-06T04:00:44+0000\'\u003e06\\/Mar\\/08 04:00\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Thank you for the comments Oystein \\n\\n &gt;- startMaster:  &#91;comment snipped&#93;  \\n\\n Changed the comment to \\n\\n \\/\\/It is wrong to attempt startMaster on a already \\n\\/\\/started master. \\n\\n and moved it inside if. \\n\\n &gt;- stopMaster:  &#91;comment snipped&#93;  \\n\\n If the master is not active I now throw an exception \\n\\n throw StandardException.newException \\n                    (SQLState.REPLICATION_NOT_IN_MASTER_MODE); \\n\\n &gt;- startFailover: Comment is ok, but should be placed inside if \\n&gt;  statement.  \\n\\n fixed! \\n\\n &gt;- It seems you have not addressed by 3a comment. I guess that may be \\n&gt;  my fault since I wrote \\\"leaving \'the\'\\\" when I meant \\\"leaving out \\n&gt;  \'the\'\\\".  \\n\\n XRE11, XRE06, XRE04 also seem to be using the article \'the\'. \\n\\n Just to learn more about the use of \'the\' I nosed into the \\nWren and Martin in the rack nearby and found out that \'the\' \\nis a definite article that is used to point out some particular \\nperson or thing. \\n\\n So in our case we are pointing out a particular specific database! \\n\\n But I agree that the general consensus is leaving out the \\narticle and also that exceptions messages rarely follow grammatical \\nrules ( :-D ) but \\n\\n place more emphasis on clarity in summarizing exception cause and in \\nconformance with messages in the same family! \\n\\n fixed it! \\n\\n &gt;- MasterFactory: It seems the comment \\/* Property values *\\/ have been \\n&gt;  moved. I guess that was not intentional.  \\n\\n Sorry, mea culpa, fixed it!              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12575572\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3358?focusedCommentId=12575572&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12575572\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12575572_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12575572_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'06\\/Mar\\/08 06:20\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-03-06T06:20:00+0000\'\u003e06\\/Mar\\/08 06:20\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eoops, I hurried in submitting v3. I found a few problems which I shall duly enumerate\u003cbr\\/\u003e\\nwhen I submit a v4 with the problems I found corrected. I also missed running the repro\u003cbr\\/\u003e\\non this.\u003c\\/p\u003e\\n\\n\u003cp\u003eI request v3 to be please ignored\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12575572_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12575572_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'06\\/Mar\\/08 06:20\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-03-06T06:20:00+0000\'\u003e06\\/Mar\\/08 06:20\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    oops, I hurried in submitting v3. I found a few problems which I shall duly enumerate \\nwhen I submit a v4 with the problems I found corrected. I also missed running the repro \\non this. \\n\\n I request v3 to be please ignored              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12575579\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3358?focusedCommentId=12575579&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12575579\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12575579_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12575579_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'06\\/Mar\\/08 06:31\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-03-06T06:31:58+0000\'\u003e06\\/Mar\\/08 06:31\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eIn this comment there are two things being suggested for the implementation\u003c\\/p\u003e\\n\\n\u003cp\u003e&gt;- stopMaster: It seems I have misunderstood what the code actually\u003cbr\\/\u003e\\n&gt;   does here. I thought that stopMaster when replication was not on,\u003cbr\\/\u003e\\n&gt;   would be flagged as an error, and in my opinion that would be the\u003cbr\\/\u003e\\n&gt;   right thing to do. \u003c\\/p\u003e\\n\\n\u003cp\u003eThrow an exception if replication has been stopped\u003c\\/p\u003e\\n\\n\u003cp\u003e&gt;   Anyhow, your implementation does not make\u003cbr\\/\u003e\\n&gt;   stopMaster fully idempotent since you will write another\u003cbr\\/\u003e\\n&gt;   REPLICATION_MASTER_STOPPED message to derby.log. I do not think\u003cbr\\/\u003e\\n&gt;   that is a good idea since it will make it more difficult to tell\u003cbr\\/\u003e\\n&gt;   when the replication was actually stopped. \u003c\\/p\u003e\\n\\n\u003cp\u003eThis part is confusing,\u003c\\/p\u003e\\n\\n\u003cp\u003eI agree that it is not a good idea to write a replication stopped message\u003cbr\\/\u003e\\neach time stopMaster is called\u003c\\/p\u003e\\n\\n\u003cp\u003eBut is throwing an exception if replication is stopped suggested? \u003c\\/p\u003e\\n\\n\u003cp\u003eOr should the stop master method exit without doing anything?\u003c\\/p\u003e\\n\\n\u003cp\u003eI would personally go for throwing the exception, because upon retrospection it\u003cbr\\/\u003e\\nseems the right thing to do to tell the user that replication has been stopped\u003cbr\\/\u003e\\nrather than just be quiet.\u003c\\/p\u003e\\n\\n\u003cp\u003eWondering what pushed me towards idempotence in the first place :-\\/ .\u003c\\/p\u003e\\n\\n\u003cp\u003eI will modify v3 to throw an exception. Pls do mention if this is not the right thing\u003cbr\\/\u003e\\nto do.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12575579_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12575579_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'06\\/Mar\\/08 06:31\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-03-06T06:31:58+0000\'\u003e06\\/Mar\\/08 06:31\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    In this comment there are two things being suggested for the implementation \\n\\n &gt;- stopMaster: It seems I have misunderstood what the code actually \\n&gt;   does here. I thought that stopMaster when replication was not on, \\n&gt;   would be flagged as an error, and in my opinion that would be the \\n&gt;   right thing to do.  \\n\\n Throw an exception if replication has been stopped \\n\\n &gt;   Anyhow, your implementation does not make \\n&gt;   stopMaster fully idempotent since you will write another \\n&gt;   REPLICATION_MASTER_STOPPED message to derby.log. I do not think \\n&gt;   that is a good idea since it will make it more difficult to tell \\n&gt;   when the replication was actually stopped.  \\n\\n This part is confusing, \\n\\n I agree that it is not a good idea to write a replication stopped message \\neach time stopMaster is called \\n\\n But is throwing an exception if replication is stopped suggested?  \\n\\n Or should the stop master method exit without doing anything? \\n\\n I would personally go for throwing the exception, because upon retrospection it \\nseems the right thing to do to tell the user that replication has been stopped \\nrather than just be quiet. \\n\\n Wondering what pushed me towards idempotence in the first place :-\\/ . \\n\\n I will modify v3 to throw an exception. Pls do mention if this is not the right thing \\nto do.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12575623\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3358?focusedCommentId=12575623&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12575623\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12575623_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12575623_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'06\\/Mar\\/08 09:23\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-03-06T09:23:06+0000\'\u003e06\\/Mar\\/08 09:23\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eModified stopMaster to throw\u003c\\/p\u003e\\n\\n\u003cp\u003ethrow StandardException.newException(SQLState.REPLICATION_MASTER_ALREADY_BOOTED, dbname);\u003c\\/p\u003e\\n\\n\u003cp\u003estopMaster is used in  printStackAndStopMaster(Throwable t). I modified stopMaster to log\u003cbr\\/\u003e\\na ReplicationLogger.logError(MessageId.REPLICATION_MASTER_STOPPED, t, dbname);. The master\u003cbr\\/\u003e\\nis stopped anyways, so I thought it would be OK to use that SQLState.\u003c\\/p\u003e\\n\\n\u003cp\u003eThe rest of the changes are identical to the previous patch\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12575623_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12575623_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'06\\/Mar\\/08 09:23\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-03-06T09:23:06+0000\'\u003e06\\/Mar\\/08 09:23\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Modified stopMaster to throw \\n\\n throw StandardException.newException(SQLState.REPLICATION_MASTER_ALREADY_BOOTED, dbname); \\n\\n stopMaster is used in  printStackAndStopMaster(Throwable t). I modified stopMaster to log \\na ReplicationLogger.logError(MessageId.REPLICATION_MASTER_STOPPED, t, dbname);. The master \\nis stopped anyways, so I thought it would be OK to use that SQLState. \\n\\n The rest of the changes are identical to the previous patch              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12575624\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3358?focusedCommentId=12575624&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12575624\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12575624_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12575624_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'06\\/Mar\\/08 09:23\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-03-06T09:23:27+0000\'\u003e06\\/Mar\\/08 09:23\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThe repro worked on v4 without problems\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12575624_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12575624_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'06\\/Mar\\/08 09:23\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-03-06T09:23:27+0000\'\u003e06\\/Mar\\/08 09:23\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    The repro worked on v4 without problems              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12575651\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3358?focusedCommentId=12575651&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12575651\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"oysteing\\\" id=\\\"commentauthor_12575651_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=oysteing\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"oysteing\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e \\u00D8ystein Gr\\u00F8vlen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12575651_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'06\\/Mar\\/08 10:52\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-03-06T10:52:39+0000\'\u003e06\\/Mar\\/08 10:52\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThanks for the follow-up on my comments Narayanan.\u003cbr\\/\u003e\\nI have checked that the reported issue has been fixed.\u003cbr\\/\u003e\\nPatch v4 committed as revsion 634218.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"oysteing\\\" id=\\\"commentauthor_12575651_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=oysteing\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"oysteing\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e \\u00D8ystein Gr\\u00F8vlen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12575651_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'06\\/Mar\\/08 10:52\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-03-06T10:52:39+0000\'\u003e06\\/Mar\\/08 10:52\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Thanks for the follow-up on my comments Narayanan. \\nI have checked that the reported issue has been fixed. \\nPatch v4 committed as revsion 634218.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12575705\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3358?focusedCommentId=12575705&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12575705\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jorgenlo\\\" id=\\\"commentauthor_12575705_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jorgenlo\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jorgenlo\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e J\\u00F8rgen L\\u00F8land\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12575705_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'06\\/Mar\\/08 13:41\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-03-06T13:41:59+0000\'\u003e06\\/Mar\\/08 13:41\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eSince stopMaster throws StandardException - isn\'t it a bit overkill to catch Throwable?\u003c\\/p\u003e\\n\\n\u003cp\u003e+        try \u003c\\/p\u003e\\n{\\n+            stopMaster();\\n+        }\\n\u003cp\u003e catch (Throwable t_stopmaster) \u003c\\/p\u003e\\n{\\n+            \\/\\/The stop master threw an exception saying the replication\\n+            \\/\\/has been stopped already.\\n+            ReplicationLogger.\\n+                logError(MessageId.REPLICATION_MASTER_STOPPED, t, dbname);\\n+        }\\n\\n\u003cp\u003eBTW: did you mean to log the stack trace of t here or should it be t_stopmaster?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jorgenlo\\\" id=\\\"commentauthor_12575705_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jorgenlo\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jorgenlo\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e J\\u00F8rgen L\\u00F8land\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12575705_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'06\\/Mar\\/08 13:41\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-03-06T13:41:59+0000\'\u003e06\\/Mar\\/08 13:41\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Since stopMaster throws StandardException - isn\'t it a bit overkill to catch Throwable? \\n\\n +        try  \\n{\\n+            stopMaster();\\n+        }\\n  catch (Throwable t_stopmaster)  \\n{\\n+            \\/\\/The stop master threw an exception saying the replication\\n+            \\/\\/has been stopped already.\\n+            ReplicationLogger.\\n+                logError(MessageId.REPLICATION_MASTER_STOPPED, t, dbname);\\n+        }\\n\\n BTW: did you mean to log the stack trace of t here or should it be t_stopmaster?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12575729\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3358?focusedCommentId=12575729&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12575729\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12575729_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12575729_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'06\\/Mar\\/08 14:58\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-03-06T14:58:35+0000\'\u003e06\\/Mar\\/08 14:58\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003e&gt; Since stopMaster throws StandardException - isn\'t it a bit overkill to catch Throwable? \u003c\\/p\u003e\\n\\n\u003cp\u003eNo I do not think it is Overkill!\u003c\\/p\u003e\\n\\n\u003cp\u003eWhen printStackAndStopMaster(Throwable t)  catches all exceptions as a Throwable I think \u003cbr\\/\u003e\\nit only makes it more uniform that the stopMaster exception is caught as a Throwable\u003cbr\\/\u003e\\ntoo.\u003c\\/p\u003e\\n\\n\u003cp\u003eI see that logging the stack trace as a issue that needs a follow-up. I meant it to be\u003cbr\\/\u003e\\nt_stopmaster.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12575729_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12575729_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'06\\/Mar\\/08 14:58\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-03-06T14:58:35+0000\'\u003e06\\/Mar\\/08 14:58\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    &gt; Since stopMaster throws StandardException - isn\'t it a bit overkill to catch Throwable?  \\n\\n No I do not think it is Overkill! \\n\\n When printStackAndStopMaster(Throwable t)  catches all exceptions as a Throwable I think  \\nit only makes it more uniform that the stopMaster exception is caught as a Throwable \\ntoo. \\n\\n I see that logging the stack trace as a issue that needs a follow-up. I meant it to be \\nt_stopmaster.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12575735\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3358?focusedCommentId=12575735&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12575735\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jorgenlo\\\" id=\\\"commentauthor_12575735_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jorgenlo\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jorgenlo\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e J\\u00F8rgen L\\u00F8land\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12575735_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'06\\/Mar\\/08 15:09\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-03-06T15:09:52+0000\'\u003e06\\/Mar\\/08 15:09\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eOk, but is it intentional to e.g. log an OutOfMemoryError as a replication master stopped message?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jorgenlo\\\" id=\\\"commentauthor_12575735_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jorgenlo\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jorgenlo\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e J\\u00F8rgen L\\u00F8land\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12575735_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'06\\/Mar\\/08 15:09\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-03-06T15:09:52+0000\'\u003e06\\/Mar\\/08 15:09\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Ok, but is it intentional to e.g. log an OutOfMemoryError as a replication master stopped message?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12575738\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3358?focusedCommentId=12575738&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12575738\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12575738_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12575738_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'06\\/Mar\\/08 15:19\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-03-06T15:19:48+0000\'\u003e06\\/Mar\\/08 15:19\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003e&gt;Ok, but is it intentional to e.g. log an OutOfMemoryError as a replication master stopped message?\u003c\\/p\u003e\\n\\n\u003cp\u003eThe whole point of a printStackTrace and stop master method I believe was to log the exception stack\u003cbr\\/\u003e\\nfor the problem and let the process from where the method was called proceed unaffected wasn\'t it?\u003cbr\\/\u003e\\nIf that was the aim I really do not see why I would throw this isolated exception and not log it and\u003cbr\\/\u003e\\nlet it disturb for example the shutdown process of the derby system.\u003c\\/p\u003e\\n\\n\u003cp\u003eIf I were to use the stopmaster method as I am going to do for the issue Derby-3447 I would rather log\u003cbr\\/\u003e\\nthe \\\"OutOfMemory\\\" error thrown from the \\\"stopMaster\\\", and let the Monitor succeed in shutting\u003cbr\\/\u003e\\ndown this module, than cause it to fail the shutdown process for the derby system.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12575738_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12575738_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'06\\/Mar\\/08 15:19\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-03-06T15:19:48+0000\'\u003e06\\/Mar\\/08 15:19\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    &gt;Ok, but is it intentional to e.g. log an OutOfMemoryError as a replication master stopped message? \\n\\n The whole point of a printStackTrace and stop master method I believe was to log the exception stack \\nfor the problem and let the process from where the method was called proceed unaffected wasn\'t it? \\nIf that was the aim I really do not see why I would throw this isolated exception and not log it and \\nlet it disturb for example the shutdown process of the derby system. \\n\\n If I were to use the stopmaster method as I am going to do for the issue Derby-3447 I would rather log \\nthe \\\"OutOfMemory\\\" error thrown from the \\\"stopMaster\\\", and let the Monitor succeed in shutting \\ndown this module, than cause it to fail the shutdown process for the derby system.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12575759\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3358?focusedCommentId=12575759&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12575759\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12575759_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12575759_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'06\\/Mar\\/08 16:30\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-03-06T16:30:42+0000\'\u003e06\\/Mar\\/08 16:30\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThe attached patch throw t_stopmaster instead of t in the printStackAndStopMaster\u003cbr\\/\u003e\\nmethod.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12575759_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12575759_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'06\\/Mar\\/08 16:30\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-03-06T16:30:42+0000\'\u003e06\\/Mar\\/08 16:30\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    The attached patch throw t_stopmaster instead of t in the printStackAndStopMaster \\nmethod.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12576102\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3358?focusedCommentId=12576102&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12576102\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jorgenlo\\\" id=\\\"commentauthor_12576102_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jorgenlo\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jorgenlo\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e J\\u00F8rgen L\\u00F8land\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12576102_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Mar\\/08 09:43\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-03-07T09:43:30+0000\'\u003e07\\/Mar\\/08 09:43\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI now understand why you are catching Throwable. I still don\'t agree that it is a good thing to do because there are many pitfalls, but I guess that\'s just a matter of opinion. Here is some food-for-thought:\u003c\\/p\u003e\\n\\n\u003cul\u003e\\n\\t\u003cli\u003eThe class javadoc of java.lang.Error says:\u003cbr\\/\u003e\\n\\\"An Error is a subclass of Throwable that indicates serious problems that a reasonable application should not try to catch. Most such errors are abnormal conditions.\\\"\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003eI interpret this as being something \\\"bigger\\\" than replication that should be reported further up the system. I checked how TransactionResourceImpl#handleException deals with Errors and found, e.g., that it has special treatment for ThreadDeath Errors.\u003c\\/p\u003e\\n\\n\u003cul\u003e\\n\\t\u003cli\u003eLooking more closely at ThreadDeath, the javadoc says:\u003cbr\\/\u003e\\n\\\"An application should catch instances of this class only if it must clean up after being terminated asynchronously. If ThreadDeath is caught by a method, it is important that it be re-thrown so that the thread actually dies.\\\"\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003eI haven\'t checked the other Errors, but there may be similar pitfalls around. \u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jorgenlo\\\" id=\\\"commentauthor_12576102_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jorgenlo\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jorgenlo\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e J\\u00F8rgen L\\u00F8land\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12576102_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Mar\\/08 09:43\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-03-07T09:43:30+0000\'\u003e07\\/Mar\\/08 09:43\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I now understand why you are catching Throwable. I still don\'t agree that it is a good thing to do because there are many pitfalls, but I guess that\'s just a matter of opinion. Here is some food-for-thought: \\n\\n \\n\\t The class javadoc of java.lang.Error says: \\n\\\"An Error is a subclass of Throwable that indicates serious problems that a reasonable application should not try to catch. Most such errors are abnormal conditions.\\\" \\n \\n\\n\\n I interpret this as being something \\\"bigger\\\" than replication that should be reported further up the system. I checked how TransactionResourceImpl#handleException deals with Errors and found, e.g., that it has special treatment for ThreadDeath Errors. \\n\\n \\n\\t Looking more closely at ThreadDeath, the javadoc says: \\n\\\"An application should catch instances of this class only if it must clean up after being terminated asynchronously. If ThreadDeath is caught by a method, it is important that it be re-thrown so that the thread actually dies.\\\" \\n \\n\\n\\n I haven\'t checked the other Errors, but there may be similar pitfalls around.               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12576108\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3358?focusedCommentId=12576108&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12576108\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12576108_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12576108_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Mar\\/08 10:04\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-03-07T10:04:02+0000\'\u003e07\\/Mar\\/08 10:04\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eOn retrospection I think you are right. Thank you for the digging up\u003cbr\\/\u003e\\nmore on the StandardException issue. \u003c\\/p\u003e\\n\\n\u003cp\u003ePls find attached a patch that catches a StandardException.\u003c\\/p\u003e\\n\\n\u003cp\u003eThe previous patch had been broken by a checkin so I had to\u003cbr\\/\u003e\\nregenerate the patch anyway.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12576108_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12576108_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Mar\\/08 10:04\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-03-07T10:04:02+0000\'\u003e07\\/Mar\\/08 10:04\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    On retrospection I think you are right. Thank you for the digging up \\nmore on the StandardException issue.  \\n\\n Pls find attached a patch that catches a StandardException. \\n\\n The previous patch had been broken by a checkin so I had to \\nregenerate the patch anyway.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12576240\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3358?focusedCommentId=12576240&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12576240\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"oysteing\\\" id=\\\"commentauthor_12576240_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=oysteing\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"oysteing\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e \\u00D8ystein Gr\\u00F8vlen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12576240_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Mar\\/08 15:36\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-03-07T15:36:41+0000\'\u003e07\\/Mar\\/08 15:36\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThanks, Narayanan for the follow-up.\u003cbr\\/\u003e\\nPatch committed as revision 634694.\u003cbr\\/\u003e\\nI took the liberty to modify the signature of  printStackAndStopMaster to take Exception instead of Throwable.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"oysteing\\\" id=\\\"commentauthor_12576240_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=oysteing\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"oysteing\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e \\u00D8ystein Gr\\u00F8vlen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12576240_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Mar\\/08 15:36\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-03-07T15:36:41+0000\'\u003e07\\/Mar\\/08 15:36\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Thanks, Narayanan for the follow-up. \\nPatch committed as revision 634694. \\nI took the liberty to modify the signature of  printStackAndStopMaster to take Exception instead of Throwable.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12586278\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-3358?focusedCommentId=12586278&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12586278\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12586278_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12586278_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Apr\\/08 08:51\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-04-07T08:51:43+0000\'\u003e07\\/Apr\\/08 08:51\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eAll relevant patches have been submitted and committed.\u003cbr\\/\u003e\\nResolving issue!\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"narayanan\\\" id=\\\"commentauthor_12586278_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=narayanan\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"narayanan\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e V.Narayanan\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12586278_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Apr\\/08 08:51\'\u003e\u003ctime class=\'livestamp\' datetime=\'2008-04-07T08:51:43+0000\'\u003e07\\/Apr\\/08 08:51\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    All relevant patches have been submitted and committed. \\nResolving issue!              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\"";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["scope-filter-data"]="{\"createScopeActions\":[],\"scopes\":[]}";
WRM._unparsedData["sidebar-collapsed-by-default"]="true";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:can-manage"]="false";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:with-icons"]="false";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:shortcuts"]="[]";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:project-id"]="10594";
WRM._unparsedData["sidebar-id"]="\"\u003cdiv class=\\\"aui-sidebar  projects-sidebar sidebar-pending\\\" \u003e\u003cdiv class=\\\"aui-sidebar-wrapper\\\"\u003e\u003cdiv class=\\\"aui-sidebar-body\\\"\u003e\u003cheader class=\\\"aui-page-header\\\"\u003e\u003cdiv class=\\\"aui-page-header-inner\\\"\u003e\u003cdiv class=\\\"aui-page-header-image\\\"\u003e\u003ca href=\\\"\\/jira\\/projects\\/DERBY\\/summary\\\" title=\\\"Derby\\\" class=\\\"jira-project-avatar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-large aui-avatar-project\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"\\/jira\\/secure\\/projectavatar?pid=10594&amp;avatarId=10122\\\" alt=\\\"Derby\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e\u003cimg src=\\\"data:image\\/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI\\/Pg0KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE4LjEuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPg0KPHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgdmlld0JveD0iMCAwIDMwMCAzMDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMwMCAzMDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxnIGlkPSJMYXllcl8yIj4NCgk8cGF0aCBzdHlsZT0iZmlsbDojRjc5MjMyOyIgZD0iTTE1MCwwQzY2LjY2NywwLDAsNjYuNjY3LDAsMTUwczY2LjY2NywxNTAsMTUwLDE1MHMxNTAtNjYuNjY3LDE1MC0xNTBTMjMzLjMzMywwLDE1MCwweg0KCQkgTTEzNi42NjcsMTc4LjMzM0wxMjUsMTkwbC00MS42NjctNDBMOTUsMTM4LjMzM2wzMC0zMEwxMzYuNjY3LDEyMGwtMzAsMzBMMTM2LjY2NywxNzguMzMzeiBNMjA1LDE2MS42NjdsLTMwLDMwTDE2My4zMzMsMTgwDQoJCWwzMC0zMGwtMzAtMzBMMTc1LDEwOC4zMzNMMjE2LjY2NywxNTBMMjA1LDE2MS42Njd6Ii8+DQo8L2c+DQo8Zz4NCgk8cG9seWdvbiBzdHlsZT0iZmlsbDojRkZGRkZGOyIgcG9pbnRzPSIxNzUsMTkxLjY2NyAyMDUsMTYxLjY2NyAyMTYuNjY3LDE1MCAxNzUsMTA4LjMzMyAxNjMuMzMzLDEyMCAxOTMuMzMzLDE1MCAxNjMuMzMzLDE4MCAJIi8+DQoJPHBvbHlnb24gc3R5bGU9ImZpbGw6I0ZGRkZGRjsiIHBvaW50cz0iMTI1LDEwOC4zMzMgOTUsMTM4LjMzMyA4My4zMzMsMTUwIDEyNSwxOTAgMTM2LjY2NywxNzguMzMzIDEwNi42NjcsMTUwIDEzNi42NjcsMTIwIAkiLz4NCjwvZz4NCjwvc3ZnPg0K\\\" alt=\\\"Icon indicating the project type\\\" class=\\\"jira-project-avatar-icon\\\" \\/\u003e\u003c\\/a\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-image --\u003e\u003cdiv class=\\\"aui-page-header-main\\\"\u003e\u003ch1\u003e\u003cdiv class=\\\"aui-group aui-group-split\\\"\u003e\u003cdiv class=\\\"aui-item project-title\\\"\u003e\u003ca href=\\\"\\/jira\\/projects\\/DERBY\\/summary\\\" title=\\\"Derby\\\"\u003eDerby\u003c\\/a\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/h1\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-main --\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-inner --\u003e\u003c\\/header\u003e\u003c!-- .aui-page-header --\u003e\u003cnav class=\\\"aui-navgroup aui-navgroup-vertical\\\"\u003e\u003cdiv class=\\\"aui-navgroup-inner sidebar-content-container\\\"\u003e\u003cdiv class=\\\"aui-sidebar-group aui-sidebar-group-tier-one\\\" data-id=\\\"sidebar-navigation-panel\\\"\u003e\u003cul class=\\\"aui-nav\\\"\u003e\u003cli class=\\\"aui-nav-selected\\\" \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/DERBY\\/issues\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-issue-navigator:sidebar-issue-navigator\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large icon-sidebar-issues\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Issues\\\"\u003eIssues\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003cli  \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/DERBY?selectedItem=com.atlassian.jira.jira-projects-plugin:report-page\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-plugin:report-page\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large agile-icon-report\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Reports\\\"\u003eReports\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003cli  \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/DERBY?selectedItem=com.atlassian.jira.jira-projects-plugin:components-page\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-plugin:components-page\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large icon-sidebar-components\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Components\\\"\u003eComponents\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003c\\/ul\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/nav\u003e\u003c\\/div\u003e\u003cdiv class=\\\"aui-sidebar-footer\\\"\u003e\u003ca class=\\\"aui-button aui-button-subtle aui-sidebar-toggle aui-sidebar-footer-tipsy\\\" data-tooltip=\\\"Expand sidebar ( [ )\\\" href=\\\"#\\\"\u003e\u003cspan class=\\\"aui-icon aui-icon-small\\\"\u003e\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/div\u003e\"";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:bigpipe-init/jira.webresources:bigpipe-init.js" data-wrm-key="jira.webresources:bigpipe-init" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <form id="jira_request_timing_info" class="dont-default-focus"> 
   <fieldset class="parameters hidden"> 
    <input type="hidden" title="jira.request.start.millis" value="1520239296059"> 
    <input type="hidden" title="jira.request.server.time" value="246"> 
    <input type="hidden" title="jira.request.id" value="521x94386271x4"> 
    <input type="hidden" title="jira.session.expiry.time" value="-"> 
    <input type="hidden" title="jira.session.expiry.in.mins" value="-"> 
    <input id="jiraConcurrentRequests" type="hidden" name="jira.request.concurrent.requests" value="7"> 
    <input type="hidden" title="db.reads.time.in.ms" value="33"> 
    <input type="hidden" title="db.conns.time.in.ms" value="38"> 
   </fieldset> 
  </form> 
  <!--
	                 REQUEST ID : 521x94386271x4
	          REQUEST TIMESTAMP : [05/Mar/2018:08:41:36 +0000]
	               REQUEST TIME : 0.2460
	                 ASESSIONID : -
	        CONCURRENT REQUESTS : 7

	                      db.reads : OpSnapshot{name='db.reads', invocationCount=24, elapsedTotal=33215050, elapsedMin=440733, elapsedMax=13753678, resultSetSize=0, cpuTotal=0, cpuMin=0, cpuMax=0}
	                      db.conns : OpSnapshot{name='db.conns', invocationCount=28, elapsedTotal=38856697, elapsedMin=480597, elapsedMax=13786278, resultSetSize=0, cpuTotal=0, cpuMin=0, cpuMax=0}
-->   
 </body>
</html>