<!doctype html>
<html lang="en">
 <head> 
  <meta charset="utf-8"> 
  <meta http-equiv="X-UA-Compatible" content="IE=Edge"> 
  <meta name="application-name" content="JIRA" data-name="jira" data-version="7.6.3">
  <meta name="ajs-viewissue-use-history-api" content="false"> 
  <meta name="ajs-jira-base-url" content="https://issues.apache.org/jira"> 
  <meta name="ajs-serverRenderedViewIssue" content="true"> 
  <meta name="ajs-dev-mode" content="false"> 
  <meta name="ajs-context-path" content="/jira"> 
  <meta name="ajs-version-number" content="7.6.3"> 
  <meta name="ajs-build-number" content="76005"> 
  <meta name="ajs-is-beta" content="false"> 
  <meta name="ajs-is-rc" content="false"> 
  <meta name="ajs-is-snapshot" content="false"> 
  <meta name="ajs-is-milestone" content="false"> 
  <meta name="ajs-remote-user" content=""> 
  <meta name="ajs-remote-user-fullname" content=""> 
  <meta name="ajs-user-locale" content="en_UK"> 
  <meta name="ajs-user-locale-group-separator" content=","> 
  <meta name="ajs-app-title" content="ASF JIRA"> 
  <meta name="ajs-keyboard-shortcuts-enabled" content="true"> 
  <meta name="ajs-keyboard-accesskey-modifier" content="Ctrl+Alt"> 
  <meta name="ajs-enabled-dark-features" content="[&quot;com.atlassian.jira.agile.darkfeature.editable.detailsview&quot;,&quot;nps.survey.inline.dialog&quot;,&quot;com.atlassian.jira.agile.darkfeature.edit.closed.sprint.enabled&quot;,&quot;jira.plugin.devstatus.phasetwo&quot;,&quot;jira.frother.reporter.field&quot;,&quot;atlassian.rest.xsrf.legacy.enabled&quot;,&quot;jira.issue.status.lozenge&quot;,&quot;com.atlassian.jira.config.BIG_PIPE&quot;,&quot;com.atlassian.jira.projects.issuenavigator&quot;,&quot;com.atlassian.jira.config.PDL&quot;,&quot;jira.plugin.devstatus.phasetwo.enabled&quot;,&quot;atlassian.aui.raphael.disabled&quot;,&quot;app-switcher.new&quot;,&quot;frother.assignee.field&quot;,&quot;com.atlassian.jira.projects.ProjectCentricNavigation.Switch&quot;,&quot;sd.internal.base.off.thread.on.completion.events.enabled&quot;,&quot;jira.onboarding.cyoa&quot;,&quot;com.atlassian.jira.agile.darkfeature.kanplan.enabled&quot;,&quot;sd.slavalue.record.updated.date.enabled&quot;,&quot;com.atlassian.jira.config.ProjectConfig.MENU&quot;,&quot;com.atlassian.jira.projects.sidebar.DEFER_RESOURCES&quot;,&quot;com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions.enabled&quot;,&quot;com.atlassian.jira.agile.darkfeature.sprint.goal.enabled&quot;,&quot;jira.zdu.admin-updates-ui&quot;,&quot;jira.zdu.jmx-monitoring&quot;,&quot;sd.sla.improved.rendering.enabled&quot;,&quot;sd.canned.responses.enabled&quot;,&quot;sd.new.settings.sidebar.location.disabled&quot;,&quot;jira.zdu.cluster-upgrade-state&quot;,&quot;com.atlassian.jira.agile.darkfeature.splitissue&quot;,&quot;com.atlassian.jira.config.CoreFeatures.LICENSE_ROLES_ENABLED&quot;,&quot;com.atlassian.feedback.feedback-button-move-to-header-enable&quot;,&quot;jira.export.csv.enabled&quot;]"> 
  <meta name="ajs-in-admin-mode" content="false"> 
  <meta name="ajs-is-sysadmin" content="false"> 
  <meta name="ajs-is-admin" content="false"> 
  <meta name="ajs-outgoing-mail-enabled" content="true"> 
  <meta name="ajs-date-relativize" content="true"> 
  <meta name="ajs-date-time" content="HH:mm"> 
  <meta name="ajs-date-day" content="EEEE HH:mm"> 
  <meta name="ajs-date-dmy" content="dd/MMM/yy"> 
  <meta name="ajs-date-complete" content="dd/MMM/yy HH:mm"> 
  <script type="text/javascript">var AJS=AJS||{};AJS.debug=true;</script> 
  <meta id="atlassian-token" name="atlassian-token" content="A5KQ-2QAV-T4JA-FDED|03ae53bba3e15dd8058a096cac0d2a9f236a0f51|lout"> 
  <link rel="shortcut icon" href="/jira/s/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/_/favicon.ico"> 
  <!--[if IE]><![endif]--> 
  <script type="text/javascript">
    (function() {
        var contextPath = '/jira';
        var eventBuffer = [];

        function printDeprecatedMsg() {
            if (console && console.warn) {
                console.warn('DEPRECATED JS - contextPath global variable has been deprecated since 7.4.0. Use `wrm/context-path` module instead.');
            }
        }

        function sendEvent(analytics, postfix) {
            analytics.send({
                name: 'js.globals.contextPath.' + postfix
            });
        }

        function sendDeprecatedEvent(postfix) {
            try {
                var analytics = require('jira/analytics');
                if (eventBuffer.length) {
                    eventBuffer.forEach(function(value) {
                        sendEvent(analytics, value);
                    });
                    eventBuffer = [];
                }

                if (postfix) {
                    sendEvent(analytics, postfix);
                }
            } catch(ex) {
                eventBuffer.push(postfix);
                setTimeout(sendDeprecatedEvent, 1000);
            }
        }

        Object.defineProperty(window, 'contextPath', {
            get: function() {
                printDeprecatedMsg();
                sendDeprecatedEvent('get');
                return contextPath;
            },
            set: function(value) {
                printDeprecatedMsg();
                sendDeprecatedEvent('set');
                contextPath = value;
            }
        });
    })();

</script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["com.atlassian.plugins.atlassian-plugins-webresource-plugin:context-path.context-path"]="\"/jira\"";
WRM._unparsedData["jira.webresources:feature-flags.feature-flag-data"]="{\"enabled-feature-keys\":[\"com.atlassian.jira.agile.darkfeature.editable.detailsview\",\"nps.survey.inline.dialog\",\"com.atlassian.jira.agile.darkfeature.edit.closed.sprint.enabled\",\"jira.plugin.devstatus.phasetwo\",\"jira.frother.reporter.field\",\"atlassian.rest.xsrf.legacy.enabled\",\"jira.issue.status.lozenge\",\"com.atlassian.jira.config.BIG_PIPE\",\"com.atlassian.jira.projects.issuenavigator\",\"com.atlassian.jira.config.PDL\",\"jira.plugin.devstatus.phasetwo.enabled\",\"atlassian.aui.raphael.disabled\",\"app-switcher.new\",\"frother.assignee.field\",\"com.atlassian.jira.projects.ProjectCentricNavigation.Switch\",\"sd.internal.base.off.thread.on.completion.events.enabled\",\"jira.onboarding.cyoa\",\"com.atlassian.jira.agile.darkfeature.kanplan.enabled\",\"sd.slavalue.record.updated.date.enabled\",\"com.atlassian.jira.config.ProjectConfig.MENU\",\"com.atlassian.jira.projects.sidebar.DEFER_RESOURCES\",\"com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions.enabled\",\"com.atlassian.jira.agile.darkfeature.sprint.goal.enabled\",\"jira.zdu.admin-updates-ui\",\"jira.zdu.jmx-monitoring\",\"sd.sla.improved.rendering.enabled\",\"sd.canned.responses.enabled\",\"sd.new.settings.sidebar.location.disabled\",\"jira.zdu.cluster-upgrade-state\",\"com.atlassian.jira.agile.darkfeature.splitissue\",\"com.atlassian.jira.config.CoreFeatures.LICENSE_ROLES_ENABLED\",\"com.atlassian.feedback.feedback-button-move-to-header-enable\",\"jira.export.csv.enabled\"],\"feature-flag-states\":{\"sd.customer.profile.multi.languages\":true,\"sd.customer.portal.transitions\":true,\"sd.customer.portal.transitions.config\":true,\"sd.custom.email.stripping.rules\":false,\"sd.sla.lucene.issue.id.callback.performance\":true,\"sd.new.settings.sidebar.location\":true,\"sd.workload.report.paginator\":true,\"sd.experimental.portal.search.algorithm.default.1\":false,\"sd.customer.portal.help.center.agent.announcement\":true,\"sd.sla.improved.rendering\":false,\"sd.experimental.portal.search.algorithm.default.2\":false,\"sd.customer.feedback.validate.reporter.on.token\":true,\"sd.custom.email.notifications.utf8.csat.star\":true,\"sd.who.create.customers.by.email.setting\":true,\"com.atlassian.jira.issuetable.move.links.hidden\":true,\"jira.renderer.consider.variable.format\":true,\"sd.stats.event.tracking\":true,\"sd.password.helper.dialog\":true,\"sd.canned.responses\":false,\"sd.portal.help.center.customer.signup.secondary.email\":true,\"sd.custom.email.notifications.manage.language\":true,\"sd.use.search.by.permissions\":true,\"sd.slavalue.record.updated.date\":false,\"sd.report.custom.date.range\":false,\"sd.kb.article.helpfulness.report\":false,\"com.atlassian.jira.agile.darkfeature.sprint.goal\":false,\"sd.custom.email.notifications.styling\":true,\"sd.workinghours.new.page.bulldog.1\":false,\"sd.customer.portal.two.step.login\":false,\"sd.automation.psmq.async.executor\":true,\"sd.customer.org.list.page.lazy.search\":true,\"sd.approval.requested.when.handler\":true,\"sd.request.type.field.rest.api.filtering.bugfix\":true,\"sd.automation.then.action.auto.answer.approval\":true,\"com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions\":false,\"sla.will.only.be.paused.if.they.are.already.started\":true,\"sd.kb.comment.share.stats.collection\":true,\"com.atlassian.jira.upgrade.startup.fix.index\":true,\"sd.customer.orgs.group.participants\":true,\"sd.portal.help.center.customer.signup\":true,\"sd.sla.agent.jql.security.restricted\":true,\"sd.test.feature.flag.x\":true,\"sd.test.feature.flag.y\":false,\"sd.cluster.safe.mail.channel.shutdown\":true,\"sd.email.channel.folders\":false,\"sd.email.analytics.open\":false,\"sd.kb.project.creation.create.link.space\":true,\"sd.workinghours.new.page\":false,\"sd.confluence.anonymous.permission.fix\":true,\"com.atlassian.jira.issuetable.draggable\":true,\"sd.customer.portal.project.agent.announcement\":true,\"sd.automation.audit.log\":true,\"jira.jql.suggestrecentfields\":false,\"sd.canned.responses.check.index.startup\":false,\"sd.new.project.templates\":true,\"sd.custom.email.notifications.custom.rules.simple.ui\":false,\"sd.custom.email.notifications.cut.over\":true,\"sd.dismiss.all.misconfiguration.warnings.setting\":true,\"com.atlassian.jira.agile.darkfeature.optimistic.transitions\":true,\"sd.sla.configurations.export\":true,\"sd.canned.responses.variable.substitution\":true,\"com.atlassian.jira.agile.darkfeature.kanplan\":false,\"sd.internal.base.off.thread.on.completion.events\":false,\"sd.customer.portal.prioties.per.project.fix\":true,\"jira.instrumentation.laas\":false,\"sd.kb.self.service.report\":false,\"sla.improved.request.handling\":true,\"sd.no.schedule.async.upgrade.tasks\":true,\"sd.kb.primary.nav\":true,\"com.atlassian.jira.agile.darkfeature.edit.closed.sprint\":false,\"sd.kb.issueview.panel.phase2\":true,\"sd.email.outsider.comments\":true,\"jira.create.linked.issue\":true,\"sd.kb.issueview.panel\":true,\"jira.sal.host.connect.accessor.existing.transaction.will.create.transactions\":true,\"sd.approvals.light.weight\":false,\"sd.automation.then.webhook\":true,\"sd.respect.inline.edit.issue.off\":true,\"jira.jql.smartautoselectfirst\":false,\"sd.global.portal.search.atlassian.only.tracking\":false,\"sd.automation.if.condition.comment.primary.action\":true,\"jira.priorities.per.project\":true,\"sd.inline.noformat.renderer\":true,\"sd.customer.request.type.create.edit.screens\":true}}";
WRM._unparsedData["jira.webresources:default-comment-security-level.DefaultCommentSecurityLevelHelpLink"]="{\"extraClasses\":\"default-comment-level-help\",\"title\":\"Commenting on an Issue\",\"url\":\"https://docs.atlassian.com/jira/jcore-docs-076/Editing+and+collaborating+on+issues#Editingandcollaboratingonissues-restrictacomment\",\"isLocal\":false}";
WRM._unparsedData["jira.webresources:dateFormatProvider.allFormats"]="{\"dateFormats\":{\"meridiem\":[\"AM\",\"PM\"],\"eras\":[\"BC\",\"AD\"],\"months\":[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],\"monthsShort\":[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],\"weekdaysShort\":[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"],\"weekdays\":[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"]},\"lookAndFeelFormats\":{\"relativize\":\"true\",\"time\":\"HH:mm\",\"day\":\"EEEE HH:mm\",\"dmy\":\"dd/MMM/yy\",\"complete\":\"dd/MMM/yy HH:mm\"}}";
WRM._unparsedData["com.atlassian.jira.jira-issue-nav-components:issueviewer.features"]="{\"rteEnabled\":true}";
WRM._unparsedData["com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone.thumbnail-mime-types"]="\"image/png,image/vnd.wap.wbmp,image/x-png,image/jpeg,image/bmp,image/gif\"";
WRM._unparsedData["com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone.upload-limit"]="\"62914560\"";
WRM._unparsedData["com.atlassian.plugins.helptips.jira-help-tips:help-tip-manager.JiraHelpTipData"]="{\"anonymous\":true}";
WRM._unparsedData["com.atlassian.jira.jira-view-issue-plugin:controller-subtasks.controller.subtasks.parameters"]="{\"url\":\"/rest/api/2/issue/{issueId}/subtask/move\"}";
WRM._unparsedData["com.atlassian.analytics.analytics-client:policy-update-init.policy-update-data-provider"]="false";
WRM._unparsedData["com.atlassian.analytics.analytics-client:programmatic-analytics-init.programmatic-analytics-data-provider"]="false";
WRM._unparsedData["com.atlassian.servicedesk.servicedesk-canned-responses-plugin:canned-responses-data-provider.data"]="{\"substitutionVariables\":{\"issue.summary\":\"Issue summary\",\"issue.description\":\"Issue description\",\"issue.key\":\"Issue key\",\"issue.reporter.name\":\"Issue reporter\",\"issue.resolution\":\"Issue resolution\",\"request.url\":\"Request URL\",\"request.status\":\"Request status\"}}";
WRM._unparsedData["jira.webresources:avatar-picker.data"]="{}";
WRM._unparsedData["com.atlassian.feedback.jira-feedback-plugin:button-resources-init.data"]="{\"jira.feedback.plugin.issue.collector.core\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"jira.feedback.plugin.issue.collector.default\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"jira.feedback.plugin.issue.collector.service.desk\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector.js?locale=en-UK&collectorId=a698db21\",\"jira.feedback.plugin.issue.collector.software\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"isHeaderFeedbackButtonEnabled\":true}";
WRM._unparsedData["com.atlassian.jira.jira-header-plugin:dismissedFlags.flags"]="{\"dismissed\":[]}";
WRM._unparsedData["com.atlassian.jira.jira-header-plugin:newsletter-signup-tip-init.newsletterSignup"]="{\"signupDescription\":\"Get updates, inspiration and best practices from the team behind JIRA.\",\"formUrl\":\"https://www.atlassian.com/apis/exact-target/{0}/subscribe?mailingListId=1401671\",\"signupTitle\":\"Sign up!\",\"signupId\":\"newsletter-signup-tip\",\"showNewsletterTip\":false}";
WRM._unparsedData["com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources.ptAnalyticsData"]="{\"instanceCreatedDate\":\"2011-01-31\"}";
WRM._unparsedData["com.atlassian.servicedesk.core-ui:util-help-links.help-links"]="{\"help\":{\"email.settings\":\"https://docs.atlassian.com/jira/jsd-docs-039/Receiving+requests+by+email\",\"managing.queues\":\"https://docs.atlassian.com/jira/jsd-docs-039/Setting+up+queues+for+your+team\",\"email.setup\":\"https://docs.atlassian.com/jira/jsd-docs-039/Receiving+requests+by+email\",\"request.settings.help.bubble\":\"https://docs.atlassian.com/jira/jsd-docs-039/Managing+access+to+your+service+desk\",\"email.settings.suitablerequest\":\"https://docs.atlassian.com/jira/jsd-docs-039/Receiving+requests+by+email#Receivingrequestsbyemail-suitablerequest\",\"sla.import.help\":\"https://docs.atlassian.com/jira/jsd-docs-039/Importing+SLAs\",\"documentation.home\":\"https://docs.atlassian.com/jira/jsd-docs-039/JIRA+Service+Desk+Documentation\",\"default\":\"https://docs.atlassian.com/jira/jsd-docs-039/\",\"create.space.help\":\"https://docs.atlassian.com/jira/jsd-docs-039/Serving+customers+with+a+knowledge+base#serving-customers-with-a-knowledge-base-createpermission\",\"email.settings.troubleshooting\":\"https://docs.atlassian.com/jira/jsd-docs-039/Troubleshooting+issues+with+the+email+channel\",\"admin.notifications.config\":\"https://docs.atlassian.com/jira/jsd-docs-039/Managing+service+desk+notifications\",\"troubleshoot.requesttype\":\"https://docs.atlassian.com/jira/jsd-docs-039/Troubleshooting+issues+with+request+types\",\"approvals.configuration\":\"https://docs.atlassian.com/jira/jsd-docs-039/Configuring+JIRA+Service+Desk+approvals\",\"setting.up.reports\":\"https://docs.atlassian.com/jira/jsd-docs-039/Setting+up+service+desk+reports\",\"public.signup\":\"https://docs.atlassian.com/jira/jsd-docs-039/Configuring+public+signup\",\"knowledge.base\":\"https://docs.atlassian.com/jira/jsd-docs-039/Serving+customers+with+a+knowledge+base\",\"resolve.permission.scheme.errors\":\"https://docs.atlassian.com/jira/jsd-docs-039/Resolving+permission+scheme+errors\",\"getting.started\":\"https://docs.atlassian.com/jira/jsd-docs-039/Getting+started+with+JIRA+Service+Desk\",\"getting.started.agent\":\"https://docs.atlassian.com/jira/jsd-docs-039/Getting+started+for+service+desk+agents\",\"invite.customers\":\"https://docs.atlassian.com/jira/jsd-docs-039/Managing+access+to+your+service+desk\"},\"kb\":{\"default\":\"https://confluence.atlassian.com/display/SDKB/\",\"troubleshooting.user.management.issues\":\"https://confluence.atlassian.com/display/SDKB/Troubleshooting+issues+with+service+desk+user+management\",\"legacytransition\":\"https://confluence.atlassian.com/display/SDKB/Replacing+legacy+automatic+transitions+with+automation+rules\",\"umtroubleshoot\":\"https://confluence.atlassian.com/display/SDKB/Troubleshooting+issues+with+service+desk+user+management\"}}";
WRM._unparsedData["com.atlassian.servicedesk.core-ui:util-base-url.base-url"]="\"https://issues.apache.org/jira\"";
WRM._unparsedData["com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources.help-data"]="{\"showHelp\":true,\"editorDocumentationUrl\":[\"https://docs.atlassian.com/jira/jcore-docs-076/Visual+editing\"],\"editorDocumentationTitle\":[\"Show me documentation for the visual editor\"]}";
WRM._unparsedData["com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources.thumbnails-allowed"]="false";
WRM._unparsedData["jira.webresources:user-message-flags.adminLockout"]="{}";
WRM._unparsedData["jira.request.correlation-id"]="\"2d94b8912a0cb4\"";
WRM._unparsedData["project-id"]="10594";
WRM._unparsedData["project-key"]="\"DERBY\"";
WRM._unparsedData["project-name"]="\"Derby\"";
WRM._unparsedData["project-type"]="\"software\"";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:generic-filters"]="[{\"id\":\"allissues\",\"jql\":\"project = \\\"{0}\\\" ORDER BY {1}\",\"defaultOrderby\":\"created DESC\",\"label\":\"All issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[]},{\"id\":\"allopenissues\",\"jql\":\"project = \\\"{0}\\\" AND resolution = Unresolved ORDER BY {1}\",\"defaultOrderby\":\"priority DESC, updated DESC\",\"label\":\"Open issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"resolution\"]},{\"id\":\"doneissues\",\"jql\":\"project = \\\"{0}\\\" AND statusCategory = Done ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Done issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":false,\"fields\":[\"status\"]},{\"id\":\"recentlyviewed\",\"jql\":\"project = \\\"{0}\\\" AND issuekey in issueHistory() ORDER BY {1}\",\"defaultOrderby\":\"lastViewed DESC\",\"label\":\"Viewed recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"issuekey\"]},{\"id\":\"addedrecently\",\"jql\":\"project = \\\"{0}\\\" AND created \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"created DESC\",\"label\":\"Created recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"created\"]},{\"id\":\"resolvedrecently\",\"jql\":\"project = \\\"{0}\\\" AND resolutiondate \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Resolved recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":false,\"fields\":[\"resolutiondate\"]},{\"id\":\"updatedrecently\",\"jql\":\"project = \\\"{0}\\\" AND updated \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Updated recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"updated\"]}]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:default-filter-priority"]="[\"allopenissues\",\"allissues\"]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:can-manage-filters"]="false";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:project-filters"]="[]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:can-create-issues"]="false";
WRM._unparsedData["projectId"]="10594";
WRM._unparsedData["projectKey"]="\"DERBY\"";
WRM._unparsedData["projectType"]="\"software\"";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:server-rendered"]="true";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/a8a4711bc3f2eb261d8c8fd9fbcbba8b-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/1fca1750044f2777c977e8d8cc023344/_/download/contextbatch/css/_super/batch.css" data-wrm-key="_super" data-wrm-batch-type="context" media="all"> 
  <link type="text/css" rel="stylesheet" href="/jira/s/1a6b21131945f6f49ff48336b49ca3fe-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/37a6e594cbbfd462a8a54d5aa11475c1/_/download/contextbatch/css/project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super/batch.css?agile_global_admin_condition=true&amp;hc-enabled=true&amp;is-server-instance=true&amp;jag=true&amp;jira.create.linked.issue=true&amp;nps-acknowledged=true&amp;richediton=true&amp;sd_operational=true" data-wrm-key="project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super" data-wrm-batch-type="context" media="all"> 
  <link type="text/css" rel="stylesheet" href="/jira/s/611672383f6cab00ab202241ba6f9d68-T/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/7.6.3/_/download/batch/com.atlassian.feedback.jira-feedback-plugin:button-resources-init/com.atlassian.feedback.jira-feedback-plugin:button-resources-init.css" data-wrm-key="com.atlassian.feedback.jira-feedback-plugin:button-resources-init" data-wrm-batch-type="resource" media="all"> 
  <script type="text/javascript" src="/jira/s/d8484c9183f546511a8e336a8779bcd9-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/1fca1750044f2777c977e8d8cc023344/_/download/contextbatch/js/_super/batch.js?locale=en-UK" data-wrm-key="_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d3b35d835f8f46fc3b53bb4db7f85158-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/37a6e594cbbfd462a8a54d5aa11475c1/_/download/contextbatch/js/project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super/batch.js?agile_global_admin_condition=true&amp;hc-enabled=true&amp;is-server-instance=true&amp;jag=true&amp;jira.create.linked.issue=true&amp;locale=en-UK&amp;nps-acknowledged=true&amp;richediton=true&amp;sd_operational=true" data-wrm-key="project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/71d42e74136d842a3ef4d5d136484843-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/871d45c9f322a22cb3aa9b7948a69803/_/download/contextbatch/js/atl.global,-_super/batch.js?locale=en-UK" data-wrm-key="atl.global,-_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:calendar-en/jira.webresources:calendar-en.js" data-wrm-key="jira.webresources:calendar-en" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:calendar-localisation-moment/jira.webresources:calendar-localisation-moment.js" data-wrm-key="jira.webresources:calendar-localisation-moment" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/7.6.3/_/download/batch/com.atlassian.feedback.jira-feedback-plugin:button-resources/com.atlassian.feedback.jira-feedback-plugin:button-resources.js" data-wrm-key="com.atlassian.feedback.jira-feedback-plugin:button-resources" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/95a4826c265852f4904f1e0e7300df68-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/e0de73613a1027de08f3da6a45e1d1a2/_/download/contextbatch/css/jira.global.look-and-feel,-_super/batch.css" data-wrm-key="jira.global.look-and-feel,-_super" data-wrm-batch-type="context" media="all"> 
  <script type="text/javascript" src="/jira/rest/api/1.0/shortcuts/76005/944bb39eced1b35cfc7194aa02eb5a5a/shortcuts.js?context=issuenavigation&amp;context=issueaction"></script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["com.atlassian.jira.jira-issue-nav-components:inline-edit-enabled"]="true";
WRM._unparsedData["should-display-chaperone"]="false";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/15712b600e9aecf72ffd9fd3704a0c78-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/6b22a15c7b83f87a47b1757076f43542/_/download/contextbatch/css/com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue/batch.css?jira.create.linked.issue=true&amp;richediton=true&amp;sd_operational=true" data-wrm-key="com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue" data-wrm-batch-type="context" media="all"> 
  <script type="text/javascript" src="/jira/s/5a8f0f8b8aa8f96a4f0f7e9e248d62f3-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/6b22a15c7b83f87a47b1757076f43542/_/download/contextbatch/js/com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue/batch.js?jira.create.linked.issue=true&amp;locale=en-UK&amp;richediton=true&amp;sd_operational=true" data-wrm-key="com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue" data-wrm-batch-type="context" data-initially-rendered></script> 
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge"> 
  <meta name="ajs-can-search-users" content="false"> 
  <meta name="ajs-can-edit-watchers" content="false"> 
  <meta name="ajs-default-avatar-url" content="https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10453"> 
  <meta name="ajs-issue-project-type" content="software"> 
  <meta name="ajs-issue-key" content="DERBY-326"> 
  <meta name="ajs-server-view-issue-is-editable" content="false"> 
  <title>[DERBY-326] Improve streaming of large objects for network server and client - ASF JIRA</title> 
  <link rel="search" type="application/opensearchdescription+xml" href="/jira/osd.jsp" title="[DERBY-326] Improve streaming of large objects for network server and client - ASF JIRA"> 
 </head> 
 <body id="jira" class="aui-layout aui-theme-default " data-version="7.6.3"> 
  <div id="page"> 
   <header id="header" role="banner"> 
    <script>
require(["jquery", "jira/license-banner"], function ($, licenseBanner) {
    $(function () {
        licenseBanner.showLicenseBanner("");
        licenseBanner.showLicenseFlag("");
    });
});
</script> 
    <nav class="aui-header aui-dropdown2-trigger-group" role="navigation">
     <div class="aui-header-inner">
      <div class="aui-header-before">
       <a class=" aui-dropdown2-trigger app-switcher-trigger" aria-controls="app-switcher" aria-haspopup="true" role="button" tabindex="0" data-aui-trigger href="#app-switcher"><span class="aui-icon aui-icon-small aui-iconfont-appswitcher">Linked Applications</span></a>
       <div id="app-switcher" class="aui-dropdown2 aui-style-default" role="menu" aria-hidden="true" data-is-switcher="true" data-environment="{&quot;isUserAdmin&quot;:false,&quot;isAppSuggestionAvailable&quot;:false,&quot;isSiteAdminUser&quot;:false}">
        <div role="application">
         <div class="app-switcher-loading">
          Loadingâ€¦
         </div>
        </div>
       </div>
      </div>
      <div class="aui-header-primary">
       <h1 id="logo" class="aui-header-logo aui-header-logo-custom"><a href="https://issues.apache.org/jira/secure/MyJiraHome.jspa"><img src="/jira/s/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/_/jira-logo-scaled.png" alt="ASF JIRA"></a></h1>
       <ul class="aui-nav">
        <li><a href="/jira/secure/Dashboard.jspa" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="home_link" aria-haspopup="true" aria-controls="home_link-content" title="View and manage your dashboards" accesskey="d">Dashboards</a>
         <div class="aui-dropdown2 aui-style-default" id="home_link-content" data-aui-dropdown2-ajax-key="home_link"></div></li>
        <li><a href="/jira/browse/DERBY" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="browse_link" aria-haspopup="true" aria-controls="browse_link-content" title="View recent projects and browse a list of projects" accesskey="p">Projects</a>
         <div class="aui-dropdown2 aui-style-default" id="browse_link-content" data-aui-dropdown2-ajax-key="browse_link"></div></li>
        <li><a href="/jira/issues/" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="find_link" aria-haspopup="true" aria-controls="find_link-content" title="Search for issues and view recent issues" accesskey="i">Issues</a>
         <div class="aui-dropdown2 aui-style-default" id="find_link-content" data-aui-dropdown2-ajax-key="find_link"></div></li> 
       </ul>
      </div>
      <div class="aui-header-secondary">
       <ul class="aui-nav">
        <li id="quicksearch-menu"> 
         <form action="/jira/secure/QuickSearch.jspa" method="get" id="quicksearch" class="aui-quicksearch dont-default-focus ajs-dirty-warning-exempt"> 
          <input id="quickSearchInput" class="search" type="text" title="Search" placeholder="Search" name="searchString" accessKey="q"> 
          <input type="submit" class="hidden" value="Search"> 
         </form> </li> 
        <li><a class="jira-feedback-plugin" role="button" aria-haspopup="true" id="jira-header-feedback-link" href="#"><span class="aui-icon aui-icon-small jira-feedback-plugin-icon">Give feedback to Atlassian</span></a></li> 
        <li id="system-help-menu"> <a class="aui-nav-link aui-dropdown2-trigger" id="help_menu" aria-haspopup="true" aria-owns="system-help-menu-content" href="https://docs.atlassian.com/jira/jcore-docs-076/" target="$textUtils.htmlEncode($rootHelpMenuItem.params.target)" title="Help"><span class="aui-icon aui-icon-small aui-iconfont-help">Help</span></a> 
         <div id="system-help-menu-content" class="aui-dropdown2 aui-style-default"> 
          <div class="aui-dropdown2-section"> 
           <ul id="jira-help" class="aui-list-truncate"> 
            <li> <a id="view_core_help" class="aui-nav-link " title="Go to the online documentation for JIRA Core" href="https://docs.atlassian.com/jira/jcore-docs-076/" target="_blank">JIRA Core help</a> </li> 
            <li> <a id="keyshortscuthelp" class="aui-nav-link " title="Get more information about JIRA's Keyboard Shortcuts" href="/jira/secure/ViewKeyboardShortcuts!default.jspa" target="_blank">Keyboard Shortcuts</a> </li> 
            <li> <a id="view_about" class="aui-nav-link " title="Get more information about JIRA" href="/jira/secure/AboutPage.jspa">About JIRA</a> </li> 
            <li> <a id="view_credits" class="aui-nav-link " title="See who did what" href="/jira/secure/JiraCreditsPage!default.jspa" target="_blank">JIRA Credits</a> </li> 
           </ul> 
          </div> 
         </div> </li> 
        <li id="user-options"> <a class="aui-nav-link login-link" href="/jira/login.jsp?os_destination=%2Fbrowse%2FDERBY-326">Log In</a> 
         <div id="user-options-content" class="aui-dropdown2 aui-style-default"> 
          <div class="aui-dropdown2-section"> 
          </div> 
         </div> </li> 
       </ul>
      </div>
     </div>
     <!-- .aui-header-inner-->
    </nav>
    <!-- .aui-header --> 
   </header> 
   <section id="content" role="main"> 
    <big-pipe data-id="sidebar-id" unresolved></big-pipe>
    <div class="aui-sidebar  sidebar-placeholder">
     <div class="aui-sidebar-wrapper">
      <div class="aui-sidebar-body"></div>
      <div class="aui-sidebar-footer">
       <a class="aui-button aui-button-subtle aui-sidebar-toggle aui-sidebar-footer-tipsy" data-tooltip="Expand sidebar ( [ )" href="#"><span class="aui-icon aui-icon-small"></span></a>
      </div>
     </div>
    </div>
    <script id="projects-sidebar-init">
    require(['jira/projects/sidebar/expansion-manager'], function(expansionManager) {
        var scriptTag = document.getElementById('projects-sidebar-init');
        var sidebar = AJS.sidebar('.aui-sidebar');
        expansionManager(sidebar);
        scriptTag.parentElement.removeChild(scriptTag);
    });
    </script>
    <div class="aui-page-panel">
     <div class="aui-page-panel-inner">
      <div class="issue-navigator">
       <div class="content">
        <div class="issue-view">
         <div class="navigation-tools">
          <div class="pager-container"></div>
         </div>
         <div class="issue-container">
          <div id="issue-content" class="issue-edit-form">
           <header id="stalker" class="issue-header js-stalker">
            <div class="issue-header-content">
             <header class="aui-page-header">
              <div class="aui-page-header-inner">
               <div class="aui-page-header-image">
                <span id="10594" class="aui-avatar aui-avatar-large aui-avatar-project"><span class="aui-avatar-inner"><img id="project-avatar" alt="Uploaded image for project: 'Derby'" src="https://issues.apache.org/jira/secure/projectavatar?pid=10594&amp;avatarId=10122"></span></span>
               </div>
               <!-- .aui-page-header-image -->
               <div class="aui-page-header-main">
                <ol class="aui-nav aui-nav-breadcrumbs">
                 <li><a id="project-name-val" href="/jira/browse/DERBY">Derby</a></li>
                 <li><a class="issue-link" data-issue-key="DERBY-326" href="/jira/browse/DERBY-326" id="key-val" rel="32988">DERBY-326</a></li>
                </ol>
                <h1 id="summary-val">Improve streaming of large objects for network server and client</h1>
               </div>
               <!-- .aui-page-header-main -->
               <div class="aui-page-header-actions">
                <div id="issue-header-pager"></div>
               </div>
               <!-- .aui-page-header-actions -->
              </div>
              <!-- .aui-page-header-inner -->
             </header>
             <!-- .aui-page-header -->
             <div class="command-bar">
              <div class="ops-cont">
               <div class="ops-menus aui-toolbar">
                <div class="toolbar-split toolbar-split-left">
                 <ul id="opsbar-ops-login-lnk_container" class="toolbar-group pluggable-ops">
                  <li class="toolbar-item"><a id="ops-login-lnk" title="Log In" class="toolbar-trigger" href="/jira/login.jsp?os_destination=%2Fbrowse%2FDERBY-326"><span class="trigger-label">Log In</span></a></li>
                 </ul>
                 <ul id="opsbar-opsbar-operations" class="toolbar-group pluggable-ops"></ul>
                 <ul id="opsbar-opsbar-transitions" class="toolbar-group pluggable-ops"></ul>
                 <ul id="opsbar-opsbar-admin" class="toolbar-group pluggable-ops"></ul>
                </div>
                <div class="toolbar-split toolbar-split-right">
                 <ul id="opsbar-jira.issue.tools" class="toolbar-group pluggable-ops">
                  <li class="toolbar-item">
                   <div>
                    <a href="#" id="viewissue-export" aria-owns="viewissue-export_drop" aria-haspopup="true" title="Export this issue in another format" class="toolbar-trigger aui-button aui-style-default aui-dropdown2-trigger"><span class="icon icon-default aui-icon aui-icon-small aui-iconfont-export"></span> <span class="dropdown-text">Export</span></a>
                    <div id="viewissue-export_drop" class="aui-style-default aui-dropdown2">
                     <ul>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-xml/DERBY-326/DERBY-326.xml" id="jira.issueviews:issue-xml"><span class="trigger-label">XML</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-word/DERBY-326/DERBY-326.doc" id="jira.issueviews:issue-word"><span class="trigger-label">Word</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-html/DERBY-326/DERBY-326.html" id="jira.issueviews:issue-html"><span class="trigger-label">Printable</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/com.atlassian.jira.plugins.jira-importers-plugin:issue-json/DERBY-326/DERBY-326.json" id="com.atlassian.jira.plugins.jira-importers-plugin:issue-json"><span class="trigger-label">JSON</span></a></li>
                     </ul>
                    </div>
                   </div></li>
                 </ul>
                </div>
               </div>
              </div>
             </div>
            </div>
           </header>
           <div class="issue-body-content">
            <div class="aui-group issue-body">
             <div class="aui-item issue-main-column">
              <div id="details-module" class="module toggle-wrap">
               <div id="details-module_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Details</h2>
               </div>
               <div class="mod-content"> 
                <ul id="issuedetails" class="property-list two-cols"> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Type:</strong> 
                   <span id="type-val" class="value"> <img alt="" height="16" src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype" title="Improvement - An improvement or enhancement to an existing feature or task." width="16"> Improvement </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Status:</strong> 
                   <span id="status-val" class="value"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done jira-issue-status-lozenge-max-width-medium" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </span> 
                  </div> </li> 
                 <li class="item new"> 
                  <div class="wrap"> 
                   <strong class="name">Priority:</strong> 
                   <span id="priority-val" class="value"> <img alt="" height="16" src="/jira/images/icons/priorities/major.svg" title="Major - Major loss of function." width="16"> Major </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Resolution:</strong> 
                   <span id="resolution-val" class="value resolved"> Fixed </span> 
                  </div> </li> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Affects Version/s:</strong> 
                   <span id="versions-val" class="value"> <span class="shorten" id="versions-field"> <span title="10.1.2.1 ">10.1.2.1</span> </span> </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Fix Version/s:</strong> 
                   <span id="fixfor-val" class="value"> <span class="shorten" id="fixVersions-field"> <a href="/jira/issues/?jql=project+%3D+DERBY+AND+fixVersion+%3D+10.2.1.6" title="10.2.1.6 ">10.2.1.6</a> </span> </span> 
                  </div> </li> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Component/s:</strong> 
                   <span id="components-val" class="value"> <span class="shorten" id="components-field"> <a href="/jira/issues/?jql=project+%3D+DERBY+AND+component+%3D+%22Network+Client%22" title="Network Client ">Network Client</a>, <a href="/jira/issues/?jql=project+%3D+DERBY+AND+component+%3D+%22Network+Server%22" title="Network Server ">Network Server</a> </span> </span> 
                  </div> </li> 
                 <li class="item full-width"> 
                  <div class="wrap" id="wrap-labels"> 
                   <strong class="name">Labels:</strong> 
                   <div class="labels-wrap value"> 
                    <span class="labels" id="labels-32988-value">None</span> 
                   </div> 
                  </div> </li> 
                </ul> 
                <div id="customfieldmodule"> 
                 <div class="aui-tabs horizontal-tabs" id="customfield-tabs"> 
                  <div id="customfield-panel-1" class="tabs-pane active-pane"> 
                   <ul class="property-list"> 
                    <li id="rowForcustomfield_12310200" class="item"> 
                     <div class="wrap"> 
                      <strong title="Bug behavior facts" class="name">Bug behavior facts:</strong> 
                      <div id="customfield_12310200-val" class="value type-multicheckboxes" data-fieldtype="multicheckboxes" data-fieldtypecompletekey="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes"> 
                       <div class="shorten" id="customfield_12310200-field"> 
                        <span>Performance</span> 
                       </div> 
                      </div> 
                     </div> </li> 
                   </ul> 
                  </div> 
                 </div>
                </div> 
               </div>
              </div>
              <div id="descriptionmodule" class="module toggle-wrap">
               <div id="descriptionmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Description</h2>
               </div>
               <div class="mod-content">
                <div id="description-val" class="field-ignore-highlight"> 
                 <div class="user-content-block"> 
                  <p>Currently the stream writing methods in network server and client require a length parameter. This means that we have to get the length of the stream before sending it. For example in network server in EXTDTAInputStream we have to use getString and getbytes() instead of getCharacterStream and getBinaryStream so that we can get the length.</p> 
                  <p>SQLAM Level 7 provides for the enhanced LOB processing to allow streaming without indicating the length, so, the writeScalarStream methods in<br> network server DDMWriter.java and network client Request.java can be changed to not require a length.</p> 
                  <p>Code inspection of these methods seems to indicate that while the length is never written it is used heavily in generating the DSS. One strange thing is that it appears on error, the stream is padded out to full length with zeros, but an actual exception is never sent. Basically I think perhaps these methods need to be rewritten from scratch based on the spec requirements for lobs.</p> 
                  <p>After the writeScalarStream methods have been changed, then EXTDAInputStream can be changed to properly stream LOBS. See TODO tags in this file for more info. I am guessing similar optimizations available in the client as well, but am not sure where that code is.</p> 
                 </div> 
                </div> 
               </div>
              </div>
              <div id="dnd-metadata" class="module toggle-wrap">
               <div id="dnd-metadata_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Attachments</h2>
               </div>
               <div class="mod-content">
                <div id="dnd-metadata-webpanel" data-can-attach="false" data-project-type="software" data-upload-limit="62914560" data-thumbnails-allowed="false"></div>
               </div>
              </div>
              <div id="attachmentmodule" class="module toggle-wrap">
               <div id="attachmentmodule_heading" class="mod-header">
                <ul class="ops">
                 <li class="drop">
                  <div class="aui-dd-parent">
                   <a href="#" class="icon drop-menu js-default-dropdown" title="Options"><span>Options</span></a>
                   <div class="aui-dropdown-content aui-list">
                    <ul id="attachment-sorting-options" class="aui-list-section aui-first">
                     <li class="aui-list-item"><a id="attachment-sort-key-name" href="/jira/browse/DERBY-326?attachmentSortBy=fileName#attachmentmodule" class="aui-list-checked aui-checked aui-list-item-link" title="viewissue.subtasks.tab.show.all.name"><span>Sort By Name</span></a></li>
                     <li class="aui-list-item"><a id="attachment-sort-key-date" href="/jira/browse/DERBY-326?attachmentSortBy=dateTime#attachmentmodule" class="aui-list-checked aui-list-item-link" title="Sort By Date"><span>Sort By Date</span></a></li>
                    </ul>
                    <ul id="attachment-sorting-order-options" class="aui-list-section aui-last">
                     <li class="aui-list-item"><a id="attachment-sort-direction-asc" href="/jira/browse/DERBY-326?attachmentOrder=asc#attachmentmodule" class="aui-list-checked aui-checked aui-list-item-link" title="Ascending"><span>Ascending</span></a></li>
                     <li class="aui-list-item"><a id="attachment-sort-direction-desc" href="/jira/browse/DERBY-326?attachmentOrder=desc#attachmentmodule" class="aui-list-checked aui-list-item-link" title="Descending"><span>Descending</span></a></li>
                    </ul>
                   </div>
                  </div></li>
                </ul>
                <h2 class="toggle-title">Attachments</h2>
               </div>
               <div class="mod-content">
                <ol id="file_attachments" class="item-attachments" data-sort-key="fileName" data-sort-order="asc">
                 <li class="attachment-content js-file-attachment" data-attachment-id="12322004" data-issue-id="32988" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12322004/ClobTest.zip" draggable="true" data-downloadurl="application/x-zip-compressed:ClobTest.zip:https://issues.apache.org/jira/secure/attachment/12322004/ClobTest.zip"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12322004/ClobTest.zip" title="Latest  17/Jan/06 15:43 - Sunitha Kambhampati" draggable="true" data-downloadurl="application/x-zip-compressed:ClobTest.zip:https://issues.apache.org/jira/secure/attachment/12322004/ClobTest.zip">ClobTest.zip</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2006-01-17T15:43:54.000Z">17/Jan/06 15:43</time>
                   </dd>
                   <dd class="attachment-size">
                    77 kB
                   </dd>
                   <dd class="attachment-author">
                    Sunitha Kambhampati
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12321605" data-issue-id="32988" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12321605/DERBY-326_2.patch" draggable="true" data-downloadurl="text/x-diff:DERBY-326_2.patch:https://issues.apache.org/jira/secure/attachment/12321605/DERBY-326_2.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12321605/DERBY-326_2.patch" title="Latest  30/Dec/05 14:46 - Tomohito Nakayama" draggable="true" data-downloadurl="text/x-diff:DERBY-326_2.patch:https://issues.apache.org/jira/secure/attachment/12321605/DERBY-326_2.patch">DERBY-326_2.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2005-12-30T14:46:54.000Z">30/Dec/05 14:46</time>
                   </dd>
                   <dd class="attachment-size">
                    26 kB
                   </dd>
                   <dd class="attachment-author">
                    Tomohito Nakayama
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12321673" data-issue-id="32988" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12321673/DERBY-326_3.patch" draggable="true" data-downloadurl="text/x-diff:DERBY-326_3.patch:https://issues.apache.org/jira/secure/attachment/12321673/DERBY-326_3.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12321673/DERBY-326_3.patch" title="Latest  04/Jan/06 17:04 - Tomohito Nakayama" draggable="true" data-downloadurl="text/x-diff:DERBY-326_3.patch:https://issues.apache.org/jira/secure/attachment/12321673/DERBY-326_3.patch">DERBY-326_3.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2006-01-04T17:04:58.000Z">04/Jan/06 17:04</time>
                   </dd>
                   <dd class="attachment-size">
                    28 kB
                   </dd>
                   <dd class="attachment-author">
                    Tomohito Nakayama
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12321800" data-issue-id="32988" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12321800/DERBY-326_4.patch" draggable="true" data-downloadurl="text/x-diff:DERBY-326_4.patch:https://issues.apache.org/jira/secure/attachment/12321800/DERBY-326_4.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12321800/DERBY-326_4.patch" title="Latest  07/Jan/06 21:34 - Tomohito Nakayama" draggable="true" data-downloadurl="text/x-diff:DERBY-326_4.patch:https://issues.apache.org/jira/secure/attachment/12321800/DERBY-326_4.patch">DERBY-326_4.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2006-01-07T21:34:34.000Z">07/Jan/06 21:34</time>
                   </dd>
                   <dd class="attachment-size">
                    30 kB
                   </dd>
                   <dd class="attachment-author">
                    Tomohito Nakayama
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12322080" data-issue-id="32988" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12322080/DERBY-326_5_indented.patch" draggable="true" data-downloadurl="text/x-diff:DERBY-326_5_indented.patch:https://issues.apache.org/jira/secure/attachment/12322080/DERBY-326_5_indented.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12322080/DERBY-326_5_indented.patch" title="Latest  18/Jan/06 21:06 - Tomohito Nakayama" draggable="true" data-downloadurl="text/x-diff:DERBY-326_5_indented.patch:https://issues.apache.org/jira/secure/attachment/12322080/DERBY-326_5_indented.patch">DERBY-326_5_indented.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2006-01-18T21:06:56.000Z">18/Jan/06 21:06</time>
                   </dd>
                   <dd class="attachment-size">
                    32 kB
                   </dd>
                   <dd class="attachment-author">
                    Tomohito Nakayama
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12321863" data-issue-id="32988" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12321863/DERBY-326_5.patch" draggable="true" data-downloadurl="text/x-diff:DERBY-326_5.patch:https://issues.apache.org/jira/secure/attachment/12321863/DERBY-326_5.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12321863/DERBY-326_5.patch" title="Latest  11/Jan/06 22:01 - Tomohito Nakayama" draggable="true" data-downloadurl="text/x-diff:DERBY-326_5.patch:https://issues.apache.org/jira/secure/attachment/12321863/DERBY-326_5.patch">DERBY-326_5.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2006-01-11T22:01:35.000Z">11/Jan/06 22:01</time>
                   </dd>
                   <dd class="attachment-size">
                    30 kB
                   </dd>
                   <dd class="attachment-author">
                    Tomohito Nakayama
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12323615" data-issue-id="32988" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12323615/DERBY-326_6.patch" draggable="true" data-downloadurl="text/x-diff:DERBY-326_6.patch:https://issues.apache.org/jira/secure/attachment/12323615/DERBY-326_6.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12323615/DERBY-326_6.patch" title="Latest  02/Mar/06 19:47 - Tomohito Nakayama" draggable="true" data-downloadurl="text/x-diff:DERBY-326_6.patch:https://issues.apache.org/jira/secure/attachment/12323615/DERBY-326_6.patch">DERBY-326_6.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2006-03-02T19:47:01.000Z">02/Mar/06 19:47</time>
                   </dd>
                   <dd class="attachment-size">
                    37 kB
                   </dd>
                   <dd class="attachment-author">
                    Tomohito Nakayama
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12325897" data-issue-id="32988" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12325897/DERBY-326_7.patch" draggable="true" data-downloadurl="text/x-diff:DERBY-326_7.patch:https://issues.apache.org/jira/secure/attachment/12325897/DERBY-326_7.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12325897/DERBY-326_7.patch" title="Latest  26/Apr/06 18:19 - Tomohito Nakayama" draggable="true" data-downloadurl="text/x-diff:DERBY-326_7.patch:https://issues.apache.org/jira/secure/attachment/12325897/DERBY-326_7.patch">DERBY-326_7.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2006-04-26T18:19:46.000Z">26/Apr/06 18:19</time>
                   </dd>
                   <dd class="attachment-size">
                    276 kB
                   </dd>
                   <dd class="attachment-author">
                    Tomohito Nakayama
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12326065" data-issue-id="32988" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12326065/DERBY-326_8.patch" draggable="true" data-downloadurl="text/x-diff:DERBY-326_8.patch:https://issues.apache.org/jira/secure/attachment/12326065/DERBY-326_8.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12326065/DERBY-326_8.patch" title="Latest  30/Apr/06 12:51 - Tomohito Nakayama" draggable="true" data-downloadurl="text/x-diff:DERBY-326_8.patch:https://issues.apache.org/jira/secure/attachment/12326065/DERBY-326_8.patch">DERBY-326_8.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2006-04-30T12:51:03.000Z">30/Apr/06 12:51</time>
                   </dd>
                   <dd class="attachment-size">
                    278 kB
                   </dd>
                   <dd class="attachment-author">
                    Tomohito Nakayama
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12326358" data-issue-id="32988" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12326358/DERBY-326_9.patch" draggable="true" data-downloadurl="text/x-diff:DERBY-326_9.patch:https://issues.apache.org/jira/secure/attachment/12326358/DERBY-326_9.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12326358/DERBY-326_9.patch" title="Latest  07/May/06 16:02 - Tomohito Nakayama" draggable="true" data-downloadurl="text/x-diff:DERBY-326_9.patch:https://issues.apache.org/jira/secure/attachment/12326358/DERBY-326_9.patch">DERBY-326_9.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2006-05-07T16:02:14.000Z">07/May/06 16:02</time>
                   </dd>
                   <dd class="attachment-size">
                    276 kB
                   </dd>
                   <dd class="attachment-author">
                    Tomohito Nakayama
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12321595" data-issue-id="32988" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12321595/DERBY-326.patch" draggable="true" data-downloadurl="text/x-diff:DERBY-326.patch:https://issues.apache.org/jira/secure/attachment/12321595/DERBY-326.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12321595/DERBY-326.patch" title="Latest  29/Dec/05 23:13 - Tomohito Nakayama" draggable="true" data-downloadurl="text/x-diff:DERBY-326.patch:https://issues.apache.org/jira/secure/attachment/12321595/DERBY-326.patch">DERBY-326.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2005-12-29T23:13:11.000Z">29/Dec/05 23:13</time>
                   </dd>
                   <dd class="attachment-size">
                    28 kB
                   </dd>
                   <dd class="attachment-author">
                    Tomohito Nakayama
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12322303" data-issue-id="32988" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12322303/ReEncodedInputStream.java.modifiedForLongRun" draggable="true" data-downloadurl="text/x-csrc:ReEncodedInputStream.java.modifiedForLongRun:https://issues.apache.org/jira/secure/attachment/12322303/ReEncodedInputStream.java.modifiedForLongRun"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12322303/ReEncodedInputStream.java.modifiedForLongRun" title="Latest  24/Jan/06 21:56 - Tomohito Nakayama" draggable="true" data-downloadurl="text/x-csrc:ReEncodedInputStream.java.modifiedForLongRun:https://issues.apache.org/jira/secure/attachment/12322303/ReEncodedInputStream.java.modifiedForLongRun">ReEncodedInputStream.java.modifiedForLongRun</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2006-01-24T21:56:27.000Z">24/Jan/06 21:56</time>
                   </dd>
                   <dd class="attachment-size">
                    3 kB
                   </dd>
                   <dd class="attachment-author">
                    Tomohito Nakayama
                   </dd>
                  </dl></li>
                </ol>
               </div>
              </div>
              <div id="linkingmodule" class="module toggle-wrap">
               <div id="linkingmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Issue Links</h2>
               </div>
               <div class="mod-content"> 
                <div class="links-container" data-default-link-icon="/jira/images/icons/generic_link_16.png"> 
                 <dl class="links-list "> 
                  <dt title="incorporates">
                   incorporates
                  </dt> 
                  <dd id="internal-12333350_12310010"> 
                   <div class="link-content"> 
                    <p> <img src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype" width="16" height="16" title="Sub-task - The sub-task of the issue" alt="Sub-task - The sub-task of the issue"> <span title="DERBY-1302: Indent source files touched in DERBY-326"> <a href="/jira/browse/DERBY-1302" data-issue-key="DERBY-1302" class="issue-link link-title resolution">DERBY-1302</a> <span class="link-summary">Indent source files touched in DERBY-326</span> </span> </p> 
                    <ul class="link-snapshot"> 
                     <li class="priority"> <img src="/jira/images/icons/priorities/major.svg" width="16" height="16" title="Major - Major loss of function." alt="Major - Major loss of function."> </li> 
                     <li class="status"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done aui-lozenge-subtle jira-issue-status-lozenge-max-width-short" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </li> 
                    </ul> 
                   </div> 
                  </dd> 
                  <dd id="internal-12333352_12310010"> 
                   <div class="link-content"> 
                    <p> <img src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype" width="16" height="16" title="Bug - A problem which impairs or prevents the functions of the product." alt="Bug - A problem which impairs or prevents the functions of the product."> <span title="DERBY-1303: The test of derbynet/SuicideOfStreaming.java is failed when programs are build as Insane."> <a href="/jira/browse/DERBY-1303" data-issue-key="DERBY-1303" class="issue-link link-title resolution">DERBY-1303</a> <span class="link-summary">The test of derbynet/SuicideOfStreaming.java is failed when programs are build as Insane.</span> </span> </p> 
                    <ul class="link-snapshot"> 
                     <li class="priority"> <img src="/jira/images/icons/priorities/major.svg" width="16" height="16" title="Major - Major loss of function." alt="Major - Major loss of function."> </li> 
                     <li class="status"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done aui-lozenge-subtle jira-issue-status-lozenge-max-width-short" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </li> 
                    </ul> 
                   </div> 
                  </dd> 
                  <dd id="internal-12333337_12310010"> 
                   <div class="link-content"> 
                    <p> <img src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype" width="16" height="16" title="Improvement - An improvement or enhancement to an existing feature or task." alt="Improvement - An improvement or enhancement to an existing feature or task."> <span title="DERBY-1301:  Improve streaming of large objects for network server and client,from client to server"> <a href="/jira/browse/DERBY-1301" data-issue-key="DERBY-1301" class="issue-link link-title resolution">DERBY-1301</a> <span class="link-summary"> Improve streaming of large objects for network server and client,from client to server</span> </span> </p> 
                    <ul class="link-snapshot"> 
                     <li class="priority"> <img src="/jira/images/icons/priorities/major.svg" width="16" height="16" title="Major - Major loss of function." alt="Major - Major loss of function."> </li> 
                     <li class="status"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done aui-lozenge-subtle jira-issue-status-lozenge-max-width-short" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </li> 
                    </ul> 
                   </div> 
                  </dd> 
                 </dl> 
                 <dl class="links-list "> 
                  <dt title="is blocked by">
                   is blocked by
                  </dt> 
                  <dd id="internal-12325879_10032"> 
                   <div class="link-content"> 
                    <p> <img src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype" width="16" height="16" title="Bug - A problem which impairs or prevents the functions of the product." alt="Bug - A problem which impairs or prevents the functions of the product."> <span title="DERBY-721: State of InputStream retrieved from resultset is not clean , if there exists previous InputStream ."> <a href="/jira/browse/DERBY-721" data-issue-key="DERBY-721" class="issue-link link-title resolution">DERBY-721</a> <span class="link-summary">State of InputStream retrieved from resultset is not clean , if there exists previous InputStream .</span> </span> </p> 
                    <ul class="link-snapshot"> 
                     <li class="priority"> <img src="/jira/images/icons/priorities/major.svg" width="16" height="16" title="Major - Major loss of function." alt="Major - Major loss of function."> </li> 
                     <li class="status"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done aui-lozenge-subtle jira-issue-status-lozenge-max-width-short" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </li> 
                    </ul> 
                   </div> 
                  </dd> 
                 </dl> 
                 <dl class="links-list "> 
                  <dt title="relates to">
                   relates to
                  </dt> 
                  <dd id="internal-12372921_10030"> 
                   <div class="link-content"> 
                    <p> <img src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype" width="16" height="16" title="Bug - A problem which impairs or prevents the functions of the product." alt="Bug - A problem which impairs or prevents the functions of the product."> <span title="DERBY-2892: Closing a resultset after retrieving a large > 32665 bytes value with Network Server does not release locks"> <a href="/jira/browse/DERBY-2892" data-issue-key="DERBY-2892" class="issue-link link-title resolution">DERBY-2892</a> <span class="link-summary">Closing a resultset after retrieving a large &gt; 32665 bytes value with Network Server does not release locks</span> </span> </p> 
                    <ul class="link-snapshot"> 
                     <li class="priority"> <img src="/jira/images/icons/priorities/critical.svg" width="16" height="16" title="Critical - Crashes, loss of data, severe memory leak." alt="Critical - Crashes, loss of data, severe memory leak."> </li> 
                     <li class="status"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done aui-lozenge-subtle jira-issue-status-lozenge-max-width-short" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </li> 
                    </ul> 
                   </div> 
                  </dd> 
                  <dd id="internal-12314092_10030" class="
                                                collapsed-link                    "> 
                   <div class="link-content"> 
                    <p> <img src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype" width="16" height="16" title="Bug - A problem which impairs or prevents the functions of the product." alt="Bug - A problem which impairs or prevents the functions of the product."> <span title="DERBY-550: BLOB : java.lang.OutOfMemoryError with network JDBC driver (org.apache.derby.jdbc.ClientDriver)"> <a href="/jira/browse/DERBY-550" data-issue-key="DERBY-550" class="issue-link link-title resolution">DERBY-550</a> <span class="link-summary">BLOB : java.lang.OutOfMemoryError with network JDBC driver (org.apache.derby.jdbc.ClientDriver)</span> </span> </p> 
                    <ul class="link-snapshot"> 
                     <li class="priority"> <img src="/jira/images/icons/priorities/major.svg" width="16" height="16" title="Major - Major loss of function." alt="Major - Major loss of function."> </li> 
                     <li class="status"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done aui-lozenge-subtle jira-issue-status-lozenge-max-width-short" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </li> 
                    </ul> 
                   </div> 
                  </dd> 
                  <dd id="internal-12433091_10030" class="
                                                collapsed-link                    "> 
                   <div class="link-content"> 
                    <p> <img src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype" width="16" height="16" title="Bug - A problem which impairs or prevents the functions of the product." alt="Bug - A problem which impairs or prevents the functions of the product."> <span title="DERBY-4350: javaException is created but not thrown or logged  in DRDAConnThread.closeStream(InputStream stream)"> <a href="/jira/browse/DERBY-4350" data-issue-key="DERBY-4350" class="issue-link link-title resolution">DERBY-4350</a> <span class="link-summary">javaException is created but not thrown or logged in DRDAConnThread.closeStream(InputStream stream)</span> </span> </p> 
                    <ul class="link-snapshot"> 
                     <li class="priority"> <img src="/jira/images/icons/priorities/minor.svg" width="16" height="16" title="Minor - Minor loss of function, or other problem where easy workaround is present." alt="Minor - Minor loss of function, or other problem where easy workaround is present."> </li> 
                     <li class="status"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done aui-lozenge-subtle jira-issue-status-lozenge-max-width-short" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </li> 
                    </ul> 
                   </div> 
                  </dd> 
                  <dd id="internal-12326768_10030" class="
                                                collapsed-link                    "> 
                   <div class="link-content"> 
                    <p> <img src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype" width="16" height="16" title="Improvement - An improvement or enhancement to an existing feature or task." alt="Improvement - An improvement or enhancement to an existing feature or task."> <span title="DERBY-760: Implement routines that will write/read data from a byte[] in drda format rather than calling getXXX and setXXX methods"> <a href="/jira/browse/DERBY-760" data-issue-key="DERBY-760" class="issue-link link-title">DERBY-760</a> <span class="link-summary">Implement routines that will write/read data from a byte[] in drda format rather than calling getXXX and setXXX methods</span> </span> </p> 
                    <ul class="link-snapshot"> 
                     <li class="priority"> <img src="/jira/images/icons/priorities/minor.svg" width="16" height="16" title="Minor - Minor loss of function, or other problem where easy workaround is present." alt="Minor - Minor loss of function, or other problem where easy workaround is present."> </li> 
                     <li class="status"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-blue-gray jira-issue-status-lozenge-new aui-lozenge-subtle jira-issue-status-lozenge-max-width-short" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Open</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is open and ready for the assignee to start work on it.</span>">Open</span> </li> 
                    </ul> 
                   </div> 
                  </dd> 
                  <dd id="internal-12328504_10030" class="
                                                collapsed-link                    "> 
                   <div class="link-content"> 
                    <p> <img src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype" width="16" height="16" title="Improvement - An improvement or enhancement to an existing feature or task." alt="Improvement - An improvement or enhancement to an existing feature or task."> <span title="DERBY-917: Disable largedata/LobLimits.java test  from running in network server mode"> <a href="/jira/browse/DERBY-917" data-issue-key="DERBY-917" class="issue-link link-title resolution">DERBY-917</a> <span class="link-summary">Disable largedata/LobLimits.java test from running in network server mode</span> </span> </p> 
                    <ul class="link-snapshot"> 
                     <li class="priority"> <img src="/jira/images/icons/priorities/trivial.svg" width="16" height="16" title="Trivial - Cosmetic problem like misspelt words or misaligned text." alt="Trivial - Cosmetic problem like misspelt words or misaligned text."> </li> 
                     <li class="status"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done aui-lozenge-subtle jira-issue-status-lozenge-max-width-short" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </li> 
                    </ul> 
                   </div> 
                  </dd> 
                 </dl> 
                 <div id="show-more-links"> 
                  <button class="aui-button aui-button-link" id="show-more-links-link">Show 4 more links</button> 
                  <span>(4 relates to)</span> 
                 </div> 
                </div> 
               </div>
              </div>
              <div id="view-subtasks" class="module toggle-wrap">
               <div id="view-subtasks_heading" class="mod-header">
                <ul class="ops">
                 <li class="drop">
                  <div class="aui-dd-parent">
                   <a href="#" class="icon drop-menu js-default-dropdown" title="Options"><span>Options</span></a>
                   <div class="aui-dropdown-content aui-list">
                    <ul id="subtask-view-options" class="aui-list-section aui-first aui-last">
                     <li class="aui-list-item"><a id="subtasks-show-all" href="/jira/browse/DERBY-326?subTaskView=all#issuetable" class="aui-list-checked aui-checked aui-list-item-link" title="Show All"><span>Show All</span></a></li>
                     <li class="aui-list-item"><a id="subtasks-show-open" href="/jira/browse/DERBY-326?subTaskView=unresolved#issuetable" class="aui-list-checked aui-list-item-link" title="Show Open"><span>Show Open</span></a></li>
                     <li class="aui-list-item"><a id="subtasks-bulk-operation" href="/jira/issue/bulkedit/BulkEdit1!default.jspa?reset=true&amp;searchParent=DERBY-326" class="aui-list-checked aui-list-item-link" title="Bulk operation"><span>Bulk operation</span></a></li>
                     <li class="aui-list-item"><a id="subtasks-open-issue-navigator" href="/jira/issues/?jql=parent%3DDERBY-326" class="aui-list-checked aui-list-item-link" title="Open issue navigator"><span>Open issue navigator</span></a></li>
                    </ul>
                   </div>
                  </div></li>
                </ul>
                <h2 class="toggle-title">Sub-Tasks</h2>
               </div>
               <div class="mod-content">
                <div class="mod-content intform subtask-table-container"> 
                 <issuetable-web-component> 
                  <table id="issuetable"> 
                   <tbody>
                    <tr id="issuerow12328087" rel="12328087" data-issuekey="DERBY-872" class="issuerow"> 
                     <td class="stsequence">
                      <div rel="0" class="subtask-done">
                       1.
                      </div> </td> 
                     <td class="stsummary"><a class="issue-link" data-issue-key="DERBY-872" href="/jira/browse/DERBY-872">Fix how to measure performance of lob streaming</a></td> 
                     <td class="issuetype"> <a class="issue-link" data-issue-key="DERBY-872" href="/jira/browse/DERBY-872"> <img src="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype" height="16" width="16" border="0" align="absmiddle" alt="Sub-task" title="Sub-task - The sub-task of the issue"> </a> </td> 
                     <td class="status"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done aui-lozenge-subtle jira-issue-status-lozenge-max-width-short" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </td> 
                     <td class="assignee"> <span class="tinylink"><a class="user-hover" rel="naka" id="assignee_naka" href="/jira/secure/ViewProfile.jspa?name=naka">Tomohito Nakayama</a></span> </td> 
                    </tr> 
                    <tr id="issuerow12332876" rel="12332876" data-issuekey="DERBY-1268" class="issuerow"> 
                     <td class="stsequence">
                      <div rel="1" class="subtask-done">
                       2.
                      </div> </td> 
                     <td class="stsummary"><a class="issue-link" data-issue-key="DERBY-1268" href="/jira/browse/DERBY-1268">Add description of derby.drda.streamOutBufferSize to "Derby Server and Administration Guide"</a></td> 
                     <td class="issuetype"> <a class="issue-link" data-issue-key="DERBY-1268" href="/jira/browse/DERBY-1268"> <img src="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype" height="16" width="16" border="0" align="absmiddle" alt="Sub-task" title="Sub-task - The sub-task of the issue"> </a> </td> 
                     <td class="status"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done aui-lozenge-subtle jira-issue-status-lozenge-max-width-short" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </td> 
                     <td class="assignee"> <span class="tinylink"><a class="user-hover" rel="naka" id="assignee_naka" href="/jira/secure/ViewProfile.jspa?name=naka">Tomohito Nakayama</a></span> </td> 
                    </tr> 
                    <tr id="issuerow12333350" rel="12333350" data-issuekey="DERBY-1302" class="issuerow"> 
                     <td class="stsequence">
                      <div rel="2" class="subtask-done">
                       3.
                      </div> </td> 
                     <td class="stsummary"><a class="issue-link" data-issue-key="DERBY-1302" href="/jira/browse/DERBY-1302">Indent source files touched in DERBY-326</a></td> 
                     <td class="issuetype"> <a class="issue-link" data-issue-key="DERBY-1302" href="/jira/browse/DERBY-1302"> <img src="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype" height="16" width="16" border="0" align="absmiddle" alt="Sub-task" title="Sub-task - The sub-task of the issue"> </a> </td> 
                     <td class="status"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done aui-lozenge-subtle jira-issue-status-lozenge-max-width-short" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </td> 
                     <td class="assignee"> <span class="tinylink"><a class="user-hover" rel="naka" id="assignee_naka" href="/jira/secure/ViewProfile.jspa?name=naka">Tomohito Nakayama</a></span> </td> 
                    </tr> 
                   </tbody> 
                  </table> 
                 </issuetable-web-component> 
                 <div class="end-of-stable-message"></div> 
                </div> 
               </div>
              </div>
              <div id="activitymodule" class="module toggle-wrap">
               <div id="activitymodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Activity</h2>
               </div>
               <div class="mod-content"> 
                <big-pipe data-id="activity-panel-pipe-id" style="height: 70px"> 
                 <div></div> 
                </big-pipe> 
               </div>
              </div>
             </div>
             <div id="viewissuesidebar" class="aui-item issue-side-column">
              <div id="peoplemodule" class="module toggle-wrap">
               <div id="peoplemodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">People</h2>
               </div>
               <div class="mod-content"> 
                <ul class="item-details" id="peopledetails"> 
                 <li class="people-details"> 
                  <dl> 
                   <dt>
                    Assignee:
                   </dt> 
                   <dd> 
                    <span id="assignee-val" class="view-issue-field"> <span class="user-hover" id="issue_summary_assignee_naka" rel="naka" data-user="{&quot;avatarUrl&quot;:&quot;https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10452&quot;,&quot;displayName&quot;:&quot;Tomohito Nakayama&quot;,&quot;emailAddress&quot;:&quot;tomonaka@basil.ocn.ne.jp&quot;,&quot;username&quot;:&quot;naka&quot;}"> <span class="aui-avatar aui-avatar-small"><span class="aui-avatar-inner"><img src="https://issues.apache.org/jira/secure/useravatar?size=small&amp;avatarId=10452" alt="naka"></span></span> Tomohito Nakayama </span> </span> 
                   </dd> 
                  </dl> 
                  <dl> 
                   <dt>
                    Reporter:
                   </dt> 
                   <dd> 
                    <span id="reporter-val" class="view-issue-field"> <span class="user-hover" id="issue_summary_reporter_kmarsden" rel="kmarsden" data-user="{&quot;avatarUrl&quot;:&quot;https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10452&quot;,&quot;displayName&quot;:&quot;Kathey Marsden&quot;,&quot;emailAddress&quot;:&quot;kmarsdenderby@sbcglobal.net&quot;,&quot;username&quot;:&quot;kmarsden&quot;}"> <span class="aui-avatar aui-avatar-small"><span class="aui-avatar-inner"><img src="https://issues.apache.org/jira/secure/useravatar?size=small&amp;avatarId=10452" alt="kmarsden"></span></span> Kathey Marsden </span> </span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
                <ul class="item-details"> 
                 <li> 
                  <dl> 
                   <dt>
                    Votes:
                   </dt> 
                   <dd> 
                    <span id="vote-data" class="aui-badge vote-state-off">1</span> 
                    <span id="vote-label" title="You have to be logged in to vote for an issue.">Vote for this issue</span> 
                   </dd> 
                  </dl> 
                  <dl> 
                   <dt>
                    Watchers:
                   </dt> 
                   <dd> 
                    <span id="watcher-data" class="aui-badge watch-state-off">1</span> 
                    <span id="watch-label" title="You have to be logged in to watch an issue.">Start watching this issue</span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
               </div>
              </div>
              <div id="datesmodule" class="module toggle-wrap">
               <div id="datesmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Dates</h2>
               </div>
               <div class="mod-content"> 
                <ul class="item-details"> 
                 <li> 
                  <dl class="dates"> 
                   <dt>
                    Created:
                   </dt> 
                   <dd class="date user-tz" title="31/May/05 19:38"> 
                    <span data-name="Created" id="created-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2005-05-31T19:38:53+0000">31/May/05 19:38</time> </span> 
                   </dd> 
                  </dl> 
                  <dl class="dates"> 
                   <dt>
                    Updated:
                   </dt> 
                   <dd class="date user-tz" title="14/Aug/09 16:34"> 
                    <span data-name="Updated" id="updated-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2009-08-14T16:34:25+0000">14/Aug/09 16:34</time> </span> 
                   </dd> 
                  </dl> 
                  <dl class="dates"> 
                   <dt>
                    Resolved:
                   </dt> 
                   <dd class="date user-tz" title="29/Apr/09 01:01"> 
                    <span data-name="Resolved" id="resolutiondate-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2009-04-29T01:01:37+0000">29/Apr/09 01:01</time> </span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
               </div>
              </div>
             </div>
            </div>
           </div>
          </div>
         </div>
        </div>
       </div>
      </div>
     </div>
     <!-- .aui-page-panel-inner -->
    </div>
    <!-- .aui-page-panel -->
    <div class="issue-navigator-init"></div> 
   </section> 
   <footer id="footer" role="contentinfo"> 
    <section class="footer-body"> 
     <ul class="atlassian-footer"> 
      <li> Atlassian JIRA <a class="seo-link" rel="nofollow" href="https://www.atlassian.com/software/jira">Project Management Software</a> <span id="footer-build-information">(v7.6.3#76005-<span title="8a4e38d34af948780dbf52044e7aafb13a7cae58" data-commit-id="8a4e38d34af948780dbf52044e7aafb13a7cae58}">sha1:8a4e38d</span>)</span> </li> 
      <li> <a id="about-link" rel="nofollow" href="/jira/secure/AboutPage.jspa/secure/AboutPage.jspa">About JIRA</a> </li> 
      <li> <a id="footer-report-problem-link" rel="nofollow" href="/jira/secure/CreateIssue!default.jspa">Report a problem</a> </li> 
     </ul> 
     <ul class="atlassian-footer"> 
      <li class="licensemessage"> Powered by a free Atlassian <a rel="nofollow" href="http://www.atlassian.com/software/jira">JIRA</a> open source license for n/a, Apache Software Foundation. Try JIRA - <a rel="nofollow" href="http://www.atlassian.com/software/jira">bug tracking software</a> for <i>your</i> team. </li> 
     </ul> 
     <div id="footer-logo">
      <a rel="nofollow" href="http://www.atlassian.com/">Atlassian</a>
     </div> 
    </section> 
    <fieldset class="hidden parameters"> 
     <input type="hidden" title="loggedInUser" value=""> 
     <input type="hidden" title="ajaxTimeout" value="The call to the JIRA server did not complete within the timeout period.  We are unsure of the result of this operation."> 
     <input type="hidden" title="JiraVersion" value="7.6.3"> 
     <input type="hidden" title="ajaxUnauthorised" value="You are not authorised to perform this operation. Please log in."> 
     <input type="hidden" title="baseURL" value="https://issues.apache.org/jira"> 
     <input type="hidden" title="ajaxCommsError" value="The JIRA server could not be contacted. This may be a temporary glitch or the server may be down. "> 
     <input type="hidden" title="ajaxServerError" value="The JIRA server was contacted but has returned an error response. We are unsure of the result of this operation."> 
     <input type="hidden" title="ajaxErrorCloseDialog" value="Close this dialog and press refresh in your browser"> 
     <input type="hidden" title="ajaxErrorDialogHeading" value="Communications Breakdown"> 
     <input type="hidden" title="dirtyMessage" value="You have entered new data on this page. If you navigate away from this page without first saving your data, the changes will be lost."> 
     <input type="hidden" title="dirtyDialogMessage" value="You have entered new data in this dialog. If you navigate away from this dialog without first saving your data, the changes will be lost. Click cancel to return to the dialog."> 
     <input type="hidden" title="keyType" value="Type"> 
     <input type="hidden" title="keyThen" value="then"> 
     <input type="hidden" title="dblClickToExpand" value="Double click to expand"> 
     <input type="hidden" title="actions" value="Actions"> 
     <input type="hidden" title="removeItem" value="Remove"> 
     <input type="hidden" title="workflow" value="Workflow"> 
     <input type="hidden" title="labelNew" value="New Label"> 
     <input type="hidden" title="issueActionsHint" value="Begin typing for available operations or press down to see all"> 
     <input type="hidden" title="closelink" value="Close"> 
     <input type="hidden" title="dotOperations" value="Operations"> 
     <input type="hidden" title="dotLoading" value="Loading..."> 
     <input type="hidden" title="frotherSuggestions" value="Suggestions"> 
     <input type="hidden" title="frotherNomatches" value="No Matches"> 
     <input type="hidden" title="multiselectVersionsError" value="{0} is not a valid version."> 
     <input type="hidden" title="multiselectComponentsError" value="{0} is not a valid component."> 
     <input type="hidden" title="multiselectGenericError" value="The value {0} is invalid."> 
    </fieldset> 
   </footer> 
  </div> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:bigpipe-js/jira.webresources:bigpipe-js.js" data-wrm-key="jira.webresources:bigpipe-js" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["activity-panel-pipe-id"]="\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n    \u003cdiv class=\\\"tabwrap tabs2\\\"\u003e\\n\\n        \u003cul id=\\\"issue-tabs\\\" class=\\\"tabs horizontal\\\"\u003e\\n                                \\n            \u003cli  data-id=\\\"all-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\" data-label=\\\"All\\\" data-href=\\\"\\/jira\\/browse\\/DERBY-326?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"all-tabpanel\\\" href=\\\"\\/jira\\/browse\\/DERBY-326?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\"\u003e\u003cstrong\u003eAll\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  class=\\\"active\\\" id=\\\"comment-tabpanel\\\"  data-id=\\\"comment-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel\\\" data-label=\\\"Comments\\\" data-href=\\\"\\/jira\\/browse\\/DERBY-326?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel\\\"\u003e\\n                            \u003cstrong tabindex=\\\"0\\\"\u003eComments\u003c\\/strong\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"worklog-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\" data-label=\\\"Work Log\\\" data-href=\\\"\\/jira\\/browse\\/DERBY-326?page=com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"worklog-tabpanel\\\" href=\\\"\\/jira\\/browse\\/DERBY-326?page=com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\"\u003e\u003cstrong\u003eWork Log\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"changehistory-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\" data-label=\\\"History\\\" data-href=\\\"\\/jira\\/browse\\/DERBY-326?page=com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"changehistory-tabpanel\\\" href=\\\"\\/jira\\/browse\\/DERBY-326?page=com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\"\u003e\u003cstrong\u003eHistory\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"activity-stream-issue-tab\\\" data-key=\\\"com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\" data-label=\\\"Activity\\\" data-href=\\\"\\/jira\\/browse\\/DERBY-326?page=com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"activity-stream-issue-tab\\\" href=\\\"\\/jira\\/browse\\/DERBY-326?page=com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\"\u003e\u003cstrong\u003eActivity\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"transitions-summary-tabpanel\\\" data-key=\\\"com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\" data-label=\\\"Transitions\\\" data-href=\\\"\\/jira\\/browse\\/DERBY-326?page=com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"transitions-summary-tabpanel\\\" href=\\\"\\/jira\\/browse\\/DERBY-326?page=com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\"\u003e\u003cstrong\u003eTransitions\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                \u003c\\/ul\u003e\\n\\n                    \u003cdiv class=\\\"sortwrap\\\"\u003e\\n                                    \u003ca class=\\\"issue-activity-sort-link ajax-activity-content\\\" rel=\\\"nofollow\\\" data-tab-sort data-order=\\\"desc\\\" href=\\\"\\/jira\\/browse\\/DERBY-326?actionOrder=desc\\\" title=\\\"Ascending order - Click to sort in descending order\\\"\u003e\\n                        \u003cspan class=\\\"aui-icon aui-icon-small aui-iconfont-up\\\"\u003eAscending order - Click to sort in descending order\u003c\\/span\u003e\\n                    \u003c\\/a\u003e\\n                            \u003c\\/div\u003e\\n            \u003c\\/div\u003e\\n    \u003cdiv class=\\\"issuePanelWrapper\\\"\u003e\\n        \u003cdiv class=\\\"issuePanelProgress\\\"\u003e\u003c\\/div\u003e\\n        \u003cdiv class=\\\"issuePanelContainer\\\" id=\\\"issue_actions_container\\\"\u003e\\n                                    \\n\\n\\n\u003cdiv id=\\\"comment-12331663\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-326?focusedCommentId=12331663&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12331663\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"naka\\\" id=\\\"commentauthor_12331663_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=naka\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"naka\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Tomohito Nakayama\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12331663_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'09\\/Oct\\/05 18:19\'\u003e\u003ctime class=\'livestamp\' datetime=\'2005-10-09T18:19:58+0000\'\u003e09\\/Oct\\/05 18:19\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eIt seems that there exist something between this issue and \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-609\\\" title=\\\"Returning ByteArrayInputStream from ResultSet is not appropriate\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-609\\\"\u003e\u003cdel\u003eDERBY-609\u003c\\/del\u003e\u003c\\/a\u003e .\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"naka\\\" id=\\\"commentauthor_12331663_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=naka\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"naka\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Tomohito Nakayama\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12331663_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'09\\/Oct\\/05 18:19\'\u003e\u003ctime class=\'livestamp\' datetime=\'2005-10-09T18:19:58+0000\'\u003e09\\/Oct\\/05 18:19\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    It seems that there exist something between this issue and   DERBY-609   .              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12357046\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-326?focusedCommentId=12357046&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12357046\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"naka\\\" id=\\\"commentauthor_12357046_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=naka\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"naka\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Tomohito Nakayama\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12357046_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'09\\/Nov\\/05 02:13\'\u003e\u003ctime class=\'livestamp\' datetime=\'2005-11-09T02:13:16+0000\'\u003e09\\/Nov\\/05 02:13\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI just have started to read around Externalied LOB Data in Answer Set :4.4.6.3 @page170ofDRDA Spec part1 .?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"naka\\\" id=\\\"commentauthor_12357046_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=naka\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"naka\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Tomohito Nakayama\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12357046_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'09\\/Nov\\/05 02:13\'\u003e\u003ctime class=\'livestamp\' datetime=\'2005-11-09T02:13:16+0000\'\u003e09\\/Nov\\/05 02:13\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I just have started to read around Externalied LOB Data in Answer Set :4.4.6.3 @page170ofDRDA Spec part1 .?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12357479\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-326?focusedCommentId=12357479&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12357479\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"naka\\\" id=\\\"commentauthor_12357479_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=naka\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"naka\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Tomohito Nakayama\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12357479_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Nov\\/05 14:56\'\u003e\u003ctime class=\'livestamp\' datetime=\'2005-11-12T14:56:57+0000\'\u003e12\\/Nov\\/05 14:56\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI found information about layer B Streaming in description of DSS, DRDA, Version 3, Volume3: page315.\u003c\\/p\u003e\\n\\n\u003cp\u003eThis must be what we should implement .\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"naka\\\" id=\\\"commentauthor_12357479_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=naka\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"naka\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Tomohito Nakayama\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12357479_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Nov\\/05 14:56\'\u003e\u003ctime class=\'livestamp\' datetime=\'2005-11-12T14:56:57+0000\'\u003e12\\/Nov\\/05 14:56\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I found information about layer B Streaming in description of DSS, DRDA, Version 3, Volume3: page315. \\n\\n This must be what we should implement .              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12361368\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-326?focusedCommentId=12361368&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12361368\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"naka\\\" id=\\\"commentauthor_12361368_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=naka\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"naka\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Tomohito Nakayama\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12361368_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Dec\\/05 23:13\'\u003e\u003ctime class=\'livestamp\' datetime=\'2005-12-29T23:13:12+0000\'\u003e29\\/Dec\\/05 23:13\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eDescription of patch :\u003c\\/p\u003e\\n\u003cul\u003e\\n\\t\u003cli\u003eRemove processing to expand data from InputStream of blob\\/clob to memory before sending to client.\u003c\\/li\u003e\\n\\t\u003cli\u003eImplement layer B streaming at NetworkServer.\u003c\\/li\u003e\\n\\t\u003cli\u003eAs written in this issue firstly, almost rewrite whole org.apache.derby.impl.drda.DDMWriter#writeScalarStream.\u003cbr\\/\u003e\\n       Here , \\\"almost\\\" means that code was not wrote from scratch, but was wrote as reform.\u003cbr\\/\u003e\\n       Remarkable point is as next :\u003cbr\\/\u003e\\n       Original code was using variable \\\"bytesToRead\\\" to handle remaining amount of data sent and remaining roon in DSS segment .\u003cbr\\/\u003e\\n       Now this variable \\\"bytesToRead\\\" was removed from.\u003cbr\\/\u003e\\n       New code, instead, have variable \\\"spareDssLength\\\" to handle remaining room in DSS segment .\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cul\u003e\\n\\t\u003cli\u003eModify org.apache.derby.impl.drda.EXTDTAInputStream to stream InputStream retrieved from ResultSet directly.\u003c\\/li\u003e\\n\\t\u003cli\u003eThe source stream is read twice, first for seeing whether source stream is\\/is not empty, second for streaming it.\u003c\\/li\u003e\\n\\t\u003cli\u003eTo keep reference to valid stream, EXTDTAInputStream have reference to resultset and blob\\/clob also.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\\n\u003cul\u003e\\n\\t\u003cli\u003eModify master file of result  for blobclob4BLOB.\u003c\\/li\u003e\\n\\t\u003cli\u003eNow as same as result of embed driver, dead lock will be happen in clobTest92.\u003c\\/li\u003e\\n\\t\u003cli\u003eDifferent expected exception was happen in negative test in blobclob4BLOB.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\\n\\n\u003cp\u003eTesting :\u003cbr\\/\u003e\\n   Executed derbyall and found no error.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"naka\\\" id=\\\"commentauthor_12361368_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=naka\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"naka\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Tomohito Nakayama\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12361368_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Dec\\/05 23:13\'\u003e\u003ctime class=\'livestamp\' datetime=\'2005-12-29T23:13:12+0000\'\u003e29\\/Dec\\/05 23:13\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Description of patch : \\n \\n\\t Remove processing to expand data from InputStream of blob\\/clob to memory before sending to client. \\n\\t Implement layer B streaming at NetworkServer. \\n\\t As written in this issue firstly, almost rewrite whole org.apache.derby.impl.drda.DDMWriter#writeScalarStream. \\n       Here , \\\"almost\\\" means that code was not wrote from scratch, but was wrote as reform. \\n       Remarkable point is as next : \\n       Original code was using variable \\\"bytesToRead\\\" to handle remaining amount of data sent and remaining roon in DSS segment . \\n       Now this variable \\\"bytesToRead\\\" was removed from. \\n       New code, instead, have variable \\\"spareDssLength\\\" to handle remaining room in DSS segment . \\n \\n\\n\\n \\n\\t Modify org.apache.derby.impl.drda.EXTDTAInputStream to stream InputStream retrieved from ResultSet directly. \\n\\t The source stream is read twice, first for seeing whether source stream is\\/is not empty, second for streaming it. \\n\\t To keep reference to valid stream, EXTDTAInputStream have reference to resultset and blob\\/clob also. \\n \\n\\n\\n\\n \\n\\t Modify master file of result  for blobclob4BLOB. \\n\\t Now as same as result of embed driver, dead lock will be happen in clobTest92. \\n\\t Different expected exception was happen in negative test in blobclob4BLOB. \\n \\n\\n\\n\\n\\n Testing : \\n   Executed derbyall and found no error.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12361391\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-326?focusedCommentId=12361391&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12361391\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"bryanpendleton\\\" id=\\\"commentauthor_12361391_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=bryanpendleton\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"bryanpendleton\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Bryan Pendleton\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12361391_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Dec\\/05 03:25\'\u003e\u003ctime class=\'livestamp\' datetime=\'2005-12-30T03:25:38+0000\'\u003e30\\/Dec\\/05 03:25\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eIt seems as though there are a lot of modified lines in your patch, but many of them appear to be simply indentation\\/whitespace changes. Is it possible that you could re-run your diff command with the whitespace\u003cbr\\/\u003e\\nchanges excluded? Perhaps something like \\\"svn diff --diff-cmd diff -x -uw\\\"? That would make the patch\u003cbr\\/\u003e\\neasier to read and understand, for me. Thanks, bryan\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"bryanpendleton\\\" id=\\\"commentauthor_12361391_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=bryanpendleton\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"bryanpendleton\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Bryan Pendleton\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12361391_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Dec\\/05 03:25\'\u003e\u003ctime class=\'livestamp\' datetime=\'2005-12-30T03:25:38+0000\'\u003e30\\/Dec\\/05 03:25\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    It seems as though there are a lot of modified lines in your patch, but many of them appear to be simply indentation\\/whitespace changes. Is it possible that you could re-run your diff command with the whitespace \\nchanges excluded? Perhaps something like \\\"svn diff --diff-cmd diff -x -uw\\\"? That would make the patch \\neasier to read and understand, for me. Thanks, bryan              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12361406\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-326?focusedCommentId=12361406&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12361406\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"naka\\\" id=\\\"commentauthor_12361406_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=naka\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"naka\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Tomohito Nakayama\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12361406_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Dec\\/05 14:31\'\u003e\u003ctime class=\'livestamp\' datetime=\'2005-12-30T14:31:07+0000\'\u003e30\\/Dec\\/05 14:31\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eCreate patch file executing next command.\u003cbr\\/\u003e\\n   svn diff --diff-cmd diff -x -uw &gt; \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-326\\\" title=\\\"Improve streaming of large objects for network server and client\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-326\\\"\u003e\u003cdel\u003eDERBY-326\u003c\\/del\u003e\u003c\\/a\u003e_2.patch\u003c\\/p\u003e\\n\\n\u003cp\u003eDescription of patch :\u003c\\/p\u003e\\n\u003cul\u003e\\n\\t\u003cli\u003eRemove processing to expand data from InputStream of blob\\/clob to memory before sending to client.\u003c\\/li\u003e\\n\\t\u003cli\u003eImplement layer B streaming at NetworkServer.\u003c\\/li\u003e\\n\\t\u003cli\u003eAs written in this issue firstly, almost rewrite whole org.apache.derby.impl.drda.DDMWriter#writeScalarStream.\u003cbr\\/\u003e\\n       Here , \\\"almost\\\" means that code was not wrote from scratch, but was wrote as reform.\u003cbr\\/\u003e\\n       Remarkable point is as next :\u003cbr\\/\u003e\\n       Original code was using variable \\\"bytesToRead\\\" to handle remaining amount of data sent and remaining roon in DSS segment .\u003cbr\\/\u003e\\n       Now this variable \\\"bytesToRead\\\" was removed from.\u003cbr\\/\u003e\\n       New code, instead, have variable \\\"spareDssLength\\\" to handle remaining room in DSS segment .\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cul\u003e\\n\\t\u003cli\u003eModify org.apache.derby.impl.drda.EXTDTAInputStream to stream InputStream retrieved from ResultSet directly.\u003c\\/li\u003e\\n\\t\u003cli\u003eThe source stream is read twice, first for seeing whether source stream is\\/is not empty, second for streaming it.\u003c\\/li\u003e\\n\\t\u003cli\u003eTo keep reference to valid stream, EXTDTAInputStream have reference to resultset and blob\\/clob also.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\\n\u003cul\u003e\\n\\t\u003cli\u003eModify master file of result  for blobclob4BLOB.\u003c\\/li\u003e\\n\\t\u003cli\u003eNow as same as result of embed driver, dead lock will be happen in clobTest92.\u003c\\/li\u003e\\n\\t\u003cli\u003eDifferent expected exception was happen in negative test in blobclob4BLOB.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\\n\\n\u003cp\u003eTesting :\u003c\\/p\u003e\\n\u003cul\u003e\\n\\t\u003cli\u003eExecuted derbyall and found no error.\u003c\\/li\u003e\\n\\t\u003cli\u003eAfter \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-326\\\" title=\\\"Improve streaming of large objects for network server and client\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-326\\\"\u003e\u003cdel\u003eDERBY-326\u003c\\/del\u003e\u003c\\/a\u003e_2.patch created,\u003cbr\\/\u003e\\n      applying \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-326\\\" title=\\\"Improve streaming of large objects for network server and client\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-326\\\"\u003e\u003cdel\u003eDERBY-326\u003c\\/del\u003e\u003c\\/a\u003e_2.patch to reverted source code and\u003cbr\\/\u003e\\n      confirmed applied source codes can be build.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"naka\\\" id=\\\"commentauthor_12361406_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=naka\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"naka\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Tomohito Nakayama\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12361406_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Dec\\/05 14:31\'\u003e\u003ctime class=\'livestamp\' datetime=\'2005-12-30T14:31:07+0000\'\u003e30\\/Dec\\/05 14:31\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Create patch file executing next command. \\n   svn diff --diff-cmd diff -x -uw &gt;   DERBY-326  _2.patch \\n\\n Description of patch : \\n \\n\\t Remove processing to expand data from InputStream of blob\\/clob to memory before sending to client. \\n\\t Implement layer B streaming at NetworkServer. \\n\\t As written in this issue firstly, almost rewrite whole org.apache.derby.impl.drda.DDMWriter#writeScalarStream. \\n       Here , \\\"almost\\\" means that code was not wrote from scratch, but was wrote as reform. \\n       Remarkable point is as next : \\n       Original code was using variable \\\"bytesToRead\\\" to handle remaining amount of data sent and remaining roon in DSS segment . \\n       Now this variable \\\"bytesToRead\\\" was removed from. \\n       New code, instead, have variable \\\"spareDssLength\\\" to handle remaining room in DSS segment . \\n \\n\\n\\n \\n\\t Modify org.apache.derby.impl.drda.EXTDTAInputStream to stream InputStream retrieved from ResultSet directly. \\n\\t The source stream is read twice, first for seeing whether source stream is\\/is not empty, second for streaming it. \\n\\t To keep reference to valid stream, EXTDTAInputStream have reference to resultset and blob\\/clob also. \\n \\n\\n\\n\\n \\n\\t Modify master file of result  for blobclob4BLOB. \\n\\t Now as same as result of embed driver, dead lock will be happen in clobTest92. \\n\\t Different expected exception was happen in negative test in blobclob4BLOB. \\n \\n\\n\\n\\n\\n Testing : \\n \\n\\t Executed derbyall and found no error. \\n\\t After   DERBY-326  _2.patch created, \\n      applying   DERBY-326  _2.patch to reverted source code and \\n      confirmed applied source codes can be build. \\n \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12361407\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-326?focusedCommentId=12361407&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12361407\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"naka\\\" id=\\\"commentauthor_12361407_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=naka\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"naka\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Tomohito Nakayama\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12361407_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Dec\\/05 14:46\'\u003e\u003ctime class=\'livestamp\' datetime=\'2005-12-30T14:46:54+0000\'\u003e30\\/Dec\\/05 14:46\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI re-upload \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-326\\\" title=\\\"Improve streaming of large objects for network server and client\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-326\\\"\u003e\u003cdel\u003eDERBY-326\u003c\\/del\u003e\u003c\\/a\u003e_2.patch.\u003cbr\\/\u003e\\nI created patch \u003cb\u003eafter\u003c\\/b\u003e applying patch created executing \\\"svn diff --diff-cmd diff -x -uw\\\".\u003c\\/p\u003e\\n\\n\u003cp\u003eDescription of patch :\u003c\\/p\u003e\\n\u003cul\u003e\\n\\t\u003cli\u003eRemove processing to expand data from InputStream of blob\\/clob to memory before sending to client.\u003c\\/li\u003e\\n\\t\u003cli\u003eImplement layer B streaming at NetworkServer.\u003c\\/li\u003e\\n\\t\u003cli\u003eAs written in this issue firstly, almost rewrite whole org.apache.derby.impl.drda.DDMWriter#writeScalarStream.\u003cbr\\/\u003e\\n       Here , \\\"almost\\\" means that code was not wrote from scratch, but was wrote as reform.\u003cbr\\/\u003e\\n       Remarkable point is as next :\u003cbr\\/\u003e\\n       Original code was using variable \\\"bytesToRead\\\" to handle remaining amount of data sent and remaining roon in DSS segment .\u003cbr\\/\u003e\\n       Now this variable \\\"bytesToRead\\\" was removed from.\u003cbr\\/\u003e\\n       New code, instead, have variable \\\"spareDssLength\\\" to handle remaining room in DSS segment .\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cul\u003e\\n\\t\u003cli\u003eModify org.apache.derby.impl.drda.EXTDTAInputStream to stream InputStream retrieved from ResultSet directly.\u003c\\/li\u003e\\n\\t\u003cli\u003eThe source stream is read twice, first for seeing whether source stream is\\/is not empty, second for streaming it.\u003c\\/li\u003e\\n\\t\u003cli\u003eTo keep reference to valid stream, EXTDTAInputStream have reference to resultset and blob\\/clob also.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\\n\u003cul\u003e\\n\\t\u003cli\u003eModify master file of result  for blobclob4BLOB.\u003c\\/li\u003e\\n\\t\u003cli\u003eNow as same as result of embed driver, dead lock will be happen in clobTest92.\u003c\\/li\u003e\\n\\t\u003cli\u003eDifferent expected exception was happen in negative test in blobclob4BLOB.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\\n\\n\u003cp\u003eTesting :\u003c\\/p\u003e\\n\u003cul\u003e\\n\\t\u003cli\u003eExecuted derbyall and found no error.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"naka\\\" id=\\\"commentauthor_12361407_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=naka\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"naka\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Tomohito Nakayama\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12361407_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Dec\\/05 14:46\'\u003e\u003ctime class=\'livestamp\' datetime=\'2005-12-30T14:46:54+0000\'\u003e30\\/Dec\\/05 14:46\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I re-upload   DERBY-326  _2.patch. \\nI created patch  after  applying patch created executing \\\"svn diff --diff-cmd diff -x -uw\\\". \\n\\n Description of patch : \\n \\n\\t Remove processing to expand data from InputStream of blob\\/clob to memory before sending to client. \\n\\t Implement layer B streaming at NetworkServer. \\n\\t As written in this issue firstly, almost rewrite whole org.apache.derby.impl.drda.DDMWriter#writeScalarStream. \\n       Here , \\\"almost\\\" means that code was not wrote from scratch, but was wrote as reform. \\n       Remarkable point is as next : \\n       Original code was using variable \\\"bytesToRead\\\" to handle remaining amount of data sent and remaining roon in DSS segment . \\n       Now this variable \\\"bytesToRead\\\" was removed from. \\n       New code, instead, have variable \\\"spareDssLength\\\" to handle remaining room in DSS segment . \\n \\n\\n\\n \\n\\t Modify org.apache.derby.impl.drda.EXTDTAInputStream to stream InputStream retrieved from ResultSet directly. \\n\\t The source stream is read twice, first for seeing whether source stream is\\/is not empty, second for streaming it. \\n\\t To keep reference to valid stream, EXTDTAInputStream have reference to resultset and blob\\/clob also. \\n \\n\\n\\n\\n \\n\\t Modify master file of result  for blobclob4BLOB. \\n\\t Now as same as result of embed driver, dead lock will be happen in clobTest92. \\n\\t Different expected exception was happen in negative test in blobclob4BLOB. \\n \\n\\n\\n\\n\\n Testing : \\n \\n\\t Executed derbyall and found no error. \\n \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12361724\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-326?focusedCommentId=12361724&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12361724\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"naka\\\" id=\\\"commentauthor_12361724_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=naka\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"naka\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Tomohito Nakayama\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12361724_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Jan\\/06 17:04\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-01-04T17:04:58+0000\'\u003e04\\/Jan\\/06 17:04\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003e I upload \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-326\\\" title=\\\"Improve streaming of large objects for network server and client\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-326\\\"\u003e\u003cdel\u003eDERBY-326\u003c\\/del\u003e\u003c\\/a\u003e_3.patch. \u003c\\/p\u003e\\n\u003chr \\/\u003e\\n\u003cp\u003e Description of patch : \u003c\\/p\u003e\\n\u003cul\u003e\\n\\t\u003cli\u003eRemove processing to expand data from InputStream of blob\\/clob to memory before sending to client.\u003c\\/li\u003e\\n\\t\u003cli\u003eImplement layer B streaming at NetworkServer.\u003c\\/li\u003e\\n\\t\u003cli\u003eAs written in this issue firstly, almost rewrite whole org.apache.derby.impl.drda.DDMWriter#writeScalarStream.\u003cbr\\/\u003e\\n        Here , \\\"almost\\\" means that code was not wrote from scratch, but was wrote as reform. \u003cbr\\/\u003e\\n        Remarkable point is as next : \u003cbr\\/\u003e\\n        Original code was using variable \\\"bytesToRead\\\" to handle remaining amount of data sent and remaining roon in DSS segment . \u003cbr\\/\u003e\\n        Now this variable \\\"bytesToRead\\\" was removed from. \u003cbr\\/\u003e\\n        New code, instead, have variable \\\"spareDssLength\\\" to handle remaining room in DSS segment . \u003c\\/li\u003e\\n\\t\u003cli\u003eAdd call to ensureLength in writeScalarStream expecting appropriate buffer size.\u003c\\/li\u003e\\n\\t\u003cli\u003eMove comment in java\\/drda\\/org\\/apache\\/derby\\/impl\\/drda\\/DDMWriter.java about client driver implementation\u003cbr\\/\u003e\\n         to java\\/client\\/org\\/apache\\/derby\\/client\\/net\\/Request.java.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cul\u003e\\n\\t\u003cli\u003eModify org.apache.derby.impl.drda.EXTDTAInputStream to stream InputStream retrieved from ResultSet directly.\u003c\\/li\u003e\\n\\t\u003cli\u003eThe source stream is read twice, first for seeing whether source stream is\\/is not empty, second for streaming it.\u003c\\/li\u003e\\n\\t\u003cli\u003eTo keep reference to valid stream, EXTDTAInputStream have reference to resultset and blob\\/clob also.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\\n\u003cul\u003e\\n\\t\u003cli\u003eModify master file of result for blobclob4BLOB.\u003c\\/li\u003e\\n\\t\u003cli\u003eNow as same as result of embed driver, dead lock will be happen in clobTest92.\u003c\\/li\u003e\\n\\t\u003cli\u003eDifferent expected exception was happen in negative test in blobclob4BLOB.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\\n\\n\u003cp\u003e Testing : \u003c\\/p\u003e\\n\u003cul\u003e\\n\\t\u003cli\u003eExecuted derbyall and found no error other than \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-792\\\" title=\\\"Intermittent java.security.PrivilegedActionException was happend in derbynet\\/runtimeinfo.java of derbynetclient\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-792\\\"\u003e\u003cdel\u003eDERBY-792\u003c\\/del\u003e\u003c\\/a\u003e.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"naka\\\" id=\\\"commentauthor_12361724_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=naka\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"naka\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Tomohito Nakayama\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12361724_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Jan\\/06 17:04\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-01-04T17:04:58+0000\'\u003e04\\/Jan\\/06 17:04\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     I upload   DERBY-326  _3.patch.  \\n \\n  Description of patch :  \\n \\n\\t Remove processing to expand data from InputStream of blob\\/clob to memory before sending to client. \\n\\t Implement layer B streaming at NetworkServer. \\n\\t As written in this issue firstly, almost rewrite whole org.apache.derby.impl.drda.DDMWriter#writeScalarStream. \\n        Here , \\\"almost\\\" means that code was not wrote from scratch, but was wrote as reform.  \\n        Remarkable point is as next :  \\n        Original code was using variable \\\"bytesToRead\\\" to handle remaining amount of data sent and remaining roon in DSS segment .  \\n        Now this variable \\\"bytesToRead\\\" was removed from.  \\n        New code, instead, have variable \\\"spareDssLength\\\" to handle remaining room in DSS segment .  \\n\\t Add call to ensureLength in writeScalarStream expecting appropriate buffer size. \\n\\t Move comment in java\\/drda\\/org\\/apache\\/derby\\/impl\\/drda\\/DDMWriter.java about client driver implementation \\n         to java\\/client\\/org\\/apache\\/derby\\/client\\/net\\/Request.java. \\n \\n\\n\\n \\n\\t Modify org.apache.derby.impl.drda.EXTDTAInputStream to stream InputStream retrieved from ResultSet directly. \\n\\t The source stream is read twice, first for seeing whether source stream is\\/is not empty, second for streaming it. \\n\\t To keep reference to valid stream, EXTDTAInputStream have reference to resultset and blob\\/clob also. \\n \\n\\n\\n\\n \\n\\t Modify master file of result for blobclob4BLOB. \\n\\t Now as same as result of embed driver, dead lock will be happen in clobTest92. \\n\\t Different expected exception was happen in negative test in blobclob4BLOB. \\n \\n\\n\\n\\n\\n  Testing :  \\n \\n\\t Executed derbyall and found no error other than   DERBY-792  . \\n \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12362123\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-326?focusedCommentId=12362123&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12362123\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"naka\\\" id=\\\"commentauthor_12362123_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=naka\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"naka\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Tomohito Nakayama\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12362123_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Jan\\/06 20:03\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-01-08T20:03:06+0000\'\u003e08\\/Jan\\/06 20:03\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003e I upload \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-326\\\" title=\\\"Improve streaming of large objects for network server and client\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-326\\\"\u003e\u003cdel\u003eDERBY-326\u003c\\/del\u003e\u003c\\/a\u003e_4.patch.\u003c\\/p\u003e\\n\u003chr \\/\u003e\\n\u003cp\u003e  Description of patch :\u003c\\/p\u003e\\n\u003cul\u003e\\n\\t\u003cli\u003eRemove processing to expand data from InputStream of blob\\/clob to memory before sending to client.\u003c\\/li\u003e\\n\\t\u003cli\u003eImplement layer B streaming at NetworkServer.\u003c\\/li\u003e\\n\\t\u003cli\u003eAs written in this issue firstly, almost rewrite whole org.apache.derby.impl.drda.DDMWriter#writeScalarStream.\u003cbr\\/\u003e\\n         Here , \\\"almost\\\" means that code was not wrote from scratch, but was wrote as reform.\u003cbr\\/\u003e\\n         Remarkable point is as next :\u003cbr\\/\u003e\\n         Original code was using variable \\\"bytesToRead\\\" to handle remaining amount of data sent and remaining roon in DSS segment .\u003cbr\\/\u003e\\n         Now this variable \\\"bytesToRead\\\" was removed from.\u003cbr\\/\u003e\\n         New code, instead, have variable \\\"spareDssLength\\\" to handle remaining room in DSS segment .\u003c\\/li\u003e\\n\\t\u003cli\u003eAdd call to ensureLength in writeScalarStream expecting appropriate buffer size.\u003c\\/li\u003e\\n\\t\u003cli\u003eMove comment in java\\/drda\\/org\\/apache\\/derby\\/impl\\/drda\\/DDMWriter.java about client driver implementation\u003cbr\\/\u003e\\n          to java\\/client\\/org\\/apache\\/derby\\/client\\/net\\/Request.java.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cul\u003e\\n\\t\u003cli\u003eModify org.apache.derby.impl.drda.EXTDTAInputStream to stream InputStream retrieved from ResultSet directly.\u003c\\/li\u003e\\n\\t\u003cli\u003eThe source stream is read twice, first for seeing whether source stream is\\/is not empty, second for streaming it.\u003c\\/li\u003e\\n\\t\u003cli\u003eTo keep reference to valid stream, EXTDTAInputStream have reference to resultset and blob\\/clob also.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cul\u003e\\n\\t\u003cli\u003eModify master file of result for blobclob4BLOB.\u003c\\/li\u003e\\n\\t\u003cli\u003eNow as same as result of embed driver, dead lock will be happen in clobTest92.\u003c\\/li\u003e\\n\\t\u003cli\u003eDifferent expected exception was happen in negative test in blobclob4BLOB.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cul\u003e\\n\\t\u003cli\u003eAdded asserting code.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\\n\u003cp\u003e  Testing :\u003c\\/p\u003e\\n\u003cul\u003e\\n\\t\u003cli\u003eExecuted derbyall and did not found new error.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"naka\\\" id=\\\"commentauthor_12362123_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=naka\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"naka\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Tomohito Nakayama\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12362123_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Jan\\/06 20:03\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-01-08T20:03:06+0000\'\u003e08\\/Jan\\/06 20:03\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     I upload   DERBY-326  _4.patch. \\n \\n   Description of patch : \\n \\n\\t Remove processing to expand data from InputStream of blob\\/clob to memory before sending to client. \\n\\t Implement layer B streaming at NetworkServer. \\n\\t As written in this issue firstly, almost rewrite whole org.apache.derby.impl.drda.DDMWriter#writeScalarStream. \\n         Here , \\\"almost\\\" means that code was not wrote from scratch, but was wrote as reform. \\n         Remarkable point is as next : \\n         Original code was using variable \\\"bytesToRead\\\" to handle remaining amount of data sent and remaining roon in DSS segment . \\n         Now this variable \\\"bytesToRead\\\" was removed from. \\n         New code, instead, have variable \\\"spareDssLength\\\" to handle remaining room in DSS segment . \\n\\t Add call to ensureLength in writeScalarStream expecting appropriate buffer size. \\n\\t Move comment in java\\/drda\\/org\\/apache\\/derby\\/impl\\/drda\\/DDMWriter.java about client driver implementation \\n          to java\\/client\\/org\\/apache\\/derby\\/client\\/net\\/Request.java. \\n \\n\\n\\n \\n\\t Modify org.apache.derby.impl.drda.EXTDTAInputStream to stream InputStream retrieved from ResultSet directly. \\n\\t The source stream is read twice, first for seeing whether source stream is\\/is not empty, second for streaming it. \\n\\t To keep reference to valid stream, EXTDTAInputStream have reference to resultset and blob\\/clob also. \\n \\n\\n\\n \\n\\t Modify master file of result for blobclob4BLOB. \\n\\t Now as same as result of embed driver, dead lock will be happen in clobTest92. \\n\\t Different expected exception was happen in negative test in blobclob4BLOB. \\n \\n\\n\\n \\n\\t Added asserting code. \\n \\n\\n\\n\\n   Testing : \\n \\n\\t Executed derbyall and did not found new error. \\n \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12362446\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-326?focusedCommentId=12362446&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12362446\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"naka\\\" id=\\\"commentauthor_12362446_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=naka\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"naka\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Tomohito Nakayama\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12362446_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'11\\/Jan\\/06 22:28\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-01-11T22:28:32+0000\'\u003e11\\/Jan\\/06 22:28\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003e I upload \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-326\\\" title=\\\"Improve streaming of large objects for network server and client\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-326\\\"\u003e\u003cdel\u003eDERBY-326\u003c\\/del\u003e\u003c\\/a\u003e_5.patch.\u003c\\/p\u003e\\n\u003chr \\/\u003e\\n\u003cp\u003e   Description of patch :\u003c\\/p\u003e\\n\u003cul\u003e\\n\\t\u003cli\u003eRemove processing to expand data from InputStream of blob\\/clob to memory before sending to client.\u003c\\/li\u003e\\n\\t\u003cli\u003eImplement layer B streaming at NetworkServer.\u003c\\/li\u003e\\n\\t\u003cli\u003eAs written in this issue firstly, almost rewrite whole org.apache.derby.impl.drda.DDMWriter#writeScalarStream.\u003cbr\\/\u003e\\n          Here , \\\"almost\\\" means that code was not wrote from scratch, but was wrote as reform.\u003cbr\\/\u003e\\n          Remarkable point is as next :\u003cbr\\/\u003e\\n          Original code was using variable \\\"bytesToRead\\\" to handle remaining amount of data sent and remaining roon in DSS segment .\u003cbr\\/\u003e\\n          Now this variable \\\"bytesToRead\\\" was removed from.\u003cbr\\/\u003e\\n          New code, instead, have variable \\\"spareDssLength\\\" to handle remaining room in DSS segment .\u003c\\/li\u003e\\n\\t\u003cli\u003eAdd call to ensureLength in writeScalarStream expecting appropriate buffer size.\u003c\\/li\u003e\\n\\t\u003cli\u003eMove comment in java\\/drda\\/org\\/apache\\/derby\\/impl\\/drda\\/DDMWriter.java about client driver implementation\u003cbr\\/\u003e\\n           to java\\/client\\/org\\/apache\\/derby\\/client\\/net\\/Request.java.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cul\u003e\\n\\t\u003cli\u003eModify org.apache.derby.impl.drda.EXTDTAInputStream to stream InputStream retrieved from ResultSet directly.\u003c\\/li\u003e\\n\\t\u003cli\u003eThe source stream is read twice, first for seeing whether source stream is\\/is not empty, second for streaming it.\u003c\\/li\u003e\\n\\t\u003cli\u003eTo keep reference to valid stream, EXTDTAInputStream have reference to resultset and blob\\/clob also.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cul\u003e\\n\\t\u003cli\u003eModify master file of result for blobclob4BLOB.\u003c\\/li\u003e\\n\\t\u003cli\u003eNow as same as result of embed driver, dead lock will be happen in clobTest92.\u003c\\/li\u003e\\n\\t\u003cli\u003eDifferent expected exception was happen in negative test in blobclob4BLOB.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cul\u003e\\n\\t\u003cli\u003eAdded asserting code.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\\n\u003cp\u003e   Testing :\u003c\\/p\u003e\\n\u003cul\u003e\\n\\t\u003cli\u003eExecuted derbyall for 6 times and confirm \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-792\\\" title=\\\"Intermittent java.security.PrivilegedActionException was happend in derbynet\\/runtimeinfo.java of derbynetclient\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-792\\\"\u003e\u003cdel\u003eDERBY-792\u003c\\/del\u003e\u003c\\/a\u003e does not happen in the results.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"naka\\\" id=\\\"commentauthor_12362446_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=naka\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"naka\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Tomohito Nakayama\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12362446_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'11\\/Jan\\/06 22:28\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-01-11T22:28:32+0000\'\u003e11\\/Jan\\/06 22:28\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     I upload   DERBY-326  _5.patch. \\n \\n    Description of patch : \\n \\n\\t Remove processing to expand data from InputStream of blob\\/clob to memory before sending to client. \\n\\t Implement layer B streaming at NetworkServer. \\n\\t As written in this issue firstly, almost rewrite whole org.apache.derby.impl.drda.DDMWriter#writeScalarStream. \\n          Here , \\\"almost\\\" means that code was not wrote from scratch, but was wrote as reform. \\n          Remarkable point is as next : \\n          Original code was using variable \\\"bytesToRead\\\" to handle remaining amount of data sent and remaining roon in DSS segment . \\n          Now this variable \\\"bytesToRead\\\" was removed from. \\n          New code, instead, have variable \\\"spareDssLength\\\" to handle remaining room in DSS segment . \\n\\t Add call to ensureLength in writeScalarStream expecting appropriate buffer size. \\n\\t Move comment in java\\/drda\\/org\\/apache\\/derby\\/impl\\/drda\\/DDMWriter.java about client driver implementation \\n           to java\\/client\\/org\\/apache\\/derby\\/client\\/net\\/Request.java. \\n \\n\\n\\n \\n\\t Modify org.apache.derby.impl.drda.EXTDTAInputStream to stream InputStream retrieved from ResultSet directly. \\n\\t The source stream is read twice, first for seeing whether source stream is\\/is not empty, second for streaming it. \\n\\t To keep reference to valid stream, EXTDTAInputStream have reference to resultset and blob\\/clob also. \\n \\n\\n\\n \\n\\t Modify master file of result for blobclob4BLOB. \\n\\t Now as same as result of embed driver, dead lock will be happen in clobTest92. \\n\\t Different expected exception was happen in negative test in blobclob4BLOB. \\n \\n\\n\\n \\n\\t Added asserting code. \\n \\n\\n\\n\\n    Testing : \\n \\n\\t Executed derbyall for 6 times and confirm   DERBY-792   does not happen in the results. \\n \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12362679\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-326?focusedCommentId=12362679&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12362679\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kmarsden\\\" id=\\\"commentauthor_12362679_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kmarsden\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kmarsden\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Kathey Marsden\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12362679_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'14\\/Jan\\/06 04:13\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-01-14T04:13:38+0000\'\u003e14\\/Jan\\/06 04:13\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI am reviewing this patch.    I am sorry for the long delay after the holidays.  I should be able to post comments Monday.    I am still working to understand the changes.\u003c\\/p\u003e\\n\\n\u003cp\u003e A  few  general items \u003c\\/p\u003e\\n\\n\u003cp\u003e1) Javadoc - I think it would be good to add more javadoc even with the briefest description of the method function and parameters.\u003c\\/p\u003e\\n\\n\u003cp\u003e2) Tests - You had asked at one point I think about a location for tests.  I think largedata\\/loblengthTests could be modified to use a stream and then the jvmflags line removed.\u003c\\/p\u003e\\n\\n\u003cp\u003e3) Code Formatting  - There seem to be code indentation inconsistencies in DDMWriter.  Also I think it is good to indent the method bodies  in the new methods in ReEncodedInputStream.java. Things sort of run together.\u003c\\/p\u003e\\n\\n\\n\u003cp\u003eThanks\u003c\\/p\u003e\\n\\n\u003cp\u003eKathey\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kmarsden\\\" id=\\\"commentauthor_12362679_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kmarsden\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kmarsden\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Kathey Marsden\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12362679_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'14\\/Jan\\/06 04:13\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-01-14T04:13:38+0000\'\u003e14\\/Jan\\/06 04:13\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I am reviewing this patch.    I am sorry for the long delay after the holidays.  I should be able to post comments Monday.    I am still working to understand the changes. \\n\\n  A  few  general items  \\n\\n 1) Javadoc - I think it would be good to add more javadoc even with the briefest description of the method function and parameters. \\n\\n 2) Tests - You had asked at one point I think about a location for tests.  I think largedata\\/loblengthTests could be modified to use a stream and then the jvmflags line removed. \\n\\n 3) Code Formatting  - There seem to be code indentation inconsistencies in DDMWriter.  Also I think it is good to indent the method bodies  in the new methods in ReEncodedInputStream.java. Things sort of run together. \\n\\n\\n Thanks \\n\\n Kathey              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12362861\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-326?focusedCommentId=12362861&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12362861\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kmarsden\\\" id=\\\"commentauthor_12362861_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kmarsden\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kmarsden\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Kathey Marsden\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12362861_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Jan\\/06 02:14\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-01-17T02:14:28+0000\'\u003e17\\/Jan\\/06 02:14\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI think this patch is a big improvement over reading the lobs into memory.\u003cbr\\/\u003e\\nA few comments on future improvement and some questions on the code below:\u003c\\/p\u003e\\n\\n\\n\u003cp\u003ePossible future improvements:\u003c\\/p\u003e\\n\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003efor VARCHAR FOR BIT DATA (byte[] values)  we still call writeScalarStream with length and do not do layerBStreaming.  Would it make sense to stream this as well and get rid of all the code for handling extended length etc?\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003ereencode() performance \u003cbr\\/\u003e\\nThis method is called every 1024 characters of a character stream and \u003cbr\\/\u003e\\n&#8211; creates a localBuffer char\u003cspan class=\\\"error\\\"\u003e&#91;1024&#93;\u003c\\/span\u003e to read the character stream data\u003cbr\\/\u003e\\n&#8211; creates a new String(localBuffer) \u003cbr\\/\u003e\\n&#8211; creates a new byte[] with the getBytes() call\u003cbr\\/\u003e\\n&#8211; creates a new ByteArrayInputStream\u003c\\/p\u003e\\n\\n\u003cp\u003eA simple optimization using your  current scheme might be to have global field  byte\u003cspan class=\\\"error\\\"\u003e&#91;BUFFERED_CHAR_LEN&#93;\u003c\\/span\u003e instead of making a new one  each time.  Perhaps also a single  OutputStreamWriter field wrapped around a ByteArrayOutputStream  which is reset on each reencode call could eliminate the String creation.\u003c\\/p\u003e\\n\\n\u003cp\u003eLong term we should consider the fact that Derby stores the data in UTF8 format, getCharacterStream decodes it then network server reencodes it to UTF8.\u003cbr\\/\u003e\\n\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-760\\\" title=\\\"Implement routines that will write\\/read data from a byte[] in drda format rather than calling getXXX and setXXX methods\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-760\\\"\u003eDERBY-760\u003c\\/a\u003e is meant to address this issue, plus hopefully eliminate the additional copy into the buffer in  DDMWriter.  I will add more comments to \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-760\\\" title=\\\"Implement routines that will write\\/read data from a byte[] in drda format rather than calling getXXX and setXXX methods\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-760\\\"\u003eDERBY-760\u003c\\/a\u003e.\u003c\\/p\u003e\\n\\n\\n\\n\u003cp\u003eQUESTIONS on code:\u003c\\/p\u003e\\n\\n\u003cp\u003eDDMWriter - I always had a hard time understanding the stream code in this file , but found it much easier with your single loop vs the triple loop of the old code.  But I have some questions.\u003c\\/p\u003e\\n\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003eWhy do we need this ensureLength call for layerBstreaming in prepScalarStream?\u003cbr\\/\u003e\\n      ensureLength( layerBstreaming ? \u003cbr\\/\u003e\\n\\t\\t    DEFAULT_BUFFER_SIZE - offset : \u003cbr\\/\u003e\\n\\t\\t    length );\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003eCan you add a comment to explain the calculation for prepScalarStream return value, especially what the 6 and 4 are?\u003cbr\\/\u003e\\nreturn DssConstants.MAX_DSS_LENGTH - 6 - 4 - nullIndicatorSize  - extendedLengthByteCount\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\\n\u003cp\u003ewriteScalarStream\u003c\\/p\u003e\\n\\n\u003cp\u003eCould you verify that my analysis of this code  is correct?\u003cbr\\/\u003e\\n\\twhile( !isLastSegment )\u003c\\/p\u003e\\n{\\n\\t\\t\\/*\\n\\t\\t * This loop writes and flushes the data. If there is more data than will\\n\\t\\t * fit in the remaining buffer space or will fit in the current DSS, the \\n\\t\\t * data will be continued in the next DSS segment via flushScalarStreamSegment.\\n\\t\\t * \\n\\t\\t *\\/\\n\\t\\t    int spareBufferLength = bytes.length - offset;\\n\\t\\t[snip more of writeScalarStream ]\\n\\t    \\n\\t\\t\\t\\n\\t\\t\\t\\n\\n\\t\\t\\t\\/\\/ Adjust spareDssLength for 2 byte continuation flags\\n\\t\\t\\t\\/\\/written by flushScalarStreamSegment\\n\\t\\t\\tif( ! isLastSegment )\\n\\t\\t\\t    spareDssLength = DssConstants.MAX_DSS_LENGTH - 2;\\n\\n\\t\\t\\t}\\n\\n\u003cp\u003e\\t\\t}\\t\\t\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kmarsden\\\" id=\\\"commentauthor_12362861_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kmarsden\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kmarsden\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Kathey Marsden\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12362861_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Jan\\/06 02:14\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-01-17T02:14:28+0000\'\u003e17\\/Jan\\/06 02:14\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I think this patch is a big improvement over reading the lobs into memory. \\nA few comments on future improvement and some questions on the code below: \\n\\n\\n Possible future improvements: \\n\\n \\n\\t for VARCHAR FOR BIT DATA (byte[] values)  we still call writeScalarStream with length and do not do layerBStreaming.  Would it make sense to stream this as well and get rid of all the code for handling extended length etc? \\n \\n\\n\\n reencode() performance  \\nThis method is called every 1024 characters of a character stream and  \\n&#8211; creates a localBuffer char &#91;1024&#93;  to read the character stream data \\n&#8211; creates a new String(localBuffer)  \\n&#8211; creates a new byte[] with the getBytes() call \\n&#8211; creates a new ByteArrayInputStream \\n\\n A simple optimization using your  current scheme might be to have global field  byte &#91;BUFFERED_CHAR_LEN&#93;  instead of making a new one  each time.  Perhaps also a single  OutputStreamWriter field wrapped around a ByteArrayOutputStream  which is reset on each reencode call could eliminate the String creation. \\n\\n Long term we should consider the fact that Derby stores the data in UTF8 format, getCharacterStream decodes it then network server reencodes it to UTF8. \\n DERBY-760  is meant to address this issue, plus hopefully eliminate the additional copy into the buffer in  DDMWriter.  I will add more comments to  DERBY-760 . \\n\\n\\n\\n QUESTIONS on code: \\n\\n DDMWriter - I always had a hard time understanding the stream code in this file , but found it much easier with your single loop vs the triple loop of the old code.  But I have some questions. \\n\\n \\n\\t Why do we need this ensureLength call for layerBstreaming in prepScalarStream? \\n      ensureLength( layerBstreaming ?  \\n\\t\\t    DEFAULT_BUFFER_SIZE - offset :  \\n\\t\\t    length ); \\n \\n\\n\\n \\n\\t Can you add a comment to explain the calculation for prepScalarStream return value, especially what the 6 and 4 are? \\nreturn DssConstants.MAX_DSS_LENGTH - 6 - 4 - nullIndicatorSize  - extendedLengthByteCount \\n \\n\\n\\n\\n writeScalarStream \\n\\n Could you verify that my analysis of this code  is correct? \\n\\twhile( !isLastSegment ) \\n{\\n\\t\\t\\/*\\n\\t\\t * This loop writes and flushes the data. If there is more data than will\\n\\t\\t * fit in the remaining buffer space or will fit in the current DSS, the \\n\\t\\t * data will be continued in the next DSS segment via flushScalarStreamSegment.\\n\\t\\t * \\n\\t\\t *\\/\\n\\t\\t    int spareBufferLength = bytes.length - offset;\\n\\t\\t[snip more of writeScalarStream ]\\n\\t    \\n\\t\\t\\t\\n\\t\\t\\t\\n\\n\\t\\t\\t\\/\\/ Adjust spareDssLength for 2 byte continuation flags\\n\\t\\t\\t\\/\\/written by flushScalarStreamSegment\\n\\t\\t\\tif( ! isLastSegment )\\n\\t\\t\\t    spareDssLength = DssConstants.MAX_DSS_LENGTH - 2;\\n\\n\\t\\t\\t}\\n\\n \\t\\t}\\t\\t              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12362871\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-326?focusedCommentId=12362871&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12362871\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kmarsden\\\" id=\\\"commentauthor_12362871_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kmarsden\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kmarsden\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Kathey Marsden\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12362871_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Jan\\/06 03:07\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-01-17T03:07:08+0000\'\u003e17\\/Jan\\/06 03:07\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eSorry, one more question.\u003cbr\\/\u003e\\nCould you explain the error handling in the new scheme?  The old code would call padScalarStreamForError and that is now gone, but I am not sure I understand how the error handling is handled now.\u003c\\/p\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kmarsden\\\" id=\\\"commentauthor_12362871_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kmarsden\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kmarsden\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Kathey Marsden\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12362871_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Jan\\/06 03:07\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-01-17T03:07:08+0000\'\u003e17\\/Jan\\/06 03:07\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Sorry, one more question. \\nCould you explain the error handling in the new scheme?  The old code would call padScalarStreamForError and that is now gone, but I am not sure I understand how the error handling is handled now. \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12362916\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-326?focusedCommentId=12362916&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12362916\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"skambha\\\" id=\\\"commentauthor_12362916_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=skambha\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"skambha\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sunitha Kambhampati\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12362916_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Jan\\/06 15:43\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-01-17T15:43:54+0000\'\u003e17\\/Jan\\/06 15:43\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThanks Tomohito for the patch.   I wanted to try a simple clob test with reads and see if there was any difference performance wise. But I could not apply the latest patch cleanly maybe because some changes were submitted today.  I have attached a zip file with the test file and a script to run it.  Currently the test inserts clob of size ~500k and then does read of all the rows in the table.  It would be great if you could run it before and after your changes to see the difference.   Please feel free to make changes to the test or change the parameters to the test.   Thanks. \u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"skambha\\\" id=\\\"commentauthor_12362916_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=skambha\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"skambha\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sunitha Kambhampati\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12362916_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'17\\/Jan\\/06 15:43\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-01-17T15:43:54+0000\'\u003e17\\/Jan\\/06 15:43\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Thanks Tomohito for the patch.   I wanted to try a simple clob test with reads and see if there was any difference performance wise. But I could not apply the latest patch cleanly maybe because some changes were submitted today.  I have attached a zip file with the test file and a script to run it.  Currently the test inserts clob of size ~500k and then does read of all the rows in the table.  It would be great if you could run it before and after your changes to see the difference.   Please feel free to make changes to the test or change the parameters to the test.   Thanks.               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12362977\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-326?focusedCommentId=12362977&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12362977\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kmarsden\\\" id=\\\"commentauthor_12362977_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kmarsden\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kmarsden\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Kathey Marsden\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12362977_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'18\\/Jan\\/06 00:02\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-01-18T00:02:55+0000\'\u003e18\\/Jan\\/06 00:02\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eTomohitoNakayama wrote:\u003c\\/p\u003e\\n\\n\u003cp\u003e&gt;\u003cbr\\/\u003e\\n&gt; I answer your questions.\u003c\\/p\u003e\\n\\n\\n\u003cp\u003eThank you for your answers.  Any of your explanations that can be translated into code comments would be greatly appreciated. \u003c\\/p\u003e\\n\\n\u003cp\u003e&gt;&gt; Could you explain the error handling in the new scheme?  The old code would call padScalarStreamForError and that is now gone, but I am not sure I understand how the error handling is handled now.\u003cbr\\/\u003e\\n&gt;&gt;\u003cbr\\/\u003e\\n&gt; Answer is that streaming is discontinued and exception is sent using agent.markCommunicationFailure as same as other place.\u003cbr\\/\u003e\\n&gt;\u003cbr\\/\u003e\\nOK.  I think we should then add to the future list to throw an SQLException for such cases instead of terminating the connection.  The client\'s Request.java rendition of  writeScalarStream  seems to handle the exception cases without terminating the connection,  but it looks like Network Server previously could  pad out the value with incorrect data and return.  The change to terminate the connection is probably better than that, but certainly not ideal.\u003c\\/p\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kmarsden\\\" id=\\\"commentauthor_12362977_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kmarsden\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kmarsden\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Kathey Marsden\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12362977_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'18\\/Jan\\/06 00:02\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-01-18T00:02:55+0000\'\u003e18\\/Jan\\/06 00:02\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    TomohitoNakayama wrote: \\n\\n &gt; \\n&gt; I answer your questions. \\n\\n\\n Thank you for your answers.  Any of your explanations that can be translated into code comments would be greatly appreciated.  \\n\\n &gt;&gt; Could you explain the error handling in the new scheme?  The old code would call padScalarStreamForError and that is now gone, but I am not sure I understand how the error handling is handled now. \\n&gt;&gt; \\n&gt; Answer is that streaming is discontinued and exception is sent using agent.markCommunicationFailure as same as other place. \\n&gt; \\nOK.  I think we should then add to the future list to throw an SQLException for such cases instead of terminating the connection.  The client\'s Request.java rendition of  writeScalarStream  seems to handle the exception cases without terminating the connection,  but it looks like Network Server previously could  pad out the value with incorrect data and return.  The change to terminate the connection is probably better than that, but certainly not ideal. \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12363091\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-326?focusedCommentId=12363091&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12363091\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"naka\\\" id=\\\"commentauthor_12363091_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=naka\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"naka\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Tomohito Nakayama\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12363091_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'18\\/Jan\\/06 21:06\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-01-18T21:06:56+0000\'\u003e18\\/Jan\\/06 21:06\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI have indented methods in DDMWriter, writeScalarStream * 2 , prepScalarStream, flushScalarStreamSegment in \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-326\\\" title=\\\"Improve streaming of large objects for network server and client\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-326\\\"\u003e\u003cdel\u003eDERBY-326\u003c\\/del\u003e\u003c\\/a\u003e_5_indented.patch.\u003cbr\\/\u003e\\nPlease have a glance on it.\u003c\\/p\u003e\\n\\n\u003cp\u003eI found that the source code applied this patch is easier to read, however,  the patch file itself is more difficult to read which line was modified.\u003c\\/p\u003e\\n\\n\u003cp\u003eI again propose to submit patch for indenting, separated from this issue...\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"naka\\\" id=\\\"commentauthor_12363091_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=naka\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"naka\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Tomohito Nakayama\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12363091_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'18\\/Jan\\/06 21:06\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-01-18T21:06:56+0000\'\u003e18\\/Jan\\/06 21:06\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I have indented methods in DDMWriter, writeScalarStream * 2 , prepScalarStream, flushScalarStreamSegment in   DERBY-326  _5_indented.patch. \\nPlease have a glance on it. \\n\\n I found that the source code applied this patch is easier to read, however,  the patch file itself is more difficult to read which line was modified. \\n\\n I again propose to submit patch for indenting, separated from this issue...              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12363096\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-326?focusedCommentId=12363096&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12363096\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"naka\\\" id=\\\"commentauthor_12363096_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=naka\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"naka\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Tomohito Nakayama\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12363096_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'18\\/Jan\\/06 21:47\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-01-18T21:47:31+0000\'\u003e18\\/Jan\\/06 21:47\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI tried ClobTest from Sunitha.\u003cbr\\/\u003e\\nNext is the result.\u003c\\/p\u003e\\n\\n\u003cp\u003ebefore patch:\u003cbr\\/\u003e\\nnaka@rufelza:~\\/derby\\/test\\/20060118\\/ClobTest$ .\\/run.ksh\u003cbr\\/\u003e\\n=====================================================\u003cbr\\/\u003e\\nTestRun =1\u003cbr\\/\u003e\\n Data from file to insert into Clob. =  file_500k.txt\u003cbr\\/\u003e\\n buffer (k) =1\u003cbr\\/\u003e\\n read blocks of data =false\u003cbr\\/\u003e\\n rows in table =3\u003cbr\\/\u003e\\nPopulating data\u003cbr\\/\u003e\\nData length inserted into clob = 537638\u003cbr\\/\u003e\\nAvg time for test\u003cspan class=\\\"error\\\"\u003e&#91;1 &#93;\u003c\\/span\u003e=1538.0ms\u003cbr\\/\u003e\\n=====================================================\u003cbr\\/\u003e\\n=====================================================\u003cbr\\/\u003e\\nTestRun =2\u003cbr\\/\u003e\\n Data from file to insert into Clob. =  file_500k.txt\u003cbr\\/\u003e\\n buffer (k) =1\u003cbr\\/\u003e\\n read blocks of data =false\u003cbr\\/\u003e\\n rows in table =3\u003cbr\\/\u003e\\nAvg time for test\u003cspan class=\\\"error\\\"\u003e&#91;2 &#93;\u003c\\/span\u003e=1515.1ms\u003cbr\\/\u003e\\n=====================================================\u003cbr\\/\u003e\\nThrow away the result of the first run \u003cbr\\/\u003e\\n================OUTPUT=============================\u003cbr\\/\u003e\\nAvg time taken to read 3rows+ (ignore first run )=1515ms\u003c\\/p\u003e\\n\\n\\n\u003cp\u003eafter patch:\u003cbr\\/\u003e\\n=====================================================\u003cbr\\/\u003e\\nTestRun =1\u003cbr\\/\u003e\\n Data from file to insert into Clob. =  file_500k.txt\u003cbr\\/\u003e\\n buffer (k) =1\u003cbr\\/\u003e\\n read blocks of data =false\u003cbr\\/\u003e\\n rows in table =3\u003cbr\\/\u003e\\nPopulating data\u003cbr\\/\u003e\\nData length inserted into clob = 537638\u003cbr\\/\u003e\\nAvg time for test\u003cspan class=\\\"error\\\"\u003e&#91;1 &#93;\u003c\\/span\u003e=646.4ms\u003cbr\\/\u003e\\n=====================================================\u003cbr\\/\u003e\\n=====================================================\u003cbr\\/\u003e\\nTestRun =2\u003cbr\\/\u003e\\n Data from file to insert into Clob. =  file_500k.txt\u003cbr\\/\u003e\\n buffer (k) =1\u003cbr\\/\u003e\\n read blocks of data =false\u003cbr\\/\u003e\\n rows in table =3\u003cbr\\/\u003e\\nAvg time for test\u003cspan class=\\\"error\\\"\u003e&#91;2 &#93;\u003c\\/span\u003e=627.0ms\u003cbr\\/\u003e\\n=====================================================\u003cbr\\/\u003e\\nThrow away the result of the first run \u003cbr\\/\u003e\\n================OUTPUT=============================\u003cbr\\/\u003e\\nAvg time taken to read 3rows+ (ignore first run )=627ms\u003c\\/p\u003e\\n\\n\\n\u003cp\u003eI think I could find the improvement \u003cimg class=\\\"emoticon\\\" src=\\\"\\/jira\\/images\\/icons\\/emoticons\\/smile.png\\\" height=\\\"16\\\" width=\\\"16\\\" align=\\\"absmiddle\\\" alt=\\\"\\\" border=\\\"0\\\"\\/\u003e\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"naka\\\" id=\\\"commentauthor_12363096_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=naka\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"naka\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Tomohito Nakayama\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12363096_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'18\\/Jan\\/06 21:47\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-01-18T21:47:31+0000\'\u003e18\\/Jan\\/06 21:47\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I tried ClobTest from Sunitha. \\nNext is the result. \\n\\n before patch: \\nnaka@rufelza:~\\/derby\\/test\\/20060118\\/ClobTest$ .\\/run.ksh \\n===================================================== \\nTestRun =1 \\n Data from file to insert into Clob. =  file_500k.txt \\n buffer (k) =1 \\n read blocks of data =false \\n rows in table =3 \\nPopulating data \\nData length inserted into clob = 537638 \\nAvg time for test &#91;1 &#93; =1538.0ms \\n===================================================== \\n===================================================== \\nTestRun =2 \\n Data from file to insert into Clob. =  file_500k.txt \\n buffer (k) =1 \\n read blocks of data =false \\n rows in table =3 \\nAvg time for test &#91;2 &#93; =1515.1ms \\n===================================================== \\nThrow away the result of the first run  \\n================OUTPUT============================= \\nAvg time taken to read 3rows+ (ignore first run )=1515ms \\n\\n\\n after patch: \\n===================================================== \\nTestRun =1 \\n Data from file to insert into Clob. =  file_500k.txt \\n buffer (k) =1 \\n read blocks of data =false \\n rows in table =3 \\nPopulating data \\nData length inserted into clob = 537638 \\nAvg time for test &#91;1 &#93; =646.4ms \\n===================================================== \\n===================================================== \\nTestRun =2 \\n Data from file to insert into Clob. =  file_500k.txt \\n buffer (k) =1 \\n read blocks of data =false \\n rows in table =3 \\nAvg time for test &#91;2 &#93; =627.0ms \\n===================================================== \\nThrow away the result of the first run  \\n================OUTPUT============================= \\nAvg time taken to read 3rows+ (ignore first run )=627ms \\n\\n\\n I think I could find the improvement                \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12363121\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-326?focusedCommentId=12363121&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12363121\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"skambha\\\" id=\\\"commentauthor_12363121_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=skambha\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"skambha\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sunitha Kambhampati\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12363121_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'19\\/Jan\\/06 02:30\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-01-19T02:30:28+0000\'\u003e19\\/Jan\\/06 02:30\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThanks Tomohito for trying out the test. \u003c\\/p\u003e\\n\\n\u003cp\u003eToo many short lived objects  will slow down performance and I dont think it will show up for such a short test run. \u003c\\/p\u003e\\n\\n\u003cp\u003eIn this case, I think  it is a good idea to have each testrun run for atleast 1000 iterations or so with more rows in the table ( atleast 100, if not 1000 rows in this case).    You can find this in the run.ksh that I attached in the ClobTest.zip. \u003c\\/p\u003e\\n\\n\u003cp\u003eCan you please maybe try a long run and share the results. Thank you. \u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"skambha\\\" id=\\\"commentauthor_12363121_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=skambha\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"skambha\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sunitha Kambhampati\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12363121_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'19\\/Jan\\/06 02:30\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-01-19T02:30:28+0000\'\u003e19\\/Jan\\/06 02:30\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Thanks Tomohito for trying out the test.  \\n\\n Too many short lived objects  will slow down performance and I dont think it will show up for such a short test run.  \\n\\n In this case, I think  it is a good idea to have each testrun run for atleast 1000 iterations or so with more rows in the table ( atleast 100, if not 1000 rows in this case).    You can find this in the run.ksh that I attached in the ClobTest.zip.  \\n\\n Can you please maybe try a long run and share the results. Thank you.               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12363279\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-326?focusedCommentId=12363279&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12363279\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kmarsden\\\" id=\\\"commentauthor_12363279_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kmarsden\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kmarsden\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Kathey Marsden\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12363279_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'20\\/Jan\\/06 02:46\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-01-20T02:46:48+0000\'\u003e20\\/Jan\\/06 02:46\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eGreat news about the performance indications. \u003cbr\\/\u003e\\n Looking again at the patch, I have some error handling concerns.   I wonder if  we can write negative tests for some of these negative cases.\u003c\\/p\u003e\\n\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003eEXTDTAInputStream\u003cbr\\/\u003e\\nopenInputStreamLazily catches SQLExceptions\\/IOExceptions and throws an IllegalStateException: I think this will mean that if there is an SQLException on blob.getBinaryStream or clob.getCharacterStream. we  may  either  terminate the connection or  hang.  \u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003e-Several places  SQLExceptions without SQLState.  e.g \u003cbr\\/\u003e\\n.... \u003cbr\\/\u003e\\n }catch (IOException e) {\u003cbr\\/\u003e\\n throw new SQLException (e.getMessage())\u003cbr\\/\u003e\\n}\u003cbr\\/\u003e\\n Some other network server code imports org.apache.derby.impl.jdbc.Util; and uses throw throw Util.javaException(e); which  provide an SQLState. \u003c\\/p\u003e\\n\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003eOn the formatting the new patch actually removes indentation for  statements within method\\/constructor bodies in DDMWriter, so I would prefer the old one.   To indent, In my IDE (Eclipse) I check the box Indent \\\"Statements within  method\\/constructor body\\\".  We have no code formatting guidelines even for new code.  I will remove any objection on this count.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kmarsden\\\" id=\\\"commentauthor_12363279_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kmarsden\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kmarsden\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Kathey Marsden\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12363279_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'20\\/Jan\\/06 02:46\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-01-20T02:46:48+0000\'\u003e20\\/Jan\\/06 02:46\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Great news about the performance indications.  \\n Looking again at the patch, I have some error handling concerns.   I wonder if  we can write negative tests for some of these negative cases. \\n\\n \\n\\t EXTDTAInputStream \\nopenInputStreamLazily catches SQLExceptions\\/IOExceptions and throws an IllegalStateException: I think this will mean that if there is an SQLException on blob.getBinaryStream or clob.getCharacterStream. we  may  either  terminate the connection or  hang.   \\n \\n\\n\\n -Several places  SQLExceptions without SQLState.  e.g  \\n....  \\n }catch (IOException e) { \\n throw new SQLException (e.getMessage()) \\n} \\n Some other network server code imports org.apache.derby.impl.jdbc.Util; and uses throw throw Util.javaException(e); which  provide an SQLState.  \\n\\n \\n\\t On the formatting the new patch actually removes indentation for  statements within method\\/constructor bodies in DDMWriter, so I would prefer the old one.   To indent, In my IDE (Eclipse) I check the box Indent \\\"Statements within  method\\/constructor body\\\".  We have no code formatting guidelines even for new code.  I will remove any objection on this count. \\n \\n\\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12363505\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-326?focusedCommentId=12363505&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12363505\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kmarsden\\\" id=\\\"commentauthor_12363505_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kmarsden\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kmarsden\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Kathey Marsden\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12363505_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'21\\/Jan\\/06 15:54\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-01-21T15:54:43+0000\'\u003e21\\/Jan\\/06 15:54\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eIn the email:\u003cbr\\/\u003e\\n\u003ca href=\\\"http:\\/\\/mail-archives.apache.org\\/mod_mbox\\/db-derby-dev\\/200601.mbox\\/%3c43D01EA1.2000708@amberpoint.com%3e\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/mail-archives.apache.org\\/mod_mbox\\/db-derby-dev\\/200601.mbox\\/%3c43D01EA1.2000708@amberpoint.com%3e\u003c\\/a\u003e\u003cbr\\/\u003e\\nBryan asked\u003cbr\\/\u003e\\nWhat sort of faults are we likely to hit? Are things\u003cbr\\/\u003e\\nlike \\\"corrupt page in database\\\" the most likely?\u003c\\/p\u003e\\n\\n\u003cp\u003eI don\'t know what is most likely, but I did think of one test case likely to cause an IOException.\u003cbr\\/\u003e\\nIf the reader is in TRANSACTION_READ_UNCOMMITTED isolation mode and then another connection updated the LOB,  the reader  should get an IOException. on the next read.\u003c\\/p\u003e\\n\\n\u003cp\u003eI couldn\'t think of how to get  an error on getCharacterStream\\/getBinaryStream but I wonder, could the  work done in openInputStreamLazily()  just be part of  readInputStreamInitially so that these calls could just throw an SQLException if encountered?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kmarsden\\\" id=\\\"commentauthor_12363505_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kmarsden\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kmarsden\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Kathey Marsden\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12363505_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'21\\/Jan\\/06 15:54\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-01-21T15:54:43+0000\'\u003e21\\/Jan\\/06 15:54\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    In the email: \\n http:\\/\\/mail-archives.apache.org\\/mod_mbox\\/db-derby-dev\\/200601.mbox\\/%3c43D01EA1.2000708@amberpoint.com%3e  \\nBryan asked \\nWhat sort of faults are we likely to hit? Are things \\nlike \\\"corrupt page in database\\\" the most likely? \\n\\n I don\'t know what is most likely, but I did think of one test case likely to cause an IOException. \\nIf the reader is in TRANSACTION_READ_UNCOMMITTED isolation mode and then another connection updated the LOB,  the reader  should get an IOException. on the next read. \\n\\n I couldn\'t think of how to get  an error on getCharacterStream\\/getBinaryStream but I wonder, could the  work done in openInputStreamLazily()  just be part of  readInputStreamInitially so that these calls could just throw an SQLException if encountered?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12363652\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-326?focusedCommentId=12363652&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12363652\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"naka\\\" id=\\\"commentauthor_12363652_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=naka\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"naka\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Tomohito Nakayama\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12363652_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Jan\\/06 19:26\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-01-23T19:26:46+0000\'\u003e23\\/Jan\\/06 19:26\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI got the result of long run.\u003c\\/p\u003e\\n\\n\u003cp\u003ebefore patch:\u003cbr\\/\u003e\\n=====================================================\u003cbr\\/\u003e\\nTestRun =1\u003cbr\\/\u003e\\n Data from file to insert into Clob. =  file_500k.txt\u003cbr\\/\u003e\\n buffer (k) =1\u003cbr\\/\u003e\\n read blocks of data =false\u003cbr\\/\u003e\\n rows in table =100\u003cbr\\/\u003e\\nPopulating data\u003cbr\\/\u003e\\nData length inserted into clob = 537638\u003cbr\\/\u003e\\nAvg time for test\u003cspan class=\\\"error\\\"\u003e&#91;1 &#93;\u003c\\/span\u003e=20912.137ms\u003cbr\\/\u003e\\n=====================================================\u003cbr\\/\u003e\\n=====================================================\u003cbr\\/\u003e\\nTestRun =2\u003cbr\\/\u003e\\n Data from file to insert into Clob. =  file_500k.txt\u003cbr\\/\u003e\\n buffer (k) =1\u003cbr\\/\u003e\\n read blocks of data =false\u003cbr\\/\u003e\\n rows in table =100\u003cbr\\/\u003e\\nAvg time for test\u003cspan class=\\\"error\\\"\u003e&#91;2 &#93;\u003c\\/span\u003e=20772.027ms\u003cbr\\/\u003e\\n=====================================================\u003cbr\\/\u003e\\n=====================================================\u003cbr\\/\u003e\\nTestRun =3\u003cbr\\/\u003e\\n Data from file to insert into Clob. =  file_500k.txt\u003cbr\\/\u003e\\n buffer (k) =1\u003cbr\\/\u003e\\n read blocks of data =false\u003cbr\\/\u003e\\n rows in table =100\u003cbr\\/\u003e\\nAvg time for test\u003cspan class=\\\"error\\\"\u003e&#91;3 &#93;\u003c\\/span\u003e=20782.217ms\u003cbr\\/\u003e\\n=====================================================\u003cbr\\/\u003e\\n=====================================================\u003cbr\\/\u003e\\nTestRun =4\u003cbr\\/\u003e\\n Data from file to insert into Clob. =  file_500k.txt\u003cbr\\/\u003e\\n buffer (k) =1\u003cbr\\/\u003e\\n read blocks of data =false\u003cbr\\/\u003e\\n rows in table =100\u003cbr\\/\u003e\\nAvg time for test\u003cspan class=\\\"error\\\"\u003e&#91;4 &#93;\u003c\\/span\u003e=20768.951ms\u003cbr\\/\u003e\\n=====================================================\u003cbr\\/\u003e\\nThrow away the result of the first run \u003cbr\\/\u003e\\n================OUTPUT=============================\u003cbr\\/\u003e\\nAvg time taken to read 100rows+ (ignore first run )=20774ms\u003c\\/p\u003e\\n\\n\u003cp\u003eafter patch:\u003cbr\\/\u003e\\n=====================================================\u003cbr\\/\u003e\\nTestRun =1\u003cbr\\/\u003e\\n Data from file to insert into Clob. =  file_500k.txt\u003cbr\\/\u003e\\n buffer (k) =1\u003cbr\\/\u003e\\n read blocks of data =false\u003cbr\\/\u003e\\n rows in table =100\u003cbr\\/\u003e\\nPopulating data\u003cbr\\/\u003e\\nData length inserted into clob = 537638\u003cbr\\/\u003e\\nAvg time for test\u003cspan class=\\\"error\\\"\u003e&#91;1 &#93;\u003c\\/span\u003e=20826.22ms\u003cbr\\/\u003e\\n=====================================================\u003cbr\\/\u003e\\n=====================================================\u003cbr\\/\u003e\\nTestRun =2\u003cbr\\/\u003e\\n Data from file to insert into Clob. =  file_500k.txt\u003cbr\\/\u003e\\n buffer (k) =1\u003cbr\\/\u003e\\n read blocks of data =false\u003cbr\\/\u003e\\n rows in table =100\u003cbr\\/\u003e\\nAvg time for test\u003cspan class=\\\"error\\\"\u003e&#91;2 &#93;\u003c\\/span\u003e=20934.18ms\u003cbr\\/\u003e\\n=====================================================\u003cbr\\/\u003e\\n=====================================================\u003cbr\\/\u003e\\nTestRun =3\u003cbr\\/\u003e\\n Data from file to insert into Clob. =  file_500k.txt\u003cbr\\/\u003e\\n buffer (k) =1\u003cbr\\/\u003e\\n read blocks of data =false\u003cbr\\/\u003e\\n rows in table =100\u003cbr\\/\u003e\\nAvg time for test\u003cspan class=\\\"error\\\"\u003e&#91;3 &#93;\u003c\\/span\u003e=20935.023ms\u003cbr\\/\u003e\\n=====================================================\u003cbr\\/\u003e\\n=====================================================\u003cbr\\/\u003e\\nTestRun =4\u003cbr\\/\u003e\\n Data from file to insert into Clob. =  file_500k.txt\u003cbr\\/\u003e\\n buffer (k) =1\u003cbr\\/\u003e\\n read blocks of data =false\u003cbr\\/\u003e\\n rows in table =100\u003cbr\\/\u003e\\nAvg time for test\u003cspan class=\\\"error\\\"\u003e&#91;4 &#93;\u003c\\/span\u003e=20943.951ms\u003cbr\\/\u003e\\n=====================================================\u003cbr\\/\u003e\\nThrow away the result of the first run \u003cbr\\/\u003e\\n================OUTPUT=============================\u003cbr\\/\u003e\\nAvg time taken to read 100rows+ (ignore first run )=20937ms\u003c\\/p\u003e\\n\\n\u003cp\u003eThe results of long run show that there exists a little fall in the speed after patch against short run.\u003cbr\\/\u003e\\nI think this may be due to \\\"too many short lived objects\\\" in ReEncodedInputStream \u003cbr\\/\u003e\\nwhich Sunitha and Kathey talked about.\u003c\\/p\u003e\\n\\n\u003cp\u003eI will try the long run again after revision.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"naka\\\" id=\\\"commentauthor_12363652_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=naka\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"naka\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Tomohito Nakayama\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12363652_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Jan\\/06 19:26\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-01-23T19:26:46+0000\'\u003e23\\/Jan\\/06 19:26\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I got the result of long run. \\n\\n before patch: \\n===================================================== \\nTestRun =1 \\n Data from file to insert into Clob. =  file_500k.txt \\n buffer (k) =1 \\n read blocks of data =false \\n rows in table =100 \\nPopulating data \\nData length inserted into clob = 537638 \\nAvg time for test &#91;1 &#93; =20912.137ms \\n===================================================== \\n===================================================== \\nTestRun =2 \\n Data from file to insert into Clob. =  file_500k.txt \\n buffer (k) =1 \\n read blocks of data =false \\n rows in table =100 \\nAvg time for test &#91;2 &#93; =20772.027ms \\n===================================================== \\n===================================================== \\nTestRun =3 \\n Data from file to insert into Clob. =  file_500k.txt \\n buffer (k) =1 \\n read blocks of data =false \\n rows in table =100 \\nAvg time for test &#91;3 &#93; =20782.217ms \\n===================================================== \\n===================================================== \\nTestRun =4 \\n Data from file to insert into Clob. =  file_500k.txt \\n buffer (k) =1 \\n read blocks of data =false \\n rows in table =100 \\nAvg time for test &#91;4 &#93; =20768.951ms \\n===================================================== \\nThrow away the result of the first run  \\n================OUTPUT============================= \\nAvg time taken to read 100rows+ (ignore first run )=20774ms \\n\\n after patch: \\n===================================================== \\nTestRun =1 \\n Data from file to insert into Clob. =  file_500k.txt \\n buffer (k) =1 \\n read blocks of data =false \\n rows in table =100 \\nPopulating data \\nData length inserted into clob = 537638 \\nAvg time for test &#91;1 &#93; =20826.22ms \\n===================================================== \\n===================================================== \\nTestRun =2 \\n Data from file to insert into Clob. =  file_500k.txt \\n buffer (k) =1 \\n read blocks of data =false \\n rows in table =100 \\nAvg time for test &#91;2 &#93; =20934.18ms \\n===================================================== \\n===================================================== \\nTestRun =3 \\n Data from file to insert into Clob. =  file_500k.txt \\n buffer (k) =1 \\n read blocks of data =false \\n rows in table =100 \\nAvg time for test &#91;3 &#93; =20935.023ms \\n===================================================== \\n===================================================== \\nTestRun =4 \\n Data from file to insert into Clob. =  file_500k.txt \\n buffer (k) =1 \\n read blocks of data =false \\n rows in table =100 \\nAvg time for test &#91;4 &#93; =20943.951ms \\n===================================================== \\nThrow away the result of the first run  \\n================OUTPUT============================= \\nAvg time taken to read 100rows+ (ignore first run )=20937ms \\n\\n The results of long run show that there exists a little fall in the speed after patch against short run. \\nI think this may be due to \\\"too many short lived objects\\\" in ReEncodedInputStream  \\nwhich Sunitha and Kathey talked about. \\n\\n I will try the long run again after revision.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12363666\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-326?focusedCommentId=12363666&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12363666\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"naka\\\" id=\\\"commentauthor_12363666_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=naka\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"naka\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Tomohito Nakayama\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12363666_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Jan\\/06 22:01\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-01-23T22:01:04+0000\'\u003e23\\/Jan\\/06 22:01\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-760\\\" title=\\\"Implement routines that will write\\/read data from a byte[] in drda format rather than calling getXXX and setXXX methods\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-760\\\"\u003eDERBY-760\u003c\\/a\u003e will improve creation of streamed object.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"naka\\\" id=\\\"commentauthor_12363666_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=naka\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"naka\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Tomohito Nakayama\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12363666_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'23\\/Jan\\/06 22:01\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-01-23T22:01:04+0000\'\u003e23\\/Jan\\/06 22:01\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     DERBY-760  will improve creation of streamed object.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12363826\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-326?focusedCommentId=12363826&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12363826\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"naka\\\" id=\\\"commentauthor_12363826_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=naka\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"naka\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Tomohito Nakayama\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12363826_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'24\\/Jan\\/06 21:56\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-01-24T21:56:27+0000\'\u003e24\\/Jan\\/06 21:56\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThis is a result of long run with modification of ReEncodedInputStream.java not to create buffer for each time.\u003cbr\\/\u003e\\nAttached ReEncodedInputStream.java.modifiedForLongRun is ReEncodedInputStream after the modification.\u003c\\/p\u003e\\n\\n\u003cp\u003e=====================================================\u003cbr\\/\u003e\\nTestRun =1\u003cbr\\/\u003e\\n Data from file to insert into Clob. =  file_500k.txt\u003cbr\\/\u003e\\n buffer (k) =1\u003cbr\\/\u003e\\n read blocks of data =false\u003cbr\\/\u003e\\n rows in table =100\u003cbr\\/\u003e\\nPopulating data\u003cbr\\/\u003e\\nData length inserted into clob = 537638\u003cbr\\/\u003e\\nAvg time for test\u003cspan class=\\\"error\\\"\u003e&#91;1 &#93;\u003c\\/span\u003e=20661.984ms\u003cbr\\/\u003e\\n=====================================================\u003cbr\\/\u003e\\n=====================================================\u003cbr\\/\u003e\\nTestRun =2\u003cbr\\/\u003e\\n Data from file to insert into Clob. =  file_500k.txt\u003cbr\\/\u003e\\n buffer (k) =1\u003cbr\\/\u003e\\n read blocks of data =false\u003cbr\\/\u003e\\n rows in table =100\u003cbr\\/\u003e\\nAvg time for test\u003cspan class=\\\"error\\\"\u003e&#91;2 &#93;\u003c\\/span\u003e=20764.193ms\u003cbr\\/\u003e\\n=====================================================\u003cbr\\/\u003e\\n=====================================================\u003cbr\\/\u003e\\nTestRun =3\u003cbr\\/\u003e\\n Data from file to insert into Clob. =  file_500k.txt\u003cbr\\/\u003e\\n buffer (k) =1\u003cbr\\/\u003e\\n read blocks of data =false\u003cbr\\/\u003e\\n rows in table =100\u003cbr\\/\u003e\\nAvg time for test\u003cspan class=\\\"error\\\"\u003e&#91;3 &#93;\u003c\\/span\u003e=20772.66ms\u003cbr\\/\u003e\\n=====================================================\u003cbr\\/\u003e\\n=====================================================\u003cbr\\/\u003e\\nTestRun =4\u003cbr\\/\u003e\\n Data from file to insert into Clob. =  file_500k.txt\u003cbr\\/\u003e\\n buffer (k) =1\u003cbr\\/\u003e\\n read blocks of data =false\u003cbr\\/\u003e\\n rows in table =100\u003cbr\\/\u003e\\nAvg time for test\u003cspan class=\\\"error\\\"\u003e&#91;4 &#93;\u003c\\/span\u003e=20760.312ms\u003cbr\\/\u003e\\n=====================================================\u003cbr\\/\u003e\\nThrow away the result of the first run \u003cbr\\/\u003e\\n================OUTPUT=============================\u003cbr\\/\u003e\\nAvg time taken to read 100rows+ (ignore first run )=20765ms\u003c\\/p\u003e\\n\\n\u003cp\u003eI found that it is a little faster than before patch.\u003cbr\\/\u003e\\nHowever not so much ...\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"naka\\\" id=\\\"commentauthor_12363826_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=naka\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"naka\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Tomohito Nakayama\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12363826_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'24\\/Jan\\/06 21:56\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-01-24T21:56:27+0000\'\u003e24\\/Jan\\/06 21:56\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    This is a result of long run with modification of ReEncodedInputStream.java not to create buffer for each time. \\nAttached ReEncodedInputStream.java.modifiedForLongRun is ReEncodedInputStream after the modification. \\n\\n ===================================================== \\nTestRun =1 \\n Data from file to insert into Clob. =  file_500k.txt \\n buffer (k) =1 \\n read blocks of data =false \\n rows in table =100 \\nPopulating data \\nData length inserted into clob = 537638 \\nAvg time for test &#91;1 &#93; =20661.984ms \\n===================================================== \\n===================================================== \\nTestRun =2 \\n Data from file to insert into Clob. =  file_500k.txt \\n buffer (k) =1 \\n read blocks of data =false \\n rows in table =100 \\nAvg time for test &#91;2 &#93; =20764.193ms \\n===================================================== \\n===================================================== \\nTestRun =3 \\n Data from file to insert into Clob. =  file_500k.txt \\n buffer (k) =1 \\n read blocks of data =false \\n rows in table =100 \\nAvg time for test &#91;3 &#93; =20772.66ms \\n===================================================== \\n===================================================== \\nTestRun =4 \\n Data from file to insert into Clob. =  file_500k.txt \\n buffer (k) =1 \\n read blocks of data =false \\n rows in table =100 \\nAvg time for test &#91;4 &#93; =20760.312ms \\n===================================================== \\nThrow away the result of the first run  \\n================OUTPUT============================= \\nAvg time taken to read 100rows+ (ignore first run )=20765ms \\n\\n I found that it is a little faster than before patch. \\nHowever not so much ...              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12368473\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-326?focusedCommentId=12368473&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12368473\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"naka\\\" id=\\\"commentauthor_12368473_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=naka\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"naka\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Tomohito Nakayama\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12368473_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'02\\/Mar\\/06 19:47\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-03-02T19:47:01+0000\'\u003e02\\/Mar\\/06 19:47\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003e I upload \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-326\\\" title=\\\"Improve streaming of large objects for network server and client\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-326\\\"\u003e\u003cdel\u003eDERBY-326\u003c\\/del\u003e\u003c\\/a\u003e_6.patch. \u003cbr\\/\u003e\\n&#8212;\u003cbr\\/\u003e\\n    Description of patch : \u003c\\/p\u003e\\n\u003cul\u003e\\n\\t\u003cli\u003eRemove processing to expand data from InputStream of blob\\/clob to memory before sending to client.\u003c\\/li\u003e\\n\\t\u003cli\u003eImplement layer B streaming at NetworkServer.\u003c\\/li\u003e\\n\\t\u003cli\u003eAs written in this issue firstly, almost rewrite whole org.apache.derby.impl.drda.DDMWriter#writeScalarStream.\u003cbr\\/\u003e\\n           Here , \\\"almost\\\" means that code was not wrote from scratch, but was wrote as reform. \u003cbr\\/\u003e\\n           Remarkable point is as next : \u003cbr\\/\u003e\\n           Original code was using variable \\\"bytesToRead\\\" to handle remaining amount of data sent and remaining roon in DSS segment . \u003cbr\\/\u003e\\n           Now this variable \\\"bytesToRead\\\" was removed from. \u003cbr\\/\u003e\\n           New code, instead, have variable \\\"spareDssLength\\\" to handle remaining room in DSS segment . \u003c\\/li\u003e\\n\\t\u003cli\u003eAdd call to ensureLength in writeScalarStream expecting appropriate buffer size.\u003c\\/li\u003e\\n\\t\u003cli\u003eMove comment in java\\/drda\\/org\\/apache\\/derby\\/impl\\/drda\\/DDMWriter.java about client driver implementation\u003cbr\\/\u003e\\n            to java\\/client\\/org\\/apache\\/derby\\/client\\/net\\/Request.java. \u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cul\u003e\\n\\t\u003cli\u003eModify org.apache.derby.impl.drda.EXTDTAInputStream to stream InputStream retrieved from ResultSet directly.\u003c\\/li\u003e\\n\\t\u003cli\u003eThe source stream is read twice, first for seeing whether source stream is\\/is not empty, second for streaming it.\u003c\\/li\u003e\\n\\t\u003cli\u003eTo keep reference to valid stream, EXTDTAInputStream have reference to resultset and blob\\/clob also.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cul\u003e\\n\\t\u003cli\u003eModify master file of result for blobclob4BLOB.\u003c\\/li\u003e\\n\\t\u003cli\u003eNow as same as result of embed driver, dead lock will be happen in clobTest92.\u003c\\/li\u003e\\n\\t\u003cli\u003eDifferent expected exception was happen in negative test in blobclob4BLOB.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cul\u003e\\n\\t\u003cli\u003eAdded asserting code.\u003c\\/li\u003e\\n\\t\u003cli\u003eAdded negative test to kill streaming.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cul\u003e\\n\\t\u003cli\u003eOther improvements from \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-326\\\" title=\\\"Improve streaming of large objects for network server and client\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-326\\\"\u003e\u003cdel\u003eDERBY-326\u003c\\/del\u003e\u003c\\/a\u003e_5.patch were as next.\u003c\\/li\u003e\\n\\t\u003cli\u003eReusing objects refered from instance variable of ReEncodedInputStream.\u003c\\/li\u003e\\n\\t\u003cli\u003eModified not to open InputStream lazily as before.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003e Testing : \u003c\\/p\u003e\\n\u003cul\u003e\\n\\t\u003cli\u003eExecuted derbyall and found no error except for found in \u003ca href=\\\"http:\\/\\/www.multinet.no\\/~solberg\\/public\\/Apache\\/index.html\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/www.multinet.no\\/~solberg\\/public\\/Apache\\/index.html\u003c\\/a\u003e\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003e&#8212;\u003cbr\\/\u003e\\nI have not measured the resut in performance yet.\u003cbr\\/\u003e\\nI will report it later.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"naka\\\" id=\\\"commentauthor_12368473_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=naka\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"naka\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Tomohito Nakayama\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12368473_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'02\\/Mar\\/06 19:47\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-03-02T19:47:01+0000\'\u003e02\\/Mar\\/06 19:47\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     I upload   DERBY-326  _6.patch.  \\n&#8212; \\n    Description of patch :  \\n \\n\\t Remove processing to expand data from InputStream of blob\\/clob to memory before sending to client. \\n\\t Implement layer B streaming at NetworkServer. \\n\\t As written in this issue firstly, almost rewrite whole org.apache.derby.impl.drda.DDMWriter#writeScalarStream. \\n           Here , \\\"almost\\\" means that code was not wrote from scratch, but was wrote as reform.  \\n           Remarkable point is as next :  \\n           Original code was using variable \\\"bytesToRead\\\" to handle remaining amount of data sent and remaining roon in DSS segment .  \\n           Now this variable \\\"bytesToRead\\\" was removed from.  \\n           New code, instead, have variable \\\"spareDssLength\\\" to handle remaining room in DSS segment .  \\n\\t Add call to ensureLength in writeScalarStream expecting appropriate buffer size. \\n\\t Move comment in java\\/drda\\/org\\/apache\\/derby\\/impl\\/drda\\/DDMWriter.java about client driver implementation \\n            to java\\/client\\/org\\/apache\\/derby\\/client\\/net\\/Request.java.  \\n \\n\\n\\n \\n\\t Modify org.apache.derby.impl.drda.EXTDTAInputStream to stream InputStream retrieved from ResultSet directly. \\n\\t The source stream is read twice, first for seeing whether source stream is\\/is not empty, second for streaming it. \\n\\t To keep reference to valid stream, EXTDTAInputStream have reference to resultset and blob\\/clob also. \\n \\n\\n\\n \\n\\t Modify master file of result for blobclob4BLOB. \\n\\t Now as same as result of embed driver, dead lock will be happen in clobTest92. \\n\\t Different expected exception was happen in negative test in blobclob4BLOB. \\n \\n\\n\\n \\n\\t Added asserting code. \\n\\t Added negative test to kill streaming. \\n \\n\\n\\n \\n\\t Other improvements from   DERBY-326  _5.patch were as next. \\n\\t Reusing objects refered from instance variable of ReEncodedInputStream. \\n\\t Modified not to open InputStream lazily as before. \\n \\n\\n\\n  Testing :  \\n \\n\\t Executed derbyall and found no error except for found in  http:\\/\\/www.multinet.no\\/~solberg\\/public\\/Apache\\/index.html  \\n \\n\\n\\n &#8212; \\nI have not measured the resut in performance yet. \\nI will report it later.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12370505\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-326?focusedCommentId=12370505&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12370505\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"naka\\\" id=\\\"commentauthor_12370505_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=naka\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"naka\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Tomohito Nakayama\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12370505_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Mar\\/06 20:20\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-03-15T20:20:32+0000\'\u003e15\\/Mar\\/06 20:20\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI have measured the performance of streaming.\u003c\\/p\u003e\\n\\n\u003cp\u003eMeasurement was as next.\u003cbr\\/\u003e\\nNext 3 type of test execution was measured in both of blob and clob before and after applying patch.\u003c\\/p\u003e\\n\\n\u003cp\u003etype1 std\u003cbr\\/\u003e\\nAs same as shortrun in \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-872\\\" title=\\\"Fix how to measure performance of lob streaming\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-872\\\"\u003e\u003cdel\u003eDERBY-872\u003c\\/del\u003e\u003c\\/a\u003e\u003c\\/p\u003e\\n\\n\u003cp\u003etype2 stability\u003cbr\\/\u003e\\nAs same as longrun in \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-872\\\" title=\\\"Fix how to measure performance of lob streaming\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-872\\\"\u003e\u003cdel\u003eDERBY-872\u003c\\/del\u003e\u003c\\/a\u003e\u003c\\/p\u003e\\n\\n\u003cp\u003etype3 volume\u003cbr\\/\u003e\\nLarger file was used in shortrun test in \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-872\\\" title=\\\"Fix how to measure performance of lob streaming\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-872\\\"\u003e\u003cdel\u003eDERBY-872\u003c\\/del\u003e\u003c\\/a\u003e.\u003cbr\\/\u003e\\nFile size was 2.5meg for clob and 5meg for blob.\u003c\\/p\u003e\\n\u003cul\u003e\\n\\t\u003cli\u003eIn this test , I found problem that test was not finished if file was larger than these volume.\u003cbr\\/\u003e\\n   I have not surveyed why streaming was not finished.\u003cbr\\/\u003e\\n   However, seeing this problem was found in both of before and after, I think I can ignore this phenomena for now...\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003eNext is the result:\u003cbr\\/\u003e\\n==&gt; .\\/before\\/blob\\/std\\/result.txt &lt;==\u003cbr\\/\u003e\\nAvg time taken to read nullrows+ (ignore first run )=207ms\u003cbr\\/\u003e\\n==&gt; .\\/before\\/blob\\/stability\\/result.txt &lt;==\u003cbr\\/\u003e\\nAvg time taken to read nullrows+ (ignore first run )=6418ms\u003cbr\\/\u003e\\n==&gt; .\\/before\\/blob\\/volume\\/result.txt &lt;==\u003cbr\\/\u003e\\nAvg time taken to read nullrows+ (ignore first run )=806ms\u003c\\/p\u003e\\n\\n\u003cp\u003e==&gt; .\\/after\\/blob\\/std\\/result.txt &lt;==\u003cbr\\/\u003e\\nAvg time taken to read nullrows+ (ignore first run )=173ms\u003cbr\\/\u003e\\n==&gt; .\\/after\\/blob\\/stability\\/result.txt &lt;==\u003cbr\\/\u003e\\nAvg time taken to read nullrows+ (ignore first run )=6453ms\u003cbr\\/\u003e\\n==&gt; .\\/after\\/blob\\/volume\\/result.txt &lt;==\u003cbr\\/\u003e\\nAvg time taken to read nullrows+ (ignore first run )=992ms\u003c\\/p\u003e\\n\\n\\n\u003cp\u003e==&gt; .\\/before\\/clob\\/std\\/result.txt &lt;==\u003cbr\\/\u003e\\nAvg time taken to read nullrows+ (ignore first run )=1511ms\u003cbr\\/\u003e\\n==&gt; .\\/before\\/clob\\/stability\\/result.txt &lt;==\u003cbr\\/\u003e\\nAvg time taken to read nullrows+ (ignore first run )=20968ms\u003cbr\\/\u003e\\n==&gt; .\\/before\\/clob\\/volume\\/result.txt &lt;==\u003cbr\\/\u003e\\nAvg time taken to read nullrows+ (ignore first run )=10986ms\u003c\\/p\u003e\\n\\n\u003cp\u003e==&gt; .\\/after\\/clob\\/std\\/result.txt &lt;==\u003cbr\\/\u003e\\nAvg time taken to read nullrows+ (ignore first run )=594ms\u003cbr\\/\u003e\\n==&gt; .\\/after\\/clob\\/stability\\/result.txt &lt;==\u003cbr\\/\u003e\\nAvg time taken to read nullrows+ (ignore first run )=20235ms\u003cbr\\/\u003e\\n==&gt; .\\/after\\/clob\\/volume\\/result.txt &lt;==\u003cbr\\/\u003e\\nAvg time taken to read nullrows+ (ignore first run )=1963ms\u003c\\/p\u003e\\n\\n\\n\u003cp\u003eImprovement was found in all of clob streaming.\u003cbr\\/\u003e\\nHowever, improvement was not found in blob streaming other than std test.\u003cbr\\/\u003e\\nEven the little drops in performance were found in stability and volume test, on the contrary.\u003c\\/p\u003e\\n\\n\\n\u003cp\u003eI guesses this result as next.\u003c\\/p\u003e\\n\\n\u003cp\u003eBefore the patch, stream retrieved from blob was buffered to memory entirely.\u003cbr\\/\u003e\\nAfter the patch, no buffer is used when stream of blob was read. \u003cbr\\/\u003e\\nStream retrieved from blob was directly be read.\u003c\\/p\u003e\\n\\n\u003cp\u003eNot using buffer when reading stream of blob may be reason why streaming of blob was not improved.\u003cbr\\/\u003e\\nIn the case of clob, ReEncodedStream was used when stream of clob was read.\u003cbr\\/\u003e\\nI think ReEncodedStream works as buffer luckily and result in improvement of streaming clob.\u003c\\/p\u003e\\n\\n\u003cp\u003eI think buffering is needed when reading stream of blob too.\u003c\\/p\u003e\\n\\n\u003cp\u003eUnder this considerration, \u003cbr\\/\u003e\\nI will implement code of buffering \u003cb\u003eeach segment\u003c\\/b\u003e of stream retrieved from blob. \u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"naka\\\" id=\\\"commentauthor_12370505_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=naka\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"naka\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Tomohito Nakayama\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12370505_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'15\\/Mar\\/06 20:20\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-03-15T20:20:32+0000\'\u003e15\\/Mar\\/06 20:20\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I have measured the performance of streaming. \\n\\n Measurement was as next. \\nNext 3 type of test execution was measured in both of blob and clob before and after applying patch. \\n\\n type1 std \\nAs same as shortrun in   DERBY-872   \\n\\n type2 stability \\nAs same as longrun in   DERBY-872   \\n\\n type3 volume \\nLarger file was used in shortrun test in   DERBY-872  . \\nFile size was 2.5meg for clob and 5meg for blob. \\n \\n\\t In this test , I found problem that test was not finished if file was larger than these volume. \\n   I have not surveyed why streaming was not finished. \\n   However, seeing this problem was found in both of before and after, I think I can ignore this phenomena for now... \\n \\n\\n\\n Next is the result: \\n==&gt; .\\/before\\/blob\\/std\\/result.txt &lt;== \\nAvg time taken to read nullrows+ (ignore first run )=207ms \\n==&gt; .\\/before\\/blob\\/stability\\/result.txt &lt;== \\nAvg time taken to read nullrows+ (ignore first run )=6418ms \\n==&gt; .\\/before\\/blob\\/volume\\/result.txt &lt;== \\nAvg time taken to read nullrows+ (ignore first run )=806ms \\n\\n ==&gt; .\\/after\\/blob\\/std\\/result.txt &lt;== \\nAvg time taken to read nullrows+ (ignore first run )=173ms \\n==&gt; .\\/after\\/blob\\/stability\\/result.txt &lt;== \\nAvg time taken to read nullrows+ (ignore first run )=6453ms \\n==&gt; .\\/after\\/blob\\/volume\\/result.txt &lt;== \\nAvg time taken to read nullrows+ (ignore first run )=992ms \\n\\n\\n ==&gt; .\\/before\\/clob\\/std\\/result.txt &lt;== \\nAvg time taken to read nullrows+ (ignore first run )=1511ms \\n==&gt; .\\/before\\/clob\\/stability\\/result.txt &lt;== \\nAvg time taken to read nullrows+ (ignore first run )=20968ms \\n==&gt; .\\/before\\/clob\\/volume\\/result.txt &lt;== \\nAvg time taken to read nullrows+ (ignore first run )=10986ms \\n\\n ==&gt; .\\/after\\/clob\\/std\\/result.txt &lt;== \\nAvg time taken to read nullrows+ (ignore first run )=594ms \\n==&gt; .\\/after\\/clob\\/stability\\/result.txt &lt;== \\nAvg time taken to read nullrows+ (ignore first run )=20235ms \\n==&gt; .\\/after\\/clob\\/volume\\/result.txt &lt;== \\nAvg time taken to read nullrows+ (ignore first run )=1963ms \\n\\n\\n Improvement was found in all of clob streaming. \\nHowever, improvement was not found in blob streaming other than std test. \\nEven the little drops in performance were found in stability and volume test, on the contrary. \\n\\n\\n I guesses this result as next. \\n\\n Before the patch, stream retrieved from blob was buffered to memory entirely. \\nAfter the patch, no buffer is used when stream of blob was read.  \\nStream retrieved from blob was directly be read. \\n\\n Not using buffer when reading stream of blob may be reason why streaming of blob was not improved. \\nIn the case of clob, ReEncodedStream was used when stream of clob was read. \\nI think ReEncodedStream works as buffer luckily and result in improvement of streaming clob. \\n\\n I think buffering is needed when reading stream of blob too. \\n\\n Under this considerration,  \\nI will implement code of buffering  each segment  of stream retrieved from blob.               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12372448\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-326?focusedCommentId=12372448&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12372448\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"naka\\\" id=\\\"commentauthor_12372448_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=naka\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"naka\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Tomohito Nakayama\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12372448_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Mar\\/06 23:31\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-03-30T23:31:57+0000\'\u003e30\\/Mar\\/06 23:31\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI have surveyed around the drop in performance of streaming blob after the patch.\u003c\\/p\u003e\\n\\n\u003cp\u003eAfter struggling to interpret the profiled informations, \u003cbr\\/\u003e\\nI found that java.net.SocketOutputStream.writemethod seems to takes much more part in processing than before the patch.\u003c\\/p\u003e\\n\\n\u003cp\u003eI took this as \u003cb\u003esign\u003c\\/b\u003e of problem at client side and \u003cbr\\/\u003e\\nrealized that client side handles buffer without information for length of information to be cached after the patch and\u003cbr\\/\u003e\\nthat it would be reason of drop in performance.\u003c\\/p\u003e\\n\\n\u003cp\u003eThen I tested with modified client driver that have buffer of 5 * 1024 * 1024 bytes, corresponding size of the streamed file.\u003c\\/p\u003e\\n\\n\u003cp\u003e\\/\\/Where I specified the size of buffer was next two part.\u003cbr\\/\u003e\\n\\/\\/* org.apache.derby.client.am.Connection.commBufferSize_ and\u003cbr\\/\u003e\\n\\/\\/* parameter for constructor of ByteArrayOutputStream called from org.apache.derby.client.net.Reply.getData when ddmScalarLen_ is -1.\u003c\\/p\u003e\\n\\n\u003cp\u003eResult was as next.\u003cbr\\/\u003e\\nAvg time taken to read nullrows+ (ignore first run )=760ms\u003c\\/p\u003e\\n\\n\u003cp\u003eThis is faster than result before the patch.\u003cbr\\/\u003e\\n==&gt; .\\/before\\/blob\\/volume\\/result.txt &lt;== \u003cbr\\/\u003e\\n Avg time taken to read nullrows+ (ignore first run )=806ms \u003c\\/p\u003e\\n\\n\u003cp\u003eThis result suggests that problem around buffer at client is the reason why the patch does not improve streaming blob.\u003cbr\\/\u003e\\nNow I think it is the reason of drop in performance of streaming blob \u003cbr\\/\u003e\\nthat buffer at client side is handled without information of length to be buffered after the patch.\u003c\\/p\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"naka\\\" id=\\\"commentauthor_12372448_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=naka\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"naka\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Tomohito Nakayama\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12372448_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Mar\\/06 23:31\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-03-30T23:31:57+0000\'\u003e30\\/Mar\\/06 23:31\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I have surveyed around the drop in performance of streaming blob after the patch. \\n\\n After struggling to interpret the profiled informations,  \\nI found that java.net.SocketOutputStream.writemethod seems to takes much more part in processing than before the patch. \\n\\n I took this as  sign  of problem at client side and  \\nrealized that client side handles buffer without information for length of information to be cached after the patch and \\nthat it would be reason of drop in performance. \\n\\n Then I tested with modified client driver that have buffer of 5 * 1024 * 1024 bytes, corresponding size of the streamed file. \\n\\n \\/\\/Where I specified the size of buffer was next two part. \\n\\/\\/* org.apache.derby.client.am.Connection.commBufferSize_ and \\n\\/\\/* parameter for constructor of ByteArrayOutputStream called from org.apache.derby.client.net.Reply.getData when ddmScalarLen_ is -1. \\n\\n Result was as next. \\nAvg time taken to read nullrows+ (ignore first run )=760ms \\n\\n This is faster than result before the patch. \\n==&gt; .\\/before\\/blob\\/volume\\/result.txt &lt;==  \\n Avg time taken to read nullrows+ (ignore first run )=806ms  \\n\\n This result suggests that problem around buffer at client is the reason why the patch does not improve streaming blob. \\nNow I think it is the reason of drop in performance of streaming blob  \\nthat buffer at client side is handled without information of length to be buffered after the patch. \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12373086\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-326?focusedCommentId=12373086&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12373086\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"naka\\\" id=\\\"commentauthor_12373086_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=naka\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"naka\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Tomohito Nakayama\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12373086_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Apr\\/06 20:50\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-04-04T20:50:37+0000\'\u003e04\\/Apr\\/06 20:50\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI give next three countermeasure for drop in performance of streaming blob in the patch.\u003c\\/p\u003e\\n\\n\u003cp\u003e1:Ignore the drop in streaming blob. The degree of drop is not so much.\u003cbr\\/\u003e\\n2:Give up using layer B streaming.\u003cbr\\/\u003e\\n3:Use both layer B streaming and traditional way. Layer B streaming for clob and traditional way for blob.\u003c\\/p\u003e\\n\\n\u003cp\u003eI think 3rd one is best one and work forward it.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"naka\\\" id=\\\"commentauthor_12373086_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=naka\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"naka\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Tomohito Nakayama\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12373086_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Apr\\/06 20:50\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-04-04T20:50:37+0000\'\u003e04\\/Apr\\/06 20:50\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I give next three countermeasure for drop in performance of streaming blob in the patch. \\n\\n 1:Ignore the drop in streaming blob. The degree of drop is not so much. \\n2:Give up using layer B streaming. \\n3:Use both layer B streaming and traditional way. Layer B streaming for clob and traditional way for blob. \\n\\n I think 3rd one is best one and work forward it.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12373403\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-326?focusedCommentId=12373403&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12373403\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kmarsden\\\" id=\\\"commentauthor_12373403_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kmarsden\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kmarsden\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Kathey Marsden\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12373403_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'06\\/Apr\\/06 01:49\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-04-06T01:49:18+0000\'\u003e06\\/Apr\\/06 01:49\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eDoes \\\"traditional way\\\" mean we will still have hte large object materialized into memory on the server?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kmarsden\\\" id=\\\"commentauthor_12373403_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kmarsden\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kmarsden\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Kathey Marsden\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12373403_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'06\\/Apr\\/06 01:49\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-04-06T01:49:18+0000\'\u003e06\\/Apr\\/06 01:49\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Does \\\"traditional way\\\" mean we will still have hte large object materialized into memory on the server?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12373502\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-326?focusedCommentId=12373502&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12373502\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kmarsden\\\" id=\\\"commentauthor_12373502_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kmarsden\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kmarsden\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Kathey Marsden\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12373502_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Apr\\/06 00:19\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-04-07T00:19:03+0000\'\u003e07\\/Apr\\/06 00:19\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThe response by mail was that yes traditional way for blob meant that BLOB\'s would still be materialized into memory on the server.    The description of the performance degredation for BLOB\'s made it sound like it was not severe.  I think  a slight performance degradation for  BLOB\'s is an exceptable trade off for not having them materialized into memory.\u003c\\/p\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kmarsden\\\" id=\\\"commentauthor_12373502_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kmarsden\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kmarsden\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Kathey Marsden\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12373502_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Apr\\/06 00:19\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-04-07T00:19:03+0000\'\u003e07\\/Apr\\/06 00:19\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    The response by mail was that yes traditional way for blob meant that BLOB\'s would still be materialized into memory on the server.    The description of the performance degredation for BLOB\'s made it sound like it was not severe.  I think  a slight performance degradation for  BLOB\'s is an exceptable trade off for not having them materialized into memory. \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12373852\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-326?focusedCommentId=12373852&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12373852\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"naka\\\" id=\\\"commentauthor_12373852_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=naka\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"naka\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Tomohito Nakayama\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12373852_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'10\\/Apr\\/06 21:59\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-04-10T21:59:33+0000\'\u003e10\\/Apr\\/06 21:59\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI resumed issues on next mail.\u003cbr\\/\u003e\\n\u003ca href=\\\"http:\\/\\/mail-archives.apache.org\\/mod_mbox\\/db-derby-dev\\/200603.mbox\\/\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/mail-archives.apache.org\\/mod_mbox\\/db-derby-dev\\/200603.mbox\\/\u003c\\/a\u003e&lt;440C3DDE.3080306%40basil.ocn.ne.jp&gt;\u003c\\/p\u003e\\n\\n\u003cp\u003eFor Issue 1) and 2) , I added next ASSERT code and execute derbyall.\u003cbr\\/\u003e\\n+    protected void writeScalarStream (boolean chainedWithSameCorrelator,\u003cbr\\/\u003e\\n \\t\\t\\t\\t\\t\\t\\t\\t\\t  int codePoint,\u003cbr\\/\u003e\\n \\t\\t\\t\\t\\t\\t\\t\\t\\t  int length,\u003cbr\\/\u003e\\n \\t\\t\\t\\t\\t\\t\\t\\t\\t  java.io.InputStream in,\u003cbr\\/\u003e\\n \\t\\t\\t\\t\\t\\t\\t\\t\\t  boolean writeNullByte) \u003cbr\\/\u003e\\n \\t\\tthrows DRDAProtocolException\u003cbr\\/\u003e\\n \\t{\u003cbr\\/\u003e\\n+\\t    \u003cbr\\/\u003e\\n+\\t    \\/\\/ Test code to confirm InputStream is always EXTDTAInputStream\u003cbr\\/\u003e\\n+\\t    if( SanityManager.DEBUG )\u003c\\/p\u003e\\n{\\n+\\t\\tSanityManager.ASSERT( in instanceof EXTDTAInputStream );\\n+\\t    }\\n\u003cp\u003e+\\t\\t\u003c\\/p\u003e\\n\\n\u003cp\u003eThe result was that I found no error resulted from this ASSERT code.\u003c\\/p\u003e\\n\\n\u003cp\u003eConsidering this result, I think it would be possible to remove code for byte[] in DRDAConnThread.writeEXTDTA (DRDAStatement stmt), assuming stream is always EXTDTAInputStream object.\u003c\\/p\u003e\\n\\n\u003cp\u003ePlease give me comments from other members.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"naka\\\" id=\\\"commentauthor_12373852_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=naka\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"naka\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Tomohito Nakayama\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12373852_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'10\\/Apr\\/06 21:59\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-04-10T21:59:33+0000\'\u003e10\\/Apr\\/06 21:59\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I resumed issues on next mail. \\n http:\\/\\/mail-archives.apache.org\\/mod_mbox\\/db-derby-dev\\/200603.mbox\\/ &lt;440C3DDE.3080306%40basil.ocn.ne.jp&gt; \\n\\n For Issue 1) and 2) , I added next ASSERT code and execute derbyall. \\n+    protected void writeScalarStream (boolean chainedWithSameCorrelator, \\n \\t\\t\\t\\t\\t\\t\\t\\t\\t  int codePoint, \\n \\t\\t\\t\\t\\t\\t\\t\\t\\t  int length, \\n \\t\\t\\t\\t\\t\\t\\t\\t\\t  java.io.InputStream in, \\n \\t\\t\\t\\t\\t\\t\\t\\t\\t  boolean writeNullByte)  \\n \\t\\tthrows DRDAProtocolException \\n \\t{ \\n+\\t     \\n+\\t    \\/\\/ Test code to confirm InputStream is always EXTDTAInputStream \\n+\\t    if( SanityManager.DEBUG ) \\n{\\n+\\t\\tSanityManager.ASSERT( in instanceof EXTDTAInputStream );\\n+\\t    }\\n +\\t\\t \\n\\n The result was that I found no error resulted from this ASSERT code. \\n\\n Considering this result, I think it would be possible to remove code for byte[] in DRDAConnThread.writeEXTDTA (DRDAStatement stmt), assuming stream is always EXTDTAInputStream object. \\n\\n Please give me comments from other members.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12373857\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-326?focusedCommentId=12373857&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12373857\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"naka\\\" id=\\\"commentauthor_12373857_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=naka\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"naka\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Tomohito Nakayama\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12373857_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'10\\/Apr\\/06 22:11\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-04-10T22:11:08+0000\'\u003e10\\/Apr\\/06 22:11\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eOops... Url for mail seems not to work right.\u003cbr\\/\u003e\\nI write it again ...\u003cbr\\/\u003e\\n\u003ca href=\\\"http:\\/\\/mail-archives.apache.org\\/mod_mbox\\/db-derby-dev\\/200603.mbox\\/%3C440C3DDE.3080306%40basil.ocn.ne.jp%3e\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/mail-archives.apache.org\\/mod_mbox\\/db-derby-dev\\/200603.mbox\\/%3C440C3DDE.3080306%40basil.ocn.ne.jp%3e\u003c\\/a\u003e\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"naka\\\" id=\\\"commentauthor_12373857_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=naka\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"naka\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Tomohito Nakayama\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12373857_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'10\\/Apr\\/06 22:11\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-04-10T22:11:08+0000\'\u003e10\\/Apr\\/06 22:11\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Oops... Url for mail seems not to work right. \\nI write it again ... \\n http:\\/\\/mail-archives.apache.org\\/mod_mbox\\/db-derby-dev\\/200603.mbox\\/%3C440C3DDE.3080306%40basil.ocn.ne.jp%3e               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12374177\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-326?focusedCommentId=12374177&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12374177\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"naka\\\" id=\\\"commentauthor_12374177_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=naka\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"naka\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Tomohito Nakayama\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12374177_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Apr\\/06 20:52\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-04-12T20:52:33+0000\'\u003e12\\/Apr\\/06 20:52\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThere seems to be neither  objection nor approval for removing the code for byte[]...\u003c\\/p\u003e\\n\\n\u003cp\u003eWell... I will remove it.\u003c\\/p\u003e\\n\\n\u003cp\u003eThe reason is as next.\u003cbr\\/\u003e\\n1) The unused code should be removed.\u003cbr\\/\u003e\\n2) Even if it was not removed, that part was not tested in test suite and may not work as expected.\u003c\\/p\u003e\\n\\n\u003cp\u003eI think this is not bad challenge...\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"naka\\\" id=\\\"commentauthor_12374177_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=naka\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"naka\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Tomohito Nakayama\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12374177_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Apr\\/06 20:52\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-04-12T20:52:33+0000\'\u003e12\\/Apr\\/06 20:52\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    There seems to be neither  objection nor approval for removing the code for byte[]... \\n\\n Well... I will remove it. \\n\\n The reason is as next. \\n1) The unused code should be removed. \\n2) Even if it was not removed, that part was not tested in test suite and may not work as expected. \\n\\n I think this is not bad challenge...              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12376466\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-326?focusedCommentId=12376466&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12376466\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"naka\\\" id=\\\"commentauthor_12376466_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=naka\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"naka\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Tomohito Nakayama\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12376466_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'26\\/Apr\\/06 18:19\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-04-26T18:19:46+0000\'\u003e26\\/Apr\\/06 18:19\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003e I upload \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-326\\\" title=\\\"Improve streaming of large objects for network server and client\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-326\\\"\u003e\u003cdel\u003eDERBY-326\u003c\\/del\u003e\u003c\\/a\u003e_7.patch. \u003cbr\\/\u003e\\n &#8212; \u003cbr\\/\u003e\\n     Description of patch : \u003c\\/p\u003e\\n\u003cul\u003e\\n\\t\u003cli\u003eRemove processing to expand data from InputStream of blob\\/clob to memory before sending to client.\u003c\\/li\u003e\\n\\t\u003cli\u003eImplement layer B streaming at NetworkServer.\u003c\\/li\u003e\\n\\t\u003cli\u003eAs written in this issue firstly, almost rewrite whole org.apache.derby.impl.drda.DDMWriter#writeScalarStream.\u003cbr\\/\u003e\\n            Here , \\\"almost\\\" means that code was not wrote from scratch, but was wrote as reform. \u003cbr\\/\u003e\\n            Remarkable point is as next : \u003cbr\\/\u003e\\n            Original code was using variable \\\"bytesToRead\\\" to handle remaining amount of data sent and remaining roon in DSS segment . \u003cbr\\/\u003e\\n            Now this variable \\\"bytesToRead\\\" was removed from. \u003cbr\\/\u003e\\n            New code, instead, have variable \\\"spareDssLength\\\" to handle remaining room in DSS segment . \u003c\\/li\u003e\\n\\t\u003cli\u003eAdd call to ensureLength in writeScalarStream expecting appropriate buffer size.\u003c\\/li\u003e\\n\\t\u003cli\u003eMove comment in java\\/drda\\/org\\/apache\\/derby\\/impl\\/drda\\/DDMWriter.java about client driver implementation\u003cbr\\/\u003e\\n             to java\\/client\\/org\\/apache\\/derby\\/client\\/net\\/Request.java. \u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cul\u003e\\n\\t\u003cli\u003eModify org.apache.derby.impl.drda.EXTDTAInputStream to stream InputStream retrieved from ResultSet directly.\u003c\\/li\u003e\\n\\t\u003cli\u003eThe source stream is read twice, first for seeing whether source stream is\\/is not empty, second for streaming it.\u003c\\/li\u003e\\n\\t\u003cli\u003eTo keep reference to valid stream, EXTDTAInputStream have reference to resultset and blob\\/clob also.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cul\u003e\\n\\t\u003cli\u003eModify master file of result for blobclob4BLOB.\u003c\\/li\u003e\\n\\t\u003cli\u003eNow as same as result of embed driver, dead lock will be happen in clobTest92.\u003c\\/li\u003e\\n\\t\u003cli\u003eDifferent expected exception was happen in negative test in blobclob4BLOB.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cul\u003e\\n\\t\u003cli\u003eAdded asserting code.\u003c\\/li\u003e\\n\\t\u003cli\u003eAdded negative test to kill streaming.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cul\u003e\\n\\t\u003cli\u003ePlace buffer before lob object was streamed out to client.\u003c\\/li\u003e\\n\\t\u003cli\u003eAdded test to stream with the stream out buffer configuration.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cul\u003e\\n\\t\u003cli\u003eOther improvements from \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-326\\\" title=\\\"Improve streaming of large objects for network server and client\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-326\\\"\u003e\u003cdel\u003eDERBY-326\u003c\\/del\u003e\u003c\\/a\u003e_6.patch were as next.\u003c\\/li\u003e\\n\\t\u003cli\u003eRemove the code for handling byte[].\u003c\\/li\u003e\\n\\t\u003cli\u003eMake EXTDTAInputStream always be markSupported.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003e  Testing : \u003c\\/p\u003e\\n\u003cul\u003e\\n\\t\u003cli\u003eExecuted derbyall and found no error except found in \u003ca href=\\\"http:\\/\\/www.multinet.no\\/~solberg\\/public\\/Apache\\/DerbyJvm1.4\\/Limited\\/testSummary-396619.html\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/www.multinet.no\\/~solberg\\/public\\/Apache\\/DerbyJvm1.4\\/Limited\\/testSummary-396619.html\u003c\\/a\u003e\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"naka\\\" id=\\\"commentauthor_12376466_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=naka\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"naka\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Tomohito Nakayama\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12376466_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'26\\/Apr\\/06 18:19\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-04-26T18:19:46+0000\'\u003e26\\/Apr\\/06 18:19\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     I upload   DERBY-326  _7.patch.  \\n &#8212;  \\n     Description of patch :  \\n \\n\\t Remove processing to expand data from InputStream of blob\\/clob to memory before sending to client. \\n\\t Implement layer B streaming at NetworkServer. \\n\\t As written in this issue firstly, almost rewrite whole org.apache.derby.impl.drda.DDMWriter#writeScalarStream. \\n            Here , \\\"almost\\\" means that code was not wrote from scratch, but was wrote as reform.  \\n            Remarkable point is as next :  \\n            Original code was using variable \\\"bytesToRead\\\" to handle remaining amount of data sent and remaining roon in DSS segment .  \\n            Now this variable \\\"bytesToRead\\\" was removed from.  \\n            New code, instead, have variable \\\"spareDssLength\\\" to handle remaining room in DSS segment .  \\n\\t Add call to ensureLength in writeScalarStream expecting appropriate buffer size. \\n\\t Move comment in java\\/drda\\/org\\/apache\\/derby\\/impl\\/drda\\/DDMWriter.java about client driver implementation \\n             to java\\/client\\/org\\/apache\\/derby\\/client\\/net\\/Request.java.  \\n \\n\\n\\n \\n\\t Modify org.apache.derby.impl.drda.EXTDTAInputStream to stream InputStream retrieved from ResultSet directly. \\n\\t The source stream is read twice, first for seeing whether source stream is\\/is not empty, second for streaming it. \\n\\t To keep reference to valid stream, EXTDTAInputStream have reference to resultset and blob\\/clob also. \\n \\n\\n\\n \\n\\t Modify master file of result for blobclob4BLOB. \\n\\t Now as same as result of embed driver, dead lock will be happen in clobTest92. \\n\\t Different expected exception was happen in negative test in blobclob4BLOB. \\n \\n\\n\\n \\n\\t Added asserting code. \\n\\t Added negative test to kill streaming. \\n \\n\\n\\n \\n\\t Place buffer before lob object was streamed out to client. \\n\\t Added test to stream with the stream out buffer configuration. \\n \\n\\n\\n \\n\\t Other improvements from   DERBY-326  _6.patch were as next. \\n\\t Remove the code for handling byte[]. \\n\\t Make EXTDTAInputStream always be markSupported. \\n \\n\\n\\n   Testing :  \\n \\n\\t Executed derbyall and found no error except found in  http:\\/\\/www.multinet.no\\/~solberg\\/public\\/Apache\\/DerbyJvm1.4\\/Limited\\/testSummary-396619.html  \\n \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12377035\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-326?focusedCommentId=12377035&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12377035\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"bryanpendleton\\\" id=\\\"commentauthor_12377035_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=bryanpendleton\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"bryanpendleton\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Bryan Pendleton\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12377035_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Apr\\/06 06:33\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-04-29T06:33:48+0000\'\u003e29\\/Apr\\/06 06:33\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eAs you know, I have studied this patch multiple times; I think it is excellent.\u003c\\/p\u003e\\n\\n\u003cp\u003eTwo thoughts, if you have not yet committed the patch:\u003c\\/p\u003e\\n\\n\u003cp\u003e1) It would be nice if you could add some comments to OutBufferedStream.java indicating the purpose of this test.\u003c\\/p\u003e\\n\\n\u003cp\u003e2) Should we add some documentation about the new configuration property derby.drda.streamOutBufferSize?\u003c\\/p\u003e\\n\\n\u003cp\u003eThank you very much for all the great work on this issue!\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"bryanpendleton\\\" id=\\\"commentauthor_12377035_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=bryanpendleton\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"bryanpendleton\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Bryan Pendleton\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12377035_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Apr\\/06 06:33\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-04-29T06:33:48+0000\'\u003e29\\/Apr\\/06 06:33\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    As you know, I have studied this patch multiple times; I think it is excellent. \\n\\n Two thoughts, if you have not yet committed the patch: \\n\\n 1) It would be nice if you could add some comments to OutBufferedStream.java indicating the purpose of this test. \\n\\n 2) Should we add some documentation about the new configuration property derby.drda.streamOutBufferSize? \\n\\n Thank you very much for all the great work on this issue!              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12377069\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-326?focusedCommentId=12377069&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12377069\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"naka\\\" id=\\\"commentauthor_12377069_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=naka\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"naka\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Tomohito Nakayama\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12377069_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Apr\\/06 15:07\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-04-29T15:07:56+0000\'\u003e29\\/Apr\\/06 15:07\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eWorking in \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-1268\\\" title=\\\"Add description of derby.drda.streamOutBufferSize to &quot;Derby Server and Administration Guide&quot;\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-1268\\\"\u003e\u003cdel\u003eDERBY-1268\u003c\\/del\u003e\u003c\\/a\u003e, I found that svn:eol-style was not native in next files which was added in this task.\u003c\\/p\u003e\\n\\n\u003cp\u003eadded files:\u003cbr\\/\u003e\\njava\\/drda\\/org\\/apache\\/derby\\/impl\\/drda\\/ReEncodedInputStream.java\u003cbr\\/\u003e\\njava\\/testing\\/org\\/apache\\/derbyTesting\\/functionTests\\/master\\/DerbyNetClient\\/SuicideOfStreaming.out\u003cbr\\/\u003e\\njava\\/testing\\/org\\/apache\\/derbyTesting\\/functionTests\\/master\\/DerbyNet\\/SuicideOfStreaming.out\u003cbr\\/\u003e\\njava\\/testing\\/org\\/apache\\/derbyTesting\\/functionTests\\/master\\/OutBufferedStream.out\u003cbr\\/\u003e\\njava\\/testing\\/org\\/apache\\/derbyTesting\\/functionTests\\/tests\\/derbynet\\/OutBufferedStream_app.properties\u003cbr\\/\u003e\\njava\\/testing\\/org\\/apache\\/derbyTesting\\/functionTests\\/tests\\/derbynet\\/OutBufferedStream.java\u003cbr\\/\u003e\\njava\\/testing\\/org\\/apache\\/derbyTesting\\/functionTests\\/tests\\/derbynet\\/SuicideOfStreaming_app.properties\u003cbr\\/\u003e\\njava\\/testing\\/org\\/apache\\/derbyTesting\\/functionTests\\/tests\\/derbynet\\/SuicideOfStreaming.java\u003cbr\\/\u003e\\njava\\/testing\\/org\\/apache\\/derbyTesting\\/functionTests\\/tests\\/derbynet\\/SwitchablePrintStream.java\u003c\\/p\u003e\\n\\n\u003cp\u003e.subversion\\/config was not configured in my environment ...\u003c\\/p\u003e\\n\\n\u003cp\u003eI set attributes to those files in next patch.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"naka\\\" id=\\\"commentauthor_12377069_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=naka\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"naka\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Tomohito Nakayama\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12377069_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Apr\\/06 15:07\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-04-29T15:07:56+0000\'\u003e29\\/Apr\\/06 15:07\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Working in   DERBY-1268  , I found that svn:eol-style was not native in next files which was added in this task. \\n\\n added files: \\njava\\/drda\\/org\\/apache\\/derby\\/impl\\/drda\\/ReEncodedInputStream.java \\njava\\/testing\\/org\\/apache\\/derbyTesting\\/functionTests\\/master\\/DerbyNetClient\\/SuicideOfStreaming.out \\njava\\/testing\\/org\\/apache\\/derbyTesting\\/functionTests\\/master\\/DerbyNet\\/SuicideOfStreaming.out \\njava\\/testing\\/org\\/apache\\/derbyTesting\\/functionTests\\/master\\/OutBufferedStream.out \\njava\\/testing\\/org\\/apache\\/derbyTesting\\/functionTests\\/tests\\/derbynet\\/OutBufferedStream_app.properties \\njava\\/testing\\/org\\/apache\\/derbyTesting\\/functionTests\\/tests\\/derbynet\\/OutBufferedStream.java \\njava\\/testing\\/org\\/apache\\/derbyTesting\\/functionTests\\/tests\\/derbynet\\/SuicideOfStreaming_app.properties \\njava\\/testing\\/org\\/apache\\/derbyTesting\\/functionTests\\/tests\\/derbynet\\/SuicideOfStreaming.java \\njava\\/testing\\/org\\/apache\\/derbyTesting\\/functionTests\\/tests\\/derbynet\\/SwitchablePrintStream.java \\n\\n .subversion\\/config was not configured in my environment ... \\n\\n I set attributes to those files in next patch.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12377143\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-326?focusedCommentId=12377143&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12377143\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"naka\\\" id=\\\"commentauthor_12377143_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=naka\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"naka\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Tomohito Nakayama\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12377143_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Apr\\/06 12:51\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-04-30T12:51:03+0000\'\u003e30\\/Apr\\/06 12:51\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003e I upload \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-326\\\" title=\\\"Improve streaming of large objects for network server and client\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-326\\\"\u003e\u003cdel\u003eDERBY-326\u003c\\/del\u003e\u003c\\/a\u003e_8.patch. \u003cbr\\/\u003e\\n  &#8212; \u003cbr\\/\u003e\\n      Description of patch : \u003c\\/p\u003e\\n\u003cul\u003e\\n\\t\u003cli\u003eRemove processing to expand data from InputStream of blob\\/clob to memory before sending to client.\u003c\\/li\u003e\\n\\t\u003cli\u003eImplement layer B streaming at NetworkServer.\u003c\\/li\u003e\\n\\t\u003cli\u003eAs written in this issue firstly, almost rewrite whole org.apache.derby.impl.drda.DDMWriter#writeScalarStream.\u003cbr\\/\u003e\\n             Here , \\\"almost\\\" means that code was not wrote from scratch, but was wrote as reform. \u003cbr\\/\u003e\\n             Remarkable point is as next : \u003cbr\\/\u003e\\n             Original code was using variable \\\"bytesToRead\\\" to handle remaining amount of data sent and remaining roon in DSS segment . \u003cbr\\/\u003e\\n             Now this variable \\\"bytesToRead\\\" was removed from. \u003cbr\\/\u003e\\n             New code, instead, have variable \\\"spareDssLength\\\" to handle remaining room in DSS segment . \u003c\\/li\u003e\\n\\t\u003cli\u003eAdd call to ensureLength in writeScalarStream expecting appropriate buffer size.\u003c\\/li\u003e\\n\\t\u003cli\u003eMove comment in java\\/drda\\/org\\/apache\\/derby\\/impl\\/drda\\/DDMWriter.java about client driver implementation\u003cbr\\/\u003e\\n              to java\\/client\\/org\\/apache\\/derby\\/client\\/net\\/Request.java. \u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cul\u003e\\n\\t\u003cli\u003eModify org.apache.derby.impl.drda.EXTDTAInputStream to stream InputStream retrieved from ResultSet directly.\u003c\\/li\u003e\\n\\t\u003cli\u003eThe source stream is read twice, first for seeing whether source stream is\\/is not empty, second for streaming it.\u003c\\/li\u003e\\n\\t\u003cli\u003eTo keep reference to valid stream, EXTDTAInputStream have reference to resultset and blob\\/clob also.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cul\u003e\\n\\t\u003cli\u003eModify master file of result for blobclob4BLOB.\u003c\\/li\u003e\\n\\t\u003cli\u003eNow as same as result of embed driver, dead lock will be happen in clobTest92.\u003c\\/li\u003e\\n\\t\u003cli\u003eDifferent expected exception was happen in negative test in blobclob4BLOB.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cul\u003e\\n\\t\u003cli\u003eAdded asserting code.\u003c\\/li\u003e\\n\\t\u003cli\u003eAdded negative test to kill streaming.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cul\u003e\\n\\t\u003cli\u003ePlace buffer before lob object was streamed out to client.\u003c\\/li\u003e\\n\\t\u003cli\u003eAdded test to stream with the stream out buffer configuration.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cul\u003e\\n\\t\u003cli\u003eRemove the code for handling byte[].\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cul\u003e\\n\\t\u003cli\u003eOther improvements from \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-326\\\" title=\\\"Improve streaming of large objects for network server and client\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-326\\\"\u003e\u003cdel\u003eDERBY-326\u003c\\/del\u003e\u003c\\/a\u003e_7.patch were as next.\u003c\\/li\u003e\\n\\t\u003cli\u003eAdd comment  to explain the test of OutBufferedStream.java\u003c\\/li\u003e\\n\\t\u003cli\u003eSet svn:eol-style property of newly added files as native.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003e  Testing : \u003c\\/p\u003e\\n\u003cul\u003e\\n\\t\u003cli\u003eExecuted derbyall and found no error except found in \u003ca href=\\\"http:\\/\\/www.multinet.no\\/~solberg\\/public\\/Apache\\/DerbyJvm1.4\\/Limited\\/testSummary-397966.html\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/www.multinet.no\\/~solberg\\/public\\/Apache\\/DerbyJvm1.4\\/Limited\\/testSummary-397966.html\u003c\\/a\u003e\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"naka\\\" id=\\\"commentauthor_12377143_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=naka\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"naka\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Tomohito Nakayama\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12377143_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Apr\\/06 12:51\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-04-30T12:51:03+0000\'\u003e30\\/Apr\\/06 12:51\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     I upload   DERBY-326  _8.patch.  \\n  &#8212;  \\n      Description of patch :  \\n \\n\\t Remove processing to expand data from InputStream of blob\\/clob to memory before sending to client. \\n\\t Implement layer B streaming at NetworkServer. \\n\\t As written in this issue firstly, almost rewrite whole org.apache.derby.impl.drda.DDMWriter#writeScalarStream. \\n             Here , \\\"almost\\\" means that code was not wrote from scratch, but was wrote as reform.  \\n             Remarkable point is as next :  \\n             Original code was using variable \\\"bytesToRead\\\" to handle remaining amount of data sent and remaining roon in DSS segment .  \\n             Now this variable \\\"bytesToRead\\\" was removed from.  \\n             New code, instead, have variable \\\"spareDssLength\\\" to handle remaining room in DSS segment .  \\n\\t Add call to ensureLength in writeScalarStream expecting appropriate buffer size. \\n\\t Move comment in java\\/drda\\/org\\/apache\\/derby\\/impl\\/drda\\/DDMWriter.java about client driver implementation \\n              to java\\/client\\/org\\/apache\\/derby\\/client\\/net\\/Request.java.  \\n \\n\\n\\n \\n\\t Modify org.apache.derby.impl.drda.EXTDTAInputStream to stream InputStream retrieved from ResultSet directly. \\n\\t The source stream is read twice, first for seeing whether source stream is\\/is not empty, second for streaming it. \\n\\t To keep reference to valid stream, EXTDTAInputStream have reference to resultset and blob\\/clob also. \\n \\n\\n\\n \\n\\t Modify master file of result for blobclob4BLOB. \\n\\t Now as same as result of embed driver, dead lock will be happen in clobTest92. \\n\\t Different expected exception was happen in negative test in blobclob4BLOB. \\n \\n\\n\\n \\n\\t Added asserting code. \\n\\t Added negative test to kill streaming. \\n \\n\\n\\n \\n\\t Place buffer before lob object was streamed out to client. \\n\\t Added test to stream with the stream out buffer configuration. \\n \\n\\n\\n \\n\\t Remove the code for handling byte[]. \\n \\n\\n\\n \\n\\t Other improvements from   DERBY-326  _7.patch were as next. \\n\\t Add comment  to explain the test of OutBufferedStream.java \\n\\t Set svn:eol-style property of newly added files as native. \\n \\n\\n\\n   Testing :  \\n \\n\\t Executed derbyall and found no error except found in  http:\\/\\/www.multinet.no\\/~solberg\\/public\\/Apache\\/DerbyJvm1.4\\/Limited\\/testSummary-397966.html  \\n \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12378200\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-326?focusedCommentId=12378200&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12378200\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"naka\\\" id=\\\"commentauthor_12378200_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=naka\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"naka\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Tomohito Nakayama\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12378200_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'06\\/May\\/06 16:58\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-05-06T16:58:19+0000\'\u003e06\\/May\\/06 16:58\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI found difference in .out file of  SuicideOfStreaming in execution of derbyall,\u003cbr\\/\u003e\\nafter updated to repository .\u003c\\/p\u003e\\n\\n\u003cul\u003e\\n\\t\u003cli\u003e\\n\\t\u003cul\u003e\\n\\t\\t\u003cli\u003e\\n\\t\\t\u003cul\u003e\\n\\t\\t\\t\u003cli\u003e\\n\\t\\t\\t\u003cul\u003e\\n\\t\\t\\t\\t\u003cli\u003e\\n\\t\\t\\t\\t\u003cul\u003e\\n\\t\\t\\t\\t\\t\u003cli\u003e\\n\\t\\t\\t\\t\\t\u003cul\u003e\\n\\t\\t\\t\\t\\t\\t\u003cli\u003e\\n\\t\\t\\t\\t\\t\\t\u003cul\u003e\\n\\t\\t\\t\\t\\t\\t\\t\u003cli\u003e\\n\\t\\t\\t\\t\\t\\t\\t\u003cul\u003e\\n\\t\\t\\t\\t\\t\\t\\t\\t\u003cli\u003e\\n\\t\\t\\t\\t\\t\\t\\t\\t\u003cul\u003e\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\u003cli\u003eDiff file derbyall\\/derbynetclientmats\\/DerbyNetClient\\/derbynetmats\\/derbynetmats\\/SuicideOfStreaming.diff\u003c\\/li\u003e\\n\\t\\t\\t\\t\\t\\t\\t\\t\u003c\\/ul\u003e\\n\\t\\t\\t\\t\\t\\t\\t\\t\u003c\\/li\u003e\\n\\t\\t\\t\\t\\t\\t\\t\u003c\\/ul\u003e\\n\\t\\t\\t\\t\\t\\t\\t\u003c\\/li\u003e\\n\\t\\t\\t\\t\\t\\t\u003c\\/ul\u003e\\n\\t\\t\\t\\t\\t\\t\u003c\\/li\u003e\\n\\t\\t\\t\\t\\t\u003c\\/ul\u003e\\n\\t\\t\\t\\t\\t\u003c\\/li\u003e\\n\\t\\t\\t\\t\u003c\\/ul\u003e\\n\\t\\t\\t\\t\u003c\\/li\u003e\\n\\t\\t\\t\u003c\\/ul\u003e\\n\\t\\t\\t\u003c\\/li\u003e\\n\\t\\t\\t\u003cli\u003eStart: SuicideOfStreaming jdk1.4.2_10 DerbyNetClient derbynetmats:derbynetmats 2006-05-06 17:37:39 ***\u003cbr\\/\u003e\\n1 del\u003cbr\\/\u003e\\n&lt; java.sql.SQLException: A communication error has been detected. Communication protocol being used: Reply.fill(). Communication API being used: InputStream.read(). Location where the error was detected: insufficient data. Communication function detecting the error: *. Protocol specific error codes(s) TCP\\/IP SOCKETS \u003cbr\\/\u003e\\n2 del\u003cbr\\/\u003e\\n&lt; Caused by: org.apache.derby.client.am.DisconnectException: A communication error has been detected. Communication protocol being used: Reply.fill(). Communication API being used: InputStream.read(). Location where the error was detected: insufficient data. Communication function detecting the error: *. Protocol specific error codes(s) TCP\\/IP SOCKETS \u003cbr\\/\u003e\\n2a1,2\u003cbr\\/\u003e\\n&gt; java.sql.SQLException: Insufficient data while reading from the network - expected a minimum of 6 bytes and received only -1 bytes.  The connection has been terminated.\u003cbr\\/\u003e\\n&gt; Caused by: org.apache.derby.client.am.DisconnectException: Insufficient data while reading from the network - expected a minimum of 6 bytes and received only -1 bytes.  The connection has been terminated.\u003cbr\\/\u003e\\nTest Failed.\u003c\\/li\u003e\\n\\t\\t\\t\u003cli\u003eEnd:   SuicideOfStreaming jdk1.4.2_10 DerbyNetClient derbynetmats:derbynetmats 2006-05-06 17:37:44 ***\u003c\\/li\u003e\\n\\t\\t\u003c\\/ul\u003e\\n\\t\\t\u003c\\/li\u003e\\n\\t\u003c\\/ul\u003e\\n\\t\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003eI guess that this difference may be caused by \\\"\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-850\\\" title=\\\"Internationalize all classes in java\\/client\\/org\\/apache\\/derby\\/jdbc\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-850\\\"\u003e\u003cdel\u003eDERBY-850\u003c\\/del\u003e\u003c\\/a\u003e - Internationalize client\\/org\\/apache\\/derby\\/jdbc classes.\\\".\u003cbr\\/\u003e\\nI think this difference is no problem and willing to adopt new error messages in .out file.\u003c\\/p\u003e\\n\\n\u003cp\u003eI suspend committing this patch for days to listen comments from others.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"naka\\\" id=\\\"commentauthor_12378200_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=naka\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"naka\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Tomohito Nakayama\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12378200_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'06\\/May\\/06 16:58\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-05-06T16:58:19+0000\'\u003e06\\/May\\/06 16:58\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I found difference in .out file of  SuicideOfStreaming in execution of derbyall, \\nafter updated to repository . \\n\\n \\n\\t \\n\\t \\n\\t\\t \\n\\t\\t \\n\\t\\t\\t \\n\\t\\t\\t \\n\\t\\t\\t\\t \\n\\t\\t\\t\\t \\n\\t\\t\\t\\t\\t \\n\\t\\t\\t\\t\\t \\n\\t\\t\\t\\t\\t\\t \\n\\t\\t\\t\\t\\t\\t \\n\\t\\t\\t\\t\\t\\t\\t \\n\\t\\t\\t\\t\\t\\t\\t \\n\\t\\t\\t\\t\\t\\t\\t\\t \\n\\t\\t\\t\\t\\t\\t\\t\\t \\n\\t\\t\\t\\t\\t\\t\\t\\t\\t Diff file derbyall\\/derbynetclientmats\\/DerbyNetClient\\/derbynetmats\\/derbynetmats\\/SuicideOfStreaming.diff \\n\\t\\t\\t\\t\\t\\t\\t\\t \\n\\t\\t\\t\\t\\t\\t\\t\\t \\n\\t\\t\\t\\t\\t\\t\\t \\n\\t\\t\\t\\t\\t\\t\\t \\n\\t\\t\\t\\t\\t\\t \\n\\t\\t\\t\\t\\t\\t \\n\\t\\t\\t\\t\\t \\n\\t\\t\\t\\t\\t \\n\\t\\t\\t\\t \\n\\t\\t\\t\\t \\n\\t\\t\\t \\n\\t\\t\\t \\n\\t\\t\\t Start: SuicideOfStreaming jdk1.4.2_10 DerbyNetClient derbynetmats:derbynetmats 2006-05-06 17:37:39 *** \\n1 del \\n&lt; java.sql.SQLException: A communication error has been detected. Communication protocol being used: Reply.fill(). Communication API being used: InputStream.read(). Location where the error was detected: insufficient data. Communication function detecting the error: *. Protocol specific error codes(s) TCP\\/IP SOCKETS  \\n2 del \\n&lt; Caused by: org.apache.derby.client.am.DisconnectException: A communication error has been detected. Communication protocol being used: Reply.fill(). Communication API being used: InputStream.read(). Location where the error was detected: insufficient data. Communication function detecting the error: *. Protocol specific error codes(s) TCP\\/IP SOCKETS  \\n2a1,2 \\n&gt; java.sql.SQLException: Insufficient data while reading from the network - expected a minimum of 6 bytes and received only -1 bytes.  The connection has been terminated. \\n&gt; Caused by: org.apache.derby.client.am.DisconnectException: Insufficient data while reading from the network - expected a minimum of 6 bytes and received only -1 bytes.  The connection has been terminated. \\nTest Failed. \\n\\t\\t\\t End:   SuicideOfStreaming jdk1.4.2_10 DerbyNetClient derbynetmats:derbynetmats 2006-05-06 17:37:44 *** \\n\\t\\t \\n\\t\\t \\n\\t \\n\\t \\n \\n\\n\\n I guess that this difference may be caused by \\\"  DERBY-850   - Internationalize client\\/org\\/apache\\/derby\\/jdbc classes.\\\". \\nI think this difference is no problem and willing to adopt new error messages in .out file. \\n\\n I suspend committing this patch for days to listen comments from others.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12378283\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-326?focusedCommentId=12378283&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12378283\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"naka\\\" id=\\\"commentauthor_12378283_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=naka\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"naka\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Tomohito Nakayama\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12378283_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/May\\/06 16:02\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-05-07T16:02:15+0000\'\u003e07\\/May\\/06 16:02\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003e I upload \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-326\\\" title=\\\"Improve streaming of large objects for network server and client\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-326\\\"\u003e\u003cdel\u003eDERBY-326\u003c\\/del\u003e\u003c\\/a\u003e_9.patch. \u003cbr\\/\u003e\\n   &#8212; \u003cbr\\/\u003e\\n       Description of patch : \u003c\\/p\u003e\\n\u003cul\u003e\\n\\t\u003cli\u003eRemove processing to expand data from InputStream of blob\\/clob to memory before sending to client.\u003c\\/li\u003e\\n\\t\u003cli\u003eImplement layer B streaming at NetworkServer.\u003c\\/li\u003e\\n\\t\u003cli\u003eAs written in this issue firstly, almost rewrite whole org.apache.derby.impl.drda.DDMWriter#writeScalarStream.\u003cbr\\/\u003e\\n              Here , \\\"almost\\\" means that code was not wrote from scratch, but was wrote as reform. \u003cbr\\/\u003e\\n              Remarkable point is as next : \u003cbr\\/\u003e\\n              Original code was using variable \\\"bytesToRead\\\" to handle remaining amount of data sent and remaining roon in DSS segment . \u003cbr\\/\u003e\\n              Now this variable \\\"bytesToRead\\\" was removed from. \u003cbr\\/\u003e\\n              New code, instead, have variable \\\"spareDssLength\\\" to handle remaining room in DSS segment . \u003c\\/li\u003e\\n\\t\u003cli\u003eAdd call to ensureLength in writeScalarStream expecting appropriate buffer size.\u003c\\/li\u003e\\n\\t\u003cli\u003eMove comment in java\\/drda\\/org\\/apache\\/derby\\/impl\\/drda\\/DDMWriter.java about client driver implementation\u003cbr\\/\u003e\\n               to java\\/client\\/org\\/apache\\/derby\\/client\\/net\\/Request.java. \u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cul\u003e\\n\\t\u003cli\u003eModify org.apache.derby.impl.drda.EXTDTAInputStream to stream InputStream retrieved from ResultSet directly.\u003c\\/li\u003e\\n\\t\u003cli\u003eThe source stream is read twice, first for seeing whether source stream is\\/is not empty, second for streaming it.\u003c\\/li\u003e\\n\\t\u003cli\u003eTo keep reference to valid stream, EXTDTAInputStream have reference to resultset and blob\\/clob also.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cul\u003e\\n\\t\u003cli\u003eModify master file of result for blobclob4BLOB.\u003c\\/li\u003e\\n\\t\u003cli\u003eNow as same as result of embed driver, dead lock will be happen in clobTest92.\u003c\\/li\u003e\\n\\t\u003cli\u003eDifferent expected exception was happen in negative test in blobclob4BLOB.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cul\u003e\\n\\t\u003cli\u003eAdded asserting code.\u003c\\/li\u003e\\n\\t\u003cli\u003eAdded negative test to kill streaming.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cul\u003e\\n\\t\u003cli\u003ePlace buffer before lob object was streamed out to client.\u003c\\/li\u003e\\n\\t\u003cli\u003eAdded test to stream with the stream out buffer configuration.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cul\u003e\\n\\t\u003cli\u003eRemove the code for handling byte[].\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cul\u003e\\n\\t\u003cli\u003eOther improvements from \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-326\\\" title=\\\"Improve streaming of large objects for network server and client\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-326\\\"\u003e\u003cdel\u003eDERBY-326\u003c\\/del\u003e\u003c\\/a\u003e_8.patch were as next.\u003c\\/li\u003e\\n\\t\u003cli\u003eModify result of .out file for SuicideOfStreaming.java as to match current.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003e   Testing : \u003c\\/p\u003e\\n\u003cul\u003e\\n\\t\u003cli\u003eExecuted derbyall and found no error\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"naka\\\" id=\\\"commentauthor_12378283_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=naka\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"naka\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Tomohito Nakayama\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12378283_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/May\\/06 16:02\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-05-07T16:02:15+0000\'\u003e07\\/May\\/06 16:02\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     I upload   DERBY-326  _9.patch.  \\n   &#8212;  \\n       Description of patch :  \\n \\n\\t Remove processing to expand data from InputStream of blob\\/clob to memory before sending to client. \\n\\t Implement layer B streaming at NetworkServer. \\n\\t As written in this issue firstly, almost rewrite whole org.apache.derby.impl.drda.DDMWriter#writeScalarStream. \\n              Here , \\\"almost\\\" means that code was not wrote from scratch, but was wrote as reform.  \\n              Remarkable point is as next :  \\n              Original code was using variable \\\"bytesToRead\\\" to handle remaining amount of data sent and remaining roon in DSS segment .  \\n              Now this variable \\\"bytesToRead\\\" was removed from.  \\n              New code, instead, have variable \\\"spareDssLength\\\" to handle remaining room in DSS segment .  \\n\\t Add call to ensureLength in writeScalarStream expecting appropriate buffer size. \\n\\t Move comment in java\\/drda\\/org\\/apache\\/derby\\/impl\\/drda\\/DDMWriter.java about client driver implementation \\n               to java\\/client\\/org\\/apache\\/derby\\/client\\/net\\/Request.java.  \\n \\n\\n\\n \\n\\t Modify org.apache.derby.impl.drda.EXTDTAInputStream to stream InputStream retrieved from ResultSet directly. \\n\\t The source stream is read twice, first for seeing whether source stream is\\/is not empty, second for streaming it. \\n\\t To keep reference to valid stream, EXTDTAInputStream have reference to resultset and blob\\/clob also. \\n \\n\\n\\n \\n\\t Modify master file of result for blobclob4BLOB. \\n\\t Now as same as result of embed driver, dead lock will be happen in clobTest92. \\n\\t Different expected exception was happen in negative test in blobclob4BLOB. \\n \\n\\n\\n \\n\\t Added asserting code. \\n\\t Added negative test to kill streaming. \\n \\n\\n\\n \\n\\t Place buffer before lob object was streamed out to client. \\n\\t Added test to stream with the stream out buffer configuration. \\n \\n\\n\\n \\n\\t Remove the code for handling byte[]. \\n \\n\\n\\n \\n\\t Other improvements from   DERBY-326  _8.patch were as next. \\n\\t Modify result of .out file for SuicideOfStreaming.java as to match current. \\n \\n\\n\\n    Testing :  \\n \\n\\t Executed derbyall and found no error \\n \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12378284\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-326?focusedCommentId=12378284&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12378284\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"naka\\\" id=\\\"commentauthor_12378284_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=naka\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"naka\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Tomohito Nakayama\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12378284_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/May\\/06 16:05\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-05-07T16:05:22+0000\'\u003e07\\/May\\/06 16:05\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eOne more modification between  \u003cbr\\/\u003e\\n\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-326\\\" title=\\\"Improve streaming of large objects for network server and client\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-326\\\"\u003e\u003cdel\u003eDERBY-326\u003c\\/del\u003e\u003c\\/a\u003e_8.patch and  \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-326\\\" title=\\\"Improve streaming of large objects for network server and client\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-326\\\"\u003e\u003cdel\u003eDERBY-326\u003c\\/del\u003e\u003c\\/a\u003e_9.patch ... \u003c\\/p\u003e\\n\\n\u003cul\u003e\\n\\t\u003cli\u003eConflict in both of blobclob4BLOB.out was resolved.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"naka\\\" id=\\\"commentauthor_12378284_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=naka\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"naka\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Tomohito Nakayama\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12378284_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/May\\/06 16:05\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-05-07T16:05:22+0000\'\u003e07\\/May\\/06 16:05\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    One more modification between   \\n  DERBY-326  _8.patch and    DERBY-326  _9.patch ...  \\n\\n \\n\\t Conflict in both of blobclob4BLOB.out was resolved. \\n \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12378411\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-326?focusedCommentId=12378411&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12378411\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"naka\\\" id=\\\"commentauthor_12378411_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=naka\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"naka\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Tomohito Nakayama\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12378411_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/May\\/06 19:38\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-05-08T19:38:17+0000\'\u003e08\\/May\\/06 19:38\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI have committed.\u003c\\/p\u003e\\n\\n\u003cp\u003eSending        java\\/drda\\/org\\/apache\\/derby\\/impl\\/drda\\/DDMWriter.java\u003cbr\\/\u003e\\nSending        java\\/drda\\/org\\/apache\\/derby\\/impl\\/drda\\/DRDAConnThread.java\u003cbr\\/\u003e\\nSending        java\\/drda\\/org\\/apache\\/derby\\/impl\\/drda\\/EXTDTAInputStream.java\u003cbr\\/\u003e\\nAdding         java\\/drda\\/org\\/apache\\/derby\\/impl\\/drda\\/ReEncodedInputStream.java\u003cbr\\/\u003e\\nSending        java\\/engine\\/org\\/apache\\/derby\\/iapi\\/reference\\/Property.java\u003cbr\\/\u003e\\nAdding         java\\/testing\\/org\\/apache\\/derbyTesting\\/functionTests\\/master\\/DerbyNet\\/SuicideOfStreaming.out\u003cbr\\/\u003e\\nSending        java\\/testing\\/org\\/apache\\/derbyTesting\\/functionTests\\/master\\/DerbyNet\\/blobclob4BLOB.out\u003cbr\\/\u003e\\nAdding         java\\/testing\\/org\\/apache\\/derbyTesting\\/functionTests\\/master\\/DerbyNetClient\\/SuicideOfStreaming.out\u003cbr\\/\u003e\\nSending        java\\/testing\\/org\\/apache\\/derbyTesting\\/functionTests\\/master\\/DerbyNetClient\\/blobclob4BLOB.out\u003cbr\\/\u003e\\nAdding         java\\/testing\\/org\\/apache\\/derbyTesting\\/functionTests\\/master\\/OutBufferedStream.out\u003cbr\\/\u003e\\nSending        java\\/testing\\/org\\/apache\\/derbyTesting\\/functionTests\\/suites\\/derbynetmats.runall\u003cbr\\/\u003e\\nAdding         java\\/testing\\/org\\/apache\\/derbyTesting\\/functionTests\\/tests\\/derbynet\\/OutBufferedStream.java\u003cbr\\/\u003e\\nAdding         java\\/testing\\/org\\/apache\\/derbyTesting\\/functionTests\\/tests\\/derbynet\\/OutBufferedStream_app.properties\u003cbr\\/\u003e\\nAdding         java\\/testing\\/org\\/apache\\/derbyTesting\\/functionTests\\/tests\\/derbynet\\/SuicideOfStreaming.java\u003cbr\\/\u003e\\nAdding         java\\/testing\\/org\\/apache\\/derbyTesting\\/functionTests\\/tests\\/derbynet\\/SuicideOfStreaming_app.properties\u003cbr\\/\u003e\\nAdding         java\\/testing\\/org\\/apache\\/derbyTesting\\/functionTests\\/tests\\/derbynet\\/SwitchablePrintStream.java\u003cbr\\/\u003e\\nSending        java\\/testing\\/org\\/apache\\/derbyTesting\\/functionTests\\/tests\\/derbynet\\/dataSourcePermissions_net.java\u003cbr\\/\u003e\\nTransmitting file data .................\u003cbr\\/\u003e\\nCommitted revision 405037.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"naka\\\" id=\\\"commentauthor_12378411_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=naka\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"naka\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Tomohito Nakayama\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12378411_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/May\\/06 19:38\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-05-08T19:38:17+0000\'\u003e08\\/May\\/06 19:38\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I have committed. \\n\\n Sending        java\\/drda\\/org\\/apache\\/derby\\/impl\\/drda\\/DDMWriter.java \\nSending        java\\/drda\\/org\\/apache\\/derby\\/impl\\/drda\\/DRDAConnThread.java \\nSending        java\\/drda\\/org\\/apache\\/derby\\/impl\\/drda\\/EXTDTAInputStream.java \\nAdding         java\\/drda\\/org\\/apache\\/derby\\/impl\\/drda\\/ReEncodedInputStream.java \\nSending        java\\/engine\\/org\\/apache\\/derby\\/iapi\\/reference\\/Property.java \\nAdding         java\\/testing\\/org\\/apache\\/derbyTesting\\/functionTests\\/master\\/DerbyNet\\/SuicideOfStreaming.out \\nSending        java\\/testing\\/org\\/apache\\/derbyTesting\\/functionTests\\/master\\/DerbyNet\\/blobclob4BLOB.out \\nAdding         java\\/testing\\/org\\/apache\\/derbyTesting\\/functionTests\\/master\\/DerbyNetClient\\/SuicideOfStreaming.out \\nSending        java\\/testing\\/org\\/apache\\/derbyTesting\\/functionTests\\/master\\/DerbyNetClient\\/blobclob4BLOB.out \\nAdding         java\\/testing\\/org\\/apache\\/derbyTesting\\/functionTests\\/master\\/OutBufferedStream.out \\nSending        java\\/testing\\/org\\/apache\\/derbyTesting\\/functionTests\\/suites\\/derbynetmats.runall \\nAdding         java\\/testing\\/org\\/apache\\/derbyTesting\\/functionTests\\/tests\\/derbynet\\/OutBufferedStream.java \\nAdding         java\\/testing\\/org\\/apache\\/derbyTesting\\/functionTests\\/tests\\/derbynet\\/OutBufferedStream_app.properties \\nAdding         java\\/testing\\/org\\/apache\\/derbyTesting\\/functionTests\\/tests\\/derbynet\\/SuicideOfStreaming.java \\nAdding         java\\/testing\\/org\\/apache\\/derbyTesting\\/functionTests\\/tests\\/derbynet\\/SuicideOfStreaming_app.properties \\nAdding         java\\/testing\\/org\\/apache\\/derbyTesting\\/functionTests\\/tests\\/derbynet\\/SwitchablePrintStream.java \\nSending        java\\/testing\\/org\\/apache\\/derbyTesting\\/functionTests\\/tests\\/derbynet\\/dataSourcePermissions_net.java \\nTransmitting file data ................. \\nCommitted revision 405037.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12703930\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-326?focusedCommentId=12703930&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12703930\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kmarsden\\\" id=\\\"commentauthor_12703930_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kmarsden\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kmarsden\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Kathey Marsden\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12703930_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Apr\\/09 01:01\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-04-29T01:01:37+0000\'\u003e29\\/Apr\\/09 01:01\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eIt looks like these improvements were made in 10.2.  New issues can be opened up for any additional streaming improvements.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kmarsden\\\" id=\\\"commentauthor_12703930_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kmarsden\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kmarsden\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Kathey Marsden\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12703930_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'29\\/Apr\\/09 01:01\'\u003e\u003ctime class=\'livestamp\' datetime=\'2009-04-29T01:01:37+0000\'\u003e29\\/Apr\\/09 01:01\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    It looks like these improvements were made in 10.2.  New issues can be opened up for any additional streaming improvements.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\"";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["scope-filter-data"]="{\"createScopeActions\":[],\"scopes\":[]}";
WRM._unparsedData["sidebar-collapsed-by-default"]="true";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:can-manage"]="false";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:with-icons"]="false";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:shortcuts"]="[]";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:project-id"]="10594";
WRM._unparsedData["sidebar-id"]="\"\u003cdiv class=\\\"aui-sidebar  projects-sidebar sidebar-pending\\\" \u003e\u003cdiv class=\\\"aui-sidebar-wrapper\\\"\u003e\u003cdiv class=\\\"aui-sidebar-body\\\"\u003e\u003cheader class=\\\"aui-page-header\\\"\u003e\u003cdiv class=\\\"aui-page-header-inner\\\"\u003e\u003cdiv class=\\\"aui-page-header-image\\\"\u003e\u003ca href=\\\"\\/jira\\/projects\\/DERBY\\/summary\\\" title=\\\"Derby\\\" class=\\\"jira-project-avatar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-large aui-avatar-project\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"\\/jira\\/secure\\/projectavatar?pid=10594&amp;avatarId=10122\\\" alt=\\\"Derby\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e\u003cimg src=\\\"data:image\\/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI\\/Pg0KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE4LjEuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPg0KPHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgdmlld0JveD0iMCAwIDMwMCAzMDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMwMCAzMDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxnIGlkPSJMYXllcl8yIj4NCgk8cGF0aCBzdHlsZT0iZmlsbDojRjc5MjMyOyIgZD0iTTE1MCwwQzY2LjY2NywwLDAsNjYuNjY3LDAsMTUwczY2LjY2NywxNTAsMTUwLDE1MHMxNTAtNjYuNjY3LDE1MC0xNTBTMjMzLjMzMywwLDE1MCwweg0KCQkgTTEzNi42NjcsMTc4LjMzM0wxMjUsMTkwbC00MS42NjctNDBMOTUsMTM4LjMzM2wzMC0zMEwxMzYuNjY3LDEyMGwtMzAsMzBMMTM2LjY2NywxNzguMzMzeiBNMjA1LDE2MS42NjdsLTMwLDMwTDE2My4zMzMsMTgwDQoJCWwzMC0zMGwtMzAtMzBMMTc1LDEwOC4zMzNMMjE2LjY2NywxNTBMMjA1LDE2MS42Njd6Ii8+DQo8L2c+DQo8Zz4NCgk8cG9seWdvbiBzdHlsZT0iZmlsbDojRkZGRkZGOyIgcG9pbnRzPSIxNzUsMTkxLjY2NyAyMDUsMTYxLjY2NyAyMTYuNjY3LDE1MCAxNzUsMTA4LjMzMyAxNjMuMzMzLDEyMCAxOTMuMzMzLDE1MCAxNjMuMzMzLDE4MCAJIi8+DQoJPHBvbHlnb24gc3R5bGU9ImZpbGw6I0ZGRkZGRjsiIHBvaW50cz0iMTI1LDEwOC4zMzMgOTUsMTM4LjMzMyA4My4zMzMsMTUwIDEyNSwxOTAgMTM2LjY2NywxNzguMzMzIDEwNi42NjcsMTUwIDEzNi42NjcsMTIwIAkiLz4NCjwvZz4NCjwvc3ZnPg0K\\\" alt=\\\"Icon indicating the project type\\\" class=\\\"jira-project-avatar-icon\\\" \\/\u003e\u003c\\/a\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-image --\u003e\u003cdiv class=\\\"aui-page-header-main\\\"\u003e\u003ch1\u003e\u003cdiv class=\\\"aui-group aui-group-split\\\"\u003e\u003cdiv class=\\\"aui-item project-title\\\"\u003e\u003ca href=\\\"\\/jira\\/projects\\/DERBY\\/summary\\\" title=\\\"Derby\\\"\u003eDerby\u003c\\/a\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/h1\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-main --\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-inner --\u003e\u003c\\/header\u003e\u003c!-- .aui-page-header --\u003e\u003cnav class=\\\"aui-navgroup aui-navgroup-vertical\\\"\u003e\u003cdiv class=\\\"aui-navgroup-inner sidebar-content-container\\\"\u003e\u003cdiv class=\\\"aui-sidebar-group aui-sidebar-group-tier-one\\\" data-id=\\\"sidebar-navigation-panel\\\"\u003e\u003cul class=\\\"aui-nav\\\"\u003e\u003cli class=\\\"aui-nav-selected\\\" \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/DERBY\\/issues\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-issue-navigator:sidebar-issue-navigator\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large icon-sidebar-issues\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Issues\\\"\u003eIssues\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003cli  \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/DERBY?selectedItem=com.atlassian.jira.jira-projects-plugin:report-page\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-plugin:report-page\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large agile-icon-report\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Reports\\\"\u003eReports\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003cli  \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/DERBY?selectedItem=com.atlassian.jira.jira-projects-plugin:components-page\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-plugin:components-page\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large icon-sidebar-components\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Components\\\"\u003eComponents\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003c\\/ul\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/nav\u003e\u003c\\/div\u003e\u003cdiv class=\\\"aui-sidebar-footer\\\"\u003e\u003ca class=\\\"aui-button aui-button-subtle aui-sidebar-toggle aui-sidebar-footer-tipsy\\\" data-tooltip=\\\"Expand sidebar ( [ )\\\" href=\\\"#\\\"\u003e\u003cspan class=\\\"aui-icon aui-icon-small\\\"\u003e\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/div\u003e\"";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:bigpipe-init/jira.webresources:bigpipe-init.js" data-wrm-key="jira.webresources:bigpipe-init" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <form id="jira_request_timing_info" class="dont-default-focus"> 
   <fieldset class="parameters hidden"> 
    <input type="hidden" title="jira.request.start.millis" value="1516196767208"> 
    <input type="hidden" title="jira.request.server.time" value="669"> 
    <input type="hidden" title="jira.request.id" value="826x7423345x14"> 
    <input type="hidden" title="jira.session.expiry.time" value="-"> 
    <input type="hidden" title="jira.session.expiry.in.mins" value="-"> 
    <input id="jiraConcurrentRequests" type="hidden" name="jira.request.concurrent.requests" value="6"> 
    <input type="hidden" title="db.reads.time.in.ms" value="115"> 
    <input type="hidden" title="db.conns.time.in.ms" value="128"> 
   </fieldset> 
  </form> 
  <!--
	                 REQUEST ID : 826x7423345x14
	          REQUEST TIMESTAMP : [17/Jan/2018:13:46:07 +0000]
	               REQUEST TIME : 0.6690
	                 ASESSIONID : -
	        CONCURRENT REQUESTS : 6

	                      db.reads : OpSnapshot{name='db.reads', invocationCount=48, elapsedTotal=115518197, elapsedMin=589870, elapsedMax=15754616, resultSetSize=0, cpuTotal=0, cpuMin=0, cpuMax=0}
	                      db.conns : OpSnapshot{name='db.conns', invocationCount=52, elapsedTotal=128162773, elapsedMin=657825, elapsedMax=15908435, resultSetSize=0, cpuTotal=0, cpuMin=0, cpuMax=0}
-->   
 </body>
</html>