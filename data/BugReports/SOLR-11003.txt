<!doctype html>
<html lang="en">
 <head> 
  <meta charset="utf-8"> 
  <meta http-equiv="X-UA-Compatible" content="IE=Edge"> 
  <meta name="application-name" content="JIRA" data-name="jira" data-version="7.6.3">
  <meta name="ajs-viewissue-use-history-api" content="false"> 
  <meta name="ajs-jira-base-url" content="https://issues.apache.org/jira"> 
  <meta name="ajs-serverRenderedViewIssue" content="true"> 
  <meta name="ajs-dev-mode" content="false"> 
  <meta name="ajs-context-path" content="/jira"> 
  <meta name="ajs-version-number" content="7.6.3"> 
  <meta name="ajs-build-number" content="76005"> 
  <meta name="ajs-is-beta" content="false"> 
  <meta name="ajs-is-rc" content="false"> 
  <meta name="ajs-is-snapshot" content="false"> 
  <meta name="ajs-is-milestone" content="false"> 
  <meta name="ajs-remote-user" content=""> 
  <meta name="ajs-remote-user-fullname" content=""> 
  <meta name="ajs-user-locale" content="en_UK"> 
  <meta name="ajs-user-locale-group-separator" content=","> 
  <meta name="ajs-app-title" content="ASF JIRA"> 
  <meta name="ajs-keyboard-shortcuts-enabled" content="true"> 
  <meta name="ajs-keyboard-accesskey-modifier" content="Ctrl+Alt"> 
  <meta name="ajs-enabled-dark-features" content="[&quot;com.atlassian.jira.agile.darkfeature.editable.detailsview&quot;,&quot;nps.survey.inline.dialog&quot;,&quot;com.atlassian.jira.agile.darkfeature.edit.closed.sprint.enabled&quot;,&quot;jira.plugin.devstatus.phasetwo&quot;,&quot;jira.frother.reporter.field&quot;,&quot;atlassian.rest.xsrf.legacy.enabled&quot;,&quot;jira.issue.status.lozenge&quot;,&quot;com.atlassian.jira.config.BIG_PIPE&quot;,&quot;com.atlassian.jira.projects.issuenavigator&quot;,&quot;com.atlassian.jira.config.PDL&quot;,&quot;jira.plugin.devstatus.phasetwo.enabled&quot;,&quot;atlassian.aui.raphael.disabled&quot;,&quot;app-switcher.new&quot;,&quot;frother.assignee.field&quot;,&quot;com.atlassian.jira.projects.ProjectCentricNavigation.Switch&quot;,&quot;sd.internal.base.off.thread.on.completion.events.enabled&quot;,&quot;jira.onboarding.cyoa&quot;,&quot;com.atlassian.jira.agile.darkfeature.kanplan.enabled&quot;,&quot;sd.slavalue.record.updated.date.enabled&quot;,&quot;com.atlassian.jira.config.ProjectConfig.MENU&quot;,&quot;com.atlassian.jira.projects.sidebar.DEFER_RESOURCES&quot;,&quot;com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions.enabled&quot;,&quot;com.atlassian.jira.agile.darkfeature.sprint.goal.enabled&quot;,&quot;jira.zdu.admin-updates-ui&quot;,&quot;jira.zdu.jmx-monitoring&quot;,&quot;sd.sla.improved.rendering.enabled&quot;,&quot;sd.canned.responses.enabled&quot;,&quot;sd.new.settings.sidebar.location.disabled&quot;,&quot;jira.zdu.cluster-upgrade-state&quot;,&quot;com.atlassian.jira.agile.darkfeature.splitissue&quot;,&quot;com.atlassian.jira.config.CoreFeatures.LICENSE_ROLES_ENABLED&quot;,&quot;com.atlassian.feedback.feedback-button-move-to-header-enable&quot;,&quot;jira.export.csv.enabled&quot;]"> 
  <meta name="ajs-in-admin-mode" content="false"> 
  <meta name="ajs-is-sysadmin" content="false"> 
  <meta name="ajs-is-admin" content="false"> 
  <meta name="ajs-outgoing-mail-enabled" content="true"> 
  <meta name="ajs-date-relativize" content="true"> 
  <meta name="ajs-date-time" content="HH:mm"> 
  <meta name="ajs-date-day" content="EEEE HH:mm"> 
  <meta name="ajs-date-dmy" content="dd/MMM/yy"> 
  <meta name="ajs-date-complete" content="dd/MMM/yy HH:mm"> 
  <script type="text/javascript">var AJS=AJS||{};AJS.debug=true;</script> 
  <meta id="atlassian-token" name="atlassian-token" content="A5KQ-2QAV-T4JA-FDED|b42ea3670956409cee3a61b1543c4b5aecafe658|lout"> 
  <link rel="shortcut icon" href="/jira/s/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/_/favicon.ico"> 
  <!--[if IE]><![endif]--> 
  <script type="text/javascript">
    (function() {
        var contextPath = '/jira';
        var eventBuffer = [];

        function printDeprecatedMsg() {
            if (console && console.warn) {
                console.warn('DEPRECATED JS - contextPath global variable has been deprecated since 7.4.0. Use `wrm/context-path` module instead.');
            }
        }

        function sendEvent(analytics, postfix) {
            analytics.send({
                name: 'js.globals.contextPath.' + postfix
            });
        }

        function sendDeprecatedEvent(postfix) {
            try {
                var analytics = require('jira/analytics');
                if (eventBuffer.length) {
                    eventBuffer.forEach(function(value) {
                        sendEvent(analytics, value);
                    });
                    eventBuffer = [];
                }

                if (postfix) {
                    sendEvent(analytics, postfix);
                }
            } catch(ex) {
                eventBuffer.push(postfix);
                setTimeout(sendDeprecatedEvent, 1000);
            }
        }

        Object.defineProperty(window, 'contextPath', {
            get: function() {
                printDeprecatedMsg();
                sendDeprecatedEvent('get');
                return contextPath;
            },
            set: function(value) {
                printDeprecatedMsg();
                sendDeprecatedEvent('set');
                contextPath = value;
            }
        });
    })();

</script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["com.atlassian.plugins.atlassian-plugins-webresource-plugin:context-path.context-path"]="\"/jira\"";
WRM._unparsedData["jira.webresources:feature-flags.feature-flag-data"]="{\"enabled-feature-keys\":[\"com.atlassian.jira.agile.darkfeature.editable.detailsview\",\"nps.survey.inline.dialog\",\"com.atlassian.jira.agile.darkfeature.edit.closed.sprint.enabled\",\"jira.plugin.devstatus.phasetwo\",\"jira.frother.reporter.field\",\"atlassian.rest.xsrf.legacy.enabled\",\"jira.issue.status.lozenge\",\"com.atlassian.jira.config.BIG_PIPE\",\"com.atlassian.jira.projects.issuenavigator\",\"com.atlassian.jira.config.PDL\",\"jira.plugin.devstatus.phasetwo.enabled\",\"atlassian.aui.raphael.disabled\",\"app-switcher.new\",\"frother.assignee.field\",\"com.atlassian.jira.projects.ProjectCentricNavigation.Switch\",\"sd.internal.base.off.thread.on.completion.events.enabled\",\"jira.onboarding.cyoa\",\"com.atlassian.jira.agile.darkfeature.kanplan.enabled\",\"sd.slavalue.record.updated.date.enabled\",\"com.atlassian.jira.config.ProjectConfig.MENU\",\"com.atlassian.jira.projects.sidebar.DEFER_RESOURCES\",\"com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions.enabled\",\"com.atlassian.jira.agile.darkfeature.sprint.goal.enabled\",\"jira.zdu.admin-updates-ui\",\"jira.zdu.jmx-monitoring\",\"sd.sla.improved.rendering.enabled\",\"sd.canned.responses.enabled\",\"sd.new.settings.sidebar.location.disabled\",\"jira.zdu.cluster-upgrade-state\",\"com.atlassian.jira.agile.darkfeature.splitissue\",\"com.atlassian.jira.config.CoreFeatures.LICENSE_ROLES_ENABLED\",\"com.atlassian.feedback.feedback-button-move-to-header-enable\",\"jira.export.csv.enabled\"],\"feature-flag-states\":{\"sd.customer.profile.multi.languages\":true,\"sd.customer.portal.transitions\":true,\"sd.customer.portal.transitions.config\":true,\"sd.custom.email.stripping.rules\":false,\"sd.sla.lucene.issue.id.callback.performance\":true,\"sd.new.settings.sidebar.location\":true,\"sd.workload.report.paginator\":true,\"sd.experimental.portal.search.algorithm.default.1\":false,\"sd.customer.portal.help.center.agent.announcement\":true,\"sd.sla.improved.rendering\":false,\"sd.experimental.portal.search.algorithm.default.2\":false,\"sd.customer.feedback.validate.reporter.on.token\":true,\"sd.custom.email.notifications.utf8.csat.star\":true,\"sd.who.create.customers.by.email.setting\":true,\"com.atlassian.jira.issuetable.move.links.hidden\":true,\"jira.renderer.consider.variable.format\":true,\"sd.stats.event.tracking\":true,\"sd.password.helper.dialog\":true,\"sd.canned.responses\":false,\"sd.portal.help.center.customer.signup.secondary.email\":true,\"sd.custom.email.notifications.manage.language\":true,\"sd.use.search.by.permissions\":true,\"sd.slavalue.record.updated.date\":false,\"sd.report.custom.date.range\":false,\"sd.kb.article.helpfulness.report\":false,\"com.atlassian.jira.agile.darkfeature.sprint.goal\":false,\"sd.custom.email.notifications.styling\":true,\"sd.workinghours.new.page.bulldog.1\":false,\"sd.customer.portal.two.step.login\":false,\"sd.automation.psmq.async.executor\":true,\"sd.customer.org.list.page.lazy.search\":true,\"sd.approval.requested.when.handler\":true,\"sd.request.type.field.rest.api.filtering.bugfix\":true,\"sd.automation.then.action.auto.answer.approval\":true,\"com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions\":false,\"sla.will.only.be.paused.if.they.are.already.started\":true,\"sd.kb.comment.share.stats.collection\":true,\"com.atlassian.jira.upgrade.startup.fix.index\":true,\"sd.customer.orgs.group.participants\":true,\"sd.portal.help.center.customer.signup\":true,\"sd.sla.agent.jql.security.restricted\":true,\"sd.test.feature.flag.x\":true,\"sd.test.feature.flag.y\":false,\"sd.cluster.safe.mail.channel.shutdown\":true,\"sd.email.channel.folders\":false,\"sd.email.analytics.open\":false,\"sd.kb.project.creation.create.link.space\":true,\"sd.workinghours.new.page\":false,\"sd.confluence.anonymous.permission.fix\":true,\"com.atlassian.jira.issuetable.draggable\":true,\"sd.customer.portal.project.agent.announcement\":true,\"sd.automation.audit.log\":true,\"jira.jql.suggestrecentfields\":false,\"sd.canned.responses.check.index.startup\":false,\"sd.new.project.templates\":true,\"sd.custom.email.notifications.custom.rules.simple.ui\":false,\"sd.custom.email.notifications.cut.over\":true,\"sd.dismiss.all.misconfiguration.warnings.setting\":true,\"com.atlassian.jira.agile.darkfeature.optimistic.transitions\":true,\"sd.sla.configurations.export\":true,\"sd.canned.responses.variable.substitution\":true,\"com.atlassian.jira.agile.darkfeature.kanplan\":false,\"sd.internal.base.off.thread.on.completion.events\":false,\"sd.customer.portal.prioties.per.project.fix\":true,\"jira.instrumentation.laas\":false,\"sd.kb.self.service.report\":false,\"sla.improved.request.handling\":true,\"sd.no.schedule.async.upgrade.tasks\":true,\"sd.kb.primary.nav\":true,\"com.atlassian.jira.agile.darkfeature.edit.closed.sprint\":false,\"sd.kb.issueview.panel.phase2\":true,\"sd.email.outsider.comments\":true,\"jira.create.linked.issue\":true,\"sd.kb.issueview.panel\":true,\"jira.sal.host.connect.accessor.existing.transaction.will.create.transactions\":true,\"sd.approvals.light.weight\":false,\"sd.automation.then.webhook\":true,\"sd.respect.inline.edit.issue.off\":true,\"jira.jql.smartautoselectfirst\":false,\"sd.global.portal.search.atlassian.only.tracking\":false,\"sd.automation.if.condition.comment.primary.action\":true,\"jira.priorities.per.project\":true,\"sd.inline.noformat.renderer\":true,\"sd.customer.request.type.create.edit.screens\":true}}";
WRM._unparsedData["jira.webresources:default-comment-security-level.DefaultCommentSecurityLevelHelpLink"]="{\"extraClasses\":\"default-comment-level-help\",\"title\":\"Commenting on an Issue\",\"url\":\"https://docs.atlassian.com/jira/jcore-docs-076/Editing+and+collaborating+on+issues#Editingandcollaboratingonissues-restrictacomment\",\"isLocal\":false}";
WRM._unparsedData["jira.webresources:dateFormatProvider.allFormats"]="{\"dateFormats\":{\"meridiem\":[\"AM\",\"PM\"],\"eras\":[\"BC\",\"AD\"],\"months\":[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],\"monthsShort\":[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],\"weekdaysShort\":[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"],\"weekdays\":[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"]},\"lookAndFeelFormats\":{\"relativize\":\"true\",\"time\":\"HH:mm\",\"day\":\"EEEE HH:mm\",\"dmy\":\"dd/MMM/yy\",\"complete\":\"dd/MMM/yy HH:mm\"}}";
WRM._unparsedData["com.atlassian.jira.jira-issue-nav-components:issueviewer.features"]="{\"rteEnabled\":true}";
WRM._unparsedData["com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone.thumbnail-mime-types"]="\"image/png,image/vnd.wap.wbmp,image/x-png,image/jpeg,image/bmp,image/gif\"";
WRM._unparsedData["com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone.upload-limit"]="\"62914560\"";
WRM._unparsedData["com.atlassian.plugins.helptips.jira-help-tips:help-tip-manager.JiraHelpTipData"]="{\"anonymous\":true}";
WRM._unparsedData["com.atlassian.jira.jira-view-issue-plugin:controller-subtasks.controller.subtasks.parameters"]="{\"url\":\"/rest/api/2/issue/{issueId}/subtask/move\"}";
WRM._unparsedData["com.atlassian.analytics.analytics-client:policy-update-init.policy-update-data-provider"]="false";
WRM._unparsedData["com.atlassian.analytics.analytics-client:programmatic-analytics-init.programmatic-analytics-data-provider"]="false";
WRM._unparsedData["com.atlassian.servicedesk.servicedesk-canned-responses-plugin:canned-responses-data-provider.data"]="{\"substitutionVariables\":{\"issue.summary\":\"Issue summary\",\"issue.description\":\"Issue description\",\"issue.key\":\"Issue key\",\"issue.reporter.name\":\"Issue reporter\",\"issue.resolution\":\"Issue resolution\",\"request.url\":\"Request URL\",\"request.status\":\"Request status\"}}";
WRM._unparsedData["jira.webresources:avatar-picker.data"]="{}";
WRM._unparsedData["com.atlassian.feedback.jira-feedback-plugin:button-resources-init.data"]="{\"jira.feedback.plugin.issue.collector.core\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"jira.feedback.plugin.issue.collector.default\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"jira.feedback.plugin.issue.collector.service.desk\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector.js?locale=en-UK&collectorId=a698db21\",\"jira.feedback.plugin.issue.collector.software\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"isHeaderFeedbackButtonEnabled\":true}";
WRM._unparsedData["com.atlassian.jira.jira-header-plugin:dismissedFlags.flags"]="{\"dismissed\":[]}";
WRM._unparsedData["com.atlassian.jira.jira-header-plugin:newsletter-signup-tip-init.newsletterSignup"]="{\"signupDescription\":\"Get updates, inspiration and best practices from the team behind JIRA.\",\"formUrl\":\"https://www.atlassian.com/apis/exact-target/{0}/subscribe?mailingListId=1401671\",\"signupTitle\":\"Sign up!\",\"signupId\":\"newsletter-signup-tip\",\"showNewsletterTip\":false}";
WRM._unparsedData["com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources.ptAnalyticsData"]="{\"instanceCreatedDate\":\"2011-01-31\"}";
WRM._unparsedData["com.atlassian.servicedesk.core-ui:util-help-links.help-links"]="{\"help\":{\"email.settings\":\"https://docs.atlassian.com/jira/jsd-docs-039/Receiving+requests+by+email\",\"managing.queues\":\"https://docs.atlassian.com/jira/jsd-docs-039/Setting+up+queues+for+your+team\",\"email.setup\":\"https://docs.atlassian.com/jira/jsd-docs-039/Receiving+requests+by+email\",\"request.settings.help.bubble\":\"https://docs.atlassian.com/jira/jsd-docs-039/Managing+access+to+your+service+desk\",\"email.settings.suitablerequest\":\"https://docs.atlassian.com/jira/jsd-docs-039/Receiving+requests+by+email#Receivingrequestsbyemail-suitablerequest\",\"sla.import.help\":\"https://docs.atlassian.com/jira/jsd-docs-039/Importing+SLAs\",\"documentation.home\":\"https://docs.atlassian.com/jira/jsd-docs-039/JIRA+Service+Desk+Documentation\",\"default\":\"https://docs.atlassian.com/jira/jsd-docs-039/\",\"create.space.help\":\"https://docs.atlassian.com/jira/jsd-docs-039/Serving+customers+with+a+knowledge+base#serving-customers-with-a-knowledge-base-createpermission\",\"email.settings.troubleshooting\":\"https://docs.atlassian.com/jira/jsd-docs-039/Troubleshooting+issues+with+the+email+channel\",\"admin.notifications.config\":\"https://docs.atlassian.com/jira/jsd-docs-039/Managing+service+desk+notifications\",\"troubleshoot.requesttype\":\"https://docs.atlassian.com/jira/jsd-docs-039/Troubleshooting+issues+with+request+types\",\"approvals.configuration\":\"https://docs.atlassian.com/jira/jsd-docs-039/Configuring+JIRA+Service+Desk+approvals\",\"setting.up.reports\":\"https://docs.atlassian.com/jira/jsd-docs-039/Setting+up+service+desk+reports\",\"public.signup\":\"https://docs.atlassian.com/jira/jsd-docs-039/Configuring+public+signup\",\"knowledge.base\":\"https://docs.atlassian.com/jira/jsd-docs-039/Serving+customers+with+a+knowledge+base\",\"resolve.permission.scheme.errors\":\"https://docs.atlassian.com/jira/jsd-docs-039/Resolving+permission+scheme+errors\",\"getting.started\":\"https://docs.atlassian.com/jira/jsd-docs-039/Getting+started+with+JIRA+Service+Desk\",\"getting.started.agent\":\"https://docs.atlassian.com/jira/jsd-docs-039/Getting+started+for+service+desk+agents\",\"invite.customers\":\"https://docs.atlassian.com/jira/jsd-docs-039/Managing+access+to+your+service+desk\"},\"kb\":{\"default\":\"https://confluence.atlassian.com/display/SDKB/\",\"troubleshooting.user.management.issues\":\"https://confluence.atlassian.com/display/SDKB/Troubleshooting+issues+with+service+desk+user+management\",\"legacytransition\":\"https://confluence.atlassian.com/display/SDKB/Replacing+legacy+automatic+transitions+with+automation+rules\",\"umtroubleshoot\":\"https://confluence.atlassian.com/display/SDKB/Troubleshooting+issues+with+service+desk+user+management\"}}";
WRM._unparsedData["com.atlassian.servicedesk.core-ui:util-base-url.base-url"]="\"https://issues.apache.org/jira\"";
WRM._unparsedData["com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources.help-data"]="{\"showHelp\":true,\"editorDocumentationUrl\":[\"https://docs.atlassian.com/jira/jcore-docs-076/Visual+editing\"],\"editorDocumentationTitle\":[\"Show me documentation for the visual editor\"]}";
WRM._unparsedData["com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources.thumbnails-allowed"]="false";
WRM._unparsedData["jira.webresources:user-message-flags.adminLockout"]="{}";
WRM._unparsedData["jira.request.correlation-id"]="\"3eb924d883d989\"";
WRM._unparsedData["project-id"]="12310230";
WRM._unparsedData["project-key"]="\"SOLR\"";
WRM._unparsedData["project-name"]="\"Solr\"";
WRM._unparsedData["project-type"]="\"software\"";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:generic-filters"]="[{\"id\":\"allissues\",\"jql\":\"project = \\\"{0}\\\" ORDER BY {1}\",\"defaultOrderby\":\"created DESC\",\"label\":\"All issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[]},{\"id\":\"allopenissues\",\"jql\":\"project = \\\"{0}\\\" AND resolution = Unresolved ORDER BY {1}\",\"defaultOrderby\":\"priority DESC, updated DESC\",\"label\":\"Open issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"resolution\"]},{\"id\":\"doneissues\",\"jql\":\"project = \\\"{0}\\\" AND statusCategory = Done ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Done issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":false,\"fields\":[\"status\"]},{\"id\":\"recentlyviewed\",\"jql\":\"project = \\\"{0}\\\" AND issuekey in issueHistory() ORDER BY {1}\",\"defaultOrderby\":\"lastViewed DESC\",\"label\":\"Viewed recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"issuekey\"]},{\"id\":\"addedrecently\",\"jql\":\"project = \\\"{0}\\\" AND created \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"created DESC\",\"label\":\"Created recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"created\"]},{\"id\":\"resolvedrecently\",\"jql\":\"project = \\\"{0}\\\" AND resolutiondate \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Resolved recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":false,\"fields\":[\"resolutiondate\"]},{\"id\":\"updatedrecently\",\"jql\":\"project = \\\"{0}\\\" AND updated \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Updated recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"updated\"]}]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:default-filter-priority"]="[\"allopenissues\",\"allissues\"]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:can-manage-filters"]="false";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:project-filters"]="[]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:can-create-issues"]="false";
WRM._unparsedData["projectId"]="12310230";
WRM._unparsedData["projectKey"]="\"SOLR\"";
WRM._unparsedData["projectType"]="\"software\"";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:server-rendered"]="true";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/a8a4711bc3f2eb261d8c8fd9fbcbba8b-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/1fca1750044f2777c977e8d8cc023344/_/download/contextbatch/css/_super/batch.css" data-wrm-key="_super" data-wrm-batch-type="context" media="all"> 
  <link type="text/css" rel="stylesheet" href="/jira/s/1a6b21131945f6f49ff48336b49ca3fe-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/37a6e594cbbfd462a8a54d5aa11475c1/_/download/contextbatch/css/project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super/batch.css?agile_global_admin_condition=true&amp;hc-enabled=true&amp;is-server-instance=true&amp;jag=true&amp;jira.create.linked.issue=true&amp;nps-acknowledged=true&amp;richediton=true&amp;sd_operational=true" data-wrm-key="project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super" data-wrm-batch-type="context" media="all"> 
  <link type="text/css" rel="stylesheet" href="/jira/s/611672383f6cab00ab202241ba6f9d68-T/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/7.6.3/_/download/batch/com.atlassian.feedback.jira-feedback-plugin:button-resources-init/com.atlassian.feedback.jira-feedback-plugin:button-resources-init.css" data-wrm-key="com.atlassian.feedback.jira-feedback-plugin:button-resources-init" data-wrm-batch-type="resource" media="all"> 
  <script type="text/javascript" src="/jira/s/d8484c9183f546511a8e336a8779bcd9-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/1fca1750044f2777c977e8d8cc023344/_/download/contextbatch/js/_super/batch.js?locale=en-UK" data-wrm-key="_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d3b35d835f8f46fc3b53bb4db7f85158-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/37a6e594cbbfd462a8a54d5aa11475c1/_/download/contextbatch/js/project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super/batch.js?agile_global_admin_condition=true&amp;hc-enabled=true&amp;is-server-instance=true&amp;jag=true&amp;jira.create.linked.issue=true&amp;locale=en-UK&amp;nps-acknowledged=true&amp;richediton=true&amp;sd_operational=true" data-wrm-key="project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/71d42e74136d842a3ef4d5d136484843-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/871d45c9f322a22cb3aa9b7948a69803/_/download/contextbatch/js/atl.global,-_super/batch.js?locale=en-UK" data-wrm-key="atl.global,-_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:calendar-en/jira.webresources:calendar-en.js" data-wrm-key="jira.webresources:calendar-en" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:calendar-localisation-moment/jira.webresources:calendar-localisation-moment.js" data-wrm-key="jira.webresources:calendar-localisation-moment" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/7.6.3/_/download/batch/com.atlassian.feedback.jira-feedback-plugin:button-resources/com.atlassian.feedback.jira-feedback-plugin:button-resources.js" data-wrm-key="com.atlassian.feedback.jira-feedback-plugin:button-resources" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/95a4826c265852f4904f1e0e7300df68-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/e0de73613a1027de08f3da6a45e1d1a2/_/download/contextbatch/css/jira.global.look-and-feel,-_super/batch.css" data-wrm-key="jira.global.look-and-feel,-_super" data-wrm-batch-type="context" media="all"> 
  <script type="text/javascript" src="/jira/rest/api/1.0/shortcuts/76005/944bb39eced1b35cfc7194aa02eb5a5a/shortcuts.js?context=issuenavigation&amp;context=issueaction"></script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["com.atlassian.jira.jira-issue-nav-components:inline-edit-enabled"]="true";
WRM._unparsedData["should-display-chaperone"]="false";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/15712b600e9aecf72ffd9fd3704a0c78-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/6b22a15c7b83f87a47b1757076f43542/_/download/contextbatch/css/com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue/batch.css?jira.create.linked.issue=true&amp;richediton=true&amp;sd_operational=true" data-wrm-key="com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue" data-wrm-batch-type="context" media="all"> 
  <script type="text/javascript" src="/jira/s/5a8f0f8b8aa8f96a4f0f7e9e248d62f3-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/6b22a15c7b83f87a47b1757076f43542/_/download/contextbatch/js/com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue/batch.js?jira.create.linked.issue=true&amp;locale=en-UK&amp;richediton=true&amp;sd_operational=true" data-wrm-key="com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue" data-wrm-batch-type="context" data-initially-rendered></script> 
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge"> 
  <meta name="ajs-can-search-users" content="false"> 
  <meta name="ajs-can-edit-watchers" content="false"> 
  <meta name="ajs-default-avatar-url" content="https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10453"> 
  <meta name="ajs-issue-project-type" content="software"> 
  <meta name="ajs-issue-key" content="SOLR-11003"> 
  <meta name="ajs-server-view-issue-is-editable" content="false"> 
  <title>[SOLR-11003] Enabling bi-directional CDCR on cluster for better failover - ASF JIRA</title> 
  <link rel="search" type="application/opensearchdescription+xml" href="/jira/osd.jsp" title="[SOLR-11003] Enabling bi-directional CDCR on cluster for better failover - ASF JIRA"> 
 </head> 
 <body id="jira" class="aui-layout aui-theme-default " data-version="7.6.3"> 
  <div id="page"> 
   <header id="header" role="banner"> 
    <script>
require(["jquery", "jira/license-banner"], function ($, licenseBanner) {
    $(function () {
        licenseBanner.showLicenseBanner("");
        licenseBanner.showLicenseFlag("");
    });
});
</script> 
    <nav class="aui-header aui-dropdown2-trigger-group" role="navigation">
     <div class="aui-header-inner">
      <div class="aui-header-before">
       <a class=" aui-dropdown2-trigger app-switcher-trigger" aria-controls="app-switcher" aria-haspopup="true" role="button" tabindex="0" data-aui-trigger href="#app-switcher"><span class="aui-icon aui-icon-small aui-iconfont-appswitcher">Linked Applications</span></a>
       <div id="app-switcher" class="aui-dropdown2 aui-style-default" role="menu" aria-hidden="true" data-is-switcher="true" data-environment="{&quot;isUserAdmin&quot;:false,&quot;isAppSuggestionAvailable&quot;:false,&quot;isSiteAdminUser&quot;:false}">
        <div role="application">
         <div class="app-switcher-loading">
          Loadingâ€¦
         </div>
        </div>
       </div>
      </div>
      <div class="aui-header-primary">
       <h1 id="logo" class="aui-header-logo aui-header-logo-custom"><a href="https://issues.apache.org/jira/secure/MyJiraHome.jspa"><img src="/jira/s/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/_/jira-logo-scaled.png" alt="ASF JIRA"></a></h1>
       <ul class="aui-nav">
        <li><a href="/jira/secure/Dashboard.jspa" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="home_link" aria-haspopup="true" aria-controls="home_link-content" title="View and manage your dashboards" accesskey="d">Dashboards</a>
         <div class="aui-dropdown2 aui-style-default" id="home_link-content" data-aui-dropdown2-ajax-key="home_link"></div></li>
        <li><a href="/jira/browse/SOLR" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="browse_link" aria-haspopup="true" aria-controls="browse_link-content" title="View recent projects and browse a list of projects" accesskey="p">Projects</a>
         <div class="aui-dropdown2 aui-style-default" id="browse_link-content" data-aui-dropdown2-ajax-key="browse_link"></div></li>
        <li><a href="/jira/issues/" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="find_link" aria-haspopup="true" aria-controls="find_link-content" title="Search for issues and view recent issues" accesskey="i">Issues</a>
         <div class="aui-dropdown2 aui-style-default" id="find_link-content" data-aui-dropdown2-ajax-key="find_link"></div></li> 
       </ul>
      </div>
      <div class="aui-header-secondary">
       <ul class="aui-nav">
        <li id="quicksearch-menu"> 
         <form action="/jira/secure/QuickSearch.jspa" method="get" id="quicksearch" class="aui-quicksearch dont-default-focus ajs-dirty-warning-exempt"> 
          <input id="quickSearchInput" class="search" type="text" title="Search" placeholder="Search" name="searchString" accessKey="q"> 
          <input type="submit" class="hidden" value="Search"> 
         </form> </li> 
        <li><a class="jira-feedback-plugin" role="button" aria-haspopup="true" id="jira-header-feedback-link" href="#"><span class="aui-icon aui-icon-small jira-feedback-plugin-icon">Give feedback to Atlassian</span></a></li> 
        <li id="system-help-menu"> <a class="aui-nav-link aui-dropdown2-trigger" id="help_menu" aria-haspopup="true" aria-owns="system-help-menu-content" href="https://docs.atlassian.com/jira/jcore-docs-076/" target="$textUtils.htmlEncode($rootHelpMenuItem.params.target)" title="Help"><span class="aui-icon aui-icon-small aui-iconfont-help">Help</span></a> 
         <div id="system-help-menu-content" class="aui-dropdown2 aui-style-default"> 
          <div class="aui-dropdown2-section"> 
           <ul id="jira-help" class="aui-list-truncate"> 
            <li> <a id="view_core_help" class="aui-nav-link " title="Go to the online documentation for JIRA Core" href="https://docs.atlassian.com/jira/jcore-docs-076/" target="_blank">JIRA Core help</a> </li> 
            <li> <a id="keyshortscuthelp" class="aui-nav-link " title="Get more information about JIRA's Keyboard Shortcuts" href="/jira/secure/ViewKeyboardShortcuts!default.jspa" target="_blank">Keyboard Shortcuts</a> </li> 
            <li> <a id="view_about" class="aui-nav-link " title="Get more information about JIRA" href="/jira/secure/AboutPage.jspa">About JIRA</a> </li> 
            <li> <a id="view_credits" class="aui-nav-link " title="See who did what" href="/jira/secure/JiraCreditsPage!default.jspa" target="_blank">JIRA Credits</a> </li> 
           </ul> 
          </div> 
         </div> </li> 
        <li id="user-options"> <a class="aui-nav-link login-link" href="/jira/login.jsp?os_destination=%2Fbrowse%2FSOLR-11003">Log In</a> 
         <div id="user-options-content" class="aui-dropdown2 aui-style-default"> 
          <div class="aui-dropdown2-section"> 
          </div> 
         </div> </li> 
       </ul>
      </div>
     </div>
     <!-- .aui-header-inner-->
    </nav>
    <!-- .aui-header --> 
   </header> 
   <section id="content" role="main"> 
    <big-pipe data-id="sidebar-id" unresolved></big-pipe>
    <div class="aui-sidebar  sidebar-placeholder">
     <div class="aui-sidebar-wrapper">
      <div class="aui-sidebar-body"></div>
      <div class="aui-sidebar-footer">
       <a class="aui-button aui-button-subtle aui-sidebar-toggle aui-sidebar-footer-tipsy" data-tooltip="Expand sidebar ( [ )" href="#"><span class="aui-icon aui-icon-small"></span></a>
      </div>
     </div>
    </div>
    <script id="projects-sidebar-init">
    require(['jira/projects/sidebar/expansion-manager'], function(expansionManager) {
        var scriptTag = document.getElementById('projects-sidebar-init');
        var sidebar = AJS.sidebar('.aui-sidebar');
        expansionManager(sidebar);
        scriptTag.parentElement.removeChild(scriptTag);
    });
    </script>
    <div class="aui-page-panel">
     <div class="aui-page-panel-inner">
      <div class="issue-navigator">
       <div class="content">
        <div class="issue-view">
         <div class="navigation-tools">
          <div class="pager-container"></div>
         </div>
         <div class="issue-container">
          <div id="issue-content" class="issue-edit-form">
           <header id="stalker" class="issue-header js-stalker">
            <div class="issue-header-content">
             <header class="aui-page-header">
              <div class="aui-page-header-inner">
               <div class="aui-page-header-image">
                <span id="12310230" class="aui-avatar aui-avatar-large aui-avatar-project"><span class="aui-avatar-inner"><img id="project-avatar" alt="Uploaded image for project: 'Solr'" src="https://issues.apache.org/jira/secure/projectavatar?pid=12310230&amp;avatarId=22151"></span></span>
               </div>
               <!-- .aui-page-header-image -->
               <div class="aui-page-header-main">
                <ol class="aui-nav aui-nav-breadcrumbs">
                 <li><a id="project-name-val" href="/jira/browse/SOLR">Solr</a></li>
                 <li><a class="issue-link" data-issue-key="SOLR-11003" href="/jira/browse/SOLR-11003" id="key-val" rel="13084511">SOLR-11003</a></li>
                </ol>
                <h1 id="summary-val">Enabling bi-directional CDCR on cluster for better failover</h1>
               </div>
               <!-- .aui-page-header-main -->
               <div class="aui-page-header-actions">
                <div id="issue-header-pager"></div>
               </div>
               <!-- .aui-page-header-actions -->
              </div>
              <!-- .aui-page-header-inner -->
             </header>
             <!-- .aui-page-header -->
             <div class="command-bar">
              <div class="ops-cont">
               <div class="ops-menus aui-toolbar">
                <div class="toolbar-split toolbar-split-left">
                 <ul id="opsbar-ops-login-lnk_container" class="toolbar-group pluggable-ops">
                  <li class="toolbar-item"><a id="ops-login-lnk" title="Log In" class="toolbar-trigger" href="/jira/login.jsp?os_destination=%2Fbrowse%2FSOLR-11003"><span class="trigger-label">Log In</span></a></li>
                 </ul>
                 <ul id="opsbar-opsbar-operations" class="toolbar-group pluggable-ops"></ul>
                 <ul id="opsbar-opsbar-transitions" class="toolbar-group pluggable-ops"></ul>
                 <ul id="opsbar-opsbar-admin" class="toolbar-group pluggable-ops"></ul>
                </div>
                <div class="toolbar-split toolbar-split-right">
                 <ul id="opsbar-jira.issue.tools" class="toolbar-group pluggable-ops">
                  <li class="toolbar-item">
                   <div>
                    <a href="#" id="viewissue-export" aria-owns="viewissue-export_drop" aria-haspopup="true" title="Export this issue in another format" class="toolbar-trigger aui-button aui-style-default aui-dropdown2-trigger"><span class="icon icon-default aui-icon aui-icon-small aui-iconfont-export"></span> <span class="dropdown-text">Export</span></a>
                    <div id="viewissue-export_drop" class="aui-style-default aui-dropdown2">
                     <ul>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-xml/SOLR-11003/SOLR-11003.xml" id="jira.issueviews:issue-xml"><span class="trigger-label">XML</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-word/SOLR-11003/SOLR-11003.doc" id="jira.issueviews:issue-word"><span class="trigger-label">Word</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-html/SOLR-11003/SOLR-11003.html" id="jira.issueviews:issue-html"><span class="trigger-label">Printable</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/com.atlassian.jira.plugins.jira-importers-plugin:issue-json/SOLR-11003/SOLR-11003.json" id="com.atlassian.jira.plugins.jira-importers-plugin:issue-json"><span class="trigger-label">JSON</span></a></li>
                     </ul>
                    </div>
                   </div></li>
                 </ul>
                </div>
               </div>
              </div>
             </div>
            </div>
           </header>
           <div class="issue-body-content">
            <div class="aui-group issue-body">
             <div class="aui-item issue-main-column">
              <div id="details-module" class="module toggle-wrap">
               <div id="details-module_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Details</h2>
               </div>
               <div class="mod-content"> 
                <ul id="issuedetails" class="property-list two-cols"> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Type:</strong> 
                   <span id="type-val" class="value"> <img alt="" height="16" src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype" title="Improvement - An improvement or enhancement to an existing feature or task." width="16"> Improvement </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Status:</strong> 
                   <span id="status-val" class="value"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done jira-issue-status-lozenge-max-width-medium" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </span> 
                  </div> </li> 
                 <li class="item new"> 
                  <div class="wrap"> 
                   <strong class="name">Priority:</strong> 
                   <span id="priority-val" class="value"> <img alt="" height="16" src="/jira/images/icons/priorities/major.svg" title="Major - Major loss of function." width="16"> Major </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Resolution:</strong> 
                   <span id="resolution-val" class="value resolved"> Fixed </span> 
                  </div> </li> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Affects Version/s:</strong> 
                   <span id="versions-val" class="value"> None </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Fix Version/s:</strong> 
                   <span id="fixfor-val" class="value"> <span class="shorten" id="fixVersions-field"> <a href="/jira/issues/?jql=project+%3D+SOLR+AND+fixVersion+%3D+7.2" title="7.2 Minor release after 7.1">7.2</a> </span> </span> 
                  </div> </li> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Component/s:</strong> 
                   <span id="components-val" class="value"> <span class="shorten" id="components-field"> <a href="/jira/issues/?jql=project+%3D+SOLR+AND+component+%3D+CDCR" title="CDCR Cross DataCenter Replication">CDCR</a> </span> </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Security Level:</strong> 
                   <span id="security-val" class="value"> <span class="note">Public</span> (Default Security Level. Issues are Public) </span> 
                  </div> </li> 
                 <li class="item full-width"> 
                  <div class="wrap" id="wrap-labels"> 
                   <strong class="name">Labels:</strong> 
                   <div class="labels-wrap value"> 
                    <span class="labels" id="labels-13084511-value">None</span> 
                   </div> 
                  </div> </li> 
                </ul> 
               </div>
              </div>
              <div id="descriptionmodule" class="module toggle-wrap">
               <div id="descriptionmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Description</h2>
               </div>
               <div class="mod-content">
                <div id="description-val" class="field-ignore-highlight"> 
                 <div class="user-content-block"> 
                  <p>The latest version of Solr CDCR across collections / clusters is in active-passive format, where we can index into source collection and the updates gets forwarded to the passive one and vice-versa is not supported.</p> 
                  <p><a href="https://lucene.apache.org/solr/guide/6_6/cross-data-center-replication-cdcr.html" class="external-link" rel="nofollow">https://lucene.apache.org/solr/guide/6_6/cross-data-center-replication-cdcr.html</a><br> <a href="https://issues.apache.org/jira/browse/SOLR-6273" class="external-link" rel="nofollow">https://issues.apache.org/jira/browse/SOLR-6273</a></p> 
                  <p>We are try to get a design ready to index in both collections and the updates gets reflected across the collections in real-time (given the backlog of replicating updates to other data center). ClusterACollectionA =&gt; ClusterBCollectionB | ClusterBCollectionB =&gt; ClusterACollectionA.</p> 
                  <p>The STRONG RECOMMENDED way to keep indexing in ClusterACollectionA which forwards the updates to ClusterBCollectionB. If ClusterACollectionA gets down, we point the indexer and searcher application to ClusterBCollectionB. Once ClusterACollectionA is up, depending on updates count, they will be bootstrapped or forwarded to ClusterACollectionA from ClusterBCollectionB and keep indexing on the ClusterBCollectionB.</p> 
                 </div> 
                </div> 
               </div>
              </div>
              <div id="dnd-metadata" class="module toggle-wrap">
               <div id="dnd-metadata_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Attachments</h2>
               </div>
               <div class="mod-content">
                <div id="dnd-metadata-webpanel" data-can-attach="false" data-project-type="software" data-upload-limit="62914560" data-thumbnails-allowed="false"></div>
               </div>
              </div>
              <div id="attachmentmodule" class="module toggle-wrap">
               <div id="attachmentmodule_heading" class="mod-header">
                <ul class="ops">
                 <li class="drop">
                  <div class="aui-dd-parent">
                   <a href="#" class="icon drop-menu js-default-dropdown" title="Options"><span>Options</span></a>
                   <div class="aui-dropdown-content aui-list">
                    <ul id="attachment-sorting-options" class="aui-list-section aui-first">
                     <li class="aui-list-item"><a id="attachment-sort-key-name" href="/jira/browse/SOLR-11003?attachmentSortBy=fileName#attachmentmodule" class="aui-list-checked aui-checked aui-list-item-link" title="viewissue.subtasks.tab.show.all.name"><span>Sort By Name</span></a></li>
                     <li class="aui-list-item"><a id="attachment-sort-key-date" href="/jira/browse/SOLR-11003?attachmentSortBy=dateTime#attachmentmodule" class="aui-list-checked aui-list-item-link" title="Sort By Date"><span>Sort By Date</span></a></li>
                    </ul>
                    <ul id="attachment-sorting-order-options" class="aui-list-section aui-last">
                     <li class="aui-list-item"><a id="attachment-sort-direction-asc" href="/jira/browse/SOLR-11003?attachmentOrder=asc#attachmentmodule" class="aui-list-checked aui-checked aui-list-item-link" title="Ascending"><span>Ascending</span></a></li>
                     <li class="aui-list-item"><a id="attachment-sort-direction-desc" href="/jira/browse/SOLR-11003?attachmentOrder=desc#attachmentmodule" class="aui-list-checked aui-list-item-link" title="Descending"><span>Descending</span></a></li>
                    </ul>
                   </div>
                  </div></li>
                </ul>
                <h2 class="toggle-title">Attachments</h2>
               </div>
               <div class="mod-content">
                <ol id="file_attachments" class="item-attachments" data-sort-key="fileName" data-sort-order="asc">
                 <li class="attachment-content js-file-attachment" data-attachment-id="12876130" data-issue-id="13084511" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12876130/sample-configs.zip" draggable="true" data-downloadurl="application/zip:sample-configs.zip:https://issues.apache.org/jira/secure/attachment/12876130/sample-configs.zip"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-zip" title="Zip Archive"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12876130/sample-configs.zip" title="Latest  07/Jul/17 19:41 - Amrit Sarkar" draggable="true" data-downloadurl="application/zip:sample-configs.zip:https://issues.apache.org/jira/secure/attachment/12876130/sample-configs.zip">sample-configs.zip</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2017-07-07T19:41:19.160Z">07/Jul/17 19:41</time>
                   </dd>
                   <dd class="attachment-size">
                    156 kB
                   </dd>
                   <dd class="attachment-author">
                    Amrit Sarkar
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12896000" data-issue-id="13084511" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12896000/SOLR-11003.patch" draggable="true" data-downloadurl="text/plain:SOLR-11003.patch:https://issues.apache.org/jira/secure/attachment/12896000/SOLR-11003.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12896000/SOLR-11003.patch" title="Latest  03/Nov/17 23:00 - Varun Thacker" draggable="true" data-downloadurl="text/plain:SOLR-11003.patch:https://issues.apache.org/jira/secure/attachment/12896000/SOLR-11003.patch">SOLR-11003.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2017-11-03T23:00:51.797Z">03/Nov/17 23:00</time>
                   </dd>
                   <dd class="attachment-size">
                    52 kB
                   </dd>
                   <dd class="attachment-author">
                    Varun Thacker
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12895071" data-issue-id="13084511" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12895071/SOLR-11003.patch" draggable="true" data-downloadurl="text/plain:SOLR-11003.patch:https://issues.apache.org/jira/secure/attachment/12895071/SOLR-11003.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12895071/SOLR-11003.patch" title=" 31/Oct/17 20:52 - Amrit Sarkar" draggable="true" data-downloadurl="text/plain:SOLR-11003.patch:https://issues.apache.org/jira/secure/attachment/12895071/SOLR-11003.patch">SOLR-11003.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2017-10-31T20:52:07.412Z">31/Oct/17 20:52</time>
                   </dd>
                   <dd class="attachment-size">
                    54 kB
                   </dd>
                   <dd class="attachment-author">
                    Amrit Sarkar
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12894929" data-issue-id="13084511" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12894929/SOLR-11003.patch" draggable="true" data-downloadurl="text/plain:SOLR-11003.patch:https://issues.apache.org/jira/secure/attachment/12894929/SOLR-11003.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12894929/SOLR-11003.patch" title=" 31/Oct/17 07:08 - Amrit Sarkar" draggable="true" data-downloadurl="text/plain:SOLR-11003.patch:https://issues.apache.org/jira/secure/attachment/12894929/SOLR-11003.patch">SOLR-11003.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2017-10-31T07:08:02.811Z">31/Oct/17 07:08</time>
                   </dd>
                   <dd class="attachment-size">
                    54 kB
                   </dd>
                   <dd class="attachment-author">
                    Amrit Sarkar
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12894756" data-issue-id="13084511" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12894756/SOLR-11003.patch" draggable="true" data-downloadurl="text/plain:SOLR-11003.patch:https://issues.apache.org/jira/secure/attachment/12894756/SOLR-11003.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12894756/SOLR-11003.patch" title=" 30/Oct/17 14:52 - Varun Thacker" draggable="true" data-downloadurl="text/plain:SOLR-11003.patch:https://issues.apache.org/jira/secure/attachment/12894756/SOLR-11003.patch">SOLR-11003.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2017-10-30T14:52:08.729Z">30/Oct/17 14:52</time>
                   </dd>
                   <dd class="attachment-size">
                    52 kB
                   </dd>
                   <dd class="attachment-author">
                    Varun Thacker
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12894590" data-issue-id="13084511" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12894590/SOLR-11003.patch" draggable="true" data-downloadurl="text/plain:SOLR-11003.patch:https://issues.apache.org/jira/secure/attachment/12894590/SOLR-11003.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12894590/SOLR-11003.patch" title=" 28/Oct/17 18:18 - Varun Thacker" draggable="true" data-downloadurl="text/plain:SOLR-11003.patch:https://issues.apache.org/jira/secure/attachment/12894590/SOLR-11003.patch">SOLR-11003.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2017-10-28T18:18:11.393Z">28/Oct/17 18:18</time>
                   </dd>
                   <dd class="attachment-size">
                    51 kB
                   </dd>
                   <dd class="attachment-author">
                    Varun Thacker
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12894382" data-issue-id="13084511" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12894382/SOLR-11003.patch" draggable="true" data-downloadurl="text/plain:SOLR-11003.patch:https://issues.apache.org/jira/secure/attachment/12894382/SOLR-11003.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12894382/SOLR-11003.patch" title=" 27/Oct/17 13:14 - Amrit Sarkar" draggable="true" data-downloadurl="text/plain:SOLR-11003.patch:https://issues.apache.org/jira/secure/attachment/12894382/SOLR-11003.patch">SOLR-11003.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2017-10-27T13:14:56.307Z">27/Oct/17 13:14</time>
                   </dd>
                   <dd class="attachment-size">
                    52 kB
                   </dd>
                   <dd class="attachment-author">
                    Amrit Sarkar
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12894372" data-issue-id="13084511" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12894372/SOLR-11003.patch" draggable="true" data-downloadurl="text/plain:SOLR-11003.patch:https://issues.apache.org/jira/secure/attachment/12894372/SOLR-11003.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12894372/SOLR-11003.patch" title=" 27/Oct/17 12:24 - Amrit Sarkar" draggable="true" data-downloadurl="text/plain:SOLR-11003.patch:https://issues.apache.org/jira/secure/attachment/12894372/SOLR-11003.patch">SOLR-11003.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2017-10-27T12:24:36.720Z">27/Oct/17 12:24</time>
                   </dd>
                   <dd class="attachment-size">
                    51 kB
                   </dd>
                   <dd class="attachment-author">
                    Amrit Sarkar
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12888557" data-issue-id="13084511" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12888557/SOLR-11003.patch" draggable="true" data-downloadurl="text/plain:SOLR-11003.patch:https://issues.apache.org/jira/secure/attachment/12888557/SOLR-11003.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12888557/SOLR-11003.patch" title=" 22/Sep/17 20:09 - Amrit Sarkar" draggable="true" data-downloadurl="text/plain:SOLR-11003.patch:https://issues.apache.org/jira/secure/attachment/12888557/SOLR-11003.patch">SOLR-11003.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2017-09-22T20:09:33.646Z">22/Sep/17 20:09</time>
                   </dd>
                   <dd class="attachment-size">
                    35 kB
                   </dd>
                   <dd class="attachment-author">
                    Amrit Sarkar
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12884051" data-issue-id="13084511" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12884051/SOLR-11003.patch" draggable="true" data-downloadurl="text/plain:SOLR-11003.patch:https://issues.apache.org/jira/secure/attachment/12884051/SOLR-11003.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12884051/SOLR-11003.patch" title=" 28/Aug/17 13:46 - Amrit Sarkar" draggable="true" data-downloadurl="text/plain:SOLR-11003.patch:https://issues.apache.org/jira/secure/attachment/12884051/SOLR-11003.patch">SOLR-11003.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2017-08-28T13:46:32.347Z">28/Aug/17 13:46</time>
                   </dd>
                   <dd class="attachment-size">
                    44 kB
                   </dd>
                   <dd class="attachment-author">
                    Amrit Sarkar
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12884050" data-issue-id="13084511" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12884050/SOLR-11003.patch" draggable="true" data-downloadurl="text/plain:SOLR-11003.patch:https://issues.apache.org/jira/secure/attachment/12884050/SOLR-11003.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12884050/SOLR-11003.patch" title=" 28/Aug/17 13:30 - Amrit Sarkar" draggable="true" data-downloadurl="text/plain:SOLR-11003.patch:https://issues.apache.org/jira/secure/attachment/12884050/SOLR-11003.patch">SOLR-11003.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2017-08-28T13:30:59.289Z">28/Aug/17 13:30</time>
                   </dd>
                   <dd class="attachment-size">
                    44 kB
                   </dd>
                   <dd class="attachment-author">
                    Amrit Sarkar
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12884037" data-issue-id="13084511" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12884037/SOLR-11003.patch" draggable="true" data-downloadurl="text/plain:SOLR-11003.patch:https://issues.apache.org/jira/secure/attachment/12884037/SOLR-11003.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12884037/SOLR-11003.patch" title=" 28/Aug/17 12:20 - Amrit Sarkar" draggable="true" data-downloadurl="text/plain:SOLR-11003.patch:https://issues.apache.org/jira/secure/attachment/12884037/SOLR-11003.patch">SOLR-11003.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2017-08-28T12:20:51.471Z">28/Aug/17 12:20</time>
                   </dd>
                   <dd class="attachment-size">
                    44 kB
                   </dd>
                   <dd class="attachment-author">
                    Amrit Sarkar
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12877311" data-issue-id="13084511" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12877311/SOLR-11003.patch" draggable="true" data-downloadurl="text/plain:SOLR-11003.patch:https://issues.apache.org/jira/secure/attachment/12877311/SOLR-11003.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12877311/SOLR-11003.patch" title=" 14/Jul/17 14:24 - Amrit Sarkar" draggable="true" data-downloadurl="text/plain:SOLR-11003.patch:https://issues.apache.org/jira/secure/attachment/12877311/SOLR-11003.patch">SOLR-11003.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2017-07-14T14:24:35.717Z">14/Jul/17 14:24</time>
                   </dd>
                   <dd class="attachment-size">
                    44 kB
                   </dd>
                   <dd class="attachment-author">
                    Amrit Sarkar
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment earlier-version" data-attachment-id="12876245" data-issue-id="13084511" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12876245/SOLR-11003.patch" draggable="true" data-downloadurl="text/plain:SOLR-11003.patch:https://issues.apache.org/jira/secure/attachment/12876245/SOLR-11003.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12876245/SOLR-11003.patch" title=" 08/Jul/17 15:24 - Amrit Sarkar" draggable="true" data-downloadurl="text/plain:SOLR-11003.patch:https://issues.apache.org/jira/secure/attachment/12876245/SOLR-11003.patch">SOLR-11003.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2017-07-08T15:24:20.397Z">08/Jul/17 15:24</time>
                   </dd>
                   <dd class="attachment-size">
                    35 kB
                   </dd>
                   <dd class="attachment-author">
                    Amrit Sarkar
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12876260" data-issue-id="13084511" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12876260/SOLR-11003-tlogutils.patch" draggable="true" data-downloadurl="text/plain:SOLR-11003-tlogutils.patch:https://issues.apache.org/jira/secure/attachment/12876260/SOLR-11003-tlogutils.patch"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-file-txt" title="Text File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12876260/SOLR-11003-tlogutils.patch" title="Latest  08/Jul/17 18:06 - Amrit Sarkar" draggable="true" data-downloadurl="text/plain:SOLR-11003-tlogutils.patch:https://issues.apache.org/jira/secure/attachment/12876260/SOLR-11003-tlogutils.patch">SOLR-11003-tlogutils.patch</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2017-07-08T18:06:34.543Z">08/Jul/17 18:06</time>
                   </dd>
                   <dd class="attachment-size">
                    44 kB
                   </dd>
                   <dd class="attachment-author">
                    Amrit Sarkar
                   </dd>
                  </dl></li>
                </ol>
               </div>
              </div>
              <div id="linkingmodule" class="module toggle-wrap">
               <div id="linkingmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Issue Links</h2>
               </div>
               <div class="mod-content"> 
                <div class="links-container" data-default-link-icon="/jira/images/icons/generic_link_16.png"> 
                 <dl class="links-list "> 
                  <dt title="incorporates">
                   incorporates
                  </dt> 
                  <dd id="internal-13105633_12310010"> 
                   <div class="link-content"> 
                    <p> <img src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype" width="16" height="16" title="Bug - A problem which impairs or prevents the functions of the product." alt="Bug - A problem which impairs or prevents the functions of the product."> <span title="SOLR-11412: Documentation changes for SOLR-11003: Bi-directional CDCR support"> <a href="/jira/browse/SOLR-11412" data-issue-key="SOLR-11412" class="issue-link link-title resolution">SOLR-11412</a> <span class="link-summary">Documentation changes for SOLR-11003: Bi-directional CDCR support</span> </span> </p> 
                    <ul class="link-snapshot"> 
                     <li class="priority"> <img src="/jira/images/icons/priorities/major.svg" width="16" height="16" title="Major - Major loss of function." alt="Major - Major loss of function."> </li> 
                     <li class="status"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done aui-lozenge-subtle jira-issue-status-lozenge-max-width-short" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </li> 
                    </ul> 
                   </div> 
                  </dd> 
                 </dl> 
                </div> 
               </div>
              </div>
              <div id="activitymodule" class="module toggle-wrap">
               <div id="activitymodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Activity</h2>
               </div>
               <div class="mod-content"> 
                <big-pipe data-id="activity-panel-pipe-id" style="height: 70px"> 
                 <div></div> 
                </big-pipe> 
               </div>
              </div>
             </div>
             <div id="viewissuesidebar" class="aui-item issue-side-column">
              <div id="peoplemodule" class="module toggle-wrap">
               <div id="peoplemodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">People</h2>
               </div>
               <div class="mod-content"> 
                <ul class="item-details" id="peopledetails"> 
                 <li class="people-details"> 
                  <dl> 
                   <dt>
                    Assignee:
                   </dt> 
                   <dd> 
                    <span id="assignee-val" class="view-issue-field"> <span class="user-hover" id="issue_summary_assignee_varunthacker" rel="varunthacker" data-user="{&quot;avatarUrl&quot;:&quot;https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10452&quot;,&quot;displayName&quot;:&quot;Varun Thacker&quot;,&quot;emailAddress&quot;:&quot;varun@apache.org&quot;,&quot;username&quot;:&quot;varunthacker&quot;}"> <span class="aui-avatar aui-avatar-small"><span class="aui-avatar-inner"><img src="https://issues.apache.org/jira/secure/useravatar?size=small&amp;avatarId=10452" alt="varunthacker"></span></span> Varun Thacker </span> </span> 
                   </dd> 
                  </dl> 
                  <dl> 
                   <dt>
                    Reporter:
                   </dt> 
                   <dd> 
                    <span id="reporter-val" class="view-issue-field"> <span class="user-hover" id="issue_summary_reporter_sarkaramrit2@gmail.com" rel="sarkaramrit2@gmail.com" data-user="{&quot;avatarUrl&quot;:&quot;https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10452&quot;,&quot;displayName&quot;:&quot;Amrit Sarkar&quot;,&quot;emailAddress&quot;:&quot;sarkaramrit2@gmail.com&quot;,&quot;username&quot;:&quot;sarkaramrit2@gmail.com&quot;}"> <span class="aui-avatar aui-avatar-small"><span class="aui-avatar-inner"><img src="https://issues.apache.org/jira/secure/useravatar?size=small&amp;avatarId=10452" alt="sarkaramrit2@gmail.com"></span></span> Amrit Sarkar </span> </span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
                <ul class="item-details"> 
                 <li> 
                  <dl> 
                   <dt>
                    Votes:
                   </dt> 
                   <dd> 
                    <span id="vote-data" class="aui-badge vote-state-off">1</span> 
                    <span id="vote-label" title="You have to be logged in to vote for an issue.">Vote for this issue</span> 
                   </dd> 
                  </dl> 
                  <dl> 
                   <dt>
                    Watchers:
                   </dt> 
                   <dd> 
                    <span id="watcher-data" class="aui-badge watch-state-off">9</span> 
                    <span id="watch-label" title="You have to be logged in to watch an issue.">Start watching this issue</span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
               </div>
              </div>
              <div id="datesmodule" class="module toggle-wrap">
               <div id="datesmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Dates</h2>
               </div>
               <div class="mod-content"> 
                <ul class="item-details"> 
                 <li> 
                  <dl class="dates"> 
                   <dt>
                    Created:
                   </dt> 
                   <dd class="date user-tz" title="04/Jul/17 11:23"> 
                    <span data-name="Created" id="created-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2017-07-04T11:23:45+0000">04/Jul/17 11:23</time> </span> 
                   </dd> 
                  </dl> 
                  <dl class="dates"> 
                   <dt>
                    Updated:
                   </dt> 
                   <dd class="date user-tz" title="22/Dec/17 08:31"> 
                    <span data-name="Updated" id="updated-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2017-12-22T08:31:30+0000">22/Dec/17 08:31</time> </span> 
                   </dd> 
                  </dl> 
                  <dl class="dates"> 
                   <dt>
                    Resolved:
                   </dt> 
                   <dd class="date user-tz" title="06/Nov/17 16:16"> 
                    <span data-name="Resolved" id="resolutiondate-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2017-11-06T16:16:38+0000">06/Nov/17 16:16</time> </span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
               </div>
              </div>
             </div>
            </div>
           </div>
          </div>
         </div>
        </div>
       </div>
      </div>
     </div>
     <!-- .aui-page-panel-inner -->
    </div>
    <!-- .aui-page-panel -->
    <div class="issue-navigator-init"></div> 
   </section> 
   <footer id="footer" role="contentinfo"> 
    <section class="footer-body"> 
     <ul class="atlassian-footer"> 
      <li> Atlassian JIRA <a class="seo-link" rel="nofollow" href="https://www.atlassian.com/software/jira">Project Management Software</a> <span id="footer-build-information">(v7.6.3#76005-<span title="8a4e38d34af948780dbf52044e7aafb13a7cae58" data-commit-id="8a4e38d34af948780dbf52044e7aafb13a7cae58}">sha1:8a4e38d</span>)</span> </li> 
      <li> <a id="about-link" rel="nofollow" href="/jira/secure/AboutPage.jspa/secure/AboutPage.jspa">About JIRA</a> </li> 
      <li> <a id="footer-report-problem-link" rel="nofollow" href="/jira/secure/CreateIssue!default.jspa">Report a problem</a> </li> 
     </ul> 
     <ul class="atlassian-footer"> 
      <li class="licensemessage"> Powered by a free Atlassian <a rel="nofollow" href="http://www.atlassian.com/software/jira">JIRA</a> open source license for n/a, Apache Software Foundation. Try JIRA - <a rel="nofollow" href="http://www.atlassian.com/software/jira">bug tracking software</a> for <i>your</i> team. </li> 
     </ul> 
     <div id="footer-logo">
      <a rel="nofollow" href="http://www.atlassian.com/">Atlassian</a>
     </div> 
    </section> 
    <fieldset class="hidden parameters"> 
     <input type="hidden" title="loggedInUser" value=""> 
     <input type="hidden" title="ajaxTimeout" value="The call to the JIRA server did not complete within the timeout period.  We are unsure of the result of this operation."> 
     <input type="hidden" title="JiraVersion" value="7.6.3"> 
     <input type="hidden" title="ajaxUnauthorised" value="You are not authorised to perform this operation. Please log in."> 
     <input type="hidden" title="baseURL" value="https://issues.apache.org/jira"> 
     <input type="hidden" title="ajaxCommsError" value="The JIRA server could not be contacted. This may be a temporary glitch or the server may be down. "> 
     <input type="hidden" title="ajaxServerError" value="The JIRA server was contacted but has returned an error response. We are unsure of the result of this operation."> 
     <input type="hidden" title="ajaxErrorCloseDialog" value="Close this dialog and press refresh in your browser"> 
     <input type="hidden" title="ajaxErrorDialogHeading" value="Communications Breakdown"> 
     <input type="hidden" title="dirtyMessage" value="You have entered new data on this page. If you navigate away from this page without first saving your data, the changes will be lost."> 
     <input type="hidden" title="dirtyDialogMessage" value="You have entered new data in this dialog. If you navigate away from this dialog without first saving your data, the changes will be lost. Click cancel to return to the dialog."> 
     <input type="hidden" title="keyType" value="Type"> 
     <input type="hidden" title="keyThen" value="then"> 
     <input type="hidden" title="dblClickToExpand" value="Double click to expand"> 
     <input type="hidden" title="actions" value="Actions"> 
     <input type="hidden" title="removeItem" value="Remove"> 
     <input type="hidden" title="workflow" value="Workflow"> 
     <input type="hidden" title="labelNew" value="New Label"> 
     <input type="hidden" title="issueActionsHint" value="Begin typing for available operations or press down to see all"> 
     <input type="hidden" title="closelink" value="Close"> 
     <input type="hidden" title="dotOperations" value="Operations"> 
     <input type="hidden" title="dotLoading" value="Loading..."> 
     <input type="hidden" title="frotherSuggestions" value="Suggestions"> 
     <input type="hidden" title="frotherNomatches" value="No Matches"> 
     <input type="hidden" title="multiselectVersionsError" value="{0} is not a valid version."> 
     <input type="hidden" title="multiselectComponentsError" value="{0} is not a valid component."> 
     <input type="hidden" title="multiselectGenericError" value="The value {0} is invalid."> 
    </fieldset> 
   </footer> 
  </div> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:bigpipe-js/jira.webresources:bigpipe-js.js" data-wrm-key="jira.webresources:bigpipe-js" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["activity-panel-pipe-id"]="\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n    \u003cdiv class=\\\"tabwrap tabs2\\\"\u003e\\n\\n        \u003cul id=\\\"issue-tabs\\\" class=\\\"tabs horizontal\\\"\u003e\\n                                \\n            \u003cli  data-id=\\\"all-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\" data-label=\\\"All\\\" data-href=\\\"\\/jira\\/browse\\/SOLR-11003?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"all-tabpanel\\\" href=\\\"\\/jira\\/browse\\/SOLR-11003?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\"\u003e\u003cstrong\u003eAll\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  class=\\\"active\\\" id=\\\"comment-tabpanel\\\"  data-id=\\\"comment-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel\\\" data-label=\\\"Comments\\\" data-href=\\\"\\/jira\\/browse\\/SOLR-11003?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel\\\"\u003e\\n                            \u003cstrong tabindex=\\\"0\\\"\u003eComments\u003c\\/strong\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"worklog-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\" data-label=\\\"Work Log\\\" data-href=\\\"\\/jira\\/browse\\/SOLR-11003?page=com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"worklog-tabpanel\\\" href=\\\"\\/jira\\/browse\\/SOLR-11003?page=com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\"\u003e\u003cstrong\u003eWork Log\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"changehistory-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\" data-label=\\\"History\\\" data-href=\\\"\\/jira\\/browse\\/SOLR-11003?page=com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"changehistory-tabpanel\\\" href=\\\"\\/jira\\/browse\\/SOLR-11003?page=com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\"\u003e\u003cstrong\u003eHistory\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"activity-stream-issue-tab\\\" data-key=\\\"com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\" data-label=\\\"Activity\\\" data-href=\\\"\\/jira\\/browse\\/SOLR-11003?page=com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"activity-stream-issue-tab\\\" href=\\\"\\/jira\\/browse\\/SOLR-11003?page=com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\"\u003e\u003cstrong\u003eActivity\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"transitions-summary-tabpanel\\\" data-key=\\\"com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\" data-label=\\\"Transitions\\\" data-href=\\\"\\/jira\\/browse\\/SOLR-11003?page=com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"transitions-summary-tabpanel\\\" href=\\\"\\/jira\\/browse\\/SOLR-11003?page=com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\"\u003e\u003cstrong\u003eTransitions\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                \u003c\\/ul\u003e\\n\\n                    \u003cdiv class=\\\"sortwrap\\\"\u003e\\n                                    \u003ca class=\\\"issue-activity-sort-link ajax-activity-content\\\" rel=\\\"nofollow\\\" data-tab-sort data-order=\\\"desc\\\" href=\\\"\\/jira\\/browse\\/SOLR-11003?actionOrder=desc\\\" title=\\\"Ascending order - Click to sort in descending order\\\"\u003e\\n                        \u003cspan class=\\\"aui-icon aui-icon-small aui-iconfont-up\\\"\u003eAscending order - Click to sort in descending order\u003c\\/span\u003e\\n                    \u003c\\/a\u003e\\n                            \u003c\\/div\u003e\\n            \u003c\\/div\u003e\\n    \u003cdiv class=\\\"issuePanelWrapper\\\"\u003e\\n        \u003cdiv class=\\\"issuePanelProgress\\\"\u003e\u003c\\/div\u003e\\n        \u003cdiv class=\\\"issuePanelContainer\\\" id=\\\"issue_actions_container\\\"\u003e\\n                                    \\n\\n\\n\u003cdiv id=\\\"comment-16073572\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-11003?focusedCommentId=16073572&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16073572\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16073572_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16073572_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Jul\\/17 12:23\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-07-04T12:23:17+0000\'\u003e04\\/Jul\\/17 12:23\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003e\u003cb\u003eProposed design =&gt;\u003c\\/b\u003e\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003cb\u003eConfiguration:\u003c\\/b\u003e\u003c\\/p\u003e\\n\\n\u003cp\u003eConfigure both collections as source and point to their targets. Sample configurations listed below:\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003cem\u003eCluster2:\u003c\\/em\u003e\u003c\\/p\u003e\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e&lt;requestHandler name=\u003cspan class=\\\"code-quote\\\"\u003e\\\"\\/cdcr\\\"\u003c\\/span\u003e class=\u003cspan class=\\\"code-quote\\\"\u003e\\\"solr.CdcrRequestHandler\\\"\u003c\\/span\u003e&gt;\\n    &lt;lst name=\u003cspan class=\\\"code-quote\\\"\u003e\\\"replica\\\"\u003c\\/span\u003e&gt;\\n      &lt;str name=\u003cspan class=\\\"code-quote\\\"\u003e\\\"zkHost\\\"\u003c\\/span\u003e&gt;${cdcr.cluster1.zkHost}&lt;\\/str&gt;\\n      &lt;str name=\u003cspan class=\\\"code-quote\\\"\u003e\\\"source\\\"\u003c\\/span\u003e&gt;cdcr-cluster2&lt;\\/str&gt;\\n      &lt;str name=\u003cspan class=\\\"code-quote\\\"\u003e\\\"target\\\"\u003c\\/span\u003e&gt;cdcr-cluster1&lt;\\/str&gt;\\n    &lt;\\/lst&gt;\\n    &lt;lst name=\u003cspan class=\\\"code-quote\\\"\u003e\\\"replicator\\\"\u003c\\/span\u003e&gt;\\n      &lt;str name=\u003cspan class=\\\"code-quote\\\"\u003e\\\"threadPoolSize\\\"\u003c\\/span\u003e&gt;1&lt;\\/str&gt;\\n      &lt;str name=\u003cspan class=\\\"code-quote\\\"\u003e\\\"schedule\\\"\u003c\\/span\u003e&gt;1000&lt;\\/str&gt;\\n      &lt;str name=\u003cspan class=\\\"code-quote\\\"\u003e\\\"batchSize\\\"\u003c\\/span\u003e&gt;1000&lt;\\/str&gt;\\n    &lt;\\/lst&gt;\\n    &lt;lst name=\u003cspan class=\\\"code-quote\\\"\u003e\\\"updateLogSynchronizer\\\"\u003c\\/span\u003e&gt;\\n      &lt;str name=\u003cspan class=\\\"code-quote\\\"\u003e\\\"schedule\\\"\u003c\\/span\u003e&gt;1000&lt;\\/str&gt;\\n    &lt;\\/lst&gt;\\n  &lt;\\/requestHandler&gt;\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003e\u003cem\u003eCluster1:\u003c\\/em\u003e\u003c\\/p\u003e\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e  &lt;requestHandler name=\u003cspan class=\\\"code-quote\\\"\u003e\\\"\\/cdcr\\\"\u003c\\/span\u003e class=\u003cspan class=\\\"code-quote\\\"\u003e\\\"solr.CdcrRequestHandler\\\"\u003c\\/span\u003e&gt;\\n    &lt;lst name=\u003cspan class=\\\"code-quote\\\"\u003e\\\"replica\\\"\u003c\\/span\u003e&gt;\\n      &lt;str name=\u003cspan class=\\\"code-quote\\\"\u003e\\\"zkHost\\\"\u003c\\/span\u003e&gt;${cdcr.cluster2.zkHost}&lt;\\/str&gt;\\n      &lt;str name=\u003cspan class=\\\"code-quote\\\"\u003e\\\"source\\\"\u003c\\/span\u003e&gt;cdcr-cluster1&lt;\\/str&gt;\\n      &lt;str name=\u003cspan class=\\\"code-quote\\\"\u003e\\\"target\\\"\u003c\\/span\u003e&gt;cdcr-cluster2&lt;\\/str&gt;\\n    &lt;\\/lst&gt;\\n    &lt;lst name=\u003cspan class=\\\"code-quote\\\"\u003e\\\"replicator\\\"\u003c\\/span\u003e&gt;\\n      &lt;str name=\u003cspan class=\\\"code-quote\\\"\u003e\\\"threadPoolSize\\\"\u003c\\/span\u003e&gt;1&lt;\\/str&gt;\\n      &lt;str name=\u003cspan class=\\\"code-quote\\\"\u003e\\\"schedule\\\"\u003c\\/span\u003e&gt;1000&lt;\\/str&gt;\\n      &lt;str name=\u003cspan class=\\\"code-quote\\\"\u003e\\\"batchSize\\\"\u003c\\/span\u003e&gt;1000&lt;\\/str&gt;\\n    &lt;\\/lst&gt;\\n    &lt;lst name=\u003cspan class=\\\"code-quote\\\"\u003e\\\"updateLogSynchronizer\\\"\u003c\\/span\u003e&gt;\\n      &lt;str name=\u003cspan class=\\\"code-quote\\\"\u003e\\\"schedule\\\"\u003c\\/span\u003e&gt;1000&lt;\\/str&gt;\\n    &lt;\\/lst&gt;\\n  &lt;\\/requestHandler&gt;\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003e\u003cb\u003eReplication Improvement:\u003c\\/b\u003e\u003c\\/p\u003e\\n\\n\u003cp\u003eCdcrReplicator replays the tlogs, creates new UpdateRequests and forwards them to target collection. \u003cb\u003eThe plan is to persist information in the tlogs\' each update entries telling the collection this update is received as a CDCR forward and it should be not be forwarded further.\u003c\\/b\u003e\u003c\\/p\u003e\\n\\n\u003cp\u003eEach CDCR update forward contains the param key \\\"cdcr.update\\\" and value empty. Once the target collection received that particular update, before writing it down to transaction log, we check whether the UpdateCommand -&gt; SolrRequest -&gt; contains params key \\\"cdcr.update\\\", if there is, apart from the entries listed for each update, we add a flag, say isCdcr. \\\"true\\\" and write it to tlog. When CdcrReplicator reads updates from the tlog, and if the flag is present \\/ set, skip that update for forwarding and read next.\u003c\\/p\u003e\\n\\n\u003cp\u003eWe had to be very careful of where to put the flag so that we don\'t break the backward compatibility and hence we added at the last index for DELETE and DELETEBYQUERY while second last index for ADD. Reason listed below.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16073572_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16073572_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Jul\\/17 12:23\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-07-04T12:23:17+0000\'\u003e04\\/Jul\\/17 12:23\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     Proposed design =&gt;  \\n\\n  Configuration:  \\n\\n Configure both collections as source and point to their targets. Sample configurations listed below: \\n\\n  Cluster2:  \\n  \\n &lt;requestHandler name= \\\"\\/cdcr\\\"  class= \\\"solr.CdcrRequestHandler\\\" &gt;\\n    &lt;lst name= \\\"replica\\\" &gt;\\n      &lt;str name= \\\"zkHost\\\" &gt;${cdcr.cluster1.zkHost}&lt;\\/str&gt;\\n      &lt;str name= \\\"source\\\" &gt;cdcr-cluster2&lt;\\/str&gt;\\n      &lt;str name= \\\"target\\\" &gt;cdcr-cluster1&lt;\\/str&gt;\\n    &lt;\\/lst&gt;\\n    &lt;lst name= \\\"replicator\\\" &gt;\\n      &lt;str name= \\\"threadPoolSize\\\" &gt;1&lt;\\/str&gt;\\n      &lt;str name= \\\"schedule\\\" &gt;1000&lt;\\/str&gt;\\n      &lt;str name= \\\"batchSize\\\" &gt;1000&lt;\\/str&gt;\\n    &lt;\\/lst&gt;\\n    &lt;lst name= \\\"updateLogSynchronizer\\\" &gt;\\n      &lt;str name= \\\"schedule\\\" &gt;1000&lt;\\/str&gt;\\n    &lt;\\/lst&gt;\\n  &lt;\\/requestHandler&gt;\\n \\n  \\n\\n  Cluster1:  \\n  \\n   &lt;requestHandler name= \\\"\\/cdcr\\\"  class= \\\"solr.CdcrRequestHandler\\\" &gt;\\n    &lt;lst name= \\\"replica\\\" &gt;\\n      &lt;str name= \\\"zkHost\\\" &gt;${cdcr.cluster2.zkHost}&lt;\\/str&gt;\\n      &lt;str name= \\\"source\\\" &gt;cdcr-cluster1&lt;\\/str&gt;\\n      &lt;str name= \\\"target\\\" &gt;cdcr-cluster2&lt;\\/str&gt;\\n    &lt;\\/lst&gt;\\n    &lt;lst name= \\\"replicator\\\" &gt;\\n      &lt;str name= \\\"threadPoolSize\\\" &gt;1&lt;\\/str&gt;\\n      &lt;str name= \\\"schedule\\\" &gt;1000&lt;\\/str&gt;\\n      &lt;str name= \\\"batchSize\\\" &gt;1000&lt;\\/str&gt;\\n    &lt;\\/lst&gt;\\n    &lt;lst name= \\\"updateLogSynchronizer\\\" &gt;\\n      &lt;str name= \\\"schedule\\\" &gt;1000&lt;\\/str&gt;\\n    &lt;\\/lst&gt;\\n  &lt;\\/requestHandler&gt;\\n \\n  \\n\\n  Replication Improvement:  \\n\\n CdcrReplicator replays the tlogs, creates new UpdateRequests and forwards them to target collection.  The plan is to persist information in the tlogs\' each update entries telling the collection this update is received as a CDCR forward and it should be not be forwarded further.  \\n\\n Each CDCR update forward contains the param key \\\"cdcr.update\\\" and value empty. Once the target collection received that particular update, before writing it down to transaction log, we check whether the UpdateCommand -&gt; SolrRequest -&gt; contains params key \\\"cdcr.update\\\", if there is, apart from the entries listed for each update, we add a flag, say isCdcr. \\\"true\\\" and write it to tlog. When CdcrReplicator reads updates from the tlog, and if the flag is present \\/ set, skip that update for forwarding and read next. \\n\\n We had to be very careful of where to put the flag so that we don\'t break the backward compatibility and hence we added at the last index for DELETE and DELETEBYQUERY while second last index for ADD. Reason listed below.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-16073575\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-11003?focusedCommentId=16073575&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16073575\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16073575_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16073575_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Jul\\/17 12:26\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-07-04T12:26:57+0000\'\u003e04\\/Jul\\/17 12:26\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Amrit Sarkar - 04\\/Jul\\/17 12:27\\\"\u003eedited\u003c\\/span\u003e \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eBackward-compat::\u003c\\/p\u003e\\n\\n\u003cp\u003etlogs entries index are definite for each operation: identifier(0) and version(1) common to all.\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003cb\u003eDELETE:\u003c\\/b\u003e\u003cbr\\/\u003e\\nidentifier: delete\u003cbr\\/\u003e\\nupdate version\u003cbr\\/\u003e\\npayload\u003c\\/p\u003e\\n\\n\u003cp\u003eif you see UpdateLog: doReplay: 1801\u003c\\/p\u003e\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e\u003cspan class=\\\"code-keyword\\\"\u003ecase\u003c\\/span\u003e UpdateLog.DELETE: {\\n                recoveryInfo.deletes++;\\n                \u003cspan class=\\\"code-object\\\"\u003ebyte\u003c\\/span\u003e[] idBytes = (\u003cspan class=\\\"code-object\\\"\u003ebyte\u003c\\/span\u003e[]) entry.get(2);\\n                DeleteUpdateCommand cmd = \u003cspan class=\\\"code-keyword\\\"\u003enew\u003c\\/span\u003e DeleteUpdateCommand(req);\\n                cmd.setIndexedId(\u003cspan class=\\\"code-keyword\\\"\u003enew\u003c\\/span\u003e BytesRef(idBytes));\\n                cmd.setVersion(version);\\n                cmd.setFlags(UpdateCommand.REPLAY | UpdateCommand.IGNORE_AUTOCOMMIT);\\n                \u003cspan class=\\\"code-keyword\\\"\u003eif\u003c\\/span\u003e (debug) log.debug(\u003cspan class=\\\"code-quote\\\"\u003e\\\"delete \\\"\u003c\\/span\u003e + cmd);\\n                proc.processDelete(cmd);\\n                \u003cspan class=\\\"code-keyword\\\"\u003ebreak\u003c\\/span\u003e;\\n              }\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\u003cp\u003ehardcoded, the position of payload(2) is hardcoded. See CdcrReplicator, same. So we can put anything on next index(3).\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003cb\u003eDELETE_BY_QUERY:\u003c\\/b\u003e\u003cbr\\/\u003e\\nDitto same!!\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003cb\u003eADD:\u003c\\/b\u003e\u003cbr\\/\u003e\\nindentifier: add or inplace\u003cbr\\/\u003e\\nversion\u003cbr\\/\u003e\\npayload\u003cbr\\/\u003e\\n\u003cb\u003eIN_PLACE_ADD:\u003c\\/b\u003e\u003cbr\\/\u003e\\nindentifier: add or inplace\u003cbr\\/\u003e\\nversion\u003cbr\\/\u003e\\nprevious pointer\u003cbr\\/\u003e\\nprevious version\u003cbr\\/\u003e\\npayload\u003c\\/p\u003e\\n\\n\u003cp\u003eUpdateLog:: 1916, since our current code handles both adds in one manner, it assumes the last index of the entries is our payload:\u003c\\/p\u003e\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e\u003cspan class=\\\"code-keyword\\\"\u003epublic\u003c\\/span\u003e \u003cspan class=\\\"code-keyword\\\"\u003estatic\u003c\\/span\u003e AddUpdateCommand convertTlogEntryToAddUpdateCommand(SolrQueryRequest req, List entry,\\n                                                                    \u003cspan class=\\\"code-object\\\"\u003eint\u003c\\/span\u003e operation, \u003cspan class=\\\"code-object\\\"\u003elong\u003c\\/span\u003e version) {\\n    \u003cspan class=\\\"code-keyword\\\"\u003eassert\u003c\\/span\u003e operation == UpdateLog.ADD || operation == UpdateLog.UPDATE_INPLACE;\\n    SolrInputDocument sdoc = (SolrInputDocument) entry.get(entry.size()-1);\\n    AddUpdateCommand cmd = \u003cspan class=\\\"code-keyword\\\"\u003enew\u003c\\/span\u003e AddUpdateCommand(req);\\n    cmd.solrDoc = sdoc;\\n    cmd.setVersion(version);\\n    \u003cspan class=\\\"code-keyword\\\"\u003eif\u003c\\/span\u003e (operation == UPDATE_INPLACE) {\\n      \u003cspan class=\\\"code-object\\\"\u003elong\u003c\\/span\u003e prevVersion = (\u003cspan class=\\\"code-object\\\"\u003eLong\u003c\\/span\u003e) entry.get(UpdateLog.PREV_VERSION_IDX);\\n      cmd.prevVersion = prevVersion;\\n    }\\n    \u003cspan class=\\\"code-keyword\\\"\u003ereturn\u003c\\/span\u003e cmd;\\n  }\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\u003cp\u003eSo our window of adding something is the index just before the last. entry.size - 2. Please see CdcrReplicator for the same.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16073575_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16073575_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Jul\\/17 12:26\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-07-04T12:26:57+0000\'\u003e04\\/Jul\\/17 12:26\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Amrit Sarkar - 04\\/Jul\\/17 12:27\\\"\u003eedited\u003c\\/span\u003e                   Backward-compat:: \\n\\n tlogs entries index are definite for each operation: identifier(0) and version(1) common to all. \\n\\n  DELETE:  \\nidentifier: delete \\nupdate version \\npayload \\n\\n if you see UpdateLog: doReplay: 1801 \\n  \\n  case  UpdateLog.DELETE: {\\n                recoveryInfo.deletes++;\\n                 byte [] idBytes = ( byte []) entry.get(2);\\n                DeleteUpdateCommand cmd =  new  DeleteUpdateCommand(req);\\n                cmd.setIndexedId( new  BytesRef(idBytes));\\n                cmd.setVersion(version);\\n                cmd.setFlags(UpdateCommand.REPLAY | UpdateCommand.IGNORE_AUTOCOMMIT);\\n                 if  (debug) log.debug( \\\"delete \\\"  + cmd);\\n                proc.processDelete(cmd);\\n                 break ;\\n              }\\n \\n  \\n hardcoded, the position of payload(2) is hardcoded. See CdcrReplicator, same. So we can put anything on next index(3). \\n\\n  DELETE_BY_QUERY:  \\nDitto same!! \\n\\n  ADD:  \\nindentifier: add or inplace \\nversion \\npayload \\n IN_PLACE_ADD:  \\nindentifier: add or inplace \\nversion \\nprevious pointer \\nprevious version \\npayload \\n\\n UpdateLog:: 1916, since our current code handles both adds in one manner, it assumes the last index of the entries is our payload: \\n  \\n  public   static  AddUpdateCommand convertTlogEntryToAddUpdateCommand(SolrQueryRequest req, List entry,\\n                                                                     int  operation,  long  version) {\\n     assert  operation == UpdateLog.ADD || operation == UpdateLog.UPDATE_INPLACE;\\n    SolrInputDocument sdoc = (SolrInputDocument) entry.get(entry.size()-1);\\n    AddUpdateCommand cmd =  new  AddUpdateCommand(req);\\n    cmd.solrDoc = sdoc;\\n    cmd.setVersion(version);\\n     if  (operation == UPDATE_INPLACE) {\\n       long  prevVersion = ( Long ) entry.get(UpdateLog.PREV_VERSION_IDX);\\n      cmd.prevVersion = prevVersion;\\n    }\\n     return  cmd;\\n  }\\n \\n  \\n So our window of adding something is the index just before the last. entry.size - 2. Please see CdcrReplicator for the same.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-16073586\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-11003?focusedCommentId=16073586&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16073586\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16073586_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16073586_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Jul\\/17 12:34\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-07-04T12:34:53+0000\'\u003e04\\/Jul\\/17 12:34\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003ePatch uploaded:\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e\\tmodified:   solr\\/core\\/src\\/java\\/org\\/apache\\/solr\\/handler\\/CdcrReplicator.java\\n\\tmodified:   solr\\/core\\/src\\/java\\/org\\/apache\\/solr\\/update\\/CdcrTransactionLog.java\\n\\tmodified:   solr\\/core\\/src\\/java\\/org\\/apache\\/solr\\/update\\/TransactionLog.java\\n\\t\u003cspan class=\\\"code-keyword\\\"\u003enew\u003c\\/span\u003e file:   solr\\/core\\/src\\/test-files\\/solr\\/configsets\\/cdcr-cluster1\\/conf\\/schema.xml\\n\\t\u003cspan class=\\\"code-keyword\\\"\u003enew\u003c\\/span\u003e file:   solr\\/core\\/src\\/test-files\\/solr\\/configsets\\/cdcr-cluster1\\/conf\\/solrconfig.xml\\n\\t\u003cspan class=\\\"code-keyword\\\"\u003enew\u003c\\/span\u003e file:   solr\\/core\\/src\\/test-files\\/solr\\/configsets\\/cdcr-cluster2\\/conf\\/schema.xml\\n\\t\u003cspan class=\\\"code-keyword\\\"\u003enew\u003c\\/span\u003e file:   solr\\/core\\/src\\/test-files\\/solr\\/configsets\\/cdcr-cluster2\\/conf\\/solrconfig.xml\\n\\t\u003cspan class=\\\"code-keyword\\\"\u003enew\u003c\\/span\u003e file:   solr\\/core\\/src\\/test\\/org\\/apache\\/solr\\/cloud\\/CdcrBidirectionalTest.java\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003eAdded testclass CdcrBidirectionalTest where two active clusters are talking to each other runtime.\u003c\\/p\u003e\\n\\n\u003cp\u003eThe write operations in TransactionLog are repeated in CdcrTransactionLog to accommodate the extra entry for each update. Repeated code! henceforth planning to have TLogCommonUtils \\/ UpdateLogCommonUtils to put the common code for both classes\' methods.\u003c\\/p\u003e\\n\\n\u003cp\u003eEagerly looking forward to feedback, suggestions and improvements.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16073586_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16073586_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'04\\/Jul\\/17 12:34\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-07-04T12:34:53+0000\'\u003e04\\/Jul\\/17 12:34\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Patch uploaded: \\n\\n  \\n \\tmodified:   solr\\/core\\/src\\/java\\/org\\/apache\\/solr\\/handler\\/CdcrReplicator.java\\n\\tmodified:   solr\\/core\\/src\\/java\\/org\\/apache\\/solr\\/update\\/CdcrTransactionLog.java\\n\\tmodified:   solr\\/core\\/src\\/java\\/org\\/apache\\/solr\\/update\\/TransactionLog.java\\n\\t new  file:   solr\\/core\\/src\\/test-files\\/solr\\/configsets\\/cdcr-cluster1\\/conf\\/schema.xml\\n\\t new  file:   solr\\/core\\/src\\/test-files\\/solr\\/configsets\\/cdcr-cluster1\\/conf\\/solrconfig.xml\\n\\t new  file:   solr\\/core\\/src\\/test-files\\/solr\\/configsets\\/cdcr-cluster2\\/conf\\/schema.xml\\n\\t new  file:   solr\\/core\\/src\\/test-files\\/solr\\/configsets\\/cdcr-cluster2\\/conf\\/solrconfig.xml\\n\\t new  file:   solr\\/core\\/src\\/test\\/org\\/apache\\/solr\\/cloud\\/CdcrBidirectionalTest.java\\n \\n  \\n\\n Added testclass CdcrBidirectionalTest where two active clusters are talking to each other runtime. \\n\\n The write operations in TransactionLog are repeated in CdcrTransactionLog to accommodate the extra entry for each update. Repeated code! henceforth planning to have TLogCommonUtils \\/ UpdateLogCommonUtils to put the common code for both classes\' methods. \\n\\n Eagerly looking forward to feedback, suggestions and improvements.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-16078861\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-11003?focusedCommentId=16078861&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16078861\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"varunthacker\\\" id=\\\"commentauthor_16078861_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=varunthacker\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"varunthacker\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Varun Thacker\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16078861_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Jul\\/17 00:20\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-07-08T00:20:20+0000\'\u003e08\\/Jul\\/17 00:20\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eHi Amrit,\u003c\\/p\u003e\\n\\n\u003cp\u003ePatch is looking good!\u003c\\/p\u003e\\n\\n\u003cp\u003eLet\'s add some code comments in CDCRTransactionLog and CDCRReplicator.\u003c\\/p\u003e\\n\\n\u003cp\u003eFor example, this change in CDCRTransactionLog is confusing till you look at CDCRReplicator#isTargetCluster \u003c\\/p\u003e\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e        \u003cspan class=\\\"code-keyword\\\"\u003eif\u003c\\/span\u003e (cmd.getReq().getParamString().contains(CdcrUpdateProcessor.CDCR_UPDATE)) {\\n          codec.writeTag(JavaBinCodec.ARR, 6);\\n        } \u003cspan class=\\\"code-keyword\\\"\u003eelse\u003c\\/span\u003e {\\n          codec.writeTag(JavaBinCodec.ARR, 5);\\n        }\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\\n\u003cp\u003eThe test has adds, deleteByid and deleteByQuery.  Can we also test for in place updates ( I didn\'t see a anything triggering that code path ) \u003cbr\\/\u003e\\nAlso it wouldn\'t hurt to add atomic updates to the test.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"varunthacker\\\" id=\\\"commentauthor_16078861_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=varunthacker\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"varunthacker\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Varun Thacker\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16078861_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Jul\\/17 00:20\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-07-08T00:20:20+0000\'\u003e08\\/Jul\\/17 00:20\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Hi Amrit, \\n\\n Patch is looking good! \\n\\n Let\'s add some code comments in CDCRTransactionLog and CDCRReplicator. \\n\\n For example, this change in CDCRTransactionLog is confusing till you look at CDCRReplicator#isTargetCluster  \\n  \\n          if  (cmd.getReq().getParamString().contains(CdcrUpdateProcessor.CDCR_UPDATE)) {\\n          codec.writeTag(JavaBinCodec.ARR, 6);\\n        }  else  {\\n          codec.writeTag(JavaBinCodec.ARR, 5);\\n        }\\n \\n  \\n\\n\\n The test has adds, deleteByid and deleteByQuery.  Can we also test for in place updates ( I didn\'t see a anything triggering that code path )  \\nAlso it wouldn\'t hurt to add atomic updates to the test.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-16078862\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-11003?focusedCommentId=16078862&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16078862\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"varunthacker\\\" id=\\\"commentauthor_16078862_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=varunthacker\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"varunthacker\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Varun Thacker\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16078862_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Jul\\/17 00:23\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-07-08T00:23:01+0000\'\u003e08\\/Jul\\/17 00:23\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=shalinmangar\\\" class=\\\"user-hover\\\" rel=\\\"shalinmangar\\\"\u003eShalin Shekhar Mangar\u003c\\/a\u003e \\/ \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=rendel\\\" class=\\\"user-hover\\\" rel=\\\"rendel\\\"\u003eRenaud Delbru\u003c\\/a\u003e curious to hear your feedback to the approach we are taking here. \u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"varunthacker\\\" id=\\\"commentauthor_16078862_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=varunthacker\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"varunthacker\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Varun Thacker\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16078862_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Jul\\/17 00:23\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-07-08T00:23:01+0000\'\u003e08\\/Jul\\/17 00:23\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     Shalin Shekhar Mangar  \\/  Renaud Delbru  curious to hear your feedback to the approach we are taking here.               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-16079183\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-11003?focusedCommentId=16079183&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16079183\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16079183_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16079183_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Jul\\/17 15:24\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-07-08T15:24:03+0000\'\u003e08\\/Jul\\/17 15:24\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=varunthacker\\\" class=\\\"user-hover\\\" rel=\\\"varunthacker\\\"\u003eVarun Thacker\u003c\\/a\u003e, thank you for the review and feedback,\u003c\\/p\u003e\\n\\n\u003cblockquote\u003e\\n\u003cp\u003e Can we also test for in place updates ( I didn\'t see a anything triggering that code path ) \u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\u003cp\u003eI think IN_PLACE updates are not forwarded to target clusters \\/ supported in CDCR, as those updates are not recognised in CDCRReplicator::processUpdate and are never forwarded. I still put the boolean flag in place for IN_PLACE updates for near future. I don\'t know the reason why it is excluded. See this:\u003c\\/p\u003e\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e  \u003cspan class=\\\"code-keyword\\\"\u003eprivate\u003c\\/span\u003e UpdateRequest processUpdate(\u003cspan class=\\\"code-object\\\"\u003eObject\u003c\\/span\u003e o, UpdateRequest req) {\\n    \u003cspan class=\\\"code-comment\\\"\u003e\\/\\/ should currently be a List&lt;Oper,Ver,Doc\\/Id&gt;\\n\u003c\\/span\u003e    List entry = (List) o;\\n\\n    \u003cspan class=\\\"code-object\\\"\u003eint\u003c\\/span\u003e operationAndFlags = (\u003cspan class=\\\"code-object\\\"\u003eInteger\u003c\\/span\u003e) entry.get(0);\\n    \u003cspan class=\\\"code-object\\\"\u003eint\u003c\\/span\u003e oper = operationAndFlags &amp; UpdateLog.OPERATION_MASK;\\n    \u003cspan class=\\\"code-object\\\"\u003elong\u003c\\/span\u003e version = (\u003cspan class=\\\"code-object\\\"\u003eLong\u003c\\/span\u003e) entry.get(1);\\n\\n    \u003cspan class=\\\"code-comment\\\"\u003e\\/\\/ record the operation in the benchmark timer\\n\u003c\\/span\u003e    state.getBenchmarkTimer().incrementCounter(oper);\\n\\n    \u003cspan class=\\\"code-keyword\\\"\u003eswitch\u003c\\/span\u003e (oper) {\\n      \u003cspan class=\\\"code-keyword\\\"\u003ecase\u003c\\/span\u003e UpdateLog.ADD: {\\n        \u003cspan class=\\\"code-comment\\\"\u003e\\/\\/ the version is already attached to the document\\n\u003c\\/span\u003e        SolrInputDocument sdoc = (SolrInputDocument) entry.get(entry.size() - 1);\\n        req.add(sdoc);\\n        \u003cspan class=\\\"code-keyword\\\"\u003ereturn\u003c\\/span\u003e req;\\n      }\\n      \u003cspan class=\\\"code-keyword\\\"\u003ecase\u003c\\/span\u003e UpdateLog.DELETE: {\\n        \u003cspan class=\\\"code-object\\\"\u003ebyte\u003c\\/span\u003e[] idBytes = (\u003cspan class=\\\"code-object\\\"\u003ebyte\u003c\\/span\u003e[]) entry.get(2);\\n        req.deleteById(\u003cspan class=\\\"code-keyword\\\"\u003enew\u003c\\/span\u003e \u003cspan class=\\\"code-object\\\"\u003eString\u003c\\/span\u003e(idBytes, Charset.forName(\u003cspan class=\\\"code-quote\\\"\u003e\\\"UTF-8\\\"\u003c\\/span\u003e)));\\n        req.setParam(VERSION_FIELD, \u003cspan class=\\\"code-object\\\"\u003eLong\u003c\\/span\u003e.toString(version));\\n        \u003cspan class=\\\"code-keyword\\\"\u003ereturn\u003c\\/span\u003e req;\\n      }\\n      \u003cspan class=\\\"code-keyword\\\"\u003ecase\u003c\\/span\u003e UpdateLog.DELETE_BY_QUERY: {\\n        \u003cspan class=\\\"code-object\\\"\u003eString\u003c\\/span\u003e query = (\u003cspan class=\\\"code-object\\\"\u003eString\u003c\\/span\u003e) entry.get(2);\\n        req.deleteByQuery(query);\\n        req.setParam(VERSION_FIELD, \u003cspan class=\\\"code-object\\\"\u003eLong\u003c\\/span\u003e.toString(version));\\n        \u003cspan class=\\\"code-keyword\\\"\u003ereturn\u003c\\/span\u003e req;\\n      }\\n      \u003cspan class=\\\"code-keyword\\\"\u003ecase\u003c\\/span\u003e UpdateLog.COMMIT: {\\n        \u003cspan class=\\\"code-keyword\\\"\u003ereturn\u003c\\/span\u003e \u003cspan class=\\\"code-keyword\\\"\u003enull\u003c\\/span\u003e;\\n      }\\n      \u003cspan class=\\\"code-keyword\\\"\u003edefault\u003c\\/span\u003e:\\n        \u003cspan class=\\\"code-keyword\\\"\u003ethrow\u003c\\/span\u003e \u003cspan class=\\\"code-keyword\\\"\u003enew\u003c\\/span\u003e SolrException(SolrException.ErrorCode.SERVER_ERROR, \u003cspan class=\\\"code-quote\\\"\u003e\\\"Unknown Operation! \\\"\u003c\\/span\u003e + oper);\\n    }\\n  }\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\u003cblockquote\u003e\\n\u003cp\u003eAlso it wouldn\'t hurt to add atomic updates to the test. Suitable comments.\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\u003cp\u003ePatch updated. \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-11003\\\" title=\\\"Enabling bi-directional CDCR on cluster for better failover\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-11003\\\"\u003e\u003cdel\u003eSOLR-11003\u003c\\/del\u003e\u003c\\/a\u003e.patch with the above recommendations.\u003c\\/p\u003e\\n\\n\u003cp\u003eAlso I have uploaded \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-11003\\\" title=\\\"Enabling bi-directional CDCR on cluster for better failover\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-11003\\\"\u003e\u003cdel\u003eSOLR-11003\u003c\\/del\u003e\u003c\\/a\u003e-tlogutils.patch (NOT TESTED 100%), where we are eliminating duplicate code and putting  the common in TLogCommonUtils. This solution is much cleaner and effective. I will update once I get \u003ctt\u003eant test\u003c\\/tt\u003e and \u003ctt\u003eant test -Dtests.nightly=true\u003c\\/tt\u003e run successfully for \u003ctt\u003esolr\u003c\\/tt\u003e sub-project.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16079183_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16079183_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Jul\\/17 15:24\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-07-08T15:24:03+0000\'\u003e08\\/Jul\\/17 15:24\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     Varun Thacker , thank you for the review and feedback, \\n\\n \\n  Can we also test for in place updates ( I didn\'t see a anything triggering that code path )   \\n I think IN_PLACE updates are not forwarded to target clusters \\/ supported in CDCR, as those updates are not recognised in CDCRReplicator::processUpdate and are never forwarded. I still put the boolean flag in place for IN_PLACE updates for near future. I don\'t know the reason why it is excluded. See this: \\n  \\n    private  UpdateRequest processUpdate( Object  o, UpdateRequest req) {\\n     \\/\\/ should currently be a List&lt;Oper,Ver,Doc\\/Id&gt;\\n     List entry = (List) o;\\n\\n     int  operationAndFlags = ( Integer ) entry.get(0);\\n     int  oper = operationAndFlags &amp; UpdateLog.OPERATION_MASK;\\n     long  version = ( Long ) entry.get(1);\\n\\n     \\/\\/ record the operation in the benchmark timer\\n     state.getBenchmarkTimer().incrementCounter(oper);\\n\\n     switch  (oper) {\\n       case  UpdateLog.ADD: {\\n         \\/\\/ the version is already attached to the document\\n         SolrInputDocument sdoc = (SolrInputDocument) entry.get(entry.size() - 1);\\n        req.add(sdoc);\\n         return  req;\\n      }\\n       case  UpdateLog.DELETE: {\\n         byte [] idBytes = ( byte []) entry.get(2);\\n        req.deleteById( new   String (idBytes, Charset.forName( \\\"UTF-8\\\" )));\\n        req.setParam(VERSION_FIELD,  Long .toString(version));\\n         return  req;\\n      }\\n       case  UpdateLog.DELETE_BY_QUERY: {\\n         String  query = ( String ) entry.get(2);\\n        req.deleteByQuery(query);\\n        req.setParam(VERSION_FIELD,  Long .toString(version));\\n         return  req;\\n      }\\n       case  UpdateLog.COMMIT: {\\n         return   null ;\\n      }\\n       default :\\n         throw   new  SolrException(SolrException.ErrorCode.SERVER_ERROR,  \\\"Unknown Operation! \\\"  + oper);\\n    }\\n  }\\n \\n  \\n \\n Also it wouldn\'t hurt to add atomic updates to the test. Suitable comments.  \\n Patch updated.   SOLR-11003  .patch with the above recommendations. \\n\\n Also I have uploaded   SOLR-11003  -tlogutils.patch (NOT TESTED 100%), where we are eliminating duplicate code and putting  the common in TLogCommonUtils. This solution is much cleaner and effective. I will update once I get  ant test  and  ant test -Dtests.nightly=true  run successfully for  solr  sub-project.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-16079185\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-11003?focusedCommentId=16079185&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16079185\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16079185_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16079185_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Jul\\/17 15:37\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-07-08T15:37:17+0000\'\u003e08\\/Jul\\/17 15:37\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Amrit Sarkar - 08\\/Jul\\/17 16:54\\\"\u003eedited\u003c\\/span\u003e \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eheads up :: CdcrBootstrapTest is failing due to missing index on both the patches, looking into it.\u003c\\/p\u003e\\n\\n\u003cp\u003eseems it is failing in the master branch anyway \u003cimg class=\\\"emoticon\\\" src=\\\"\\/jira\\/images\\/icons\\/emoticons\\/sad.png\\\" height=\\\"16\\\" width=\\\"16\\\" align=\\\"absmiddle\\\" alt=\\\"\\\" border=\\\"0\\\"\\/\u003e\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16079185_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16079185_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Jul\\/17 15:37\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-07-08T15:37:17+0000\'\u003e08\\/Jul\\/17 15:37\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Amrit Sarkar - 08\\/Jul\\/17 16:54\\\"\u003eedited\u003c\\/span\u003e                   heads up :: CdcrBootstrapTest is failing due to missing index on both the patches, looking into it. \\n\\n seems it is failing in the master branch anyway                \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-16079257\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-11003?focusedCommentId=16079257&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16079257\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16079257_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16079257_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Jul\\/17 18:06\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-07-08T18:06:36+0000\'\u003e08\\/Jul\\/17 18:06\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eFixed bits in \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-11003\\\" title=\\\"Enabling bi-directional CDCR on cluster for better failover\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-11003\\\"\u003e\u003cdel\u003eSOLR-11003\u003c\\/del\u003e\u003c\\/a\u003e-tlogutils.patch. Looking forward to the resolution of \u003ctt\u003eCdcrBootstrapTest\u003c\\/tt\u003e test failures and we can take forward \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-11003\\\" title=\\\"Enabling bi-directional CDCR on cluster for better failover\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-11003\\\"\u003e\u003cdel\u003eSOLR-11003\u003c\\/del\u003e\u003c\\/a\u003e-tlogutils.patch as the standard patch for this use-case.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16079257_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16079257_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Jul\\/17 18:06\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-07-08T18:06:36+0000\'\u003e08\\/Jul\\/17 18:06\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Fixed bits in   SOLR-11003  -tlogutils.patch. Looking forward to the resolution of  CdcrBootstrapTest  test failures and we can take forward   SOLR-11003  -tlogutils.patch as the standard patch for this use-case.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-16087384\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-11003?focusedCommentId=16087384&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16087384\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16087384_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16087384_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'14\\/Jul\\/17 14:26\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-07-14T14:26:16+0000\'\u003e14\\/Jul\\/17 14:26\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eLatest patch uploaded:\u003c\\/p\u003e\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e\\tmodified:   core\\/src\\/java\\/org\\/apache\\/solr\\/handler\\/CdcrReplicator.java\\n\\tmodified:   core\\/src\\/java\\/org\\/apache\\/solr\\/update\\/CdcrTransactionLog.java\\n\\t\u003cspan class=\\\"code-keyword\\\"\u003enew\u003c\\/span\u003e file:   core\\/src\\/java\\/org\\/apache\\/solr\\/update\\/TLogCommonUtils.java\\n\\tmodified:   core\\/src\\/java\\/org\\/apache\\/solr\\/update\\/TransactionLog.java\\n\\t\u003cspan class=\\\"code-keyword\\\"\u003enew\u003c\\/span\u003e file:   core\\/src\\/test-files\\/solr\\/configsets\\/cdcr-cluster1\\/conf\\/schema.xml\\n\\t\u003cspan class=\\\"code-keyword\\\"\u003enew\u003c\\/span\u003e file:   core\\/src\\/test-files\\/solr\\/configsets\\/cdcr-cluster1\\/conf\\/solrconfig.xml\\n\\t\u003cspan class=\\\"code-keyword\\\"\u003enew\u003c\\/span\u003e file:   core\\/src\\/test-files\\/solr\\/configsets\\/cdcr-cluster2\\/conf\\/schema.xml\\n\\t\u003cspan class=\\\"code-keyword\\\"\u003enew\u003c\\/span\u003e file:   core\\/src\\/test-files\\/solr\\/configsets\\/cdcr-cluster2\\/conf\\/solrconfig.xml\\n\\t\u003cspan class=\\\"code-keyword\\\"\u003enew\u003c\\/span\u003e file:   core\\/src\\/test\\/org\\/apache\\/solr\\/cloud\\/CdcrBidirectionalTest.java\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\u003cp\u003eTLogCommonUtils.java included contains common code of TLog and CdcrTLog and wrapped it under one class. Neat. Looking forward to more feedback and suggestions.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16087384_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16087384_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'14\\/Jul\\/17 14:26\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-07-14T14:26:16+0000\'\u003e14\\/Jul\\/17 14:26\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Latest patch uploaded: \\n  \\n \\tmodified:   core\\/src\\/java\\/org\\/apache\\/solr\\/handler\\/CdcrReplicator.java\\n\\tmodified:   core\\/src\\/java\\/org\\/apache\\/solr\\/update\\/CdcrTransactionLog.java\\n\\t new  file:   core\\/src\\/java\\/org\\/apache\\/solr\\/update\\/TLogCommonUtils.java\\n\\tmodified:   core\\/src\\/java\\/org\\/apache\\/solr\\/update\\/TransactionLog.java\\n\\t new  file:   core\\/src\\/test-files\\/solr\\/configsets\\/cdcr-cluster1\\/conf\\/schema.xml\\n\\t new  file:   core\\/src\\/test-files\\/solr\\/configsets\\/cdcr-cluster1\\/conf\\/solrconfig.xml\\n\\t new  file:   core\\/src\\/test-files\\/solr\\/configsets\\/cdcr-cluster2\\/conf\\/schema.xml\\n\\t new  file:   core\\/src\\/test-files\\/solr\\/configsets\\/cdcr-cluster2\\/conf\\/solrconfig.xml\\n\\t new  file:   core\\/src\\/test\\/org\\/apache\\/solr\\/cloud\\/CdcrBidirectionalTest.java\\n \\n  \\n TLogCommonUtils.java included contains common code of TLog and CdcrTLog and wrapped it under one class. Neat. Looking forward to more feedback and suggestions.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-16096778\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-11003?focusedCommentId=16096778&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16096778\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"erickerickson\\\" id=\\\"commentauthor_16096778_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=erickerickson\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"erickerickson\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Erick Erickson\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16096778_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'21\\/Jul\\/17 20:09\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-07-21T20:09:23+0000\'\u003e21\\/Jul\\/17 20:09\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI want to be sure I understand the scope here. IIUC, this patch does not allow simultaneous indexing to both SOURCE and TARGET, correct? I don\'t consider this a show-stopper, just making sure I\'m looking at it correctly.\u003c\\/p\u003e\\n\\n\u003cp\u003eIf the above is correct, then what happens in this case:\u003cbr\\/\u003e\\n-indexing to collectionA which is using CDCR to forward updates to collectionB\u003cbr\\/\u003e\\n-collectionA goes down for some reason \u003cem\u003eand\u003c\\/em\u003e there are some updates not yet forwarded to CollectionB\u003cbr\\/\u003e\\n-indexing is switched to collectionB\u003cbr\\/\u003e\\n-collectionA comes back on line as TARGET.\u003c\\/p\u003e\\n\\n\u003cp\u003eWhat happens with the updates in collectionA that weren\'t forwarded? Is collectionB out of sync in this case? If so how do the collections get back in sync? If there\'s an attempt to forward collection A\'s buffered updates how are they coordinated with collectionB\'s updates which may be for the same docs?\u003c\\/p\u003e\\n\\n\u003cp\u003eI admit I haven\'t really looked at the code carefully, I\'d like an idea of what the intention is before diving in.\u003c\\/p\u003e\\n\\n\u003cp\u003eAnd if my opening question is incorrect and one can index to both collections simultaneously, how does it work when the same document is sent go both collectionA and collectionB independently?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"erickerickson\\\" id=\\\"commentauthor_16096778_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=erickerickson\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"erickerickson\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Erick Erickson\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16096778_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'21\\/Jul\\/17 20:09\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-07-21T20:09:23+0000\'\u003e21\\/Jul\\/17 20:09\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I want to be sure I understand the scope here. IIUC, this patch does not allow simultaneous indexing to both SOURCE and TARGET, correct? I don\'t consider this a show-stopper, just making sure I\'m looking at it correctly. \\n\\n If the above is correct, then what happens in this case: \\n-indexing to collectionA which is using CDCR to forward updates to collectionB \\n-collectionA goes down for some reason  and  there are some updates not yet forwarded to CollectionB \\n-indexing is switched to collectionB \\n-collectionA comes back on line as TARGET. \\n\\n What happens with the updates in collectionA that weren\'t forwarded? Is collectionB out of sync in this case? If so how do the collections get back in sync? If there\'s an attempt to forward collection A\'s buffered updates how are they coordinated with collectionB\'s updates which may be for the same docs? \\n\\n I admit I haven\'t really looked at the code carefully, I\'d like an idea of what the intention is before diving in. \\n\\n And if my opening question is incorrect and one can index to both collections simultaneously, how does it work when the same document is sent go both collectionA and collectionB independently?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-16096841\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-11003?focusedCommentId=16096841&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16096841\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16096841_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16096841_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'21\\/Jul\\/17 20:52\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-07-21T20:52:42+0000\'\u003e21\\/Jul\\/17 20:52\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Amrit Sarkar - 21\\/Jul\\/17 20:53\\\"\u003eedited\u003c\\/span\u003e \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=erickerickson\\\" class=\\\"user-hover\\\" rel=\\\"erickerickson\\\"\u003eErick Erickson\u003c\\/a\u003e,\u003c\\/p\u003e\\n\u003cblockquote\u003e\\n\u003cp\u003eAnd if my opening question is incorrect and one can index to both collections simultaneously, how does it work when the same document is sent go both collectionA and collectionB independently?\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003e\u003cb\u003eWe can index in both the collection, collectionA and collectionB at run-time.\u003c\\/b\u003e Now when same doc gets indexed simultaneously, \u003c\\/p\u003e\\n\\n\u003cp\u003esay, docX indexed into collectionA assigned versionA\u003cbr\\/\u003e\\nand docX (same) indexed into collectionB assigned versionB\u003c\\/p\u003e\\n\\n\u003cp\u003edocX pushed from collectionA to collectionB and will get indexed into collectionB only and only if \u003ctt\u003eversionA &gt; versionB\u003c\\/tt\u003e\u003cbr\\/\u003e\\ndocX pushed from collectionB to collectionA and will get indexed into collectionA only and only if \u003ctt\u003eversionB &gt; versionA\u003c\\/tt\u003e\u003c\\/p\u003e\\n\\n\u003cp\u003eIn either case, one will prevail and one will fail and we will have \u003cb\u003eone winner\u003c\\/b\u003e. The above mentioned is strong recommendation if you are going to set bi-directional cdcr on collections; index at one cluster at a time due the same simultaneous indexing scenario.\u003c\\/p\u003e\\n\\n\u003cp\u003eIf in any case, a very less probability, \u003ctt\u003eversionA = versionB\u003c\\/tt\u003e, then optimistic concurrency comes into play and versions of the document docX in both collections will be different, a new version will assigned at the respective target collections then.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16096841_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16096841_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'21\\/Jul\\/17 20:52\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-07-21T20:52:42+0000\'\u003e21\\/Jul\\/17 20:52\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Amrit Sarkar - 21\\/Jul\\/17 20:53\\\"\u003eedited\u003c\\/span\u003e                    Erick Erickson , \\n \\n And if my opening question is incorrect and one can index to both collections simultaneously, how does it work when the same document is sent go both collectionA and collectionB independently?  \\n\\n  We can index in both the collection, collectionA and collectionB at run-time.  Now when same doc gets indexed simultaneously,  \\n\\n say, docX indexed into collectionA assigned versionA \\nand docX (same) indexed into collectionB assigned versionB \\n\\n docX pushed from collectionA to collectionB and will get indexed into collectionB only and only if  versionA &gt; versionB  \\ndocX pushed from collectionB to collectionA and will get indexed into collectionA only and only if  versionB &gt; versionA  \\n\\n In either case, one will prevail and one will fail and we will have  one winner . The above mentioned is strong recommendation if you are going to set bi-directional cdcr on collections; index at one cluster at a time due the same simultaneous indexing scenario. \\n\\n If in any case, a very less probability,  versionA = versionB , then optimistic concurrency comes into play and versions of the document docX in both collections will be different, a new version will assigned at the respective target collections then.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-16143630\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-11003?focusedCommentId=16143630&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16143630\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16143630_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16143630_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Aug\\/17 10:48\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-08-28T10:48:52+0000\'\u003e28\\/Aug\\/17 10:48\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThe patch is failing on \u003ctt\u003ebranch_6_6\u003c\\/tt\u003e :\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e   [junit4]   2&gt; Caused by: org.apache.solr.client.solrj.impl.HttpSolrClient$RemoteSolrException: Error from server at http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:55117\\/solr\\/cdcr-cluster1: Error \u003cspan class=\\\"code-keyword\\\"\u003ewhile\u003c\\/span\u003e requesting shard\'s checkpoints\u003c\\/span\u003e\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e   [junit4]   2&gt; Caused by: org.apache.solr.client.solrj.impl.HttpSolrClient$RemoteSolrException: Error from server at http:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:55117\\/solr\\/cdcr-cluster1_shard1_replica1: Invalid shift value (64) in prefixCoded bytes (is encoded value really an INT?)\u003c\\/span\u003e\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003eI will check on other branches to see the matter.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16143630_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16143630_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Aug\\/17 10:48\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-08-28T10:48:52+0000\'\u003e28\\/Aug\\/17 10:48\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    The patch is failing on  branch_6_6  : \\n\\n  \\n    [junit4]   2&gt; Caused by: org.apache.solr.client.solrj.impl.HttpSolrClient$RemoteSolrException: Error from server at http: \\/\\/127.0.0.1:55117\\/solr\\/cdcr-cluster1: Error  while  requesting shard\'s checkpoints \\n \\n  \\n  \\n    [junit4]   2&gt; Caused by: org.apache.solr.client.solrj.impl.HttpSolrClient$RemoteSolrException: Error from server at http: \\/\\/127.0.0.1:55117\\/solr\\/cdcr-cluster1_shard1_replica1: Invalid shift value (64) in prefixCoded bytes (is encoded value really an INT?) \\n \\n  \\n\\n I will check on other branches to see the matter.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-16143670\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-11003?focusedCommentId=16143670&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16143670\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16143670_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16143670_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Aug\\/17 11:24\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-08-28T11:24:53+0000\'\u003e28\\/Aug\\/17 11:24\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThe patch is failing on \u003ctt\u003emaster\u003c\\/tt\u003e and previous versions:  \u003ctt\u003ebranch_6_5\u003c\\/tt\u003e\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e[junit4]   2&gt; Caused by: java.util.concurrent.ExecutionException: org.apache.solr.client.solrj.impl.HttpSolrClient$RemoteSolrException: Error from server at https:\u003cspan class=\\\"code-comment\\\"\u003e\\/\\/127.0.0.1:55565\\/solr\\/cdcr-cluster1_shard1_replica1: Invalid shift value (64) in prefixCoded bytes (is encoded value really an INT?)\\n\u003c\\/span\u003e   [junit4]   2&gt; \\tat java.util.concurrent.FutureTask.report(FutureTask.java:122)\\n   [junit4]   2&gt; \\tat java.util.concurrent.FutureTask.get(FutureTask.java:192)\\n   [junit4]   2&gt; \\tat org.apache.solr.handler.CdcrRequestHandler.handleCollectionCheckpointAction(CdcrRequestHandler.java:414)\\n   [junit4]   2&gt; \\t... 34 more \\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cblockquote\u003e\u003cp\u003eInvalid shift value (64) in prefixCoded bytes (is encoded value really an INT?)\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003eNeed to fix this for \u003ctt\u003eCollectionCheckpoint\u003c\\/tt\u003e.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16143670_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16143670_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Aug\\/17 11:24\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-08-28T11:24:53+0000\'\u003e28\\/Aug\\/17 11:24\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    The patch is failing on  master  and previous versions:   branch_6_5  \\n\\n  \\n [junit4]   2&gt; Caused by: java.util.concurrent.ExecutionException: org.apache.solr.client.solrj.impl.HttpSolrClient$RemoteSolrException: Error from server at https: \\/\\/127.0.0.1:55565\\/solr\\/cdcr-cluster1_shard1_replica1: Invalid shift value (64) in prefixCoded bytes (is encoded value really an INT?)\\n    [junit4]   2&gt; \\tat java.util.concurrent.FutureTask.report(FutureTask.java:122)\\n   [junit4]   2&gt; \\tat java.util.concurrent.FutureTask.get(FutureTask.java:192)\\n   [junit4]   2&gt; \\tat org.apache.solr.handler.CdcrRequestHandler.handleCollectionCheckpointAction(CdcrRequestHandler.java:414)\\n   [junit4]   2&gt; \\t... 34 more \\n \\n  \\n\\n  Invalid shift value (64) in prefixCoded bytes (is encoded value really an INT?)  \\n\\n Need to fix this for  CollectionCheckpoint .              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-16143725\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-11003?focusedCommentId=16143725&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16143725\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16143725_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16143725_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Aug\\/17 12:21\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-08-28T12:21:44+0000\'\u003e28\\/Aug\\/17 12:21\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003ePatch uploaded with everything fixed, working in \u003ctt\u003emaster\u003c\\/tt\u003e and others.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16143725_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16143725_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Aug\\/17 12:21\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-08-28T12:21:44+0000\'\u003e28\\/Aug\\/17 12:21\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Patch uploaded with everything fixed, working in  master  and others.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-16143790\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-11003?focusedCommentId=16143790&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16143790\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16143790_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16143790_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Aug\\/17 13:46\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-08-28T13:46:33+0000\'\u003e28\\/Aug\\/17 13:46\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eFixed closure of CloudSolrClients to make the patch pass beasts rounds of 100.\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=varunthacker\\\" class=\\\"user-hover\\\" rel=\\\"varunthacker\\\"\u003eVarun Thacker\u003c\\/a\u003e, this is ready to ship.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16143790_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16143790_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Aug\\/17 13:46\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-08-28T13:46:33+0000\'\u003e28\\/Aug\\/17 13:46\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Fixed closure of CloudSolrClients to make the patch pass beasts rounds of 100. \\n\\n  Varun Thacker , this is ready to ship.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-16143924\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-11003?focusedCommentId=16143924&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16143924\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"erickerickson\\\" id=\\\"commentauthor_16143924_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=erickerickson\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"erickerickson\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Erick Erickson\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16143924_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Aug\\/17 15:48\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-08-28T15:48:28+0000\'\u003e28\\/Aug\\/17 15:48\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\" class=\\\"user-hover\\\" rel=\\\"sarkaramrit2@gmail.com\\\"\u003eAmrit Sarkar\u003c\\/a\u003e There has been a regularly-failing CDCR test for a while, do you have any insight what\'s going on there (since you\'re in the code...).\u003c\\/p\u003e\\n\\n\u003cp\u003eI\'ll try beasting that test without and with this patch just to see if it has any effect just for yucks.\u003c\\/p\u003e\\n\\n\u003cp\u003eOr is this yet another variant of \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-11034\\\" title=\\\"Redundent\\/Unneccessary SolrCore reload when ManagedIndexSchema changes are made in cloud mode\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-11034\\\"\u003eSOLR-11034\u003c\\/a\u003e and\\/or \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-11035\\\" title=\\\"(at least) 2 distinct failures possible when clients attempt searches during SolrCore reload\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-11035\\\"\u003eSOLR-11035\u003c\\/a\u003e?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"erickerickson\\\" id=\\\"commentauthor_16143924_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=erickerickson\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"erickerickson\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Erick Erickson\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16143924_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Aug\\/17 15:48\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-08-28T15:48:28+0000\'\u003e28\\/Aug\\/17 15:48\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     Amrit Sarkar  There has been a regularly-failing CDCR test for a while, do you have any insight what\'s going on there (since you\'re in the code...). \\n\\n I\'ll try beasting that test without and with this patch just to see if it has any effect just for yucks. \\n\\n Or is this yet another variant of  SOLR-11034  and\\/or  SOLR-11035 ?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-16143932\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-11003?focusedCommentId=16143932&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16143932\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16143932_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16143932_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Aug\\/17 15:56\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-08-28T15:56:14+0000\'\u003e28\\/Aug\\/17 15:56\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Amrit Sarkar - 28\\/Aug\\/17 16:00\\\"\u003eedited\u003c\\/span\u003e \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=erickerickson\\\" class=\\\"user-hover\\\" rel=\\\"erickerickson\\\"\u003eErick Erickson\u003c\\/a\u003e Are you talking about this? \u003cem\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-11278\\\" title=\\\"Fix race in cdcr bootstrap process\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-11278\\\"\u003e\u003cdel\u003eSOLR-11278\u003c\\/del\u003e\u003c\\/a\u003e: CdcrBootstrapTest failing in branch_6_6\u003c\\/em\u003e. I am trying to understand what\'s wrong with it, and have narrowed down to: \u003c\\/p\u003e\\n\\n\u003cp\u003eAll the tests in this class fails where \u003cb\u003ewe stop CDCR, index docs in source and then turns on CDCR again and expect BOOTSTRAP to happen\u003c\\/b\u003e. If I debug on IDE, all tests passes successfully (as the steps slows down), suggesting the \u003cem\u003etime to wait for target to sync\u003c\\/em\u003e is low. But increasing it to 5 minutes even, instead of default 2 minutes, doesn\'t work. I increased explicit commit issued while waiting from 1 to 3 second, doesn\'t work either.\u003c\\/p\u003e\\n\\n\u003cp\u003eLet me know if there are other tests which are failing too related to CDCR.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16143932_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16143932_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Aug\\/17 15:56\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-08-28T15:56:14+0000\'\u003e28\\/Aug\\/17 15:56\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Amrit Sarkar - 28\\/Aug\\/17 16:00\\\"\u003eedited\u003c\\/span\u003e                    Erick Erickson  Are you talking about this?    SOLR-11278  : CdcrBootstrapTest failing in branch_6_6 . I am trying to understand what\'s wrong with it, and have narrowed down to:  \\n\\n All the tests in this class fails where  we stop CDCR, index docs in source and then turns on CDCR again and expect BOOTSTRAP to happen . If I debug on IDE, all tests passes successfully (as the steps slows down), suggesting the  time to wait for target to sync  is low. But increasing it to 5 minutes even, instead of default 2 minutes, doesn\'t work. I increased explicit commit issued while waiting from 1 to 3 second, doesn\'t work either. \\n\\n Let me know if there are other tests which are failing too related to CDCR.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-16143935\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-11003?focusedCommentId=16143935&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16143935\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16143935_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16143935_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Aug\\/17 15:59\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-08-28T15:59:34+0000\'\u003e28\\/Aug\\/17 15:59\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThough the tests which are constantly failing I mentioned above, do \u003cb\u003eSolr Core reload every second when it waits for target to sync\u003c\\/b\u003e. It can very well be variant of \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-11034\\\" title=\\\"Redundent\\/Unneccessary SolrCore reload when ManagedIndexSchema changes are made in cloud mode\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-11034\\\"\u003eSOLR-11034\u003c\\/a\u003e and\\/or \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-11035\\\" title=\\\"(at least) 2 distinct failures possible when clients attempt searches during SolrCore reload\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-11035\\\"\u003eSOLR-11035\u003c\\/a\u003e, as we can see occasional NPE at IndexFetcher.java:753.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16143935_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16143935_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Aug\\/17 15:59\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-08-28T15:59:34+0000\'\u003e28\\/Aug\\/17 15:59\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Though the tests which are constantly failing I mentioned above, do  Solr Core reload every second when it waits for target to sync . It can very well be variant of  SOLR-11034  and\\/or  SOLR-11035 , as we can see occasional NPE at IndexFetcher.java:753.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-16144175\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-11003?focusedCommentId=16144175&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16144175\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"erickerickson\\\" id=\\\"commentauthor_16144175_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=erickerickson\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"erickerickson\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Erick Erickson\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16144175_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Aug\\/17 18:35\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-08-28T18:35:17+0000\'\u003e28\\/Aug\\/17 18:35\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eWell, it was a nice theory, too bad it\'s not true. I added a loop in the test (on master, but I don\'t think that matters) where if the document counts don\'t match, I add one more doc to the source and go back around the WaitForTargetToSync loop again. \u003c\\/p\u003e\\n\\n\u003cp\u003eAt the initial failure I see counts of\u003cbr\\/\u003e\\ntarget: 1901\u003cbr\\/\u003e\\nsource: 2000\u003c\\/p\u003e\\n\\n\u003cp\u003eAfter my new loop I see counts of\u003cbr\\/\u003e\\ntarget: 1902\u003cbr\\/\u003e\\nsource: 2001\u003c\\/p\u003e\\n\\n\u003cp\u003eClearly my new doc is being indexed to the source and sent to the target so it\'s not just a matter of the docs getting to the target but somehow not being available to the currently-open searcher.\u003c\\/p\u003e\\n\\n\u003cp\u003eSo this is very unlikely related to \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-11034\\\" title=\\\"Redundent\\/Unneccessary SolrCore reload when ManagedIndexSchema changes are made in cloud mode\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-11034\\\"\u003eSOLR-11034\u003c\\/a\u003e and \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-11035\\\" title=\\\"(at least) 2 distinct failures possible when clients attempt searches during SolrCore reload\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-11035\\\"\u003eSOLR-11035\u003c\\/a\u003e, never mind.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"erickerickson\\\" id=\\\"commentauthor_16144175_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=erickerickson\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"erickerickson\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Erick Erickson\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16144175_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Aug\\/17 18:35\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-08-28T18:35:17+0000\'\u003e28\\/Aug\\/17 18:35\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Well, it was a nice theory, too bad it\'s not true. I added a loop in the test (on master, but I don\'t think that matters) where if the document counts don\'t match, I add one more doc to the source and go back around the WaitForTargetToSync loop again.  \\n\\n At the initial failure I see counts of \\ntarget: 1901 \\nsource: 2000 \\n\\n After my new loop I see counts of \\ntarget: 1902 \\nsource: 2001 \\n\\n Clearly my new doc is being indexed to the source and sent to the target so it\'s not just a matter of the docs getting to the target but somehow not being available to the currently-open searcher. \\n\\n So this is very unlikely related to  SOLR-11034  and  SOLR-11035 , never mind.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-16151422\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-11003?focusedCommentId=16151422&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16151422\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16151422_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16151422_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'02\\/Sep\\/17 06:20\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-09-02T06:20:54+0000\'\u003e02\\/Sep\\/17 06:20\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Amrit Sarkar - 02\\/Sep\\/17 06:21\\\"\u003eedited\u003c\\/span\u003e \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-11278\\\" title=\\\"Fix race in cdcr bootstrap process\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-11278\\\"\u003e\u003cdel\u003eSOLR-11278\u003c\\/del\u003e\u003c\\/a\u003e: the reason behind \u003cem\u003eCdcrBootstrapTest failing intermittently\u003c\\/em\u003e, is causing \u003ctt\u003eCdcrBidiretionalTest\u003c\\/tt\u003e to fail too. I ran beast iters of 100 few days back, in July, it didn\'t fail once. We definitely need to address \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-11278\\\" title=\\\"Fix race in cdcr bootstrap process\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-11278\\\"\u003e\u003cdel\u003eSOLR-11278\u003c\\/del\u003e\u003c\\/a\u003e asap.\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e  [beaster]   2&gt; 60134 ERROR (updateExecutor-43-thread-1-processing-n:127.0.0.1:52448_solr x:cdcr-cluster2_shard1_replica_n1 s:shard1 c:cdcr-cluster2 r:core_node2) [n:127.0.0.1:52448_solr c:cdcr-cluster2 s:shard1 r:core_node2 x:cdcr-cluster2_shard1_replica_n1] o.a.s.h.CdcrRequestHandler Bootstrap operation failed\\n  [beaster]   2&gt; java.util.concurrent.ExecutionException: java.lang.AssertionError\\n  [beaster]   2&gt; \\tat java.util.concurrent.FutureTask.report(FutureTask.java:122)\\n  [beaster]   2&gt; \\tat java.util.concurrent.FutureTask.get(FutureTask.java:192)\\n  [beaster]   2&gt; \\tat org.apache.solr.handler.CdcrRequestHandler.lambda$handleBootstrapAction$0(CdcrRequestHandler.java:646)\\n  [beaster]   2&gt; \\tat com.codahale.metrics.InstrumentedExecutorService$InstrumentedRunnable.run(InstrumentedExecutorService.java:176)\\n  [beaster]   2&gt; \\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\\n  [beaster]   2&gt; \\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\\n  [beaster]   2&gt; \\tat org.apache.solr.common.util.ExecutorUtil$MDCAwareThreadPoolExecutor.lambda$execute$0(ExecutorUtil.java:188)\\n  [beaster]   2&gt; \\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\\n  [beaster]   2&gt; \\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\\n  [beaster]   2&gt; \\tat java.lang.\u003cspan class=\\\"code-object\\\"\u003eThread\u003c\\/span\u003e.run(\u003cspan class=\\\"code-object\\\"\u003eThread\u003c\\/span\u003e.java:745)\\n  [beaster]   2&gt; Caused by: java.lang.AssertionError\\n  [beaster]   2&gt; \\tat org.apache.solr.handler.CdcrRequestHandler$BootstrapCallable.call(CdcrRequestHandler.java:789)\\n  [beaster]   2&gt; \\tat org.apache.solr.handler.CdcrRequestHandler$BootstrapCallable.call(CdcrRequestHandler.java:716)\\n  [beaster]   2&gt; \\tat com.codahale.metrics.InstrumentedExecutorService$InstrumentedCallable.call(InstrumentedExecutorService.java:197)\\n  [beaster]   2&gt; \\t... 5 more\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16151422_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16151422_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'02\\/Sep\\/17 06:20\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-09-02T06:20:54+0000\'\u003e02\\/Sep\\/17 06:20\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Amrit Sarkar - 02\\/Sep\\/17 06:21\\\"\u003eedited\u003c\\/span\u003e                     SOLR-11278  : the reason behind  CdcrBootstrapTest failing intermittently , is causing  CdcrBidiretionalTest  to fail too. I ran beast iters of 100 few days back, in July, it didn\'t fail once. We definitely need to address   SOLR-11278   asap. \\n\\n  \\n   [beaster]   2&gt; 60134 ERROR (updateExecutor-43-thread-1-processing-n:127.0.0.1:52448_solr x:cdcr-cluster2_shard1_replica_n1 s:shard1 c:cdcr-cluster2 r:core_node2) [n:127.0.0.1:52448_solr c:cdcr-cluster2 s:shard1 r:core_node2 x:cdcr-cluster2_shard1_replica_n1] o.a.s.h.CdcrRequestHandler Bootstrap operation failed\\n  [beaster]   2&gt; java.util.concurrent.ExecutionException: java.lang.AssertionError\\n  [beaster]   2&gt; \\tat java.util.concurrent.FutureTask.report(FutureTask.java:122)\\n  [beaster]   2&gt; \\tat java.util.concurrent.FutureTask.get(FutureTask.java:192)\\n  [beaster]   2&gt; \\tat org.apache.solr.handler.CdcrRequestHandler.lambda$handleBootstrapAction$0(CdcrRequestHandler.java:646)\\n  [beaster]   2&gt; \\tat com.codahale.metrics.InstrumentedExecutorService$InstrumentedRunnable.run(InstrumentedExecutorService.java:176)\\n  [beaster]   2&gt; \\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\\n  [beaster]   2&gt; \\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\\n  [beaster]   2&gt; \\tat org.apache.solr.common.util.ExecutorUtil$MDCAwareThreadPoolExecutor.lambda$execute$0(ExecutorUtil.java:188)\\n  [beaster]   2&gt; \\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\\n  [beaster]   2&gt; \\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\\n  [beaster]   2&gt; \\tat java.lang. Thread .run( Thread .java:745)\\n  [beaster]   2&gt; Caused by: java.lang.AssertionError\\n  [beaster]   2&gt; \\tat org.apache.solr.handler.CdcrRequestHandler$BootstrapCallable.call(CdcrRequestHandler.java:789)\\n  [beaster]   2&gt; \\tat org.apache.solr.handler.CdcrRequestHandler$BootstrapCallable.call(CdcrRequestHandler.java:716)\\n  [beaster]   2&gt; \\tat com.codahale.metrics.InstrumentedExecutorService$InstrumentedCallable.call(InstrumentedExecutorService.java:197)\\n  [beaster]   2&gt; \\t... 5 more\\n \\n               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-16174051\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-11003?focusedCommentId=16174051&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16174051\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16174051_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16174051_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'21\\/Sep\\/17 00:31\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-09-21T00:31:23+0000\'\u003e21\\/Sep\\/17 00:31\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eOk!\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ctt\u003eCdcrBidirectionalTest\u003c\\/tt\u003e is failing miserably every now and then while we do beast tests. I see:\u003c\\/p\u003e\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003eo.a.s.h.CdcrReplicator Forwarded 496 updates to target cdcr-cluster1\\n  [beaster]   2&gt; 19147 ERROR (cdcr-replicator-31-thread-1-processing-n:127.0.0.1:46505_solr x:cdcr-cluster1_shard1_replica_n1 s:shard1 c:cdcr-cluster1 r:core_node2) [n:127.0.0.1:46505_solr c:cdcr-cluster1 s:shard1 r:core_node2 x:cdcr-cluster1_shard1_replica_n1] o.a.s.c.u.ExecutorUtil Uncaught exception java.lang.AssertionError thrown by thread: cdcr-replicator-31-thread-1-processing-n:127.0.0.1:46505_solr x:cdcr-cluster1_shard1_replica_n1 s:shard1 c:cdcr-cluster1 r:core_node2\\n  [beaster]   2&gt; java.lang.Exception: Submitter stack trace\\n  [beaster]   2&gt; \\tat org.apache.solr.common.util.ExecutorUtil$MDCAwareThreadPoolExecutor.execute(ExecutorUtil.java:163)\\n  [beaster]   2&gt; \\tat org.apache.solr.handler.CdcrReplicatorScheduler.lambda$start$1(CdcrReplicatorScheduler.java:76)\\n  [beaster]   2&gt; \\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\\n  [beaster]   2&gt; \\tat java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)\\n  [beaster]   2&gt; \\tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)\\n  [beaster]   2&gt; \\tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)\\n  [beaster]   2&gt; \\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\\n  [beaster]   2&gt; \\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\\n  [beaster]   2&gt; \\tat java.lang.\u003cspan class=\\\"code-object\\\"\u003eThread\u003c\\/span\u003e.run(\u003cspan class=\\\"code-object\\\"\u003eThread\u003c\\/span\u003e.java:748)\\n  [beaster]   2&gt; 19155 INFO  (qtp620825517-65) [n:127.0.0.1:46505_solr c:cdcr-cluster1 s:shard1 r:core_node2 x:cdcr-cluster1_shard1_replica_n1] o.a.s.c.S.Request [cdcr-cluster1_shard1_replica_n1]  webapp=\\/solr path=\\/update params={_stateVer_=cdcr-cluster1:5&amp;cdcr.update=&amp;wt=javabin&amp;version=2} status=0 QTime=23\\n  [beaster]   2&gt; 19156 INFO  (cdcr-replicator-35-thread-1-processing-n:127.0.0.1:46044_solr x:cdcr-cluster2_shard1_replica_n1 s:shard1 c:cdcr-cluster2 r:core_node2) [n:127.0.0.1:46044_solr c:cdcr-cluster2 s:shard1 r:core_node2 x:cdcr-cluster2_shard1_replica_n1] o.a.s.h.CdcrReplicator Forwarded 495 updates to target cdcr-cluster1\\n  [beaster]   2&gt; Sht 21, 2017 6:02:10 PD com.carrotsearch.randomizedtesting.RandomizedRunner$QueueUncaughtExceptionsHandler uncaughtException\\n  [beaster]   2&gt; WARNING: Uncaught exception in thread: \u003cspan class=\\\"code-object\\\"\u003eThread\u003c\\/span\u003e[cdcr-replicator-31-thread-1,5,TGRP-CdcrBidirectionalTest]\\n  [beaster]   2&gt; java.lang.AssertionError\\n  [beaster]   2&gt; \\tat __randomizedtesting.SeedInfo.seed([AE4E9FB83368594B]:0)\\n  [beaster]   2&gt; \\tat org.apache.solr.update.TransactionLog$LogReader.next(TransactionLog.java:588)\\n  [beaster]   2&gt; \\tat org.apache.solr.update.CdcrTransactionLog$CdcrLogReader.next(CdcrTransactionLog.java:143)\\n  [beaster]   2&gt; \\tat org.apache.solr.update.CdcrUpdateLog$CdcrLogReader.next(CdcrUpdateLog.java:633)\\n  [beaster]   2&gt; \\tat org.apache.solr.handler.CdcrReplicator.run(CdcrReplicator.java:77)\\n  [beaster]   2&gt; \\tat org.apache.solr.handler.CdcrReplicatorScheduler.lambda$\u003cspan class=\\\"code-keyword\\\"\u003enull\u003c\\/span\u003e$0(CdcrReplicatorScheduler.java:81)\\n  [beaster]   2&gt; \\tat org.apache.solr.common.util.ExecutorUtil$MDCAwareThreadPoolExecutor.lambda$execute$0(ExecutorUtil.java:188)\\n  [beaster]   2&gt; \\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\\n  [beaster]   2&gt; \\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\\n  [beaster]   2&gt; \\tat java.lang.\u003cspan class=\\\"code-object\\\"\u003eThread\u003c\\/span\u003e.run(\u003cspan class=\\\"code-object\\\"\u003eThread\u003c\\/span\u003e.java:748)\\n  [beaster]   2&gt; \\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\u003cp\u003eSome issue with concurrency in tlogs. some issue with tlog positions.\u003c\\/p\u003e\\n\\n\u003cp\u003eThis results in:\u003c\\/p\u003e\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e [beaster]   2&gt; NOTE: reproduce with: ant test  -Dtestcase=CdcrBidirectionalTest -Dtests.method=testBiDir -Dtests.seed=AE4E9FB83368594B -Dtests.slow=\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e -Dtests.locale=sq-AL -Dtests.timezone=Asia\\/Thimphu -Dtests.asserts=\u003cspan class=\\\"code-keyword\\\"\u003etrue\u003c\\/span\u003e -Dtests.file.encoding=ANSI_X3.4-1968\\n  [beaster] [00:01:51.287] ERROR   24.8s | CdcrBidirectionalTest.testBiDir &lt;&lt;&lt;\\n  [beaster]    &gt; Throwable #1: java.lang.AssertionError: cluster 2 docs mismatch expected:&lt;0&gt; but was:&lt;2&gt;\\n  [beaster]    &gt; \\tat org.junit.Assert.fail(Assert.java:93)\\n  [beaster]    &gt; \\tat org.junit.Assert.failNotEquals(Assert.java:647)\\n  [beaster]    &gt; \\tat org.junit.Assert.assertEquals(Assert.java:128)\\n  [beaster]    &gt; \\tat org.junit.Assert.assertEquals(Assert.java:472)\\n  [beaster]    &gt; \\tat org.apache.solr.cloud.CdcrBidirectionalTest.testBiDir(CdcrBidirectionalTest.java:199)\\n  [beaster]    &gt; \\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\n  [beaster]    &gt; \\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\\n  [beaster]    &gt; \\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n  [beaster]    &gt; \\tat java.lang.reflect.Method.invoke(Method.java:498)\\n  [beaster]    &gt; \\tat com.carrotsearch.randomizedtesting.RandomizedRunner.invoke(RandomizedRunner.java:1737)\\n  [beaster]    &gt; \\tat com.carrotsearch.randomizedtesting.RandomizedRunner$8.evaluate(RandomizedRunner.java:934)\\n  [beaster]    &gt; \\tat com.carrotsearch.randomizedtesting.RandomizedRunner$9.evaluate(RandomizedRunner.java:970)\\n  [beaster]    &gt; \\tat com.carrotsearch.randomizedtesting.RandomizedRunner$10.evaluate(RandomizedRunner.java:984)\\n  [beaster]    &gt; \\tat \\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\u003cp\u003eand maybe something else too in other conditions.\u003c\\/p\u003e\\n\\n\u003cp\u003eLooking into what\'s the deal with this, it is happening when indexing and forwarding is happening simultaneously.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16174051_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16174051_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'21\\/Sep\\/17 00:31\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-09-21T00:31:23+0000\'\u003e21\\/Sep\\/17 00:31\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Ok! \\n\\n  CdcrBidirectionalTest  is failing miserably every now and then while we do beast tests. I see: \\n  \\n o.a.s.h.CdcrReplicator Forwarded 496 updates to target cdcr-cluster1\\n  [beaster]   2&gt; 19147 ERROR (cdcr-replicator-31-thread-1-processing-n:127.0.0.1:46505_solr x:cdcr-cluster1_shard1_replica_n1 s:shard1 c:cdcr-cluster1 r:core_node2) [n:127.0.0.1:46505_solr c:cdcr-cluster1 s:shard1 r:core_node2 x:cdcr-cluster1_shard1_replica_n1] o.a.s.c.u.ExecutorUtil Uncaught exception java.lang.AssertionError thrown by thread: cdcr-replicator-31-thread-1-processing-n:127.0.0.1:46505_solr x:cdcr-cluster1_shard1_replica_n1 s:shard1 c:cdcr-cluster1 r:core_node2\\n  [beaster]   2&gt; java.lang.Exception: Submitter stack trace\\n  [beaster]   2&gt; \\tat org.apache.solr.common.util.ExecutorUtil$MDCAwareThreadPoolExecutor.execute(ExecutorUtil.java:163)\\n  [beaster]   2&gt; \\tat org.apache.solr.handler.CdcrReplicatorScheduler.lambda$start$1(CdcrReplicatorScheduler.java:76)\\n  [beaster]   2&gt; \\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\\n  [beaster]   2&gt; \\tat java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)\\n  [beaster]   2&gt; \\tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)\\n  [beaster]   2&gt; \\tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)\\n  [beaster]   2&gt; \\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\\n  [beaster]   2&gt; \\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\\n  [beaster]   2&gt; \\tat java.lang. Thread .run( Thread .java:748)\\n  [beaster]   2&gt; 19155 INFO  (qtp620825517-65) [n:127.0.0.1:46505_solr c:cdcr-cluster1 s:shard1 r:core_node2 x:cdcr-cluster1_shard1_replica_n1] o.a.s.c.S.Request [cdcr-cluster1_shard1_replica_n1]  webapp=\\/solr path=\\/update params={_stateVer_=cdcr-cluster1:5&amp;cdcr.update=&amp;wt=javabin&amp;version=2} status=0 QTime=23\\n  [beaster]   2&gt; 19156 INFO  (cdcr-replicator-35-thread-1-processing-n:127.0.0.1:46044_solr x:cdcr-cluster2_shard1_replica_n1 s:shard1 c:cdcr-cluster2 r:core_node2) [n:127.0.0.1:46044_solr c:cdcr-cluster2 s:shard1 r:core_node2 x:cdcr-cluster2_shard1_replica_n1] o.a.s.h.CdcrReplicator Forwarded 495 updates to target cdcr-cluster1\\n  [beaster]   2&gt; Sht 21, 2017 6:02:10 PD com.carrotsearch.randomizedtesting.RandomizedRunner$QueueUncaughtExceptionsHandler uncaughtException\\n  [beaster]   2&gt; WARNING: Uncaught exception in thread:  Thread [cdcr-replicator-31-thread-1,5,TGRP-CdcrBidirectionalTest]\\n  [beaster]   2&gt; java.lang.AssertionError\\n  [beaster]   2&gt; \\tat __randomizedtesting.SeedInfo.seed([AE4E9FB83368594B]:0)\\n  [beaster]   2&gt; \\tat org.apache.solr.update.TransactionLog$LogReader.next(TransactionLog.java:588)\\n  [beaster]   2&gt; \\tat org.apache.solr.update.CdcrTransactionLog$CdcrLogReader.next(CdcrTransactionLog.java:143)\\n  [beaster]   2&gt; \\tat org.apache.solr.update.CdcrUpdateLog$CdcrLogReader.next(CdcrUpdateLog.java:633)\\n  [beaster]   2&gt; \\tat org.apache.solr.handler.CdcrReplicator.run(CdcrReplicator.java:77)\\n  [beaster]   2&gt; \\tat org.apache.solr.handler.CdcrReplicatorScheduler.lambda$ null $0(CdcrReplicatorScheduler.java:81)\\n  [beaster]   2&gt; \\tat org.apache.solr.common.util.ExecutorUtil$MDCAwareThreadPoolExecutor.lambda$execute$0(ExecutorUtil.java:188)\\n  [beaster]   2&gt; \\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\\n  [beaster]   2&gt; \\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\\n  [beaster]   2&gt; \\tat java.lang. Thread .run( Thread .java:748)\\n  [beaster]   2&gt; \\n \\n  \\n Some issue with concurrency in tlogs. some issue with tlog positions. \\n\\n This results in: \\n  \\n  [beaster]   2&gt; NOTE: reproduce with: ant test  -Dtestcase=CdcrBidirectionalTest -Dtests.method=testBiDir -Dtests.seed=AE4E9FB83368594B -Dtests.slow= true  -Dtests.locale=sq-AL -Dtests.timezone=Asia\\/Thimphu -Dtests.asserts= true  -Dtests.file.encoding=ANSI_X3.4-1968\\n  [beaster] [00:01:51.287] ERROR   24.8s | CdcrBidirectionalTest.testBiDir &lt;&lt;&lt;\\n  [beaster]    &gt; Throwable #1: java.lang.AssertionError: cluster 2 docs mismatch expected:&lt;0&gt; but was:&lt;2&gt;\\n  [beaster]    &gt; \\tat org.junit.Assert.fail(Assert.java:93)\\n  [beaster]    &gt; \\tat org.junit.Assert.failNotEquals(Assert.java:647)\\n  [beaster]    &gt; \\tat org.junit.Assert.assertEquals(Assert.java:128)\\n  [beaster]    &gt; \\tat org.junit.Assert.assertEquals(Assert.java:472)\\n  [beaster]    &gt; \\tat org.apache.solr.cloud.CdcrBidirectionalTest.testBiDir(CdcrBidirectionalTest.java:199)\\n  [beaster]    &gt; \\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\n  [beaster]    &gt; \\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\\n  [beaster]    &gt; \\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n  [beaster]    &gt; \\tat java.lang.reflect.Method.invoke(Method.java:498)\\n  [beaster]    &gt; \\tat com.carrotsearch.randomizedtesting.RandomizedRunner.invoke(RandomizedRunner.java:1737)\\n  [beaster]    &gt; \\tat com.carrotsearch.randomizedtesting.RandomizedRunner$8.evaluate(RandomizedRunner.java:934)\\n  [beaster]    &gt; \\tat com.carrotsearch.randomizedtesting.RandomizedRunner$9.evaluate(RandomizedRunner.java:970)\\n  [beaster]    &gt; \\tat com.carrotsearch.randomizedtesting.RandomizedRunner$10.evaluate(RandomizedRunner.java:984)\\n  [beaster]    &gt; \\tat \\n \\n  \\n and maybe something else too in other conditions. \\n\\n Looking into what\'s the deal with this, it is happening when indexing and forwarding is happening simultaneously.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-16174066\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-11003?focusedCommentId=16174066&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16174066\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16174066_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16174066_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'21\\/Sep\\/17 00:43\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-09-21T00:43:39+0000\'\u003e21\\/Sep\\/17 00:43\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThe test failures are irreproducible with the attached seeds; putting extensive logging and trying to understand what can be done next.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16174066_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16174066_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'21\\/Sep\\/17 00:43\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-09-21T00:43:39+0000\'\u003e21\\/Sep\\/17 00:43\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    The test failures are irreproducible with the attached seeds; putting extensive logging and trying to understand what can be done next.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-16177040\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-11003?focusedCommentId=16177040&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16177040\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16177040_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16177040_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'22\\/Sep\\/17 20:10\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-09-22T20:10:08+0000\'\u003e22\\/Sep\\/17 20:10\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThe problem was with the refracting of the code where the common portions of TLog and CdcrTLog takien into Utils class.\u003c\\/p\u003e\\n\\n\u003cp\u003eI reverted back to old code now, w\\/o utils, will figure out how to refractor. Yes, there is repetitive code but I think that\'s necessary considering we are about to put an extra entry for cdcr updates.\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e\\tmodified:   solr\\/core\\/src\\/java\\/org\\/apache\\/solr\\/handler\\/CdcrReplicator.java\\n\\tmodified:   solr\\/core\\/src\\/java\\/org\\/apache\\/solr\\/update\\/CdcrTransactionLog.java\\n\\tmodified:   solr\\/core\\/src\\/java\\/org\\/apache\\/solr\\/update\\/TransactionLog.java\\n\\t\u003cspan class=\\\"code-keyword\\\"\u003enew\u003c\\/span\u003e file:   solr\\/core\\/src\\/test-files\\/solr\\/configsets\\/cdcr-cluster1\\/conf\\/schema.xml\\n\\t\u003cspan class=\\\"code-keyword\\\"\u003enew\u003c\\/span\u003e file:   solr\\/core\\/src\\/test-files\\/solr\\/configsets\\/cdcr-cluster1\\/conf\\/solrconfig.xml\\n\\t\u003cspan class=\\\"code-keyword\\\"\u003enew\u003c\\/span\u003e file:   solr\\/core\\/src\\/test-files\\/solr\\/configsets\\/cdcr-cluster2\\/conf\\/schema.xml\\n\\t\u003cspan class=\\\"code-keyword\\\"\u003enew\u003c\\/span\u003e file:   solr\\/core\\/src\\/test-files\\/solr\\/configsets\\/cdcr-cluster2\\/conf\\/solrconfig.xml\\n\\t\u003cspan class=\\\"code-keyword\\\"\u003enew\u003c\\/span\u003e file:   solr\\/core\\/src\\/test\\/org\\/apache\\/solr\\/cloud\\/CdcrBidirectionalTest.java\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003eBeasts of 100 rounds are passed successfuly.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16177040_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16177040_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'22\\/Sep\\/17 20:10\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-09-22T20:10:08+0000\'\u003e22\\/Sep\\/17 20:10\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    The problem was with the refracting of the code where the common portions of TLog and CdcrTLog takien into Utils class. \\n\\n I reverted back to old code now, w\\/o utils, will figure out how to refractor. Yes, there is repetitive code but I think that\'s necessary considering we are about to put an extra entry for cdcr updates. \\n\\n  \\n \\tmodified:   solr\\/core\\/src\\/java\\/org\\/apache\\/solr\\/handler\\/CdcrReplicator.java\\n\\tmodified:   solr\\/core\\/src\\/java\\/org\\/apache\\/solr\\/update\\/CdcrTransactionLog.java\\n\\tmodified:   solr\\/core\\/src\\/java\\/org\\/apache\\/solr\\/update\\/TransactionLog.java\\n\\t new  file:   solr\\/core\\/src\\/test-files\\/solr\\/configsets\\/cdcr-cluster1\\/conf\\/schema.xml\\n\\t new  file:   solr\\/core\\/src\\/test-files\\/solr\\/configsets\\/cdcr-cluster1\\/conf\\/solrconfig.xml\\n\\t new  file:   solr\\/core\\/src\\/test-files\\/solr\\/configsets\\/cdcr-cluster2\\/conf\\/schema.xml\\n\\t new  file:   solr\\/core\\/src\\/test-files\\/solr\\/configsets\\/cdcr-cluster2\\/conf\\/solrconfig.xml\\n\\t new  file:   solr\\/core\\/src\\/test\\/org\\/apache\\/solr\\/cloud\\/CdcrBidirectionalTest.java\\n \\n  \\n\\n Beasts of 100 rounds are passed successfuly.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-16183564\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-11003?focusedCommentId=16183564&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16183564\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16183564_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16183564_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Sep\\/17 02:03\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-09-28T02:03:39+0000\'\u003e28\\/Sep\\/17 02:03\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eWorking on documentation changes now. Will open a new JIRA as changes needs to be discussed in detail. \u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16183564_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16183564_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Sep\\/17 02:03\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-09-28T02:03:39+0000\'\u003e28\\/Sep\\/17 02:03\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Working on documentation changes now. Will open a new JIRA as changes needs to be discussed in detail.               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-16184283\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-11003?focusedCommentId=16184283&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16184283\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16184283_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16184283_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Sep\\/17 14:51\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-09-28T14:51:41+0000\'\u003e28\\/Sep\\/17 14:51\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eDocumentation changes for CDCR jira: \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-11412\\\" title=\\\"Documentation changes for SOLR-11003: Bi-directional CDCR support\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-11412\\\"\u003e\u003cdel\u003eSOLR-11412\u003c\\/del\u003e\u003c\\/a\u003e\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16184283_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16184283_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Sep\\/17 14:51\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-09-28T14:51:41+0000\'\u003e28\\/Sep\\/17 14:51\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Documentation changes for CDCR jira:   SOLR-11412                \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-16221766\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-11003?focusedCommentId=16221766&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16221766\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"varunthacker\\\" id=\\\"commentauthor_16221766_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=varunthacker\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"varunthacker\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Varun Thacker\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16221766_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'27\\/Oct\\/17 06:13\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-10-27T06:13:55+0000\'\u003e27\\/Oct\\/17 06:13\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eHi Amrit,\u003c\\/p\u003e\\n\\n\u003cp\u003ePatch looks great!\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ctt\u003eisTargetCluster\u003c\\/tt\u003e uses the entry list size to see if we have the extra information in the tlog. This works and handles back-compat correctly.\u003cbr\\/\u003e\\nHowever I\'m more inclined to do this:\u003cbr\\/\u003e\\nEncode a CDCR TLOG version if each entry . We can use this for the back-compat check. This potentially opens the door for new features down the road to be handled differently, when to stop caring about old back-compat checks ( next major version ) etc . Lucene does it from 7.0 ( \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/LUCENE-7703\\\" title=\\\"Record the version that was used at index creation time\\\" class=\\\"issue-link\\\" data-issue-key=\\\"LUCENE-7703\\\"\u003e\u003cdel\u003eLUCENE-7703\u003c\\/del\u003e\u003c\\/a\u003e  )\u003c\\/p\u003e\\n\\n\u003cp\u003eWe could however argue that this improvement could be implemented for the regular transaction log as well. So let\'s put this for another Jira\u003c\\/p\u003e\\n\\n\u003cul class=\\\"alternate\\\" type=\\\"square\\\"\u003e\\n\\t\u003cli\u003eIn CDCRBiDirectionalTest can we have one try block instead of two currently. In the finally we could do a null check before shutting down\u003c\\/li\u003e\\n\\t\u003cli\u003eMethods like \u003ctt\u003ecdcrStart\u003c\\/tt\u003e are the same in CdcrBootstrapTest. Can we put them in a util class and reuse?We also have \u003ctt\u003eBaseCdcrDistributedZkTest#invokeCdcrAction\u003c\\/tt\u003e . Let\'s refactor the usage\u003c\\/li\u003e\\n\\t\u003cli\u003e\u003ctt\u003ewaitForClusterToSync\u003c\\/tt\u003e is the same as \u003ctt\u003eCdcrBootsrapTest#waitForTargetToSync\u003c\\/tt\u003e\u003c\\/li\u003e\\n\\t\u003cli\u003eEven \u003ctt\u003eCdcrBootstrapTest#indexDocs\u003c\\/tt\u003e can be factored into the util class and reused here?\u003c\\/li\u003e\\n\\t\u003cli\u003eCan we use the logger instead of System.out.println\u003c\\/li\u003e\\n\\t\u003cli\u003eAfter we add docs to cluster 1, can we do a assert that the numFound is not 0 . Just a sanity check to make sure we indexed docs atleast.\u003c\\/li\u003e\\n\\t\u003cli\u003eAre we printing the queue responses just for debugging? can we change that to an assert?\u003c\\/li\u003e\\n\\t\u003cli\u003eFor \u003ctt\u003e\\/get?getVersions=X\u003c\\/tt\u003e we need to do distrib=false . But since this is a one shard collection we don\'t need to I guess. You can add fingerprint=true and use the maxVersionEncountered key instead of calculating the max in code?\u003c\\/li\u003e\\n\\t\u003cli\u003eAfter a DBQ\\/delete-by-id\\/atomic updates we do a 2s thread wait. Can we not rely on this and use waitForClusterToSync? In general we should not be doing any thread sleeps in the test\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"varunthacker\\\" id=\\\"commentauthor_16221766_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=varunthacker\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"varunthacker\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Varun Thacker\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16221766_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'27\\/Oct\\/17 06:13\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-10-27T06:13:55+0000\'\u003e27\\/Oct\\/17 06:13\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Hi Amrit, \\n\\n Patch looks great! \\n\\n  isTargetCluster  uses the entry list size to see if we have the extra information in the tlog. This works and handles back-compat correctly. \\nHowever I\'m more inclined to do this: \\nEncode a CDCR TLOG version if each entry . We can use this for the back-compat check. This potentially opens the door for new features down the road to be handled differently, when to stop caring about old back-compat checks ( next major version ) etc . Lucene does it from 7.0 (   LUCENE-7703    ) \\n\\n We could however argue that this improvement could be implemented for the regular transaction log as well. So let\'s put this for another Jira \\n\\n \\n\\t In CDCRBiDirectionalTest can we have one try block instead of two currently. In the finally we could do a null check before shutting down \\n\\t Methods like  cdcrStart  are the same in CdcrBootstrapTest. Can we put them in a util class and reuse?We also have  BaseCdcrDistributedZkTest#invokeCdcrAction  . Let\'s refactor the usage \\n\\t  waitForClusterToSync  is the same as  CdcrBootsrapTest#waitForTargetToSync  \\n\\t Even  CdcrBootstrapTest#indexDocs  can be factored into the util class and reused here? \\n\\t Can we use the logger instead of System.out.println \\n\\t After we add docs to cluster 1, can we do a assert that the numFound is not 0 . Just a sanity check to make sure we indexed docs atleast. \\n\\t Are we printing the queue responses just for debugging? can we change that to an assert? \\n\\t For  \\/get?getVersions=X  we need to do distrib=false . But since this is a one shard collection we don\'t need to I guess. You can add fingerprint=true and use the maxVersionEncountered key instead of calculating the max in code? \\n\\t After a DBQ\\/delete-by-id\\/atomic updates we do a 2s thread wait. Can we not rely on this and use waitForClusterToSync? In general we should not be doing any thread sleeps in the test \\n \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-16222265\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-11003?focusedCommentId=16222265&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16222265\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16222265_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16222265_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'27\\/Oct\\/17 12:24\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-10-27T12:24:10+0000\'\u003e27\\/Oct\\/17 12:24\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eVarun,\u003c\\/p\u003e\\n\\n\u003cp\u003ethank you for the constructive feedback.\u003c\\/p\u003e\\n\\n\u003cp\u003e&gt; We could however argue that this improvement could be implemented for the regular transaction log as well. So let\'s put this for another Jira\u003cbr\\/\u003e\\nI understand what you are saying, we can certainly do this to make the back-compat safe. This can be part of next iteration of CDCR optimisation.\u003c\\/p\u003e\\n\\n\u003cp\u003e&gt; In CDCRBiDirectionalTest can we have one try block instead of two currently. In the finally we could do a null check before shutting down\u003cbr\\/\u003e\\nI was following \u003ctt\u003eCdcrBootstrapTest\u003c\\/tt\u003e format Shalin wrote, but yeah maybe two try catch not required, changed as suggested.\u003c\\/p\u003e\\n\\n\u003cp\u003e&gt; Methods like cdcrStart are the same in CdcrBootstrapTest. Can we put them in a util class and reuse?We also have BaseCdcrDistributedZkTest#invokeCdcrAction . Let\'s refactor the usage\u003cbr\\/\u003e\\n&gt; waitForClusterToSync is the same as CdcrBootsrapTest#waitForTargetToSync\u003cbr\\/\u003e\\nPositively, moved to \u003ctt\u003eCdcrTestsUtil\u003c\\/tt\u003e, we can surely make some code effective refactoring when we write this.\u003c\\/p\u003e\\n\\n\u003cp\u003e&gt; Even CdcrBootstrapTest#indexDocs can be factored into the util class and reused here?\u003cbr\\/\u003e\\nWe can, but then we have to specify the \u003ctt\u003eprefix\u003c\\/tt\u003e for id for each collection, we can leave the refactoring there I guess.\u003c\\/p\u003e\\n\\n\u003cp\u003e&gt; Can we use the logger instead of System.out.println\u003cbr\\/\u003e\\nDone.\u003c\\/p\u003e\\n\\n\u003cp\u003e&gt; After we add docs to cluster 1, can we do a assert that the numFound is not 0 . Just a sanity check to make sure we indexed docs atleast.\u003cbr\\/\u003e\\nWe have already added this check at every stage, doing \u003ctt\u003e\u003cb\u003e:\u003c\\/b\u003e\u003c\\/tt\u003e at source.\u003c\\/p\u003e\\n\\n\u003cp\u003e&gt; Are we printing the queue responses just for debugging? can we change that to an assert?\u003cbr\\/\u003e\\nWe cannot assert on that, as queue responses will be different for different clusters, we are just printing it for our reference.\u003c\\/p\u003e\\n\\n\u003cp\u003e&gt; For \\/get?getVersions=X we need to do distrib=false . But since this is a one shard collection we don\'t need to I guess. You can add fingerprint=true and use the maxVersionEncountered key instead of calculating the max in code?\u003cbr\\/\u003e\\nI have to see this, how to do this part. I copied \u003cem\u003eblindly\u003c\\/em\u003e from \u003ctt\u003eCdcrBootstrapTest\u003c\\/tt\u003e, and as \u003ctt\u003efingerprint\u003c\\/tt\u003e was not introduced when bootstrap came in, its not there.\u003c\\/p\u003e\\n\\n\u003cp\u003e&gt; After a DBQ\\/delete-by-id\\/atomic updates we do a 2s thread wait. Can we not rely on this and use waitForClusterToSync? In general we should not be doing any thread sleeps in the test\u003cbr\\/\u003e\\nYeah that was poor test writing, fixed this. Thanks for pointing it out.\u003c\\/p\u003e\\n\\n\u003cp\u003ePending: introducing \u003ctt\u003efingerprint\u003c\\/tt\u003e to get the maxVersion. \u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16222265_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16222265_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'27\\/Oct\\/17 12:24\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-10-27T12:24:10+0000\'\u003e27\\/Oct\\/17 12:24\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Varun, \\n\\n thank you for the constructive feedback. \\n\\n &gt; We could however argue that this improvement could be implemented for the regular transaction log as well. So let\'s put this for another Jira \\nI understand what you are saying, we can certainly do this to make the back-compat safe. This can be part of next iteration of CDCR optimisation. \\n\\n &gt; In CDCRBiDirectionalTest can we have one try block instead of two currently. In the finally we could do a null check before shutting down \\nI was following  CdcrBootstrapTest  format Shalin wrote, but yeah maybe two try catch not required, changed as suggested. \\n\\n &gt; Methods like cdcrStart are the same in CdcrBootstrapTest. Can we put them in a util class and reuse?We also have BaseCdcrDistributedZkTest#invokeCdcrAction . Let\'s refactor the usage \\n&gt; waitForClusterToSync is the same as CdcrBootsrapTest#waitForTargetToSync \\nPositively, moved to  CdcrTestsUtil , we can surely make some code effective refactoring when we write this. \\n\\n &gt; Even CdcrBootstrapTest#indexDocs can be factored into the util class and reused here? \\nWe can, but then we have to specify the  prefix  for id for each collection, we can leave the refactoring there I guess. \\n\\n &gt; Can we use the logger instead of System.out.println \\nDone. \\n\\n &gt; After we add docs to cluster 1, can we do a assert that the numFound is not 0 . Just a sanity check to make sure we indexed docs atleast. \\nWe have already added this check at every stage, doing   :   at source. \\n\\n &gt; Are we printing the queue responses just for debugging? can we change that to an assert? \\nWe cannot assert on that, as queue responses will be different for different clusters, we are just printing it for our reference. \\n\\n &gt; For \\/get?getVersions=X we need to do distrib=false . But since this is a one shard collection we don\'t need to I guess. You can add fingerprint=true and use the maxVersionEncountered key instead of calculating the max in code? \\nI have to see this, how to do this part. I copied  blindly  from  CdcrBootstrapTest , and as  fingerprint  was not introduced when bootstrap came in, its not there. \\n\\n &gt; After a DBQ\\/delete-by-id\\/atomic updates we do a 2s thread wait. Can we not rely on this and use waitForClusterToSync? In general we should not be doing any thread sleeps in the test \\nYeah that was poor test writing, fixed this. Thanks for pointing it out. \\n\\n Pending: introducing  fingerprint  to get the maxVersion.               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-16222341\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-11003?focusedCommentId=16222341&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16222341\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16222341_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16222341_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'27\\/Oct\\/17 13:14\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-10-27T13:14:57+0000\'\u003e27\\/Oct\\/17 13:14\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eRefactored packages, put the fingerprint in place. Beasts successfully executed.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16222341_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16222341_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'27\\/Oct\\/17 13:14\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-10-27T13:14:57+0000\'\u003e27\\/Oct\\/17 13:14\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Refactored packages, put the fingerprint in place. Beasts successfully executed.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-16223692\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-11003?focusedCommentId=16223692&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16223692\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"varunthacker\\\" id=\\\"commentauthor_16223692_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=varunthacker\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"varunthacker\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Varun Thacker\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16223692_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Oct\\/17 18:21\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-10-28T18:21:39+0000\'\u003e28\\/Oct\\/17 18:21\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eHi Amrit,\u003c\\/p\u003e\\n\\n\u003cp\u003ePatch looks very close! \u003c\\/p\u003e\\n\\n\u003cp\u003eUploaded new patch. Removed some sleep waits, changed System.out.println to use a  logger, \u003cbr\\/\u003e\\n removed unused imports added CHANGES etc.\u003c\\/p\u003e\\n\\n\u003cp\u003eI think we still need to work on the tests a little more . Here are my two concerns \u003c\\/p\u003e\\n\\n\u003cp\u003e1. What are we trying to test with this part?\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e\\r\\n      response = CdcrTestsUtil.getCdcrQueue(cluster1SolrClient);\\r\\n      log.info(\u003cspan class=\\\"code-quote\\\"\u003e\\\"Cdcr cluster1 queue response: \\\"\u003c\\/span\u003e + response.getResponse());\\r\\n      response = CdcrTestsUtil.getCdcrQueue(cluster2SolrClient);\\r\\n      log.info(\u003cspan class=\\\"code-quote\\\"\u003e\\\"Cdcr cluster2 queue response: \\\"\u003c\\/span\u003e + response.getResponse());\\r\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\\n\u003cp\u003e2. We should change the collections to be 2 shards instead of 1. It\'s probably have better test coverage for DBQs etc.\u003c\\/p\u003e\\n\\n\u003cp\u003eYou would need to check the individual shards for the fingerprint and checkpoint matches so it might require some additional work.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"varunthacker\\\" id=\\\"commentauthor_16223692_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=varunthacker\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"varunthacker\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Varun Thacker\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16223692_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Oct\\/17 18:21\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-10-28T18:21:39+0000\'\u003e28\\/Oct\\/17 18:21\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Hi Amrit, \\n\\n Patch looks very close!  \\n\\n Uploaded new patch. Removed some sleep waits, changed System.out.println to use a  logger,  \\n removed unused imports added CHANGES etc. \\n\\n I think we still need to work on the tests a little more . Here are my two concerns  \\n\\n 1. What are we trying to test with this part? \\n\\n  \\n \\r\\n      response = CdcrTestsUtil.getCdcrQueue(cluster1SolrClient);\\r\\n      log.info( \\\"Cdcr cluster1 queue response: \\\"  + response.getResponse());\\r\\n      response = CdcrTestsUtil.getCdcrQueue(cluster2SolrClient);\\r\\n      log.info( \\\"Cdcr cluster2 queue response: \\\"  + response.getResponse());\\r\\n \\n  \\n\\n 2. We should change the collections to be 2 shards instead of 1. It\'s probably have better test coverage for DBQs etc. \\n\\n You would need to check the individual shards for the fingerprint and checkpoint matches so it might require some additional work.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-16223729\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-11003?focusedCommentId=16223729&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16223729\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16223729_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16223729_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Oct\\/17 20:42\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-10-28T20:42:45+0000\'\u003e28\\/Oct\\/17 20:42\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Amrit Sarkar - 28\\/Oct\\/17 20:43\\\"\u003eedited\u003c\\/span\u003e \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cblockquote\u003e\u003cp\u003e1. What are we trying to test with this part?\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\u003cp\u003ePrint the current status of the cdcr -queue, tlog size, total tlogs. No usage when all goes well, when it doesn\'t; it will provide us exact number of what\'s up in the cdcr queues of the respective clusters, which cluster was behind etc.\u003c\\/p\u003e\\n\\n\u003cblockquote\u003e\u003cp\u003e2. We should change the collections to be 2 shards instead of 1. It\'s probably have better test coverage for DBQs etc.\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\u003cp\u003eMakes sense. Though it is proven there is no multiple back and forth DBQ, as we add the same doc in next iteration which we delete via DBQ.\u003c\\/p\u003e\\n\\n\u003cp\u003eAlso, your latest patch, I cannot apply on the \u003ctt\u003emaster\u003c\\/tt\u003e branch. First, the patch is cut from \u003ctt\u003esolr\u003c\\/tt\u003e module. Second, I think something\'s wrong with the refactoring I did moving all cdcr tests under one directory.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16223729_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16223729_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'28\\/Oct\\/17 20:42\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-10-28T20:42:45+0000\'\u003e28\\/Oct\\/17 20:42\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Amrit Sarkar - 28\\/Oct\\/17 20:43\\\"\u003eedited\u003c\\/span\u003e                    1. What are we trying to test with this part?  \\n Print the current status of the cdcr -queue, tlog size, total tlogs. No usage when all goes well, when it doesn\'t; it will provide us exact number of what\'s up in the cdcr queues of the respective clusters, which cluster was behind etc. \\n\\n  2. We should change the collections to be 2 shards instead of 1. It\'s probably have better test coverage for DBQs etc.  \\n Makes sense. Though it is proven there is no multiple back and forth DBQ, as we add the same doc in next iteration which we delete via DBQ. \\n\\n Also, your latest patch, I cannot apply on the  master  branch. First, the patch is cut from  solr  module. Second, I think something\'s wrong with the refactoring I did moving all cdcr tests under one directory.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-16225060\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-11003?focusedCommentId=16225060&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16225060\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"varunthacker\\\" id=\\\"commentauthor_16225060_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=varunthacker\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"varunthacker\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Varun Thacker\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16225060_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Oct\\/17 14:52\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-10-30T14:52:18+0000\'\u003e30\\/Oct\\/17 14:52\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eDoes this patch apply cleanly for you ?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"varunthacker\\\" id=\\\"commentauthor_16225060_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=varunthacker\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"varunthacker\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Varun Thacker\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16225060_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Oct\\/17 14:52\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-10-30T14:52:18+0000\'\u003e30\\/Oct\\/17 14:52\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Does this patch apply cleanly for you ?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-16225077\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-11003?focusedCommentId=16225077&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16225077\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16225077_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16225077_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Oct\\/17 15:00\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-10-30T15:00:40+0000\'\u003e30\\/Oct\\/17 15:00\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=varunthacker\\\" class=\\\"user-hover\\\" rel=\\\"varunthacker\\\"\u003eVarun Thacker\u003c\\/a\u003e\u003c\\/p\u003e\\n\\n\u003cp\u003eYes it applies smoothly. Do you need any changes in the current patch? \u003c\\/p\u003e\\n\\n\u003cp\u003eThe above two you mentioned, \u003c\\/p\u003e\\n\u003cul\u003e\\n\\t\u003cli\u003e2 shards instead of 1? The only problem \\/ caveat is the test will become heavier with two separate clusters running already, I hope it don\'t introduce unnecessary zk-timeouts or such.\u003c\\/li\u003e\\n\\t\u003cli\u003eAlso removing CdcrQueue status (it causes no harm though).\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003eLet me know.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16225077_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16225077_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Oct\\/17 15:00\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-10-30T15:00:40+0000\'\u003e30\\/Oct\\/17 15:00\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     Varun Thacker  \\n\\n Yes it applies smoothly. Do you need any changes in the current patch?  \\n\\n The above two you mentioned,  \\n \\n\\t 2 shards instead of 1? The only problem \\/ caveat is the test will become heavier with two separate clusters running already, I hope it don\'t introduce unnecessary zk-timeouts or such. \\n\\t Also removing CdcrQueue status (it causes no harm though). \\n \\n\\n\\n Let me know.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-16225107\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-11003?focusedCommentId=16225107&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16225107\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"varunthacker\\\" id=\\\"commentauthor_16225107_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=varunthacker\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"varunthacker\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Varun Thacker\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16225107_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Oct\\/17 15:15\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-10-30T15:15:57+0000\'\u003e30\\/Oct\\/17 15:15\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cblockquote\u003e\u003cp\u003e2 shards instead of 1? The only problem \\/ caveat is the test will become heavier with two separate clusters running already, I hope it don\'t introduce unnecessary zk-timeouts or such.\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003eWe\'ll find out. But I\'d be more comfortable testing with 2 shards instead of 1. \u003c\\/p\u003e\\n\\n\u003cblockquote\u003e\u003cp\u003eAlso removing CdcrQueue status (it causes no harm though).\u003c\\/p\u003e\u003c\\/blockquote\u003e\\n\\n\u003cp\u003eSure then let\'s keep it then. We can add a code comment clarifying that this is only to observe the queue length when the test runs\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"varunthacker\\\" id=\\\"commentauthor_16225107_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=varunthacker\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"varunthacker\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Varun Thacker\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16225107_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'30\\/Oct\\/17 15:15\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-10-30T15:15:57+0000\'\u003e30\\/Oct\\/17 15:15\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                     2 shards instead of 1? The only problem \\/ caveat is the test will become heavier with two separate clusters running already, I hope it don\'t introduce unnecessary zk-timeouts or such.  \\n\\n We\'ll find out. But I\'d be more comfortable testing with 2 shards instead of 1.  \\n\\n  Also removing CdcrQueue status (it causes no harm though).  \\n\\n Sure then let\'s keep it then. We can add a code comment clarifying that this is only to observe the queue length when the test runs              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-16226365\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-11003?focusedCommentId=16226365&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16226365\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16226365_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16226365_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'31\\/Oct\\/17 07:08\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-10-31T07:08:04+0000\'\u003e31\\/Oct\\/17 07:08\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eVarun,\u003c\\/p\u003e\\n\\n\u003cp\u003ePatch is all set and ready. \u003c\\/p\u003e\\n\\n\u003cp\u003eOne issue we discussed offline is the \u003ctt\u003esleep\u003c\\/tt\u003e we put after we start CDCR on each clusters. CDCR status changes to \\\"started\\\" before setting up LogReader pointer on target cluster collection. We can introduce CDCR status \\\"running\\\" in near future to accommodate this. Beasts of 100 are passed successfully.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16226365_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16226365_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'31\\/Oct\\/17 07:08\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-10-31T07:08:04+0000\'\u003e31\\/Oct\\/17 07:08\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Varun, \\n\\n Patch is all set and ready.  \\n\\n One issue we discussed offline is the  sleep  we put after we start CDCR on each clusters. CDCR status changes to \\\"started\\\" before setting up LogReader pointer on target cluster collection. We can introduce CDCR status \\\"running\\\" in near future to accommodate this. Beasts of 100 are passed successfully.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-16227304\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-11003?focusedCommentId=16227304&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16227304\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_16227304_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16227304_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'31\\/Oct\\/17 18:43\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-10-31T18:43:28+0000\'\u003e31\\/Oct\\/17 18:43\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eCommit bc46de3b2a07b77d40e85e1609d0ee04eacbcf76 in lucene-solr\'s branch refs\\/heads\\/master from \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=varunthacker\\\" class=\\\"user-hover\\\" rel=\\\"varunthacker\\\"\u003eVarun Thacker\u003c\\/a\u003e\u003cbr\\/\u003e\\n[ \u003ca href=\\\"https:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=bc46de3\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttps:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=bc46de3\u003c\\/a\u003e ]\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-11003\\\" title=\\\"Enabling bi-directional CDCR on cluster for better failover\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-11003\\\"\u003e\u003cdel\u003eSOLR-11003\u003c\\/del\u003e\u003c\\/a\u003e\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_16227304_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16227304_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'31\\/Oct\\/17 18:43\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-10-31T18:43:28+0000\'\u003e31\\/Oct\\/17 18:43\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Commit bc46de3b2a07b77d40e85e1609d0ee04eacbcf76 in lucene-solr\'s branch refs\\/heads\\/master from  Varun Thacker  \\n[  https:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=bc46de3  ] \\n\\n   SOLR-11003                \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-16227315\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-11003?focusedCommentId=16227315&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16227315\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_16227315_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16227315_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'31\\/Oct\\/17 18:50\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-10-31T18:50:49+0000\'\u003e31\\/Oct\\/17 18:50\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eCommit 12d9d67dab3ae0619b92953edde8d4fec96786ff in lucene-solr\'s branch refs\\/heads\\/master from \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=varunthacker\\\" class=\\\"user-hover\\\" rel=\\\"varunthacker\\\"\u003eVarun Thacker\u003c\\/a\u003e\u003cbr\\/\u003e\\n[ \u003ca href=\\\"https:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=12d9d67\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttps:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=12d9d67\u003c\\/a\u003e ]\u003c\\/p\u003e\\n\\n\u003cp\u003eRevert \\\"\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-11003\\\" title=\\\"Enabling bi-directional CDCR on cluster for better failover\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-11003\\\"\u003e\u003cdel\u003eSOLR-11003\u003c\\/del\u003e\u003c\\/a\u003e\\\"\u003c\\/p\u003e\\n\\n\u003cp\u003eThis reverts commit bc46de3b2a07b77d40e85e1609d0ee04eacbcf76.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_16227315_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16227315_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'31\\/Oct\\/17 18:50\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-10-31T18:50:49+0000\'\u003e31\\/Oct\\/17 18:50\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Commit 12d9d67dab3ae0619b92953edde8d4fec96786ff in lucene-solr\'s branch refs\\/heads\\/master from  Varun Thacker  \\n[  https:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=12d9d67  ] \\n\\n Revert \\\"  SOLR-11003  \\\" \\n\\n This reverts commit bc46de3b2a07b77d40e85e1609d0ee04eacbcf76.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-16227317\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-11003?focusedCommentId=16227317&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16227317\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"varunthacker\\\" id=\\\"commentauthor_16227317_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=varunthacker\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"varunthacker\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Varun Thacker\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16227317_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'31\\/Oct\\/17 18:51\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-10-31T18:51:34+0000\'\u003e31\\/Oct\\/17 18:51\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eSorry for the noise here. This was a local stale commit which got pushed with another commit and it wasn\'t intended.\u003c\\/p\u003e\\n\\n\u003cp\u003eI plan on applying the latest patch that Amrit provided, testing that and then commit it. \u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"varunthacker\\\" id=\\\"commentauthor_16227317_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=varunthacker\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"varunthacker\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Varun Thacker\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16227317_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'31\\/Oct\\/17 18:51\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-10-31T18:51:34+0000\'\u003e31\\/Oct\\/17 18:51\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Sorry for the noise here. This was a local stale commit which got pushed with another commit and it wasn\'t intended. \\n\\n I plan on applying the latest patch that Amrit provided, testing that and then commit it.               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-16227520\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-11003?focusedCommentId=16227520&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16227520\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"varunthacker\\\" id=\\\"commentauthor_16227520_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=varunthacker\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"varunthacker\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Varun Thacker\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16227520_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'31\\/Oct\\/17 20:47\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-10-31T20:47:58+0000\'\u003e31\\/Oct\\/17 20:47\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI still don\'t see the test using two shards in this patch\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"varunthacker\\\" id=\\\"commentauthor_16227520_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=varunthacker\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"varunthacker\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Varun Thacker\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16227520_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'31\\/Oct\\/17 20:47\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-10-31T20:47:58+0000\'\u003e31\\/Oct\\/17 20:47\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I still don\'t see the test using two shards in this patch              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-16227529\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-11003?focusedCommentId=16227529&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16227529\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16227529_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16227529_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'31\\/Oct\\/17 20:53\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-10-31T20:53:13+0000\'\u003e31\\/Oct\\/17 20:53\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Amrit Sarkar - 31\\/Oct\\/17 20:54\\\"\u003eedited\u003c\\/span\u003e \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003ePF the latest, it is the same as the last. These two lines changed:\u003c\\/p\u003e\\n\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e\\r\\n          CollectionAdminRequest.createCollection(\u003cspan class=\\\"code-quote\\\"\u003e\\\"cdcr-cluster1\\\"\u003c\\/span\u003e, \u003cspan class=\\\"code-quote\\\"\u003e\\\"cdcr-cluster1\\\"\u003c\\/span\u003e, 2, 1)\\r\\n          .withProperty(\u003cspan class=\\\"code-quote\\\"\u003e\\\"solr.directoryFactory\\\"\u003c\\/span\u003e, \u003cspan class=\\\"code-quote\\\"\u003e\\\"solr.StandardDirectoryFactory\\\"\u003c\\/span\u003e)\\r\\n          .setMaxShardsPerNode(2)\\r\\n          .process(cluster1.getSolrClient());\\r\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e\\r\\n          CollectionAdminRequest.createCollection(\u003cspan class=\\\"code-quote\\\"\u003e\\\"cdcr-cluster2\\\"\u003c\\/span\u003e, \u003cspan class=\\\"code-quote\\\"\u003e\\\"cdcr-cluster2\\\"\u003c\\/span\u003e, 2, 1)\\r\\n          .withProperty(\u003cspan class=\\\"code-quote\\\"\u003e\\\"solr.directoryFactory\\\"\u003c\\/span\u003e, \u003cspan class=\\\"code-quote\\\"\u003e\\\"solr.StandardDirectoryFactory\\\"\u003c\\/span\u003e)\\r\\n          .setMaxShardsPerNode(2)\\r\\n          .process(cluster2.getSolrClient());\\r\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e\\n\u003cdiv class=\\\"code panel\\\" style=\\\"border-width: 1px;\\\"\u003e\u003cdiv class=\\\"codeContent panelContent\\\"\u003e\\n\u003cpre class=\\\"code-java\\\"\u003e\\r\\n     \u003cspan class=\\\"code-object\\\"\u003elong\u003c\\/span\u003e maxVersion_c1 = \u003cspan class=\\\"code-object\\\"\u003eMath\u003c\\/span\u003e.min((\u003cspan class=\\\"code-object\\\"\u003elong\u003c\\/span\u003e)CdcrTestsUtil.getFingerPrintMaxVersion(cluster1SolrClient, \u003cspan class=\\\"code-quote\\\"\u003e\\\"shard1\\\"\u003c\\/span\u003e, numDocs),\\r\\n          (\u003cspan class=\\\"code-object\\\"\u003elong\u003c\\/span\u003e)CdcrTestsUtil.getFingerPrintMaxVersion(cluster1SolrClient, \u003cspan class=\\\"code-quote\\\"\u003e\\\"shard2\\\"\u003c\\/span\u003e, numDocs));\\r\\n      \u003cspan class=\\\"code-object\\\"\u003elong\u003c\\/span\u003e maxVersion_c2 = \u003cspan class=\\\"code-object\\\"\u003eMath\u003c\\/span\u003e.min((\u003cspan class=\\\"code-object\\\"\u003elong\u003c\\/span\u003e)CdcrTestsUtil.getFingerPrintMaxVersion(cluster2SolrClient, \u003cspan class=\\\"code-quote\\\"\u003e\\\"shard1\\\"\u003c\\/span\u003e, numDocs),\\r\\n          (\u003cspan class=\\\"code-object\\\"\u003elong\u003c\\/span\u003e)CdcrTestsUtil.getFingerPrintMaxVersion(cluster2SolrClient, \u003cspan class=\\\"code-quote\\\"\u003e\\\"shard2\\\"\u003c\\/span\u003e, numDocs));\\r\\n\u003c\\/pre\u003e\\n\u003c\\/div\u003e\u003c\\/div\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n                                            \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"sarkaramrit2@gmail.com\\\" id=\\\"commentauthor_16227529_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=sarkaramrit2%40gmail.com\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"sarkaramrit2@gmail.com\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Amrit Sarkar\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16227529_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'31\\/Oct\\/17 20:53\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-10-31T20:53:13+0000\'\u003e31\\/Oct\\/17 20:53\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e   - \u003cspan class=\\\"redText subText\\\" title=\\\"Amrit Sarkar - 31\\/Oct\\/17 20:54\\\"\u003eedited\u003c\\/span\u003e                   PF the latest, it is the same as the last. These two lines changed: \\n\\n  \\n \\r\\n          CollectionAdminRequest.createCollection( \\\"cdcr-cluster1\\\" ,  \\\"cdcr-cluster1\\\" , 2, 1)\\r\\n          .withProperty( \\\"solr.directoryFactory\\\" ,  \\\"solr.StandardDirectoryFactory\\\" )\\r\\n          .setMaxShardsPerNode(2)\\r\\n          .process(cluster1.getSolrClient());\\r\\n \\n  \\n  \\n \\r\\n          CollectionAdminRequest.createCollection( \\\"cdcr-cluster2\\\" ,  \\\"cdcr-cluster2\\\" , 2, 1)\\r\\n          .withProperty( \\\"solr.directoryFactory\\\" ,  \\\"solr.StandardDirectoryFactory\\\" )\\r\\n          .setMaxShardsPerNode(2)\\r\\n          .process(cluster2.getSolrClient());\\r\\n \\n  \\n  \\n \\r\\n      long  maxVersion_c1 =  Math .min(( long )CdcrTestsUtil.getFingerPrintMaxVersion(cluster1SolrClient,  \\\"shard1\\\" , numDocs),\\r\\n          ( long )CdcrTestsUtil.getFingerPrintMaxVersion(cluster1SolrClient,  \\\"shard2\\\" , numDocs));\\r\\n       long  maxVersion_c2 =  Math .min(( long )CdcrTestsUtil.getFingerPrintMaxVersion(cluster2SolrClient,  \\\"shard1\\\" , numDocs),\\r\\n          ( long )CdcrTestsUtil.getFingerPrintMaxVersion(cluster2SolrClient,  \\\"shard2\\\" , numDocs));\\r\\n \\n               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-16238544\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-11003?focusedCommentId=16238544&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16238544\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"varunthacker\\\" id=\\\"commentauthor_16238544_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=varunthacker\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"varunthacker\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Varun Thacker\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16238544_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Nov\\/17 23:00\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-11-03T23:00:59+0000\'\u003e03\\/Nov\\/17 23:00\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eMade some changes to CdcrBidirectionalTest \u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"varunthacker\\\" id=\\\"commentauthor_16238544_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=varunthacker\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"varunthacker\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Varun Thacker\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16238544_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Nov\\/17 23:00\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-11-03T23:00:59+0000\'\u003e03\\/Nov\\/17 23:00\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Made some changes to CdcrBidirectionalTest               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-16238579\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-11003?focusedCommentId=16238579&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16238579\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_16238579_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16238579_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Nov\\/17 23:27\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-11-03T23:27:10+0000\'\u003e03\\/Nov\\/17 23:27\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eCommit db18de7e6b9783df3bec80ca02de415e306c4e87 in lucene-solr\'s branch refs\\/heads\\/master from \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=varunthacker\\\" class=\\\"user-hover\\\" rel=\\\"varunthacker\\\"\u003eVarun Thacker\u003c\\/a\u003e\u003cbr\\/\u003e\\n[ \u003ca href=\\\"https:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=db18de7\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttps:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=db18de7\u003c\\/a\u003e ]\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-11003\\\" title=\\\"Enabling bi-directional CDCR on cluster for better failover\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-11003\\\"\u003e\u003cdel\u003eSOLR-11003\u003c\\/del\u003e\u003c\\/a\u003e: Support bi-directional syncing of cdcr clusters. We still only support actively into one cluster cluster,\u003cbr\\/\u003e\\n but have the ability to switch indexing clusters and cdcr will replicate correctly\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_16238579_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16238579_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'03\\/Nov\\/17 23:27\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-11-03T23:27:10+0000\'\u003e03\\/Nov\\/17 23:27\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Commit db18de7e6b9783df3bec80ca02de415e306c4e87 in lucene-solr\'s branch refs\\/heads\\/master from  Varun Thacker  \\n[  https:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=db18de7  ] \\n\\n   SOLR-11003  : Support bi-directional syncing of cdcr clusters. We still only support actively into one cluster cluster, \\n but have the ability to switch indexing clusters and cdcr will replicate correctly              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-16240493\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-11003?focusedCommentId=16240493&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16240493\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_16240493_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16240493_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'06\\/Nov\\/17 16:13\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-11-06T16:13:27+0000\'\u003e06\\/Nov\\/17 16:13\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eCommit a30c92a79cd75d3c4fe21829e70292f8314afd4f in lucene-solr\'s branch refs\\/heads\\/branch_7x from \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=varunthacker\\\" class=\\\"user-hover\\\" rel=\\\"varunthacker\\\"\u003eVarun Thacker\u003c\\/a\u003e\u003cbr\\/\u003e\\n[ \u003ca href=\\\"https:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=a30c92a\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttps:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=a30c92a\u003c\\/a\u003e ]\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-11003\\\" title=\\\"Enabling bi-directional CDCR on cluster for better failover\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-11003\\\"\u003e\u003cdel\u003eSOLR-11003\u003c\\/del\u003e\u003c\\/a\u003e: Support bi-directional syncing of cdcr clusters. We still only support actively into one cluster cluster,\u003cbr\\/\u003e\\n but have the ability to switch indexing clusters and cdcr will replicate correctly\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_16240493_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16240493_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'06\\/Nov\\/17 16:13\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-11-06T16:13:27+0000\'\u003e06\\/Nov\\/17 16:13\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Commit a30c92a79cd75d3c4fe21829e70292f8314afd4f in lucene-solr\'s branch refs\\/heads\\/branch_7x from  Varun Thacker  \\n[  https:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=a30c92a  ] \\n\\n   SOLR-11003  : Support bi-directional syncing of cdcr clusters. We still only support actively into one cluster cluster, \\n but have the ability to switch indexing clusters and cdcr will replicate correctly              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-16240498\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-11003?focusedCommentId=16240498&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16240498\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_16240498_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16240498_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'06\\/Nov\\/17 16:15\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-11-06T16:15:40+0000\'\u003e06\\/Nov\\/17 16:15\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eCommit a0163232edfaa3068c6240a352781e0637f53b1c in lucene-solr\'s branch refs\\/heads\\/branch_7x from \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=varunthacker\\\" class=\\\"user-hover\\\" rel=\\\"varunthacker\\\"\u003eVarun Thacker\u003c\\/a\u003e\u003cbr\\/\u003e\\n[ \u003ca href=\\\"https:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=a016323\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttps:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=a016323\u003c\\/a\u003e ]\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-11003\\\" title=\\\"Enabling bi-directional CDCR on cluster for better failover\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-11003\\\"\u003e\u003cdel\u003eSOLR-11003\u003c\\/del\u003e\u003c\\/a\u003e: Improve description of the feature in the CHANGES file\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_16240498_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16240498_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'06\\/Nov\\/17 16:15\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-11-06T16:15:40+0000\'\u003e06\\/Nov\\/17 16:15\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Commit a0163232edfaa3068c6240a352781e0637f53b1c in lucene-solr\'s branch refs\\/heads\\/branch_7x from  Varun Thacker  \\n[  https:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=a016323  ] \\n\\n   SOLR-11003  : Improve description of the feature in the CHANGES file              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-16240499\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-11003?focusedCommentId=16240499&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16240499\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_16240499_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16240499_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'06\\/Nov\\/17 16:16\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-11-06T16:16:13+0000\'\u003e06\\/Nov\\/17 16:16\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eCommit fdff8deabdffe6a840fc1cbb5eb249aaed3fed63 in lucene-solr\'s branch refs\\/heads\\/master from \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=varunthacker\\\" class=\\\"user-hover\\\" rel=\\\"varunthacker\\\"\u003eVarun Thacker\u003c\\/a\u003e\u003cbr\\/\u003e\\n[ \u003ca href=\\\"https:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=fdff8de\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttps:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=fdff8de\u003c\\/a\u003e ]\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-11003\\\" title=\\\"Enabling bi-directional CDCR on cluster for better failover\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-11003\\\"\u003e\u003cdel\u003eSOLR-11003\u003c\\/del\u003e\u003c\\/a\u003e: Improve description of the feature in the CHANGES file\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_16240499_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16240499_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'06\\/Nov\\/17 16:16\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-11-06T16:16:13+0000\'\u003e06\\/Nov\\/17 16:16\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Commit fdff8deabdffe6a840fc1cbb5eb249aaed3fed63 in lucene-solr\'s branch refs\\/heads\\/master from  Varun Thacker  \\n[  https:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=fdff8de  ] \\n\\n   SOLR-11003  : Improve description of the feature in the CHANGES file              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-16240500\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-11003?focusedCommentId=16240500&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16240500\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"varunthacker\\\" id=\\\"commentauthor_16240500_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=varunthacker\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"varunthacker\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Varun Thacker\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16240500_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'06\\/Nov\\/17 16:16\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-11-06T16:16:38+0000\'\u003e06\\/Nov\\/17 16:16\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThanks Amrit !\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"varunthacker\\\" id=\\\"commentauthor_16240500_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=varunthacker\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"varunthacker\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Varun Thacker\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16240500_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'06\\/Nov\\/17 16:16\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-11-06T16:16:38+0000\'\u003e06\\/Nov\\/17 16:16\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Thanks Amrit !              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-16244176\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-11003?focusedCommentId=16244176&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16244176\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_16244176_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16244176_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Nov\\/17 15:40\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-11-08T15:40:26+0000\'\u003e08\\/Nov\\/17 15:40\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eCommit dcbcabbd54c0a21c69a891d0fe5955d190d4bfc0 in lucene-solr\'s branch refs\\/heads\\/branch_7x from \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=steve_rowe\\\" class=\\\"user-hover\\\" rel=\\\"steve_rowe\\\"\u003eSteve Rowe\u003c\\/a\u003e\u003cbr\\/\u003e\\n[ \u003ca href=\\\"https:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=dcbcabb\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttps:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=dcbcabb\u003c\\/a\u003e ]\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-11003\\\" title=\\\"Enabling bi-directional CDCR on cluster for better failover\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-11003\\\"\u003e\u003cdel\u003eSOLR-11003\u003c\\/del\u003e\u003c\\/a\u003e: Do not import ImmutableMap from shaded junit4-ant jar\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_16244176_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16244176_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Nov\\/17 15:40\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-11-08T15:40:26+0000\'\u003e08\\/Nov\\/17 15:40\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Commit dcbcabbd54c0a21c69a891d0fe5955d190d4bfc0 in lucene-solr\'s branch refs\\/heads\\/branch_7x from  Steve Rowe  \\n[  https:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=dcbcabb  ] \\n\\n   SOLR-11003  : Do not import ImmutableMap from shaded junit4-ant jar              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-16244177\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/SOLR-11003?focusedCommentId=16244177&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16244177\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_16244177_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16244177_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Nov\\/17 15:40\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-11-08T15:40:28+0000\'\u003e08\\/Nov\\/17 15:40\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eCommit b28ed8f0ef84100dea2410b2ef394ad93aded27d in lucene-solr\'s branch refs\\/heads\\/master from \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/ViewProfile.jspa?name=steve_rowe\\\" class=\\\"user-hover\\\" rel=\\\"steve_rowe\\\"\u003eSteve Rowe\u003c\\/a\u003e\u003cbr\\/\u003e\\n[ \u003ca href=\\\"https:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=b28ed8f\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttps:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=b28ed8f\u003c\\/a\u003e ]\u003c\\/p\u003e\\n\\n\u003cp\u003e\u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/SOLR-11003\\\" title=\\\"Enabling bi-directional CDCR on cluster for better failover\\\" class=\\\"issue-link\\\" data-issue-key=\\\"SOLR-11003\\\"\u003e\u003cdel\u003eSOLR-11003\u003c\\/del\u003e\u003c\\/a\u003e: Do not import ImmutableMap from shaded junit4-ant jar\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"jira-bot\\\" id=\\\"commentauthor_16244177_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=jira-bot\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"jira-bot\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e ASF subversion and git services\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_16244177_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'08\\/Nov\\/17 15:40\'\u003e\u003ctime class=\'livestamp\' datetime=\'2017-11-08T15:40:28+0000\'\u003e08\\/Nov\\/17 15:40\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Commit b28ed8f0ef84100dea2410b2ef394ad93aded27d in lucene-solr\'s branch refs\\/heads\\/master from  Steve Rowe  \\n[  https:\\/\\/git-wip-us.apache.org\\/repos\\/asf?p=lucene-solr.git;h=b28ed8f  ] \\n\\n   SOLR-11003  : Do not import ImmutableMap from shaded junit4-ant jar              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\"";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["scope-filter-data"]="{\"createScopeActions\":[],\"scopes\":[]}";
WRM._unparsedData["sidebar-collapsed-by-default"]="true";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:can-manage"]="false";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:with-icons"]="false";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:shortcuts"]="[]";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:project-id"]="12310230";
WRM._unparsedData["sidebar-id"]="\"\u003cdiv class=\\\"aui-sidebar  projects-sidebar sidebar-pending\\\" \u003e\u003cdiv class=\\\"aui-sidebar-wrapper\\\"\u003e\u003cdiv class=\\\"aui-sidebar-body\\\"\u003e\u003cheader class=\\\"aui-page-header\\\"\u003e\u003cdiv class=\\\"aui-page-header-inner\\\"\u003e\u003cdiv class=\\\"aui-page-header-image\\\"\u003e\u003ca href=\\\"\\/jira\\/projects\\/SOLR\\/summary\\\" title=\\\"Solr\\\" class=\\\"jira-project-avatar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-large aui-avatar-project\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"\\/jira\\/secure\\/projectavatar?pid=12310230&amp;avatarId=22151\\\" alt=\\\"Solr\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e\u003cimg src=\\\"data:image\\/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI\\/Pg0KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE4LjEuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPg0KPHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgdmlld0JveD0iMCAwIDMwMCAzMDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMwMCAzMDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxnIGlkPSJMYXllcl8yIj4NCgk8cGF0aCBzdHlsZT0iZmlsbDojRjc5MjMyOyIgZD0iTTE1MCwwQzY2LjY2NywwLDAsNjYuNjY3LDAsMTUwczY2LjY2NywxNTAsMTUwLDE1MHMxNTAtNjYuNjY3LDE1MC0xNTBTMjMzLjMzMywwLDE1MCwweg0KCQkgTTEzNi42NjcsMTc4LjMzM0wxMjUsMTkwbC00MS42NjctNDBMOTUsMTM4LjMzM2wzMC0zMEwxMzYuNjY3LDEyMGwtMzAsMzBMMTM2LjY2NywxNzguMzMzeiBNMjA1LDE2MS42NjdsLTMwLDMwTDE2My4zMzMsMTgwDQoJCWwzMC0zMGwtMzAtMzBMMTc1LDEwOC4zMzNMMjE2LjY2NywxNTBMMjA1LDE2MS42Njd6Ii8+DQo8L2c+DQo8Zz4NCgk8cG9seWdvbiBzdHlsZT0iZmlsbDojRkZGRkZGOyIgcG9pbnRzPSIxNzUsMTkxLjY2NyAyMDUsMTYxLjY2NyAyMTYuNjY3LDE1MCAxNzUsMTA4LjMzMyAxNjMuMzMzLDEyMCAxOTMuMzMzLDE1MCAxNjMuMzMzLDE4MCAJIi8+DQoJPHBvbHlnb24gc3R5bGU9ImZpbGw6I0ZGRkZGRjsiIHBvaW50cz0iMTI1LDEwOC4zMzMgOTUsMTM4LjMzMyA4My4zMzMsMTUwIDEyNSwxOTAgMTM2LjY2NywxNzguMzMzIDEwNi42NjcsMTUwIDEzNi42NjcsMTIwIAkiLz4NCjwvZz4NCjwvc3ZnPg0K\\\" alt=\\\"Icon indicating the project type\\\" class=\\\"jira-project-avatar-icon\\\" \\/\u003e\u003c\\/a\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-image --\u003e\u003cdiv class=\\\"aui-page-header-main\\\"\u003e\u003ch1\u003e\u003cdiv class=\\\"aui-group aui-group-split\\\"\u003e\u003cdiv class=\\\"aui-item project-title\\\"\u003e\u003ca href=\\\"\\/jira\\/projects\\/SOLR\\/summary\\\" title=\\\"Solr\\\"\u003eSolr\u003c\\/a\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/h1\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-main --\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-inner --\u003e\u003c\\/header\u003e\u003c!-- .aui-page-header --\u003e\u003cnav class=\\\"aui-navgroup aui-navgroup-vertical\\\"\u003e\u003cdiv class=\\\"aui-navgroup-inner sidebar-content-container\\\"\u003e\u003cdiv class=\\\"aui-sidebar-group aui-sidebar-group-tier-one\\\" data-id=\\\"sidebar-navigation-panel\\\"\u003e\u003cul class=\\\"aui-nav\\\"\u003e\u003cli class=\\\"aui-nav-selected\\\" \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/SOLR\\/issues\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-issue-navigator:sidebar-issue-navigator\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large icon-sidebar-issues\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Issues\\\"\u003eIssues\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003cli  \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/SOLR?selectedItem=com.atlassian.jira.jira-projects-plugin:report-page\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-plugin:report-page\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large agile-icon-report\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Reports\\\"\u003eReports\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003cli  \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/SOLR?selectedItem=com.atlassian.jira.jira-projects-plugin:components-page\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-plugin:components-page\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large icon-sidebar-components\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Components\\\"\u003eComponents\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003c\\/ul\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/nav\u003e\u003c\\/div\u003e\u003cdiv class=\\\"aui-sidebar-footer\\\"\u003e\u003ca class=\\\"aui-button aui-button-subtle aui-sidebar-toggle aui-sidebar-footer-tipsy\\\" data-tooltip=\\\"Expand sidebar ( [ )\\\" href=\\\"#\\\"\u003e\u003cspan class=\\\"aui-icon aui-icon-small\\\"\u003e\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/div\u003e\"";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/-juyfor/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:bigpipe-init/jira.webresources:bigpipe-init.js" data-wrm-key="jira.webresources:bigpipe-init" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <form id="jira_request_timing_info" class="dont-default-focus"> 
   <fieldset class="parameters hidden"> 
    <input type="hidden" title="jira.request.start.millis" value="1516228618128"> 
    <input type="hidden" title="jira.request.server.time" value="692"> 
    <input type="hidden" title="jira.request.id" value="1356x8580741x6"> 
    <input type="hidden" title="jira.session.expiry.time" value="-"> 
    <input type="hidden" title="jira.session.expiry.in.mins" value="-"> 
    <input id="jiraConcurrentRequests" type="hidden" name="jira.request.concurrent.requests" value="4"> 
    <input type="hidden" title="db.reads.time.in.ms" value="121"> 
    <input type="hidden" title="db.conns.time.in.ms" value="134"> 
   </fieldset> 
  </form> 
  <!--
	                 REQUEST ID : 1356x8580741x6
	          REQUEST TIMESTAMP : [17/Jan/2018:22:36:58 +0000]
	               REQUEST TIME : 0.6920
	                 ASESSIONID : -
	        CONCURRENT REQUESTS : 4

	                      db.reads : OpSnapshot{name='db.reads', invocationCount=52, elapsedTotal=121774158, elapsedMin=595842, elapsedMax=58903051, resultSetSize=0, cpuTotal=0, cpuMin=0, cpuMax=0}
	                      db.conns : OpSnapshot{name='db.conns', invocationCount=56, elapsedTotal=134063429, elapsedMin=668670, elapsedMax=58986014, resultSetSize=0, cpuTotal=0, cpuMin=0, cpuMax=0}
-->   
 </body>
</html>