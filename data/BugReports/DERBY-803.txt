<!doctype html>
<html lang="en">
 <head> 
  <meta charset="utf-8"> 
  <meta http-equiv="X-UA-Compatible" content="IE=Edge"> 
  <meta name="application-name" content="JIRA" data-name="jira" data-version="7.6.3">
  <meta name="ajs-viewissue-use-history-api" content="false"> 
  <meta name="ajs-jira-base-url" content="https://issues.apache.org/jira"> 
  <meta name="ajs-serverRenderedViewIssue" content="true"> 
  <meta name="ajs-dev-mode" content="false"> 
  <meta name="ajs-context-path" content="/jira"> 
  <meta name="ajs-version-number" content="7.6.3"> 
  <meta name="ajs-build-number" content="76005"> 
  <meta name="ajs-is-beta" content="false"> 
  <meta name="ajs-is-rc" content="false"> 
  <meta name="ajs-is-snapshot" content="false"> 
  <meta name="ajs-is-milestone" content="false"> 
  <meta name="ajs-remote-user" content=""> 
  <meta name="ajs-remote-user-fullname" content=""> 
  <meta name="ajs-user-locale" content="en_UK"> 
  <meta name="ajs-user-locale-group-separator" content=","> 
  <meta name="ajs-app-title" content="ASF JIRA"> 
  <meta name="ajs-keyboard-shortcuts-enabled" content="true"> 
  <meta name="ajs-keyboard-accesskey-modifier" content="Ctrl+Alt"> 
  <meta name="ajs-enabled-dark-features" content="[&quot;com.atlassian.jira.agile.darkfeature.editable.detailsview&quot;,&quot;nps.survey.inline.dialog&quot;,&quot;com.atlassian.jira.agile.darkfeature.edit.closed.sprint.enabled&quot;,&quot;jira.plugin.devstatus.phasetwo&quot;,&quot;jira.frother.reporter.field&quot;,&quot;atlassian.rest.xsrf.legacy.enabled&quot;,&quot;jira.issue.status.lozenge&quot;,&quot;com.atlassian.jira.config.BIG_PIPE&quot;,&quot;com.atlassian.jira.projects.issuenavigator&quot;,&quot;com.atlassian.jira.config.PDL&quot;,&quot;jira.plugin.devstatus.phasetwo.enabled&quot;,&quot;atlassian.aui.raphael.disabled&quot;,&quot;app-switcher.new&quot;,&quot;frother.assignee.field&quot;,&quot;com.atlassian.jira.projects.ProjectCentricNavigation.Switch&quot;,&quot;sd.internal.base.off.thread.on.completion.events.enabled&quot;,&quot;jira.onboarding.cyoa&quot;,&quot;com.atlassian.jira.agile.darkfeature.kanplan.enabled&quot;,&quot;sd.slavalue.record.updated.date.enabled&quot;,&quot;com.atlassian.jira.config.ProjectConfig.MENU&quot;,&quot;com.atlassian.jira.projects.sidebar.DEFER_RESOURCES&quot;,&quot;com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions.enabled&quot;,&quot;com.atlassian.jira.agile.darkfeature.sprint.goal.enabled&quot;,&quot;jira.zdu.admin-updates-ui&quot;,&quot;jira.zdu.jmx-monitoring&quot;,&quot;sd.sla.improved.rendering.enabled&quot;,&quot;sd.canned.responses.enabled&quot;,&quot;sd.new.settings.sidebar.location.disabled&quot;,&quot;jira.zdu.cluster-upgrade-state&quot;,&quot;com.atlassian.jira.agile.darkfeature.splitissue&quot;,&quot;com.atlassian.jira.config.CoreFeatures.LICENSE_ROLES_ENABLED&quot;,&quot;com.atlassian.feedback.feedback-button-move-to-header-enable&quot;,&quot;jira.export.csv.enabled&quot;]"> 
  <meta name="ajs-in-admin-mode" content="false"> 
  <meta name="ajs-is-sysadmin" content="false"> 
  <meta name="ajs-is-admin" content="false"> 
  <meta name="ajs-outgoing-mail-enabled" content="true"> 
  <meta name="ajs-date-relativize" content="true"> 
  <meta name="ajs-date-time" content="HH:mm"> 
  <meta name="ajs-date-day" content="EEEE HH:mm"> 
  <meta name="ajs-date-dmy" content="dd/MMM/yy"> 
  <meta name="ajs-date-complete" content="dd/MMM/yy HH:mm"> 
  <script type="text/javascript">var AJS=AJS||{};AJS.debug=true;</script> 
  <meta id="atlassian-token" name="atlassian-token" content="A5KQ-2QAV-T4JA-FDED|f87868badb8a2de9be57b83a80384a25d6d34e5c|lout"> 
  <link rel="shortcut icon" href="/jira/s/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/_/favicon.ico"> 
  <!--[if IE]><![endif]--> 
  <script type="text/javascript">
    (function() {
        var contextPath = '/jira';
        var eventBuffer = [];

        function printDeprecatedMsg() {
            if (console && console.warn) {
                console.warn('DEPRECATED JS - contextPath global variable has been deprecated since 7.4.0. Use `wrm/context-path` module instead.');
            }
        }

        function sendEvent(analytics, postfix) {
            analytics.send({
                name: 'js.globals.contextPath.' + postfix
            });
        }

        function sendDeprecatedEvent(postfix) {
            try {
                var analytics = require('jira/analytics');
                if (eventBuffer.length) {
                    eventBuffer.forEach(function(value) {
                        sendEvent(analytics, value);
                    });
                    eventBuffer = [];
                }

                if (postfix) {
                    sendEvent(analytics, postfix);
                }
            } catch(ex) {
                eventBuffer.push(postfix);
                setTimeout(sendDeprecatedEvent, 1000);
            }
        }

        Object.defineProperty(window, 'contextPath', {
            get: function() {
                printDeprecatedMsg();
                sendDeprecatedEvent('get');
                return contextPath;
            },
            set: function(value) {
                printDeprecatedMsg();
                sendDeprecatedEvent('set');
                contextPath = value;
            }
        });
    })();

</script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["com.atlassian.plugins.atlassian-plugins-webresource-plugin:context-path.context-path"]="\"/jira\"";
WRM._unparsedData["jira.webresources:feature-flags.feature-flag-data"]="{\"enabled-feature-keys\":[\"com.atlassian.jira.agile.darkfeature.editable.detailsview\",\"nps.survey.inline.dialog\",\"com.atlassian.jira.agile.darkfeature.edit.closed.sprint.enabled\",\"jira.plugin.devstatus.phasetwo\",\"jira.frother.reporter.field\",\"atlassian.rest.xsrf.legacy.enabled\",\"jira.issue.status.lozenge\",\"com.atlassian.jira.config.BIG_PIPE\",\"com.atlassian.jira.projects.issuenavigator\",\"com.atlassian.jira.config.PDL\",\"jira.plugin.devstatus.phasetwo.enabled\",\"atlassian.aui.raphael.disabled\",\"app-switcher.new\",\"frother.assignee.field\",\"com.atlassian.jira.projects.ProjectCentricNavigation.Switch\",\"sd.internal.base.off.thread.on.completion.events.enabled\",\"jira.onboarding.cyoa\",\"com.atlassian.jira.agile.darkfeature.kanplan.enabled\",\"sd.slavalue.record.updated.date.enabled\",\"com.atlassian.jira.config.ProjectConfig.MENU\",\"com.atlassian.jira.projects.sidebar.DEFER_RESOURCES\",\"com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions.enabled\",\"com.atlassian.jira.agile.darkfeature.sprint.goal.enabled\",\"jira.zdu.admin-updates-ui\",\"jira.zdu.jmx-monitoring\",\"sd.sla.improved.rendering.enabled\",\"sd.canned.responses.enabled\",\"sd.new.settings.sidebar.location.disabled\",\"jira.zdu.cluster-upgrade-state\",\"com.atlassian.jira.agile.darkfeature.splitissue\",\"com.atlassian.jira.config.CoreFeatures.LICENSE_ROLES_ENABLED\",\"com.atlassian.feedback.feedback-button-move-to-header-enable\",\"jira.export.csv.enabled\"],\"feature-flag-states\":{\"com.atlassian.jira.agile.darkfeature.kanplan\":false,\"sd.internal.base.off.thread.on.completion.events\":false,\"jira.instrumentation.laas\":false,\"com.atlassian.jira.agile.darkfeature.edit.closed.sprint\":false,\"com.atlassian.jira.issuetable.draggable\":true,\"jira.create.linked.issue\":true,\"com.atlassian.jira.agile.darkfeature.sprint.goal\":false,\"jira.sal.host.connect.accessor.existing.transaction.will.create.transactions\":true,\"jira.jql.suggestrecentfields\":false,\"com.atlassian.jira.agile.darkfeature.kanplan.epics.and.versions\":false,\"jira.jql.smartautoselectfirst\":false,\"com.atlassian.jira.agile.darkfeature.optimistic.transitions\":true,\"com.atlassian.jira.issuetable.move.links.hidden\":true,\"jira.priorities.per.project\":true,\"com.atlassian.jira.upgrade.startup.fix.index\":true,\"jira.renderer.consider.variable.format\":true}}";
WRM._unparsedData["jira.webresources:default-comment-security-level.DefaultCommentSecurityLevelHelpLink"]="{\"extraClasses\":\"default-comment-level-help\",\"title\":\"Commenting on an Issue\",\"url\":\"https://docs.atlassian.com/jira/jcore-docs-076/Editing+and+collaborating+on+issues#Editingandcollaboratingonissues-restrictacomment\",\"isLocal\":false}";
WRM._unparsedData["jira.webresources:dateFormatProvider.allFormats"]="{\"dateFormats\":{\"meridiem\":[\"AM\",\"PM\"],\"eras\":[\"BC\",\"AD\"],\"months\":[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],\"monthsShort\":[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],\"weekdaysShort\":[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"],\"weekdays\":[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"]},\"lookAndFeelFormats\":{\"relativize\":\"true\",\"time\":\"HH:mm\",\"day\":\"EEEE HH:mm\",\"dmy\":\"dd/MMM/yy\",\"complete\":\"dd/MMM/yy HH:mm\"}}";
WRM._unparsedData["com.atlassian.jira.jira-issue-nav-components:issueviewer.features"]="{\"rteEnabled\":true}";
WRM._unparsedData["com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone.thumbnail-mime-types"]="\"image/vnd.wap.wbmp,image/png,image/x-png,image/jpeg,image/bmp,image/gif\"";
WRM._unparsedData["com.atlassian.jira.plugins.jira-dnd-attachment-plugin:dnd-issue-drop-zone.upload-limit"]="\"62914560\"";
WRM._unparsedData["com.atlassian.plugins.helptips.jira-help-tips:help-tip-manager.JiraHelpTipData"]="{\"anonymous\":true}";
WRM._unparsedData["com.atlassian.jira.jira-view-issue-plugin:controller-subtasks.controller.subtasks.parameters"]="{\"url\":\"/rest/api/2/issue/{issueId}/subtask/move\"}";
WRM._unparsedData["com.atlassian.analytics.analytics-client:policy-update-init.policy-update-data-provider"]="false";
WRM._unparsedData["com.atlassian.analytics.analytics-client:programmatic-analytics-init.programmatic-analytics-data-provider"]="false";
WRM._unparsedData["jira.webresources:avatar-picker.data"]="{}";
WRM._unparsedData["com.atlassian.feedback.jira-feedback-plugin:button-resources-init.data"]="{\"jira.feedback.plugin.issue.collector.core\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"jira.feedback.plugin.issue.collector.default\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"jira.feedback.plugin.issue.collector.service.desk\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector.js?locale=en-UK&collectorId=a698db21\",\"jira.feedback.plugin.issue.collector.software\":\"https://jira.atlassian.com/s/576e9ab86257d4f65f6ea5b6dd50de44-T/en_UK3ljiw5/71006/b6b48b2829824b869586ac216d119363/2.0.11/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-UK&collectorId=abbf546d\",\"isHeaderFeedbackButtonEnabled\":true}";
WRM._unparsedData["com.atlassian.jira.jira-header-plugin:dismissedFlags.flags"]="{\"dismissed\":[]}";
WRM._unparsedData["com.atlassian.jira.jira-header-plugin:newsletter-signup-tip-init.newsletterSignup"]="{\"signupDescription\":\"Get updates, inspiration and best practices from the team behind JIRA.\",\"formUrl\":\"https://www.atlassian.com/apis/exact-target/{0}/subscribe?mailingListId=1401671\",\"signupTitle\":\"Sign up!\",\"signupId\":\"newsletter-signup-tip\",\"showNewsletterTip\":false}";
WRM._unparsedData["com.atlassian.jira.project-templates-plugin:project-templates-plugin-resources.ptAnalyticsData"]="{\"instanceCreatedDate\":\"2011-01-31\"}";
WRM._unparsedData["com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources.help-data"]="{\"showHelp\":true,\"editorDocumentationUrl\":[\"https://docs.atlassian.com/jira/jcore-docs-076/Visual+editing\"],\"editorDocumentationTitle\":[\"Show me documentation for the visual editor\"]}";
WRM._unparsedData["com.atlassian.jira.plugins.jira-wiki-editor:wiki-editor-resources.thumbnails-allowed"]="false";
WRM._unparsedData["jira.webresources:user-message-flags.adminLockout"]="{}";
WRM._unparsedData["jira.request.correlation-id"]="\"b5b9bebd3a6fee\"";
WRM._unparsedData["project-id"]="10594";
WRM._unparsedData["project-key"]="\"DERBY\"";
WRM._unparsedData["project-name"]="\"Derby\"";
WRM._unparsedData["project-type"]="\"software\"";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:generic-filters"]="[{\"id\":\"allissues\",\"jql\":\"project = \\\"{0}\\\" ORDER BY {1}\",\"defaultOrderby\":\"created DESC\",\"label\":\"All issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[]},{\"id\":\"allopenissues\",\"jql\":\"project = \\\"{0}\\\" AND resolution = Unresolved ORDER BY {1}\",\"defaultOrderby\":\"priority DESC, updated DESC\",\"label\":\"Open issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"resolution\"]},{\"id\":\"doneissues\",\"jql\":\"project = \\\"{0}\\\" AND statusCategory = Done ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Done issues\",\"requiresUser\":false,\"supportsInlineIssueCreate\":false,\"fields\":[\"status\"]},{\"id\":\"recentlyviewed\",\"jql\":\"project = \\\"{0}\\\" AND issuekey in issueHistory() ORDER BY {1}\",\"defaultOrderby\":\"lastViewed DESC\",\"label\":\"Viewed recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"issuekey\"]},{\"id\":\"addedrecently\",\"jql\":\"project = \\\"{0}\\\" AND created \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"created DESC\",\"label\":\"Created recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"created\"]},{\"id\":\"resolvedrecently\",\"jql\":\"project = \\\"{0}\\\" AND resolutiondate \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Resolved recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":false,\"fields\":[\"resolutiondate\"]},{\"id\":\"updatedrecently\",\"jql\":\"project = \\\"{0}\\\" AND updated \u003e= -1w ORDER BY {1}\",\"defaultOrderby\":\"updated DESC\",\"label\":\"Updated recently\",\"requiresUser\":false,\"supportsInlineIssueCreate\":true,\"fields\":[\"updated\"]}]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:default-filter-priority"]="[\"allopenissues\",\"allissues\"]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:can-manage-filters"]="false";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:project-filters"]="[]";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:can-create-issues"]="false";
WRM._unparsedData["projectId"]="10594";
WRM._unparsedData["projectKey"]="\"DERBY\"";
WRM._unparsedData["projectType"]="\"software\"";
WRM._unparsedData["com.atlassian.jira.jira-projects-issue-navigator:server-rendered"]="true";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/a8a4711bc3f2eb261d8c8fd9fbcbba8b-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1fca1750044f2777c977e8d8cc023344/_/download/contextbatch/css/_super/batch.css" data-wrm-key="_super" data-wrm-batch-type="context" media="all"> 
  <link type="text/css" rel="stylesheet" href="/jira/s/74ac580603ca910fff0cfdf319e54add-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/fbf45109b31165e5b7740a9d72318cea/_/download/contextbatch/css/project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super/batch.css?agile_global_admin_condition=true&amp;hc-enabled=true&amp;is-server-instance=true&amp;jag=true&amp;jira.create.linked.issue=true&amp;nps-acknowledged=true&amp;richediton=true" data-wrm-key="project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super" data-wrm-batch-type="context" media="all"> 
  <link type="text/css" rel="stylesheet" href="/jira/s/611672383f6cab00ab202241ba6f9d68-T/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/7.6.3/_/download/batch/com.atlassian.feedback.jira-feedback-plugin:button-resources-init/com.atlassian.feedback.jira-feedback-plugin:button-resources-init.css" data-wrm-key="com.atlassian.feedback.jira-feedback-plugin:button-resources-init" data-wrm-batch-type="resource" media="all"> 
  <script type="text/javascript" src="/jira/s/98ceb006e504d7924d5ffc411626c6bc-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1fca1750044f2777c977e8d8cc023344/_/download/contextbatch/js/_super/batch.js?locale=en-UK" data-wrm-key="_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/c1e4d26ea276469807c3dc0918df482c-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/fbf45109b31165e5b7740a9d72318cea/_/download/contextbatch/js/project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super/batch.js?agile_global_admin_condition=true&amp;hc-enabled=true&amp;is-server-instance=true&amp;jag=true&amp;jira.create.linked.issue=true&amp;locale=en-UK&amp;nps-acknowledged=true&amp;richediton=true" data-wrm-key="project.issue.navigator,jira.view.issue,jira.global,atl.general,jira.general,-_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/6bf9253c8d533109c3b02e26794be24e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/871d45c9f322a22cb3aa9b7948a69803/_/download/contextbatch/js/atl.global,-_super/batch.js?locale=en-UK" data-wrm-key="atl.global,-_super" data-wrm-batch-type="context" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:calendar-en/jira.webresources:calendar-en.js" data-wrm-key="jira.webresources:calendar-en" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:calendar-localisation-moment/jira.webresources:calendar-localisation-moment.js" data-wrm-key="jira.webresources:calendar-localisation-moment" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/7.6.3/_/download/batch/com.atlassian.feedback.jira-feedback-plugin:button-resources/com.atlassian.feedback.jira-feedback-plugin:button-resources.js" data-wrm-key="com.atlassian.feedback.jira-feedback-plugin:button-resources" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/ccd2e67b523185973473e8bd5735c8f9-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/e0de73613a1027de08f3da6a45e1d1a2/_/download/contextbatch/css/jira.global.look-and-feel,-_super/batch.css" data-wrm-key="jira.global.look-and-feel,-_super" data-wrm-batch-type="context" media="all"> 
  <script type="text/javascript" src="/jira/rest/api/1.0/shortcuts/76005/33e5e0166867c8c9228d44506f60b2e8/shortcuts.js?context=issuenavigation&amp;context=issueaction"></script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["com.atlassian.jira.jira-issue-nav-components:inline-edit-enabled"]="true";
WRM._unparsedData["should-display-chaperone"]="false";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <link type="text/css" rel="stylesheet" href="/jira/s/15712b600e9aecf72ffd9fd3704a0c78-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/6b22a15c7b83f87a47b1757076f43542/_/download/contextbatch/css/com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue/batch.css?jira.create.linked.issue=true&amp;richediton=true" data-wrm-key="com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue" data-wrm-batch-type="context" media="all"> 
  <script type="text/javascript" src="/jira/s/6579b6b8ba67abaa496e39b9242a18a4-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/6b22a15c7b83f87a47b1757076f43542/_/download/contextbatch/js/com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue/batch.js?jira.create.linked.issue=true&amp;locale=en-UK&amp;richediton=true" data-wrm-key="com.atlassian.jira.projects.sidebar.init,-_super,-project.issue.navigator,-jira.view.issue" data-wrm-batch-type="context" data-initially-rendered></script> 
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge"> 
  <meta name="ajs-can-search-users" content="false"> 
  <meta name="ajs-can-edit-watchers" content="false"> 
  <meta name="ajs-default-avatar-url" content="https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10453"> 
  <meta name="ajs-issue-project-type" content="software"> 
  <meta name="ajs-issue-key" content="DERBY-803"> 
  <meta name="ajs-server-view-issue-is-editable" content="false"> 
  <title>[DERBY-803] derbynet/DerbyNetAutoStart.java test fails intermittently with org.apache.derby.iapi.services.context.ShutdownException - ASF JIRA</title> 
  <link rel="search" type="application/opensearchdescription+xml" href="/jira/osd.jsp" title="[DERBY-803] derbynet/DerbyNetAutoStart.java test fails intermittently with org.apache.derby.iapi.services.context.ShutdownException - ASF JIRA"> 
 </head> 
 <body id="jira" class="aui-layout aui-theme-default " data-version="7.6.3"> 
  <div id="page"> 
   <header id="header" role="banner"> 
    <script>
require(["jquery", "jira/license-banner"], function ($, licenseBanner) {
    $(function () {
        licenseBanner.showLicenseBanner("");
        licenseBanner.showLicenseFlag("");
    });
});
</script> 
    <nav class="aui-header aui-dropdown2-trigger-group" role="navigation">
     <div class="aui-header-inner">
      <div class="aui-header-before">
       <a class=" aui-dropdown2-trigger app-switcher-trigger" aria-controls="app-switcher" aria-haspopup="true" role="button" tabindex="0" data-aui-trigger href="#app-switcher"><span class="aui-icon aui-icon-small aui-iconfont-appswitcher">Linked Applications</span></a>
       <div id="app-switcher" class="aui-dropdown2 aui-style-default" role="menu" aria-hidden="true" data-is-switcher="true" data-environment="{&quot;isUserAdmin&quot;:false,&quot;isAppSuggestionAvailable&quot;:false,&quot;isSiteAdminUser&quot;:false}">
        <div role="application">
         <div class="app-switcher-loading">
          Loadingâ€¦
         </div>
        </div>
       </div>
      </div>
      <div class="aui-header-primary">
       <h1 id="logo" class="aui-header-logo aui-header-logo-custom"><a href="https://issues.apache.org/jira/secure/MyJiraHome.jspa"><img src="/jira/s/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/_/jira-logo-scaled.png" alt="ASF JIRA"></a></h1>
       <ul class="aui-nav">
        <li><a href="/jira/secure/Dashboard.jspa" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="home_link" aria-haspopup="true" aria-controls="home_link-content" title="View and manage your dashboards" accesskey="d">Dashboards</a>
         <div class="aui-dropdown2 aui-style-default" id="home_link-content" data-aui-dropdown2-ajax-key="home_link"></div></li>
        <li><a href="/jira/browse/DERBY" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="browse_link" aria-haspopup="true" aria-controls="browse_link-content" title="View recent projects and browse a list of projects" accesskey="p">Projects</a>
         <div class="aui-dropdown2 aui-style-default" id="browse_link-content" data-aui-dropdown2-ajax-key="browse_link"></div></li>
        <li><a href="/jira/issues/" class=" aui-nav-link aui-dropdown2-trigger aui-dropdown2-ajax" id="find_link" aria-haspopup="true" aria-controls="find_link-content" title="Search for issues and view recent issues" accesskey="i">Issues</a>
         <div class="aui-dropdown2 aui-style-default" id="find_link-content" data-aui-dropdown2-ajax-key="find_link"></div></li> 
       </ul>
      </div>
      <div class="aui-header-secondary">
       <ul class="aui-nav">
        <li id="quicksearch-menu"> 
         <form action="/jira/secure/QuickSearch.jspa" method="get" id="quicksearch" class="aui-quicksearch dont-default-focus ajs-dirty-warning-exempt"> 
          <input id="quickSearchInput" class="search" type="text" title="Search" placeholder="Search" name="searchString" accessKey="q"> 
          <input type="submit" class="hidden" value="Search"> 
         </form> </li> 
        <li><a class="jira-feedback-plugin" role="button" aria-haspopup="true" id="jira-header-feedback-link" href="#"><span class="aui-icon aui-icon-small jira-feedback-plugin-icon">Give feedback to Atlassian</span></a></li> 
        <li id="system-help-menu"> <a class="aui-nav-link aui-dropdown2-trigger" id="help_menu" aria-haspopup="true" aria-owns="system-help-menu-content" href="https://docs.atlassian.com/jira/jcore-docs-076/" target="$textUtils.htmlEncode($rootHelpMenuItem.params.target)" title="Help"><span class="aui-icon aui-icon-small aui-iconfont-help">Help</span></a> 
         <div id="system-help-menu-content" class="aui-dropdown2 aui-style-default"> 
          <div class="aui-dropdown2-section"> 
           <ul id="jira-help" class="aui-list-truncate"> 
            <li> <a id="view_core_help" class="aui-nav-link " title="Go to the online documentation for JIRA Core" href="https://docs.atlassian.com/jira/jcore-docs-076/" target="_blank">JIRA Core help</a> </li> 
            <li> <a id="keyshortscuthelp" class="aui-nav-link " title="Get more information about JIRA's Keyboard Shortcuts" href="/jira/secure/ViewKeyboardShortcuts!default.jspa" target="_blank">Keyboard Shortcuts</a> </li> 
            <li> <a id="view_about" class="aui-nav-link " title="Get more information about JIRA" href="/jira/secure/AboutPage.jspa">About JIRA</a> </li> 
            <li> <a id="view_credits" class="aui-nav-link " title="See who did what" href="/jira/secure/JiraCreditsPage!default.jspa" target="_blank">JIRA Credits</a> </li> 
           </ul> 
          </div> 
         </div> </li> 
        <li id="user-options"> <a class="aui-nav-link login-link" href="/jira/login.jsp?os_destination=%2Fbrowse%2FDERBY-803">Log In</a> 
         <div id="user-options-content" class="aui-dropdown2 aui-style-default"> 
          <div class="aui-dropdown2-section"> 
          </div> 
         </div> </li> 
       </ul>
      </div>
     </div>
     <!-- .aui-header-inner-->
    </nav>
    <!-- .aui-header --> 
   </header> 
   <section id="content" role="main"> 
    <big-pipe data-id="sidebar-id" unresolved></big-pipe>
    <div class="aui-sidebar  sidebar-placeholder">
     <div class="aui-sidebar-wrapper">
      <div class="aui-sidebar-body"></div>
      <div class="aui-sidebar-footer">
       <a class="aui-button aui-button-subtle aui-sidebar-toggle aui-sidebar-footer-tipsy" data-tooltip="Expand sidebar ( [ )" href="#"><span class="aui-icon aui-icon-small"></span></a>
      </div>
     </div>
    </div>
    <script id="projects-sidebar-init">
    require(['jira/projects/sidebar/expansion-manager'], function(expansionManager) {
        var scriptTag = document.getElementById('projects-sidebar-init');
        var sidebar = AJS.sidebar('.aui-sidebar');
        expansionManager(sidebar);
        scriptTag.parentElement.removeChild(scriptTag);
    });
    </script>
    <div class="aui-page-panel">
     <div class="aui-page-panel-inner">
      <div class="issue-navigator">
       <div class="content">
        <div class="issue-view">
         <div class="navigation-tools">
          <div class="pager-container"></div>
         </div>
         <div class="issue-container">
          <div id="issue-content" class="issue-edit-form">
           <header id="stalker" class="issue-header js-stalker">
            <div class="issue-header-content">
             <header class="aui-page-header">
              <div class="aui-page-header-inner">
               <div class="aui-page-header-image">
                <span id="10594" class="aui-avatar aui-avatar-large aui-avatar-project"><span class="aui-avatar-inner"><img id="project-avatar" alt="Uploaded image for project: 'Derby'" src="https://issues.apache.org/jira/secure/projectavatar?pid=10594&amp;avatarId=10122"></span></span>
               </div>
               <!-- .aui-page-header-image -->
               <div class="aui-page-header-main">
                <ol class="aui-nav aui-nav-breadcrumbs">
                 <li><a id="project-name-val" href="/jira/browse/DERBY">Derby</a></li>
                 <li><a class="issue-link" data-issue-key="DERBY-803" href="/jira/browse/DERBY-803" id="key-val" rel="12327439">DERBY-803</a></li>
                </ol>
                <h1 id="summary-val">derbynet/DerbyNetAutoStart.java test fails intermittently with org.apache.derby.iapi.services.context.ShutdownException</h1>
               </div>
               <!-- .aui-page-header-main -->
               <div class="aui-page-header-actions">
                <div id="issue-header-pager"></div>
               </div>
               <!-- .aui-page-header-actions -->
              </div>
              <!-- .aui-page-header-inner -->
             </header>
             <!-- .aui-page-header -->
             <div class="command-bar">
              <div class="ops-cont">
               <div class="ops-menus aui-toolbar">
                <div class="toolbar-split toolbar-split-left">
                 <ul id="opsbar-ops-login-lnk_container" class="toolbar-group pluggable-ops">
                  <li class="toolbar-item"><a id="ops-login-lnk" title="Log In" class="toolbar-trigger" href="/jira/login.jsp?os_destination=%2Fbrowse%2FDERBY-803"><span class="trigger-label">Log In</span></a></li>
                 </ul>
                 <ul id="opsbar-opsbar-operations" class="toolbar-group pluggable-ops"></ul>
                 <ul id="opsbar-opsbar-transitions" class="toolbar-group pluggable-ops"></ul>
                 <ul id="opsbar-opsbar-admin" class="toolbar-group pluggable-ops"></ul>
                </div>
                <div class="toolbar-split toolbar-split-right">
                 <ul id="opsbar-jira.issue.tools" class="toolbar-group pluggable-ops">
                  <li class="toolbar-item">
                   <div>
                    <a href="#" id="viewissue-export" aria-owns="viewissue-export_drop" aria-haspopup="true" title="Export this issue in another format" class="toolbar-trigger aui-button aui-style-default aui-dropdown2-trigger"><span class="icon icon-default aui-icon aui-icon-small aui-iconfont-export"></span> <span class="dropdown-text">Export</span></a>
                    <div id="viewissue-export_drop" class="aui-style-default aui-dropdown2">
                     <ul>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-xml/DERBY-803/DERBY-803.xml" id="jira.issueviews:issue-xml"><span class="trigger-label">XML</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-word/DERBY-803/DERBY-803.doc" id="jira.issueviews:issue-word"><span class="trigger-label">Word</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/jira.issueviews:issue-html/DERBY-803/DERBY-803.html" id="jira.issueviews:issue-html"><span class="trigger-label">Printable</span></a></li>
                      <li class="aui-list-item"><a href="/jira/si/com.atlassian.jira.plugins.jira-importers-plugin:issue-json/DERBY-803/DERBY-803.json" id="com.atlassian.jira.plugins.jira-importers-plugin:issue-json"><span class="trigger-label">JSON</span></a></li>
                     </ul>
                    </div>
                   </div></li>
                 </ul>
                </div>
               </div>
              </div>
             </div>
            </div>
           </header>
           <div class="issue-body-content">
            <div class="aui-group issue-body">
             <div class="aui-item issue-main-column">
              <div id="details-module" class="module toggle-wrap">
               <div id="details-module_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Details</h2>
               </div>
               <div class="mod-content"> 
                <ul id="issuedetails" class="property-list two-cols"> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Type:</strong> 
                   <span id="type-val" class="value"> <img alt="" height="16" src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype" title="Bug - A problem which impairs or prevents the functions of the product." width="16"> Bug </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Status:</strong> 
                   <span id="status-val" class="value"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done jira-issue-status-lozenge-max-width-medium" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </span> 
                  </div> </li> 
                 <li class="item new"> 
                  <div class="wrap"> 
                   <strong class="name">Priority:</strong> 
                   <span id="priority-val" class="value"> <img alt="" height="16" src="/jira/images/icons/priorities/major.svg" title="Major - Major loss of function." width="16"> Major </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Resolution:</strong> 
                   <span id="resolution-val" class="value resolved"> Fixed </span> 
                  </div> </li> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Affects Version/s:</strong> 
                   <span id="versions-val" class="value"> <span class="shorten" id="versions-field"> <span title="10.1.3.2 ">10.1.3.2</span>, <span title="10.2.1.6 ">10.2.1.6</span>, <span title="10.3.1.4 ">10.3.1.4</span> </span> </span> 
                  </div> </li> 
                 <li class="item item-right"> 
                  <div class="wrap"> 
                   <strong class="name">Fix Version/s:</strong> 
                   <span id="fixfor-val" class="value"> <span class="shorten" id="fixVersions-field"> <a href="/jira/issues/?jql=project+%3D+DERBY+AND+fixVersion+%3D+10.2.1.6" title="10.2.1.6 ">10.2.1.6</a> </span> </span> 
                  </div> </li> 
                 <li class="item"> 
                  <div class="wrap"> 
                   <strong class="name">Component/s:</strong> 
                   <span id="components-val" class="value"> <span class="shorten" id="components-field"> <a href="/jira/issues/?jql=project+%3D+DERBY+AND+component+%3D+%22Network+Server%22" title="Network Server ">Network Server</a> </span> </span> 
                  </div> </li> 
                 <li class="item full-width"> 
                  <div class="wrap" id="wrap-labels"> 
                   <strong class="name">Labels:</strong> 
                   <div class="labels-wrap value"> 
                    <span class="labels" id="labels-12327439-value">None</span> 
                   </div> 
                  </div> </li> 
                </ul> 
                <div id="customfieldmodule"> 
                 <div class="aui-tabs horizontal-tabs" id="customfield-tabs"> 
                  <div id="customfield-panel-1" class="tabs-pane active-pane"> 
                   <ul class="property-list"> 
                    <li id="rowForcustomfield_12310200" class="item"> 
                     <div class="wrap"> 
                      <strong title="Bug behavior facts" class="name">Bug behavior facts:</strong> 
                      <div id="customfield_12310200-val" class="value type-multicheckboxes" data-fieldtype="multicheckboxes" data-fieldtypecompletekey="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes"> 
                       <div class="shorten" id="customfield_12310200-field"> 
                        <span>Regression Test Failure</span> 
                       </div> 
                      </div> 
                     </div> </li> 
                   </ul> 
                  </div> 
                 </div>
                </div> 
               </div>
              </div>
              <div id="descriptionmodule" class="module toggle-wrap">
               <div id="descriptionmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Description</h2>
               </div>
               <div class="mod-content">
                <div id="description-val" class="field-ignore-highlight"> 
                 <div class="user-content-block"> 
                  <p>DerbyNetAutoStart fails intermittently with the following diff:</p> 
                  <p>This issue is likely related to <a href="https://issues.apache.org/jira/browse/DERBY-1020" title="Network Server treats errors on cleanup of connections as an unexpected error after intentional shutdown of the database/server" class="issue-link" data-issue-key="DERBY-1020">DERBY-1020</a></p> 
                  <ul> 
                   <li> 
                    <ul> 
                     <li> 
                      <ul> 
                       <li> 
                        <ul> 
                         <li> 
                          <ul> 
                           <li> 
                            <ul> 
                             <li> 
                              <ul> 
                               <li> 
                                <ul> 
                                 <li> 
                                  <ul> 
                                   <li>Diff file derbyall/derbynetmats/DerbyNet/derbynetmats/DerbyNetAutoStart.diff</li> 
                                  </ul> </li> 
                                </ul> </li> 
                              </ul> </li> 
                            </ul> </li> 
                          </ul> </li> 
                        </ul> </li> 
                       <li>Start: DerbyNetAutoStart jdk1.4.2 DerbyNet derbynetmats:derbynetmats 2006-01-05 23:39:40 ***<br> 1a2,3<br> &gt; org.apache.derby.iapi.services.context.ShutdownException: <br> &gt; at org.apache.derby.impl.drda.Session.close(Unknown Source)agentThread<span class="error">[DRDAConnThread_3,5,derby.daemons]</span><br> Test Failed.</li> 
                       <li>End: DerbyNetAutoStart jdk1.4.2 DerbyNet derbynetmats:derbynetmats 2006-01-05 23:41:10 ***</li> 
                      </ul> </li> 
                    </ul> </li> 
                  </ul> 
                 </div> 
                </div> 
               </div>
              </div>
              <div id="dnd-metadata" class="module toggle-wrap">
               <div id="dnd-metadata_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Attachments</h2>
               </div>
               <div class="mod-content">
                <div id="dnd-metadata-webpanel" data-can-attach="false" data-project-type="software" data-upload-limit="62914560" data-thumbnails-allowed="false"></div>
               </div>
              </div>
              <div id="attachmentmodule" class="module toggle-wrap">
               <div id="attachmentmodule_heading" class="mod-header">
                <ul class="ops">
                 <li class="drop">
                  <div class="aui-dd-parent">
                   <a href="#" class="icon drop-menu js-default-dropdown" title="Options"><span>Options</span></a>
                   <div class="aui-dropdown-content aui-list">
                    <ul id="attachment-sorting-options" class="aui-list-section aui-first">
                     <li class="aui-list-item"><a id="attachment-sort-key-name" href="/jira/browse/DERBY-803?attachmentSortBy=fileName#attachmentmodule" class="aui-list-checked aui-checked aui-list-item-link" title="viewissue.subtasks.tab.show.all.name"><span>Sort By Name</span></a></li>
                     <li class="aui-list-item"><a id="attachment-sort-key-date" href="/jira/browse/DERBY-803?attachmentSortBy=dateTime#attachmentmodule" class="aui-list-checked aui-list-item-link" title="Sort By Date"><span>Sort By Date</span></a></li>
                    </ul>
                    <ul id="attachment-sorting-order-options" class="aui-list-section aui-last">
                     <li class="aui-list-item"><a id="attachment-sort-direction-asc" href="/jira/browse/DERBY-803?attachmentOrder=asc#attachmentmodule" class="aui-list-checked aui-checked aui-list-item-link" title="Ascending"><span>Ascending</span></a></li>
                     <li class="aui-list-item"><a id="attachment-sort-direction-desc" href="/jira/browse/DERBY-803?attachmentOrder=desc#attachmentmodule" class="aui-list-checked aui-list-item-link" title="Descending"><span>Descending</span></a></li>
                    </ul>
                   </div>
                  </div></li>
                </ul>
                <h2 class="toggle-title">Attachments</h2>
               </div>
               <div class="mod-content">
                <ol id="file_attachments" class="item-attachments" data-sort-key="fileName" data-sort-order="asc">
                 <li class="attachment-content js-file-attachment" data-attachment-id="12340570" data-issue-id="12327439" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12340570/derby-803.diff" draggable="true" data-downloadurl="text/x-diff:derby-803.diff:https://issues.apache.org/jira/secure/attachment/12340570/derby-803.diff"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12340570/derby-803.diff" title="Latest  11/Sep/06 13:46" draggable="true" data-downloadurl="text/x-diff:derby-803.diff:https://issues.apache.org/jira/secure/attachment/12340570/derby-803.diff">derby-803.diff</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2006-09-11T13:46:48.000Z">11/Sep/06 13:46</time>
                   </dd>
                   <dd class="attachment-size">
                    0.7 kB
                   </dd>
                   <dd class="attachment-author"></dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12340571" data-issue-id="12327439" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12340571/derby-803.stat" draggable="true" data-downloadurl="application/octet-stream:derby-803.stat:https://issues.apache.org/jira/secure/attachment/12340571/derby-803.stat"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12340571/derby-803.stat" title="Latest  11/Sep/06 13:46" draggable="true" data-downloadurl="application/octet-stream:derby-803.stat:https://issues.apache.org/jira/secure/attachment/12340571/derby-803.stat">derby-803.stat</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2006-09-11T13:46:48.000Z">11/Sep/06 13:46</time>
                   </dd>
                   <dd class="attachment-size">
                    0.2 kB
                   </dd>
                   <dd class="attachment-author"></dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12337644" data-issue-id="12327439" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12337644/suggestion-803.diff" draggable="true" data-downloadurl="text/x-patch:suggestion-803.diff:https://issues.apache.org/jira/secure/attachment/12337644/suggestion-803.diff"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12337644/suggestion-803.diff" title="Latest  27/Jul/06 15:22 - Fernanda Pizzorno" draggable="true" data-downloadurl="text/x-patch:suggestion-803.diff:https://issues.apache.org/jira/secure/attachment/12337644/suggestion-803.diff">suggestion-803.diff</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2006-07-27T15:22:24.000Z">27/Jul/06 15:22</time>
                   </dd>
                   <dd class="attachment-size">
                    3 kB
                   </dd>
                   <dd class="attachment-author">
                    Fernanda Pizzorno
                   </dd>
                  </dl></li>
                 <li class="attachment-content js-file-attachment" data-attachment-id="12337645" data-issue-id="12327439" data-attachment-type="file">
                  <div class="attachment-thumb">
                   <a href="/jira/secure/attachment/12337645/suggestion-803.stat" draggable="true" data-downloadurl="application/octet-stream:suggestion-803.stat:https://issues.apache.org/jira/secure/attachment/12337645/suggestion-803.stat"><span class="aui-icon aui-icon-small attachment-icon aui-iconfont-devtools-file" title="File"></span></a>
                  </div>
                  <dl>
                   <dt class="attachment-title">
                    <a href="/jira/secure/attachment/12337645/suggestion-803.stat" title="Latest  27/Jul/06 15:22 - Fernanda Pizzorno" draggable="true" data-downloadurl="application/octet-stream:suggestion-803.stat:https://issues.apache.org/jira/secure/attachment/12337645/suggestion-803.stat">suggestion-803.stat</a>
                   </dt>
                   <dd class="attachment-delete">
                    <span class="icon"></span>
                   </dd>
                   <dd class="attachment-date">
                    <time class="livestamp" datetime="2006-07-27T15:22:24.000Z">27/Jul/06 15:22</time>
                   </dd>
                   <dd class="attachment-size">
                    0.3 kB
                   </dd>
                   <dd class="attachment-author">
                    Fernanda Pizzorno
                   </dd>
                  </dl></li>
                </ol>
               </div>
              </div>
              <div id="linkingmodule" class="module toggle-wrap">
               <div id="linkingmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Issue Links</h2>
               </div>
               <div class="mod-content"> 
                <div class="links-container" data-default-link-icon="/jira/images/icons/generic_link_16.png"> 
                 <dl class="links-list "> 
                  <dt title="is related to">
                   is related to
                  </dt> 
                  <dd id="internal-12329278_10030"> 
                   <div class="link-content"> 
                    <p> <img src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype" width="16" height="16" title="Bug - A problem which impairs or prevents the functions of the product." alt="Bug - A problem which impairs or prevents the functions of the product."> <span title="DERBY-1020: Network Server treats errors on cleanup of connections as an unexpected error after intentional shutdown of the database/server"> <a href="/jira/browse/DERBY-1020" data-issue-key="DERBY-1020" class="issue-link link-title">DERBY-1020</a> <span class="link-summary">Network Server treats errors on cleanup of connections as an unexpected error after intentional shutdown of the database/server</span> </span> </p> 
                    <ul class="link-snapshot"> 
                     <li class="priority"> <img src="/jira/images/icons/priorities/minor.svg" width="16" height="16" title="Minor - Minor loss of function, or other problem where easy workaround is present." alt="Minor - Minor loss of function, or other problem where easy workaround is present."> </li> 
                     <li class="status"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-blue-gray jira-issue-status-lozenge-new aui-lozenge-subtle jira-issue-status-lozenge-max-width-short" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Open</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is open and ready for the assignee to start work on it.</span>">Open</span> </li> 
                    </ul> 
                   </div> 
                  </dd> 
                  <dd id="internal-32498_10030"> 
                   <div class="link-content"> 
                    <p> <img src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype" width="16" height="16" title="Bug - A problem which impairs or prevents the functions of the product." alt="Bug - A problem which impairs or prevents the functions of the product."> <span title="DERBY-273: The derbynet/dataSourcePermissions_net.java test fails intermittently"> <a href="/jira/browse/DERBY-273" data-issue-key="DERBY-273" class="issue-link link-title resolution">DERBY-273</a> <span class="link-summary">The derbynet/dataSourcePermissions_net.java test fails intermittently</span> </span> </p> 
                    <ul class="link-snapshot"> 
                     <li class="priority"> <img src="/jira/images/icons/priorities/major.svg" width="16" height="16" title="Major - Major loss of function." alt="Major - Major loss of function."> </li> 
                     <li class="status"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done aui-lozenge-subtle jira-issue-status-lozenge-max-width-short" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </li> 
                    </ul> 
                   </div> 
                  </dd> 
                  <dd id="internal-12348473_10030"> 
                   <div class="link-content"> 
                    <p> <img src="/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype" width="16" height="16" title="Bug - A problem which impairs or prevents the functions of the product." alt="Bug - A problem which impairs or prevents the functions of the product."> <span title="DERBY-1751: derbynet/testSecMec.java fails with ShutdownException in DerbyNetClient framework"> <a href="/jira/browse/DERBY-1751" data-issue-key="DERBY-1751" class="issue-link link-title resolution">DERBY-1751</a> <span class="link-summary">derbynet/testSecMec.java fails with ShutdownException in DerbyNetClient framework</span> </span> </p> 
                    <ul class="link-snapshot"> 
                     <li class="priority"> <img src="/jira/images/icons/priorities/minor.svg" width="16" height="16" title="Minor - Minor loss of function, or other problem where easy workaround is present." alt="Minor - Minor loss of function, or other problem where easy workaround is present."> </li> 
                     <li class="status"> <span class=" jira-issue-status-lozenge aui-lozenge jira-issue-status-lozenge-green jira-issue-status-lozenge-done aui-lozenge-subtle jira-issue-status-lozenge-max-width-short" data-tooltip="<span class=&quot;jira-issue-status-tooltip-title&quot;>Closed</span><br><span class=&quot;jira-issue-status-tooltip-desc&quot;>The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.</span>">Closed</span> </li> 
                    </ul> 
                   </div> 
                  </dd> 
                 </dl> 
                </div> 
               </div>
              </div>
              <div id="activitymodule" class="module toggle-wrap">
               <div id="activitymodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Activity</h2>
               </div>
               <div class="mod-content"> 
                <big-pipe data-id="activity-panel-pipe-id" style="height: 70px"> 
                 <div></div> 
                </big-pipe> 
               </div>
              </div>
             </div>
             <div id="viewissuesidebar" class="aui-item issue-side-column">
              <div id="peoplemodule" class="module toggle-wrap">
               <div id="peoplemodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">People</h2>
               </div>
               <div class="mod-content"> 
                <ul class="item-details" id="peopledetails"> 
                 <li class="people-details"> 
                  <dl> 
                   <dt>
                    Assignee:
                   </dt> 
                   <dd> 
                    <span id="assignee-val" class="view-issue-field"> <span class="user-hover" id="issue_summary_assignee_fernanda" rel="fernanda" data-user="{&quot;avatarUrl&quot;:&quot;https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10452&quot;,&quot;displayName&quot;:&quot;Fernanda Pizzorno&quot;,&quot;emailAddress&quot;:&quot;fernanda.pizzorno.derby@gmail.com&quot;,&quot;username&quot;:&quot;fernanda&quot;}"> <span class="aui-avatar aui-avatar-small"><span class="aui-avatar-inner"><img src="https://issues.apache.org/jira/secure/useravatar?size=small&amp;avatarId=10452" alt="fernanda"></span></span> Fernanda Pizzorno </span> </span> 
                   </dd> 
                  </dl> 
                  <dl> 
                   <dt>
                    Reporter:
                   </dt> 
                   <dd> 
                    <span id="reporter-val" class="view-issue-field"> <span class="user-hover" id="issue_summary_reporter_kmarsden" rel="kmarsden" data-user="{&quot;avatarUrl&quot;:&quot;https://issues.apache.org/jira/secure/useravatar?size=xsmall&amp;avatarId=10452&quot;,&quot;displayName&quot;:&quot;Kathey Marsden&quot;,&quot;emailAddress&quot;:&quot;kmarsdenderby@sbcglobal.net&quot;,&quot;username&quot;:&quot;kmarsden&quot;}"> <span class="aui-avatar aui-avatar-small"><span class="aui-avatar-inner"><img src="https://issues.apache.org/jira/secure/useravatar?size=small&amp;avatarId=10452" alt="kmarsden"></span></span> Kathey Marsden </span> </span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
                <ul class="item-details"> 
                 <li> 
                  <dl> 
                   <dt>
                    Votes:
                   </dt> 
                   <dd> 
                    <span id="vote-data" class="aui-badge vote-state-off">0</span> 
                    <span id="vote-label" title="You have to be logged in to vote for an issue.">Vote for this issue</span> 
                   </dd> 
                  </dl> 
                  <dl> 
                   <dt>
                    Watchers:
                   </dt> 
                   <dd> 
                    <span id="watcher-data" class="aui-badge watch-state-off">0</span> 
                    <span id="watch-label" title="You have to be logged in to watch an issue.">Start watching this issue</span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
               </div>
              </div>
              <div id="datesmodule" class="module toggle-wrap">
               <div id="datesmodule_heading" class="mod-header">
                <ul class="ops"></ul>
                <h2 class="toggle-title">Dates</h2>
               </div>
               <div class="mod-content"> 
                <ul class="item-details"> 
                 <li> 
                  <dl class="dates"> 
                   <dt>
                    Created:
                   </dt> 
                   <dd class="date user-tz" title="10/Jan/06 04:21"> 
                    <span data-name="Created" id="created-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2006-01-10T04:21:52+0000">10/Jan/06 04:21</time> </span> 
                   </dd> 
                  </dl> 
                  <dl class="dates"> 
                   <dt>
                    Updated:
                   </dt> 
                   <dd class="date user-tz" title="01/Jul/09 00:09"> 
                    <span data-name="Updated" id="updated-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2009-07-01T00:09:14+0000">01/Jul/09 00:09</time> </span> 
                   </dd> 
                  </dl> 
                  <dl class="dates"> 
                   <dt>
                    Resolved:
                   </dt> 
                   <dd class="date user-tz" title="19/Sep/06 06:57"> 
                    <span data-name="Resolved" id="resolutiondate-val" data-fieldtype="datetime"> <time class="livestamp" datetime="2006-09-19T06:57:31+0000">19/Sep/06 06:57</time> </span> 
                   </dd> 
                  </dl> </li> 
                </ul> 
               </div>
              </div>
             </div>
            </div>
           </div>
          </div>
         </div>
        </div>
       </div>
      </div>
     </div>
     <!-- .aui-page-panel-inner -->
    </div>
    <!-- .aui-page-panel -->
    <div class="issue-navigator-init"></div> 
   </section> 
   <footer id="footer" role="contentinfo"> 
    <section class="footer-body"> 
     <ul class="atlassian-footer"> 
      <li> Atlassian JIRA <a class="seo-link" rel="nofollow" href="https://www.atlassian.com/software/jira">Project Management Software</a> <span id="footer-build-information">(v7.6.3#76005-<span title="8a4e38d34af948780dbf52044e7aafb13a7cae58" data-commit-id="8a4e38d34af948780dbf52044e7aafb13a7cae58}">sha1:8a4e38d</span>)</span> </li> 
      <li> <a id="about-link" rel="nofollow" href="/jira/secure/AboutPage.jspa/secure/AboutPage.jspa">About JIRA</a> </li> 
      <li> <a id="footer-report-problem-link" rel="nofollow" href="/jira/secure/CreateIssue!default.jspa">Report a problem</a> </li> 
     </ul> 
     <ul class="atlassian-footer"> 
      <li class="licensemessage"> Powered by a free Atlassian <a rel="nofollow" href="http://www.atlassian.com/software/jira">JIRA</a> open source license for Apache Software Foundation. Try JIRA - <a rel="nofollow" href="http://www.atlassian.com/software/jira">bug tracking software</a> for <i>your</i> team. </li> 
     </ul> 
     <div id="footer-logo">
      <a rel="nofollow" href="http://www.atlassian.com/">Atlassian</a>
     </div> 
    </section> 
    <fieldset class="hidden parameters"> 
     <input type="hidden" title="loggedInUser" value=""> 
     <input type="hidden" title="ajaxTimeout" value="The call to the JIRA server did not complete within the timeout period.  We are unsure of the result of this operation."> 
     <input type="hidden" title="JiraVersion" value="7.6.3"> 
     <input type="hidden" title="ajaxUnauthorised" value="You are not authorised to perform this operation. Please log in."> 
     <input type="hidden" title="baseURL" value="https://issues.apache.org/jira"> 
     <input type="hidden" title="ajaxCommsError" value="The JIRA server could not be contacted. This may be a temporary glitch or the server may be down. "> 
     <input type="hidden" title="ajaxServerError" value="The JIRA server was contacted but has returned an error response. We are unsure of the result of this operation."> 
     <input type="hidden" title="ajaxErrorCloseDialog" value="Close this dialog and press refresh in your browser"> 
     <input type="hidden" title="ajaxErrorDialogHeading" value="Communications Breakdown"> 
     <input type="hidden" title="dirtyMessage" value="You have entered new data on this page. If you navigate away from this page without first saving your data, the changes will be lost."> 
     <input type="hidden" title="dirtyDialogMessage" value="You have entered new data in this dialog. If you navigate away from this dialog without first saving your data, the changes will be lost. Click cancel to return to the dialog."> 
     <input type="hidden" title="keyType" value="Type"> 
     <input type="hidden" title="keyThen" value="then"> 
     <input type="hidden" title="dblClickToExpand" value="Double click to expand"> 
     <input type="hidden" title="actions" value="Actions"> 
     <input type="hidden" title="removeItem" value="Remove"> 
     <input type="hidden" title="workflow" value="Workflow"> 
     <input type="hidden" title="labelNew" value="New Label"> 
     <input type="hidden" title="issueActionsHint" value="Begin typing for available operations or press down to see all"> 
     <input type="hidden" title="closelink" value="Close"> 
     <input type="hidden" title="dotOperations" value="Operations"> 
     <input type="hidden" title="dotLoading" value="Loading..."> 
     <input type="hidden" title="frotherSuggestions" value="Suggestions"> 
     <input type="hidden" title="frotherNomatches" value="No Matches"> 
     <input type="hidden" title="multiselectVersionsError" value="{0} is not a valid version."> 
     <input type="hidden" title="multiselectComponentsError" value="{0} is not a valid component."> 
     <input type="hidden" title="multiselectGenericError" value="The value {0} is invalid."> 
    </fieldset> 
   </footer> 
  </div> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:bigpipe-js/jira.webresources:bigpipe-js.js" data-wrm-key="jira.webresources:bigpipe-js" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["activity-panel-pipe-id"]="\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n    \u003cdiv class=\\\"tabwrap tabs2\\\"\u003e\\n\\n        \u003cul id=\\\"issue-tabs\\\" class=\\\"tabs horizontal\\\"\u003e\\n                                \\n            \u003cli  data-id=\\\"all-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\" data-label=\\\"All\\\" data-href=\\\"\\/jira\\/browse\\/DERBY-803?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"all-tabpanel\\\" href=\\\"\\/jira\\/browse\\/DERBY-803?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel\\\"\u003e\u003cstrong\u003eAll\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  class=\\\"active\\\" id=\\\"comment-tabpanel\\\"  data-id=\\\"comment-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel\\\" data-label=\\\"Comments\\\" data-href=\\\"\\/jira\\/browse\\/DERBY-803?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel\\\"\u003e\\n                            \u003cstrong tabindex=\\\"0\\\"\u003eComments\u003c\\/strong\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"worklog-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\" data-label=\\\"Work Log\\\" data-href=\\\"\\/jira\\/browse\\/DERBY-803?page=com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"worklog-tabpanel\\\" href=\\\"\\/jira\\/browse\\/DERBY-803?page=com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel\\\"\u003e\u003cstrong\u003eWork Log\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"changehistory-tabpanel\\\" data-key=\\\"com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\" data-label=\\\"History\\\" data-href=\\\"\\/jira\\/browse\\/DERBY-803?page=com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"changehistory-tabpanel\\\" href=\\\"\\/jira\\/browse\\/DERBY-803?page=com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel\\\"\u003e\u003cstrong\u003eHistory\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"activity-stream-issue-tab\\\" data-key=\\\"com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\" data-label=\\\"Activity\\\" data-href=\\\"\\/jira\\/browse\\/DERBY-803?page=com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"activity-stream-issue-tab\\\" href=\\\"\\/jira\\/browse\\/DERBY-803?page=com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\\\"\u003e\u003cstrong\u003eActivity\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                                \\n            \u003cli  data-id=\\\"transitions-summary-tabpanel\\\" data-key=\\\"com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\" data-label=\\\"Transitions\\\" data-href=\\\"\\/jira\\/browse\\/DERBY-803?page=com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\"\u003e\\n                            \u003ca class=\\\"ajax-activity-content\\\" id=\\\"transitions-summary-tabpanel\\\" href=\\\"\\/jira\\/browse\\/DERBY-803?page=com.googlecode.jira-suite-utilities:transitions-summary-tabpanel\\\"\u003e\u003cstrong\u003eTransitions\u003c\\/strong\u003e\u003c\\/a\u003e\\n                        \u003c\\/li\u003e\\n                \u003c\\/ul\u003e\\n\\n                    \u003cdiv class=\\\"sortwrap\\\"\u003e\\n                                    \u003ca class=\\\"issue-activity-sort-link ajax-activity-content\\\" rel=\\\"nofollow\\\" data-tab-sort data-order=\\\"desc\\\" href=\\\"\\/jira\\/browse\\/DERBY-803?actionOrder=desc\\\" title=\\\"Ascending order - Click to sort in descending order\\\"\u003e\\n                        \u003cspan class=\\\"aui-icon aui-icon-small aui-iconfont-up\\\"\u003eAscending order - Click to sort in descending order\u003c\\/span\u003e\\n                    \u003c\\/a\u003e\\n                            \u003c\\/div\u003e\\n            \u003c\\/div\u003e\\n    \u003cdiv class=\\\"issuePanelWrapper\\\"\u003e\\n        \u003cdiv class=\\\"issuePanelProgress\\\"\u003e\u003c\\/div\u003e\\n        \u003cdiv class=\\\"issuePanelContainer\\\" id=\\\"issue_actions_container\\\"\u003e\\n                                    \\n\\n\\n\u003cdiv id=\\\"comment-12362239\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-803?focusedCommentId=12362239&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12362239\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kmarsden\\\" id=\\\"commentauthor_12362239_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kmarsden\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kmarsden\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Kathey Marsden\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12362239_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'10\\/Jan\\/06 04:24\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-01-10T04:24:22+0000\'\u003e10\\/Jan\\/06 04:24\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eIn this test an intentional shutdown causes the close of the connection by network server to encounter an error that prints to the console.  It appears it may be  the same issue as  \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-273\\\" title=\\\"The derbynet\\/dataSourcePermissions_net.java test fails intermittently\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-273\\\"\u003e\u003cdel\u003eDERBY-273\u003c\\/del\u003e\u003c\\/a\u003e.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"kmarsden\\\" id=\\\"commentauthor_12362239_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=kmarsden\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"kmarsden\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Kathey Marsden\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12362239_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'10\\/Jan\\/06 04:24\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-01-10T04:24:22+0000\'\u003e10\\/Jan\\/06 04:24\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    In this test an intentional shutdown causes the close of the connection by network server to encounter an error that prints to the console.  It appears it may be  the same issue as    DERBY-273  .              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12414324\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-803?focusedCommentId=12414324&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12414324\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"deepa\\\" id=\\\"commentauthor_12414324_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=deepa\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=34050\\\" alt=\\\"deepa\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Deepa Remesh\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12414324_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'02\\/Jun\\/06 07:15\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-06-02T07:15:54+0000\'\u003e02\\/Jun\\/06 07:15\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI have not been able to repro this intermittent failure on my machine. I was using the stack traces attached to \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-273\\\" title=\\\"The derbynet\\/dataSourcePermissions_net.java test fails intermittently\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-273\\\"\u003e\u003cdel\u003eDERBY-273\u003c\\/del\u003e\u003c\\/a\u003e to try to understand the scenario. I am thinking of following options to solve this problem:\u003c\\/p\u003e\\n\\n\u003cp\u003e1. Solve the intermittent test failure by using the same solution as in \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-273\\\" title=\\\"The derbynet\\/dataSourcePermissions_net.java test fails intermittently\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-273\\\"\u003e\u003cdel\u003eDERBY-273\u003c\\/del\u003e\u003c\\/a\u003e. This will solve the test issue.\u003cbr\\/\u003e\\n2. Try to see if we can distinguish \\\"expected\\\" exceptions during shutdown and ignore them. However, I don\'t see a clear way of distinguishing this.\u003cbr\\/\u003e\\n3. I think the following thread explains the scenario:\u003cbr\\/\u003e\\n\u003ca href=\\\"http:\\/\\/www.nabble.com\\/-jira--Commented%3A-%28DERBY-273%29-The-derbynet-dataSourcePermissions_net.java-test-fails-intermittently-p190292.html\\\" class=\\\"external-link\\\" rel=\\\"nofollow\\\"\u003ehttp:\\/\\/www.nabble.com\\/-jira--Commented%3A-%28DERBY-273%29-The-derbynet-dataSourcePermissions_net.java-test-fails-intermittently-p190292.html\u003c\\/a\u003e\u003c\\/p\u003e\\n\\n\u003cp\u003eScenario is: Server is shutdown. One of the threads finds that the client has disconnected. It tries to close the session but gets an exception during rollback because the shutdown has already taken place.\u003c\\/p\u003e\\n\\n\u003cp\u003eThe code where closeSession gets called is in DRDAConnThread.run method:\u003c\\/p\u003e\\n\\n\u003cp\u003e} catch (Exception e) {\u003cbr\\/\u003e\\n\\t\\t\\t\\tif (e instanceof DRDAProtocolException &amp;&amp; \u003cbr\\/\u003e\\n\\t\\t\\t\\t\\t\\t((DRDAProtocolException)e).isDisconnectException())\u003c\\/p\u003e\\n\\t\\t\\t\\t{\\n\\t\\t\\t\\t \\t\\/\\/ client went away - this is O.K. here\\n\\t\\t\\t\\t\\tcloseSession();\\n\\t\\t\\t\\t}\\n\u003cp\u003e\\t\\t\\t\\telse\u003c\\/p\u003e\\n\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\thandleException(e);\\n\\t\\t\\t\\t}\\n\u003cp\u003e\\t\\t\\t}\u003c\\/p\u003e\\n\\n\u003cp\u003eIn this scenario, since the client has already disconnected, can we ignore the exceptions when closing the session? Then, we can pass a flag to closeSession method asking to ignore exceptions if we are calling it when we receive a DisconnectException in the server. Any comments\\/suggestions ? \u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"deepa\\\" id=\\\"commentauthor_12414324_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=deepa\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=34050\\\" alt=\\\"deepa\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Deepa Remesh\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12414324_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'02\\/Jun\\/06 07:15\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-06-02T07:15:54+0000\'\u003e02\\/Jun\\/06 07:15\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I have not been able to repro this intermittent failure on my machine. I was using the stack traces attached to   DERBY-273   to try to understand the scenario. I am thinking of following options to solve this problem: \\n\\n 1. Solve the intermittent test failure by using the same solution as in   DERBY-273  . This will solve the test issue. \\n2. Try to see if we can distinguish \\\"expected\\\" exceptions during shutdown and ignore them. However, I don\'t see a clear way of distinguishing this. \\n3. I think the following thread explains the scenario: \\n http:\\/\\/www.nabble.com\\/-jira--Commented%3A-%28DERBY-273%29-The-derbynet-dataSourcePermissions_net.java-test-fails-intermittently-p190292.html  \\n\\n Scenario is: Server is shutdown. One of the threads finds that the client has disconnected. It tries to close the session but gets an exception during rollback because the shutdown has already taken place. \\n\\n The code where closeSession gets called is in DRDAConnThread.run method: \\n\\n } catch (Exception e) { \\n\\t\\t\\t\\tif (e instanceof DRDAProtocolException &amp;&amp;  \\n\\t\\t\\t\\t\\t\\t((DRDAProtocolException)e).isDisconnectException()) \\n\\t\\t\\t\\t{\\n\\t\\t\\t\\t \\t\\/\\/ client went away - this is O.K. here\\n\\t\\t\\t\\t\\tcloseSession();\\n\\t\\t\\t\\t}\\n \\t\\t\\t\\telse \\n\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\thandleException(e);\\n\\t\\t\\t\\t}\\n \\t\\t\\t} \\n\\n In this scenario, since the client has already disconnected, can we ignore the exceptions when closing the session? Then, we can pass a flag to closeSession method asking to ignore exceptions if we are calling it when we receive a DisconnectException in the server. Any comments\\/suggestions ?               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12416098\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-803?focusedCommentId=12416098&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12416098\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mikem\\\" id=\\\"commentauthor_12416098_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mikem\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mikem\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mike Matrigali\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12416098_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'14\\/Jun\\/06 05:56\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-06-14T05:56:55+0000\'\u003e14\\/Jun\\/06 05:56\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI got the diff in a run against trunk - build 413780\u003c\\/p\u003e\\n\\n\u003cp\u003eFailure Details:\u003c\\/p\u003e\\n\u003cul\u003e\\n\\t\u003cli\u003e\\n\\t\u003cul\u003e\\n\\t\\t\u003cli\u003e\\n\\t\\t\u003cul\u003e\\n\\t\\t\\t\u003cli\u003e\\n\\t\\t\\t\u003cul\u003e\\n\\t\\t\\t\\t\u003cli\u003e\\n\\t\\t\\t\\t\u003cul\u003e\\n\\t\\t\\t\\t\\t\u003cli\u003e\\n\\t\\t\\t\\t\\t\u003cul\u003e\\n\\t\\t\\t\\t\\t\\t\u003cli\u003e\\n\\t\\t\\t\\t\\t\\t\u003cul\u003e\\n\\t\\t\\t\\t\\t\\t\\t\u003cli\u003e\\n\\t\\t\\t\\t\\t\\t\\t\u003cul\u003e\\n\\t\\t\\t\\t\\t\\t\\t\\t\u003cli\u003e\\n\\t\\t\\t\\t\\t\\t\\t\\t\u003cul\u003e\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\u003cli\u003eDiff file derbyall\\/derbynetclientmats\\/DerbyNetClient\\/derbynetmats\\/derbynetmats\\/DerbyNetAutoStart.diff\u003c\\/li\u003e\\n\\t\\t\\t\\t\\t\\t\\t\\t\u003c\\/ul\u003e\\n\\t\\t\\t\\t\\t\\t\\t\\t\u003c\\/li\u003e\\n\\t\\t\\t\\t\\t\\t\\t\u003c\\/ul\u003e\\n\\t\\t\\t\\t\\t\\t\\t\u003c\\/li\u003e\\n\\t\\t\\t\\t\\t\\t\u003c\\/ul\u003e\\n\\t\\t\\t\\t\\t\\t\u003c\\/li\u003e\\n\\t\\t\\t\\t\\t\u003c\\/ul\u003e\\n\\t\\t\\t\\t\\t\u003c\\/li\u003e\\n\\t\\t\\t\\t\u003c\\/ul\u003e\\n\\t\\t\\t\\t\u003c\\/li\u003e\\n\\t\\t\\t\u003c\\/ul\u003e\\n\\t\\t\\t\u003c\\/li\u003e\\n\\t\\t\\t\u003cli\u003eStart: DerbyNetAutoStart jdk1.5.0_02 DerbyNetClient derbynetmats:derbynetmats 2006-06-12 21:15:02 ***\u003cbr\\/\u003e\\n2a3,4\u003cbr\\/\u003e\\n&gt; SQL Exception: No current connection.\u003cbr\\/\u003e\\n&gt; agentThread\u003cspan class=\\\"error\\\"\u003e&#91;DRDAConnThread_7,5,derby.daemons&#93;\u003c\\/span\u003e\u003cbr\\/\u003e\\nTest Failed.\u003c\\/li\u003e\\n\\t\\t\\t\u003cli\u003eEnd:   DerbyNetAutoStart jdk1.5.0_02 DerbyNetClient derbynetmats:derbynetmats 2006-06-12 21:15:46 ***\u003c\\/li\u003e\\n\\t\\t\u003c\\/ul\u003e\\n\\t\\t\u003c\\/li\u003e\\n\\t\u003c\\/ul\u003e\\n\\t\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mikem\\\" id=\\\"commentauthor_12416098_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mikem\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mikem\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mike Matrigali\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12416098_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'14\\/Jun\\/06 05:56\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-06-14T05:56:55+0000\'\u003e14\\/Jun\\/06 05:56\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I got the diff in a run against trunk - build 413780 \\n\\n Failure Details: \\n \\n\\t \\n\\t \\n\\t\\t \\n\\t\\t \\n\\t\\t\\t \\n\\t\\t\\t \\n\\t\\t\\t\\t \\n\\t\\t\\t\\t \\n\\t\\t\\t\\t\\t \\n\\t\\t\\t\\t\\t \\n\\t\\t\\t\\t\\t\\t \\n\\t\\t\\t\\t\\t\\t \\n\\t\\t\\t\\t\\t\\t\\t \\n\\t\\t\\t\\t\\t\\t\\t \\n\\t\\t\\t\\t\\t\\t\\t\\t \\n\\t\\t\\t\\t\\t\\t\\t\\t \\n\\t\\t\\t\\t\\t\\t\\t\\t\\t Diff file derbyall\\/derbynetclientmats\\/DerbyNetClient\\/derbynetmats\\/derbynetmats\\/DerbyNetAutoStart.diff \\n\\t\\t\\t\\t\\t\\t\\t\\t \\n\\t\\t\\t\\t\\t\\t\\t\\t \\n\\t\\t\\t\\t\\t\\t\\t \\n\\t\\t\\t\\t\\t\\t\\t \\n\\t\\t\\t\\t\\t\\t \\n\\t\\t\\t\\t\\t\\t \\n\\t\\t\\t\\t\\t \\n\\t\\t\\t\\t\\t \\n\\t\\t\\t\\t \\n\\t\\t\\t\\t \\n\\t\\t\\t \\n\\t\\t\\t \\n\\t\\t\\t Start: DerbyNetAutoStart jdk1.5.0_02 DerbyNetClient derbynetmats:derbynetmats 2006-06-12 21:15:02 *** \\n2a3,4 \\n&gt; SQL Exception: No current connection. \\n&gt; agentThread &#91;DRDAConnThread_7,5,derby.daemons&#93;  \\nTest Failed. \\n\\t\\t\\t End:   DerbyNetAutoStart jdk1.5.0_02 DerbyNetClient derbynetmats:derbynetmats 2006-06-12 21:15:46 *** \\n\\t\\t \\n\\t\\t \\n\\t \\n\\t \\n \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12417196\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-803?focusedCommentId=12417196&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12417196\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"deepa\\\" id=\\\"commentauthor_12417196_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=deepa\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=34050\\\" alt=\\\"deepa\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Deepa Remesh\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12417196_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'22\\/Jun\\/06 04:40\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-06-22T04:40:33+0000\'\u003e22\\/Jun\\/06 04:40\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eOf late, I see this intermittent test failure is reported by few people. However, I have not been able to repro this issue on my machine. I am unassigning myself from this issue thinking someone else may be interested to pick it up.\u003c\\/p\u003e\\n\\n\u003cp\u003eHere is what I have found along with a recap of the discussions so far on this issue and \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-1020\\\" title=\\\"Network Server treats errors on cleanup of connections as an unexpected error after intentional shutdown of the database\\/server\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-1020\\\"\u003eDERBY-1020\u003c\\/a\u003e:\u003c\\/p\u003e\\n\\n\u003cul\u003e\\n\\t\u003cli\u003eThis test uses derby.drda.startNetworkServer property. It checks that when embedded driver is loaded, it starts network server and when we do a system shutdown, it shuts down network server.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cul\u003e\\n\\t\u003cli\u003eThe shutdown of network server happens asynchronously. DRDAServerStarter calls NetworkServerControlImpl.directShutdown which simply notifies the waiting thread and returns. Thus the shutdown of network server happens in parallel with remaining shutdown processing in the engine.\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cul\u003e\\n\\t\u003cli\u003eNetwork server shutdown involves rollback and close of the EngineConnection object. Before calling these methods, it checks that the connection is not closed. From this, it seemed that this exception can occur only if the engine shutdown takes place in the meantime (after we check conn.isClosed() and when we are in conn.rollback())\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003eI think the exception occurs when the system shutdown happens in the meantime:\u003c\\/p\u003e\\n\\n\u003cp\u003e\\t\\t\\tif ((conn != null) &amp;&amp; !conn.isClosed())\u003cbr\\/\u003e\\n\\t\\t\\t{\u003cbr\\/\u003e\\n\\t\\t\\t\\t\\/\\/ --------------------------&gt; Derby shutdown\u003cbr\\/\u003e\\n\\t\\t\\t\\tif (! forXA)\u003c\\/p\u003e\\n\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\tconn.rollback();\\n\\t\\t\\t\\t}\u003cbr\\/\u003e\\n\\t\\t\\t\\tconn.close();\\t\\t\\t\\t\\t\u003cbr\\/\u003e\\n\\t\\t\\t}\u003cbr\\/\u003e\\n\\t\\t\\t\u003cbr\\/\u003e\\n\u003cbr\\/\u003e\\nThe closest I have been able to simulating this error is only by introducing a sleep here:\u003cbr\\/\u003e\\n\u003cbr\\/\u003e\\n\\t\\t\\tif ((conn != null) &amp;&amp; !conn.isClosed())\u003cbr\\/\u003e\\n\\t\\t\\t{\u003cbr\\/\u003e\\n\\t\\t\\t\\t\\/\\/ Introduce a sleep here ... just an attempt to simulate the failure\u003cbr\\/\u003e\\n\\t\\t\\t\\ttry {\\n\\t\\t\\t\\t\\tThread.sleep(5000);\\n\\t\\t\\t\\t} catch (InterruptedException ie) {\\n\\t\\t\\t\\t\\t\\/\\/ \\n\\t\\t\\t\\t}\u003cbr\\/\u003e\\n\\t\\t\\t\\tif(conn.isClosed()) {\\n\\t\\t\\t\\t\\tSystem.out.println(\\\"Connection has been closed in the meantime !!!\\\");\\n\\t\\t\\t\\t}\u003cbr\\/\u003e\\n\u003cbr\\/\u003e\\n\\t\\t\\t\\tif (! forXA)\u003cbr\\/\u003e\\n\\t\\t\\t\\t{\\t\\t\\t\\t\\tconn.rollback();\\t\\t\\t\\t}\\n\u003cp\u003e\\t\\t\\t\\tconn.close();\\t\\t\\t\\t\\t\u003cbr\\/\u003e\\n\\t\\t\\t}\u003c\\/p\u003e\\n\\n\u003cp\u003eIf I run the test with this additional sleep, I always get \\\"Connection has been closed in the meantime !!!\\\" message and an exception in conn.rollback().\u003c\\/p\u003e\\n\\n\u003cul\u003e\\n\\t\u003cli\u003eIrrespective of where the exception happens, the gist of the problem is what Kathey reported in \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-1020\\\" title=\\\"Network Server treats errors on cleanup of connections as an unexpected error after intentional shutdown of the database\\/server\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-1020\\\"\u003eDERBY-1020\u003c\\/a\u003e (Network Server treats errors on cleanup of connections as an unexpected error after intentional shutdown of the database\\/server)\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cul\u003e\\n\\t\u003cli\u003ePossible solutions. These are just some ideas:\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n\\n\\n\u003cp\u003e1. Catch any SQLExceptions thrown in conn.rollback() and conn.close(). In the catch block, call conn.isClosed() to check if connection has been closed. If so, ignore the exception. However, this solution has drawback because we do not know if the connection is no longer active because of some unexpected event. Kathey made this comment in \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-1020\\\" title=\\\"Network Server treats errors on cleanup of connections as an unexpected error after intentional shutdown of the database\\/server\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-1020\\\"\u003eDERBY-1020\u003c\\/a\u003e \u003cbr\\/\u003e\\n\\\"\u003cbr\\/\u003e\\nIf an exception happens on rollback() or close() there are basically three scenarios\u003cbr\\/\u003e\\n.\u003cbr\\/\u003e\\n.\u003cbr\\/\u003e\\n.\u003c\\/p\u003e\\n\\n\u003cp\u003e3) The connection is no longer active because of some unexpected event like a crash. There has been some debate in the past whether this type of exception needs to be logged. I thought session level exceptions in this block of code could safely be ignored since the fact that they were session severity meant the session was shutdown. Tomohito thought it was not good to ignore them and I understand that point.\u003c\\/p\u003e\\n\\n\\n\u003cp\u003e\\\"\u003cbr\\/\u003e\\nBased on this, it may not be okay to just ignore exceptions.\u003c\\/p\u003e\\n\\n\u003cp\u003e2. Use NetworkServerControlImpl.shutdown instead of NetworkServerControlImpl.directShutdown method. This is to ensure network server has done all the cleanup related to shutdown before we proceed with rest of shutdown processing in the engine. However, this will slow down the shutdown processing.\u003c\\/p\u003e\\n\\n\u003cp\u003e3. Modify the test to redirect the exceptions during shutdown, similar to what is done in \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-273\\\" title=\\\"The derbynet\\/dataSourcePermissions_net.java test fails intermittently\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-273\\\"\u003e\u003cdel\u003eDERBY-273\u003c\\/del\u003e\u003c\\/a\u003e for dataSourcePermissions_net test. This way, we can avoid seeing the intermittent failures in the regression test runs. This will not solve the real problem. Also, we may miss some real exceptions. \u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"deepa\\\" id=\\\"commentauthor_12417196_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=deepa\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=34050\\\" alt=\\\"deepa\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Deepa Remesh\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12417196_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'22\\/Jun\\/06 04:40\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-06-22T04:40:33+0000\'\u003e22\\/Jun\\/06 04:40\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Of late, I see this intermittent test failure is reported by few people. However, I have not been able to repro this issue on my machine. I am unassigning myself from this issue thinking someone else may be interested to pick it up. \\n\\n Here is what I have found along with a recap of the discussions so far on this issue and  DERBY-1020 : \\n\\n \\n\\t This test uses derby.drda.startNetworkServer property. It checks that when embedded driver is loaded, it starts network server and when we do a system shutdown, it shuts down network server. \\n \\n\\n\\n \\n\\t The shutdown of network server happens asynchronously. DRDAServerStarter calls NetworkServerControlImpl.directShutdown which simply notifies the waiting thread and returns. Thus the shutdown of network server happens in parallel with remaining shutdown processing in the engine. \\n \\n\\n\\n \\n\\t Network server shutdown involves rollback and close of the EngineConnection object. Before calling these methods, it checks that the connection is not closed. From this, it seemed that this exception can occur only if the engine shutdown takes place in the meantime (after we check conn.isClosed() and when we are in conn.rollback()) \\n \\n\\n\\n I think the exception occurs when the system shutdown happens in the meantime: \\n\\n \\t\\t\\tif ((conn != null) &amp;&amp; !conn.isClosed()) \\n\\t\\t\\t{ \\n\\t\\t\\t\\t\\/\\/ --------------------------&gt; Derby shutdown \\n\\t\\t\\t\\tif (! forXA) \\n\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\tconn.rollback();\\n\\t\\t\\t\\t} \\n\\t\\t\\t\\tconn.close();\\t\\t\\t\\t\\t \\n\\t\\t\\t} \\n\\t\\t\\t \\n \\nThe closest I have been able to simulating this error is only by introducing a sleep here: \\n \\n\\t\\t\\tif ((conn != null) &amp;&amp; !conn.isClosed()) \\n\\t\\t\\t{ \\n\\t\\t\\t\\t\\/\\/ Introduce a sleep here ... just an attempt to simulate the failure \\n\\t\\t\\t\\ttry {\\n\\t\\t\\t\\t\\tThread.sleep(5000);\\n\\t\\t\\t\\t} catch (InterruptedException ie) {\\n\\t\\t\\t\\t\\t\\/\\/ \\n\\t\\t\\t\\t} \\n\\t\\t\\t\\tif(conn.isClosed()) {\\n\\t\\t\\t\\t\\tSystem.out.println(\\\"Connection has been closed in the meantime !!!\\\");\\n\\t\\t\\t\\t} \\n \\n\\t\\t\\t\\tif (! forXA) \\n\\t\\t\\t\\t{\\t\\t\\t\\t\\tconn.rollback();\\t\\t\\t\\t}\\n \\t\\t\\t\\tconn.close();\\t\\t\\t\\t\\t \\n\\t\\t\\t} \\n\\n If I run the test with this additional sleep, I always get \\\"Connection has been closed in the meantime !!!\\\" message and an exception in conn.rollback(). \\n\\n \\n\\t Irrespective of where the exception happens, the gist of the problem is what Kathey reported in  DERBY-1020  (Network Server treats errors on cleanup of connections as an unexpected error after intentional shutdown of the database\\/server) \\n \\n\\n\\n \\n\\t Possible solutions. These are just some ideas: \\n \\n\\n\\n 1. Catch any SQLExceptions thrown in conn.rollback() and conn.close(). In the catch block, call conn.isClosed() to check if connection has been closed. If so, ignore the exception. However, this solution has drawback because we do not know if the connection is no longer active because of some unexpected event. Kathey made this comment in  DERBY-1020   \\n\\\" \\nIf an exception happens on rollback() or close() there are basically three scenarios \\n. \\n. \\n. \\n\\n 3) The connection is no longer active because of some unexpected event like a crash. There has been some debate in the past whether this type of exception needs to be logged. I thought session level exceptions in this block of code could safely be ignored since the fact that they were session severity meant the session was shutdown. Tomohito thought it was not good to ignore them and I understand that point. \\n\\n\\n \\\" \\nBased on this, it may not be okay to just ignore exceptions. \\n\\n 2. Use NetworkServerControlImpl.shutdown instead of NetworkServerControlImpl.directShutdown method. This is to ensure network server has done all the cleanup related to shutdown before we proceed with rest of shutdown processing in the engine. However, this will slow down the shutdown processing. \\n\\n 3. Modify the test to redirect the exceptions during shutdown, similar to what is done in   DERBY-273   for dataSourcePermissions_net test. This way, we can avoid seeing the intermittent failures in the regression test runs. This will not solve the real problem. Also, we may miss some real exceptions.               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12423857\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-803?focusedCommentId=12423857&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12423857\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"fernanda\\\" id=\\\"commentauthor_12423857_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=fernanda\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"fernanda\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Fernanda Pizzorno\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12423857_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'27\\/Jul\\/06 15:22\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-07-27T15:22:24+0000\'\u003e27\\/Jul\\/06 15:22\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI have managed to reproduce this failure, and I agree with Deepa\'s interpretation of what is happening. In the attached file (suggestion-803.diff), I have implemented an alternative solution to this problem than those suggested earlier. I have added the method rollbackAndClose() to EngineConnection. This method will check that the connection is opened, rollback and close the connection in a synchronized manner. This diff is not intended to be committed but I would appreciate if someone could comment the approach. Thank you!\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"fernanda\\\" id=\\\"commentauthor_12423857_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=fernanda\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"fernanda\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Fernanda Pizzorno\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12423857_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'27\\/Jul\\/06 15:22\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-07-27T15:22:24+0000\'\u003e27\\/Jul\\/06 15:22\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I have managed to reproduce this failure, and I agree with Deepa\'s interpretation of what is happening. In the attached file (suggestion-803.diff), I have implemented an alternative solution to this problem than those suggested earlier. I have added the method rollbackAndClose() to EngineConnection. This method will check that the connection is opened, rollback and close the connection in a synchronized manner. This diff is not intended to be committed but I would appreciate if someone could comment the approach. Thank you!              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12423919\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-803?focusedCommentId=12423919&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12423919\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"deepa\\\" id=\\\"commentauthor_12423919_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=deepa\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=34050\\\" alt=\\\"deepa\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Deepa Remesh\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12423919_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'27\\/Jul\\/06 20:56\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-07-27T20:56:27+0000\'\u003e27\\/Jul\\/06 20:56\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThanks Fernanda for picking this up. \u003c\\/p\u003e\\n\\n\u003cp\u003eI am wondering if this solution will fix all cases. I think this solution is in same lines as what was discussed in \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-1020\\\" title=\\\"Network Server treats errors on cleanup of connections as an unexpected error after intentional shutdown of the database\\/server\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-1020\\\"\u003eDERBY-1020\u003c\\/a\u003e (use of forceClose() method) to do a rollback and close together. At that time itself, I was not convinced this solution will solve the problem. There are at least three different exceptions seen during shutdown in this test (stack traces are spread between \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-803\\\" title=\\\"derbynet\\/DerbyNetAutoStart.java test fails intermittently with org.apache.derby.iapi.services.context.ShutdownException\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-803\\\"\u003e\u003cdel\u003eDERBY-803\u003c\\/del\u003e\u003c\\/a\u003e, \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-273\\\" title=\\\"The derbynet\\/dataSourcePermissions_net.java test fails intermittently\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-273\\\"\u003e\u003cdel\u003eDERBY-273\u003c\\/del\u003e\u003c\\/a\u003e and \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-1020\\\" title=\\\"Network Server treats errors on cleanup of connections as an unexpected error after intentional shutdown of the database\\/server\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-1020\\\"\u003eDERBY-1020\u003c\\/a\u003e). As seen from the stack traces, these exceptions can occur at calls to conn.rollback() or conn.close().  In a previous comment, Mike had posted another exception: \\\"SQL Exception: No current connection. \\\" The full stack trace for this exception is:\u003cbr\\/\u003e\\njava.sql.SQLException: No current connection.\u003cbr\\/\u003e\\n\\tat org.apache.derby.impl.jdbc.SQLExceptionFactory.getSQLException(SQLExceptionFactory.java:44)\u003cbr\\/\u003e\\n\\tat org.apache.derby.impl.jdbc.Util.newEmbedSQLException(Util.java:88)\u003cbr\\/\u003e\\n\\tat org.apache.derby.impl.jdbc.Util.newEmbedSQLException(Util.java:104)\u003cbr\\/\u003e\\n\\tat org.apache.derby.impl.jdbc.Util.noCurrentConnection(Util.java:208)\u003cbr\\/\u003e\\n\\tat org.apache.derby.impl.jdbc.EmbedConnection.checkIfClosed(EmbedConnection.java:1335)\u003cbr\\/\u003e\\n\\tat org.apache.derby.impl.jdbc.EmbedConnection.setupContextStack(EmbedConnection.java:1513)\u003cbr\\/\u003e\\n\\tat org.apache.derby.impl.jdbc.EmbedConnection.close(EmbedConnection.java:992)\u003cbr\\/\u003e\\n\\tat org.apache.derby.impl.jdbc.EmbedConnection.close(EmbedConnection.java:970)\u003cbr\\/\u003e\\n\\tat org.apache.derby.impl.drda.Database.close(Database.java:320)\u003cbr\\/\u003e\\n\\tat org.apache.derby.impl.drda.Session.close(Session.java:110)\u003cbr\\/\u003e\\n\\tat org.apache.derby.impl.drda.DRDAConnThread.closeSession(DRDAConnThread.java:7270)\u003cbr\\/\u003e\\n\\tat org.apache.derby.impl.drda.DRDAConnThread.run(DRDAConnThread.java:269)\u003c\\/p\u003e\\n\\n\u003cp\u003eThis is similar to the exception I was getting when I was trying to simulate the failure by adding a sleep. When the network server thread was sleeping, the engine shutdown runs to completion and so I was getting  \\\"SQL Exception: No current connection. \\\".\u003c\\/p\u003e\\n\\n\u003cp\u003eI think we can get these exceptions when we call conn.close() or conn.rollback() during shutdown of network server and in the meantime engine shutdown is:\u003cbr\\/\u003e\\n1)  in progress - In this case, we get org.apache.derby.iapi.services.context.ShutdownException\u003cbr\\/\u003e\\n2)  complete  - In this case, we get java.sql.SQLException: No current connection.  \u003c\\/p\u003e\\n\\n\u003cp\u003eI may be mistaken here but just wanted to share my thoughts. \u003c\\/p\u003e\\n\\n\u003cp\u003eLeaving my thoughts aside, if this patch solves the failure on your machine, then it may be okay to proceed with this approach. I have only a small comment about the changes in the patch. It may not be okay to remove this check \\\"if ((conn != null) &amp;&amp; !conn.isClosed())\\\" before calling conn.rollbackAndClose() or conn.close() in Database.close().  I think we need to at least check the case that conn is not null.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"deepa\\\" id=\\\"commentauthor_12423919_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=deepa\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=34050\\\" alt=\\\"deepa\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Deepa Remesh\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12423919_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'27\\/Jul\\/06 20:56\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-07-27T20:56:27+0000\'\u003e27\\/Jul\\/06 20:56\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Thanks Fernanda for picking this up.  \\n\\n I am wondering if this solution will fix all cases. I think this solution is in same lines as what was discussed in  DERBY-1020  (use of forceClose() method) to do a rollback and close together. At that time itself, I was not convinced this solution will solve the problem. There are at least three different exceptions seen during shutdown in this test (stack traces are spread between   DERBY-803  ,   DERBY-273   and  DERBY-1020 ). As seen from the stack traces, these exceptions can occur at calls to conn.rollback() or conn.close().  In a previous comment, Mike had posted another exception: \\\"SQL Exception: No current connection. \\\" The full stack trace for this exception is: \\njava.sql.SQLException: No current connection. \\n\\tat org.apache.derby.impl.jdbc.SQLExceptionFactory.getSQLException(SQLExceptionFactory.java:44) \\n\\tat org.apache.derby.impl.jdbc.Util.newEmbedSQLException(Util.java:88) \\n\\tat org.apache.derby.impl.jdbc.Util.newEmbedSQLException(Util.java:104) \\n\\tat org.apache.derby.impl.jdbc.Util.noCurrentConnection(Util.java:208) \\n\\tat org.apache.derby.impl.jdbc.EmbedConnection.checkIfClosed(EmbedConnection.java:1335) \\n\\tat org.apache.derby.impl.jdbc.EmbedConnection.setupContextStack(EmbedConnection.java:1513) \\n\\tat org.apache.derby.impl.jdbc.EmbedConnection.close(EmbedConnection.java:992) \\n\\tat org.apache.derby.impl.jdbc.EmbedConnection.close(EmbedConnection.java:970) \\n\\tat org.apache.derby.impl.drda.Database.close(Database.java:320) \\n\\tat org.apache.derby.impl.drda.Session.close(Session.java:110) \\n\\tat org.apache.derby.impl.drda.DRDAConnThread.closeSession(DRDAConnThread.java:7270) \\n\\tat org.apache.derby.impl.drda.DRDAConnThread.run(DRDAConnThread.java:269) \\n\\n This is similar to the exception I was getting when I was trying to simulate the failure by adding a sleep. When the network server thread was sleeping, the engine shutdown runs to completion and so I was getting  \\\"SQL Exception: No current connection. \\\". \\n\\n I think we can get these exceptions when we call conn.close() or conn.rollback() during shutdown of network server and in the meantime engine shutdown is: \\n1)  in progress - In this case, we get org.apache.derby.iapi.services.context.ShutdownException \\n2)  complete  - In this case, we get java.sql.SQLException: No current connection.   \\n\\n I may be mistaken here but just wanted to share my thoughts.  \\n\\n Leaving my thoughts aside, if this patch solves the failure on your machine, then it may be okay to proceed with this approach. I have only a small comment about the changes in the patch. It may not be okay to remove this check \\\"if ((conn != null) &amp;&amp; !conn.isClosed())\\\" before calling conn.rollbackAndClose() or conn.close() in Database.close().  I think we need to at least check the case that conn is not null.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12430273\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-803?focusedCommentId=12430273&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12430273\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"fernanda\\\" id=\\\"commentauthor_12430273_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=fernanda\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"fernanda\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Fernanda Pizzorno\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12430273_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'24\\/Aug\\/06 15:39\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-24T15:39:09+0000\'\u003e24\\/Aug\\/06 15:39\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI have tested the solution using the rollbackAndClose() method (semantically equal to the forceClose() method discussed in \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-1020\\\" title=\\\"Network Server treats errors on cleanup of connections as an unexpected error after intentional shutdown of the database\\/server\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-1020\\\"\u003eDERBY-1020\u003c\\/a\u003e) and it actually does not help avoiding any of the exceptions seen in this issue from happening.\u003c\\/p\u003e\\n\\n\u003cp\u003eThe rollbackAndClose() method checks that the connection is open, rolls back and closes the connection synchronized on the connection. This does not prevent the exceptions from happening because the connection is being closed implicitly when the server shutdown stops the InternalDriver and\\/or the Database. Since the connection is being closed using its close method, the synchronization that was added does not prevent the connection from being closed by the shutdown (since that does not synchronize on the connection object).\u003c\\/p\u003e\\n\\n\u003cp\u003eIn my opinion there are two possible solutions for this issue: (1) change the test so that the set of exceptions will either not happen or does not show in the diff; (2) distinguish the exceptions that happen because the server was shut down from those happening for other reasons (Kathey Marsden has enumerated the scenarios in \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-1020\\\" title=\\\"Network Server treats errors on cleanup of connections as an unexpected error after intentional shutdown of the database\\/server\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-1020\\\"\u003eDERBY-1020\u003c\\/a\u003e), and ignore those that happen because the server was shut down.\u003c\\/p\u003e\\n\\n\u003cp\u003eI think that (2) is a better solution, and I was wondering whether we can say that exceptions that happen during rollbackAndClose() can be considered as exceptions that happen due to a server shutdown iff (i)the connection is closed at the time the exception happens, and (ii)the session is being closed because the client left? For example, is there any other way to stop InternalDriver and\\/or the Database than a shutdown?\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"fernanda\\\" id=\\\"commentauthor_12430273_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=fernanda\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"fernanda\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Fernanda Pizzorno\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12430273_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'24\\/Aug\\/06 15:39\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-24T15:39:09+0000\'\u003e24\\/Aug\\/06 15:39\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I have tested the solution using the rollbackAndClose() method (semantically equal to the forceClose() method discussed in  DERBY-1020 ) and it actually does not help avoiding any of the exceptions seen in this issue from happening. \\n\\n The rollbackAndClose() method checks that the connection is open, rolls back and closes the connection synchronized on the connection. This does not prevent the exceptions from happening because the connection is being closed implicitly when the server shutdown stops the InternalDriver and\\/or the Database. Since the connection is being closed using its close method, the synchronization that was added does not prevent the connection from being closed by the shutdown (since that does not synchronize on the connection object). \\n\\n In my opinion there are two possible solutions for this issue: (1) change the test so that the set of exceptions will either not happen or does not show in the diff; (2) distinguish the exceptions that happen because the server was shut down from those happening for other reasons (Kathey Marsden has enumerated the scenarios in  DERBY-1020 ), and ignore those that happen because the server was shut down. \\n\\n I think that (2) is a better solution, and I was wondering whether we can say that exceptions that happen during rollbackAndClose() can be considered as exceptions that happen due to a server shutdown iff (i)the connection is closed at the time the exception happens, and (ii)the session is being closed because the client left? For example, is there any other way to stop InternalDriver and\\/or the Database than a shutdown?              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12430632\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-803?focusedCommentId=12430632&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12430632\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"tsuresh\\\" id=\\\"commentauthor_12430632_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=tsuresh\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"tsuresh\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Suresh Thalamati\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12430632_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Aug\\/06 21:25\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-25T21:25:05+0000\'\u003e25\\/Aug\\/06 21:25\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThis test  is  failing  with  a different  error message  also , might be related to the same  issue:\u003c\\/p\u003e\\n\u003cul\u003e\\n\\t\u003cli\u003e\\n\\t\u003cul\u003e\\n\\t\\t\u003cli\u003e\\n\\t\\t\u003cul\u003e\\n\\t\\t\\t\u003cli\u003e\\n\\t\\t\\t\u003cul\u003e\\n\\t\\t\\t\\t\u003cli\u003e\\n\\t\\t\\t\\t\u003cul\u003e\\n\\t\\t\\t\\t\\t\u003cli\u003e\\n\\t\\t\\t\\t\\t\u003cul\u003e\\n\\t\\t\\t\\t\\t\\t\u003cli\u003e\\n\\t\\t\\t\\t\\t\\t\u003cul\u003e\\n\\t\\t\\t\\t\\t\\t\\t\u003cli\u003e\\n\\t\\t\\t\\t\\t\\t\\t\u003cul\u003e\\n\\t\\t\\t\\t\\t\\t\\t\\t\u003cli\u003e\\n\\t\\t\\t\\t\\t\\t\\t\\t\u003cul\u003e\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\u003cli\u003eDiff file derbynetmats\\/DerbyNet\\/derbynetmats\\/DerbyNetAutoStart.diff\u003c\\/li\u003e\\n\\t\\t\\t\\t\\t\\t\\t\\t\u003c\\/ul\u003e\\n\\t\\t\\t\\t\\t\\t\\t\\t\u003c\\/li\u003e\\n\\t\\t\\t\\t\\t\\t\\t\u003c\\/ul\u003e\\n\\t\\t\\t\\t\\t\\t\\t\u003c\\/li\u003e\\n\\t\\t\\t\\t\\t\\t\u003c\\/ul\u003e\\n\\t\\t\\t\\t\\t\\t\u003c\\/li\u003e\\n\\t\\t\\t\\t\\t\u003c\\/ul\u003e\\n\\t\\t\\t\\t\\t\u003c\\/li\u003e\\n\\t\\t\\t\\t\u003c\\/ul\u003e\\n\\t\\t\\t\\t\u003c\\/li\u003e\\n\\t\\t\\t\u003c\\/ul\u003e\\n\\t\\t\\t\u003c\\/li\u003e\\n\\t\\t\\t\u003cli\u003eStart: DerbyNetAutoStart jdk1.4.2 DerbyNet derbynetmats:derbynetmats 2006-08-25 11:00:42 ***\u003cbr\\/\u003e\\n1a2,4\u003cbr\\/\u003e\\n&gt; java.sql.SQLException: No current connection.\u003cbr\\/\u003e\\n&gt; agentError in Thread\u003cspan class=\\\"error\\\"\u003e&#91;DRDAConnThread_3,5,derby.daemons&#93;\u003c\\/span\u003e\u003cbr\\/\u003e\\n&gt; org.apache.derby.impl.drda.DRDAProtocolException: Execution failed because of Permanent Agent Error: SVRCOD = 40; RDBNAM = database1; diagnostic msg = No current connection.\u003cbr\\/\u003e\\nTest Failed.\u003c\\/li\u003e\\n\\t\\t\\t\u003cli\u003eEnd:   DerbyNetAutoStart jdk1.4.2 DerbyNet derbynetmats:derbynetmats 2006-08-25 11:01:29 ***\u003c\\/li\u003e\\n\\t\\t\u003c\\/ul\u003e\\n\\t\\t\u003c\\/li\u003e\\n\\t\u003c\\/ul\u003e\\n\\t\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"tsuresh\\\" id=\\\"commentauthor_12430632_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=tsuresh\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"tsuresh\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Suresh Thalamati\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12430632_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'25\\/Aug\\/06 21:25\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-08-25T21:25:05+0000\'\u003e25\\/Aug\\/06 21:25\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    This test  is  failing  with  a different  error message  also , might be related to the same  issue: \\n \\n\\t \\n\\t \\n\\t\\t \\n\\t\\t \\n\\t\\t\\t \\n\\t\\t\\t \\n\\t\\t\\t\\t \\n\\t\\t\\t\\t \\n\\t\\t\\t\\t\\t \\n\\t\\t\\t\\t\\t \\n\\t\\t\\t\\t\\t\\t \\n\\t\\t\\t\\t\\t\\t \\n\\t\\t\\t\\t\\t\\t\\t \\n\\t\\t\\t\\t\\t\\t\\t \\n\\t\\t\\t\\t\\t\\t\\t\\t \\n\\t\\t\\t\\t\\t\\t\\t\\t \\n\\t\\t\\t\\t\\t\\t\\t\\t\\t Diff file derbynetmats\\/DerbyNet\\/derbynetmats\\/DerbyNetAutoStart.diff \\n\\t\\t\\t\\t\\t\\t\\t\\t \\n\\t\\t\\t\\t\\t\\t\\t\\t \\n\\t\\t\\t\\t\\t\\t\\t \\n\\t\\t\\t\\t\\t\\t\\t \\n\\t\\t\\t\\t\\t\\t \\n\\t\\t\\t\\t\\t\\t \\n\\t\\t\\t\\t\\t \\n\\t\\t\\t\\t\\t \\n\\t\\t\\t\\t \\n\\t\\t\\t\\t \\n\\t\\t\\t \\n\\t\\t\\t \\n\\t\\t\\t Start: DerbyNetAutoStart jdk1.4.2 DerbyNet derbynetmats:derbynetmats 2006-08-25 11:00:42 *** \\n1a2,4 \\n&gt; java.sql.SQLException: No current connection. \\n&gt; agentError in Thread &#91;DRDAConnThread_3,5,derby.daemons&#93;  \\n&gt; org.apache.derby.impl.drda.DRDAProtocolException: Execution failed because of Permanent Agent Error: SVRCOD = 40; RDBNAM = database1; diagnostic msg = No current connection. \\nTest Failed. \\n\\t\\t\\t End:   DerbyNetAutoStart jdk1.4.2 DerbyNet derbynetmats:derbynetmats 2006-08-25 11:01:29 *** \\n\\t\\t \\n\\t\\t \\n\\t \\n\\t \\n \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12433150\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-803?focusedCommentId=12433150&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12433150\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"knutanders\\\" id=\\\"commentauthor_12433150_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=knutanders\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"knutanders\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Knut Anders Hatlen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12433150_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Sep\\/06 15:50\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-09-07T15:50:23+0000\'\u003e07\\/Sep\\/06 15:50\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eCouldn\'t we just wrap DRDAConnThread.run()\'s call to closeSession() in a synchronized block (synchronizing on NetworkServerControlImpl.getShutdownSync()) and only call it if NetworkServerControlImpl.getShutdown() returns false? The server shutdown will take care of closing the sessions anyway.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"knutanders\\\" id=\\\"commentauthor_12433150_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=knutanders\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"knutanders\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Knut Anders Hatlen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12433150_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Sep\\/06 15:50\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-09-07T15:50:23+0000\'\u003e07\\/Sep\\/06 15:50\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Couldn\'t we just wrap DRDAConnThread.run()\'s call to closeSession() in a synchronized block (synchronizing on NetworkServerControlImpl.getShutdownSync()) and only call it if NetworkServerControlImpl.getShutdown() returns false? The server shutdown will take care of closing the sessions anyway.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12433256\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-803?focusedCommentId=12433256&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12433256\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mikem\\\" id=\\\"commentauthor_12433256_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mikem\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mikem\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mike Matrigali\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12433256_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Sep\\/06 22:07\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-09-07T22:07:46+0000\'\u003e07\\/Sep\\/06 22:07\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eI am seeing the following similar to what Suresh reported, against an ibm1.4.2 jvm, against the trunk\u003c\\/p\u003e\\n\\n\u003cp\u003eGenerating report for RunSuite derbynetmats  null null DerbyNet true \u003cbr\\/\u003e\\n------------------ Java Information ------------------\u003cbr\\/\u003e\\nJava Version:    1.4.2\u003cbr\\/\u003e\\nJava Vendor:     IBM Corporation\u003cbr\\/\u003e\\nJava home:       c:\\\\cloudtst\\\\jartest\\\\ibm142\\\\jre\u003cbr\\/\u003e\\nJava classpath:  c:\\/cloudtst\\/jartest\\/classes\\/derby.jar;c:\\/cloudtst\\/jartest\\/classes\\/derbytools.jar;c:\\/cloudtst\\/jartest\\/classes\\/derbynet.jar;c:\\/cloudtst\\/jartest\\/classes\\/derbyclient.jar;c:\\/cloudtst\\/jartest\\/classes\\/functionTests.jar;c:\\/cloudtst\\/jartest\\/classes\\/derbyTesting.jar;c:\\/cloudtst\\/jartest\\/tools\\/java\\/jndi\\/fscontext.jar;c:\\/cloudtst\\/jartest\\/drda\\/jcc\\/2.6_latest\\/db2jcc.jar;c:\\/cloudtst\\/jartest\\/drda\\/jcc\\/2.6_latest\\/db2jcc_license_c.jar;c:\\/cloudtst\\/jartest\\/tools\\/java\\/junit.jar;c:\\/cloudtst\\/jartest\\/classes\\/derbyLocale_zh_TW.jar;c:\\/cloudtst\\/jartest\\/classes\\/derbyLocale_zh_CN.jar;c:\\/cloudtst\\/jartest\\/classes\\/derbyLocale_pt_BR.jar;c:\\/cloudtst\\/jartest\\/classes\\/derbyLocale_ko_KR.jar;c:\\/cloudtst\\/jartest\\/classes\\/derbyLocale_ja_JP.jar;c:\\/cloudtst\\/jartest\\/classes\\/derbyLocale_it.jar;c:\\/cloudtst\\/jartest\\/classes\\/derbyLocale_fr.jar;c:\\/cloudtst\\/jartest\\/classes\\/derbyLocale_es.jar;c:\\/cloudtst\\/jartest\\/classes\\/derbyLocale_de_DE.jar;\u003cbr\\/\u003e\\nOS name:         Windows XP\u003cbr\\/\u003e\\nOS architecture: x86\u003cbr\\/\u003e\\nOS version:      5.1\u003cbr\\/\u003e\\nJava user name:  cloudtest\u003cbr\\/\u003e\\nJava user home:  C:\\\\Documents and Settings\\\\cloudtest\u003cbr\\/\u003e\\nJava user dir:   C:\\\\cloudtst\\\\jartest\\\\JarResults.2006-09-06\\\\ibm142_derbynetmats_jcc_2.6_latest\u003cbr\\/\u003e\\njava.specification.name: Java Platform API Specification\u003cbr\\/\u003e\\njava.specification.version: 1.4\u003cbr\\/\u003e\\n--------- Derby Information --------\u003cbr\\/\u003e\\nJRE - JDBC: J2SE 1.4.2 - JDBC 3.0\u003cbr\\/\u003e\\n\u003cspan class=\\\"error\\\"\u003e&#91;C:\\\\cloudtst\\\\jartest\\\\classes\\\\derby.jar&#93;\u003c\\/span\u003e 10.3.0.0 alpha - (440936)\u003cbr\\/\u003e\\n\u003cspan class=\\\"error\\\"\u003e&#91;C:\\\\cloudtst\\\\jartest\\\\classes\\\\derbytools.jar&#93;\u003c\\/span\u003e 10.3.0.0 alpha - (440936)\u003cbr\\/\u003e\\n\u003cspan class=\\\"error\\\"\u003e&#91;C:\\\\cloudtst\\\\jartest\\\\classes\\\\derbynet.jar&#93;\u003c\\/span\u003e 10.3.0.0 alpha - (440936)\u003cbr\\/\u003e\\n\u003cspan class=\\\"error\\\"\u003e&#91;C:\\\\cloudtst\\\\jartest\\\\classes\\\\derbyClient.jar&#93;\u003c\\/span\u003e 10.3.0.0 alpha - (440936)\u003cbr\\/\u003e\\n\u003cspan class=\\\"error\\\"\u003e&#91;C:\\\\cloudtst\\\\jartest\\\\drda\\\\jcc\\\\2.6_latest\\\\db2jcc.jar&#93;\u003c\\/span\u003e 2.6 - (87)\u003cbr\\/\u003e\\n\u003cspan class=\\\"error\\\"\u003e&#91;C:\\\\cloudtst\\\\jartest\\\\drda\\\\jcc\\\\2.6_latest\\\\db2jcc_license_c.jar&#93;\u003c\\/span\u003e 2.6 - (87)\u003cbr\\/\u003e\\n------------------------------------------------------\u003c\\/p\u003e\\n\\n\\n\u003cul\u003e\\n\\t\u003cli\u003e\\n\\t\u003cul\u003e\\n\\t\\t\u003cli\u003e\\n\\t\\t\u003cul\u003e\\n\\t\\t\\t\u003cli\u003eStart: DerbyNetAutoStart jdk1.4.2 DerbyNet derbynetmats:derbynetmats 2006-09-07 11:22:14 ***\u003cbr\\/\u003e\\n1a2,4\u003cbr\\/\u003e\\n&gt; org.apache.derby.iapi.services.context.ShutdownException: \u003cbr\\/\u003e\\n&gt; agentError in Thread\u003cspan class=\\\"error\\\"\u003e&#91;DRDAConnThread_5,5,derby.daemons&#93;\u003c\\/span\u003e\u003cbr\\/\u003e\\n&gt; org.apache.derby.impl.drda.DRDAProtocolException: Execution failed because of Permanent Agent Error: SVRCOD = 40; RDBNAM = database1; diagnostic msg = Java exception: \': org.apache.derby.iapi.services.context.ShutdownException\'.\u003cbr\\/\u003e\\nTest Failed.\u003c\\/li\u003e\\n\\t\\t\\t\u003cli\u003eEnd:   DerbyNetAutoStart jdk1.4.2 DerbyNet derbynetmats:derbynetmats 2006-09-07 11:23:11 ***\u003c\\/li\u003e\\n\\t\\t\u003c\\/ul\u003e\\n\\t\\t\u003c\\/li\u003e\\n\\t\u003c\\/ul\u003e\\n\\t\u003c\\/li\u003e\\n\u003c\\/ul\u003e\\n \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"mikem\\\" id=\\\"commentauthor_12433256_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=mikem\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"mikem\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Mike Matrigali\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12433256_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'07\\/Sep\\/06 22:07\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-09-07T22:07:46+0000\'\u003e07\\/Sep\\/06 22:07\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    I am seeing the following similar to what Suresh reported, against an ibm1.4.2 jvm, against the trunk \\n\\n Generating report for RunSuite derbynetmats  null null DerbyNet true  \\n------------------ Java Information ------------------ \\nJava Version:    1.4.2 \\nJava Vendor:     IBM Corporation \\nJava home:       c:\\\\cloudtst\\\\jartest\\\\ibm142\\\\jre \\nJava classpath:  c:\\/cloudtst\\/jartest\\/classes\\/derby.jar;c:\\/cloudtst\\/jartest\\/classes\\/derbytools.jar;c:\\/cloudtst\\/jartest\\/classes\\/derbynet.jar;c:\\/cloudtst\\/jartest\\/classes\\/derbyclient.jar;c:\\/cloudtst\\/jartest\\/classes\\/functionTests.jar;c:\\/cloudtst\\/jartest\\/classes\\/derbyTesting.jar;c:\\/cloudtst\\/jartest\\/tools\\/java\\/jndi\\/fscontext.jar;c:\\/cloudtst\\/jartest\\/drda\\/jcc\\/2.6_latest\\/db2jcc.jar;c:\\/cloudtst\\/jartest\\/drda\\/jcc\\/2.6_latest\\/db2jcc_license_c.jar;c:\\/cloudtst\\/jartest\\/tools\\/java\\/junit.jar;c:\\/cloudtst\\/jartest\\/classes\\/derbyLocale_zh_TW.jar;c:\\/cloudtst\\/jartest\\/classes\\/derbyLocale_zh_CN.jar;c:\\/cloudtst\\/jartest\\/classes\\/derbyLocale_pt_BR.jar;c:\\/cloudtst\\/jartest\\/classes\\/derbyLocale_ko_KR.jar;c:\\/cloudtst\\/jartest\\/classes\\/derbyLocale_ja_JP.jar;c:\\/cloudtst\\/jartest\\/classes\\/derbyLocale_it.jar;c:\\/cloudtst\\/jartest\\/classes\\/derbyLocale_fr.jar;c:\\/cloudtst\\/jartest\\/classes\\/derbyLocale_es.jar;c:\\/cloudtst\\/jartest\\/classes\\/derbyLocale_de_DE.jar; \\nOS name:         Windows XP \\nOS architecture: x86 \\nOS version:      5.1 \\nJava user name:  cloudtest \\nJava user home:  C:\\\\Documents and Settings\\\\cloudtest \\nJava user dir:   C:\\\\cloudtst\\\\jartest\\\\JarResults.2006-09-06\\\\ibm142_derbynetmats_jcc_2.6_latest \\njava.specification.name: Java Platform API Specification \\njava.specification.version: 1.4 \\n--------- Derby Information -------- \\nJRE - JDBC: J2SE 1.4.2 - JDBC 3.0 \\n &#91;C:\\\\cloudtst\\\\jartest\\\\classes\\\\derby.jar&#93;  10.3.0.0 alpha - (440936) \\n &#91;C:\\\\cloudtst\\\\jartest\\\\classes\\\\derbytools.jar&#93;  10.3.0.0 alpha - (440936) \\n &#91;C:\\\\cloudtst\\\\jartest\\\\classes\\\\derbynet.jar&#93;  10.3.0.0 alpha - (440936) \\n &#91;C:\\\\cloudtst\\\\jartest\\\\classes\\\\derbyClient.jar&#93;  10.3.0.0 alpha - (440936) \\n &#91;C:\\\\cloudtst\\\\jartest\\\\drda\\\\jcc\\\\2.6_latest\\\\db2jcc.jar&#93;  2.6 - (87) \\n &#91;C:\\\\cloudtst\\\\jartest\\\\drda\\\\jcc\\\\2.6_latest\\\\db2jcc_license_c.jar&#93;  2.6 - (87) \\n------------------------------------------------------ \\n\\n\\n \\n\\t \\n\\t \\n\\t\\t \\n\\t\\t \\n\\t\\t\\t Start: DerbyNetAutoStart jdk1.4.2 DerbyNet derbynetmats:derbynetmats 2006-09-07 11:22:14 *** \\n1a2,4 \\n&gt; org.apache.derby.iapi.services.context.ShutdownException:  \\n&gt; agentError in Thread &#91;DRDAConnThread_5,5,derby.daemons&#93;  \\n&gt; org.apache.derby.impl.drda.DRDAProtocolException: Execution failed because of Permanent Agent Error: SVRCOD = 40; RDBNAM = database1; diagnostic msg = Java exception: \': org.apache.derby.iapi.services.context.ShutdownException\'. \\nTest Failed. \\n\\t\\t\\t End:   DerbyNetAutoStart jdk1.4.2 DerbyNet derbynetmats:derbynetmats 2006-09-07 11:23:11 *** \\n\\t\\t \\n\\t\\t \\n\\t \\n\\t \\n \\n             \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12433859\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-803?focusedCommentId=12433859&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12433859\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"fernanda\\\" id=\\\"commentauthor_12433859_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=fernanda\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"fernanda\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Fernanda Pizzorno\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12433859_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'11\\/Sep\\/06 13:57\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-09-11T13:57:20+0000\'\u003e11\\/Sep\\/06 13:57\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThe attached patch (derby-803.diff) changes the test so that the exception will not happen. I have successfully run the DerbyNetAutoStart 100 times with this patch.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"fernanda\\\" id=\\\"commentauthor_12433859_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=fernanda\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"fernanda\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Fernanda Pizzorno\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12433859_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'11\\/Sep\\/06 13:57\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-09-11T13:57:20+0000\'\u003e11\\/Sep\\/06 13:57\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    The attached patch (derby-803.diff) changes the test so that the exception will not happen. I have successfully run the DerbyNetAutoStart 100 times with this patch.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12434076\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-803?focusedCommentId=12434076&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12434076\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"knutanders\\\" id=\\\"commentauthor_12434076_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=knutanders\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"knutanders\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Knut Anders Hatlen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12434076_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Sep\\/06 07:00\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-09-12T07:00:37+0000\'\u003e12\\/Sep\\/06 07:00\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThank you, Fernanda! Although your patch only works around the problem, I think the fix is OK. The general problem is logged as \u003ca href=\\\"https:\\/\\/issues.apache.org\\/jira\\/browse\\/DERBY-1020\\\" title=\\\"Network Server treats errors on cleanup of connections as an unexpected error after intentional shutdown of the database\\/server\\\" class=\\\"issue-link\\\" data-issue-key=\\\"DERBY-1020\\\"\u003eDERBY-1020\u003c\\/a\u003e, and until it has been fixed, I think it is good to have a workaround which makes this test run cleanly. I added a comment about why the sleep was needed and committed revision 442490.\u003c\\/p\u003e\\n\\n\u003cp\u003eLeaving the issue open until it has been merged to 10.2.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"knutanders\\\" id=\\\"commentauthor_12434076_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=knutanders\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"knutanders\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Knut Anders Hatlen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12434076_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'12\\/Sep\\/06 07:00\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-09-12T07:00:37+0000\'\u003e12\\/Sep\\/06 07:00\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Thank you, Fernanda! Although your patch only works around the problem, I think the fix is OK. The general problem is logged as  DERBY-1020 , and until it has been fixed, I think it is good to have a workaround which makes this test run cleanly. I added a comment about why the sleep was needed and committed revision 442490. \\n\\n Leaving the issue open until it has been merged to 10.2.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12435705\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-803?focusedCommentId=12435705&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12435705\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"knutanders\\\" id=\\\"commentauthor_12435705_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=knutanders\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"knutanders\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Knut Anders Hatlen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12435705_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'19\\/Sep\\/06 06:57\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-09-19T06:57:30+0000\'\u003e19\\/Sep\\/06 06:57\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eMerged to 10.2 in Rick\'s mega-merge.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"knutanders\\\" id=\\\"commentauthor_12435705_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=knutanders\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"knutanders\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Knut Anders Hatlen\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12435705_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'19\\/Sep\\/06 06:57\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-09-19T06:57:30+0000\'\u003e19\\/Sep\\/06 06:57\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Merged to 10.2 in Rick\'s mega-merge.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12441314\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-803?focusedCommentId=12441314&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12441314\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"skambha\\\" id=\\\"commentauthor_12441314_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=skambha\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"skambha\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sunitha Kambhampati\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12441314_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'10\\/Oct\\/06 23:08\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-10-10T23:08:56+0000\'\u003e10\\/Oct\\/06 23:08\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eThis test fails on 10.1.3.2 also. Does it make sense for this fix to be  backported to 10.1 codeline ?\u003c\\/p\u003e\\n\\n\u003cp\u003eThanks. \u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"skambha\\\" id=\\\"commentauthor_12441314_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=skambha\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"skambha\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Sunitha Kambhampati\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12441314_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'10\\/Oct\\/06 23:08\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-10-10T23:08:56+0000\'\u003e10\\/Oct\\/06 23:08\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    This test fails on 10.1.3.2 also. Does it make sense for this fix to be  backported to 10.1 codeline ? \\n\\n Thanks.               \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \\n\\n\\n\u003cdiv id=\\\"comment-12441356\\\" class=\\\"issue-data-block activity-comment twixi-block  expanded\\\"\u003e\\n    \u003cdiv class=\\\"twixi-wrap verbose actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Collapse comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-expanded\\\"\u003e\u003cspan\u003eHide\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-links\\\"\u003e\\n                \u003ca href=\\\"\\/jira\\/browse\\/DERBY-803?focusedCommentId=12441356&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12441356\\\"\\n                   title=\\\"Right click and copy link for a permanent link to this comment.\\\" class=\\\"activitymodule-link issue-comment-action\\\"\u003e\\n                    \u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-link\\\"\u003ePermalink\u003c\\/span\u003e\u003c\\/a\u003e\\n                                            \u003c\\/div\u003e\\n            \u003cdiv class=\\\"action-details\\\"\u003e        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"fuzzylogic\\\" id=\\\"commentauthor_12441356_verbose\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=fuzzylogic\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"fuzzylogic\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Andrew McIntyre\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12441356_verbose subText\'\u003e\u003cspan class=\'date user-tz\' title=\'11\\/Oct\\/06 06:19\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-10-11T06:19:15+0000\'\u003e11\\/Oct\\/06 06:19\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e  \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n        \u003cdiv class=\\\"action-body flooded\\\"\u003e\u003cp\u003eSince this was a minor change to the test that fixed the problem, and this test is a bit of an annoyance for 10.1 testing, I merged Fernanda\'s test change to 10.1 with revision 462705.\u003c\\/p\u003e \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n    \u003cdiv class=\\\"twixi-wrap concise actionContainer\\\"\u003e\\n        \u003cdiv class=\\\"action-head\\\"\u003e\\n            \u003ca href=\\\"#\\\" title=\\\"Expand comment\\\" class=\\\"twixi\\\"\u003e\u003cspan class=\\\"icon-default aui-icon aui-icon-small aui-iconfont-collapsed\\\"\u003e\u003cspan\u003eShow\u003c\\/span\u003e\u003c\\/span\u003e\u003c\\/a\u003e\\n            \u003cdiv class=\\\"action-details flooded\\\"\u003e\\n                        \\n    \\n    \\n    \\n                \\n\\n    \u003ca class=\\\"user-hover user-avatar\\\" rel=\\\"fuzzylogic\\\" id=\\\"commentauthor_12441356_concise\\\" href=\\\"\\/jira\\/secure\\/ViewProfile.jspa?name=fuzzylogic\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-xsmall\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"https:\\/\\/issues.apache.org\\/jira\\/secure\\/useravatar?size=xsmall&amp;avatarId=10452\\\" alt=\\\"fuzzylogic\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e Andrew McIntyre\u003c\\/a\u003e\\n added a comment  - \u003cspan class=\'commentdate_12441356_concise subText\'\u003e\u003cspan class=\'date user-tz\' title=\'11\\/Oct\\/06 06:19\'\u003e\u003ctime class=\'livestamp\' datetime=\'2006-10-11T06:19:15+0000\'\u003e11\\/Oct\\/06 06:19\u003c\\/time\u003e\u003c\\/span\u003e\u003c\\/span\u003e                    Since this was a minor change to the test that fixed the problem, and this test is a bit of an annoyance for 10.1 testing, I merged Fernanda\'s test change to 10.1 with revision 462705.              \u003c\\/div\u003e\\n        \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\u003c\\/div\u003e\\n                             \u003c\\/div\u003e\\n    \u003c\\/div\u003e\\n\"";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["scope-filter-data"]="{\"createScopeActions\":[],\"scopes\":[]}";
WRM._unparsedData["sidebar-collapsed-by-default"]="true";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:can-manage"]="false";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:with-icons"]="false";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:shortcuts"]="[]";
WRM._unparsedData["com.atlassian.jira.projects.shortcuts:project-id"]="10594";
WRM._unparsedData["sidebar-id"]="\"\u003cdiv class=\\\"aui-sidebar  projects-sidebar sidebar-pending\\\" \u003e\u003cdiv class=\\\"aui-sidebar-wrapper\\\"\u003e\u003cdiv class=\\\"aui-sidebar-body\\\"\u003e\u003cheader class=\\\"aui-page-header\\\"\u003e\u003cdiv class=\\\"aui-page-header-inner\\\"\u003e\u003cdiv class=\\\"aui-page-header-image\\\"\u003e\u003ca href=\\\"\\/jira\\/projects\\/DERBY\\/summary\\\" title=\\\"Derby\\\" class=\\\"jira-project-avatar\\\"\u003e\u003cspan class=\\\"aui-avatar aui-avatar-large aui-avatar-project\\\"\u003e\u003cspan class=\\\"aui-avatar-inner\\\"\u003e\u003cimg src=\\\"\\/jira\\/secure\\/projectavatar?pid=10594&amp;avatarId=10122\\\" alt=\\\"Derby\\\" \\/\u003e\u003c\\/span\u003e\u003c\\/span\u003e\u003cimg src=\\\"data:image\\/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI\\/Pg0KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE4LjEuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPg0KPHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgdmlld0JveD0iMCAwIDMwMCAzMDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMwMCAzMDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxnIGlkPSJMYXllcl8yIj4NCgk8cGF0aCBzdHlsZT0iZmlsbDojRjc5MjMyOyIgZD0iTTE1MCwwQzY2LjY2NywwLDAsNjYuNjY3LDAsMTUwczY2LjY2NywxNTAsMTUwLDE1MHMxNTAtNjYuNjY3LDE1MC0xNTBTMjMzLjMzMywwLDE1MCwweg0KCQkgTTEzNi42NjcsMTc4LjMzM0wxMjUsMTkwbC00MS42NjctNDBMOTUsMTM4LjMzM2wzMC0zMEwxMzYuNjY3LDEyMGwtMzAsMzBMMTM2LjY2NywxNzguMzMzeiBNMjA1LDE2MS42NjdsLTMwLDMwTDE2My4zMzMsMTgwDQoJCWwzMC0zMGwtMzAtMzBMMTc1LDEwOC4zMzNMMjE2LjY2NywxNTBMMjA1LDE2MS42Njd6Ii8+DQo8L2c+DQo8Zz4NCgk8cG9seWdvbiBzdHlsZT0iZmlsbDojRkZGRkZGOyIgcG9pbnRzPSIxNzUsMTkxLjY2NyAyMDUsMTYxLjY2NyAyMTYuNjY3LDE1MCAxNzUsMTA4LjMzMyAxNjMuMzMzLDEyMCAxOTMuMzMzLDE1MCAxNjMuMzMzLDE4MCAJIi8+DQoJPHBvbHlnb24gc3R5bGU9ImZpbGw6I0ZGRkZGRjsiIHBvaW50cz0iMTI1LDEwOC4zMzMgOTUsMTM4LjMzMyA4My4zMzMsMTUwIDEyNSwxOTAgMTM2LjY2NywxNzguMzMzIDEwNi42NjcsMTUwIDEzNi42NjcsMTIwIAkiLz4NCjwvZz4NCjwvc3ZnPg0K\\\" alt=\\\"Icon indicating the project type\\\" class=\\\"jira-project-avatar-icon\\\" \\/\u003e\u003c\\/a\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-image --\u003e\u003cdiv class=\\\"aui-page-header-main\\\"\u003e\u003ch1\u003e\u003cdiv class=\\\"aui-group aui-group-split\\\"\u003e\u003cdiv class=\\\"aui-item project-title\\\"\u003e\u003ca href=\\\"\\/jira\\/projects\\/DERBY\\/summary\\\" title=\\\"Derby\\\"\u003eDerby\u003c\\/a\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/h1\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-main --\u003e\u003c\\/div\u003e\u003c!-- .aui-page-header-inner --\u003e\u003c\\/header\u003e\u003c!-- .aui-page-header --\u003e\u003cnav class=\\\"aui-navgroup aui-navgroup-vertical\\\"\u003e\u003cdiv class=\\\"aui-navgroup-inner sidebar-content-container\\\"\u003e\u003cdiv class=\\\"aui-sidebar-group aui-sidebar-group-tier-one\\\" data-id=\\\"sidebar-navigation-panel\\\"\u003e\u003cul class=\\\"aui-nav\\\"\u003e\u003cli class=\\\"aui-nav-selected\\\" \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/DERBY\\/issues\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-issue-navigator:sidebar-issue-navigator\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large icon-sidebar-issues\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Issues\\\"\u003eIssues\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003cli  \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/DERBY?selectedItem=com.atlassian.jira.jira-projects-plugin:report-page\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-plugin:report-page\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large agile-icon-report\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Reports\\\"\u003eReports\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003cli  \u003e\u003ca class=\\\"aui-nav-item \\\" href=\\\"\\/jira\\/projects\\/DERBY?selectedItem=com.atlassian.jira.jira-projects-plugin:components-page\\\" data-link-id=\\\"com.atlassian.jira.jira-projects-plugin:components-page\\\" \u003e\u003cspan class=\\\"aui-icon aui-icon-large icon-sidebar-components\\\"\u003e\u003c\\/span\u003e\u003cspan class=\\\"aui-nav-item-label\\\" title=\\\"Components\\\"\u003eComponents\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/li\u003e\u003c\\/ul\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/nav\u003e\u003c\\/div\u003e\u003cdiv class=\\\"aui-sidebar-footer\\\"\u003e\u003ca class=\\\"aui-button aui-button-subtle aui-sidebar-toggle aui-sidebar-footer-tipsy\\\" data-tooltip=\\\"Expand sidebar ( [ )\\\" href=\\\"#\\\"\u003e\u003cspan class=\\\"aui-icon aui-icon-small\\\"\u003e\u003c\\/span\u003e\u003c\\/a\u003e\u003c\\/div\u003e\u003c\\/div\u003e\u003c\\/div\u003e\"";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script> 
  <script type="text/javascript" src="/jira/s/d41d8cd98f00b204e9800998ecf8427e-CDN/3pgavk/76005/1c78b578e5c0e813799ab2baea47b6f7/1.0/_/download/batch/jira.webresources:bigpipe-init/jira.webresources:bigpipe-init.js" data-wrm-key="jira.webresources:bigpipe-init" data-wrm-batch-type="resource" data-initially-rendered></script> 
  <form id="jira_request_timing_info" class="dont-default-focus"> 
   <fieldset class="parameters hidden"> 
    <input type="hidden" title="jira.request.start.millis" value="1520238041467"> 
    <input type="hidden" title="jira.request.server.time" value="186"> 
    <input type="hidden" title="jira.request.id" value="500x94345470x2"> 
    <input type="hidden" title="jira.session.expiry.time" value="-"> 
    <input type="hidden" title="jira.session.expiry.in.mins" value="-"> 
    <input id="jiraConcurrentRequests" type="hidden" name="jira.request.concurrent.requests" value="3"> 
    <input type="hidden" title="db.reads.time.in.ms" value="35"> 
    <input type="hidden" title="db.conns.time.in.ms" value="41"> 
   </fieldset> 
  </form> 
  <!--
	                 REQUEST ID : 500x94345470x2
	          REQUEST TIMESTAMP : [05/Mar/2018:08:20:41 +0000]
	               REQUEST TIME : 0.1860
	                 ASESSIONID : -
	        CONCURRENT REQUESTS : 3

	                      db.reads : OpSnapshot{name='db.reads', invocationCount=23, elapsedTotal=35905907, elapsedMin=612897, elapsedMax=12014961, resultSetSize=0, cpuTotal=0, cpuMin=0, cpuMax=0}
	                      db.conns : OpSnapshot{name='db.conns', invocationCount=27, elapsedTotal=41701130, elapsedMin=637962, elapsedMax=12033018, resultSetSize=0, cpuTotal=0, cpuMin=0, cpuMax=0}
-->   
 </body>
</html>